<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Manuel PostGIS 3.5.2</title><link rel="stylesheet" type="text/css" href="style.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.79.2"/><meta name="description" content="PostGIS est une extension du système de base de PostgreSQL données relationnel-objet qui permet de stocker des objets SIG (Système d'Information Géographique) dans la base. PostGIS comporte un support des index spatiaux R-Tree basé sur GiST et des fonctions d'analyse et de traitement des objets SIG.  Manuel de la version 3.5.2 Ce travail est soumis à une licence Creative Commons Attribution-Share Alike 3.0 License. Vous pouvez utiliser ce matériel comme bon vous semble, mais nous vous demandons de mentionner le projet PostGIS et, dans la mesure du possible, d'ajouter un lien vers https://postgis.net."/></head><body><div class="book" id="idm1"><div class="titlepage"><div><div><h1 class="title">Manuel PostGIS 3.5.2</h1></div><div><div class="author"><h3 class="author"><span class="orgname">Le groupe de développement PostGIS</span></h3></div></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>PostGIS est une extension du système de base de <a class="link" href="https://www.postgresql.org/" target="_top">PostgreSQL</a> données relationnel-objet qui permet de stocker des objets SIG (Système d'Information Géographique) dans la base. PostGIS comporte un support des index spatiaux R-Tree basé sur GiST et des fonctions d'analyse et de traitement des objets SIG.</p><p><span class="inlinemediaobject"><img src="images/PostGIS_logo.png"/></span>
            <span class="inlinemediaobject"><img src="images/osgeo_logo.png"/></span>
      </p><p>Manuel de la version 3.5.2</p><p><span class="inlinemediaobject"><img src="images/ccbysa.png"/></span> Ce travail est soumis à une licence <a class="link" href="http://creativecommons.org/licenses/by-sa/3.0/" target="_top">Creative Commons Attribution-Share Alike 3.0 License</a>. Vous pouvez utiliser ce matériel comme bon vous semble, mais nous vous demandons de mentionner le projet PostGIS et, dans la mesure du possible, d'ajouter un lien vers <a class="link" href="https://postgis.net" target="_top">https://postgis.net</a>.</p></div></div></div><hr/></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="chapter"><a href="#postgis_introduction">1. Introduction</a></span><ul><li><span class="section"><a href="#psc">1.1. Comité de direction du projet (Project Steering Committee)</a></span></li><li><span class="section"><a href="#credits_core_present">1.2. Contributeurs cœur actuels</a></span></li><li><span class="section"><a href="#credits_core_past">1.3. Anciens contributeurs cœur</a></span></li><li><span class="section"><a href="#credits_other_contributors">1.4. Autres contributeurs</a></span></li></ul></li><li><span class="chapter"><a href="#postgis_installation">2. Installation de PostGIS</a></span><ul><li><span class="section"><a href="#install_short_version">2.1. Version courte</a></span></li><li><span class="section"><a href="#PGInstall">2.2. Compilation et installation depuis les sources</a></span></li><li><span class="section"><a href="#installing_pagc_address_standardizer">2.3. Installation et utilisation de l'extension address standardize</a></span></li><li><span class="section"><a href="#loading_extras_tiger_geocoder">2.4. Installation, mise à jour et chargement de données pour le géocodeur Tiger</a></span></li><li><span class="section"><a href="#idm989">2.5. Problèmes courants pendant l'installation</a></span></li></ul></li><li><span class="chapter"><a href="#postgis_administration">3. Administration de PostGIS</a></span><ul><li><span class="section"><a href="#database_tuning_configuration">3.1. Optimisation des performances</a></span></li><li><span class="section"><a href="#raster_configuration">3.2. Configurer la prise en charge du raster</a></span></li><li><span class="section"><a href="#create_spatial_db">3.3. Création de bases de données spatiales</a></span></li><li><span class="section"><a href="#upgrading">3.4. Mise à jour des bases de données spatiales</a></span></li></ul></li><li><span class="chapter"><a href="#using_postgis_dbmanagement">4. Gestion des données</a></span><ul><li><span class="section"><a href="#RefObject">4.1. Modèle de données spatiales</a></span></li><li><span class="section"><a href="#PostGIS_Geometry">4.2. Type de données Geometry</a></span></li><li><span class="section"><a href="#PostGIS_Geography">4.3. Type de données Geography</a></span></li><li><span class="section"><a href="#OGC_Validity">4.4. Validation de la géométrie</a></span></li><li><span class="section"><a href="#spatial_ref_sys">4.5. Systèmes de référence spatiale</a></span></li><li><span class="section"><a href="#idm2036">4.6. Tables spatiales</a></span></li><li><span class="section"><a href="#loading-data">4.7. Chargement des données spatiales</a></span></li><li><span class="section"><a href="#extracting-data">4.8. Extraction de données spatiales</a></span></li><li><span class="section"><a href="#build-indexes">4.9. Index spatiaux</a></span></li></ul></li><li><span class="chapter"><a href="#using_postgis_query">5. Requêtes spatiales</a></span><ul><li><span class="section"><a href="#eval_spatial_rel">5.1. Déterminer les relations spatiales</a></span></li><li><span class="section"><a href="#using-query-indexes">5.2. Utilisation des index spatiaux</a></span></li><li><span class="section"><a href="#examples_spatial_sql">5.3. Exemples de SQL spatial</a></span></li></ul></li><li><span class="chapter"><a href="#performance_tips">6. Conseils sur les performances</a></span><ul><li><span class="section"><a href="#small_tables_large_objects">6.1. Petites tables de grandes géométries</a></span></li><li><span class="section"><a href="#database_clustering">6.2. CLUSTER d'index géométriques</a></span></li><li><span class="section"><a href="#avoiding_dimension_conversion">6.3. Eviter les conversions de dimension</a></span></li></ul></li><li><span class="chapter"><a href="#reference">7. Référence PostGIS</a></span><ul><li><span class="section"><a href="#PostGIS_Types">7.1. Types de données PostGIS Geometry/Geography/Box</a></span></li><li><span class="section"><a href="#Management_Functions">7.2. Fonctions de gestion des tables</a></span></li><li><span class="section"><a href="#Geometry_Constructors">7.3. Constructeurs de géométries</a></span></li><li><span class="section"><a href="#Geometry_Accessors">7.4. Fonctions d'accès aux géométries</a></span></li><li><span class="section"><a href="#Geometry_Editors">7.5. Éditeurs de géométrie</a></span></li><li><span class="section"><a href="#Geometry_Validation">7.6. Validation de la géométrie</a></span></li><li><span class="section"><a href="#SRS_Functions">7.7. Fonctions des systèmes de référence spatiale</a></span></li><li><span class="section"><a href="#Geometry_Inputs">7.8. Import de géométrie</a></span></li><li><span class="section"><a href="#Geometry_Outputs">7.9. Export de géométrie</a></span></li><li><span class="section"><a href="#Operators">7.10. Opérateurs</a></span></li><li><span class="section"><a href="#Spatial_Relationships">7.11. Relations spatiales</a></span></li><li><span class="section"><a href="#Measurement_Functions">7.12. Fonctions de mesure</a></span></li><li><span class="section"><a href="#Overlay_Functions">7.13. Fonctions de superposition</a></span></li><li><span class="section"><a href="#Geometry_Processing">7.14. Traitement des géométries</a></span></li><li><span class="section"><a href="#Coverage">7.15. Couvertures</a></span></li><li><span class="section"><a href="#Affine_Transformation">7.16. Transformations affines</a></span></li><li><span class="section"><a href="#Clustering_Functions">7.17. Fonctions de clustering</a></span></li><li><span class="section"><a href="#BBox_Functions">7.18. Fonctions des boîtes de délimitation</a></span></li><li><span class="section"><a href="#Linear_Referencing">7.19. Référencement linéaire</a></span></li><li><span class="section"><a href="#Temporal">7.20. Fonctions de trajectoire</a></span></li><li><span class="section"><a href="#Version_Functions">7.21. Fonctions de version</a></span></li><li><span class="section"><a href="#PostGIS_GUC">7.22. Variables PostGIS GUC (Grand Unified Custom Variables)</a></span></li><li><span class="section"><a href="#Troubleshooting_Functions">7.23. Fonctions de dépannage</a></span></li></ul></li><li><span class="chapter"><a href="#reference_sfcgal">8. Référence des fonctions SFCGAL</a></span><ul><li><span class="section"><a href="#sfcgal_management">8.1. Fonctions de gestion de SFCGAL</a></span></li><li><span class="section"><a href="#sfcgal_accessors">8.2. Fonctions d'accès et de modifications SFCGAL</a></span></li><li><span class="section"><a href="#sfcgal_processing">8.3. Fonctions de traitement et de relation SFCGAL</a></span></li></ul></li><li><span class="chapter"><a href="#Topology">9. Topologie</a></span><ul><li><span class="section"><a href="#Topology_Types">9.1. Les types associés à "Topology"</a></span></li><li><span class="section"><a href="#Topology_Domains">9.2. Domaines de topologie</a></span></li><li><span class="section"><a href="#Topology_ManagementFunctions">9.3. Gestion de la topologie et de TopoGeometry</a></span></li><li><span class="section"><a href="#Topology_StatsManagement">9.4. Gestion des statistiques de topologie</a></span></li><li><span class="section"><a href="#Topology_Constructors">9.5. Constructeurs de topologie</a></span></li><li><span class="section"><a href="#Topology_Editing">9.6. Éditeurs de topologie</a></span></li><li><span class="section"><a href="#Topology_Accessors">9.7. Accès à la topologie</a></span></li><li><span class="section"><a href="#Topology_Processing">9.8. Traitement de la topologie</a></span></li><li><span class="section"><a href="#TopoGeometry_Constructors">9.9. Constructeurs de TopoGeometry</a></span></li><li><span class="section"><a href="#TopoGeometry_Editors">9.10. Editeurs de TopoGeometry</a></span></li><li><span class="section"><a href="#TopoGeom_Accessors">9.11. Accès aux TopoGeometry</a></span></li><li><span class="section"><a href="#TopoGeometry_Outputs">9.12. Sorties TopoGeometry</a></span></li><li><span class="section"><a href="#Topology_Relationships">9.13. Relations spatiales de topologie</a></span></li><li><span class="section"><a href="#Topology_Import_Export">9.14. Importer et exporter des topologies</a></span></li></ul></li><li><span class="chapter"><a href="#using_raster_dataman">10. Gestion des données raster, requêtes et applications</a></span><ul><li><span class="section"><a href="#RT_Loading_Rasters">10.1. Chargement et création de rasters</a></span></li><li><span class="section"><a href="#RT_Raster_Catalog">10.2. Catalogues Raster</a></span></li><li><span class="section"><a href="#RT_Raster_Applications">10.3. Créer des applications personnalisées avec PostGIS Raster</a></span></li></ul></li><li><span class="chapter"><a href="#RT_reference">11. Référence Raster</a></span><ul><li><span class="section"><a href="#Raster_Types">11.1. Types de données pour la prise en charge raster</a></span></li><li><span class="section"><a href="#Raster_Management_Functions">11.2. Gestion raster</a></span></li><li><span class="section"><a href="#Raster_Constructors">11.3. Constructeurs de raster</a></span></li><li><span class="section"><a href="#Raster_Accessors">11.4. Fonctions d'accès aux rasters</a></span></li><li><span class="section"><a href="#RasterBand_Accessors">11.5. Fonctions d'accès aux bandes raster</a></span></li><li><span class="section"><a href="#Raster_Pixel_Accessors">11.6. Fonctions d'accès et de modifications des pixels raster</a></span></li><li><span class="section"><a href="#Raster_Editors">11.7. Éditeurs de raster</a></span></li><li><span class="section"><a href="#RasterBand_Editors">11.8. Éditeurs de bandes raster</a></span></li><li><span class="section"><a href="#RasterBand_Stats">11.9. Statistiques et analyses des bandes raster</a></span></li><li><span class="section"><a href="#Raster_Inputs">11.10. Import de raster</a></span></li><li><span class="section"><a href="#Raster_Outputs">11.11. Export de raster</a></span></li><li><span class="section"><a href="#Raster_Processing_MapAlgebra">11.12. Traitement des données raster : algèbre cartographique</a></span></li><li><span class="section"><a href="#Raster_Processing_MapAlgebra_Callbacks">11.13. Fonctions de rappel intégrées d'algèbre cartographique</a></span></li><li><span class="section"><a href="#Raster_Processing_DEM">11.14. Traitement des données raster : MNT (élévation)</a></span></li><li><span class="section"><a href="#Raster_Processing_Geometry">11.15. Traitement des données raster : raster vers géométrie</a></span></li><li><span class="section"><a href="#RT_Operators">11.16. Opérateurs raster</a></span></li><li><span class="section"><a href="#Raster_Relationships">11.17. Relations spatiales entre raster et entre bandes raster</a></span></li><li><span class="section"><a href="#Raster_Tips">11.18. Astuces raster</a></span></li></ul></li><li><span class="chapter"><a href="#Extras">12. PostGIS Extras</a></span><ul><li><span class="section"><a href="#Address_Standardizer">12.1. Address Standardizer</a></span></li><li><span class="section"><a href="#Tiger_Geocoder">12.2. Géocodeur Tiger</a></span></li></ul></li><li><span class="chapter"><a href="#PostGIS_Special_Functions_Index">13. Index des fonctions spéciales de PostGIS</a></span><ul><li><span class="section"><a href="#PostGIS_Aggregate_Functions">13.1. Fonctions d'agrégation de PostGIS</a></span></li><li><span class="section"><a href="#PostGIS_Window_Functions">13.2. Fonctions Window PostGIS</a></span></li><li><span class="section"><a href="#PostGIS_SQLMM_Functions">13.3. Fonctions de PostGIS compatibles avec SQL-MM</a></span></li><li><span class="section"><a href="#PostGIS_GeographyFunctions">13.4. Fonctions d'aide au type geography de PostGIS</a></span></li><li><span class="section"><a href="#PostGIS_RasterFunctions">13.5. Fonctions de support des données raster de PostGIS</a></span></li><li><span class="section"><a href="#PostGIS_Geometry_DumpFunctions">13.6. Fonctions PostGIS de dump Geometry / Geography / Raster</a></span></li><li><span class="section"><a href="#PostGIS_BoxFunctions">13.7. Fonctions Box de PostGIS</a></span></li><li><span class="section"><a href="#PostGIS_3D_Functions">13.8. Fonctions PostGIS supportant la 3D</a></span></li><li><span class="section"><a href="#PostGIS_Curved_GeometryFunctions">13.9. Fonctions d'aide aux géométries courbes de PostGIS</a></span></li><li><span class="section"><a href="#PostGIS_PS_GeometryFunctions">13.10. Fonctions de support des surfaces polyédriques de PostGIS</a></span></li><li><span class="section"><a href="#PostGIS_TypeFunctionMatrix">13.11. Matrice d'aide aux fonctions de PostGIS</a></span></li><li><span class="section"><a href="#NewFunctions">13.12. Fonctions PostGIS nouvelles, améliorées ou modifiées</a></span></li></ul></li><li><span class="chapter"><a href="#idm52797">14. Rapporter un problème</a></span><ul><li><span class="section"><a href="#idm52799">14.1. Rapporter un problème logiciel</a></span></li><li><span class="section"><a href="#idm52810">14.2. Signaler les problèmes de documentation</a></span></li></ul></li><li><span class="appendix"><a href="#release_notes">A. Annexes</a></span><ul><li><span class="section"><a href="#idm52838">A.1. PostGIS 3.5.2</a></span></li><li><span class="section"><a href="#idm52850">A.2. PostGIS 3.5.1</a></span></li><li><span class="section"><a href="#idm52891">A.3. PostGIS 3.5.0</a></span></li></ul></li></ul></div><section class="chapter" id="postgis_introduction"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Introduction</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#psc">1.1. Comité de direction du projet (Project Steering Committee)</a></span></li><li><span class="section"><a href="#credits_core_present">1.2. Contributeurs cœur actuels</a></span></li><li><span class="section"><a href="#credits_core_past">1.3. Anciens contributeurs cœur</a></span></li><li><span class="section"><a href="#credits_other_contributors">1.4. Autres contributeurs</a></span></li></ul></div><p>PostGIS est une extension spatiale pour la base de données relationnelle PostgreSQL. Elle a été créée par Refractions Research Inc, sous la forme d'un projet de recherche sur les technologies de base de données spatiales. Refractions est une société de conseil en SIG et base de données basée à Victoria, British Columbia, Canada, et spécialisée en intégration de données et développement logiciel.</p><p>PostGIS est désormais un projet de la OSGeo Foundation. PostGIS est développé et financé par de nombreux développeurs et organismes FOSS4G dans le monde entier, qui bénéficient de manière significative de ses fonctionnalités et de sa polyvalence.</p><p>Le groupe de développement du projet PostGIS a en charge la maintenance et l'amélioration de PostGIS pour un meilleur support de fonctionnalités importantes en SIG, dans les domaines des standards OGC et SQL/MM, des constructions topologiques avancées (couvertures, surfaces, réseaux), des sources de données pour les outils graphiques de bureautique pour la visualisation et l'édition des donnée SIG, ainsi que dans le domaine des outils web.</p><section class="section" id="psc"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1.1. Comité de direction du projet (Project Steering Committee)</h2></div></div></div><p>Le comité de direction du projet (PSC) coordonne la direction générale, les cycles de publication, la documentation et les efforts spécifiques pour le projet PostGIS. De plus, le PSC fournit un support général aux utilisateurs, accepte et approuve les patches de la communauté PostGIS et vote sur divers points concernant PostGIS, tels que les accès commit pour les développeurs, les nouveaux membres du PSC ou les changements majeurs d'API. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Raúl Marín Rodríguez</span></dt><dd><p>Support MVT, Correction de bugs, Améliorations des performances et de la stabilité, Nettoyage du GitHub, Alignement de PostGIS avec les publications PostgreSQL</p></dd><dt><span class="term">Regina Obe</span></dt><dd><p>Maintenance de l'IC (intégration continue) et du site web, production Windows et builds expérimentaux, documentation, alignement de PostGIS sur les versions de PostgreSQL, support X3D, support du géocodeur TIGER, fonctions de gestion.</p></dd><dt><span class="term">Darafei Praliaskouski</span></dt><dd><p>Amélioration de l'index, correction de bugs et amélioration des fonctions de géométrie/géographie, SFCGAL, raster, curation GitHub, et maintenance ci (intégration continue).</p></dd><dt><span class="term">Paul Ramsey (Directeur)</span></dt><dd><p>Co-fondateur de PostGIS. Maintenance générale, maintenance des Geography, maintenance des index Geography et Geometry (index 2D, 3D, nD et tout index spatial), structures internes des Geometry, intégration des fonctionnalités GEOS et alignement avec les publications GEOS, alignement de PostGIS avec les publications PostgreSQL, loader/dumper, IHM de chargement Shapefile.</p></dd><dt><span class="term">Sandro Santilli</span></dt><dd><p>Corrections de bugs et maintenance, maintenance des CI (intégration continue), gestion des miroirs git, fonctions de gestion, intégration de nouvelles fonctionnalités GEOS et alignement sur les versions GEOS, support topologique, framework raster et fonctions API de bas niveau.</p></dd></dl></div></section><section class="section" id="credits_core_present"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1.2. Contributeurs cœur actuels</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Nicklas Avén</span></dt><dd><p>Améliorations et ajouts de fonctions de distance (notamment fonctions de distance 3D et relations), format de sortie Tiny WKB (TWKB) et support utilisateur</p></dd><dt><span class="term">Loïc Bartoletti</span></dt><dd><p>Améliorations et maintenance de SFCGAL et maintien de l'intégration continue</p></dd><dt><span class="term">Dan Baston</span></dt><dd><p>Ajout de fonctions sur le clustering de géométries, améliorations sur les algorithmes sur les géométries, améliorations GEOS et support utilisateur</p></dd><dt><span class="term">Martin Davis</span></dt><dd><p>Améliorations GEOS et documentation</p></dd><dt><span class="term">Björn Harrtell</span></dt><dd><p>Fonctions MapBox Vector Tile, GeoBuf et Flatgeobuf. Tests Gitea et expérimentation GitLab.</p></dd><dt><span class="term">Aliaksandr Kalenik</span></dt><dd><p>Traitement des géométries, PostgreSQL gist, correction de bugs</p></dd></dl></div></section><section class="section" id="credits_core_past"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1.3. Anciens contributeurs cœur</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Bborie Park</span></dt><dd><p>Ancien membre du PSC. Développement raster, intégration avec GDAL, loader raster, support utilisateur, correction de bugs, tests sur divers systèmes d'exploitation (Slackware, Mac, Windows, et autres)</p></dd><dt><span class="term">Mark Cave-Ayland</span></dt><dd><p>Ancien membre du PSC. Coordination de l'effort de correction de bugs et de maintenance, sélectivité et liaisons des index spatiaux, loader/dumper, IHM de chargement Shapefile, intégration et amélioration de nouvelles fonctions.</p></dd><dt><span class="term">Jorge Arévalo</span></dt><dd><p>Développement Raster, support du driver GDAL, outil de chargement</p></dd><dt><span class="term">Olivier Courtin</span></dt><dd><p>(Émérite) Fonctions d'entrée/sortie XML (KML,GML) et fonctions GeoJSON, support 3D et correction de bugs.</p></dd><dt><span class="term">Chris Hodgson</span></dt><dd><p>Ancien membre du PSC. Développement général, maintenance du site et du robot de build, gestion de l'incubation OSGeo</p></dd><dt><span class="term">Mateusz Loskot</span></dt><dd><p>Support de CMake pour PostGIS, a développé le loader raster original en python et les fonctions d'API bas-niveau raster</p></dd><dt><span class="term">Kevin Neufeld</span></dt><dd><p>Ancien membre du PSC. Documentation et outils pour la documentation, maintenance du robot de build, support utilisateur avancé sur le newsgroup PostGIS, et maintenance et améliorations des fonctions PostGIS.</p></dd><dt><span class="term">Dave Blasby</span></dt><dd><p>Développeur originel et co-fondateur de PostGIS. Dave a écrit les objets côté serveur, les liaisons des index, et de nombreuses fonctions d'analyse côté serveur.</p></dd><dt><span class="term">Jeff Lounsbury</span></dt><dd><p>Développement originel de l'outil de chargement/export de shapefiles.</p></dd><dt><span class="term">Mark Leslie</span></dt><dd><p>Maintenance générale et développement de fonctions du noyau PostGIS. Amélioration du support des courbes. Interface graphique de chargement des shapefiles.</p></dd><dt><span class="term">Pierre Racine</span></dt><dd><p>Architecte de l'implémentation raster de PostGIS. Architecture globale raster, prototypage, support au développement</p></dd><dt><span class="term">David Zwarg</span></dt><dd><p>Développement raster (principalement fonctions analytiques d'algèbre cartographique)</p></dd></dl></div></section><section class="section" id="credits_other_contributors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1.4. Autres contributeurs</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Contributeurs individuels</span></dt><dd><p>
				</p><table style="border: 0; " class="simplelist"><tr><td>Alex Bodnaru</td><td>Gino Lucrezi</td><td>Maxime Guillaud</td></tr><tr><td>Alex Mayrhofer</td><td>Greg Troxel</td><td>Maxime van Noppen</td></tr><tr><td>Andrea Peri</td><td>Guillaume Lelarge</td><td>Maxime Schoemans</td></tr><tr><td>Andreas Forø Tollefsen</td><td>Giuseppe Broccolo</td><td>Michael Fuhr</td></tr><tr><td>Andreas Neumann</td><td>Han Wang</td><td>Mike Toews</td></tr><tr><td>Andrew Gierth</td><td>Hans Lemuet</td><td>Nathan Wagner</td></tr><tr><td>Anne Ghisla</td><td>Haribabu Kommi</td><td>Nathaniel Clay</td></tr><tr><td>Antoine Bajolet</td><td>Havard Tveite</td><td>Nikita Shulga</td></tr><tr><td>Arthur Lesuisse</td><td>IIDA Tetsushi</td><td>Norman Vine</td></tr><tr><td>Artur Zakirov</td><td>Ingvild Nystuen</td><td>Patricia Tozer</td></tr><tr><td>Barbara Phillipot</td><td>Jackie Leng</td><td>Rafal Magda</td></tr><tr><td>Ben Jubb</td><td>James Addison</td><td>Ralph Mason</td></tr><tr><td>Bernhard Reiter</td><td>James Marca</td><td>Rémi Cura</td></tr><tr><td>Björn Esser</td><td>Jan Katins</td><td>Richard Greenwood</td></tr><tr><td>Brian Hamlin</td><td>Jan Tojnar</td><td>Robert Coup</td></tr><tr><td>Bruce Rindahl</td><td>Jason Smith</td><td>Roger Crew</td></tr><tr><td>Bruno Wolff III</td><td>Jeff Adams</td><td>Ron Mayer</td></tr><tr><td>Bryce L. Nordgren</td><td>Jelte Fennema</td><td>Sam Peters</td></tr><tr><td>Carl Anderson</td><td>Jim Jones</td><td>Sebastiaan Couwenberg</td></tr><tr><td>Charlie Savage</td><td>Joe Conway</td><td>Sergei Shoulbakov</td></tr><tr><td>Chris Mayo</td><td>Jonne Savolainen</td><td>Sergey Fedoseev</td></tr><tr><td>Christian Schroeder</td><td>Jose Carlos Martinez Llari</td><td>Shinichi Sugiyama</td></tr><tr><td>Christoph Berg</td><td>Jörg Habenicht</td><td>Shoaib Burq</td></tr><tr><td>Christoph Moench-Tegeder</td><td>Julien Rouhaud</td><td>Silvio Grosso</td></tr><tr><td>Dane Springmeyer</td><td>Kashif Rasul</td><td>Stefan Corneliu Petrea</td></tr><tr><td>Dapeng Wang</td><td>Klaus Foerster</td><td>Steffen Macke</td></tr><tr><td>Daryl Herzmann</td><td>Kris Jurka</td><td>Stepan Kuzmin</td></tr><tr><td>Dave Fuhry</td><td>Laurenz Albe</td><td>Stephen Frost</td></tr><tr><td>David Garnier</td><td>Lars Roessiger</td><td>Steven Ottens</td></tr><tr><td>David Skea</td><td>Leo Hsu</td><td>Talha Rizwan</td></tr><tr><td>David Techer</td><td>Loic Dachary</td><td>Teramoto Ikuhiro</td></tr><tr><td>Dian M Fay</td><td>Luca S. Percich</td><td>Tom Glancy</td></tr><tr><td>Dmitry Vasilyev</td><td>Lucas C. Villa Real</td><td>Tom van Tilburg</td></tr><tr><td>Eduin Carrillo</td><td>Maria Arias de Reyna</td><td>Victor Collod</td></tr><tr><td>Esteban Zimanyi</td><td>Marc Ducobu</td><td>Vincent Bre</td></tr><tr><td>Eugene Antimirov</td><td>Mark Sondheim</td><td>Vincent Mora</td></tr><tr><td>Even Rouault</td><td>Markus Schaber</td><td>Vincent Picavet</td></tr><tr><td>Florian Weimer</td><td>Markus Wanner</td><td>Volf Tomáš</td></tr><tr><td>Frank Warmerdam</td><td>Matt Amos</td><td>Zuo Chenwei</td></tr><tr><td>George Silva</td><td>Matt Bretl</td><td> </td></tr><tr><td>Gerald Fenoy</td><td>Matthias Bay</td><td> </td></tr></table><p>
			</p></dd><dt><span class="term">Organisations sponsors</span></dt><dd><p>Certaines organisations ont contribué du temps de développeur, de l'hébergement, ou du financement direct pour le projet PostGIS. Par ordre alphabétique : </p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><a class="link" href="https://aiven.io" target="_top">Aiven</a></li><li class="listitem"><a class="link" href="https://arrival3d.com" target="_top">Arrival 3D</a></li><li class="listitem"><a class="link" href="http://gfoss.it" target="_top">Associazione Italiana per l'Informazione Geografica Libera (GFOSS.it)</a></li><li class="listitem"><a class="link" href="https://www.ausvet.com.au" target="_top">AusVet</a></li><li class="listitem">Avencia</li><li class="listitem"><a class="link" href="https://www.azavea.com" target="_top">Azavea</a></li><li class="listitem"><a class="link" href="https://www.boundlessgeo.com" target="_top">Boundless</a></li><li class="listitem"><a class="link" href="https://www.cadcorp.com" target="_top">Cadcorp</a></li><li class="listitem"><a class="link" href="https://www.camptocamp.com" target="_top">Camptocamp</a></li><li class="listitem"><a class="link" href="https://carto.com" target="_top">Carto</a></li><li class="listitem"><a class="link" href="https://www.crunchydata.com" target="_top">Crunchy Data</a></li><li class="listitem"><a class="link" href="https://www.boston.gov" target="_top">City of Boston (DND)</a></li><li class="listitem"><a class="link" href="https://www.hel.fi" target="_top">City of Helsinki</a></li><li class="listitem"><a class="link" href="https://blog.cleverelephant.ca" target="_top">Clever Elephant Solutions</a></li><li class="listitem"><a class="link" href="https://www.alveo.coop" target="_top">Cooperativa Alveo</a></li><li class="listitem"><a class="link" href="http://www.elecnor-deimos.com" target="_top">Deimos Space</a></li><li class="listitem"><a class="link" href="https://www.faunalia.eu" target="_top">Faunalia</a></li><li class="listitem"><a class="link" href="https://gov.bc.ca" target="_top">Geographic Data BC</a></li><li class="listitem"><a class="link" href="https://www.highgo.ca" target="_top">HighGo</a></li><li class="listitem">Hunter Systems Group</li><li class="listitem"><a class="link" href="https://pti-agriambio.csic.es" target="_top">
&gt;The National Institute for Agricultural and Food Research and Technology (INIA-CSIC)</a></li><li class="listitem"><a class="link" href="https://www.isciences.com" target="_top">ISciences, LLC</a></li><li class="listitem"><a class="link" href="https://www.kontur.io" target="_top">Kontur</a></li><li class="listitem"><a class="link" href="https://www.lidwala.com" target="_top">Lidwala Consulting Engineers</a></li><li class="listitem"><a class="link" href="https://www.jirotech.com" target="_top">LISAsoft</a></li><li class="listitem">Logical Tracking &amp; Tracing International AG</li><li class="listitem">Maponics</li><li class="listitem"><a class="link" href="http://www.mtri.org" target="_top">Michigan Tech Research Institute</a></li><li class="listitem"><a class="link" href="https://www.nrcan.gc.ca" target="_top">Natural Resources Canada</a></li><li class="listitem">Norwegian Forest and Landscape Institute</li><li class="listitem"><a class="link" href="https://www.nibio.no/" target="_top">Norwegian Institute of Bioeconomy Research (NIBIO)</a></li><li class="listitem"><a class="link" href="https://www.osgeo.org" target="_top">OSGeo</a></li><li class="listitem"><a class="link" href="https://oslandia.com" target="_top">Oslandia</a></li><li class="listitem"><a class="link" href="https://www.palantir.com" target="_top">Palantir Technologies</a></li><li class="listitem"><a class="link" href="https://www.paragoncorporation.com" target="_top">Paragon Corporation</a></li><li class="listitem"><a class="link" href="https://www.r3-gis.com" target="_top">R3 GIS</a></li><li class="listitem"><a class="link" href="http://www.refractions.net" target="_top">Refractions Research</a></li><li class="listitem"><a class="link" href="https://www.regione.toscana.it" target="_top">Regione Toscana - SITA</a></li><li class="listitem"><a class="link" href="https://www.safe.com" target="_top">Safe Software</a></li><li class="listitem">Sirius Corporation plc</li><li class="listitem"><a class="link" href="http://www.uster.ch" target="_top">Stadt Uster</a></li><li class="listitem"><a class="link" href="https://www.ucdavis.edu" target="_top">UC Davis Center for Vectorborne Diseases</a></li><li class="listitem"><a class="link" href="https://www.ulaval.ca" target="_top">Université Laval</a></li><li class="listitem"><a class="link" href="https://hiu.state.gov" target="_top">U.S. Department of State (HIU)</a></li><li class="listitem"><a class="link" href="https://www.zonarsystems.com" target="_top">Zonar Systems</a></li></ul></div><p>
		</p></dd><dt><span class="term">Campagnes de financement participatif</span></dt><dd><p>Les campagnes de financement participatif sont des campagnes que nous organisons pour financer des fonctionnalités très demandées qui peuvent servir à une large communauté. Chaque campagne est centrée sur une fonctionnalité, ou un lot de fonctionnalités. Chaque sponsor apporte une petite fraction du financement nécessaire, et avec assez de personnes et d'organisations contribuant, nous obtenons les fonds nécessaires pour payer le travail qui aidera la communauté. Si vous pensez qu'une fonctionnalité pourrait être co-financée par de nombreux acteurs, vous pouvez poster votre idée sur le <a class="link" href="https://lists.osgeo.org/mailman/listinfo/postgis-users" target="_top">newsgroup PostGIS</a> et ensemble nous pourrons la réaliser. </p><p>PostGIS 2.0.0 a été la première version où cette stratégie a été testée. Nous avons utilisé <a class="link" href="http://www.pledgebank.com" target="_top">PledgeBank</a> et avons eu deux campagnes de financement réussies.</p><p><a class="link" href="http://www.pledgebank.com/postgistopology" target="_top"><span class="bold"><strong>postgistopology</strong></span></a> - Plus de 10 sponsors ont contribué chacun 250USD pour créer la fonction toTopoGeometry et sortir le support de la topologie dans la version 2.0.0. Ce fut une réussite.</p><p><a class="link" href="http://www.pledgebank.com/postgis64windows" target="_top"><span class="bold"><strong>postgis64windows</strong></span></a> - Plus de 20 sponsors ont contribué chacun 100USD pour le support PostGIS 64-bit sur Windows. Ce fut une réussite.</p></dd><dt><span class="term">Bibliothèques de base importantes</span></dt><dd><p><a class="link" href="https://libgeos.org" target="_top">GEOS</a>, la bibliothèque pour les opérations sur les géometries</p><p><a class="link" href="https://gdal.org" target="_top">GDAL</a> (Geospatial Data Abstraction Library), la bibliothèque utilisée pour propulser la plupart des fonctionnalités raster introduites dans PostGIS 2. En retour, les améliorations requises dans GDAL pour supporter PostGIS sont reversées dans le projet GDAL.</p><p><a class="link" href="https://www.proj4.org" target="_top">PROJ</a>, la bibliothèque gérant les projections cartographiques</p><p>Enfin, mais non des moindres, le projet de SGBD <a class="link" href="http://www.postgresql.org" target="_top">PostgreSQL</a>, géant sur les épaules duquel PostGIS s'appuie. La rapidité et flexibilité de PostGIS serait impossible sans l'extensibilité, le planificateur de requêtes, les index GiST et les nombreuses fonctionnalités SQL que fournit PostgreSQL.</p></dd></dl></div></section></section><section class="chapter" id="postgis_installation"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Installation de PostGIS</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#install_short_version">2.1. Version courte</a></span></li><li><span class="section"><a href="#PGInstall">2.2. Compilation et installation depuis les sources</a></span></li><li><span class="section"><a href="#installing_pagc_address_standardizer">2.3. Installation et utilisation de l'extension address standardize</a></span></li><li><span class="section"><a href="#loading_extras_tiger_geocoder">2.4. Installation, mise à jour et chargement de données pour le géocodeur Tiger</a></span></li><li><span class="section"><a href="#idm989">2.5. Problèmes courants pendant l'installation</a></span></li></ul></div><p>Ce chapitre décrit les étapes nécessaires pour installer PostGIS. </p><section class="section" id="install_short_version"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.1. Version courte</h2></div></div></div><p>Pour compiler, en supposant que toutes les dépendances soient dans votre chemin de recherche :</p><pre class="programlisting">tar -xvzf postgis-3.5.2.tar.gz
cd postgis-3.5.2
./configure
make
make install</pre><p>Une fois PostGIS installé, il est nécessaire de l'activer (<a class="xref" href="#create_spatial_db" title="3.3. Création de bases de données spatiales">Section 3.3, “Création de bases de données spatiales”</a>) ou de le mettre à jour (<a class="xref" href="#upgrading" title="3.4. Mise à jour des bases de données spatiales">Section 3.4, “Mise à jour des bases de données spatiales”</a>) dans chaque base de données où vous voulez l'utiliser. </p></section><section class="section" id="PGInstall"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.2. Compilation et installation depuis les sources</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#install_getting_source">2.2.1. Obtenir les Sources</a></span></li><li><span class="section"><a href="#install_requirements">2.2.2. Pré requis à l'installation</a></span></li><li><span class="section"><a href="#installation_configuration">2.2.3. Configuration de la compilation</a></span></li><li><span class="section"><a href="#idm680">2.2.4. Compiler</a></span></li><li><span class="section"><a href="#make_install_postgis_extensions">2.2.5. Compiler les Extensions PostGIS et les déployer</a></span></li><li><span class="section"><a href="#idm749">2.2.6. Tests</a></span></li><li><span class="section"><a href="#idm778">2.2.7. Installation</a></span></li></ul></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La plupart des systèmes d'exploitation dispose de paquets pré-compilés de PostgreSQL/PostGIS. La compilation est réellement nécessaire uniquement pour disposer des toutes dernières fonctionnalités ou pour les responsables de paquets PostGIS. </p><p>Cette section décrit le processus générique de compilation. Si vous compilez pour Windows ou d'autres systèmes d'exploitation, vous trouverez des instructions plus détaillées dans les wiki de la communauté <a class="link" href="https://trac.osgeo.org/postgis/wiki/UsersWikiInstall" target="_top">guides de compilation</a> et <a class="link" href="http://trac.osgeo.org/postgis/wiki/DevWikiMain" target="_top">PostGIS Dev Wiki</a>.</p><p>Les paquets pré-compilés pour de multiples systèmes d'exploitation sont listés dans <a class="link" href="https://trac.osgeo.org/postgis/wiki/UsersWikiPackages" target="_top">PostGIS Pre-built Packages</a></p><p>Pour les utilisateurs Windows, des versions stables sont disponibles sur Stackbuilder ou sur <a class="link" href="https://postgis.net/windows_downloads" target="_top">le site de téléchargement PostGIS Windows</a>. Des <a class="link" href="https://postgis.net/windows_downloads" target="_top">compilations expérimentales</a> incluant les dernières fonctionnalités sont disponibles. Ces compilations sont généralement mises à jour une ou deux fois par semaines, ou chaque fois qu'une nouvelle fonctionnalité intéressante est ajoutée. Vous pouvez les utiliser pour suivre l'avancée des versions de PostGIS</p></td></tr></table></div><p>Le module PostGIS est une extensions pour le serveur backend PostgreSQL. Par conséquent, PostGIS 3.5.2 <span class="emphasis"><em>nécessite</em></span> l'ensemble des entêtes du serveur PostgreSQL pour pouvoir être compilé. PostGIS peut être compilé pour les versions PostgreSQL 12 à 17. Les versions précédentes de PostgreSQL ne sont <span class="emphasis"><em>pas</em></span> supportées. </p><p>Référez-vous aux guides d'installation de PostgreSQL si vous ne l'avez pas encore installé : <a class="link" href="https://www.postgresql.org" target="_top"> https://www.postgresql.org </a> . </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour les fonctionnalités de GEOS, quand vous installez PostgreSQL, vous aurez peut-être besoin de lier explicitement PostgreSQL avec la bibliothèque standard C++ : </p><pre class="programlisting">LDFLAGS=-lstdc++ ./configure [YOUR OPTIONS HERE]</pre><p>Ceci est une solution de contournement d'exceptions C++ d'interactions bugués dans des outils de développements plus ancien. Si vous tombez sur ce genre de problèmes (backend soudainement fermé ou des choses similaires) essayez cette astuce. Cela nécessite de recompiler votre PostgreSQL du début, bien sur. </p></td></tr></table></div><p>Les étapes suivantes résument la configuration et la compilation des sources PostGIS. Elles ont été rédigées pour les utilisateurs sous Linux et ne fonctionneront pas pour Windows et Mac. </p><section class="section" id="install_getting_source"><div class="titlepage"><div><div><h3 class="title">2.2.1. Obtenir les Sources</h3></div></div></div><p>Les sources de PostGIS sont disponible depuis <a class="link" href="https://download.osgeo.org/postgis/source/postgis-3.5.2.tar.gz" target="_top"> https://download.osgeo.org/postgis/source/postgis-3.5.2.tar.gz </a> </p><pre class="programlisting">wget https://download.osgeo.org/postgis/source/postgis-3.5.2.tar.gz
tar -xvzf postgis-3.5.2.tar.gz
cd postgis-3.5.2</pre><p>Un répertoire appelé <code class="varname">postgis-3.5.2</code> sera créé dans le répertoire courant. </p><p>Les sources peuvent également être obtenues depuis le dépôt <a class="link" href="https://git-scm.com/" target="_top"> git </a> <a class="link" href="https://git.osgeo.org/gitea/postgis/postgis/" target="_top"> https://git.osgeo.org/gitea/postgis/postgis/ </a>. </p><pre class="programlisting">git clone https://git.osgeo.org/gitea/postgis/postgis.git postgis
cd postgis
sh autogen.sh
    </pre><p>Se placer dans le nouveau répertoire créé <code class="varname">postgis-3.5.2</code> pour poursuivre l'installation. </p><pre class="programlisting">./configure</pre></section><section class="section" id="install_requirements"><div class="titlepage"><div><div><h3 class="title">2.2.2. Pré requis à l'installation</h3></div></div></div><p>La compilation et l'utilisation de PostGIS nécessitent les éléments suivants : </p><p>
	  <span class="bold"><strong>Obligatoire</strong></span>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>PostgreSQL 12 - 17. Une installation complète de PostgreSQL (y compris les en-têtes du serveur) est nécessaire. PostgreSQL est disponible à partir de <a class="link" href="https://www.postgresql.org" target="_top"> https://www.postgresql.org </a> . </p><p>Pour une matrice complète de compatibilité PostgreSQL/PostGIS et PostGIS/GEOS, référez-vous à <a class="link" href="https://trac.osgeo.org/postgis/wiki/UsersWikiPostgreSQLPostGIS" target="_top">https://trac.osgeo.org/postgis/wiki/UsersWikiPostgreSQLPostGIS</a> </p></li><li class="listitem"><p>Un compilateur GNUC C (<code class="filename">gcc</code>). D'autres compilateurs ANSI C peuvent être utilisés, mais la compilation avec <code class="filename">gcc</code> est source de moins de problèmes. </p></li><li class="listitem"><p>GNU Make (<code class="filename">gmake</code> ou <code class="filename">make</code>). Sur beaucoup de systemes, GNU <code class="filename">make</code> est la version par défaut de make. Vous pouvez vérifier la version de make avec la commande <code class="filename">make -v</code>. D'autres versions de <code class="filename">make</code> peuvent ne pas être compatibles avec le <code class="filename">Makefile</code> de PostGIS. </p></li><li class="listitem"><p>Proj, bibliothèque de reprojection. Proj 6.1 ou supérieur est nécessaire. La bibliothèque Proj est utilisée pour fournir le support de reprojection de coordonnées dans PostGIS. Proj est disponible au téléchargement depuis <a class="link" href="https://proj.org/" target="_top"> https://proj.org/ </a> . </p></li><li class="listitem"><p>La bibliothèque de géométrie GEOS, version 3.8.0 ou supérieure, mais GEOS 3.12+ est nécessaire pour profiter pleinement de toutes les nouvelles fonctions et caractéristiques. GEOS peut être téléchargé à partir de <a class="link" href="https://libgeos.org/" target="_top"> https://libgeos.org </a>. </p></li><li class="listitem"><p>LibXML2, version 2.5.x ou supérieur. LibXML2 est actuellement utilisée dans certaines fonctions d'import (ST_GeomFromGML et ST_GeomFromKML). LibXML2 est disponible au téléchargement depuis <a class="link" href="https://gitlab.gnome.org/GNOME/libxml2/-/releases" target="_top">https://gitlab.gnome.org/GNOME/libxml2/-/releases</a>. </p></li><li class="listitem"><p>JSON-C, version 0.9 ou supérieure. JSON-C est utilisé pour l'import GeoJSON avec la fonction ST_GeomFromGeoJson. JSON-C est disponible depuis <a class="link" href="https://github.com/json-c/json-c/releases" target="_top">https://github.com/json-c/json-c/releases/</a>. </p></li><li class="listitem"><p>GDAL, version 3+ is preferred. This is required for raster support. <a class="link" href="https://gdal.org/download.html" target="_top">https://gdal.org/download.html</a>. </p></li><li class="listitem"><p>Si vous compilez avec PostgreSQL+JIT, LLVM version &gt;=6 est nécessaire <a class="link" href="https://trac.osgeo.org/postgis/ticket/4125" target="_top">https://trac.osgeo.org/postgis/ticket/4125</a>. </p></li></ul></div><p>
	  <span class="bold"><strong>Optionnel</strong></span>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>GDAL (pseudo optionnel) vous pouvez l'omettre seulement si vous ne voulez pas du support raster. Pensez également à activer les pilotes que vous souhaitez utiliser, comme décrit dans <a class="xref" href="#raster_configuration" title="3.2. Configurer la prise en charge du raster">Section 3.2, “Configurer la prise en charge du raster”</a>. </p></li><li class="listitem"><p>GTK (GTK+2.0, 2.8+) pour compiler le chargeur de shape file shp2pgsql-gui. <a class="link" href="http://www.gtk.org/" target="_top"> http://www.gtk.org/ </a> . </p></li><li class="listitem"><p>SFCGAL, 1.4.1 or higher is required and 1.5.0+ is needed to be able to use all functionality. SFCGAL can be used to provide additional 2D and 3D advanced analysis functions to PostGIS cf <a class="xref" href="#reference_sfcgal" title="Chapter 8. Référence des fonctions SFCGAL">Chapter 8, <em>Référence des fonctions SFCGAL</em></a>. And also allow to use SFCGAL rather than GEOS for some 2D functions provided by both backends (like ST_Intersection or ST_Area, for instance). A PostgreSQL configuration variable <code class="code">postgis.backend</code> allow end user to control which backend he want to use if SFCGAL is installed (GEOS by default). Nota: SFCGAL 1.2 require at least CGAL 4.3 and Boost 1.54 (cf: <a class="link" href="https://sfcgal.org" target="_top">https://sfcgal.org</a>) <a class="link" href="https://gitlab.com/sfcgal/SFCGAL/" target="_top">https://gitlab.com/sfcgal/SFCGAL/</a>. </p></li><li class="listitem"><p>Pour compiler <a class="xref" href="#Address_Standardizer" title="12.1. Address Standardizer">Section 12.1, “Address Standardizer”</a>, vous aurez également besoin de PCRE <a class="link" href="http://www.pcre.org" target="_top">http://www.pcre.org</a> (qui est généralement déjà installé sur les systèmes nix). <a class="xref" href="#Address_Standardizer" title="12.1. Address Standardizer">Section 12.1, “Address Standardizer”</a> sera automatiquement compilé s'il détecte une bibliothèque PCRE, ou si vous passez un <code class="varname">--with-pcre-dir=/path/to/pcre</code> valide pendant la configuration. </p></li><li class="listitem"><p>Pour permettre d'utiliser ST_AsMVT, la bibliothèque protobuf-c 1.1.0 ou supérieur (pour l'utilisation) et le compilateur protoc-c (pour la compilation) sont nécessaires. Également, pkg-config est nécessaire pour vérifier la version minimale correcte de protobuf-c. Voir <a class="link" href="https://github.com/protobuf-c/protobuf-c" target="_top">protobuf-c</a>. Par défaut, PostGIS utilise Wagyu pour valider les polygones MVT plus rapidement, ce qui nécessite un compilateur c++11. Ceci utilisera les CXXFLAGS et le même compilateur que l'installation PostgreSQL. Pour désactiver cela et utiliser GEOS à la place, utilisez la variable <code class="varname">--without-wagyu</code> pendant l'étape de configuration. </p></li><li class="listitem"><p>CUnit (<code class="filename">CUnit</code>). Nécessaire pour les tests de régression. <a class="link" href="http://cunit.sourceforge.net/" target="_top">http://cunit.sourceforge.net/</a> </p></li><li class="listitem"><p>DocBook (<code class="filename">xsltproc</code>) est nécessaire pour générer la documentation. Docbook est disponible depuis le site <a class="link" href="http://www.docbook.org/" target="_top"> http://www.docbook.org/ </a> . </p></li><li class="listitem"><p>DBLatex (<code class="filename">dblatex</code>) est nécessaire pour générer la documentation au format PDF. DBLatex est disponible depuis <a class="link" href="http://dblatex.sourceforge.net/" target="_top"> http://dblatex.sourceforge.net/ </a> . </p></li><li class="listitem"><p>ImageMagick (<code class="filename">convert</code>) est nécessaire pour générer les images de la documentation. ImageMagick is available from <a class="link" href="http://www.imagemagick.org/" target="_top"> http://www.imagemagick.org/ </a> . </p></li></ul></div></section><section class="section" id="installation_configuration"><div class="titlepage"><div><div><h3 class="title">2.2.3. Configuration de la compilation</h3></div></div></div><p>Comme pour la plupart des installations linux, la première étape est de générer le Makefile qui sera utilisé pour compiler le code source. Ceci est réalisée en lançant le script shell </p><p>
		<span class="command"><strong>./configure</strong></span>
	  </p><p>Sans paramètre supplémentaire, cette commande tentera de localiser automatiquement les composants requis et les bibliothèques nécessaires à la compilation de PostGIS. Bien que cela soit l'utilisation la plus commune de la commande <span class="command"><strong>./configure</strong></span>, vous pouvez également ajouter différents paramètres à ce script. Par exemple, vous pouvez définir l'emplacement de bibliothèques ou de programmes si ceux-ci ne sont pas localisés à un emplacement standard. </p><p>La liste suivante présente les options les plus courantes. Pour consulter la liste complète utilisez l'option <span class="command"><strong>--help</strong></span> ou <span class="command"><strong>--help=short</strong></span>. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--with-library-minor-version</code></span></dt><dd><p>À partir de PostGIS 3.0, les fichiers de bibliothèque générés par défaut n'auront plus la version mineur dans le nom de fichier. Ceci signifie que les libs PostGIS 3 se termineront par <code class="code">postgis-3</code>. Ceci a été fait pour faciliter l'usage de pg_upgrade, avec la contrainte que vous ne pouvez installer qu'une seule version de PostGIS 3 sur votre serveur. Pour basculer sur l'ancien comportement et avoir des fichiers qui incluent la version mineure : e.g. <code class="code">postgis-3.0</code>, ajoutez ce paramètre dans la commande de configuration.</p></dd><dt><span class="term"><code class="option">--prefix=PREFIX</code></span></dt><dd><p>Cela correspond à l'emplacement où les exécutables et librairies de PostGIS seront installés. Par défaut, cet emplacement est le même que celui de l'installation de PostgreSQL. </p><div class="caution"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Caution]" src="images/caution.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Ce paramètre est actuellement défectueux : le paquet s'installe uniquement dans le répertoire d'installation de PostgreSQL. Le suivi de ce bug est disponible depuis <a class="link" href="http://trac.osgeo.org/postgis/ticket/635" target="_top"> http://trac.osgeo.org/postgis/ticket/635 </a>. </p></td></tr></table></div></dd><dt><span class="term"><code class="option">--with-pgconfig=FILE</code></span></dt><dd><p>PostgreSQL fournit l'utilitaire <span class="command"><strong>pg_config</strong></span> permettant aux extensions comme PostGIS de localiser le répertoire d'installation de PostgreSQL. Utiliser ce paramètre (<span class="command"><strong>--with-pgconfig=/path/to/pg_config</strong></span>) pour spécifier une installation particulière de PostgreSQL pour laquelle PostGIS doit être compilée. </p></dd><dt><span class="term"><code class="option">--with-gdalconfig=FILE</code></span></dt><dd><p>GDAL, une des bibliothèques requises pour le support des rasters. <span class="command"><strong>gdal-config</strong></span> pour permettre au logiciel de localiser le répertoire d'installation de GDAL. Utiliser ce paramètre (<span class="command"><strong>--with-gdalconfig=/path/to/gdal-config</strong></span>) pour spécifier un répertoire d'installation particulier de GDAL qui sera utilisé pour compiler PostGIS. </p></dd><dt><span class="term"><code class="option">--with-geosconfig=FILE</code></span></dt><dd><p>GEOS, une des bibliothèques requises, fournit un utilitaire appelé <span class="command"><strong>geos-config</strong></span> permettant aux logiciels de localiser le répertoire d'installation de GEOS. Utiliser ce paramètre (<span class="command"><strong>--with-geosconfig=/path/to/geos-config</strong></span>) pour spécifier le repertoire de GEOS qui sera utilisé pour la compilation de PostGIS. </p></dd><dt><span class="term"><code class="option">--with-xml2config=FILE</code></span></dt><dd><p>LibXML est la bibliothèque requise pour les processus GeomFromKML/GML. Elle est normalement trouvée si libxml est installé, mais si ce n'est pas le cas ou si vous souhaitez qu'une version spécifique soit utilisée, vous devrez indiquer à PostGIS un fichier confi <code class="filename">xml2-config</code> spécifique pour permettre aux installations logicielles de localiser le répertoire d'installation de LibXML. Utilisez ce paramètre (<span class="command"><strong>&gt;--with-xml2config=/path/to/xml2-config</strong></span>) pour spécifier manuellement une installation LibXML particulière avec laquelle PostGIS sera construit. </p></dd><dt><span class="term"><code class="option">--with-projdir=DIR</code></span></dt><dd><p>Proj4 est la bibliothèque de reprojection nécessaire à PostGIS. Utilisez ce paramètre (<span class="command"><strong>--with-projdir=/path/to/projdir</strong></span>) pour spécifier le répertoire de Proj qui sera utilisé pour la compilation de PostGIS. </p></dd><dt><span class="term"><code class="option">--with-libiconv=DIR</code></span></dt><dd><p>Répertoire d'installation d'iconv. </p></dd><dt><span class="term"><code class="option">--with-jsondir=DIR</code></span></dt><dd><p><a class="link" href="http://oss.metaparadigm.com/json-c/" target="_top">JSON-C</a> est une bibliothèque sous licence MIT utilisée par PostGIS pour les traitements JSON (ST_GeomFromJSON par exemple). Utiliser ce paramètre (<span class="command"><strong>--with-jsondir=/path/to/jsondir</strong></span>) pour spécifier le répertoire de JSON-C qui sera utilisé pour la compilation de PostGIS. </p></dd><dt><span class="term"><code class="option">--with-pcredir=DIR</code></span></dt><dd><p><a class="link" href="http://www.pcre.org/" target="_top">PCRE</a> (Perl Compatible Regular Expression) est une bibliothèque sous licence BSD requise par l'extension address_standardizer. Utilisez ce paramètre (<span class="command"><strong>--with-pcredir=/chemin/vers/pcredir</strong></span>) pour spécifier un répertoire contenant PCRE qui sera utilisé par PostGIS. </p></dd><dt><span class="term"><code class="option">--with-gui</code></span></dt><dd><p>Compile l'interface graphique d'import de données (nécessite GTK+2.0). Ceci créé l'interface graphique shp2pgsql-gui à shp2pgsql. </p></dd><dt><span class="term"><code class="option">--without-raster</code></span></dt><dd><p>Compilation sans support des raster. </p></dd><dt><span class="term"><code class="option">--without-topology</code></span></dt><dd><p>Désactive le support des topologies. Il n'y a pas de bibliothèque correspondante car toute la logique requise pour les topologies est incluse dans postgis-3.5.2. </p></dd><dt><span class="term"><code class="option">--with-gettext=no</code></span></dt><dd><p>Par défaut PostGIS tentera de détecter la gestion de gettext et de reposer dessus pour la compilation, cependant si vous tombez sur des problèmes d'incompatibilités qui cause la cassure du chargeur, vous pouvez le désactiver entièrement avec cette commande. Référez vous au ticket <a class="link" href="http://trac.osgeo.org/postgis/ticket/748" target="_top">http://trac.osgeo.org/postgis/ticket/748</a> pour un exemple de problème résolu par cette configuration. NOTE : que vous perdez beaucoup de chose en le désactivant. Cela est utilisé pour la gestion de l'aide et des labels internationaux dans le chargeur graphique qui n'est pas documenté et encore expérimental. </p></dd><dt><span class="term"><code class="option">--with-sfcgal=PATH</code></span></dt><dd><p>Par défaut, PostGIS ne contiendra pas le support sfcgal sans cet argument. <code class="varname">PATH</code> est un argument optionnel permettant de préciser un chemin alternatif vers sfcgal-config. </p></dd><dt><span class="term"><code class="option">--without-phony-revision</code></span></dt><dd><p>Désactive la mise à jour de postgis_revision.h à partir du HEAD courant du dépôt git. </p></dd></dl></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous avez téléchargé PostGIS depuis le <a class="link" href="https://trac.osgeo.org/postgis/wiki/CodeRepository" target="_top"> dépôt du code </a>, la première étape est d'exécuter le script </p><p>
		  <span class="command"><strong>./autogen.sh</strong></span>
		</p><p>Ce script générera le script <span class="command"><strong>configure</strong></span> qui est utilisé pour personnaliser votre installation de PostGIS. </p><p>Si vous avez obtenu PostGIS comme archive, lancer la commande <span class="command"><strong>./autogen.sh</strong></span> n'est pas nécessaire puisque <span class="command"><strong>configure</strong></span> a déjà été généré. </p></td></tr></table></div></section><section class="section" id="idm680"><div class="titlepage"><div><div><h3 class="title">2.2.4. Compiler</h3></div></div></div><p>Une fois le Makefile généré, compiler PostGIS est aussi simple que lancer </p><p>
		<span class="command"><strong>make</strong></span>
	  </p><p>La dernière ligne de la sortie doit être "<code class="code">PostGIS was built successfully. Ready to install.</code>" </p><p>À partir de PostGIS v1.4.0, toutes les fonctions ont leur commentaire généré à partir de la documentation. Si vous souhaitez installer ces commentaires dans votre base de données spatiale plus tard, exécutez la commande suivante, qui nécessite docbook. Les fichiers de commentaires pour PostGIS postgis_comments.sql et pour les autres paquets raster_comments.sql, topology_comments.sql sont aussi inclus dans le paquet tar.gz de la distribution, dans le répertoire doc, il est donc inutile d'utiliser cette commande si vous installez depuis l'archive tar. Les commentaires sont aussi inclus par l'installation via CREATE EXTENSION. </p><p>
		<span class="command"><strong>make comments</strong></span>
	  </p><p>Introduit dans PostGIS 2.0. Cela génère un mémo en html disponible pour une référence rapide ou pour les étudiants. La compilation nécessite xsltproc et génèrera 4 fichiers dans le répertoire doc <code class="filename">topology_cheatsheet.html</code>, <code class="filename">tiger_geocoder_cheatsheet.html</code>, <code class="filename">raster_cheatsheet.html</code>, <code class="filename">postgis_cheatsheet.html</code> </p><p>Vous pouvez télécharger des pré-compilations disponibles en HTML et PDF à partir de <a class="link" href="http://www.postgis.us/study_guides" target="_top">PostGIS / PostgreSQL Study Guides</a></p><p>
		<span class="command"><strong>make cheatsheets</strong></span>
	  </p></section><section class="section" id="make_install_postgis_extensions"><div class="titlepage"><div><div><h3 class="title">2.2.5. Compiler les Extensions PostGIS et les déployer</h3></div></div></div><p>Les extensions PostGIS sont compilées et installées automatiquement si vous utilisez PostgreSQL 9.1+. </p><p>Si vous compilez à partir des dépôts des sources, vous devez compiler les descriptions de fonction d'abord. Ceci est compilé si vous avez docbook installé. Vous pouvez également compiler manuellement avec cette commande : </p><p>
	  <span class="command"><strong>make comments</strong></span>
    </p><p>Compiler les commentaires n'est pas nécessaire si vous avez compilé à partir d'une release d'archive puisque ceux-ci sont des pré-compilations packagés avec le tar ball.</p><p>Les extensions devraient être automatiquement compilées lors du make install. Vous pouvez, si nécessaire, compiler à partir des répertoires d'extensions ou copier les fichiers si vous en avez besoin sur un serveur différent. </p><pre class="programlisting">cd extensions
cd postgis
make clean
make
export PGUSER=postgres #overwrite psql variables
make check #to test before install
make install
# to test extensions
make check RUNTESTFLAGS=--extension</pre><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><code class="code">make check</code> utilise psql pour faire tourner les tests, et peut donc utiliser les variables d'environnement psql. Les variables classiques utiles à définir sont <code class="varname">PGUSER</code>,<code class="varname">PGPORT</code>, and <code class="varname">PGHOST</code>. Voir <a class="link" href="https://docs.postgresql.fr/current/libpq-envars.html" target="_top">variables d'environnement psql</a> </p></td></tr></table></div><p>Les fichiers extensions seront toujours les mêmes pour les mêmes versions de PostGIS et PostgreSQL indépendamment de l'OS, par conséquent il n'y a pas de problème à copier les fichiers extensions d'un OS à un autre du moment que vous avez les binaires PostGIS déjà installés sur vos serveurs. </p><p>Si vous voulez installer les extensions manuellement sur un serveur différent séparé de votre développement, vous devez copier les fichiers suivants à partir du répertoire extension dans le répertoire <code class="filename">PostgreSQL / share / extension</code> de votre installation PostgreSQL ainsi que les binaires nécessaires pour une version correcte de PostGIS si vous ne les avez pas déjà sur le serveur. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Ceux-ci sont les fichiers de contrôle qui renvoie les informations telles que la version de l'extension à installer si non spécifié. <code class="filename">postgis.control, postgis_topology.control</code>. </p></li><li class="listitem"><p>Tous les fichiers dans le répertoire /sql de chaque extension. Notez que ceux-ci nécessitent d'être copiées à la racine du répertoire share/extension de PostgreSQL <code class="filename">extensions/postgis/sql/*.sql</code>, <code class="filename">extensions/postgis_topology/sql/*.sql</code> </p></li></ul></div><p>Une fois que vous avez fait cela, vous devriez voir <code class="varname">postgis</code>, <code class="varname">postgis_topology</code> comme extensions disponibles dans PgAdmin -&gt; extensions.</p><p>Si vous utilisez psql, vous pouvez vérifier que les extensions sont installées en lançant cette requête :</p><pre class="programlisting">SELECT name, default_version,installed_version
FROM pg_available_extensions WHERE name LIKE 'postgis%' or name LIKE 'address%';

             name             | default_version | installed_version
------------------------------+-----------------+-------------------
 address_standardizer         | 3.5.2         | 3.5.2
 address_standardizer_data_us | 3.5.2         | 3.5.2
 postgis                      | 3.5.2         | 3.5.2
 postgis_raster               | 3.5.2         | 3.5.2
 postgis_sfcgal               | 3.5.2         |
 postgis_tiger_geocoder       | 3.5.2         | 3.5.2
 postgis_topology             | 3.5.2         |
(6 rows)</pre><p>Si vous avez l'extension installée dans la base de données que vous interrogez, vous verrez la mention dans la colonne <code class="varname">installed_version</code>. Si vous n'obtenez aucun enregistrement , cela signifie que vous n'avez pas d'extension postgis installés sur le serveur. PgAdmin III 1.14+ fournira aussi cette information dans la section <code class="varname">extensions</code> dans l'arbre de l'explorateur de la base de données et autorisera même la mise à jour ou la désinstallation par clic-droit.</p><p>Si vous avez les extensions disponibles, vous pouvez installer les extensions postgis dans votre base de données de votre choix soit en utilisant l'interface d'extension de PgAdmin ou lançant ces commandes SQL :</p><pre class="programlisting">CREATE EXTENSION postgis;
CREATE EXTENSION postgis_raster;
CREATE EXTENSION postgis_sfcgal;
CREATE EXTENSION fuzzystrmatch; --needed for postgis_tiger_geocoder
--optional used by postgis_tiger_geocoder, or can be used standalone
CREATE EXTENSION address_standardizer;
CREATE EXTENSION address_standardizer_data_us;
CREATE EXTENSION postgis_tiger_geocoder;
CREATE EXTENSION postgis_topology;</pre><p>Avec psql, vous pouvez contrôler les versions installées ainsi que les schémas d'installation. </p><pre class="programlisting">\connect mygisdb
\x
\dx postgis*</pre><pre class="screen">List of installed extensions
-[ RECORD 1 ]-------------------------------------------------
Name        | postgis
Version     | 3.5.2
Schema      | public
Description | PostGIS geometry, geography, and raster spat..
-[ RECORD 2 ]-------------------------------------------------
Name        | postgis_raster
Version     | 3.0.0dev
Schema      | public
Description | PostGIS raster types and functions
-[ RECORD 3 ]-------------------------------------------------
Name        | postgis_tiger_geocoder
Version     | 3.5.2
Schema      | tiger
Description | PostGIS tiger geocoder and reverse geocoder
-[ RECORD 4 ]-------------------------------------------------
Name        | postgis_topology
Version     | 3.5.2
Schema      | topology
Description | PostGIS topology spatial types and functions</pre><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les tables d'extension <code class="varname">spatial_ref_sys</code>, <code class="varname">layer</code>, <code class="varname">topology</code> ne peuvent pas être explicitement sauvegardées. Elles peuvent être uniquement sauvegardées quand les extensions respectives <code class="varname">postgis</code> ou <code class="varname">postgis_topology</code> sont sauvegardées, ce qui semble seulement arriver quand vous sauvegardez l'ensemble de la base. À partir de PostGIS 2.0.1, seulement les enregistrements des srid non packagés avec PostGIS sont sauvegardés quand la base de données est sauvegardée. Par conséquent, ne vous attendez pas à ce vos modifications persistent si vous changez les srids que nous fournissons. Créez un ticket si vous trouvez un problème. Les structures des tables d'extensions ne sont jamais sauvegardées puisque créées avec <code class="code">CREATE EXTENSION</code> et sont supposées être identiques à version égale d'une extension. Ce comportement fait partie du modèle actuel d'extensions de PostgreSQL, nous ne pouvons donc rien faire à ce sujet.</p></td></tr></table></div><p>Si vous avez installé la version 3.5.2 sans utiliser le système d'extensions, il est possible de l'activer via les commandes suivantes pour packager les fonctions dans leurs extensions respectives. L'installation via `unpackaged` a été supprimé dans PostgreSQL 13, nous vous invitons donc à basculer sur une installation utilisant le système d'extensions avant de migrer à PostgreSQL 13. </p><pre class="programlisting">CREATE EXTENSION postgis FROM unpackaged;
CREATE EXTENSION postgis_raster FROM unpackaged;
CREATE EXTENSION postgis_topology FROM unpackaged;
CREATE EXTENSION postgis_tiger_geocoder FROM unpackaged;
</pre></section><section class="section" id="idm749"><div class="titlepage"><div><div><h3 class="title">2.2.6. Tests</h3></div></div></div><p>Si vous désirez tester la compilation de PostGIS, lancez </p><p>
		<span class="command"><strong>make check</strong></span>
	  </p><p>La commande ci-dessus fonctionnera pour différentes tests de vérification et de régression en utilisant la bibliothèque générée selon la base de données actuelle. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous avez configuré PostGIS en utilisant un emplacement non standard de PostgreSQL, GEOS, ou Proj4, vous pourrez avoir besoin d'ajouter l'emplacement des bibliothèques à la variable d'environnement <code class="varname">LD_LIBRARY_PATH</code>. </p></td></tr></table></div><div class="caution"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Caution]" src="images/caution.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour le moment, <span class="command"><strong>make check</strong></span> repose sur les variables d'environnement <code class="code">PATH</code> et <code class="code">PGPORT</code> lors de la réalisation des vérifications - il n'utilise <span class="emphasis"><em>pas</em></span> la version de PostgreSQL qui a pu être définie en utilisant la paramètre de configuration <span class="command"><strong>--with-pgconfig</strong></span>. Assurez vous donc de modifier votre PATH pour correspondre l'installation de PostgreSQL détectée durant la configuration ou préparez vous à gérer des maux de tête à venir. </p></td></tr></table></div><p>Si réussi, make check sortira les résultats de près de 500 tests. Les résultats seront similaires à la sortie ci-dessous (avec de nombreuses lignes omises) : </p><pre class="programlisting">CUnit - A unit testing framework for C - Version 2.1-3
     http://cunit.sourceforge.net/

        .
        .
        .

Run Summary:    Type  Total    Ran Passed Failed Inactive
              suites     44     44    n/a      0        0
               tests    300    300    300      0        0
             asserts   4215   4215   4215      0      n/a
Elapsed time =    0.229 seconds

        .
        .
        .

Running tests

        .
        .
        .

Run tests: 134
Failed: 0


-- if you build with SFCGAL

        .
        .
        .

Running tests

        .
        .
        .

Run tests: 13
Failed: 0

-- if you built with raster support

        .
        .
        .

Run Summary:    Type  Total    Ran Passed Failed Inactive
              suites     12     12    n/a      0        0
               tests     65     65     65      0        0
             asserts  45896  45896  45896      0      n/a


        .
        .
        .

Running tests

        .
        .
        .

Run tests: 101
Failed: 0

-- topology regress

.
.
.

Running tests

        .
        .
        .

Run tests: 51
Failed: 0

-- if you built --with-gui, you should see this too

     CUnit - A unit testing framework for C - Version 2.1-2
     http://cunit.sourceforge.net/

        .
        .
        .

Run Summary:    Type  Total    Ran Passed Failed Inactive
              suites      2      2    n/a      0        0
               tests      4      4      4      0        0
             asserts      4      4      4      0      n/a</pre><p>Les extensions <code class="varname">postgis_tiger_geocoder</code> et <code class="varname">address_standardizer</code> ne supportent actuellement que l'installcheck de PostgreSQL. Pour les tester, cf ci-dessous. Note : Il n'est pas nécessaire de lancer make install si cette commande a déjà été lancée dans le répertoire racine des sources PostGIS.</p><p>Pour l'extension address_standardize : </p><pre class="programlisting">cd extensions/address_standardizer
make install
make installcheck
          </pre><p>La sortie de la commande devrait ressembler à : </p><pre class="screen">============== dropping database "contrib_regression" ==============
DROP DATABASE
============== creating database "contrib_regression" ==============
CREATE DATABASE
ALTER DATABASE
============== running regression test queries        ==============
test test-init-extensions     ... ok
test test-parseaddress        ... ok
test test-standardize_address_1 ... ok
test test-standardize_address_2 ... ok

=====================
 All 4 tests passed.
=====================</pre><p>Le géocodeur tiger nécessite d'avoir les extensions postgis et fuzzystrmatch installée sur l'instance PostgreSQL. Les tests de l'extension address_standardizer seront lancés si PostGIS est compilé avec le support address_standardizer : </p><pre class="programlisting">cd extensions/postgis_tiger_geocoder
make install
make installcheck
          </pre><p>La sortie de la commande devrait ressembler à : </p><pre class="screen">============== dropping database "contrib_regression" ==============
DROP DATABASE
============== creating database "contrib_regression" ==============
CREATE DATABASE
ALTER DATABASE
============== installing fuzzystrmatch               ==============
CREATE EXTENSION
============== installing postgis                     ==============
CREATE EXTENSION
============== installing postgis_tiger_geocoder      ==============
CREATE EXTENSION
============== installing address_standardizer        ==============
CREATE EXTENSION
============== running regression test queries        ==============
test test-normalize_address   ... ok
test test-pagc_normalize_address ... ok

=====================
All 2 tests passed.
=====================</pre></section><section class="section" id="idm778"><div class="titlepage"><div><div><h3 class="title">2.2.7. Installation</h3></div></div></div><p>Pour installer PostGIS, entrez </p><p>
		<span class="command"><strong>make install</strong></span>
	  </p><p>Ceci copiera les fichiers d'installation de PostGIS dans leur sous-répertoires appropriés définis par le paramètre de configuration <span class="command"><strong>--prefix</strong></span>. En particulier : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Les binaires du chargeur et du dumper sont installés dans <code class="filename">[prefix]/bin</code>. </p></li><li class="listitem"><p>Les fichiers SQL, tel que <code class="filename">postgis.sql</code>, sont installé dans <code class="filename">[prefix]/share/contrib</code>. </p></li><li class="listitem"><p>Les bibliothèques PostGIS sont installées dans <code class="filename">[prefix]/lib</code>. </p></li></ul></div><p>Si vous avez déjà lancé la commande <span class="command"><strong>make comments</strong></span> pour générer les fichiers <code class="filename">postgis_comments.sql</code>, <code class="filename">raster_comments.sql</code>, installer le fichier sql en lançant </p><p>
		<span class="command"><strong>make comments-install</strong></span>
	  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><code class="filename">postgis_comments.sql</code>, <code class="filename">raster_comments.sql</code>, <code class="filename">topology_comments.sql</code> ont été séparés de la compilation initiale et des cibles de l'installation depuis qu'ils sont dépendant de <span class="command"><strong>xsltproc</strong></span>. </p></td></tr></table></div></section></section><section class="section" id="installing_pagc_address_standardizer"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.3. Installation et utilisation de l'extension address standardize</h2></div></div></div><p>L'extension <code class="code">address_standardizer</code> était précédemment livrée sous forme d'un paquet séparé nécessitant son propre téléchargement. Depuis la version 2.2 de PostGIS, cette extension est intégrée. Pour de plus amples informations sur cette extension, sa configuration, son utilisation, se référer à <a class="xref" href="#Address_Standardizer" title="12.1. Address Standardizer">Section 12.1, “Address Standardizer”</a>.</p><p>Ce normalisateur d'adresses peut être utilisé avec l'extension PostGIS tiger en remplacement de <a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a>. Se référer à la page <a class="xref" href="#tiger_pagc_address_standardizing" title="2.4.2. Utilisation de l'Extension Address Standardizer avec le Geocodeur Tiger">Section 2.4.2, “Utilisation de l'Extension Address Standardizer avec le Geocodeur Tiger”</a> pour mettre en place ce remplacement. Il peut également être utilisé pour fabriquer son propre géocodeur ou pour normaliser des adresses pour les comparer plus facilement.</p><p>Le normalisateur d'adresses se base sur PCRE, généralement installé sur les systèmes Nix. Il peut également être téléchargé ici : <a class="link" href="http://www.pcre.org" target="_top">http://www.pcre.org</a>. Durant la phase <a class="xref" href="#installation_configuration" title="2.2.3. Configuration de la compilation">Section 2.2.3, “Configuration de la compilation”</a>, si PCRE est détecté, le normalisateur d'adresses sera automatiquement compilé. Pour utiliser une installation personnalisée de PCRE, passer le paramètre <code class="code">--with-pcredir=/chemin/vers/pcre</code> dans la commande configure, où <code class="filename">/chemin/vers/pcre</code> est le répertoire contenant les sous-répertoires pcre include et lib.</p><p>Pour les utilisateurs de Windows®, les versions 2.1 et supérieures de PostGIS sont livrées avec l'extension address_standardizer. Il n'est donc pas besoin de compiler cette extension. La commande <code class="code">CREATE EXTENSION</code> suffit.</p><p>Une fois installée, vous pouvez vous connecter à votre base de données et lancer le SQL :</p><pre class="programlisting">CREATE EXTENSION address_standardizer;</pre><p>Le test suivant ne nécessite pas de table rules, gas, ou lex</p><pre class="programlisting">SELECT num, street, city, state, zip
 FROM parse_address('1 Devonshire Place PH301, Boston, MA 02109');</pre><p>La sortie de la commande devrait ressembler à</p><pre class="screen">num |         street         |  city  | state |  zip
-----+------------------------+--------+-------+-------
 1   | Devonshire Place PH301 | Boston | MA    | 02109</pre></section><section class="section" id="loading_extras_tiger_geocoder"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.4. Installation, mise à jour et chargement de données pour le géocodeur Tiger</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#install_tiger_geocoder_extension">2.4.1. Tiger Geocoder Activation de votre base de données PostGIS</a></span></li><li><span class="section"><a href="#tiger_pagc_address_standardizing">2.4.2. Utilisation de l'Extension Address Standardizer avec le Geocodeur Tiger</a></span></li><li><span class="section"><a href="#tiger_geocoder_required_tools">2.4.3. Outils nécessaires pour charger des données tiger</a></span></li><li><span class="section"><a href="#upgrade_tiger_geocoder">2.4.4. Mise à jour du géocoder Tiger et de ses données</a></span></li></ul></div><p>L'extension géocodeur Tiger peut ne pas être distribué avec votre installation de PostGIS. Si vous n'avez pas l'extension géocodeur Tiger, ou si vous souhaitez utiliser une version plus récente de celle de votre installation, vous pouvez utiliser les fichiers <code class="filename">share/extension/postgis_tiger_geocoder.*</code> depuis les paquets disponibles à <a class="link" href="http://postgis.net/windows_downloads/" target="_top">Windows Unreleased Versions</a>, dans la section pour votre version de PostgreSQL. Même si ces paquets sont pour Windows, les fichiers d'extension postgis_tiger_geocoder fonctionneront quel que soit votre système d'exploitation car c'est une extension en SQL/plpgsql.</p><section class="section" id="install_tiger_geocoder_extension"><div class="titlepage"><div><div><h3 class="title">2.4.1. Tiger Geocoder Activation de votre base de données PostGIS</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Ces instructions supposent que l'extension postgis_tiger_geocoder soit déjà installée dans votre installation PostgreSQL.</p></li><li class="listitem"><p>Connectez-vous à la base de données avec psql ou PgAdmin (ou tout autre client) et lancez la commande SQL suivante. Note : Si l'installation se déroule sur une base de données contenant déjà PostGIS, la première étape n'est pas nécessaire. Si l'extension <code class="varname">fuzzystrmatch</code> est déjà installée, la seconde étape n'est pas nécessaire non plus.</p><pre class="programlisting">CREATE EXTENSION postgis;
CREATE EXTENSION fuzzystrmatch;
CREATE EXTENSION postgis_tiger_geocoder;
--this one is optional if you want to use the rules based standardizer (pagc_normalize_address)
CREATE EXTENSION address_standardizer;</pre><p>Si l'extension postgis_tiger_geocoder est déjà installée et que vous souhaitez la mettre à jour, lancez :</p><pre class="programlisting">ALTER EXTENSION postgis UPDATE;
ALTER EXTENSION postgis_tiger_geocoder UPDATE;</pre><p>Si vous avez modifié <code class="varname">tiger.loader_platform</code> ou <code class="varname">tiger.loader_variables</code>, vous devrez peut être les mettre à jour.</p></li><li class="listitem"><p>Pour tester l'installation, lancez cette commande SQL sur la base de données :</p><pre class="programlisting">SELECT na.address, na.streetname,na.streettypeabbrev, na.zip
        FROM normalize_address('1 Devonshire Place, Boston, MA 02109') AS na;</pre><p>Qui devrait afficher</p><pre class="screen">address | streetname | streettypeabbrev |  zip
---------+------------+------------------+-------
           1 | Devonshire | Pl               | 02109</pre></li><li class="listitem"><p>Créez un nouvel enregistrement dans la table <code class="varname">tiger.loader_platform</code> contenant les chemins vers les exécutables et le serveur. </p><p>Par exemple, pour créer un profil nommé debbie suivant la convention <code class="code">sh</code>, vous feriez :</p><pre class="programlisting">INSERT INTO tiger.loader_platform(os, declare_sect, pgbin, wget, unzip_command, psql, path_sep,
                   loader, environ_set_command, county_process_command)
SELECT 'debbie', declare_sect, pgbin, wget, unzip_command, psql, path_sep,
           loader, environ_set_command, county_process_command
  FROM tiger.loader_platform
  WHERE os = 'sh';</pre><p>Et modifiez les chemins dans la colonne <span class="emphasis"><em>declare_sect</em></span> pour les faire correspondre aux chemins des programmes pg, unzip, shp2pgsql, psql, etc. sur le serveur Debbie.</p><p>Si vous ne modifiez pas la table <code class="varname">loader_platform</code>, elle contiendra des chemins par défaut pour les programmes, et vous aurez à modifier les scripts après leur génération.</p></li><li class="listitem"><p>Depuis PostGIS 2.4.1, le chargement des données de "ZIP Code Tabulation Area" <code class="varname">zcta5</code> a été modifié pour charger les données actuelles zcta5, celui-ci est inclus dans <a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a> si activé. Le chargement est désactivé par défaut car cela prend du temps (20 à 60 minutes), occupe de l'espace disque, et n'est pas souvent utile.</p><p>Pour l'activer, exécutez :</p><pre class="programlisting">UPDATE tiger.loader_lookuptables SET load = true WHERE table_name = 'zcta520';</pre><p>Si disponible, la fonction <a class="xref" href="#Geocode" title="Geocode">Geocode</a> peut l'utiliser lorsqu'un filtre de frontière est utilisé avec des codes zips. La fonction <a class="xref" href="#Reverse_Geocode" title="Reverse_Geocode">Reverse_Geocode</a> l'utilise si l'adresse retournée n'a pas de code zip, ce qui arrive souvent avec le géocodage inverse sur des autoroutes.</p></li><li class="listitem"><p>Créez un répertoire nommé <code class="filename">gisdata</code> à la racine du serveur ou de la machine locale si le réseau entre les deux est suffisamment rapide. Ce répertoire contiendra les fichiers tiger téléchargés et traités. Pour changer ce répertoire, modifier le champ <code class="varname">staging_fold</code> dans la table <code class="varname">tiger.loader_variables</code>.</p></li><li class="listitem"><p>Créez un répertoire nommé temp dans le répertoire <code class="filename">gisdata</code> (ou dans le répertoire que vous avez configuré dans le champ <code class="varname">staging_fold</code>). Ce répertoire contiendra les données tiger extraites.</p></li><li class="listitem"><p>Puis exécutez la fonction SQL <a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a>, pour vous assurer que votre libellé de profil personnalisé est utilisé, et sauvegardez le script dans un fichier .sh ou .bat. Par exemple pour générer le script de chargement d'une nation :</p><pre class="programlisting">psql -c "SELECT Loader_Generate_Nation_Script('debbie')" -d geocoder -tA &gt; /gisdata/nation_script_load.sh</pre></li><li class="listitem"><p>Exécutez en ligne de commande les scripts de chargement précédemment générés.</p><pre class="programlisting">cd /gisdata
sh nation_script_load.sh</pre></li><li class="listitem"><p>Lorsque vous avez terminé d'exécuter les scripts, vous devriez avoir trois tables dans votre schéma <code class="code">tiger_data</code>, avec des données déjà remplies. Vous pouvez confirmer cela avec les requêtes suivantes, à exécuter dans psql ou pgAdmn</p><pre class="programlisting">SELECT count(*) FROM tiger_data.county_all;</pre><pre class="screen">count
-------
  3235
(1 row)</pre><pre class="programlisting">SELECT count(*) FROM tiger_data.state_all;</pre><pre class="screen">count
-------
    56
(1 row)
</pre><p>Celle-ci n'aura des données que si vous avez spécifié le chargement de zcta5</p><pre class="programlisting">SELECT count(*) FROM tiger_data.zcta5_all;</pre><pre class="screen">count
-------
  33933
(1 row)
</pre></li><li class="listitem"><p>Par défaut, les tables correspondant à <code class="varname">bg</code>, <code class="varname">tract</code>, <code class="varname">tabblock20</code> ne sont pas chargées. Ces tables ne sont pas utilisées par le géocodeur, mais sont typiquement utilisées pour les statistiques de population. Si vous souhaitez charger ces données lors du chargement des états, exécutez la requête suivante.</p><pre class="programlisting">UPDATE tiger.loader_lookuptables SET load = true WHERE load = false AND lookup_name IN('tract', 'bg', 'tabblock20');</pre><p>Autrement, il est possible de charger juste ces tables après le chargement des données sur les états en utilisant le <a class="xref" href="#Loader_Generate_Census_Script" title="Loader_Generate_Census_Script">Loader_Generate_Census_Script</a></p></li><li class="listitem"><p>Pour chaque état dont vous voulez charger les données, générez un script d'état <a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a>.</p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NE GÉNÉREZ PAS le script d'état avant d'avoir chargé les données de nation, car le script d'état utilise la liste des comtés chargés par le script de nation.</p></td></tr></table></div></li><li class="listitem"><pre class="programlisting">psql -c "SELECT Loader_Generate_Script(ARRAY['MA'], 'debbie')" -d geocoder -tA &gt; /gisdata/ma_load.sh</pre></li><li class="listitem"><p>Lancez alors les lignes de commande générées.</p><pre class="programlisting">cd /gisdata
sh ma_load.sh</pre></li><li class="listitem"><p>Après le chargement des données, ou lors d'une pause dans le chargement, il peut être utile de lancer analyze sur toutes les tables tiger pour mettre à jour les statistiques (y compris les statistiques héritées)</p><pre class="programlisting">SELECT install_missing_indexes();
vacuum (analyze, verbose) tiger.addr;
vacuum (analyze, verbose) tiger.edges;
vacuum (analyze, verbose) tiger.faces;
vacuum (analyze, verbose) tiger.featnames;
vacuum (analyze, verbose) tiger.place;
vacuum (analyze, verbose) tiger.cousub;
vacuum (analyze, verbose) tiger.county;
vacuum (analyze, verbose) tiger.state;
vacuum (analyze, verbose) tiger.zcta5;
vacuum (analyze, verbose) tiger.zip_lookup_base;
vacuum (analyze, verbose) tiger.zip_state;
vacuum (analyze, verbose) tiger.zip_state_loc;</pre></li></ol></div></section><section class="section" id="tiger_pagc_address_standardizing"><div class="titlepage"><div><div><h3 class="title">2.4.2. Utilisation de l'Extension Address Standardizer avec le Geocodeur Tiger</h3></div></div></div><p>Une des plaintes les plus récurrentes concerne la fonction <a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a>, qui normalise l'adresse avant de la géocoder. La normalisation est loin d'être parfaite, et corriger ces imperfections consomme énormément de ressources. Par conséquent, nous avons intégré un autre projet qui a un moteur de standardisation d'adresses bien meilleur. Pour utiliser ce nouveau address_standardizer, compilez l'extension en suivant <a class="xref" href="#installing_pagc_address_standardizer" title="2.3. Installation et utilisation de l'extension address standardize">Section 2.3, “Installation et utilisation de l'extension address standardize”</a> et installez l'extension dans votre base de données.</p><p>Une fois que vous avez installé cette extension dans la même base de données où vous avez installé <code class="code">postgis_tiger_geocoder</code>, vous pouvez utiliser <a class="xref" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a> à la place de <a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a>. Cette extension ne dépend pas de Tiger, et peut donc être utilisée avec d'autres sources de données telles que des adresses internationales. L'extension de géocodage Tiger est installée avec ses propres versions spécifiques de <a class="xref" href="#rulestab" title="rules table">rules table</a> ( <code class="code">tiger.pagc_rules</code>) , <a class="xref" href="#gaztab" title="gaz table">gaz table</a> (<code class="code">tiger.pagc_gaz</code>), et <a class="xref" href="#lextab" title="lex table">lex table</a> (<code class="code">tiger.pagc_lex</code>). Vous pouvez les améliorer et ajouter des règles pour avoir de meilleurs résultats de géocodage pour vos besoins spécifiques.</p></section><section class="section" id="tiger_geocoder_required_tools"><div class="titlepage"><div><div><h3 class="title">2.4.3. Outils nécessaires pour charger des données tiger</h3></div></div></div><p>Le processus de chargement télécharge les données du site web census pour respectivement les fichiers nation, état demandé, extrait les fichiers, puis charge chaque état dans son ensemble de tables état. Chaque table state hérite de la table définie dans le schéma <code class="varname">tiger</code>, il est suffisant d'interroger ces tables pour accéder à toutes les données et supprimer un ensemble de table state n'importe quand en utilisant <a class="xref" href="#Drop_State_Tables_Generate_Script" title="Drop_State_Tables_Generate_Script">Drop_State_Tables_Generate_Script</a> si vous devez recharger un état ou si vous en avez plus besoin.</p><p>Dans l'objectif de charger des données vous avez besoin des outils suivants :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Un outils pour décompresser les fichiers zip du site web census.</p><p>Pour les systèmes Unix-like : un exécutable <code class="varname">unzip</code> qui est habituellement installé sur la plupart des plateformes Unix-like.</p><p>Pour Windows, 7-zip qui est un outils de compression/décompression libre, vous pouvez le récupérer à partir de <a class="link" href="http://www.7-zip.org/" target="_top">http://www.7-zip.org/</a> </p></li><li class="listitem"><p>La commande <code class="filename">shp2pgsql</code> qui est installé par défaut quand vous installez PostGIS.</p></li><li class="listitem"><p><code class="filename">wget</code> qui est un outil de récupération de lien habituellement installé sur les systèmes Unix/Linux.</p><p>Si vous êtes sous Windows, vous pouvez obtenir des binaires pré-compilés à partir de <a class="link" href="http://gnuwin32.sourceforge.net/packages/wget.htm" target="_top">http://gnuwin32.sourceforge.net/packages/wget.htm</a> </p></li></ul></div><p>Si vous mettez à jour depuis tiger_2010, vous aurez besoin d'abord de générer et exécuter le <a class="xref" href="#Drop_Nation_Tables_Generate_Script" title="Drop_Nation_Tables_Generate_Script">Drop_Nation_Tables_Generate_Script</a>. Avant de charger les données d'états, vous devez charger les données de nation via <a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a>. Celui-ci va générer un script de chargement pour vous. <a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a> est une étape à exécuter une seule fois, pour la mises à jour (depuis des données tiger précédentes) ou pour de nouvelles installations.</p><p>Pour charger les données d'états, voir <a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a> pour générer un script pour charger les données pour votre plateforme et les états que vous souhaitez. Note : vous pouvez les charger peu à peu, vous n'avez pas besoin de tout charger d'un coup. Vous pouvez les charger lorsque vous en avez besoin.</p><p>Après que les états que vous désirez aient été chargé, assurez vous de lancer la commande : </p><pre class="programlisting">SELECT install_missing_indexes();</pre><p> comme décrit dans <a class="xref" href="#Install_Missing_Indexes" title="Install_Missing_Indexes">Install_Missing_Indexes</a>.</p><p>Pour tester que les choses fonctionnent comme elles le devraient, essayez de lancer un géocodage sur une adresse de votre état en utilisant <a class="xref" href="#Geocode" title="Geocode">Geocode</a> </p></section><section class="section" id="upgrade_tiger_geocoder"><div class="titlepage"><div><div><h3 class="title">2.4.4. Mise à jour du géocoder Tiger et de ses données</h3></div></div></div><p>Tout d'abord, mettez à jour l'extension postgis_tiger_geocoder en exécutant :</p><pre class="programlisting">ALTER EXTENSION postgis_tiger_geocoder UPDATE;</pre><p>Puis supprimez toutes les tables nation et chargez les nouvelles. Générez un script de suppression avec la requête SQL comme détaillée dans <a class="xref" href="#Drop_Nation_Tables_Generate_Script" title="Drop_Nation_Tables_Generate_Script">Drop_Nation_Tables_Generate_Script</a></p><pre class="programlisting">SELECT drop_nation_tables_generate_script();</pre><p>Lancement des requêtes SQL de suppression générées.</p><p>Générez un script de chargement des pays avec la requête SELECT comme détaillé dans <a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a></p><p><span class="bold"><strong>Pour windows</strong></span></p><pre class="programlisting">SELECT loader_generate_nation_script('windows'); </pre><p><span class="bold"><strong>Pour unix/linux</strong></span></p><pre class="programlisting">SELECT loader_generate_nation_script('sh');</pre><p>Reportez-vous à <a class="xref" href="#install_tiger_geocoder_extension" title="2.4.1. Tiger Geocoder Activation de votre base de données PostGIS">Section 2.4.1, “Tiger Geocoder Activation de votre base de données PostGIS”</a> pour savoir comment exécuter le script de génération. Cette opération ne doit être effectuée qu'une seule fois.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Vous pouvez avoir un mix de différentes années dans vos tables d'états et vous pouvez les mettre à jour indépendamment. Avant de mettre à jour un état, vous devez d'abord supprimer l'année précédente dans les tables d'états pour cet état en utilisant <a class="xref" href="#Drop_State_Tables_Generate_Script" title="Drop_State_Tables_Generate_Script">Drop_State_Tables_Generate_Script</a>.</p></td></tr></table></div></section></section><section class="section" id="idm989"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.5. Problèmes courants pendant l'installation</h2></div></div></div><p>Il y a plusieurs choses à vérifier quand votre installation ou mise à jour ne va pas dans la direction souhaitée. </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Vérifiez que vous avez installé PostgreSQL 12 ou plus récent et que vous êtes en train de compiler avec la même version du code source de PostgreSQL que la version qui fonctionne. Un mélange peut arriver lorsque votre distribution (Linux) a déjà une version de PostgreSQL installée ou que vous avez oublié que vous avez déjà installée une version. PostGIS fonctionnera uniquement avec PostgreSQL 12 ou plus récent, et des messages d'erreurs étranges et inhabituelles en résultera si vous utilisez une version plus ancienne. Pour vérifier la version de PostgreSQL qui fonctionne, connectez vous à la base en utilisant psql et lancez la requête : </p><pre class="programlisting">SELECT version();</pre><p>Si vous utilisez une distribution basé sur les RPM, vous pouvez vérifier l'existence de paquets pré-installés en utilisant la commande <span class="command"><strong>rpm</strong></span> comme suit : <span class="command"><strong>rpm -qa | grep postgresql</strong></span> </p></li><li class="listitem"><p>Si votre mise à jour plante, assurez vous de la présence de PostGIS dans la nouvelle base de données.</p><pre class="programlisting">SELECT postgis_full_version();</pre></li></ol></div><p>Vérifiez également que le script configure a correctement détecté les chemins et versions de PostgreSQL, de la bibliothèque Proj.4 et de la blibliothèque GEOS. </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>La sortie du configure est utilisée pour générer le fichier <code class="filename">postgis_config.h</code>. Vérifiez que les variables <code class="varname">POSTGIS_PGSQL_VERSION</code>, <code class="varname">POSTGIS_PROJ_VERSION</code> et <code class="varname">POSTGIS_GEOS_VERSION</code> ont été définies correctement. </p></li></ol></div></section></section><section class="chapter" id="postgis_administration"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Administration de PostGIS</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#database_tuning_configuration">3.1. Optimisation des performances</a></span></li><li><span class="section"><a href="#raster_configuration">3.2. Configurer la prise en charge du raster</a></span></li><li><span class="section"><a href="#create_spatial_db">3.3. Création de bases de données spatiales</a></span></li><li><span class="section"><a href="#upgrading">3.4. Mise à jour des bases de données spatiales</a></span></li></ul></div><section class="section" id="database_tuning_configuration"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3.1. Optimisation des performances</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#idm1024">3.1.1. Démarrage</a></span></li><li><span class="section"><a href="#idm1049">3.1.2. Temps d'exécution</a></span></li></ul></div><p>Le réglage des performances de PostGIS est similaire à celui de n'importe quelle charge de travail PostgreSQL. La seule considération supplémentaire est que les géométries et les rasters sont généralement de grande taille, donc les optimisations liées à la mémoire ont généralement plus d'impact sur PostGIS que sur d'autres types de requêtes PostgreSQL.</p><p>Pour plus de détails sur l'optimisation de PostgreSQL, reportez-vous à <a class="link" href="https://wiki.postgresql.org/wiki/Tuning_Your_PostgreSQL_Server" target="_top">Tuning your PostgreSQL Server</a>.</p><p>Pour PostgreSQL 9.4+, la configuration peut être définie au niveau du serveur sans toucher à <code class="code">postgresql.conf</code> ou <code class="code">postgresql.auto.conf</code> en utilisant la commande <code class="code">ALTER SYSTEM</code>.</p><pre class="programlisting">ALTER SYSTEM SET work_mem = '256MB';
-- this forces non-startup configs to take effect for new connections
SELECT pg_reload_conf();
-- show current setting value
-- use SHOW ALL to see all settings
SHOW work_mem;</pre><p>En plus des paramètres de Postgres, PostGIS a quelques paramètres personnalisés qui sont listés dans <a class="xref" href="#PostGIS_GUC" title="7.22. Variables PostGIS GUC (Grand Unified Custom Variables)">Section 7.22, “Variables PostGIS GUC (Grand Unified Custom Variables)”</a>.</p><section class="section" id="idm1024"><div class="titlepage"><div><div><h3 class="title">3.1.1. Démarrage</h3></div></div></div><p>Ces paramètres sont configurés dans <code class="code">postgresql.conf</code> : </p><p>
         <a class="link" href="http://www.postgresql.org/docs/current/static/runtime-config-query.html#GUC-CONSTRAINT-EXCLUSION" target="_top">constraint_exclusion</a>
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Valeur par défaut : partition </p></li><li class="listitem"><p>Ceci est généralement utilisé pour le partitionnement des tables. La valeur par défaut est "partition", ce qui est idéal pour PostgreSQL 8.4 et plus car cela force le planificateur à n'analyser les tables pour la prise en compte des contraintes que si elles sont dans une hiérarchie héritée et à ne pas payer de pénalité au planificateur dans le cas contraire. </p></li></ul></div><p>
         <a class="link" href="http://www.postgresql.org/docs/current/static/runtime-config-resource.html#GUC-SHARED-BUFFERS" target="_top">shared_buffers</a>
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Valeur par défaut : ~128MB dans PostgreSQL 9.6 </p></li><li class="listitem"><p>Réglez-le à environ 25 à 40 % de la mémoire vive disponible. Sous Windows, il se peut que vous ne puissiez pas définir une valeur aussi élevée. </p></li></ul></div><p><a class="link" href="https://www.postgresql.org/docs/current/static/runtime-config-resource.html#GUC-MAX-WORKER-PROCESSES" target="_top">max_worker_processes</a> Ce paramètre n'est disponible que pour PostgreSQL 9.4+. Pour PostgreSQL 9.6+, ce paramètre a une importance supplémentaire car il contrôle le nombre maximum de processus que vous pouvez avoir pour les requêtes parallèles. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Valeur par défaut : 8 </p></li><li class="listitem"><p>Définit le nombre maximum de processus d'arrière-plan que le système peut prendre en charge. Ce paramètre ne peut être défini qu'au démarrage du serveur. </p></li></ul></div></section><section class="section" id="idm1049"><div class="titlepage"><div><div><h3 class="title">3.1.2. Temps d'exécution</h3></div></div></div><p><a class="link" href="http://www.postgresql.org/docs/current/static/runtime-config-resource.html#GUC-WORK-MEM" target="_top">work_mem</a> - définit la taille de la mémoire utilisée pour les opérations de tri et les requêtes complexes </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Valeur par défaut : 1-4MB </p></li><li class="listitem"><p>Ajustement pour les grandes bases de données, les requêtes complexes, beaucoup de RAM </p></li><li class="listitem"><p>Ajuster à la baisse pour de nombreux utilisateurs simultanés ou une faible mémoire vive. </p></li><li class="listitem"><p>Si vous avez beaucoup de mémoire vive et peu de développeurs : </p><pre class="programlisting">SET work_mem TO '256MB';</pre><p>
          </p></li></ul></div><p><a class="link" href="http://www.postgresql.org/docs/current/static/runtime-config-resource.html#GUC-MAINTENANCE-WORK-MEM" target="_top">maintenance_work_mem</a> - la taille de la mémoire utilisée pour VACUUM, CREATE INDEX, etc. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Valeur par défaut : 16-64MB </p></li><li class="listitem"><p>Généralement trop faible - immobilise les Entrées/Sorties, bloque les objets pendant l'échange de mémoire </p></li><li class="listitem"><p>Nous recommandons 32MB à 1GB sur les serveurs de production avec beaucoup de RAM, mais cela dépend du nombre d'utilisateurs simultanés. Si vous avez beaucoup de RAM et peu de développeurs : </p><pre class="programlisting">SET maintenance_work_mem TO '1GB';</pre><p>
          </p></li></ul></div><p>
        <a class="link" href="https://www.postgresql.org/docs/current/static/runtime-config-resource.html#GUC-MAX-PARALLEL-WORKERS-PER-GATHER" target="_top">max_parallel_workers_per_gather</a>
      </p><p>Ce paramètre n'est disponible que pour PostgreSQL 9.6+ et n'affecte que PostGIS 2.3+, puisque seul PostGIS 2.3+ supporte les requêtes parallèles. Si ce paramètre est supérieur à 0, certaines requêtes telles que celles impliquant des fonctions de relation comme <code class="code">ST_Intersects</code> peuvent utiliser plusieurs processus et s'exécuter plus de deux fois plus rapidement. Si vous avez beaucoup de processeurs à disposition, vous devriez changer la valeur de ce paramètre pour autant de processeurs que vous avez. Assurez-vous également d'augmenter <code class="code">max_worker_processes</code> à une valeur au moins égale à ce nombre. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Valeur par défaut : 0 </p></li><li class="listitem"><p>Définit le nombre maximum de workers qui peuvent être démarrés par un seul nœud <code class="varname">Gather</code>. Les workers parallèles sont pris dans le pool de processus établi par <code class="varname">max_worker_processes</code>. Notez que le nombre de workers demandé peut ne pas être disponible au moment de l'exécution. Dans ce cas, le plan s'exécutera avec moins de workers que prévu, ce qui peut s'avérer inefficace. La définition de cette valeur à 0, qui est la valeur par défaut, désactive l'exécution parallèle des requêtes. </p></li></ul></div></section></section><section class="section" id="raster_configuration"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3.2. Configurer la prise en charge du raster</h2></div></div></div><p>Si vous activez la prise en charge du raster, vous devriez lire ce qui suit afin de bien la configurer. </p><p>À partir de PostGIS 2.1.3, tous les pilotes raster, et la prise en charge des rasters hors-connexion (out-of-db) est désactivé par défaut. Pour les activer, vous devez définir les variables d'environnement suivantes dans l'environnement du serveur : <code class="varname">POSTGIS_GDAL_ENABLED_DRIVERS</code> and <code class="varname">POSTGIS_ENABLE_OUTDB_RASTERS</code>. Depuis PostGIS 2.2, vous pouvez utiliser la méthode plus générique en définissant les <a class="xref" href="#PostGIS_GUC" title="7.22. Variables PostGIS GUC (Grand Unified Custom Variables)">Section 7.22, “Variables PostGIS GUC (Grand Unified Custom Variables)”</a> correspondantes.</p><p>Si vous souhaitez activer le raster hors connexion :</p><pre class="programlisting">POSTGIS_ENABLE_OUTDB_RASTERS=1</pre><p>Si la variable a n'importe quelle autre valeur, ou si elle n'a pas de valeur, le support du raster hors-connexion sera désactivé.</p><p>Pour utiliser tous les pilotes GDAL disponibles dans votre installation GDAL, définissez la variable d'environnement via</p><pre class="programlisting">POSTGIS_GDAL_ENABLED_DRIVERS=ENABLE_ALL</pre><p>Si vous souhaitez activer une liste de pilotes spécifiques, définissez la variable d'environnement via :</p><pre class="programlisting">POSTGIS_GDAL_ENABLED_DRIVERS="GTiff PNG JPEG GIF XYZ"</pre><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous êtes sous Windows, ne pas mettre de guillemets autour de la liste des pilotes</p></td></tr></table></div><p>La définition des variables d'environnement dépend de votre système d'exploitation. Sous Ubuntu ou Debian avec PostgreSQL installé via apt-postgresql, la méthode conseillée est d'éditer le fichier de configuration <code class="filename">/etc/postgresql/<em class="replaceable"><code>10</code></em>/<em class="replaceable"><code>main</code></em>/environment</code> où 10 est la version de PostgreSQL et main est le groupe de bases de données (cluster).</p><p>Sous Windows, si vous fonctionnez en tant que service, vous pouvez définir des variables système auxquelles vous pouvez accéder, sous Windows 7, en cliquant avec le bouton droit de la souris sur Ordinateur -&gt;Propriétés - Paramètres système avancés ou, dans l'explorateur, en naviguant jusqu'à <code class="varname">Panneau de configuration - Tous les éléments du panneau de configuration - Système</code>. Cliquez ensuite sur <span class="emphasis"><em>Advanced System Settings -&gt;Advanced-&gt;Environment Variables</em></span> et ajoutez de nouvelles variables système.</p><p>Après avoir changé les variables d'environnement, vous devrez redémarrer le service PostgreSQL pour prendre en compte les changements.</p></section><section class="section" id="create_spatial_db"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3.3. Création de bases de données spatiales</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#create_new_db_extensions">3.3.1. Base de données spatiale en utilisant EXTENSION</a></span></li><li><span class="section"><a href="#create_new_db">3.3.2. Base de données spatiale sans utiliser EXTENSION (non recommandé)</a></span></li></ul></div><section class="section" id="create_new_db_extensions"><div class="titlepage"><div><div><h3 class="title">3.3.1. Base de données spatiale en utilisant EXTENSION</h3></div></div></div><p>Si vous utilisez PostgreSQL 9.1+ et avez compilé et installé les modules extensions/postgis, vous pouvez transformer une base de données en base de données spatiale en utilisant le mécanisme EXTENSION. </p><p>L'extension cœur postgis inclus le support des types geometry et geography, la table spatial_ref_sys ainsi que toutes les fonctions et commentaires. Les supports de raster et topologie sont fournis par des extensions dédiées. </p><p>Exécutez les requêtes SQL suivantes dans la base de données où vous souhaitez activer le support spatial : </p><pre class="programlisting">CREATE EXTENSION IF NOT EXISTS plpgsql;
      CREATE EXTENSION postgis;
      CREATE EXTENSION postgis_raster; -- OPTIONAL
      CREATE EXTENSION postgis_topology; -- OPTIONAL
</pre><p>
	</p></section><section class="section" id="create_new_db"><div class="titlepage"><div><div><h3 class="title">3.3.2. Base de données spatiale sans utiliser EXTENSION (non recommandé)</h3></div></div></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette méthode n'est en générale nécessaire que si vous ne pouvez pas ou ne voulez pas que PostGIS soit installé dans le répertoire des extensions PostgreSQL (par exemple pour des tests, du développement, ou dans un environnement restreint).</p></td></tr></table></div><p>L'ajout des objets et définitions des fonctions PostGIS dans votre base de données se fait en chargeant plusieurs fichiers sql présents dans <code class="filename">[prefix]/share/contrib</code>, cet emplacement est celui qui a été défini durant la phase de compilation. </p><p>Les objets au cœur de PostGIS (types geometry et geography, et les fonctions associées) sont dans le script <code class="filename">postgis.sql</code>. Les objets raster sont dans le script <code class="filename">rtpostgis.sql</code>. Les objets de topologie sont dans le script <code class="filename">topology.sql</code>. </p><p>Pour avoir la liste complète des définitions des systèmes de coordonnées EPSG, vous pouvez aussi charger le script <code class="filename">spatial_ref_sys.sql</code> pour remplir la table <code class="varname">spatial_ref_sys</code>. Cela permettre d'utiliser la fonction ST_Transform() pour effectuer des reprojections sur les géométries. </p><p>Si vous souhaitez ajouter les commentaires sur les fonctions PostGIS, vous pouvez les trouver dans le script <code class="filename">postgis_comments.sql</code>. Vous pouvez accéder aux commentaires d'une fonction en tapant <span class="command"><strong>\dd [nom_de_la_fonction]</strong></span> depuis un terminal <span class="command"><strong>psql</strong></span>. </p><p>Exécutez les commandes Shell suivantes dans votre terminal : </p><pre class="programlisting">DB=[yourdatabase]
    SCRIPTSDIR=`pg_config --sharedir`/contrib/postgis-3.4/

    # Core objects
    psql -d ${DB} -f ${SCRIPTSDIR}/postgis.sql
    psql -d ${DB} -f ${SCRIPTSDIR}/spatial_ref_sys.sql
    psql -d ${DB} -f ${SCRIPTSDIR}/postgis_comments.sql # OPTIONAL

    # Raster support (OPTIONAL)
    psql -d ${DB} -f ${SCRIPTSDIR}/rtpostgis.sql
    psql -d ${DB} -f ${SCRIPTSDIR}/raster_comments.sql # OPTIONAL

    # Topology support (OPTIONAL)
    psql -d ${DB} -f ${SCRIPTSDIR}/topology.sql
    psql -d ${DB} -f ${SCRIPTSDIR}/topology_comments.sql # OPTIONAL
</pre><p>
  </p></section></section><section class="section" id="upgrading"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3.4. Mise à jour des bases de données spatiales</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#soft_upgrade">3.4.1. Mise à niveau progressive (Soft upgrade)</a></span></li><li><span class="section"><a href="#hard_upgrade">3.4.2. Mise à niveau complète (Hard upgrade)</a></span></li></ul></div><p>La mise à jour des bases de données spatiales existantes peut s'avérer délicate car elle nécessite le remplacement ou l'introduction de nouvelles définitions d'objets PostGIS. </p><p>Malheureusement, toutes les définitions ne peuvent pas être facilement remplacées dans une base de données active, de sorte que la meilleure solution consiste parfois à effectuer un processus de dump/rechargement. </p><p>PostGIS propose une procédure SOFT UPGRADE pour les versions mineures ou les corrections de bugs, et une procédure HARD UPGRADE pour les versions majeures. </p><p>Avant d'essayer de mettre à jour PostGIS, il est toujours utile de sauvegarder vos données. Si vous utilisez l'option -Fc pour pg_dump, vous serez toujours en mesure de restaurer le dump lors d'un HARD UPGRADE. </p><section class="section" id="soft_upgrade"><div class="titlepage"><div><div><h3 class="title">3.4.1. Mise à niveau progressive (Soft upgrade)</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#soft_upgrade_extensions">3.4.1.1. Mise à niveau progressive (Soft upgrade) 9.1+ utilisant des extensions</a></span></li><li><span class="section"><a href="#soft_upgrade_sql_script">3.4.1.2. Mise à niveau progressive (Soft Upgrade) Pre 9.1+ ou sans extensions</a></span></li></ul></div><p>Si vous avez installé votre base de données en utilisant des extensions, vous devrez également mettre à jour en utilisant le modèle d'extension. Si vous avez installé votre base de données à l'aide de l'ancien script SQL, il vous est conseillé de passer à l'extension car le script n'est plus pris en charge. </p><section class="section" id="soft_upgrade_extensions"><div class="titlepage"><div><div><h4 class="title">3.4.1.1. Mise à niveau progressive (Soft upgrade) 9.1+ utilisant des extensions</h4></div></div></div><p>Si vous avez installé PostGIS à l'origine avec des extensions, vous devez également effectuer une mise à jour en utilisant des extensions. Faire une mise à jour mineure avec les extensions est assez facile.</p><p>Si vous utilisez PostGIS 3 ou une version supérieure, vous devez utiliser la fonction <a class="xref" href="#PostGIS_Extensions_Upgrade" title="PostGIS_Extensions_Upgrade">PostGIS_Extensions_Upgrade</a> pour passer à la dernière version que vous avez installée.</p><pre class="programlisting">SELECT postgis_extensions_upgrade();</pre><p>Si vous utilisez PostGIS 2.5 ou une version inférieure, procédez comme suit :</p><pre class="programlisting">ALTER EXTENSION postgis UPDATE;
SELECT postgis_extensions_upgrade();
-- This second call is needed to rebundle postgis_raster extension
SELECT postgis_extensions_upgrade();
</pre><p>Si plusieurs versions de PostGIS sont installées et que vous ne souhaitez pas mettre à niveau vers la dernière version, vous pouvez spécifier explicitement la version comme suit :</p><pre class="programlisting">ALTER EXTENSION postgis UPDATE TO "3.5.2";
ALTER EXTENSION postgis_topology UPDATE TO "3.5.2";</pre><p>Si vous obtenez un message d'erreur du type :</p><pre class="programlisting">No migration path defined for … to 3.5.2</pre><p>Vous devrez alors sauvegarder votre base de données, en créer une nouvelle comme décrit dans <a class="xref" href="#create_new_db_extensions" title="3.3.1. Base de données spatiale en utilisant EXTENSION">Section 3.3.1, “Base de données spatiale en utilisant EXTENSION”</a>, puis restaurer votre sauvegarde sur cette nouvelle base de données.</p><p>Si vous obtenez un message du type :</p><pre class="programlisting">Version "3.5.2" of extension "postgis" is already installed</pre><p>Dans ce cas, tout est déjà à jour et vous pouvez l'ignorer en toute sécurité. <span class="bold"><strong>Sauf</strong></span> vous essayez de passer d'une version de développement à la suivante (qui ne reçoit pas de nouveau numéro de version) ; dans ce cas, vous pouvez ajouter "next" à la chaîne de caractères de la version, et la prochaine fois, vous devrez à nouveau supprimer le suffixe "next" : </p><pre class="programlisting">ALTER EXTENSION postgis UPDATE TO "3.5.2next";
ALTER EXTENSION postgis_topology UPDATE TO "3.5.2next";</pre><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous avez installé PostGIS à l'origine sans spécifier de version, vous pouvez souvent ignorer la réinstallation de l'extension postgis avant la restauration puisque la sauvegarde a juste exécuté <code class="code">CREATE EXTENSION postgis</code> et récupère donc la dernière version la plus récente lors de la restauration.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous mettez à jour l'extension PostGIS à partir d'une version antérieure à 3.0.0, vous aurez une nouvelle extension <span class="emphasis"><em>postgis_raster</em></span> que vous pouvez abandonner en toute sécurité, si vous n'avez pas besoin du support raster. Vous pouvez abandonner l'extension comme suit :</p><pre class="programlisting">DROP EXTENSION postgis_raster;</pre></td></tr></table></div></section><section class="section" id="soft_upgrade_sql_script"><div class="titlepage"><div><div><h4 class="title">3.4.1.2. Mise à niveau progressive (Soft Upgrade) Pre 9.1+ ou sans extensions</h4></div></div></div><p>Cette section ne s'applique qu'à ceux qui ont installé PostGIS sans utiliser d'extensions. Si vous avez des extensions et que vous essayez de faire une mise à jour avec cette approche, vous obtiendrez des messages comme :</p><pre class="programlisting">can't drop … because postgis extension depends on it</pre><p>NOTE : si vous passez de PostGIS 1.* à PostGIS 2.* ou de PostGIS 2.* antérieur à r7409, vous ne pouvez pas utiliser cette procédure mais devrez plutôt faire une <a class="link" href="#hard_upgrade" title="3.4.2. Mise à niveau complète (Hard upgrade)">HARD UPGRADE</a>. </p><p>Après la compilation et l'installation (make install), vous devriez trouver un ensemble de fichiers <code class="filename">*_upgrade.sql</code> dans les dossiers d'installation. Vous pouvez les lister avec : </p><pre class="programlisting">ls `pg_config --sharedir`/contrib/postgis-3.5.2/*_upgrade.sql</pre><p>Chargez-les tous à tour de rôle, en commençant par <code class="filename">postgis_upgrade.sql</code>. </p><pre class="programlisting">psql -f postgis_upgrade.sql -d your_spatial_database</pre><p>La même procédure s'applique aux extensions raster, topologie et sfcgal, avec des fichiers de mise à niveau nommés respectivement <code class="filename">rtpostgis_upgrade.sql</code>, <code class="filename">topology_upgrade.sql</code> et <code class="filename">sfcgal_upgrade.sql</code>. Si vous en avez besoin : </p><pre class="programlisting">psql -f rtpostgis_upgrade.sql -d your_spatial_database</pre><pre class="programlisting">psql -f topology_upgrade.sql -d your_spatial_database</pre><pre class="programlisting">psql -f sfcgal_upgrade.sql -d your_spatial_database</pre><p>Il est conseillé de passer à une installation basée sur l'extension en lançant</p><pre class="programlisting">psql -c "SELECT postgis_extensions_upgrade();"</pre><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous ne trouvez pas le <code class="filename">postgis_upgrade.sql</code> spécifique à la mise à niveau de votre version, vous utilisez une version trop ancienne pour une mise à niveau progressive (Soft Upgrade) et vous devez faire une <a class="link" href="#hard_upgrade" title="3.4.2. Mise à niveau complète (Hard upgrade)">HARD UPGRADE</a>. </p></td></tr></table></div><p>La fonction <a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a> devrait vous informer de la nécessité d'exécuter ce type de mise à niveau à l'aide d'un message "procs need upgrade". </p></section></section><section class="section" id="hard_upgrade"><div class="titlepage"><div><div><h3 class="title">3.4.2. Mise à niveau complète (Hard upgrade)</h3></div></div></div><p>Par HARD UPGRADE, nous entendons un dump/recharge complet des bases de données compatibles avec PostGIS. Vous avez besoin d'une mise à jour complète lorsque le stockage interne des objets PostGIS change ou lorsque la mise à jour progressive (Soft upgrade) n'est pas possible. L'annexe <a class="link" href="#release_notes" title="Appendix A. Annexes">Release Notes</a> indique pour chaque version si vous avez besoin d'un dump/recharge (HARD UPGRADE) pour effectuer la mise à jour. </p><p>Le processus de dump/rechargement est assisté par le script postgis_restore.pl qui se charge de sauter du dump toutes les définitions qui appartiennent à PostGIS (y compris les anciennes), ce qui vous permet de restaurer vos schémas et vos données dans une base de données où PostGIS est installé sans obtenir d'erreurs de symboles dupliqués ou d'avancer des objets obsolètes. </p><p>Des instructions supplémentaires pour les utilisateurs de Windows sont disponibles sur <a class="link" href="http://trac.osgeo.org/postgis/wiki/UsersWikiWinUpgrade" target="_top">Windows Hard upgrade</a>.</p><p>La procédure est la suivante : </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Créer un dump au format personnalisé de la base de données que vous souhaitez mettre à jour (appelons-le <code class="varname">olddb</code>) et inclure des blobs binaires (-b) et une sortie verbose (-v). L'utilisateur peut être le propriétaire de la base de données, il n'a pas besoin d'être le super utilisateur postgres. </p><pre class="programlisting">pg_dump -h localhost -p 5432 -U postgres -Fc -b -v -f "/somepath/olddb.backup" olddb</pre></li><li class="listitem"><p>Effectuez une nouvelle installation de PostGIS dans une nouvelle base de données - nous appellerons cette base de données <code class="varname">newdb</code>. Veuillez vous référer à <a class="xref" href="#create_new_db" title="3.3.2. Base de données spatiale sans utiliser EXTENSION (non recommandé)">Section 3.3.2, “Base de données spatiale sans utiliser EXTENSION (non recommandé)”</a> et <a class="xref" href="#create_new_db_extensions" title="3.3.1. Base de données spatiale en utilisant EXTENSION">Section 3.3.1, “Base de données spatiale en utilisant EXTENSION”</a> pour les instructions sur la façon de procéder. </p><p>Les entrées spatial_ref_sys trouvées dans votre dump seront restaurées, mais elles ne remplaceront pas les entrées existantes dans spatial_ref_sys. Cela permet de s'assurer que les corrections du jeu officiel seront correctement propagées dans les bases de données restaurées. Si, pour une raison quelconque, vous souhaitez vraiment que vos propres entrées standard soient remplacées, ne chargez pas le fichier spatial_ref_sys.sql lors de la création de la nouvelle base de données. </p><p>Si votre base de données est très ancienne ou si vous savez que vous avez utilisé des fonctions dépréciées depuis longtemps dans vos vues et fonctions, vous devrez peut-être charger <code class="filename">legacy.sql</code> pour que toutes vos fonctions, vues, etc. reviennent correctement. Ne le faites que si c'est _vraiment_ nécessaire. Envisagez plutôt de mettre à jour vos vues et fonctions avant de faire le dumping, si possible. Les fonctions dépréciées peuvent être supprimées plus tard en chargeant <code class="filename">uninstall_legacy.sql</code>. </p></li><li class="listitem"><p>Restaurez votre sauvegarde dans votre nouvelle base de données <code class="varname">newdb</code> à l'aide de postgis_restore. Les erreurs inattendues, s'il y en a, seront imprimées par psql dans le flux d'erreurs standard. Conservez un journal de ces erreurs. </p><pre class="programlisting">postgis_restore "/somepath/olddb.backup" | psql -h localhost -p 5432 -U postgres newdb 2&gt; errors.txt</pre></li></ol></div><p>Des erreurs peuvent survenir dans les cas suivants : </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Certaines de vos vues ou fonctions utilisent des objets PostGIS obsolètes. Pour y remédier, vous pouvez essayer de charger le script <code class="filename">legacy.sql</code> avant la restauration ou vous devrez restaurer vers une version de PostGIS qui contient encore ces objets et réessayer une migration après le portage de votre code. Si la méthode <code class="filename">legacy.sql</code> fonctionne pour vous, n'oubliez pas de corriger votre code pour arrêter d'utiliser les fonctions dépréciées et de les supprimer en chargeant <code class="filename">uninstall_legacy.sql</code>. </p></li><li class="listitem"><p>Certains enregistrements personnalisés de spatial_ref_sys dans le fichier dump ont une valeur SRID invalide. Les valeurs SRID valides sont supérieures à 0 et inférieures à 999000. Les valeurs comprises entre 999000 et 999999 sont réservées à un usage interne, tandis que les valeurs &gt; 999999 ne peuvent pas être utilisées du tout. Tous vos enregistrements personnalisés avec des SRID invalides seront conservés, avec les valeurs &gt; 999999 déplacées dans la plage réservée, mais la table spatial_ref_sys perdrait une contrainte de contrôle qui protège cet invariant et peut-être aussi sa clé primaire (lorsque plusieurs SRIDS invalides sont convertis en la même valeur SRID réservée). </p><p>Pour résoudre ce problème, vous devez copier votre SRS personnalisé vers un SRID avec une valeur valide (peut-être dans la plage 910000..910999), convertir toutes vos tables vers le nouveau SRID (voir <a class="xref" href="#UpdateGeometrySRID" title="UpdateGeometrySRID">UpdateGeometrySRID</a>), supprimer l'entrée invalide de spatial_ref_sys et reconstruire le(s) contrôle(s) avec : </p><pre class="programlisting">
ALTER TABLE spatial_ref_sys ADD CONSTRAINT spatial_ref_sys_srid_check check (srid 
&gt; 0 AND srid &lt; 999000 );
</pre><pre class="programlisting">ALTER TABLE spatial_ref_sys ADD PRIMARY KEY(srid));
    </pre><p>Si vous mettez à jour une ancienne base de données contenant une cartographie française <a class="link" href="https://en.wikipedia.org/wiki/Institut_g%C3%A9ographique_national" target="_top"> IGN </a>, vous aurez probablement des SRID hors limites et vous verrez, lors de l'importation de votre base de données, des problèmes comme celui-ci : </p><pre class="programlisting">WARNING: SRID 310642222 converted to 999175 (in reserved zone)</pre><p>Dans ce cas, vous pouvez essayer les étapes suivantes : d'abord supprimer complètement l'IGN du sql qui résulte de postgis_restore. Ainsi, après avoir exécuté : </p><pre class="programlisting">postgis_restore "/somepath/olddb.backup" &gt; olddb.sql</pre><p>Exécutez cette commande : </p><pre class="programlisting">grep -v IGNF olddb.sql &gt; olddb-without-IGN.sql</pre><p>Créez ensuite votre newdb, activez les extensions Postgis nécessaires, et insérez correctement l'IGN du système français avec : <a class="link" href="https://raw.githubusercontent.com/Remi-C/IGN_spatial_ref_for_PostGIS/master/Put_IGN_SRS_into_Postgis.sql" target="_top"> ce script </a> Après ces opérations, importez vos données : </p><pre class="programlisting">psql -h localhost -p 5432 -U postgres -d newdb -f olddb-without-IGN.sql  2&gt; errors.txt</pre></li></ol></div></section></section></section><section class="chapter" id="using_postgis_dbmanagement"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Gestion des données</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#RefObject">4.1. Modèle de données spatiales</a></span></li><li><span class="section"><a href="#PostGIS_Geometry">4.2. Type de données Geometry</a></span></li><li><span class="section"><a href="#PostGIS_Geography">4.3. Type de données Geography</a></span></li><li><span class="section"><a href="#OGC_Validity">4.4. Validation de la géométrie</a></span></li><li><span class="section"><a href="#spatial_ref_sys">4.5. Systèmes de référence spatiale</a></span></li><li><span class="section"><a href="#idm2036">4.6. Tables spatiales</a></span></li><li><span class="section"><a href="#loading-data">4.7. Chargement des données spatiales</a></span></li><li><span class="section"><a href="#extracting-data">4.8. Extraction de données spatiales</a></span></li><li><span class="section"><a href="#build-indexes">4.9. Index spatiaux</a></span></li></ul></div><section class="section" id="RefObject"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.1. Modèle de données spatiales</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#OGC_Geometry">4.1.1. Géométrie OGC</a></span></li><li><span class="section"><a href="#SQL_MM_Part3">4.1.2. SQL/MM Part 3 - Courbes</a></span></li><li><span class="section"><a href="#OpenGISWKBWKT">4.1.3. WKT et WKB</a></span></li></ul></div><section class="section" id="OGC_Geometry"><div class="titlepage"><div><div><h3 class="title">4.1.1. Géométrie OGC</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#Point">4.1.1.1. Point</a></span></li><li><span class="section"><a href="#LineString">4.1.1.2. LineString</a></span></li><li><span class="section"><a href="#LinearRing">4.1.1.3. LinearRing</a></span></li><li><span class="section"><a href="#Polygon">4.1.1.4. Polygon</a></span></li><li><span class="section"><a href="#MultiPoint">4.1.1.5. MultiPoint</a></span></li><li><span class="section"><a href="#MultiLineString">4.1.1.6. MultiLineString</a></span></li><li><span class="section"><a href="#MultiPolygon">4.1.1.7. MultiPolygon</a></span></li><li><span class="section"><a href="#GeometryCollection">4.1.1.8. GeometryCollection</a></span></li><li><span class="section"><a href="#PolyhedralSurface">4.1.1.9. PolyhedralSurface</a></span></li><li><span class="section"><a href="#Triangle">4.1.1.10. Triangle</a></span></li><li><span class="section"><a href="#TIN">4.1.1.11. TIN</a></span></li></ul></div><p>L'Open Geospatial Consortium (OGC) a développé le standard <a class="link" href="https://www.ogc.org/standards/sfa" target="_top"><span class="emphasis"><em>Simple Features Access</em></span></a> (SFA) pour fournir un modèle de données géospatiales. Ce standard définit le type spatial <span class="bold"><strong>Geometry</strong></span>, ainsi que les opérations pour manipuler et transformer des géométries, et permettre des tâches d'analyses spatiales. PostGIS implémente le modèle OGC Geometry sous forme de types PostgreSQL <a class="link" href="#PostGIS_Geometry" title="4.2. Type de données Geometry">geometry</a> et <a class="link" href="#PostGIS_Geography" title="4.3. Type de données Geography">geography</a>. </p><p>Geometry est un type <span class="emphasis"><em>abstrait</em></span>. Les valeurs géométriques utilisent les sous-types <span class="emphasis"><em>concrets</em></span>, qui représentent les diverses formes géométriques. Ces types incluent les types <span class="bold"><strong>atomiques</strong></span> <a class="link" href="#Point" title="4.1.1.1. Point">Point</a>, <a class="link" href="#LineString" title="4.1.1.2. LineString">LineString</a>, <a class="link" href="#LinearRing" title="4.1.1.3. LinearRing">LinearRing</a> et <a class="link" href="#Polygon" title="4.1.1.4. Polygon">Polygon</a>, ainsi que les types de <span class="bold"><strong>collections</strong></span> <a class="link" href="#MultiPoint" title="4.1.1.5. MultiPoint">MultiPoint</a>, <a class="link" href="#MultiLineString" title="4.1.1.6. MultiLineString">MultiLineString</a>, <a class="link" href="#MultiPolygon" title="4.1.1.7. MultiPolygon">MultiPolygon</a> et <a class="link" href="#GeometryCollection" title="4.1.1.8. GeometryCollection">GeometryCollection</a>. Le standard <a class="link" href="https://portal.ogc.org/files/?artifact_id=25355" target="_top"><span class="emphasis"><em>Simple Features Access - Part 1: Common architecture v1.2.1</em></span></a> ajoute les sous-types pour les structures <a class="link" href="#PolyhedralSurface" title="4.1.1.9. PolyhedralSurface">PolyhedralSurface</a>, <a class="link" href="#Triangle" title="4.1.1.10. Triangle">Triangle</a> et <a class="link" href="#TIN" title="4.1.1.11. TIN">TIN</a>. </p><p>Geometry représente des formes dans le plan cartésien en 2 dimensions. Les types PolyhedralSurface, Triangle, et TIN peuvent également représenter des formes en 3 dimensions. La taille et la localisation des formes sont spécifiées par leurs <span class="bold"><strong>coordonnées</strong></span>. Chaque coordonnées a une <span class="bold"><strong>dimension</strong></span> X et une Y, qui déterminent sa position sur le plan. Les formes sont construites à partir de points ou de segments. Les points sont spécifiés par une seul coordonnée ; les segments par deux coordonnées. </p><p>Les coordonnées peuvent inclure des valeurs pour les dimensions optionnelles Z et M. La dimension Z est souvent utilisée pour représenter l'élévation. La dimension M contient une mesure, qui représente par exemple le temps ou une distance. Si la dimension Z ou M est présente pour une valeur géométrique, elle doit être définie pour tous les points de la géométrie. Si une géométrie a une dimension Z ou M, la <span class="bold"><strong>dimension de la coordonnée</strong></span> est 3D ; si elle a à la fois les dimension Z et M, la dimension de la coordonnée est 4D. </p><p>Les valeurs géométriques sont associées à un <span class="bold"><strong>système de coordonnées de référence</strong></span> (SCR, ou en anglais spatial reference system, SRS), qui indique dans quel système de coordonnées les valeurs sont définies. Le SCR est identifié par un identifiant appelé SRID. Les unités sur les axes X et Y sont déterminées par ce système de coordonnées de référence. Dans un système <span class="bold"><strong>planaire</strong></span>, les coordonnées X et Y représentent les distances respectivement selon l'Est et le Nord. Dans un système <span class="bold"><strong>géodésique</strong></span> elles représentent la longitude et la latitude. L'identifiant SRID 0 représente un plan cartésien infini, sans unité sur ses axes. Voir <a class="xref" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">Section 4.5, “Systèmes de référence spatiale”</a>. </p><p>La <span class="bold"><strong>dimension</strong></span> d'une géométrie est une propriété des types géométriques. Les types Point ont une dimension 0, les types linéaires ont une dimension 1, et les types polygonaux ont une dimension 2. Les collections ont la dimension de leur élément de plus grande dimension. </p><p>Une valeur géométrique peut être <span class="bold"><strong>vide</strong></span>. Une valeur vide ne contient aucun vertex (pour les types de géométriques atomiques) ou aucun élément (pour les collections). </p><p>Une propriété important des valeurs géométriques est leur <span class="bold"><strong>emprise</strong></span> spatiale (extent en anglais) ou leur <span class="bold"><strong>boîte englobante</strong></span> (bounding box en anglais), que le modèle OGC nomme <span class="bold"><strong>enveloppe</strong></span> (envelope). La boîte englobante est la boîte 2D ou 3D qui contient les coordonnées d'une géométrie. C'est une façon efficace de représenter l'emprise d'une géométrie dans un espace et de tester comment deux géométries interagissent. </p><p>Le modèle de géométrie permet d'évaluer les relations topologiques, telles que décrites dans <a class="xref" href="#DE-9IM" title="5.1.1. Modèle à 9 intersections dimensionnellement étendu">Section 5.1.1, “Modèle à 9 intersections dimensionnellement étendu”</a>. Pour supporter cela, les concepts de <span class="bold"><strong>intérieur</strong></span> (interior en anglais), <span class="bold"><strong>frontière</strong></span> (boundary en anglais) et <span class="bold"><strong>extérieur</strong></span> (exterior en anglais) sont définis pour tous les types de géométries. Les géométries sont topologiquement fermées, donc elle contiennent toujours leur frontière. La dimension de la géométrie de la frontière est la dimension de la géométrie moins un. </p><p>Le modèle de géométrie OGC définie des règles de validité pour chaque type géométrique. Ces règles permettent de s'assurer que les valeurs géométriques représentent des situations réalistes (e.g. il est possible de définir un polygone avec un trou à l'extérieur, mais cela n'a pas de sens au niveau géométrique, et est donc invalide). PostGIS permet de stocker et de manipuler des valeurs géométriques invalides, ceci permet de les détecter et de les corriger si besoin. Voir <a class="xref" href="#OGC_Validity" title="4.4. Validation de la géométrie">Section 4.4, “Validation de la géométrie”</a> </p><section class="section" id="Point"><div class="titlepage"><div><div><h4 class="title">4.1.1.1. Point</h4></div></div></div><p>Un objet de type Point est une géométrie de dimension 0, qui représente un seul point dans l'espace.</p><pre class="programlisting">POINT (1 2)
POINT Z (1 2 3)
POINT ZM (1 2 3 4)
</pre></section><section class="section" id="LineString"><div class="titlepage"><div><div><h4 class="title">4.1.1.2. LineString</h4></div></div></div><p>Le type LineString est une ligne, de dimension 1, formée par une séquence de segments linéaires contigus. Chaque segment est défini par deux points, l'extrémité d'un segment étant le point de départ du segment suivant. Un LineString valide au sens OGC a soit zéro, soit deux points ou plus, mais PostGIS permet d'avoir des LineStrings avec un seul point. LineStrings peuvent se croiser (auto-intersection). Un LineString peut être <span class="bold"><strong>fermé</strong></span> si les points de début et fin sont les mêmes. Un LineString est dit <span class="bold"><strong>simple</strong></span> s'il ne s'auto-intersecte pas. </p><pre class="programlisting">LINESTRING (1 2, 3 4, 5 6)</pre></section><section class="section" id="LinearRing"><div class="titlepage"><div><div><h4 class="title">4.1.1.3. LinearRing</h4></div></div></div><p>Le type LinearRing définit un LineString qui est à la fois fermé et simple. Autrement dit, le premier et dernier points doivent être égaux, et la ligne ne doit pas s'auto-intersecter.</p><pre class="programlisting">LINEARRING (0 0 0, 4 0 0, 4 4 0, 0 4 0, 0 0 0)</pre></section><section class="section" id="Polygon"><div class="titlepage"><div><div><h4 class="title">4.1.1.4. Polygon</h4></div></div></div><p>Un polygone, de type Polygon est une région d'un plan, de dimension 2, délimité par une frontière extérieure (la coquille, shell en anglais) et zéro, une ou plusieurs frontières intérieures (trous, holes en anglais). Chaque frontière est un <a class="link" href="#LinearRing" title="4.1.1.3. LinearRing">LinearRing</a>. </p><pre class="programlisting">POLYGON ((0 0 0,4 0 0,4 4 0,0 4 0,0 0 0),(1 1 0,2 1 0,2 2 0,1 2 0,1 1 0))</pre></section><section class="section" id="MultiPoint"><div class="titlepage"><div><div><h4 class="title">4.1.1.5. MultiPoint</h4></div></div></div><p>Le type MultiPoint est une collection de Points.</p><pre class="programlisting">MULTIPOINT ( (0 0), (1 2) )</pre></section><section class="section" id="MultiLineString"><div class="titlepage"><div><div><h4 class="title">4.1.1.6. MultiLineString</h4></div></div></div><p>Le type MultiLineString est une collection de LineStrings. Un MultiLineString est fermé si tous ses éléments sont fermés. </p><pre class="programlisting">MULTILINESTRING ( (0 0,1 1,1 2), (2 3,3 2,5 4) )</pre></section><section class="section" id="MultiPolygon"><div class="titlepage"><div><div><h4 class="title">4.1.1.7. MultiPolygon</h4></div></div></div><p>Un MultiPolygon est une collection de Polygons, non superposés et non adjacents. Les polygones de la collection peuvent se toucher, mais uniquement en un nombre fini de points. </p><pre class="programlisting">MULTIPOLYGON (((1 5, 5 5, 5 1, 1 1, 1 5)), ((6 5, 9 1, 6 1, 6 5)))</pre></section><section class="section" id="GeometryCollection"><div class="titlepage"><div><div><h4 class="title">4.1.1.8. GeometryCollection</h4></div></div></div><p>Le type GeometryCollection représente une collection hétérogène de géométries (i.e. de types différents).</p><pre class="programlisting">GEOMETRYCOLLECTION ( POINT(2 3), LINESTRING(2 3, 3 4))</pre></section><section class="section" id="PolyhedralSurface"><div class="titlepage"><div><div><h4 class="title">4.1.1.9. PolyhedralSurface</h4></div></div></div><p>Le type PolyhedralSurface modélise une surface polyédrique, sous la forme d'une collection de faces qui partagent des arêtes. Chaque face est un Polygon plan. Si les coordonnées du Polygon ont une dimension Z, alors la surface est de dimension 3.</p><pre class="programlisting">POLYHEDRALSURFACE Z (
  ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
  ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)),
  ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
  ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
  ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),
  ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )</pre></section><section class="section" id="Triangle"><div class="titlepage"><div><div><h4 class="title">4.1.1.10. Triangle</h4></div></div></div><p>Un Triangle est un polygone définit par trois sommets non colinéaires. Un Triangle étant un Polygon, et donc est fermé, il est définit par quatre coordonnées, la première et la dernière étant égales. </p><pre class="programlisting">TRIANGLE ((0 0, 0 9, 9 0, 0 0))</pre></section><section class="section" id="TIN"><div class="titlepage"><div><div><h4 class="title">4.1.1.11. TIN</h4></div></div></div><p>Un TIN est une collection de <a class="link" href="#Triangle" title="4.1.1.10. Triangle">Triangle</a>s non superposés, représentant un réseau irrégulier triangulé (<a class="link" href="https://en.wikipedia.org/wiki/Triangulated_irregular_network" target="_top">Triangulated Irregular Network</a>). </p><pre class="programlisting">TIN Z ( ((0 0 0, 0 0 1, 0 1 0, 0 0 0)), ((0 0 0, 0 1 0, 1 1 0, 0 0 0)) )</pre></section></section><section class="section" id="SQL_MM_Part3"><div class="titlepage"><div><div><h3 class="title">4.1.2. SQL/MM Part 3 - Courbes</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#CircularString">4.1.2.1. CircularString</a></span></li><li><span class="section"><a href="#CompoundCurve">4.1.2.2. CompoundCurve</a></span></li><li><span class="section"><a href="#CurvePolygon">4.1.2.3. CurvePolygon</a></span></li><li><span class="section"><a href="#MultiCurve">4.1.2.4. MultiCurve</a></span></li><li><span class="section"><a href="#MultiSurface">4.1.2.5. MultiSurface</a></span></li></ul></div><p>La norme <a class="link" href="https://www.iso.org/obp/ui/#iso:std:iso-iec:13249:-3:ed-5:v1:en" target="_top"><span class="emphasis"><em>ISO/IEC 13249-3 SQL Multimedia - Spatial</em></span></a> (SQL/MM) étend l'OGC SFA pour définir des sous-types de géométrie contenant des courbes avec des arcs circulaires. Les types SQL/MM prennent en charge les coordonnées 3DM, 3DZ et 4D. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Toutes les comparaisons en flottant dans l'implémentation de SQL-MM sont effectuées avec une tolérance spécifiée, actuellement 1E-8.</p></td></tr></table></div><section class="section" id="CircularString"><div class="titlepage"><div><div><h4 class="title">4.1.2.1. CircularString</h4></div></div></div><p>CircularString est le type de courbe de base, similaire à LineString dans le monde linéaire. Un segment d'arc unique est spécifié par trois points : les points de départ et d'arrivée (premier et troisième) et un autre point de l'arc. Pour spécifier un cercle fermé, les points de départ et d'arrivée sont les mêmes et le point central est le point opposé sur le diamètre du cercle (qui est le centre de l'arc). Dans une séquence d'arcs, le point final de l'arc précédent est le point de départ de l'arc suivant, tout comme les segments d'une LineString. Cela signifie qu'une CircularString doit avoir un nombre impair de points supérieur à 1.</p><pre class="programlisting">CIRCULARSTRING(0 0, 1 1, 1 0)

CIRCULARSTRING(0 0, 4 0, 4 4, 0 4, 0 0)</pre></section><section class="section" id="CompoundCurve"><div class="titlepage"><div><div><h4 class="title">4.1.2.2. CompoundCurve</h4></div></div></div><p>Une CompoundCurve est une courbe continue unique qui peut contenir à la fois des segments d'arc de cercle et des segments linéaires. Cela signifie qu'en plus d'avoir des composantes bien formées, le point final de chaque composante (sauf la dernière) doit coïncider avec le point de départ de la composante suivante.</p><pre class="programlisting">COMPOUNDCURVE( CIRCULARSTRING(0 0, 1 1, 1 0),(1 0, 0 1))</pre></section><section class="section" id="CurvePolygon"><div class="titlepage"><div><div><h4 class="title">4.1.2.3. CurvePolygon</h4></div></div></div><p>Un CurvePolygon est semblable à un polygone, avec un anneau extérieur et zéro ou plusieurs anneaux intérieurs. La différence est qu'un anneau peut être une CircularString ou une CompoundCurve ainsi qu'une LineString. </p><p>Depuis PostGIS 1.4, PostGIS prend en charge les courbes composées dans un polygone de courbe.</p><pre class="programlisting">CURVEPOLYGON(
  CIRCULARSTRING(0 0, 4 0, 4 4, 0 4, 0 0),
  (1 1, 3 3, 3 1, 1 1) )</pre><p>Exemple : Un PolygoneCourbe dont l'enveloppe est définie par une CompoundCurve contenant une CircularString et une LineString, et dont le trou est défini par une CircularString</p><pre class="programlisting">CURVEPOLYGON(
  COMPOUNDCURVE( CIRCULARSTRING(0 0,2 0, 2 1, 2 3, 4 3),
                 (4 3, 4 5, 1 4, 0 0)),
  CIRCULARSTRING(1.7 1, 1.4 0.4, 1.6 0.4, 1.6 0.5, 1.7 1) )</pre></section><section class="section" id="MultiCurve"><div class="titlepage"><div><div><h4 class="title">4.1.2.4. MultiCurve</h4></div></div></div><p>Une MultiCurve est un ensemble de courbes qui peuvent inclure des LineStrings, des CircularStrings ou des CompoundCurves.</p><pre class="programlisting">MULTICURVE( (0 0, 5 5), CIRCULARSTRING(4 0, 4 4, 8 4))</pre></section><section class="section" id="MultiSurface"><div class="titlepage"><div><div><h4 class="title">4.1.2.5. MultiSurface</h4></div></div></div><p>Une MultiSurface est un ensemble de surfaces, qui peuvent être des polygones (linéaires) ou des polygones courbes.</p><pre class="programlisting">MULTISURFACE(
  CURVEPOLYGON(
    CIRCULARSTRING( 0 0, 4 0, 4 4, 0 4, 0 0),
    (1 1, 3 3, 3 1, 1 1)),
  ((10 10, 14 12, 11 10, 10 10), (11 11, 11.5 11, 11 11.5, 11 11)))</pre></section></section><section class="section" id="OpenGISWKBWKT"><div class="titlepage"><div><div><h3 class="title">4.1.3. WKT et WKB</h3></div></div></div><p>La spécification OGC SFA définit deux formats pour représenter des valeurs géométriques : Well-Known Text (WKT) et Well-Known Binary (WKB). Ces deux formats incluent les informations sur le type d'objet et sur les coordonnées qui le définissent.</p><p>Well-Known Text (WKT) fournit un standard pour représenter de façon textuelle des données spatiales. Voici quelques exemples de représentations WKT :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>POINT(0 0)</p></li><li class="listitem"><p>POINT Z (0 0 0)</p></li><li class="listitem"><p>POINT ZM (0 0 0 0)</p></li><li class="listitem"><p>POINT EMPTY</p></li><li class="listitem"><p>LINESTRING(0 0,1 1,1 2)</p></li><li class="listitem"><p>LINESTRING EMPTY</p></li><li class="listitem"><p>POLYGON((0 0,4 0,4 4,0 4,0 0),(1 1, 2 1, 2 2, 1 2,1 1))</p></li><li class="listitem"><p>MULTIPOINT((0 0),(1 2))</p></li><li class="listitem"><p>MULTIPOINT Z ((0 0 0),(1 2 3))</p></li><li class="listitem"><p>MULTIPOINT EMPTY</p></li><li class="listitem"><p>MULTILINESTRING((0 0,1 1,1 2),(2 3,3 2,5 4))</p></li><li class="listitem"><p>MULTIPOLYGON(((0 0,4 0,4 4,0 4,0 0),(1 1,2 1,2 2,1 2,1 1)), ((-1 -1,-1 -2,-2 -2,-2 -1,-1 -1)))</p></li><li class="listitem"><p>GEOMETRYCOLLECTION(POINT(2 3),LINESTRING(2 3,3 4))</p></li><li class="listitem"><p>GEOMETRYCOLLECTION EMPTY</p></li></ul></div><p>Des méthodes d'entrée/sortie en WKT sont fournies via les fonctions <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a> et <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a> :</p><pre class="programlisting">text WKT = ST_AsText(geometry);
geometry = ST_GeomFromText(text WKT, SRID);</pre><p>Par exemple, une requête pour créer et insérer une objet spatial sous forme de WKT et avec un SRID :</p><pre class="programlisting">INSERT INTO geotable ( geom, name )
  VALUES ( ST_GeomFromText('POINT(-126.4 45.32)', 312), 'A Place');</pre><p>Well-Known Binary (WKB) fournit un moyen portable et sans perte de précision pour représenter des données spatiales sous la forme de données binaires (tableau d'octets). Voici quelques exemples de représentations WKB :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>WKT : POINT(1 1)</p><p>WKB : 0101000000000000000000F03F000000000000F03</p></li><li class="listitem"><p>WKT : LINESTRING (2 2, 9 9)</p><p>WKB : 0102000000020000000000000000000040000000000000004000000000000022400000000000002240</p></li></ul></div><p>Des méthodes d'entrée/sortie en WKB sont fournies via les fonctions <a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> et <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a> :</p><pre class="programlisting">bytea WKB = ST_AsBinary(geometry);
geometry = ST_GeomFromWKB(bytea WKB, SRID);
</pre><p>Par exemple, une requête pour créer et insérer une objet spatial sous forme de WKB :</p><pre class="programlisting">INSERT INTO geotable ( geom, name )
  VALUES ( ST_GeomFromWKB('\x0101000000000000000000f03f000000000000f03f', 312), 'A Place');</pre></section></section><section class="section" id="PostGIS_Geometry"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.2. Type de données Geometry</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#EWKB_EWKT">4.2.1. PostGIS EWKB et EWKT</a></span></li></ul></div><p>PostGIS implémente le modèle Simple Features de l'OGC via un type PostgreSQL <code class="varname">geometry</code>. Ce type représente tous les sous-types de géométries en utilisant un type interne (voir <a class="xref" href="#GeometryType" title="GeometryType">GeometryType</a> et <a class="xref" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a>). Cela permet de modéliser les entités spatiales comme lignes de tables qui contiennent une colonne de type <code class="varname">geometry</code>. </p><p>Le type <code class="varname">geometry</code> est <span class="emphasis"><em>opaque</em></span>, ce qui veut dire que tout accès est fait en appelant des fonctions sur les valeurs géométriques. Des fonctions permettent la création d'objets géométriques, l'accès et la mise à jour des champs internes, ainsi que le calcul de nouvelles valeurs géométriques. PostGIS supporte toutes les fonctions spécifiées par la spécification OGC <a class="link" href="https://portal.ogc.org/files/?artifact_id=25354" target="_top"><span class="emphasis"><em>Simple feature access - Part 2: SQL option</em></span></a> (SFS), ainsi que de nombreuses autres. voir <a class="xref" href="#reference" title="Chapter 7. Référence PostGIS">Chapter 7, <em>Référence PostGIS</em></a> pour une liste complète des fonctions disponibles.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>PostGIS respecte le standard SFA en préfixant toutes les fonctions spatiales par "ST_". Initialement, cela voulait dire "Spatial and Temporal" (Spatial et Temporel), mais l'aspect temporel du standard n'a pas été développé. À la place, ceci peut être interprété comme "Spatial Type" (Type Spatial). </p></td></tr></table></div><p>La standard SFA spécifie que les objets spatiaux doivent inclure un identifiant de système de coordonnées de référence (SRID). Ce SRID est obligatoire lors de la création d'objets spatiaux pour l'insertion dans la base de données (mais peut être défini par défaut à 0). Voir <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a> et <a class="xref" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">Section 4.5, “Systèmes de référence spatiale”</a></p><p>Pour optimiser les requêtes sur les géométries, PostGIS définit plusieurs types d'index spatiaux, ainsi que des opérateurs spatiaux pour les utiliser. Voir <a class="xref" href="#build-indexes" title="4.9. Index spatiaux">Section 4.9, “Index spatiaux”</a> et <a class="xref" href="#using-query-indexes" title="5.2. Utilisation des index spatiaux">Section 5.2, “Utilisation des index spatiaux”</a> pour plus d'informations. </p><section class="section" id="EWKB_EWKT"><div class="titlepage"><div><div><h3 class="title">4.2.1. PostGIS EWKB et EWKT</h3></div></div></div><p>Les spécifications OGC SFA ne supportaient initialement que les géométries 2D, et le SRID de la géométrie n'est pas inclut dans les représentations d'entrée/sortie. La spécification OGC SFA 1.2.1 (qui est alignée avec le standard ISO 19125) ajoute le support pour la 3D (ZYZ) et les mesures (XYM et XYZM), mais n'inclut toujours pas la valeur du SRID.</p><p>À cause de ces limitations, PostGIS définit les formats étendus EWKB ((Extended Well-Known Binary) et EWKT (Extended Well-Known Text). Ils supportent la 3D (XYZ et XYM) et 4D (XYZM) et incluent l'information de SRID. Le format EWKB incluant toutes les informations de la géométrie, cela permet à PostGIS d'utiliser ce format pour les enregistrements (e.g. dans les fichiers DUMP). </p><p>EWKB et EWKT sont utilisés pour les "formes canoniques" des objets spatiaux de PostGIS. En tant qu'entrée, la forme canonique pour les données binaires est EWKB ; pour les données textuelles EWKB et EWKT sont tous deux acceptés. Cela permet de créer des valeurs géométriques en transtypant une valeur textuelle en HEXEWKB ou EWKT vers une valeur géométrique en utilisant <code class="varname">::geometry</code>. Pour la sortie, la forme canonique pour les données binaires est EWKB et HEXEWKB (hex-encoded EWKB) pour les données textuelles. </p><p>Par exemple, cette requête créé une géométrie en transtypant depuis une chaîne de caractères contenant du EKWT, et retourne sa valeur sous sa forme canonique en HEXEWKB :</p><pre class="programlisting">SELECT 'SRID=4;POINT(0 0)'::geometry;
  geometry
  ----------------------------------------------------
  01010000200400000000000000000000000000000000000000
</pre><p>La sortie PostGIS EWKT a quelques différences avec le OGC WKT :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Pour les géométries 3DZ, le qualificatif Z est omis :</p><p>OGC : POINT Z (1 2 3)</p><p>EWKT : POINT (1 2 3)</p></li><li class="listitem"><p>Pour les géométries 3DM, le qualificatif M est inclus :</p><p>OGC : POINT M (1 2 3)</p><p>EWKT : POINTM (1 2 3)</p></li><li class="listitem"><p>Pour les géométries 4D, le qualificatif ZM est omis :</p><p>OGC : POINT ZM (1 2 3 4)</p><p>EWKT : POINT (1 2 3 4)</p></li></ul></div><p>EWKT évite de sur-spécifier les dimensions et ainsi éviter les inconsistances possibles avec le format OGC/ISO, comme : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>POINT ZM (1 1)</p></li><li class="listitem"><p>POINT ZM (1 1 1)</p></li><li class="listitem"><p>POINT (1 1 1 1)</p></li></ul></div><div class="caution"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Caution]" src="images/caution.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les formats étendus PostGIS sont des sur-ensembles des formats OGC, donc les représentations valides WKB/WKT sont aussi des représentations EWKB/EWKT valides. Cependant, cela pourrait changer à l'avenir, si l'OGC définit un format qui rentrerait en conflit avec la définition de PosGIS. Vous ne devriez donc PAS vous appuyer sur cette compatibilité !</p></td></tr></table></div><p>Voici quelques exemples de représentations d'objets spatiaux sous forme EWKT :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>POINT(0 0 0) -- XYZ</p></li><li class="listitem"><p>SRID=32632;POINT(0 0) -- XY avec SRID</p></li><li class="listitem"><p>POINTM(0 0 0) -- XYM</p></li><li class="listitem"><p>POINT(0 0 0 0) -- XYZM</p></li><li class="listitem"><p>SRID=4326;MULTIPOINTM(0 0 0,1 2 1) -- XYM avec SRID</p></li><li class="listitem"><p>MULTILINESTRING((0 0 0,1 1 0,1 2 1),(2 3 1,3 2 1,5 4 1))</p></li><li class="listitem"><p>POLYGON((0 0 0,4 0 0,4 4 0,0 4 0,0 0 0),(1 1 0,2 1 0,2 2 0,1 2 0,1 1 0))</p></li><li class="listitem"><p>MULTIPOLYGON(((0 0 0,4 0 0,4 4 0,0 4 0,0 0 0),(1 1 0,2 1 0,2 2 0,1 2 0,1 1 0)),((-1 -1 0,-1 -2 0,-2 -2 0,-2 -1 0,-1 -1 0)))</p></li><li class="listitem"><p>GEOMETRYCOLLECTIONM( POINTM(2 3 9), LINESTRINGM(2 3 4, 3 4 5) )</p></li><li class="listitem"><p>MULTICURVE( (0 0, 5 5), CIRCULARSTRING(4 0, 4 4, 8 4) )</p></li><li class="listitem"><p>POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)), ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)), ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)), ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )</p></li><li class="listitem"><p>TRIANGLE ((0 0, 0 10, 10 0, 0 0))</p></li><li class="listitem"><p>TIN( ((0 0 0, 0 0 1, 0 1 0, 0 0 0)), ((0 0 0, 0 1 0, 1 1 0, 0 0 0)) )</p></li></ul></div><p>Des méthodes d'entrée/sortie sont fournies via les fonctions suivantes :</p><pre class="programlisting">bytea EWKB = ST_AsEWKB(geometry);
text EWKT = ST_AsEWKT(geometry);
geometry = ST_GeomFromEWKB(bytea EWKB);
geometry = ST_GeomFromEWKT(text EWKT);</pre><p>Par exemple, une requête pour créer et insérer une objet spatial sous forme de EWKT :</p><pre class="programlisting">INSERT INTO geotable ( geom, name )
  VALUES ( ST_GeomFromEWKT('SRID=312;POINTM(-126.4 45.32 15)'), 'A Place' )</pre></section></section><section class="section" id="PostGIS_Geography"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.3. Type de données Geography</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#Create_Geography_Tables">4.3.1. Création de tables géographiques</a></span></li><li><span class="section"><a href="#Use_Geography_Tables">4.3.2. Utilisation des tables géographiques</a></span></li><li><span class="section"><a href="#PostGIS_GeographyVSGeometry">4.3.3. Quand utiliser le type de données Geography</a></span></li><li><span class="section"><a href="#PostGIS_Geography_AdvancedFAQ">4.3.4. FAQ Geography avancée</a></span></li></ul></div><p>Le type de données PostGIS <code class="varname">geography</code> permet le support des entités spatiales utilisant un système de coordonnées géographique (parfois appelé géodésique, ou "latitude/longitude" ou "longitude/latitude"). Les coordonnées géographiques sont des coordonnées sphériques, exprimées en unités d'angle (degrés). </p><p>Le type geometry de PostGIS est lié à un plan. Ainsi, le chemin le plus court entre deux points sur un plan est la ligne droite. Les fonctions sur les types geometry (aires, distances, intersections, etc.) sont donc calculées en utilisant des lignes droites et les mathématiques cartésiennes. Cela permet des implémentations plus faciles et plus rapides à exécuter, mais cela devient imprécis lorsque la rotondité de la Terre entre en jeu. </p><p>Le type PostGIS geography repose sur un modèle sphérique. Le chemin le plus court entre deux points sur une sphère est l'arc de cercle. Les fonctions sur les types geography (aires, distances, intersections, etc.) sont donc calculées en utilisant des arcs de cercle sur une sphère. En prenant en compte la rotondité de la Terre, ces fonctions permettent d'avoir une meilleure précision.</p><p>Les mathématiques utilisées pour les calculs étant plus compliquées, moins de fonctions sont définies pour le type geography que pour le type geometry. De nouveaux algorithmes sont ajoutés au fur et à mesure des versions de PostGIS, donc le support du type geography s'étend petit à petit. Si une fonction n'est pas disponible, il est toutefois possible de convertir un type geography en geometry puis vice-versa.</p><p>Comme le type geometry, les données géographiques sont liées à un identifiant de système de coordonnées de référence (SRID). Tout système géodésique (reposant sur longitude/latitude) peut être utilisé, tant qu'il défini dans la table <code class="varname">spatial_ref_sys</code>. (Avant PostGIS 2.2, le type geography ne supportait que le SCR WGS 84 (SRID:4326)). Vous pouvez ajouter votre propre SCR géodésique, comme décrit dans <a class="xref" href="#user-spatial-ref-sys" title="4.5.2. Systèmes de référence spatiale définis par l'utilisateur">Section 4.5.2, “Systèmes de référence spatiale définis par l'utilisateur”</a>.</p><p>Pour tous les systèmes de coordonnées de référence, les unités des valeurs retournées par les fonctions de mesure (e.g. <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_Length" title="ST_Length">ST_Length</a>, <a class="xref" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a>, <a class="xref" href="#ST_Area" title="ST_Area">ST_Area</a>) et le paramètre de distance de <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a> sont en mètres.</p><section class="section" id="Create_Geography_Tables"><div class="titlepage"><div><div><h3 class="title">4.3.1. Création de tables géographiques</h3></div></div></div><p>Vous pouvez créer une table pour stocker des données géographiques en utilisant la requête SQL <a class="link" href="https://www.postgresql.org/docs/current/sql-createtable.html" target="_top">CREATE TABLE</a>, avec une colonne de type <code class="varname">geography</code>. L'exemple suivant créé une table avec une colonne géographique pour stocker des lignes 2D dans un SCR géodésique WGS84 (SRID 4326) :</p><pre class="programlisting">CREATE TABLE global_points (
    id SERIAL PRIMARY KEY,
    name VARCHAR(64),
    location geography(POINT,4326)
  );</pre><p>Le type geography supporte deux modificateurs de type :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>le modificateur de type spatial restreint le type de formes et dimensions de la colonne. Les valeurs permises pour le type spatial sont : POINT, LINESTRING, POLYGON, MULTIPOINT, MULTILINESTRING, MULTIPOLYGON, GEOMETRYCOLLECTION. Le type geography ne supporte pas les CURVEs, TINS, ni POLYHEDRALSURFACEs. Le modificateur permet de restreindre la dimension, en ajoutant les suffixes : Z, M ou ZM. Par exemple, un modificateur 'LINESTRINGM' permet uniquement de stocker des LineStrings en 3D, et traite la troisième dimension comme une mesure. De façon similaire, 'POINTZM' limite aux données 4D (XYZM). </p></li><li class="listitem"><p>le modificateur SRID restreint à un SCR spécifique. Si omis, le SRID 4326 (WGS84 géodésique) est utilisé, et tous les calculs sont effectués en utilisant WGS84. </p></li></ul></div><p/><p>Exemples de création de tables utilisant des colonnes géographiques :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Création d'une table avec une géographie POINT 2D avec le SRID par défaut 4326 (WGS84 longitude/latitude) :</p><pre class="programlisting">CREATE TABLE ptgeogwgs(gid serial PRIMARY KEY, geog geography(POINT) );</pre></li><li class="listitem"><p>Création d'une table avec une géographie POINT 2D dans le CRS NAD83 longlat :</p><pre class="programlisting">CREATE TABLE ptgeognad83(gid serial PRIMARY KEY, geog geography(POINT,4269) );</pre></li><li class="listitem"><p>Création d'une table avec une géographie POINT 3D (XYZ) avec le SCR explicite 4326 :</p><pre class="programlisting">CREATE TABLE ptzgeogwgs84(gid serial PRIMARY KEY, geog geography(POINTZ,4326) );</pre></li><li class="listitem"><p>Création d'une table avec une géographie LINESTRING 2D avec le SRID par défaut 4326 :</p><pre class="programlisting">CREATE TABLE lgeog(gid serial PRIMARY KEY, geog geography(LINESTRING) );</pre></li><li class="listitem"><p>Création d'une table avec une géographie POLYGON 2D avec le SRC 4267 (NAD 1927 long lat) :</p><pre class="programlisting">CREATE TABLE lgeognad27(gid serial PRIMARY KEY, geog geography(POLYGON,4267) );</pre></li></ul></div><p>Les colonnes géographiques sont enregistrées dans la vue système <code class="varname">geography_columns</code>. Vous pouvez effectuer un requête sur la vue <code class="varname">geography_columns</code> et vérifier que la table est bien listée :</p><pre class="programlisting">SELECT * FROM geography_columns;</pre><p>La création d'index spatiaux sur les colonnes de type geography fonctionne de la même manière qu'avec le type geometry. PostGIS va prendre en compte que le type de la colonne est GEOGRAPHY et créer un index sphérique au lieu d'un index planaire utilisé pour GEOMETRY.</p><pre class="programlisting">-- Index the test table with a spherical index
CREATE INDEX global_points_gix ON global_points USING GIST ( location );</pre></section><section class="section" id="Use_Geography_Tables"><div class="titlepage"><div><div><h3 class="title">4.3.2. Utilisation des tables géographiques</h3></div></div></div><p>Vous pouvez insérer des données dans des tables géographiques de la même façon qu'avec les géométries. Les données géométriques seront automatiquement transtypées en type geography si le SRID des données est 4326. Les formats <a class="link" href="#EWKB_EWKT" title="4.2.1. PostGIS EWKB et EWKT">EWKT et EWKB</a> peuvent aussi être utilisés pour spécifier les valeurs géographiques.</p><pre class="programlisting">-- Add some data into the test table
INSERT INTO global_points (name, location) VALUES ('Town', 'SRID=4326;POINT(-110 30)');
INSERT INTO global_points (name, location) VALUES ('Forest', 'SRID=4326;POINT(-109 29)');
INSERT INTO global_points (name, location) VALUES ('London', 'SRID=4326;POINT(0 49)');
</pre><p>Tout CRS géodésique (longitude/latitude) disponible dans la table <code class="varname">spatial_ref_sys</code> peut être utilisé comme SRID d'une géographie. L'utilisation d'un CRS non géodésique provoquera une erreur. </p><pre class="programlisting">-- NAD 83 lon/lat
SELECT 'SRID=4269;POINT(-123 34)'::geography;
                    geography
----------------------------------------------------
 0101000020AD1000000000000000C05EC00000000000004140
</pre><pre class="programlisting">-- NAD27 lon/lat
SELECT 'SRID=4267;POINT(-123 34)'::geography;
                    geography
----------------------------------------------------
 0101000020AB1000000000000000C05EC00000000000004140
</pre><pre class="programlisting">-- NAD83 UTM zone meters - gives an error since it is a meter-based planar projection
SELECT 'SRID=26910;POINT(-123 34)'::geography;

ERROR:  Only lon/lat coordinate systems are supported in geography.
</pre><p>Les requêtes et les fonctions de mesure utilisent le mètre comme unité. Les paramètres de distance doivent être exprimés en mètres, et les valeurs de retours seront également en mètres (ou en mètres carré pour les surfaces).</p><pre class="programlisting">-- A distance query using a 1000km tolerance
SELECT name FROM global_points WHERE ST_DWithin(location, 'SRID=4326;POINT(-110 29)'::geography, 1000000);</pre><p>Vous pouvez vérifier la puissance des géographies en calculant à quel point un avion s'approche de Reykjavik (POINT(-21.96 64.15)) lors d'un trajet en arc de cercle depuis Seattle à Londres (LINESTRING(-122.33 47.606, 0.0 51.5)) (<a class="link" href="http://gc.kls2.com/cgi-bin/gc?PATH=SEA-LHR" target="_top">voir la route</a>). </p><p>Le type geography donne la plus petite distance réelle de 122,235 km sur la sphère entre Reykjavik et l'arc de cercle entre Seattle et Londres.</p><pre class="programlisting">-- Distance calculation using GEOGRAPHY
SELECT ST_Distance('LINESTRING(-122.33 47.606, 0.0 51.5)'::geography, 'POINT(-21.96 64.15)'::geography);
   st_distance
-----------------
 122235.23815667</pre><p>Le type geometry quant à lui calcule la distance cartésienne entre Reykjavik et la ligne droite entre Seattle et Londres, telle qu'elle serait tracée sur un plan. Cette distance n'a pas de sens réel, d'autant que l'unité du résultat est techniquement en degrés, mais que le résultat ne correspond à aucune différence angulaire entre les points, donc même considérer le résultat comme des degrés serait faux.</p><pre class="programlisting">-- Distance calculation using GEOMETRY
SELECT ST_Distance('LINESTRING(-122.33 47.606, 0.0 51.5)'::geometry, 'POINT(-21.96 64.15)'::geometry);
      st_distance
--------------------
 13.342271221453624
</pre></section><section class="section" id="PostGIS_GeographyVSGeometry"><div class="titlepage"><div><div><h3 class="title">4.3.3. Quand utiliser le type de données Geography</h3></div></div></div><p>Le type de données geography permet de stocker des données en utilisant les coordonnées longitude/latitude, mais cela a un prix : il y a moins de fonctions disponibles sur le type GEOGRAPHY que sur le type GEOMETRY, et les fonctions disponibles prendront plus de temps CPU pour s'exécuter.</p><p>Le type de données à choisir devrait être déterminé par la zone de travail de l'application que vous construisez. Est-ce que vos données s'étendront sur l'ensemble du globe ou sur un continent, ou bien est-ce qu'elle seront locales, comme une région, un département ou une ville ? </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Si vous données sont limitées à une petite zone, utiliser un SCR adéquat et le type GEOMETRY est la meilleure solution, à la fois en terme de performances que de fonctionnalités disponibles.</p></li><li class="listitem"><p>Si vos données s'étendent sur le monde entier ou couvrent un continent, le type GEOGRAPHY peut vous permettre de construire votre application sans trop vous soucier des projections. Vous pouvez stocker vos données en utilisant les coordonnées longitude/latitude, et utiliser les fonctions définies sur les GEOGRAPHY.</p></li><li class="listitem"><p>Si vous n'êtes pas à l'aise avec les projections, que vous ne souhaitez pas approfondir le sujet, et que vous êtes prêts à accepter les limitations sur les fonctionnalités offertes par GEOGRAPHY, alors ce peut être plus facile d'utiliser GEOGRAPHY au lieu de GEOMETRY. Chargez vos données en longitude/latitude et partez de là.</p></li></ul></div><p>Référez-vous à <a class="xref" href="#PostGIS_TypeFunctionMatrix" title="13.11. Matrice d'aide aux fonctions de PostGIS">Section 13.11, “Matrice d'aide aux fonctions de PostGIS”</a> pour comparer les supports Geography et Geometry. Pour avoir un résumé des fonctions géographiques disponibles, référez-vous à <a class="xref" href="#PostGIS_GeographyFunctions" title="13.4. Fonctions d'aide au type geography de PostGIS">Section 13.4, “Fonctions d'aide au type geography de PostGIS”</a> </p></section><section class="section" id="PostGIS_Geography_AdvancedFAQ"><div class="titlepage"><div><div><h3 class="title">4.3.4. FAQ Geography avancée</h3></div></div></div><div class="qandaset" id="idm1610"><ul><li><a href="#idm1611">4.3.4.1. Les calculs sont-ils faits sur la sphère ou sur la sphéroïde ?</a></li><li><a href="#idm1617">4.3.4.2. Qu'en est-il de la ligne de changement de date et des pôles ?</a></li><li><a href="#idm1622">4.3.4.3. Quel est l'arc le plus long que vous puissiez traiter ?</a></li><li><a href="#idm1627">4.3.4.4. Pourquoi est-il si lent de calculer la superficie de l'Europe / de la Russie / insérer une grande région géographique ici ?</a></li></ul><table style="border: 0; width: 100%;"><colgroup><col style="text-align: left; width: 1%; "/><col/></colgroup><tbody><tr class="question" id="idm1611"><td style="text-align: left; vertical-align: top; " id="idm1612"><p><strong>4.3.4.1.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>Les calculs sont-ils faits sur la sphère ou sur la sphéroïde ?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>Par défaut, tous les calculs sur les distances et les surfaces sont effectués sur la sphéroïde. Les résultats des calculs sur les petites zones devraient coïncider avec les résultats des calculs planaire en utilisant les projections locales adéquates. Sur de plus grandes zones, les calculs sphéroïdaux seront plus précis que ceux effectués sur un plan projeté. </p><p>Toutes les fonctions géographiques ont une option pour calculer sur une sphère, en passant comme tout dernier paramètre booléen 'FALSE'. Ceci améliorera les performances des calculs, en particulier pour les géométries très simples.</p></td></tr><tr class="question" id="idm1617"><td style="text-align: left; vertical-align: top; " id="idm1618"><p><strong>4.3.4.2.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>Qu'en est-il de la ligne de changement de date et des pôles ?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>Tous les calculs omettent les concepts de ligne de changement de date et de pôles. Les coordonnées étant sphériques (longitude/latitude), une forme traversant la ligne de changement de date n'est, d'un point de vue calculs, pas différente de toute autre forme. </p></td></tr><tr class="question" id="idm1622"><td style="text-align: left; vertical-align: top; " id="idm1623"><p><strong>4.3.4.3.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>Quel est l'arc le plus long que vous puissiez traiter ?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>Nous utilisons les arcs de grand cercle comme "ligne d'interpolation" entre deux points. Cela signifie que deux points quelconques sont en fait reliés de deux manières différentes, selon la direction dans laquelle vous vous déplacez le long du grand cercle. Tout notre code suppose que les points sont reliés par le *plus court* des deux chemins le long du grand cercle. Par conséquent, les formes qui ont des arcs de plus de 180 degrés ne seront pas correctement modélisées.</p></td></tr><tr class="question" id="idm1627"><td style="text-align: left; vertical-align: top; " id="idm1628"><p><strong>4.3.4.4.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>Pourquoi est-il si lent de calculer la superficie de l'Europe / de la Russie / insérer une grande région géographique ici ?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>Parce que le polygone est vraiment énorme ! Les grandes zones sont néfastes pour deux raisons : leurs limites sont énormes, de sorte que l'index a tendance à tirer l'élément, quelle que soit la requête que vous exécutez ; le nombre de sommets est énorme, et les tests (distance, confinement) doivent parcourir la liste des sommets au moins une fois et parfois N fois (N étant le nombre de sommets dans l'autre élément candidat). </p><p>Comme pour la GÉOMÉTRIE, nous vous recommandons, lorsque vous avez de très grands polygones, mais que vous effectuez des requêtes sur de petites zones, de "dénormaliser" vos données géométriques en morceaux plus petits, de sorte que l'index puisse effectivement interroger des parties de l'objet et que les requêtes n'aient pas à extraire l'objet entier à chaque fois. Veuillez consulter la documentation de la fonction <a class="xref" href="#ST_Subdivide" title="ST_Subdivide">ST_Subdivide</a>. Ce n'est pas parce que vous *pouvez* stocker toute l'Europe dans un polygone que vous *devriez* le faire.</p></td></tr></tbody></table></div></section></section><section class="section" id="OGC_Validity"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.4. Validation de la géométrie</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#Simple_Geometry">4.4.1. Géométrie simple</a></span></li><li><span class="section"><a href="#Valid_Geometry">4.4.2. Géométrie valide</a></span></li><li><span class="section"><a href="#Managing_Validity">4.4.3. Gestion de la validité</a></span></li></ul></div><p>PostGIS est conforme à la spécification Simple Features de l'Open Geospatial Consortium (OGC). Cette norme définit les concepts de géométrie comme étant <span class="emphasis"><em>simple</em></span> et <span class="emphasis"><em>valide</em></span>. Ces définitions permettent au modèle géométrique Simple Features de représenter les objets spatiaux d'une manière cohérente et non ambiguë qui permet un calcul efficace. (Remarque : l'OGC SF et SQL/MM ont les mêmes définitions pour simple et valide.) </p><section class="section" id="Simple_Geometry"><div class="titlepage"><div><div><h3 class="title">4.4.1. Géométrie simple</h3></div></div></div><p>Une géométrie <span class="emphasis"><em>simple</em></span> est une géométrie qui ne présente pas de points géométriques anormaux, tels qu'une intersection ou une tangence propre. </p><p>Un <code class="varname">POINT</code> est intrinsèquement <span class="emphasis"><em>simple</em></span> en tant qu'objet géométrique à 0 dimension.</p><p>Les <code class="varname">MULTIPOINT</code> sont <span class="emphasis"><em>simples</em></span> si deux coordonnées (<code class="varname">POINT</code>s) ne sont pas égales (ont des valeurs de coordonnées identiques).</p><p>Une <code class="varname">LINESTRING</code> est <span class="emphasis"><em>simple</em></span> si elle ne passe pas deux fois par le même point, à l'exception des extrémités. Si les extrémités d'une simple LineString sont identiques, elle est dite <span class="emphasis"><em>fermée</em></span> et appelée anneau linéaire.</p><div class="informaltable"><table style="border: none;"><colgroup><col/></colgroup><tbody><tr><td><p><span class="emphasis"><em><span class="bold"><strong>(a)</strong></span> et <span class="bold"><strong>(c)</strong></span> sont des <code class="varname">LINESTRING</code> simples. <span class="bold"><strong>(b)</strong></span> et <span class="bold"><strong>(d)</strong></span> ne sont pas simples. <span class="bold"><strong>(c)</strong></span> est un anneau linéaire fermé. </em></span></p></td></tr></tbody></table><table style="border: none;"><colgroup><col/><col/></colgroup><tbody><tr><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_issimple01.png"/><div class="caption"><p><span class="bold"><strong>(a)</strong></span></p></div></div></div></td><td style="text-align: center; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_issimple02.png"/><div class="caption"><p><span class="bold"><strong>(b)</strong></span></p></div></div></div></td></tr><tr><td style="text-align: center; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_issimple03.png"/><div class="caption"><p><span class="bold"><strong>(c)</strong></span></p></div></div></div></td><td style="text-align: center; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_issimple04.png"/><div class="caption"><p><span class="bold"><strong>(d)</strong></span></p></div></div></div></td></tr></tbody></table></div><p>Un <code class="varname">MULTILINESTRING</code> est <span class="emphasis"><em>simple</em></span> uniquement si tous ses éléments sont simples et si la seule intersection entre deux éléments quelconques se produit en des points situés sur les limites des deux éléments. </p><div class="informaltable"><table style="border: none;"><colgroup><col/></colgroup><tbody><tr><td><p><span class="emphasis"><em><span class="bold"><strong>(e)</strong></span> et <span class="bold"><strong>(f)</strong></span> sont de simples <code class="varname">MULTILINESTRING</code>s. <span class="bold"><strong>(g)</strong></span> n'est pas simple. </em></span></p></td></tr></tbody></table><table style="border: none;"><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="text-align: center; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_issimple05.png"/><div class="caption"><p><span class="bold"><strong>(e)</strong></span></p></div></div></div></td><td style="text-align: center; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_issimple06.png"/><div class="caption"><p><span class="bold"><strong>(f)</strong></span></p></div></div></div></td><td style="text-align: center; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_issimple07.png"/><div class="caption"><p><span class="bold"><strong>(g)</strong></span></p></div></div></div></td></tr></tbody></table></div><p>Les <code class="varname">POLYGON</code> sont formés à partir d'anneaux linéaires, de sorte que la géométrie polygonale valide est toujours <span class="emphasis"><em>simple</em></span>.</p><p>Pour tester si une géométrie est simple, utilisez la fonction <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a> :</p><pre class="programlisting">SELECT
   ST_IsSimple('LINESTRING(0 0, 100 100)') AS straight,
   ST_IsSimple('LINESTRING(0 0, 100 100, 100 0, 0 100)') AS crossing;

 straight | crossing
----------+----------
 t        | f
</pre><p>En général, les fonctions PostGIS n'exigent pas que les arguments géométriques soient simples. La simplicité est principalement utilisée comme base pour définir la validité géométrique. C'est également une exigence pour certains types de modèles de données spatiales (par exemple, les réseaux linéaires interdisent souvent les lignes qui se croisent). La géométrie multipoint et linéaire peut être rendue simple en utilisant <a class="xref" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a>. </p></section><section class="section" id="Valid_Geometry"><div class="titlepage"><div><div><h3 class="title">4.4.2. Géométrie valide</h3></div></div></div><p>La validité géométrique s'applique principalement aux géométries bidimensionnelles (<code class="varname">POLYGON</code>s et <code class="varname">MULTIPOLYGON</code>s). La validité est définie par des règles qui permettent à la géométrie polygonale de modéliser des zones planes sans ambiguïté. </p><p>Un <code class="varname">POLYGON</code> est <span class="emphasis"><em>valide</em></span> si : </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>les anneaux de délimitation du polygone (l'anneau extérieur de la coquille et les anneaux intérieurs des trous) sont <span class="emphasis"><em>simples</em></span> (ils ne se croisent pas et ne se touchent pas). Pour cette raison, un polygone ne peut pas avoir de lignes de coupe, de pointes ou de boucles. Cela implique que les trous des polygones doivent être représentés par des anneaux intérieurs, plutôt que par l'anneau extérieur qui se touche (ce qu'on appelle un "trou inversé"). </p></li><li class="listitem"><p>les anneaux de délimitation ne se croisent pas </p></li><li class="listitem"><p>Les anneaux de délimitation peuvent se toucher en certains points, mais uniquement sous la forme d'une tangente (c'est-à-dire pas sous la forme d'une ligne) </p></li><li class="listitem"><p>les anneaux intérieurs sont contenus dans l'anneau extérieur </p></li><li class="listitem"><p>l'intérieur du polygone est simplement connecté (c'est-à-dire que les anneaux ne doivent pas se toucher d'une manière qui divise le polygone en plus d'une partie) </p></li></ol></div><div class="informaltable"><table style="border: none;"><colgroup><col/></colgroup><tbody><tr><td><p><span class="emphasis"><em><span class="bold"><strong>(h)</strong></span> et <span class="bold"><strong>(i)</strong></span> sont des <code class="varname">POLYGON</code> valides. <span class="bold"><strong>(j-m)</strong></span> ne sont pas valides. <span class="bold"><strong>(j)</strong></span> peut être représenté comme un <code class="varname">MULTIPOLYGON</code> valide. </em></span></p></td></tr></tbody></table><table style="border: none;"><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid01.png"/><div class="caption"><p><span class="bold"><strong>(h)</strong></span></p></div></div></div></td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid02.png"/><div class="caption"><p><span class="bold"><strong>(i)</strong></span></p></div></div></div></td><td style="text-align: center; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid03.png"/><div class="caption"><p><span class="bold"><strong>(j)</strong></span></p></div></div></div></td></tr><tr><td style="text-align: center; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid04.png"/><div class="caption"><p><span class="bold"><strong>(k)</strong></span></p></div></div></div></td><td style="text-align: center; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid05.png"/><div class="caption"><p><span class="bold"><strong>(l)</strong></span></p></div></div></div></td><td style="text-align: center; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid06.png"/><div class="caption"><p><span class="bold"><strong>(m)</strong></span></p></div></div></div></td></tr></tbody></table></div><p>Un <code class="varname">MULTIPOLYGON</code> est <span class="emphasis"><em>valide</em></span> si : </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>ses éléments <code class="varname">POLYGON</code> sont valides </p></li><li class="listitem"><p>les éléments ne se chevauchent pas (c'est-à-dire que leurs intérieurs ne doivent pas se croiser) </p></li><li class="listitem"><p>les éléments ne se touchent que par des points (c'est-à-dire pas le long d'une ligne) </p></li></ol></div><div class="informaltable"><table style="border: none;"><colgroup><col/></colgroup><tbody><tr><td><p><span class="emphasis"><em><span class="bold"><strong>(n)</strong></span> est un <code class="varname">MULTIPOLYGON</code> valide. <span class="bold"><strong>(o)</strong></span> et <span class="bold"><strong>(p)</strong></span> ne sont pas valides. </em></span></p></td></tr></tbody></table><table style="border: none;"><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="text-align: center; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid09.png"/><div class="caption"><p><span class="bold"><strong>(n)</strong></span></p></div></div></div></td><td style="text-align: center; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid07.png"/><div class="caption"><p><span class="bold"><strong>(o)</strong></span></p></div></div></div></td><td style="text-align: center; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid08.png"/><div class="caption"><p><span class="bold"><strong>(p)</strong></span></p></div></div></div></td></tr></tbody></table></div><p>Ces règles signifient que la géométrie polygonale valide est également <span class="emphasis"><em>simple</em></span>. </p><p>Pour la géométrie linéaire, la seule règle de validité est que les <code class="varname">LINESTRING</code> doivent avoir au moins deux points et une longueur non nulle (ou, de façon équivalente, au moins deux points distincts). </p><pre class="programlisting">SELECT
   ST_IsValid('LINESTRING(0 0, 1 1)') AS len_nonzero,
   ST_IsValid('LINESTRING(0 0, 0 0, 0 0)') AS len_zero,
   ST_IsValid('LINESTRING(10 10, 150 150, 180 50, 20 130)') AS self_int;

 len_nonzero | len_zero | self_int
-------------+----------+----------
 t           | f        | t
</pre><p>Les géométries <code class="varname">POINT</code> et <code class="varname">MULTIPOINT</code> n'ont pas de règles de validité. </p></section><section class="section" id="Managing_Validity"><div class="titlepage"><div><div><h3 class="title">4.4.3. Gestion de la validité</h3></div></div></div><p>PostGIS permet de créer et de stocker des géométries valides et non valides. Cela permet de détecter les géométries non valides et de les signaler ou de les corriger. Il existe également des situations où les règles de validité de l'OGC sont plus strictes que souhaité (par exemple, les lignes de longueur nulle et les polygones avec des trous inversés.) </p><p>De nombreuses fonctions fournies par PostGIS reposent sur l'hypothèse que les arguments géométriques sont valides. Par exemple, il n'est pas logique de calculer la surface d'un polygone dont le trou est défini à l'extérieur du polygone, ou de construire un polygone à partir d'une ligne de démarcation non simple. Le fait de supposer que les entrées géométriques sont valides permet aux fonctions de fonctionner plus efficacement, puisqu'elles n'ont pas besoin de vérifier l'exactitude topologique. (Les exceptions notables sont que les lignes de longueur nulle et les polygones avec des inversions sont généralement traités correctement). En outre, la plupart des fonctions PostGIS produisent une géométrie valide si les données d'entrée sont valides. Cela permet d'enchaîner les fonctions PostGIS en toute sécurité. </p><p>Si vous rencontrez des messages d'erreur inattendus lors de l'appel de fonctions PostGIS (tels que "GEOS Intersection() threw an error !"), vous devez d'abord vous assurer que les arguments de la fonction sont valides. Si ce n'est pas le cas, envisagez d'utiliser l'une des techniques ci-dessous pour vous assurer que les données que vous traitez sont valides. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si une fonction signale une erreur avec des entrées valides, il se peut que vous ayez trouvé une erreur dans PostGIS ou dans l'une des bibliothèques qu'il utilise, et vous devez le signaler au projet PostGIS. Il en va de même si une fonction PostGIS renvoie une géométrie non valide pour des données d'entrée valides.</p></td></tr></table></div><p>Pour vérifier si une géométrie est valide, utilisez la fonction <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a> : </p><pre class="programlisting">SELECT ST_IsValid('POLYGON ((20 180, 180 180, 180 20, 20 20, 20 180))');
-----------------
 t
</pre><p>Les informations relatives à la nature et à la localisation d'une invalidité géométrique sont fournies par la fonction <a class="xref" href="#ST_IsValidDetail" title="ST_IsValidDetail">ST_IsValidDetail</a> : </p><pre class="programlisting">SELECT valid, reason, ST_AsText(location) AS location
    FROM ST_IsValidDetail('POLYGON ((20 20, 120 190, 50 190, 170 50, 20 20))') AS t;

 valid |      reason       |                  location
-------+-------------------+---------------------------------------------
 f     | Self-intersection | POINT(91.51162790697674 141.56976744186045)
</pre><p>Dans certaines situations, il est souhaitable de corriger automatiquement la géométrie non valide. Utilisez la fonction <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> pour cela. (<code class="code">ST_MakeValid</code> est un exemple de fonction spatiale qui <span class="emphasis"><em>doit</em></span> permettre une entrée non valide !) </p><p>Par défaut, PostGIS ne vérifie pas la validité lors du chargement de la géométrie, car les tests de validité peuvent prendre beaucoup de temps CPU pour les géométries complexes. Si vous ne faites pas confiance à vos sources de données, vous pouvez imposer un contrôle de validité à vos tables en ajoutant une contrainte de contrôle :</p><pre class="programlisting">ALTER TABLE mytable
  ADD CONSTRAINT geometry_valid_check
        CHECK (ST_IsValid(geom));</pre></section></section><section class="section" id="spatial_ref_sys"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.5. Systèmes de référence spatiale</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#spatial_ref_sys_table">4.5.1. Table SPATIAL_REF_SYS</a></span></li><li><span class="section"><a href="#user-spatial-ref-sys">4.5.2. Systèmes de référence spatiale définis par l'utilisateur</a></span></li></ul></div><p>Un <a class="link" href="https://en.wikipedia.org/wiki/Spatial_reference_system" target="_top">système de référence spatiale</a> (SRS) (également appelé système de référence des coordonnées (SRC)) définit la manière dont la géométrie est référencée par rapport à des emplacements sur la surface de la Terre. Il existe trois types de SRS : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Un SRS <span class="bold"><strong>géodésique</strong></span> utilise des coordonnées angulaires (longitude et latitude) qui correspondent directement à la surface de la terre. </p></li><li class="listitem"><p>Un SRS <span class="bold"><strong>projeté</strong></span> utilise une transformation mathématique de projection pour "aplatir" la surface de la terre sphéroïdale sur un plan. Il attribue des coordonnées de localisation d'une manière qui permet de mesurer directement des quantités telles que la distance, la surface et l'angle. Le système de coordonnées est cartésien, ce qui signifie qu'il a un point d'origine défini et deux axes perpendiculaires (généralement orientés vers le nord et l'est). Chaque SRS projeté utilise une unité de longueur définie (généralement des mètres ou des pieds). Un SRS projeté peut être limité dans sa zone d'applicabilité afin d'éviter toute distorsion et de s'inscrire dans les limites des coordonnées définies. </p></li><li class="listitem"><p>Un SRS <span class="bold"><strong>local</strong></span> est un système de coordonnées cartésiennes qui n'est pas référencé à la surface de la terre. Dans PostGIS, ce système est spécifié par une valeur SRID de 0. </p></li></ul></div><p>Il existe de nombreux systèmes de référence spatiale différents. Les SRS courants sont normalisés dans la base de données de l'European Petroleum Survey Group <a class="link" href="http://www.epsg.org/" target="_top">EPSG database</a>. Par commodité, PostGIS (et de nombreux autres systèmes spatiaux) se réfère aux définitions des SRS à l'aide d'un identifiant entier appelé SRID. </p><p>Une géométrie est associée à un système de référence spatiale par sa valeur SRID, à laquelle on accède par <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a>. Le SRID d'une géométrie peut être assigné en utilisant <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>. Certaines fonctions de construction de géométrie permettent de fournir un SRID (telles que <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a> et <a class="xref" href="#ST_MakeEnvelope" title="ST_MakeEnvelope">ST_MakeEnvelope</a>). Le format <a class="link" href="#EWKB_EWKT" title="4.2.1. PostGIS EWKB et EWKT">EWKT</a> prend en charge les SRID avec le préfixe <code class="code">SRID=n;</code>. </p><p>Les fonctions spatiales qui traitent des paires de géométries (telles que les fonctions <a class="link" href="#Overlay_Functions" title="7.13. Fonctions de superposition">overlay</a> et <a class="link" href="#Spatial_Relationships" title="7.11. Relations spatiales">relationship</a>) exigent que les géométries d'entrée soient dans le même système de référence spatiale (qu'elles aient le même SRID). Les données géométriques peuvent être transformées dans un système de référence spatiale différent en utilisant <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a> et <a class="xref" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a>. Les géométries renvoyées par les fonctions ont le même SRS que les géométries d'entrée. </p><section class="section" id="spatial_ref_sys_table"><div class="titlepage"><div><div><h3 class="title">4.5.1. Table SPATIAL_REF_SYS</h3></div></div></div><p>La table <code class="varname">SPATIAL_REF_SYS</code> utilisée par PostGIS est une table de base de données conforme à l'OGC qui définit les systèmes de référence spatiale disponibles. Elle contient les SRID numériques et les descriptions textuelles des systèmes de coordonnées. </p><p>La définition de la table <code class="varname">spatial_ref_sys</code> est la suivante :</p><pre class="programlisting">CREATE TABLE spatial_ref_sys (
  srid       INTEGER NOT NULL PRIMARY KEY,
  auth_name  VARCHAR(256),
  auth_srid  INTEGER,
  srtext     VARCHAR(2048),
  proj4text  VARCHAR(2048)
)</pre><p>Les colonnes sont :</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">srid</code></span></dt><dd><p>Un code entier qui identifie de manière unique le <a class="link" href="http://en.wikipedia.org/wiki/SRID" target="_top">Système de référence spatiale</a> (SRS) dans la base de données.</p></dd><dt><span class="term"><code class="varname">auth_name</code></span></dt><dd><p>Le nom de la norme ou de l'organisme de normalisation qui est cité pour ce système de référence. Par exemple, "EPSG" est un <code class="varname">auth_name</code> valide.</p></dd><dt><span class="term"><code class="varname">auth_srid</code></span></dt><dd><p>L'ID du système de référence spatiale tel que défini par l'autorité citée dans le <code class="varname">auth_name</code>. Dans le cas de l'EPSG, il s'agit du code EPSG.</p></dd><dt><span class="term"><code class="varname">srtext</code></span></dt><dd><p>Représentation Well-Known Text du système de référence spatiale. Un exemple de représentation WKT du SRS est le suivant :</p><pre class="programlisting">PROJCS["NAD83 / UTM Zone 10N",
  GEOGCS["NAD83",
        DATUM["North_American_Datum_1983",
          SPHEROID["GRS 1980",6378137,298.257222101]
        ],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]
  ],
  PROJECTION["Transverse_Mercator"],
  PARAMETER["latitude_of_origin",0],
  PARAMETER["central_meridian",-123],
  PARAMETER["scale_factor",0.9996],
  PARAMETER["false_easting",500000],
  PARAMETER["false_northing",0],
  UNIT["metre",1]
]</pre><p>Pour une discussion sur le SRS WKT, voir la norme OGC <a class="link" href="http://docs.opengeospatial.org/is/12-063r5/12-063r5.html" target="_top">Well-known text representation of coordinate reference systems</a>. </p></dd><dt><span class="term"><code class="varname">proj4text</code></span></dt><dd><p>PostGIS utilise la bibliothèque PROJ pour fournir des capacités de transformation de coordonnées. La colonne <code class="varname">proj4text</code> contient la chaîne de caractères de définition des coordonnées PROJ pour un SRID particulier. Par exemple :</p><pre class="programlisting">+proj=utm +zone=10 +ellps=clrk66 +datum=NAD27 +units=m</pre><p>Pour plus d'informations, consultez le <a class="link" href="https://proj.org/" target="_top">site web de PROJ</a>. Le fichier <code class="filename">spatial_ref_sys.sql</code> contient les définitions <code class="varname">srtext</code> et <code class="varname">proj4text</code> pour toutes les projections EPSG.</p></dd></dl></div><p>Lors de la récupération des définitions des systèmes de référence spatiale pour les utiliser dans les transformations, PostGIS utilise la stratégie suivante : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Si <code class="varname">auth_name</code> et <code class="varname">auth_srid</code> sont présents (non NULL), utiliser le PROJ SRS basé sur ces entrées (si au moins un existe). </p></li><li class="listitem"><p>Si <code class="varname">srtext</code> est présent, créez un SRS en l'utilisant, si possible. </p></li><li class="listitem"><p>Si <code class="varname">proj4text</code> est présent, créez un SRS en l'utilisant, si possible. </p></li></ul></div></section><section class="section" id="user-spatial-ref-sys"><div class="titlepage"><div><div><h3 class="title">4.5.2. Systèmes de référence spatiale définis par l'utilisateur</h3></div></div></div><p>La table PostGIS <code class="varname">spatial_ref_sys</code> contient plus de 3000 définitions des systèmes de référence spatiale les plus courants qui sont gérés par la bibliothèque de projection <a class="link" href="https://proj.org" target="_top">PROJ</a>. Mais il existe de nombreux systèmes de coordonnées qu'elle ne contient pas. Vous pouvez ajouter des définitions de SRS à la table si vous disposez des informations requises sur le système de référence spatiale. Vous pouvez également définir votre propre système de référence spatiale personnalisé si vous êtes familiarisé avec les constructions PROJ. Gardez à l'esprit que la plupart des systèmes de référence spatiale sont régionaux et n'ont aucune signification lorsqu'ils sont utilisés en dehors des limites pour lesquelles ils ont été conçus.</p><p>Une ressource permettant de trouver des systèmes de référence spatiale non définis dans le jeu de base est <a class="link" href="http://spatialreference.org/" target="_top">http://spatialreference.org/</a></p><p>Les systèmes de référence spatiale les plus couramment utilisés sont les suivants : <a class="link" href="http://spatialreference.org/ref/epsg/4326/" target="_top">4326 - WGS 84 Long Lat</a>, <a class="link" href="http://spatialreference.org/ref/epsg/4269/" target="_top">4269 - NAD 83 Long Lat</a>, <a class="link" href="http://spatialreference.org/ref/epsg/3395/" target="_top">3395 - WGS 84 World Mercator</a>, <a class="link" href="http://spatialreference.org/ref/epsg/2163/" target="_top">2163 - US National Atlas Equal Area</a>, et les 60 zones UTM WGS84. Les zones UTM sont parmi les plus idéales pour les mesures, mais elles ne couvrent que des régions de 6 degrés. (Pour déterminer la zone UTM à utiliser pour votre zone d'intérêt, voir la <a class="link" href="http://trac.osgeo.org/postgis/wiki/UsersWikiplpgsqlfunctionsDistance" target="_top">utmzone PostGIS plpgsql helper function</a>.) </p><p>Les États américains utilisent des systèmes de référence spatiale State Plane (basés sur le mètre ou le pied) - il en existe généralement un ou deux par État. La plupart des systèmes basés sur le mètre se trouvent dans le jeu de base, mais de nombreux systèmes basés sur le pied ou créés par ESRI devront être copiés à partir de <a class="link" href="http://spatialreference.org" target="_top">spatialreference.org</a>. </p><p>Vous pouvez même définir des systèmes de coordonnées non terrestres, tels que <a class="link" href="http://spatialreference.org/ref/iau2000/mars-2000/" target="_top">Mars 2000</a> Ce système de coordonnées martien n'est pas planaire (il est en degrés sphéroïdaux), mais vous pouvez l'utiliser avec le type <code class="varname">géographie</code> pour obtenir des mesures de longueur et de proximité en mètres au lieu de degrés.</p><p>Voici un exemple de chargement d'un système de coordonnées personnalisé à l'aide d'un SRID non attribué et de la définition PROJ pour une projection Lambert conforme centrée sur les États-Unis :</p><pre class="programlisting">INSERT INTO spatial_ref_sys (srid, proj4text)
VALUES ( 990000,
  '+proj=lcc  +lon_0=-95 +lat_0=25 +lat_1=25 +lat_2=25 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs'
);
</pre></section></section><section class="section" id="idm2036"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.6. Tables spatiales</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#Create_Spatial_Table">4.6.1. Créer une table spatiale</a></span></li><li><span class="section"><a href="#geometry_columns">4.6.2. Vue GEOMETRY_COLUMNS</a></span></li><li><span class="section"><a href="#Manual_Register_Spatial_Column">4.6.3. Enregistrement manuel des colonnes de géométrie</a></span></li></ul></div><section class="section" id="Create_Spatial_Table"><div class="titlepage"><div><div><h3 class="title">4.6.1. Créer une table spatiale</h3></div></div></div><p>Vous pouvez créer une table pour stocker des données géométriques en utilisant l'instruction SQL <a class="link" href="https://www.postgresql.org/docs/current/sql-createtable.html" target="_top">CREATE TABLE</a> avec une colonne de type <code class="varname">geometry</code>. L'exemple suivant crée une table avec une colonne géométrie stockant des chaînes de lignes 2D (XY) dans le système de coordonnées BC-Albers (SRID 3005) :</p><pre class="programlisting">CREATE TABLE roads (
    id SERIAL PRIMARY KEY,
    name VARCHAR(64),
    geom geometry(LINESTRING,3005)
  );</pre><p>Le type <code class="varname">geometry</code> prend en charge deux <span class="bold"><strong>modificateurs de type</strong></span> facultatifs :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>le <span class="bold"><strong>modificateur de type spatial</strong></span> restreint le type de formes et de dimensions autorisées dans la colonne. La valeur peut être l'un des <a class="link" href="#RefObject" title="4.1. Modèle de données spatiales">sous-types de géométrie</a> pris en charge (par exemple POINT, LINESTRING, POLYGON, MULTIPOINT, MULTILINESTRING, MULTIPOLYGON, GEOMETRYCOLLECTION, etc). Le modificateur prend en charge les restrictions de dimensionnalité des coordonnées en ajoutant des suffixes : Z, M et ZM. Par exemple, le modificateur "LINESTRINGM" n'autorise que les lignes à trois dimensions et traite la troisième dimension comme une mesure. De même, "POINTZM" requiert des données à quatre dimensions (XYZM). </p></li><li class="listitem"><p>le <span class="bold"><strong>modificateur SRID</strong></span> limite le <a class="link" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">système de référence spatiale</a> SRID à un nombre particulier. S'il est omis, le SRID prend par défaut la valeur 0. </p></li></ul></div><p/><p>Exemples de création de tableaux avec des colonnes géométriques :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Créer une table contenant n'importe quel type de géométrie avec le SRID par défaut :</p><pre class="programlisting">CREATE TABLE geoms(gid serial PRIMARY KEY, geom geometry );</pre></li><li class="listitem"><p>Créer une table avec une géométrie POINT 2D avec le SRID par défaut :</p><pre class="programlisting">CREATE TABLE pts(gid serial PRIMARY KEY, geom geometry(POINT) );</pre></li><li class="listitem"><p>Créer une table avec des POINTS 3D (XYZ) et un SRID explicite de 3005 :</p><pre class="programlisting">CREATE TABLE pts(gid serial PRIMARY KEY, geom geometry(POINTZ,3005) );</pre></li><li class="listitem"><p>Créer une table avec une géométrie 4D (XYZM) LINESTRING avec le SRID par défaut :</p><pre class="programlisting">CREATE TABLE lines(gid serial PRIMARY KEY, geom geometry(LINESTRINGZM) );</pre></li><li class="listitem"><p>Créer une table avec une géométrie POLYGON 2D avec le SRID 4267 (NAD 1927 long lat) :</p><pre class="programlisting">CREATE TABLE polys(gid serial PRIMARY KEY, geom geometry(POLYGON,4267) );</pre></li></ul></div><p>Il est possible d'avoir plus d'une colonne de géométrie dans une table. Cela peut être spécifié lors de la création de la table, ou une colonne peut être ajoutée à l'aide de l'instruction SQL <a class="link" href="https://www.postgresql.org/docs/current/sql-altertable.html" target="_top">ALTER TABLE</a>. Cet exemple ajoute une colonne qui peut contenir des LineStrings 3D :</p><pre class="programlisting">ALTER TABLE roads ADD COLUMN geom2 geometry(LINESTRINGZ,4326);</pre></section><section class="section" id="geometry_columns"><div class="titlepage"><div><div><h3 class="title">4.6.2. Vue GEOMETRY_COLUMNS</h3></div></div></div><p>L'OGC <span class="emphasis"><em>Simple Features Specification for SQL</em></span> définit la table de métadonnées <code class="varname">GEOMETRY_COLUMNS</code> pour décrire la structure de la table géométrique. Dans PostGIS, <code class="varname">geometry_columns</code> est une vue qui lit les tables de catalogue du système de base de données. Cela garantit que les informations de métadonnées spatiales sont toujours cohérentes avec les tables et les vues actuellement définies. La structure de la vue est la suivante :</p><pre class="programlisting">\d geometry_columns</pre><pre class="screen">View "public.geometry_columns"
      Column       |          Type          | Modifiers
-------------------+------------------------+-----------
 f_table_catalog   | character varying(256) |
 f_table_schema    | character varying(256) |
 f_table_name      | character varying(256) |
 f_geometry_column | character varying(256) |
 coord_dimension   | integer                |
 srid              | integer                |
 type              | character varying(30)  |</pre><p>Les colonnes sont :</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">f_table_catalog, f_table_schema, f_table_name</code></span></dt><dd><p>Le nom complet de la table d'entités contenant la colonne géométrie. Il n'y a pas d'analogue PostgreSQL de "catalog", cette colonne est donc laissée vide. Pour "schema", le nom du schéma PostgreSQL est utilisé (<code class="varname">public</code> est la valeur par défaut).</p></dd><dt><span class="term"><code class="varname">f_geometry_column</code></span></dt><dd><p>Le nom de la colonne géométrique dans la table des caractéristiques.</p></dd><dt><span class="term"><code class="varname">coord_dimension</code></span></dt><dd><p>La dimension des coordonnées (2, 3 ou 4) de la colonne.</p></dd><dt><span class="term"><code class="varname">srid</code></span></dt><dd><p>L'ID du système de référence spatiale utilisé pour la géométrie des coordonnées dans cette table. Il s'agit d'une référence de clé étrangère à la table <code class="varname">spatial_ref_sys</code> (voir <a class="xref" href="#spatial_ref_sys_table" title="4.5.1. Table SPATIAL_REF_SYS">Section 4.5.1, “Table SPATIAL_REF_SYS”</a>).</p></dd><dt><span class="term"><code class="varname">type</code></span></dt><dd><p>Le type de l'objet spatial. Pour limiter la colonne spatiale à un seul type, utilisez l'une des options suivantes : POINT, LINESTRING, POLYGON, MULTIPOINT, MULTILINESTRING, MULTIPOLYGON, GEOMETRYCOLLECTION ou les versions XYM correspondantes POINTM, LINESTRINGM, POLYGONM, MULTIPOINTM, MULTILINESTRINGM, MULTIPOLYGONM, GEOMETRYCOLLECTIONM. Pour les collections hétérogènes (de type mixte), vous pouvez utiliser "GEOMETRY" comme type.</p></dd></dl></div></section><section class="section" id="Manual_Register_Spatial_Column"><div class="titlepage"><div><div><h3 class="title">4.6.3. Enregistrement manuel des colonnes de géométrie</h3></div></div></div><p>Deux des cas où vous pouvez avoir besoin de cela sont les cas de vues SQL et les insertions en masse. Dans le cas des insertions en masse, vous pouvez corriger l'enregistrement dans la table geometry_columns en contraignant la colonne ou en effectuant une modification de la table. Pour les vues, vous pouvez exposer en utilisant une opération CAST. Notez que si votre colonne est basée sur un typmod, le processus de création l'enregistrera correctement, il n'est donc pas nécessaire de faire quoi que ce soit. De même, les vues qui n'ont pas de fonction spatiale appliquée à la géométrie s'enregistreront de la même manière que la colonne géométrique de la table sous-jacente.</p><pre class="programlisting">-- Lets say you have a view created like this
CREATE VIEW public.vwmytablemercator AS
        SELECT gid, ST_Transform(geom, 3395) As geom, f_name
        FROM public.mytable;

-- For it to register correctly
-- You need to cast the geometry
--
DROP VIEW public.vwmytablemercator;
CREATE VIEW  public.vwmytablemercator AS
        SELECT gid, ST_Transform(geom, 3395)::geometry(Geometry, 3395) As geom, f_name
        FROM public.mytable;

-- If you know the geometry type for sure is a 2D POLYGON then you could do
DROP VIEW public.vwmytablemercator;
CREATE VIEW  public.vwmytablemercator AS
        SELECT gid, ST_Transform(geom,3395)::geometry(Polygon, 3395) As geom, f_name
        FROM public.mytable;</pre><pre class="programlisting">--Lets say you created a derivative table by doing a bulk insert
SELECT poi.gid, poi.geom, citybounds.city_name
INTO myschema.my_special_pois
FROM poi INNER JOIN citybounds ON ST_Intersects(citybounds.geom, poi.geom);

-- Create 2D index on new table
CREATE INDEX idx_myschema_myspecialpois_geom_gist
  ON myschema.my_special_pois USING gist(geom);

-- If your points are 3D points or 3M points,
-- then you might want to create an nd index instead of a 2D index
CREATE INDEX my_special_pois_geom_gist_nd
        ON my_special_pois USING gist(geom gist_geometry_ops_nd);

-- To manually register this new table's geometry column in geometry_columns.
-- Note it will also change the underlying structure of the table to
-- to make the column typmod based.
SELECT populate_geometry_columns('myschema.my_special_pois'::regclass);

-- If you are using PostGIS 2.0 and for whatever reason, you
-- you need the constraint based definition behavior
-- (such as case of inherited tables where all children do not have the same type and srid)
-- set optional use_typmod argument to false
SELECT populate_geometry_columns('myschema.my_special_pois'::regclass, false); </pre><p>Bien que l'ancienne méthode basée sur les contraintes soit toujours supportée, une colonne géométrique basée sur les contraintes utilisée directement dans une vue ne s'enregistrera pas correctement dans geometry_columns, tout comme une colonne typmod. Dans cet exemple, nous définissons une colonne à l'aide de typmod et une autre à l'aide de contraintes.</p><pre class="programlisting">CREATE TABLE pois_ny(gid SERIAL PRIMARY KEY, poi_name text, cat text, geom geometry(POINT,4326));
SELECT AddGeometryColumn('pois_ny', 'geom_2160', 2160, 'POINT', 2, false);</pre><p>Si nous exécutons dans psql</p><pre class="programlisting">\d pois_ny;</pre><p>Nous observons qu'ils sont définis différemment - l'un est un typmod, l'autre une contrainte</p><pre class="screen">Table "public.pois_ny"
  Column   |         Type          |                       Modifiers

-----------+-----------------------+------------------------------------------------------
 gid       | integer               | not null default nextval('pois_ny_gid_seq'::regclass)
 poi_name  | text                  |
 cat       | character varying(20) |
 geom      | geometry(Point,4326)  |
 geom_2160 | geometry              |
Indexes:
    "pois_ny_pkey" PRIMARY KEY, btree (gid)
Check constraints:
    "enforce_dims_geom_2160" CHECK (st_ndims(geom_2160) = 2)
    "enforce_geotype_geom_2160" CHECK (geometrytype(geom_2160) = 'POINT'::text
        OR geom_2160 IS NULL)
    "enforce_srid_geom_2160" CHECK (st_srid(geom_2160) = 2160)</pre><p>Dans geometry_columns, les deux s'enregistrent correctement</p><pre class="programlisting">SELECT f_table_name, f_geometry_column, srid, type
        FROM geometry_columns
        WHERE f_table_name = 'pois_ny';</pre><pre class="screen">f_table_name | f_geometry_column | srid | type
-------------+-------------------+------+-------
pois_ny      | geom              | 4326 | POINT
pois_ny      | geom_2160         | 2160 | POINT</pre><p>Cependant, si nous devions créer une vue comme celle-ci</p><pre class="programlisting">CREATE VIEW vw_pois_ny_parks AS
SELECT *
  FROM pois_ny
  WHERE cat='park';

SELECT f_table_name, f_geometry_column, srid, type
        FROM geometry_columns
        WHERE f_table_name = 'vw_pois_ny_parks';</pre><p>La colonne de la vue géométrique basée sur le modèle s'enregistre correctement, mais pas celle basée sur les contraintes.</p><pre class="screen">f_table_name   | f_geometry_column | srid |   type
------------------+-------------------+------+----------
 vw_pois_ny_parks | geom              | 4326 | POINT
 vw_pois_ny_parks | geom_2160         |    0 | GEOMETRY</pre><p>Cela pourrait changer dans les prochaines versions de PostGIS, mais pour l'instant, pour forcer la colonne de vue basée sur les contraintes à s'enregistrer correctement, vous devez procéder comme suit :</p><pre class="programlisting">DROP VIEW vw_pois_ny_parks;
CREATE VIEW vw_pois_ny_parks AS
SELECT gid, poi_name, cat,
  geom,
  geom_2160::geometry(POINT,2160) As geom_2160
  FROM pois_ny
  WHERE cat = 'park';
SELECT f_table_name, f_geometry_column, srid, type
        FROM geometry_columns
        WHERE f_table_name = 'vw_pois_ny_parks';</pre><pre class="screen">f_table_name   | f_geometry_column | srid | type
------------------+-------------------+------+-------
 vw_pois_ny_parks | geom              | 4326 | POINT
 vw_pois_ny_parks | geom_2160         | 2160 | POINT</pre></section></section><section class="section" id="loading-data"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.7. Chargement des données spatiales</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#load-data-sql">4.7.1. Utilisation de SQL pour charger des données</a></span></li><li><span class="section"><a href="#shp2pgsql_usage">4.7.2. Utilisation de l'utilitaire qui permet de charger des fichiers Shapefile</a></span></li></ul></div><p>Une fois que vous avez créé une table spatiale, vous êtes prêt à charger des données spatiales dans la base de données. Il existe deux façons d'intégrer des données spatiales dans une base de données PostGIS/PostgreSQL : à l'aide d'instructions SQL formatées ou à l'aide de l'utilitaire qui permet de charger des Shapefiles.</p><section class="section" id="load-data-sql"><div class="titlepage"><div><div><h3 class="title">4.7.1. Utilisation de SQL pour charger des données</h3></div></div></div><p>Si les données spatiales peuvent être converties en une représentation textuelle (WKT ou WKB), l'utilisation de SQL pourrait être le moyen le plus simple d'introduire les données dans PostGIS. Les données peuvent être chargées en masse dans PostGIS/PostgreSQL en chargeant un fichier texte d'instructions SQL <code class="code">INSERT</code> à l'aide de l'utilitaire SQL <code class="code">psql</code>.</p><p>Un fichier de chargement SQL (<code class="filename">roads.sql</code> par exemple) peut ressembler à ceci :</p><pre class="programlisting">BEGIN;
INSERT INTO roads (road_id, roads_geom, road_name)
  VALUES (1,'LINESTRING(191232 243118,191108 243242)','Jeff Rd');
INSERT INTO roads (road_id, roads_geom, road_name)
  VALUES (2,'LINESTRING(189141 244158,189265 244817)','Geordie Rd');
INSERT INTO roads (road_id, roads_geom, road_name)
  VALUES (3,'LINESTRING(192783 228138,192612 229814)','Paul St');
INSERT INTO roads (road_id, roads_geom, road_name)
  VALUES (4,'LINESTRING(189412 252431,189631 259122)','Graeme Ave');
INSERT INTO roads (road_id, roads_geom, road_name)
  VALUES (5,'LINESTRING(190131 224148,190871 228134)','Phil Tce');
INSERT INTO roads (road_id, roads_geom, road_name)
  VALUES (6,'LINESTRING(198231 263418,198213 268322)','Dave Cres');
COMMIT;</pre><p>Le fichier SQL peut être chargé dans PostgreSQL en utilisant <code class="code">psql</code> :</p><pre class="programlisting">psql -d [database] -f roads.sql</pre></section><section class="section" id="shp2pgsql_usage"><div class="titlepage"><div><div><h3 class="title">4.7.2. Utilisation de l'utilitaire qui permet de charger des fichiers Shapefile</h3></div></div></div><p>Le chargeur de données <code class="filename">shp2pgsql</code> convertit les Shapefiles en SQL pour les insérer dans une base de données PostGIS/PostgreSQL au format geometry ou geography. Le chargeur a plusieurs modes de fonctionnement sélectionnés par des indicateurs de ligne de commande. </p><p>Il existe également une interface graphique <code class="filename">shp2pgsql-gui</code> qui offre la plupart des options du chargeur en ligne de commande. Cette interface peut être plus facile à utiliser pour un chargement ponctuel sans script ou si vous êtes novice en matière de PostGIS. Il peut également être configuré comme un plugin pour PgAdminIII. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">(c|a|d|p) Ces options s'excluent mutuellement :</span></dt><dd><p>
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-c</code></span></dt><dd><p>Crée une nouvelle table et la remplit à partir du fichier Shapefile. <span class="emphasis"><em>C'est le mode par défaut.</em></span> </p></dd><dt><span class="term"><code class="option">-a</code></span></dt><dd><p>Ajoute les données du fichier Shapefile dans la table de la base de données. Notez que pour utiliser cette option afin de charger plusieurs fichiers, les fichiers doivent avoir les mêmes attributs et les mêmes types de données. </p></dd><dt><span class="term"><code class="option">-d</code></span></dt><dd><p>Supprime la table de la base de données avant de créer une nouvelle table avec les données du fichier Shapefile. </p></dd><dt><span class="term"><code class="option">-p</code></span></dt><dd><p>Produit uniquement le code SQL de création de la table, sans ajouter de données réelles. Cette option peut être utilisée si vous souhaitez séparer complètement les étapes de création de la table et de chargement des données. </p></dd></dl></div><p>
        </p></dd><dt><span class="term"><code class="option">-?</code></span></dt><dd><p>Afficher l'écran d'aide. </p></dd><dt><span class="term"><code class="option">-D</code></span></dt><dd><p>Utilise le format "dump" de PostgreSQL pour les données de sortie. Ce format peut être combiné avec -a, -c et -d. Il est beaucoup plus rapide à charger que le format SQL "insert" par défaut. Utilisez-le pour les très grands ensembles de données. </p></dd><dt><span class="term"><code class="option">-s [&lt;FROM_SRID&gt;:]&lt;SRID&gt;</code></span></dt><dd><p>Crée et remplit les tables de géométrie avec le SRID spécifié. Il est possible de spécifier que le fichier de forme d'entrée utilise le FROM_SRID donné, auquel cas les géométries seront reprojetées dans le SRID cible. </p></dd><dt><span class="term"><code class="option">-k</code></span></dt><dd><p>Conserver la casse des identifiants (colonne, schéma et attributs). Notez que les attributs dans Shapefile sont tous en majuscules. </p></dd><dt><span class="term"><code class="option">-i</code></span></dt><dd><p>Contraindre tous les entiers à des entiers 32 bits standard, ne pas créer de bigints 64 bits, même si la signature de l'en-tête DBF semble le justifier. </p></dd><dt><span class="term"><code class="option">-I</code></span></dt><dd><p>Créer un index GiST sur la colonne géométrie. </p></dd><dt><span class="term"><code class="option">-m</code></span></dt><dd><p>-m <code class="filename">nom_de_fichier</code> Spécifier un fichier contenant un ensemble de correspondances entre les noms de colonnes (longs) et les noms de colonnes DBF à 10 caractères. Le contenu du fichier est une ou plusieurs lignes de deux noms séparées par un espace blanc, sans espace de départ ni de fin. Par exemple : </p><pre class="programlisting">COLUMNNAME DBFFIELD1
AVERYLONGCOLUMNNAME DBFFIELD2</pre><p>
        </p></dd><dt><span class="term"><code class="option">-S</code></span></dt><dd><p>Génère des géométries simples au lieu de géométries MULTI. Ne réussira que si toutes les géométries sont en fait simples (c'est-à-dire un MULTIPOLYGON avec une seule enveloppe, ou un MULTIPOINT avec un seul sommet). </p></dd><dt><span class="term"><code class="option">-t &lt;dimensionality&gt;</code></span></dt><dd><p>Force la géométrie de sortie à avoir la dimensionnalité spécifiée. Utilisez les chaînes de caractères suivantes pour indiquer la dimensionnalité : 2D, 3DZ, 3DM, 4D. </p><p>Si l'entrée a moins de dimensions que celles spécifiées, la sortie aura ces dimensions remplies avec des zéros. Si l'entrée a plus de dimensions que celles spécifiées, les dimensions non désirées seront supprimées. </p></dd><dt><span class="term"><code class="option">-w</code></span></dt><dd><p>Sortie au format WKT, au lieu de WKB. Notez que cela peut introduire des dérives de coordonnées dues à la perte de précision. </p></dd><dt><span class="term"><code class="option">-e</code></span></dt><dd><p>Exécuter chaque instruction séparément, sans utiliser de transaction. Cela permet de charger la majorité des bonnes données lorsqu'il y a quelques mauvaises géométries qui génèrent des erreurs. Notez que cela ne peut pas être utilisé avec l'option -D car le format "dump" utilise toujours une transaction. </p></dd><dt><span class="term"><code class="option">-W &lt;encoding&gt;</code></span></dt><dd><p>Spécifie l'encodage des données d'entrée (fichier dbf). Lorsqu'il est utilisé, tous les attributs du fichier dbf sont convertis en UTF8 à partir de l'encodage spécifié. La sortie SQL résultante contiendra une commande <code class="code">SET CLIENT_ENCODING to UTF8</code>, afin que le backend puisse reconvertir de UTF8 à n'importe quel encodage que la base de données est configurée pour utiliser en interne. </p></dd><dt><span class="term"><code class="option">-N &lt;policy&gt;</code></span></dt><dd><p>Politique de gestion des géométries NULL (insert*, skip, abort) </p></dd><dt><span class="term"><code class="option">-n</code></span></dt><dd><p>-n Importer uniquement le fichier DBF. Si vos données n'ont pas de fichier de forme correspondant, il passera automatiquement à ce mode et ne chargera que le fichier DBF. Cette option n'est donc nécessaire que si vous disposez d'un fichier de forme complet et que vous ne voulez que les données d'attributs et pas de géométrie. </p></dd><dt><span class="term"><code class="option">-G</code></span></dt><dd><p>Utiliser le type geography au lieu de geometry (nécessite des données lon/lat) dans WGS84 long lat (SRID=4326) </p></dd><dt><span class="term"><code class="option">-T &lt;tablespace&gt;</code></span></dt><dd><p>Spécifiez le tablespace pour la nouvelle table. Les index utiliseront toujours le tablespace par défaut à moins que le paramètre -X ne soit également utilisé. La documentation de PostgreSQL contient une bonne description de l'utilisation des tablespaces personnalisés. </p></dd><dt><span class="term"><code class="option">-X &lt;tablespace&gt;</code></span></dt><dd><p>Spécifier le tablespace pour les index de la nouvelle table. Ceci s'applique à l'index de clé primaire et à l'index spatial GIST si -I est également utilisé. </p></dd><dt><span class="term"><code class="option">-Z</code></span></dt><dd><p>Lorsqu'il est utilisé, cet indicateur empêche la génération des instructions <code class="code">ANALYZE</code>. Sans l'option -Z (comportement par défaut), les instructions <code class="code">ANALYZE</code> seront générées. </p></dd></dl></div><p>Un exemple de session utilisant le chargeur pour créer un fichier d'entrée et le charger peut ressembler à ceci : </p><pre class="programlisting">
# shp2pgsql -c -D -s 4269 -i -I shaperoads.shp myschema.roadstable 
&gt; roads.sql
# psql -d roadsdb -f roads.sql
</pre><p>Une conversion et un chargement peuvent être effectués en une seule étape à l'aide de pipes UNIX : </p><pre class="programlisting"># shp2pgsql shaperoads.shp myschema.roadstable | psql -d roadsdb</pre></section></section><section class="section" id="extracting-data"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.8. Extraction de données spatiales</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#extract-data-sql">4.8.1. Utiliser SQL pour extraire des données</a></span></li><li><span class="section"><a href="#pgsql2shp-usage">4.8.2. Utilisation de Shapefile Dumper</a></span></li></ul></div><p>Les données spatiales peuvent être extraites de la base de données à l'aide de SQL ou de Shapefile dumper. La section sur SQL présente certaines des fonctions disponibles pour effectuer des comparaisons et des requêtes sur les tables spatiales. </p><section class="section" id="extract-data-sql"><div class="titlepage"><div><div><h3 class="title">4.8.1. Utiliser SQL pour extraire des données</h3></div></div></div><p>La manière la plus simple d'extraire des données spatiales de la base de données consiste à utiliser une requête SQL <code class="code">SELECT</code> pour définir l'ensemble de données à extraire et à transférer les colonnes résultantes dans un fichier texte analysable :</p><pre class="programlisting">db=# SELECT road_id, ST_AsText(road_geom) AS geom, road_name FROM roads;

road_id | geom                                    | road_name
--------+-----------------------------------------+-----------
          1 | LINESTRING(191232 243118,191108 243242) | Jeff Rd
          2 | LINESTRING(189141 244158,189265 244817) | Geordie Rd
          3 | LINESTRING(192783 228138,192612 229814) | Paul St
          4 | LINESTRING(189412 252431,189631 259122) | Graeme Ave
          5 | LINESTRING(190131 224148,190871 228134) | Phil Tce
          6 | LINESTRING(198231 263418,198213 268322) | Dave Cres
          7 | LINESTRING(218421 284121,224123 241231) | Chris Way
(6 rows)</pre><p>Il peut arriver qu'une restriction soit nécessaire pour réduire le nombre d'enregistrements renvoyés. Dans le cas de restrictions basées sur des attributs, utilisez la même syntaxe SQL que pour une table non spatiale. Dans le cas de restrictions spatiales, les fonctions suivantes sont utiles :</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="function">ST_Intersects</code></span></dt><dd><p>Cette fonction indique si deux géométries partagent un espace.</p></dd><dt><span class="term"><code class="code">=</code></span></dt><dd><p>Cette fonction permet de vérifier si deux géométries sont géométriquement identiques. Par exemple, si 'POLYGON((0 0,1 1,1 0,0 0))' est identique à 'POLYGON((0 0,1 1,1 0,0 0))' (c'est le cas). </p></dd></dl></div><p>Vous pouvez ensuite utiliser ces opérateurs dans des requêtes. Notez que lorsque vous spécifiez des géométries et des box sur la ligne de commande SQL, vous devez explicitement transformer les représentations de chaînes de caractères en fonction géométrique. Le 312 est un système de référence spatiale fictif qui correspond à nos données. Ainsi, par exemple, le 312 est un système de référence spatiale fictif qui correspond à nos données :</p><pre class="programlisting">SELECT road_id, road_name
  FROM roads
  WHERE roads_geom='SRID=312;LINESTRING(191232 243118,191108 243242)'::geometry;</pre><p>La requête ci-dessus renverrait le seul enregistrement de la table "ROADS_GEOM" dont la géométrie est égale à cette valeur.</p><p>Vérifier si certaines routes passent dans la zone définie par un polygone :</p><pre class="programlisting">SELECT road_id, road_name
FROM roads
WHERE ST_Intersects(roads_geom, 'SRID=312;POLYGON((...))');</pre><p>La requête spatiale la plus courante sera probablement une requête "basée sur un cadre", utilisée par les logiciels clients, tels que les navigateurs de données et les cartographes web, pour saisir un "cadre de carte" d'une valeur de données pour l'affichage. </p><p>Lorsque vous utilisez l'opérateur "&amp;&amp;", vous pouvez spécifier soit une BOX3D comme élément de comparaison, soit une GEOMETRY. Toutefois, lorsque vous spécifiez une GEOMETRY, c'est sa boîte de délimitation qui sera utilisée pour la comparaison.</p><p>En utilisant un objet "BOX3D" pour le cadre, une telle requête se présente comme suit :</p><pre class="programlisting">
SELECT ST_AsText(roads_geom) AS geom
FROM roads
WHERE
  roads_geom &amp;&amp; ST_MakeEnvelope(191232, 243117,191232, 243119,312);
</pre><p>Notez l'utilisation du SRID 312 pour spécifier la projection de l'enveloppe.</p></section><section class="section" id="pgsql2shp-usage"><div class="titlepage"><div><div><h3 class="title">4.8.2. Utilisation de Shapefile Dumper</h3></div></div></div><p>Le table dumper <code class="filename">pgsql2shp</code> se connecte à la base de données et convertit une table (éventuellement définie par une requête) en un fichier shape. La syntaxe de base est la suivante :</p><pre class="programlisting">
pgsql2shp [&lt;options
&gt;] &lt;database
&gt; [&lt;schema
&gt;.]&lt;table&gt;
</pre><pre class="programlisting">
pgsql2shp [&lt;options
&gt;] &lt;database
&gt; &lt;query&gt;
</pre><p>Les options de la ligne de commande sont les suivantes :</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-f &lt;filename&gt;</code></span></dt><dd><p>Écriture de la sortie dans un fichier particulier.</p></dd><dt><span class="term"><code class="option">-h &lt;host&gt;</code></span></dt><dd><p>L'hôte de la base de données auquel se connecter.</p></dd><dt><span class="term"><code class="option">-p &lt;port&gt;</code></span></dt><dd><p>Le port auquel se connecter sur l'hôte de la base de données.</p></dd><dt><span class="term"><code class="option">-P &lt;password&gt;</code></span></dt><dd><p>Le mot de passe à utiliser lors de la connexion à la base de données.</p></dd><dt><span class="term"><code class="option">-u &lt;user&gt;</code></span></dt><dd><p>Le nom d'utilisateur à utiliser lors de la connexion à la base de données.</p></dd><dt><span class="term"><code class="option">-g &lt;geometry column&gt;</code></span></dt><dd><p>Dans le cas de tableaux comportant plusieurs colonnes géométriques, la colonne géométrique à utiliser lors de l'écriture du fichier de forme.</p></dd><dt><span class="term"><code class="option">-b</code></span></dt><dd><p>Utiliser un curseur binaire. L'opération sera plus rapide, mais ne fonctionnera pas si un attribut NON-geometry de la table n'est pas converti en texte.</p></dd><dt><span class="term"><code class="option">-r</code></span></dt><dd><p>Mode brut. Ne pas supprimer le champ <code class="varname">gid</code>, ni échapper les noms de colonnes.</p></dd><dt><span class="term"><code class="option">-m filename</code></span></dt><dd><p>Remapper les identifiants en noms de dix caractères. Le contenu du fichier est constitué de lignes de deux symboles séparées par un seul espace blanc, sans espace de départ ni de fin : VERYLONGSYMBOL SHORTONE ANOTHERYLONGSYMBOL SHORTER etc.</p></dd></dl></div></section></section><section class="section" id="build-indexes"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.9. Index spatiaux</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#gist_indexes">4.9.1. Index GiST</a></span></li><li><span class="section"><a href="#brin_indexes">4.9.2. Index BRIN</a></span></li><li><span class="section"><a href="#spgist_indexes">4.9.3. Index SP-GiST</a></span></li><li><span class="section"><a href="#tuning-index-usage">4.9.4. Optimisation de l'utilisation de l'index</a></span></li></ul></div><p>Les index spatiaux permettent d'utiliser une base de données spatiales pour de grands ensembles de données. Sans indexation, la recherche de caractéristiques nécessite un balayage séquentiel de chaque enregistrement de la base de données. L'indexation accélère la recherche en organisant les données dans une structure qui peut être rapidement parcourue pour trouver les enregistrements correspondants. </p><p>La méthode d'indexation B-tree couramment utilisée pour les données d'attributs n'est pas très utile pour les données spatiales, car elle ne permet de stocker et d'interroger les données que dans une seule dimension. Les données telles que la géométrie (qui a 2 dimensions ou plus) requièrent une méthode d'indexation qui supporte les requêtes sur toutes les dimensions des données. L'un des principaux avantages de PostgreSQL pour le traitement des données spatiales est qu'il offre plusieurs types de méthodes d'indexation qui fonctionnent bien pour les données multidimensionnelles : GiST, BRIN et SP-GiST.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Les index <span class="bold"><strong>GiST (Generalized Search Tree)</strong></span> décomposent les données en "choses à côté", "choses qui se chevauchent", "choses qui sont à l'intérieur" et peuvent être utilisés sur un large éventail de types de données, y compris les données SIG. PostGIS utilise un index R-Tree implémenté au-dessus de GiST pour indexer les données spatiales. GiST est la méthode d'indexation spatiale la plus couramment utilisée et la plus polyvalente, et offre de très bonnes performances en matière de requêtes. </p></li><li class="listitem"><p>Les index <span class="bold"><strong>BRIN (Block Range Index)</strong></span> fonctionnent en résumant l'étendue spatiale des plages d'enregistrements de la table. La recherche s'effectue par le biais d'un balayage des plages. L'index BRIN n'est approprié que pour certains types de données (triées dans l'espace, avec des mises à jour peu fréquentes ou inexistantes). Mais il permet une création d'index beaucoup plus rapide et une taille d'index beaucoup plus petite. </p></li><li class="listitem"><p><span class="bold"><strong>SP-GiST (Space-Partitioned Generalized Search Tree)</strong></span> est une méthode d'indexation générique qui prend en charge les arbres de recherche partitionnés tels que les arbres quadratiques, les arbres k-d et les arbres radix (tries). </p></li></ul></div><p>Les index spatiaux ne stockent que la boîte de délimitation des géométries. Les requêtes spatiales utilisent l'index comme <span class="bold"><strong>filtre primaire</strong></span> pour déterminer rapidement un ensemble de géométries correspondant potentiellement à la condition de la requête. La plupart des requêtes spatiales nécessitent un <span class="bold"><strong>filtre secondaire</strong></span> qui utilise une fonction de prédicat spatial pour tester une condition spatiale plus spécifique. Pour plus d'informations sur les requêtes avec des prédicats spatiaux, voir <a class="xref" href="#using-query-indexes" title="5.2. Utilisation des index spatiaux">Section 5.2, “Utilisation des index spatiaux”</a>. </p><p>Voir également <a class="link" href="https://postgis.net/workshops/postgis-intro/indexing.html" target="_top">la section de l'atelier PostGIS sur les index spatiaux</a> et le <a class="link" href="https://www.postgresql.org/docs/current/indexes.html" target="_top">manuel de PostgreSQL</a>. </p><section class="section" id="gist_indexes"><div class="titlepage"><div><div><h3 class="title">4.9.1. Index GiST</h3></div></div></div><p>GiST signifie "Generalized Search Tree" (arbre de recherche généralisé) et constitue une forme générique d'indexation pour les données multidimensionnelles. PostGIS utilise un index R-Tree implémenté au-dessus de GiST pour indexer les données spatiales. GiST est la méthode d'indexation spatiale la plus couramment utilisée et la plus polyvalente, et offre de très bonnes performances en matière de requêtes. D'autres implémentations de GiST sont utilisées pour accélérer les recherches sur toutes sortes de structures de données irrégulières (tableaux d'entiers, données spectrales, etc.) qui ne se prêtent pas à l'indexation B-Tree normale. Pour plus d'informations, voir le <a class="link" href="https://www.postgresql.org/docs/current/gist.html" target="_top">manuel PostgreSQL</a>. </p><p>Dès qu'une table de données spatiales dépasse quelques milliers de lignes, vous devez créer un index pour accélérer les recherches spatiales dans les données (sauf si toutes vos recherches sont basées sur des attributs, auquel cas vous devez créer un index normal sur les champs d'attributs).</p><p>La syntaxe pour construire un index GiST sur une colonne "geometry" est la suivante :</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename] USING GIST ( [geometryfield] ); </pre><p>La syntaxe ci-dessus permet toujours de créer un index 2D. Pour obtenir un index à n dimensions pour le type de géométrie, vous pouvez en créer un à l'aide de cette syntaxe :</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename] USING GIST ([geometryfield] gist_geometry_ops_nd);</pre><p>La construction d'un index spatial est un exercice de calcul intensif. Il bloque également l'accès en écriture à votre table pendant le temps de sa création, donc sur un système de production, vous voudrez peut-être le faire d'une manière plus lente, en tenant compte de la notion de CONCURRENCE :</p><pre class="programlisting">CREATE INDEX CONCURRENTLY [indexname] ON [tablename] USING GIST ( [geometryfield] ); </pre><p>Après avoir construit un index, il est parfois utile de forcer PostgreSQL à collecter les statistiques de la table, qui sont utilisées pour optimiser les plans de requête :</p><pre class="programlisting">VACUUM ANALYZE [table_name] [(column_name)];</pre></section><section class="section" id="brin_indexes"><div class="titlepage"><div><div><h3 class="title">4.9.2. Index BRIN</h3></div></div></div><p>BRIN signifie "Block Range Index". C'est une méthode d'indexation générale introduite dans PostgreSQL 9.5. BRIN est une méthode d'indexation <span class="emphasis"><em>lossy</em></span>, ce qui signifie qu'une vérification secondaire est nécessaire pour confirmer qu'un enregistrement correspond à une condition de recherche donnée (ce qui est le cas pour tous les index spatiaux fournis). Elle permet une création d'index beaucoup plus rapide et une taille d'index beaucoup plus petite, avec des performances de lecture raisonnables. Son objectif principal est de permettre l'indexation de très grandes tables sur des colonnes qui ont une corrélation avec leur emplacement physique dans la table. Outre l'indexation spatiale, BRIN peut accélérer les recherches sur divers types de structures de données d'attributs (entiers, tableaux, etc.). Pour plus d'informations, voir le <a class="link" href="https://www.postgresql.org/docs/current/brin.html" target="_top">Manuel de PostgreSQL</a>. </p><p>Dès qu'une table spatiale dépasse quelques milliers de lignes, vous voudrez construire un index pour accélérer les recherches spatiales dans les données. Les index GiST sont très performants tant que leur taille ne dépasse pas la quantité de mémoire vive disponible pour la base de données, et tant que vous pouvez vous permettre la taille de stockage de l'index et le coût de la mise à jour de l'index en écriture. Sinon, pour les très grandes tables, l'index BRIN peut être considéré comme une alternative.</p><p>Un index BRIN stocke la boîte englobant toutes les géométries contenues dans les lignes d'un ensemble contigu de blocs de table, appelé <span class="emphasis"><em>plage de blocs</em></span>. Lors de l'exécution d'une requête à l'aide de l'index, les plages de blocs sont examinées pour trouver celles qui recoupent l'étendue de la requête. Cette méthode n'est efficace que si les données sont physiquement ordonnées de manière à ce que les zones de délimitation des plages de blocs se chevauchent le moins possible (et, dans l'idéal, s'excluent mutuellement). L'index qui en résulte est de très petite taille, mais il est généralement moins performant en lecture qu'un index GiST sur les mêmes données.</p><p>La construction d'un index BRIN est beaucoup moins gourmande en ressources CPU que la construction d'un index GiST. Il est courant de constater qu'un index BRIN est dix fois plus rapide à construire qu'un index GiST pour les mêmes données. Et comme un index BRIN ne stocke qu'une seule boîte englobante pour chaque plage de blocs de table, il est courant d'utiliser jusqu'à mille fois moins d'espace disque qu'un index GiST.</p><p>Vous pouvez choisir le nombre de blocs à résumer dans une plage. Si vous diminuez ce nombre, l'index sera plus volumineux mais offrira probablement de meilleures performances.</p><p>Pour que le BRIN soit efficace, les données de la table doivent être stockées dans un ordre physique qui minimise le chevauchement de l'étendue du bloc. Il se peut que les données soient déjà triées de manière appropriée (par exemple, si elles sont chargées à partir d'un autre jeu de données déjà trié dans l'ordre spatial). Dans le cas contraire, il est possible de trier les données en fonction d'une clé spatiale unidimensionnelle. Une façon de procéder consiste à créer une nouvelle table triée par les valeurs géométriques (qui, dans les versions récentes de PostGIS, utilisent un classement efficace par courbe de Hilbert) : </p><pre class="programlisting">CREATE TABLE table_sorted AS
   SELECT * FROM table  ORDER BY geom;
</pre><p>Il est également possible de trier les données en place en utilisant un GeoHash comme index (temporaire) et en effectuant un regroupement sur cet index : </p><pre class="programlisting">CREATE INDEX idx_temp_geohash ON table
    USING btree (ST_GeoHash( ST_Transform( geom, 4326 ), 20));
CLUSTER table USING idx_temp_geohash;
</pre><p>La syntaxe pour construire un index BRIN sur une colonne <code class="code">geometry</code> est la suivante :</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename] USING BRIN ( [geome_col] ); </pre><p>La syntaxe ci-dessus permet de créer un index en 2D. Pour construire un index à trois dimensions, utilisez la syntaxe suivante :</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename]
    USING BRIN ([geome_col] brin_geometry_inclusion_ops_3d);</pre><p>Vous pouvez également obtenir un index quadridimensionnel à l'aide de la classe d'opérateurs 4D :</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename]
    USING BRIN ([geome_col] brin_geometry_inclusion_ops_4d);</pre><p>Les commandes ci-dessus utilisent le nombre par défaut de blocs dans une plage, qui est de 128. Pour spécifier le nombre de blocs à résumer dans une plage, utilisez la syntaxe suivante</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename]
    USING BRIN ( [geome_col] ) WITH (pages_per_range = [number]); </pre><p>Gardez à l'esprit qu'un index BRIN ne stocke qu'une entrée d'index pour un grand nombre de lignes. Si votre table stocke des géométries avec un nombre variable de dimensions, il est probable que l'index qui en résultera sera peu performant. Vous pouvez éviter cette pénalité de performance en choisissant la classe d'opérateur avec le plus petit nombre de dimensions des géométries stockées </p><p>Le type de données <code class="code">geography</code> est pris en charge pour l'indexation BRIN. La syntaxe pour construire un index BRIN sur une colonne géographique est la suivante :</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename] USING BRIN ( [geog_col] ); </pre><p>La syntaxe ci-dessus permet de créer un index 2D pour les objets géospatiaux sur le sphéroïde. </p><p>Actuellement, seul le "support d'inclusion" est fourni, ce qui signifie que seuls les opérateurs <code class="varname">&amp;&amp;</code>, <code class="varname">~</code> et <code class="varname">@</code> peuvent être utilisés pour les cas 2D (à la fois pour <code class="code">geometry</code> et <code class="code">geography</code>), et seulement l'opérateur <code class="varname">&amp;&amp;&amp;</code> pour les géométries 3D. Il n'y a actuellement pas de support pour les recherches kNN.</p><p>Une différence importante entre BRIN et les autres types d'index est que la base de données ne maintient pas l'index de manière dynamique. Les modifications apportées aux données spatiales de la table sont simplement ajoutées à la fin de l'index. Cela entraîne une dégradation des performances de recherche de l'index au fil du temps. L'index peut être mis à jour en effectuant un <code class="code">VACUUM</code>, ou en utilisant une fonction spéciale <code class="code">brin_summarize_new_values(regclass)</code>. C'est la raison pour laquelle BRIN peut être plus approprié pour les données qui sont en lecture seule ou qui ne changent que rarement. Pour plus d'informations, consultez le <a class="link" href="https://www.postgresql.org/docs/current/brin-intro.html#BRIN-OPERATION" target="_top">manuel</a>. </p><p>En résumé, l'utilisation de BRIN pour les données spatiales : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Le temps de construction de l'index est très rapide et la taille de l'index est très réduite.</p></li><li class="listitem"><p>Le temps d'interrogation de l'index est plus lent que celui de GiST, mais reste très acceptable.</p></li><li class="listitem"><p>Nécessite que les données du tableau soient triées dans un ordre spatial.</p></li><li class="listitem"><p>Nécessite une maintenance manuelle de l'index.</p></li><li class="listitem"><p>Plus approprié pour les tables de très grande taille, avec peu ou pas de chevauchement (par exemple des points), qui sont statiques ou qui changent peu souvent.</p></li><li class="listitem"><p>Plus efficace pour les requêtes qui renvoient un nombre relativement important d'enregistrements de données.</p></li></ul></div></section><section class="section" id="spgist_indexes"><div class="titlepage"><div><div><h3 class="title">4.9.3. Index SP-GiST</h3></div></div></div><p>SP-GiST signifie "Space-Partitioned Generalized Search Tree" et est une forme générique d'indexation pour les types de données multidimensionnelles qui prend en charge les arbres de recherche partitionnés, tels que les arbres quadratiques, les arbres k-d et les arbres radix (tries). La caractéristique commune de ces structures de données est qu'elles divisent de manière répétée l'espace de recherche en partitions qui ne sont pas nécessairement de taille égale. Outre l'indexation spatiale, SP-GiST est utilisé pour accélérer les recherches sur de nombreux types de données, telles que le routage téléphonique, le routage ip, la recherche de substrats, etc. Pour plus d'informations, voir le <a class="link" href="https://www.postgresql.org/docs/current/spgist.html" target="_top">manuel PostgreSQL</a>. </p><p>Comme pour les index GiST, les index SP-GiST sont avec perte, dans le sens où ils stockent la boîte englobante qui entoure les objets spatiaux. Les index SP-GiST peuvent être considérés comme une alternative aux index GiST.</p><p>Lorsqu'une table de données SIG dépasse quelques milliers de lignes, un index SP-GiST peut être utilisé pour accélérer les recherches spatiales dans les données. La syntaxe pour construire un index SP-GiST sur une colonne "géométrie" est la suivante :</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename] USING SPGIST ( [geometryfield] ); </pre><p>La syntaxe ci-dessus permet de créer un index bidimensionnel. Un index tridimensionnel pour le type de géométrie peut être créé à l'aide de la classe d'opérateurs 3D :</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename] USING SPGIST ([geometryfield] spgist_geometry_ops_3d);</pre><p>La création d'un index spatial est une opération très gourmande en ressources informatiques. Elle bloque également l'accès en écriture à votre table pendant la durée de la création, donc sur un système de production, vous voudrez peut-être le faire d'une manière plus lente, en tenant compte de la notion de CONCURRENCE :</p><pre class="programlisting">CREATE INDEX CONCURRENTLY [indexname] ON [tablename] USING SPGIST ( [geometryfield] ); </pre><p>Après avoir construit un index, il est parfois utile de forcer PostgreSQL à collecter les statistiques de la table, qui sont utilisées pour optimiser les plans de requête :</p><pre class="programlisting">VACUUM ANALYZE [table_name] [(column_name)];</pre><p>Un index SP-GiST peut accélérer les requêtes impliquant les opérateurs suivants :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>&lt;&lt;, &amp;&lt;, &amp;&gt;, &gt;&gt;, &lt;&lt;|, &amp;&lt;|, |&amp;&gt;, |&gt;&gt;, &amp;&amp;, @&gt;, &lt;@, et ~=, pour les index à 2 dimensions,</p></li><li class="listitem"><p>&amp;/&amp;, ~==, @&gt;&gt;, et &lt;&lt;@, pour les index à 3 dimensions.</p></li></ul></div><p>Il n'y a pas de support pour les recherches kNN pour le moment.</p></section><section class="section" id="tuning-index-usage"><div class="titlepage"><div><div><h3 class="title">4.9.4. Optimisation de l'utilisation de l'index</h3></div></div></div><p>Normalement, les index accélèrent de manière invisible l'accès aux données : une fois qu'un index est construit, le planificateur de requêtes de PostgreSQL décide automatiquement quand l'utiliser pour améliorer les performances de la requête. Mais dans certaines situations, le planificateur ne choisit pas d'utiliser les index existants, et les requêtes finissent par utiliser des balayages séquentiels lents au lieu d'un index spatial.</p><p>Si vous constatez que vos index spatiaux ne sont pas utilisés, il y a plusieurs choses que vous pouvez faire :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Examinez le plan de requête et vérifiez que votre requête calcule effectivement ce dont vous avez besoin. Un JOIN erroné, oublié ou vers la mauvaise table, peut récupérer plusieurs fois des enregistrements de la table de manière inattendue. Pour obtenir le plan de la requête, exécutez avec <code class="code">EXPLAIN</code> devant la requête.</p></li><li class="listitem"><p>Assurez-vous que des statistiques sont collectées sur le nombre et la distribution des valeurs dans une table, afin de fournir au planificateur de requêtes de meilleures informations pour prendre des décisions concernant l'utilisation de l'index. La <span class="command"><strong>VACUUM ANALYZE</strong></span> calculera les deux.</p><p>Vous devriez de toute façon vacuum régulièrement vos bases de données. De nombreux administrateurs de bases de données PostgreSQL exécutent <span class="command"><strong>VACUUM</strong></span> en tant que tâche cron en dehors des heures de pointe sur une base régulière.</p></li><li class="listitem"><p>Si vacuum ne suffit pas, vous pouvez temporairement forcer le planificateur à utiliser les informations d'index en utilisant la commande <span class="command"><strong>SET ENABLE_SEQSCAN TO OFF;</strong></span>. De cette façon, vous pouvez vérifier si le planificateur est capable de générer un plan de requête accéléré par l'index pour votre requête. Vous ne devez utiliser cette commande qu'à des fins de débogage ; en règle générale, le planificateur sait mieux que vous quand utiliser les index. Une fois que vous avez exécuté votre requête, n'oubliez pas de lancer la commande <span class="command"><strong>SET ENABLE_SEQSCAN TO ON;</strong></span> afin que le planificateur fonctionne normalement pour les autres requêtes.</p></li><li class="listitem"><p>Si <span class="command"><strong>SET ENABLE_SEQSCAN TO OFF;</strong></span> aide votre requête à s'exécuter plus rapidement, votre Postgres n'est probablement pas adapté à votre matériel. Si vous trouvez que le planificateur se trompe sur le coût des balayages séquentiels par rapport aux balayages d'index, essayez de réduire la valeur de <code class="varname">RANDOM_PAGE_COST</code> dans <code class="code">postgresql.conf</code>, ou utilisez <span class="command"><strong>SET RANDOM_PAGE_COST TO 1.1;</strong></span>. La valeur par défaut de <code class="varname">RANDOM_PAGE_COST</code> est 4.0. Essayez de la fixer à 1.1 (pour les disques SSD) ou à 2.0 (pour les disques magnétiques rapides). En diminuant la valeur, le planificateur est plus enclin à utiliser les balayages d'index.</p></li><li class="listitem"><p>Si la <span class="command"><strong>SET ENABLE_SEQSCAN TO OFF;</strong></span> n'aide pas votre requête, il se peut qu'elle utilise une construction SQL que le planificateur Postgres n'est pas encore en mesure d'optimiser. Il peut être possible de réécrire la requête de manière à ce que le planificateur soit en mesure de la traiter. Par exemple, une sous-requête avec un SELECT en ligne peut ne pas produire un plan efficace, mais peut être réécrite en utilisant un JOIN LATERAL.</p></li></ul></div><p>Pour plus d'informations, voir la section du manuel Postgres sur <a class="link" href="https://www.postgresql.org/docs/current/runtime-config-query.html" target="_top">Query Planning</a>. </p></section></section></section><section class="chapter" id="using_postgis_query"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Requêtes spatiales</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#eval_spatial_rel">5.1. Déterminer les relations spatiales</a></span></li><li><span class="section"><a href="#using-query-indexes">5.2. Utilisation des index spatiaux</a></span></li><li><span class="section"><a href="#examples_spatial_sql">5.3. Exemples de SQL spatial</a></span></li></ul></div><p>La <span class="emphasis"><em>raison d'être</em></span> des bases de données spatiales est de réaliser à l'intérieur de la base de données des requêtes qui normalement nécessiteraient des fonctionnalités d'un SIG Desktop. Utiliser PostGIS requiert en effet la connaissance de quelles fonctions spatiales sont disponibles, comment les utiliser dans une requête, et de s'assurer de la mise en place adéquate des index, pour une bonne performance. </p><section class="section" id="eval_spatial_rel"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.1. Déterminer les relations spatiales</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#DE-9IM">5.1.1. Modèle à 9 intersections dimensionnellement étendu</a></span></li><li><span class="section"><a href="#named-spatial-rel">5.1.2. Relations spatiales nommées</a></span></li><li><span class="section"><a href="#general-spatial-rel">5.1.3. Relations spatiales générales</a></span></li></ul></div><p>Les relations spatiales indiquent comment deux géométries interagissent l'une avec l'autre. Elles constituent une fonctionnalité fondamentale pour effectuer des requêtes sur des géométries. </p><section class="section" id="DE-9IM"><div class="titlepage"><div><div><h3 class="title">5.1.1. Modèle à 9 intersections dimensionnellement étendu</h3></div></div></div><p>Selon le <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OpenGIS Simple Features Implementation Specification for SQL</a>, "l'approche de base pour comparer deux géométries consiste à effectuer des tests par paire des intersections entre les intérieurs, les limites et les extérieurs des deux géométries et à classer la relation entre les deux géométries sur la base des entrées de la matrice "intersection" résultante."</p><p>Dans la théorie de la topologie des ensembles de points, les points d'une géométrie intégrée dans un espace à deux dimensions sont classés en trois ensembles : </p><div class="glosslist"><dl><dt><span class="glossterm">Limites</span></dt><dd class="glossdef"><p>La limite d'une géométrie est l'ensemble des géométries de la dimension immédiatement inférieure. Pour les <code class="varname">POINT</code>, qui ont une dimension de 0, la limite est l'ensemble vide. La limite d'une <code class="varname">LINESTRING</code> est constituée par ses deux extrémités. Pour les <code class="varname">POLYGON</code>, la limite est le réseau de lignes des anneaux extérieur et intérieur.</p></dd><dt><span class="glossterm">Intérieur</span></dt><dd class="glossdef"><p>L'intérieur d'une géométrie est constitué des points de la géométrie qui ne se trouvent pas dans la limite. Pour les <code class="varname">POINT</code>, l'intérieur est le point lui-même. L'intérieur d'une <code class="varname">LINESTRING</code> est l'ensemble des points situés entre les extrémités. Pour les <code class="varname">POLYGON</code>, l'intérieur est la surface aréale à l'intérieur du polygone.</p></dd><dt><span class="glossterm">Extérieur</span></dt><dd class="glossdef"><p>L'extérieur d'une géométrie est le reste de l'espace dans lequel la géométrie est intégrée ; en d'autres termes, tous les points qui ne se trouvent pas à l'intérieur ou sur la limite de la géométrie. Il s'agit d'une surface non fermée à 2 dimensions. </p></dd></dl></div><p>Le <a class="link" href="http://en.wikipedia.org/wiki/DE-9IM" target="_top">Dimensionally Extended 9-Intersection Model</a> (DE-9IM) décrit la relation spatiale entre deux géométries en spécifiant les dimensions des 9 intersections entre les ensembles ci-dessus pour chaque géométrie. Les dimensions des intersections peuvent être représentées formellement dans une <span class="bold"><strong>matrice d'intersections</strong></span> de 3x3. </p><p>Pour une géométrie <span class="emphasis"><em>g</em></span>, les <span class="emphasis"><em>Limites</em></span>, <span class="emphasis"><em>Intérieures</em></span>, et <span class="emphasis"><em>Extérieures</em></span> sont désignés par la notation <span class="emphasis"><em>I(g)</em></span>, <span class="emphasis"><em>B(g)</em></span>, et <span class="emphasis"><em>E(g)</em></span>. En outre, <span class="emphasis"><em>dim(s)</em></span> désigne la dimension d'un ensemble <span class="emphasis"><em>s</em></span> dont le domaine est <code class="literal">{0,1,2,F}</code> : </p><div class="itemizedlist"><ul class="itemizedlist compact" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code> =&gt; point</p></li><li class="listitem"><p><code class="literal">1</code> =&gt; ligne</p></li><li class="listitem"><p><code class="literal">2</code> =&gt; area</p></li><li class="listitem"><p><code class="literal">F</code> =&gt; ensemble vide</p></li></ul></div><p>En utilisant cette notation, la matrice d'intersection pour deux géométries <span class="emphasis"><em>a</em></span> et <span class="emphasis"><em>b</em></span> est :</p><div class="styledtable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="bold"><strong>Intérieur</strong></span></th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="bold"><strong>Limite</strong></span></th><th style="text-align: center; border-bottom: 1px solid ; "><span class="bold"><strong>Extérieur</strong></span></th></tr></thead><tbody><tr><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="bold"><strong>Intérieur</strong></span></td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="emphasis"><em>dim( I(a) ∩ I(b) )</em></span></td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="emphasis"><em>dim( I(a) ∩ B(b) )</em></span></td><td style="text-align: center; border-bottom: 1px solid ; "><span class="emphasis"><em>dim( I(a) ∩ E(b) )</em></span></td></tr><tr><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="bold"><strong>Limite</strong></span></td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="emphasis"><em>dim( B(a) ∩ I(b) )</em></span></td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="emphasis"><em>dim( B(a) ∩ B(b) )</em></span></td><td style="text-align: center; border-bottom: 1px solid ; "><span class="emphasis"><em>dim( B(a) ∩ E(b) )</em></span></td></tr><tr><td style="text-align: center; border-right: 1px solid ; "><span class="bold"><strong>Extérieur</strong></span></td><td style="text-align: center; border-right: 1px solid ; "><span class="emphasis"><em>dim( E(a) ∩ I(b) )</em></span></td><td style="text-align: center; border-right: 1px solid ; "><span class="emphasis"><em>dim( E(a) ∩ B(b) )</em></span></td><td style="text-align: center; "><span class="emphasis"><em>dim( E(a) ∩ E(b) )</em></span></td></tr></tbody></table></div><p>Visuellement, pour deux géométries polygonales qui se chevauchent, cela ressemble à ce qui suit :</p><div class="informaltable"><table style="border: none;"><colgroup><col style="width: 80pt; "/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "><div class="informalfigure"><div style="text-align: center; " class="mediaobject"><table style="border: 0; cellpadding: 0; cellspacing: 0;"><tr><td style="text-align: center; vertical-align: middle; "><img style="text-align: middle; " src="images/de9im04.png"/></td></tr></table></div></div></td></tr><tr><td style="text-align: center; vertical-align: middle; border-right: 1px solid ; "><div class="informalfigure"><div style="text-align: center; " class="mediaobject"><table style="border: 0; cellpadding: 0; cellspacing: 0;"><tr><td style="text-align: center; vertical-align: middle; "><img style="text-align: middle; " src="images/de9im03.png"/></td></tr></table></div></div></td><td><table style="width: 100%; border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/><col/></colgroup><thead style="vertical-align: middle; "><tr><th style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "> </th><th style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="bold"><strong>Intérieur</strong></span></th><th style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="bold"><strong>Limite</strong></span></th><th style="vertical-align: middle; border-bottom: 1px solid ; "><span class="bold"><strong>Extérieur</strong></span></th></tr></thead><tbody style="vertical-align: middle; "><tr><td style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; ">
                                <span class="bold"><strong>Intérieur</strong></span>
                            </td><td style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im05.png"/></div></div><p><span class="emphasis"><em>dim( I(a) ∩ I(b) ) = </em></span><span class="bold"><strong>2</strong></span></p></td><td style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im06.png"/></div></div><p><span class="emphasis"><em>dim( I(a) ∩ B(b) = </em></span><span class="bold"><strong>1</strong></span></p></td><td style="vertical-align: middle; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im07.png"/></div></div><p><span class="emphasis"><em>dim( I(a) ∩ E(b) ) = </em></span><span class="bold"><strong>2</strong></span></p></td></tr><tr><td style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="bold"><strong>Limite</strong></span></td><td style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im08.png"/></div></div><p><span class="emphasis"><em>dim( B(a) ∩ I(b) ) = </em></span><span class="bold"><strong>1</strong></span></p></td><td style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im09.png"/></div></div><p><span class="emphasis"><em>dim( B(a) ∩ B(b) ) = </em></span><span class="bold"><strong>0</strong></span></p></td><td style="vertical-align: middle; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im10.png"/></div></div><p><span class="emphasis"><em>dim( B(a) ∩ E(b) ) = </em></span><span class="bold"><strong>1</strong></span></p></td></tr><tr><td style="vertical-align: middle; border-right: 1px solid ; "><span class="bold"><strong>Extérieur</strong></span></td><td style="vertical-align: middle; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im11.png"/></div></div><p><span class="emphasis"><em>dim( E(a) ∩ I(b) ) = </em></span><span class="bold"><strong>2</strong></span></p></td><td style="vertical-align: middle; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im12.png"/></div></div><p><span class="emphasis"><em>dim( E(a) ∩ B(b) ) = </em></span><span class="bold"><strong>1</strong></span></p></td><td style="vertical-align: middle; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im13.png"/></div></div><p><span class="emphasis"><em>dim( E(a) ∩ E(b) = </em></span><span class="bold"><strong>2</strong></span></p></td></tr></tbody></table></td></tr></tbody></table></div><p>En lisant de gauche à droite et de haut en bas, la matrice d'intersection est représentée par la chaîne de texte "<span class="bold"><strong>212101212</strong></span>".</p><p>Pour plus d'informations, voir :</p><div class="itemizedlist"><ul class="itemizedlist compact" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OpenGIS Simple Features Implementation Specification for SQL</a> (version 1.1, section 2.1.13.2)</p></li><li class="listitem"><p><a class="link" href="https://en.wikipedia.org/wiki/DE-9IM" target="_top">Wikipedia : Dimensionally Extended Nine-Intersection Model (DE-9IM)</a></p></li><li class="listitem"><p><a class="link" href="http://docs.geotools.org/latest/userguide/library/jts/dim9.html" target="_top">GeoTools : Théorie des ensembles de points et matrice DE-9IM</a></p></li></ul></div></section><section class="section" id="named-spatial-rel"><div class="titlepage"><div><div><h3 class="title">5.1.2. Relations spatiales nommées</h3></div></div></div><p>Pour faciliter la détermination des relations spatiales communes, l'OGC SFS définit un ensemble de <span class="emphasis"><em>prédicats de relations spatiales</em></span>. PostGIS fournit ces prédicats sous la forme des fonctions <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a>, <a class="xref" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a>, <a class="xref" href="#ST_Touches" title="ST_Touches">ST_Touches</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a>. Il définit également les prédicats de relation non standard <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, et <a class="xref" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>. </p><p>Les prédicats spatiaux sont généralement utilisés comme conditions dans les clauses SQL <code class="code">WHERE</code> ou <code class="code">JOIN</code>. Les prédicats spatiaux nommés utilisent automatiquement un index spatial s'il existe, de sorte qu'il n'est pas nécessaire d'utiliser également l'opérateur de boîte de délimitation <code class="code">&amp;&amp;</code>. Par exemple : </p><pre class="programlisting">SELECT city.name, state.name, city.geom
FROM city JOIN state ON ST_Intersects(city.geom, state.geom);
</pre><p>Pour plus de détails et d'illustrations, voir l' <a class="link" href="https://postgis.net/workshops/postgis-intro/spatial_relationships.html" target="_top">Atelier PostGIS.</a></p></section><section class="section" id="general-spatial-rel"><div class="titlepage"><div><div><h3 class="title">5.1.3. Relations spatiales générales</h3></div></div></div><p>Dans certains cas, les relations spatiales nommées sont insuffisantes pour fournir une condition de filtrage spatial souhaitée. </p><div class="informaltable"><table style="border: none;"><colgroup><col/></colgroup><tbody><tr><td><div style="float: right;" class="informalfigure-float"><div class="informalfigure"><div style="text-align: left; " class="mediaobject"><img style="text-align: left; " src="images/de9im01.png"/></div></div></div><p>Prenons l'exemple d'un ensemble de données linéaires représentant un réseau routier. Il peut être nécessaire d'identifier tous les segments de route qui se croisent, non pas en un point, mais en une ligne (peut-être pour valider une règle commerciale). Dans ce cas, <a class="xref" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a> ne fournit pas le filtre spatial nécessaire, puisque pour les caractéristiques linéaires, il renvoie <code class="varname">true</code> uniquement lorsqu'elles se croisent en un point. </p>
                <p>Une solution en deux étapes consisterait à calculer d'abord l'intersection réelle (<a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>) des paires de lignes routières qui se croisent dans l'espace (<a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>), puis vérifier si le <a class="xref" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a> de l'intersection est "<code class="varname">LINESTRING</code>" (en traitant correctement les cas qui renvoient des <code class="varname">GEOMETRYCOLLECTION</code>s de <code class="varname">[MULTI]POINT</code>s, <code class="varname">[MULTI]LINESTRING</code>s, etc. ).</p>
                <p>Il est évident qu'une solution plus simple et plus rapide est souhaitable.</p></td></tr></tbody></table></div><div class="informaltable"><table style="border: none;"><colgroup><col/></colgroup><tbody><tr><td><p> </p><div style="float: right;" class="informalfigure-float"><div class="informalfigure"><div style="text-align: right; " class="mediaobject"><img style="text-align: right; " src="images/de9im02.png"/></div></div></div> <p>Un deuxième exemple est la localisation des quais qui coupent les limites d'un lac sur une ligne et dont l'une des extrémités se trouve sur le rivage. En d'autres termes, lorsqu'un quai est situé à l'intérieur d'un lac mais n'est pas complètement contenu par celui-ci, qu'il coupe la limite d'un lac sur une ligne et que l'une des extrémités du quai se trouve à l'intérieur ou sur la limite du lac. Il est possible d'utiliser une combinaison de prédicats spatiaux pour trouver les caractéristiques requises :</p> <div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p><a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>(lake, wharf) = TRUE</p></li><li class="listitem"><p><a class="xref" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>(lake, wharf) = FALSE</p></li><li class="listitem"><p><a class="xref" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a>(<a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>(wharf, lake)) = 'LINESTRING'</p></li><li class="listitem"><p><a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a>(<a class="xref" href="#ST_Multi" title="ST_Multi">ST_Multi</a>(<a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>(<a class="xref" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a>(wharf), <a class="xref" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a>(lake)))) = 1</p><p>... mais inutile de dire que c'est assez compliqué.</p></li></ul></div></td></tr></tbody></table></div><p>Ces exigences peuvent être satisfaites en calculant la matrice d'intersection DE-9IM complète. PostGIS fournit la fonction <a class="xref" href="#ST_Relate" title="ST_Relate">ST_Relate</a> pour ce faire : </p><pre class="programlisting">SELECT ST_Relate( 'LINESTRING (1 1, 5 5)',
                  'POLYGON ((3 3, 3 7, 7 7, 7 3, 3 3))' );
st_relate
-----------
1010F0212
</pre><p>Pour tester une relation spatiale particulière, un <span class="bold"><strong>modèle de matrice d'intersection</strong></span> est utilisé. Il s'agit de la représentation matricielle augmentée des symboles supplémentaires <code class="literal">{T,*}</code> : </p><div class="itemizedlist"><ul class="itemizedlist compact" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">T</code> =&gt; la dimension d'intersection est non vide ; c'est-à-dire qu'elle se trouve dans <code class="literal">{0,1,2}</code></p></li><li class="listitem"><p><code class="literal">*</code> =&gt; indifférent</p></li></ul></div><p>Les modèles de matrice d'intersection permettent d'évaluer des relations spatiales spécifiques de manière plus succincte. Les fonctions <a class="xref" href="#ST_Relate" title="ST_Relate">ST_Relate</a> et <a class="xref" href="#ST_RelateMatch" title="ST_RelateMatch">ST_RelateMatch</a> peuvent être utilisées pour tester les modèles de matrice d'intersection. Pour le premier exemple ci-dessus, le modèle de matrice d'intersection spécifiant deux lignes se croisant dans une ligne est '<span class="bold"><strong>1*1***1**</strong></span>' :</p><pre class="programlisting">-- Find road segments that intersect in a line
SELECT a.id
FROM roads a, roads b
WHERE a.id != b.id
      AND a.geom &amp;&amp; b.geom
      AND ST_Relate(a.geom, b.geom, '1*1***1**');</pre><p>Pour le deuxième exemple, le modèle de matrice d'intersection spécifiant une ligne située en partie à l'intérieur et en partie à l'extérieur d'un polygone est "<span class="bold"><strong>102101FF2</strong></span>" :</p><pre class="programlisting">
-- Find wharves partly on a lake's shoreline
SELECT a.lake_id, b.wharf_id
FROM lakes a, wharfs b
WHERE a.geom &amp;&amp; b.geom
      AND ST_Relate(a.geom, b.geom, '102101FF2');
</pre></section></section><section class="section" id="using-query-indexes"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.2. Utilisation des index spatiaux</h2></div></div></div><p>Lors de la construction de requêtes utilisant des conditions spatiales, il est important, pour de meilleures performances, de s'assurer qu'un index spatial est utilisé, s'il existe (voir <a class="xref" href="#build-indexes" title="4.9. Index spatiaux">Section 4.9, “Index spatiaux”</a>). Pour ce faire, un opérateur spatial ou une fonction sensible à l'index doit être utilisé dans une clause <code class="code">WHERE</code> ou <code class="code">ON</code> de la requête. </p><p>Les opérateurs spatiaux comprennent les opérateurs de boîte de délimitation (dont le plus couramment utilisé est <a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a> ; voir <a class="xref" href="#operators-bbox" title="7.10.1. Opérateurs de Bounding Box">Section 7.10.1, “Opérateurs de Bounding Box”</a> pour la liste complète) et les opérateurs de distance utilisés dans les requêtes sur les plus proches voisins (le plus courant étant <a class="xref" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a> ; voir <a class="xref" href="#operators-distance" title="7.10.2. Opérateurs de distance">Section 7.10.2, “Opérateurs de distance”</a> pour la liste complète.) </p><p>Les fonctions tenant compte de l'index ajoutent automatiquement un opérateur de boîte de délimitation à la condition spatiale. Les fonctions tenant compte de l'index comprennent les prédicats de relation spatiale nommés <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>, <a class="xref" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a>, <a class="xref" href="#ST_Touches" title="ST_Touches">ST_Touches</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a>, et <a class="xref" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a>, et les prédicats de distance <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a>, <a class="xref" href="#ST_3DDFullyWithin" title="ST_3DDFullyWithin">ST_3DDFullyWithin</a>, et <a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a> . ) </p><p>Les fonctions telles que <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a> n'utilisent <span class="emphasis"><em>pas</em></span> les index pour optimiser leur fonctionnement. Par exemple, la requête suivante serait assez lente sur une grande table :</p><pre class="programlisting">
SELECT geom
FROM geom_table
WHERE ST_Distance( geom, 'SRID=312;POINT(100000 200000)' ) &lt; 100
</pre><p>Cette requête sélectionne toutes les géométries de la <code class="code">geom_table</code> qui se trouvent à moins de 100 unités du point (100000, 200000). Elle sera lente car elle calcule la distance entre chaque point du tableau et le point spécifié, c'est-à-dire qu'un calcul <code class="varname">ST_Distance()</code> est effectué pour <span class="bold"><strong>chaque</strong></span> ligne du tableau. </p><p>Le nombre de lignes traitées peut être considérablement réduit en utilisant la fonction d'indexation <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a> :</p><pre class="programlisting">SELECT geom
FROM geom_table
WHERE ST_DWithin( geom, 'SRID=312;POINT(100000 200000)', 100 )
</pre><p>Cette requête sélectionne les mêmes géométries, mais de manière plus efficace. Ceci est possible en <code class="varname">ST_DWithin()</code> utilisant l'opérateur <code class="varname">&amp;&amp;</code> en interne sur une boîte de délimitation élargie de la géométrie de la requête. S'il existe un index spatial sur <code class="code">geom</code>, le planificateur de requêtes reconnaîtra qu'il peut utiliser l'index pour réduire le nombre de lignes analysées avant de calculer la distance. L'index spatial permet d'extraire uniquement les enregistrements dont les boîtes de délimitation chevauchent l'étendue élargie et qui, par conséquent, <span class="emphasis"><em>pourraient</em></span> se trouver à l'intérieur de la distance requise. La distance réelle est ensuite calculée pour confirmer l'inclusion de l'enregistrement dans l'ensemble des résultats. </p><p>Pour plus d'informations et d'exemples, voir l' <a class="link" href="https://postgis.net/workshops/postgis-intro/indexing.html" target="_top">atelier de travail PostGIS</a>. </p></section><section class="section" id="examples_spatial_sql"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.3. Exemples de SQL spatial</h2></div></div></div><p>Les exemples de cette section utilisent une table de routes linéaires et une table de limites de communes polygonales. La définition de la table <code class="varname">bc_roads</code> est la suivante :</p><pre class="programlisting">Column    | Type              | Description
----------+-------------------+-------------------
gid       | integer           | Unique ID
name      | character varying | Road Name
geom      | geometry          | Location Geometry (Linestring)</pre><p>La définition de la table <code class="varname">bc_municipality</code> est la suivante :</p><pre class="programlisting">Column   | Type              | Description
---------+-------------------+-------------------
gid      | integer           | Unique ID
code     | integer           | Unique ID
name     | character varying | City / Town Name
geom     | geometry          | Location Geometry (Polygon)</pre><div class="qandaset" id="idm2906"><ul><li><a href="#qa_total_length_roads">5.3.1. Quelle est la longueur totale de toutes les routes, exprimée en kilomètres ?</a></li><li><a href="#idm2913">5.3.2. Quelle est la superficie de la ville de Prince George, en hectares ?</a></li><li><a href="#idm2919">5.3.3. Quelle est la plus grande municipalité de la province, en termes de superficie ?</a></li><li><a href="#idm2926">5.3.4. Quelle est la longueur des routes entièrement comprises dans chaque municipalité ?</a></li><li><a href="#idm2933">5.3.5. Créez un nouveau tableau avec toutes les routes de la ville de Prince George.</a></li><li><a href="#idm2939">5.3.6. Quelle est la longueur en kilomètres de "Douglas St" à Victoria ?</a></li><li><a href="#idm2944">5.3.7. Quel est le plus grand polygone municipal comportant un trou ?</a></li></ul><table style="border: 0; width: 100%;"><colgroup><col style="text-align: left; width: 1%; "/><col/></colgroup><tbody><tr class="question" id="qa_total_length_roads"><td style="text-align: left; vertical-align: top; " id="idm2908"><p><strong>5.3.1.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>Quelle est la longueur totale de toutes les routes, exprimée en kilomètres ?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>Vous pouvez répondre à cette question à l'aide d'un code SQL très simple :</p><pre class="programlisting">SELECT sum(ST_Length(geom))/1000 AS km_roads FROM bc_roads;

km_roads
------------------
70842.1243039643
</pre></td></tr><tr class="question" id="idm2913"><td style="text-align: left; vertical-align: top; " id="idm2914"><p><strong>5.3.2.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>Quelle est la superficie de la ville de Prince George, en hectares ?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>Cette requête combine une condition d'attribut (sur le nom de la municipalité) avec un calcul spatial (de la surface du polygone) :</p><pre class="programlisting">SELECT
  ST_Area(geom)/10000 AS hectares
FROM bc_municipality
WHERE name = 'PRINCE GEORGE';

hectares
------------------
32657.9103824927
</pre></td></tr><tr class="question" id="idm2919"><td style="text-align: left; vertical-align: top; " id="idm2920"><p><strong>5.3.3.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>Quelle est la plus grande municipalité de la province, en termes de superficie ?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>Cette requête utilise une mesure spatiale comme valeur de référence. Il existe plusieurs façons d'aborder ce problème, mais la plus efficace est la suivante :</p><pre class="programlisting">SELECT
  name,
  ST_Area(geom)/10000 AS hectares
FROM bc_municipality
ORDER BY hectares DESC
LIMIT 1;

name           | hectares
---------------+-----------------
TUMBLER RIDGE  | 155020.02556131
</pre><p>Notez que pour répondre à cette question, nous devons calculer la surface de chaque polygone. Si nous faisions cela souvent, il serait logique d'ajouter une colonne de surface à la table qui pourrait être indexée pour des raisons de performance. En ordonnant les résultats dans une direction décroissante et en utilisant la commande "LIMIT" de PostgreSQL, nous pouvons facilement sélectionner la plus grande valeur sans utiliser une fonction d'agrégation comme MAX().</p></td></tr><tr class="question" id="idm2926"><td style="text-align: left; vertical-align: top; " id="idm2927"><p><strong>5.3.4.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>Quelle est la longueur des routes entièrement comprises dans chaque municipalité ?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>Il s'agit d'un exemple de "jointure spatiale", qui rassemble les données de deux tables (avec une jointure) en utilisant une interaction spatiale ("contenu") comme condition de jointure (plutôt que l'approche relationnelle habituelle de jointure sur une clé commune) :</p><pre class="programlisting">SELECT
  m.name,
  sum(ST_Length(r.geom))/1000 as roads_km
FROM bc_roads AS r
JOIN bc_municipality AS m
  ON ST_Contains(m.geom, r.geom)
GROUP BY m.name
ORDER BY roads_km;

name                        | roads_km
----------------------------+------------------
SURREY                      | 1539.47553551242
VANCOUVER                   | 1450.33093486576
LANGLEY DISTRICT            | 833.793392535662
BURNABY                     | 773.769091404338
PRINCE GEORGE               | 694.37554369147
...</pre><p>Cette requête prend un certain temps, car chaque route du tableau est résumée dans le résultat final (environ 250 000 routes pour le tableau de l'exemple). Pour des ensembles de données plus petits (plusieurs milliers d'enregistrements sur plusieurs centaines), la réponse peut être très rapide.</p></td></tr><tr class="question" id="idm2933"><td style="text-align: left; vertical-align: top; " id="idm2934"><p><strong>5.3.5.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>Créez un nouveau tableau avec toutes les routes de la ville de Prince George.</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>Il s'agit d'un exemple de "superposition", qui prend en compte deux tableaux et produit un nouveau tableau composé de résultats coupés dans l'espace. Contrairement à la "jointure spatiale" présentée ci-dessus, cette requête crée de nouvelles géométries. Une superposition est comme une jointure spatiale turbocompressée, et est utile pour des travaux d'analyse plus précis :</p><pre class="programlisting">CREATE TABLE pg_roads as
SELECT
  ST_Intersection(r.geom, m.geom) AS intersection_geom,
  ST_Length(r.geom) AS rd_orig_length,
  r.*
FROM bc_roads AS r
JOIN bc_municipality AS m
  ON ST_Intersects(r.geom, m.geom)
WHERE
  m.name = 'PRINCE GEORGE';
</pre></td></tr><tr class="question" id="idm2939"><td style="text-align: left; vertical-align: top; " id="idm2940"><p><strong>5.3.6.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>Quelle est la longueur en kilomètres de "Douglas St" à Victoria ?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><pre class="programlisting">SELECT
  sum(ST_Length(r.geom))/1000 AS kilometers
FROM bc_roads r
JOIN bc_municipality m
  ON ST_Intersects(m.geom, r.geom
WHERE
  r.name = 'Douglas St'
  AND m.name = 'VICTORIA';

kilometers
------------------
4.89151904172838
</pre></td></tr><tr class="question" id="idm2944"><td style="text-align: left; vertical-align: top; " id="idm2945"><p><strong>5.3.7.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>Quel est le plus grand polygone municipal comportant un trou ?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><pre class="programlisting">
SELECT gid, name, ST_Area(geom) AS area
FROM bc_municipality
WHERE ST_NRings(geom) 
&gt; 1
ORDER BY area DESC LIMIT 1;

gid  | name         | area
-----+--------------+------------------
12   | SPALLUMCHEEN | 257374619.430216

</pre></td></tr></tbody></table></div></section></section><section class="chapter" id="performance_tips"><div class="titlepage"><div><div><h1 class="title">Chapter 6. Conseils sur les performances</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#small_tables_large_objects">6.1. Petites tables de grandes géométries</a></span></li><li><span class="section"><a href="#database_clustering">6.2. CLUSTER d'index géométriques</a></span></li><li><span class="section"><a href="#avoiding_dimension_conversion">6.3. Eviter les conversions de dimension</a></span></li></ul></div><section class="section" id="small_tables_large_objects"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.1. Petites tables de grandes géométries</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#idm2953">6.1.1. Description du problème</a></span></li><li><span class="section"><a href="#idm2963">6.1.2. Solutions de contournement</a></span></li></ul></div><section class="section" id="idm2953"><div class="titlepage"><div><div><h3 class="title">6.1.1. Description du problème</h3></div></div></div><p>Les versions de PostgreSQL actuelles (y compris 8.0) souffrent d'une faiblesse optimiseur de requête relative les tables TOAST. Tables TOAST sont une sorte de «salle de l'extension" utilisé pour stocker de grandes valeurs (dans le sens de la taille des données) qui ne rentrent pas dans les pages de données normales (comme de longs textes, images ou des géométries complexes avec beaucoup de sommets), voir <a class="link" href="http://www.postgresql.org/docs/current/static/storage-toast.html" target="_top"> Documentation PostgreSQL pour TOAST </a> pour plus d'informations).</p><p>Le problème apparaît s'il vous arrive d'avoir une table avec d'assez grandes géométries, mais pas beaucoup de lignes d'entre elles (comme un tableau contenant les frontières de tous les pays européens en haute résolution). Ensuite, le tableau lui-même est petit, mais il utilise beaucoup d'espace TOAST. Dans notre exemple, le cas, la table elle-même avait environ 80 lignes et seulement 3 pages de données utilisées, mais la table TOAST 8225 pages utilisé.</p><p>Maintenant émettre une requête en utilisant l'opérateur de géométrie &amp;&amp; pour rechercher une boîte englobante qui correspond que très peu de ces lignes. Maintenant l'optimiseur de requêtes voit que la table n'a que 3 pages et 80 lignes. Il estime qu'une analyse séquentielle sur une telle petite table est beaucoup plus rapide que d'utiliser un index. Et alors il décide d'ignorer l'index GIST. Habituellement, cette estimation est correcte. Mais dans notre cas, l'opérateur &amp;&amp; doit aller chercher chaque géométrie à partir du disque pour comparer les boîtes englobantes, et par conséquent la lecture de toutes les pages TOAST également.</p><p>Pour voir si vous souffrez de ce problème, utilisez la commande postgresql "EXPLAIN ANALYZE". Pour plus d'informations et les détails techniques, vous pouvez lire le fil de discussion sur la liste de diffusion sur les performances de PostgreSQL : <a class="link" href="http://archives.postgresql.org/pgsql-performance/2005-02/msg00030.php" target="_top">http://archives.postgresql.org/pgsql-performance/2005-02/msg00030.php</a></p><p>et un fil d'actualités plus récent sur PostGIS <a class="link" href="https://lists.osgeo.org/pipermail/postgis-devel/2017-June/026209.html" target="_top">https://lists.osgeo.org/pipermail/postgis-devel/2017-June/026209.html</a></p></section><section class="section" id="idm2963"><div class="titlepage"><div><div><h3 class="title">6.1.2. Solutions de contournement</h3></div></div></div><p>Les personnes de PostgreSQL essayent de résoudre ce problème en faisant l'estimation de la requête TOAST-courant. Pour l'instant, voici deux solutions :</p><p>La première solution consiste à forcer le planificateur de requêtes à utiliser l'index. Envoyer "SET enable_seqscan TO off;" au serveur avant d'émettre la requête. Cela force le planificateur de requêtes à éviter balayages séquentiels lorsque cela est possible. Donc, il utilise l'index GIST comme d'habitude. Mais cet indicateur doit être fixé à chaque connexion, et il provoque le planificateur de requêtes à faire des erreurs d'estimation dans les autres cas, vous devrez donc faire "SET POUR enable_seqscan sur;" après la requête.</p><p>La deuxième solution consiste à faire le balayage séquentielle aussi vite que le planificateur de requêtes pense. Ceci peut être réalisé en créant une colonne supplémentaire qui "cache" la bbox, et contre cette correspondance. Dans notre exemple, les commandes sont comme :</p><pre class="programlisting">SELECT AddGeometryColumn('myschema','mytable','bbox','4326','GEOMETRY','2');
UPDATE mytable SET bbox = ST_Envelope(ST_Force2D(geom));</pre><p>Modifiez maintenant votre requête pour utiliser l'opérateur &amp;&amp; contre bbox au lieu de geom_column, comme suit :</p><pre class="programlisting">
SELECT geom_column
FROM mytable
WHERE bbox &amp;&amp; ST_SetSRID('BOX3D(0 0,1 1)'::box3d,4326);
</pre><p>Bien sûr, si vous changez ou ajoutez des lignes à mytable, vous devez garder la bbox "synchro". La façon la plus transparente pour ce faire serait des déclencheurs, mais vous pouvez également modifier votre application afin de maintenir la colonne bbox courante ou exécuter la requête UPDATE ci-dessus après chaque modification.</p></section></section><section class="section" id="database_clustering"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.2. CLUSTER d'index géométriques</h2></div></div></div><p>Pour les tables qui sont pour la plupart en lecture seule, et où un seul index est utilisé pour la majorité des requêtes, PostgreSQL offre la commande CLUSTER. Cette commande réorganise physiquement toutes les lignes de données dans le même ordre que les critères de l'index, ce qui donne deux avantages de performance : d'abord, pour des analyses d'intervalle de l'index, le nombre de recherche sur la table de données est considérablement réduit. Deuxièmement, si votre jeu de travail se concentre à quelques petits intervalles sur les index, vous avez une mise en cache plus efficace parce que les lignes de données sont dispersées sur moins de pages de données. (N'hésitez pas à lire la documentation de la commande CLUSTER du manuel PostgreSQL à ce stade)</p><p>Cependant, PostgreSQL ne permet actuellement pas le clustering sur les index GIST de PostGIS car les indices GIST ignorent les valeurs NULL, vous obtenez un message d'erreur comme :</p><pre class="programlisting">lwgeom=# CLUSTER my_geom_index ON my_table;
ERROR: cannot cluster when index access method does not handle null values
HINT: You may be able to work around this by marking column "geom" NOT NULL.</pre><p>Comme le message d'ASTUCES vous le dit, on peut contourner cette lacune en ajoutant une contrainte "not null" à la table :</p><pre class="programlisting">lwgeom=# ALTER TABLE my_table ALTER COLUMN geom SET not null;
ALTER TABLE</pre><p>Bien sûr, cela ne fonctionnera pas si vous avez besoin, dans les faits, de valeurs NULL dans la colonne de géométrie. En outre, vous devez utiliser la méthode ci-dessus pour ajouter la contrainte, en utilisant une contrainte CHECK comme "ALTER TABLE blubb ADD CHECK (geometry is not null)" ne fonctionnera pas.</p></section><section class="section" id="avoiding_dimension_conversion"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.3. Eviter les conversions de dimension</h2></div></div></div><p>Il arrive parfois que vous ayez des données 3D ou 4D dans votre table, mais que vous y accédiez toujours à l'aide des fonctions ST_AsText() ou ST_AsBinary() conformes à OpenGIS qui ne produisent que des géométries 2D. Pour ce faire, elles appellent en interne la fonction ST_Force2D(), qui introduit une surcharge importante pour les géométries de grande taille. Pour éviter cette surcharge, il peut être possible de pré-déposer ces dimensions supplémentaires une fois pour toutes :</p><pre class="programlisting">UPDATE mytable SET geom = ST_Force2D(geom);
VACUUM FULL ANALYZE mytable;</pre><p>Notez que si vous avez ajouté votre colonne de géométrie à l'aide AddGeometryColumn (), il y aura une contrainte sur la dimension de la géométrie. Pour contourner vous devrez supprimer la contrainte. N'oubliez pas de mettre à jour l'entrée dans la table geometry_columns et recréer la contrainte par la suite.</p><p>En cas de grandes tables, il peut être judicieux de diviser cette mise à jour en petites portions en restreignant l'UPDATE à une partie de la table via une clause WHERE et votre clé primaire ou d'un autre critère, et exécutant un simple «VACUUM» ; entre votre mises à jour. Cela réduit considérablement le besoin d'espace disque temporaire. En outre, si vous avez des données géométriques de dimension mixte, restreindre la mise à jour en "WHERE dimension(the_geom)&gt;2" saute la ré-écriture des géométries qui sont déjà en 2D.</p></section></section><section class="chapter" id="reference"><div class="titlepage"><div><div><h1 class="title">Chapter 7. Référence PostGIS</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#PostGIS_Types">7.1. Types de données PostGIS Geometry/Geography/Box</a></span></li><li><span class="section"><a href="#Management_Functions">7.2. Fonctions de gestion des tables</a></span></li><li><span class="section"><a href="#Geometry_Constructors">7.3. Constructeurs de géométries</a></span></li><li><span class="section"><a href="#Geometry_Accessors">7.4. Fonctions d'accès aux géométries</a></span></li><li><span class="section"><a href="#Geometry_Editors">7.5. Éditeurs de géométrie</a></span></li><li><span class="section"><a href="#Geometry_Validation">7.6. Validation de la géométrie</a></span></li><li><span class="section"><a href="#SRS_Functions">7.7. Fonctions des systèmes de référence spatiale</a></span></li><li><span class="section"><a href="#Geometry_Inputs">7.8. Import de géométrie</a></span></li><li><span class="section"><a href="#Geometry_Outputs">7.9. Export de géométrie</a></span></li><li><span class="section"><a href="#Operators">7.10. Opérateurs</a></span></li><li><span class="section"><a href="#Spatial_Relationships">7.11. Relations spatiales</a></span></li><li><span class="section"><a href="#Measurement_Functions">7.12. Fonctions de mesure</a></span></li><li><span class="section"><a href="#Overlay_Functions">7.13. Fonctions de superposition</a></span></li><li><span class="section"><a href="#Geometry_Processing">7.14. Traitement des géométries</a></span></li><li><span class="section"><a href="#Coverage">7.15. Couvertures</a></span></li><li><span class="section"><a href="#Affine_Transformation">7.16. Transformations affines</a></span></li><li><span class="section"><a href="#Clustering_Functions">7.17. Fonctions de clustering</a></span></li><li><span class="section"><a href="#BBox_Functions">7.18. Fonctions des boîtes de délimitation</a></span></li><li><span class="section"><a href="#Linear_Referencing">7.19. Référencement linéaire</a></span></li><li><span class="section"><a href="#Temporal">7.20. Fonctions de trajectoire</a></span></li><li><span class="section"><a href="#Version_Functions">7.21. Fonctions de version</a></span></li><li><span class="section"><a href="#PostGIS_GUC">7.22. Variables PostGIS GUC (Grand Unified Custom Variables)</a></span></li><li><span class="section"><a href="#Troubleshooting_Functions">7.23. Fonctions de dépannage</a></span></li></ul></div><p>Les fonctions suivantes sont celles dont un utilisateur normal de PostGIS peut avoir besoin. Il existe d'autres fonctions nécessaires au fonctionnement de PostGIS. Elles ne sont normalement pas destinées à un utilisateur standard.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>PostGIS a entamé une phase de transition concernant le nom des fonctions pour les faire correspondre à la norme SQL-MM. La plupart des fonctions ont été renommées en utilisant le préfixe des types spatiaux (ST, pour Spatial Type). Les anciennes fonctions, toujours disponibles, ne sont pas listées ci-après si leur équivalent est disponible. Les fonctions non préfixées par ST, qui ne sont pas listées dans cette documentation, sont dépréciées et seront supprimées des prochaines version de PostGIS. IL NE FAUT PLUS LES UTILISER.</p></td></tr></table></div><section class="section" id="PostGIS_Types"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.1. Types de données PostGIS Geometry/Geography/Box</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section répertorie les types de données PostgreSQL personnalisés installés par PostGIS pour représenter les données spatiales. </p><p>Chaque type de données décrit son comportement de type cast. Un <a class="link" href="https://www.postgresql.org/docs/current/sql-expressions.html#SQL-SYNTAX-TYPE-CASTS" target="_top">type cast</a> convertit les valeurs d'un type de données en un autre type. PostgreSQL permet de définir le comportement de casting pour les types personnalisés, ainsi que les fonctions utilisées pour convertir les valeurs du type. Les cast peuvent avoir <span class="bold"><strong>un comportement automatique</strong></span>, ce qui permet la conversion automatique d'un argument de fonction vers un type supporté par la fonction.</p><p>Certains castings ont un comportement <span class="bold"><strong>explicite</strong></span>, ce qui signifie que le cast doit être spécifié en utilisant la syntaxe <code class="varname">CAST(myval As sometype)</code> ou <code class="varname">myval::sometype</code>. Le casting explicite évite le problème des casts ambigus, qui peuvent se produire lors de l'utilisation d'une fonction surchargée qui ne supporte pas un type donné. Par exemple, une fonction peut accepter un box2d ou un box3d, mais pas un geometry. Puisque la géométrie a un cast automatique vers les deux types de boîtes, cela produit une erreur de "fonction ambiguë". Pour éviter cette erreur, utilisez un cast explicite vers le type de boîte souhaité.</p><p>Tous les types de données peuvent être transformés en <code class="varname">text</code>, il n'est donc pas nécessaire de le spécifier explicitement.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#box2d_type">box2d</a></span><span class="refpurpose"> — Le type représentant une boîte de délimitation bidimensionnelle. </span></li><li><span class="refentrytitle"><a href="#box3d_type">box3d</a></span><span class="refpurpose"> — Le type représentant une boîte de délimitation tridimensionnelle. </span></li><li><span class="refentrytitle"><a href="#geometry">geometry</a></span><span class="refpurpose"> — Le type représentant les caractéristiques spatiales avec des systèmes de coordonnées planaires.</span></li><li><span class="refentrytitle"><a href="#geometry_dump">geometry_dump</a></span><span class="refpurpose"> — Un type composite utilisé pour décrire les parties d'une géométrie complexe.</span></li><li><span class="refentrytitle"><a href="#geography">geography</a></span><span class="refpurpose"> — Le type représentant les entités spatiales avec des systèmes de coordonnées géodésiques (ellipsoïdales).</span></li></ul></div><div class="refentry" id="box2d_type"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>box2d — Le type représentant une boîte de délimitation bidimensionnelle. </p></div><div class="refsection" id="idm3009"><h2>Description</h2><p><code class="varname">box2d</code> est un type de données spatiales utilisé pour représenter la boîte de délimitation bidimensionnelle entourant une géométrie ou une collection de géométries. Par exemple, la fonction d'agrégation <a class="xref" href="#ST_Extent" title="ST_Extent">ST_Extent</a> renvoie un objet <code class="varname">box2d</code>.</p><p>La représentation contient les valeurs <code class="varname">xmin, ymin, xmax, ymax</code>. Ce sont les valeurs minimales et maximales des étendues X et Y. </p><p>Les objets <code class="varname">box2d</code> ont une représentation textuelle qui ressemble à <code class="code">BOX(1 2,5 6)</code>. </p></div><div class="refsection" id="idm3020"><h2>Transtypages</h2><p>Ce tableau énumère les casts automatiques et explicites autorisés pour ce type de données :</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Transtypage vers</td><td style="border-bottom: 1px solid ; ">Comportement</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">box3d</td><td style="border-bottom: 1px solid ; ">automatique</td></tr><tr><td style="border-right: 1px solid ; ">geometry</td><td>automatique</td></tr></tbody></table></div></div><div class="refsection" id="idm3035"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_BoxFunctions" title="13.7. Fonctions Box de PostGIS">Section 13.7, “Fonctions Box de PostGIS”</a></p></div></div><div class="refentry" id="box3d_type"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>box3d — Le type représentant une boîte de délimitation tridimensionnelle. </p></div><div class="refsection" id="idm3043"><h2>Description</h2><p><code class="varname">box3d</code> est un type de données spatiales PostGIS utilisé pour représenter la boîte de délimitation tridimensionnelle entourant une géométrie ou une collection de géométries. Par exemple, la fonction d'agrégation <a class="xref" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a> renvoie un objet <code class="varname">box3d</code>. </p><p>La représentation contient les valeurs <code class="varname">xmin, ymin, zmin, xmax, ymax, zmax</code>. Il s'agit des valeurs minimales et maximales des étendues X, Y et Z. </p><p>Les objets <code class="varname">box3d</code> ont une représentation textuelle qui ressemble à <code class="code">BOX3D(1 2 3,5 6 5)</code>. </p></div><div class="refsection" id="idm3054"><h2>Transtypages</h2><p>Ce tableau énumère les casts automatiques et explicites autorisés pour ce type de données :</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Transtypage vers</td><td style="border-bottom: 1px solid ; ">Comportement</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">box</td><td style="border-bottom: 1px solid ; ">automatique</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">box2d</td><td style="border-bottom: 1px solid ; ">automatique</td></tr><tr><td style="border-right: 1px solid ; ">geometry</td><td>automatique</td></tr></tbody></table></div></div><div class="refsection" id="idm3072"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_BoxFunctions" title="13.7. Fonctions Box de PostGIS">Section 13.7, “Fonctions Box de PostGIS”</a></p></div></div><div class="refentry" id="geometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>geometry — Le type représentant les caractéristiques spatiales avec des systèmes de coordonnées planaires.</p></div><div class="refsection" id="idm3080"><h2>Description</h2><p><code class="varname">géométrie</code> est un type de données spatiales fondamental de PostGIS utilisé pour représenter une caractéristique dans des systèmes de coordonnées planes (euclidiennes).</p><p>Toutes les opérations spatiales sur la géométrie utilisent les unités du système de référence spatiale dans lequel se trouve la géométrie.</p></div><div class="refsection" id="idm3085"><h2>Transtypages</h2><p>Ce tableau énumère les casts automatiques et explicites autorisés pour ce type de données :</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Transtypage vers</td><td style="border-bottom: 1px solid ; ">Comportement</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">box</td><td style="border-bottom: 1px solid ; ">automatique</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">box2d</td><td style="border-bottom: 1px solid ; ">automatique</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">box3d</td><td style="border-bottom: 1px solid ; ">automatique</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">bytea</td><td style="border-bottom: 1px solid ; ">automatique</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">geography</td><td style="border-bottom: 1px solid ; ">automatique</td></tr><tr><td style="border-right: 1px solid ; ">text</td><td>automatique</td></tr></tbody></table></div></div><div class="refsection" id="idm3112"><h2>Voir aussi</h2><p><a class="xref" href="#RefObject" title="4.1. Modèle de données spatiales">Section 4.1, “Modèle de données spatiales”</a>, <a class="xref" href="#PostGIS_SQLMM_Functions" title="13.3. Fonctions de PostGIS compatibles avec SQL-MM">Section 13.3, “Fonctions de PostGIS compatibles avec SQL-MM”</a></p></div></div><div class="refentry" id="geometry_dump"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>geometry_dump — Un type composite utilisé pour décrire les parties d'une géométrie complexe.</p></div><div class="refsection" id="idm3121"><h2>Description</h2><p><code class="varname">geometry_dump</code> est un <a class="link" href="https://www.postgresql.org/docs/current/rowtypes.html" target="_top">type de données composite</a> contenant les champs :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">geom</code> - une géométrie représentant un composant de la géométrie explosée. Le type de géométrie dépend de la fonction d'origine.</p></li><li class="listitem"><p><code class="varname">path[]</code> - un tableau d'entiers qui définit le chemin de navigation dans la géométrie explosée vers le composant <code class="varname">geom</code>. Le tableau de chemins est basé sur 1 (c'est-à-dire que <code class="varname">path[1]</code> est le premier élément)</p></li></ul></div><p>Il est utilisé par la famille de fonctions <code class="varname">ST_Dump*</code> comme type de sortie pour exploser une géométrie complexe en ses parties constitutives.</p></div><div class="refsection" id="idm3137"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_Geometry_DumpFunctions" title="13.6. Fonctions PostGIS de dump Geometry / Geography / Raster">Section 13.6, “Fonctions PostGIS de dump Geometry / Geography / Raster”</a> </p></div></div><div class="refentry" id="geography"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>geography — Le type représentant les entités spatiales avec des systèmes de coordonnées géodésiques (ellipsoïdales).</p></div><div class="refsection" id="idm3145"><h2>Description</h2><p><code class="varname">geography</code> est un type de données spatiales utilisé pour représenter une entité dans les systèmes de coordonnées géodésiques. Les systèmes de coordonnées géodésiques modélisent la terre à l'aide d'un ellipsoïde. </p><p>Les opérations spatiales sur le type geography fournissent des résultats plus précis en prenant en compte le modèle ellipsoïdal. </p></div><div class="refsection" id="idm3150"><h2>Transtypages</h2><p>Ce tableau énumère les casts automatiques et explicites autorisés pour ce type de données :</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Transtypage vers</td><td style="border-bottom: 1px solid ; ">Comportement</td></tr><tr><td style="border-right: 1px solid ; ">geometry</td><td>explicite</td></tr></tbody></table></div></div><div class="refsection" id="idm3162"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_Geography" title="4.3. Type de données Geography">Section 4.3, “Type de données Geography”</a>, <a class="xref" href="#PostGIS_GeographyFunctions" title="13.4. Fonctions d'aide au type geography de PostGIS">Section 13.4, “Fonctions d'aide au type geography de PostGIS”</a></p></div></div></section><section class="section" id="Management_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.2. Fonctions de gestion des tables</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions permettent de définir des tables contenant des colonnes géométriques. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#AddGeometryColumn">AddGeometryColumn</a></span><span class="refpurpose"> — Ajoute une colonne de géométrie à une table existante.</span></li><li><span class="refentrytitle"><a href="#DropGeometryColumn">DropGeometryColumn</a></span><span class="refpurpose"> — Supprime une colonne géométrique d'une table spatiale.</span></li><li><span class="refentrytitle"><a href="#DropGeometryTable">DropGeometryTable</a></span><span class="refpurpose"> — Supprime une table et toutes ces références dans geometry_columns.</span></li><li><span class="refentrytitle"><a href="#Find_SRID">Find_SRID</a></span><span class="refpurpose"> — Renvoie le SRID défini pour une colonne géométrique.</span></li><li><span class="refentrytitle"><a href="#Populate_Geometry_Columns">Populate_Geometry_Columns</a></span><span class="refpurpose"> — Assure que les colonnes géométriques sont définies avec des modificateurs de type ou qu'elles sont soumises à des contraintes spatiales appropriées.</span></li><li><span class="refentrytitle"><a href="#UpdateGeometrySRID">UpdateGeometrySRID</a></span><span class="refpurpose"> — Met à jour le SRID de tous les éléments d'une colonne géométrique et les métadonnées de la table. </span></li></ul></div><div class="refentry" id="AddGeometryColumn"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AddGeometryColumn — Ajoute une colonne de géométrie à une table existante.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">AddGeometryColumn</strong>(</code>varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, integer  <var class="pdparam">srid</var>, varchar  <var class="pdparam">type</var>, integer  <var class="pdparam">dimension</var>, boolean  <var class="pdparam">use_typmod=true</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AddGeometryColumn</strong>(</code>varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, integer  <var class="pdparam">srid</var>, varchar  <var class="pdparam">type</var>, integer  <var class="pdparam">dimension</var>, boolean  <var class="pdparam">use_typmod=true</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AddGeometryColumn</strong>(</code>varchar  <var class="pdparam">catalog_name</var>, varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, integer  <var class="pdparam">srid</var>, varchar  <var class="pdparam">type</var>, integer  <var class="pdparam">dimension</var>, boolean  <var class="pdparam">use_typmod=true</var><code>)</code>;</p></div></div><div class="refsection" id="idm3250"><h2>Description</h2><p>Ajoute une colonne géométrique à une table attributaire existante. <code class="varname">schema_name</code> est le nom du schéma de la table. <code class="varname">srid</code> est un entier positif présent dans la table SPATIAL_REF_SYS. <code class="varname">type</code> est le type de géométrie en texte, par exemple 'POLYGON' ou 'MULTILINESTRING'. Une erreur est renvoyée si le schéma n'existe pas (ou n'est pas visible dans le search_path courant) ou si le SRID, type de géométrie ou dimension est invalide.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Changement : 2.0.0 Cette fonction ne met plus à jour geometry_columns maintenant que geometry_columns est une vue basée sur le catalogue système. Par défaut, elle ne créée plus de contraintes mais utilise le modificateur de type de PostgreSQL. Ainsi, par exemple, créer une colonne de type POINT WGS84 est désormais équivalent à : <code class="code">ALTER TABLE some_table ADD COLUMN geom geometry(Point,4326) ;</code> </p><p class="changed">Changement : 2.0.0 Si l'ancien mécanisme basé sur les contraintes est nécessaire, utiliser le paramètre <code class="varname">use_typmod</code> avec la valeur false.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Changement : 2.0.0 Les vues ne peuvent plus être enregistrées dans geometry_columns. Cependant, les vues construites à partir de tables contenant des géométries définies avec le modificateur de type et n'utilisant pas de fonctions d'encapsulation seront enregistrées dans la vue geometry_columns car elles héritent du mécanisme des tables dont elles sont issues. Les vues utilisant des fonctions renvoyant d'autres géométries doivent être transtypées vers des géométries avec modificateur de type pour pouvoir être correctement référencées dans la vue geometry_columns. Cf. <a class="xref" href="#Manual_Register_Spatial_Column" title="4.6.3. Enregistrement manuel des colonnes de géométrie">Section 4.6.3, “Enregistrement manuel des colonnes de géométrie”</a>. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p class="enhanced">Amélioration : 2.0.0 introduction du paramètre use_typmod. Le comportement par défaut est de créer une colonne géométrique avec modificateur de type au lieu de contraintes sur la colonne.</p></div><div class="refsection" id="idm3278"><h2>Exemples</h2><pre class="programlisting">-- Create schema to hold data
CREATE SCHEMA my_schema;
-- Create a new simple PostgreSQL table
CREATE TABLE my_schema.my_spatial_table (id serial);

-- Describing the table shows a simple table with a single "id" column.
postgis=# \d my_schema.my_spatial_table
                                                         Table "my_schema.my_spatial_table"
 Column |  Type   |                                Modifiers
--------+---------+-------------------------------------------------------------------------
 id     | integer | not null default nextval('my_schema.my_spatial_table_id_seq'::regclass)

-- Add a spatial column to the table
SELECT AddGeometryColumn ('my_schema','my_spatial_table','geom',4326,'POINT',2);

-- Add a point using the old constraint based behavior
SELECT AddGeometryColumn ('my_schema','my_spatial_table','geom_c',4326,'POINT',2, false);

--Add a curvepolygon using old constraint behavior
SELECT AddGeometryColumn ('my_schema','my_spatial_table','geomcp_c',4326,'CURVEPOLYGON',2, false);

-- Describe the table again reveals the addition of a new geometry columns.
\d my_schema.my_spatial_table
                            addgeometrycolumn
-------------------------------------------------------------------------
 my_schema.my_spatial_table.geomcp_c SRID:4326 TYPE:CURVEPOLYGON DIMS:2
(1 row)

                                    Table "my_schema.my_spatial_table"
  Column  |         Type         |                                Modifiers
----------+----------------------+-------------------------------------------------------------------------
 id       | integer              | not null default nextval('my_schema.my_spatial_table_id_seq'::regclass)
 geom     | geometry(Point,4326) |
 geom_c   | geometry             |
 geomcp_c | geometry             |
Check constraints:
    "enforce_dims_geom_c" CHECK (st_ndims(geom_c) = 2)
    "enforce_dims_geomcp_c" CHECK (st_ndims(geomcp_c) = 2)
    "enforce_geotype_geom_c" CHECK (geometrytype(geom_c) = 'POINT'::text OR geom_c IS NULL)
    "enforce_geotype_geomcp_c" CHECK (geometrytype(geomcp_c) = 'CURVEPOLYGON'::text OR geomcp_c IS NULL)
    "enforce_srid_geom_c" CHECK (st_srid(geom_c) = 4326)
    "enforce_srid_geomcp_c" CHECK (st_srid(geomcp_c) = 4326)

-- geometry_columns view also registers the new columns --
SELECT f_geometry_column As col_name, type, srid, coord_dimension As ndims
    FROM geometry_columns
    WHERE f_table_name = 'my_spatial_table' AND f_table_schema = 'my_schema';

 col_name |     type     | srid | ndims
----------+--------------+------+-------
 geom     | Point        | 4326 |     2
 geom_c   | Point        | 4326 |     2
 geomcp_c | CurvePolygon | 4326 |     2
</pre></div><div class="refsection" id="idm3281"><h2>Voir aussi</h2><p><a class="xref" href="#DropGeometryColumn" title="DropGeometryColumn">DropGeometryColumn</a>, <a class="xref" href="#DropGeometryTable" title="DropGeometryTable">DropGeometryTable</a>, <a class="xref" href="#geometry_columns" title="4.6.2. Vue GEOMETRY_COLUMNS">Section 4.6.2, “Vue GEOMETRY_COLUMNS”</a>, <a class="xref" href="#Manual_Register_Spatial_Column" title="4.6.3. Enregistrement manuel des colonnes de géométrie">Section 4.6.3, “Enregistrement manuel des colonnes de géométrie”</a></p></div></div><div class="refentry" id="DropGeometryColumn"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>DropGeometryColumn — Supprime une colonne géométrique d'une table spatiale.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">DropGeometryColumn</strong>(</code>varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">DropGeometryColumn</strong>(</code>varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">DropGeometryColumn</strong>(</code>varchar  <var class="pdparam">catalog_name</var>, varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm3330"><h2>Description</h2><p>Supprime une colonne géométrique d'une table spatiale. Note : schema_name doit correspondre au champ f_table_schema de la table geometry_columns.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Changement : 2.0.0 Fonction assurant la rétro compatibilité. Maintenant que geometry_columns est une vue basée sur les catalogues du système, la colonne géométrique peut être supprimée d'une table comme tout autre colonne en utilisant <code class="code">ALTER TABLE</code></p></td></tr></table></div></div><div class="refsection" id="idm3349"><h2>Exemples</h2><pre class="programlisting">SELECT DropGeometryColumn ('my_schema','my_spatial_table','geom');
                        ----RESULT output ---
                                          dropgeometrycolumn
------------------------------------------------------
 my_schema.my_spatial_table.geom effectively removed.

-- In PostGIS 2.0+ the above is also equivalent to the standard
-- the standard alter table.  Both will deregister from geometry_columns
ALTER TABLE my_schema.my_spatial_table DROP column geom;
                </pre></div><div class="refsection" id="idm3352"><h2>Voir aussi</h2><p><a class="xref" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a>, <a class="xref" href="#DropGeometryTable" title="DropGeometryTable">DropGeometryTable</a>, <a class="xref" href="#geometry_columns" title="4.6.2. Vue GEOMETRY_COLUMNS">Section 4.6.2, “Vue GEOMETRY_COLUMNS”</a></p></div></div><div class="refentry" id="DropGeometryTable"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>DropGeometryTable — Supprime une table et toutes ces références dans geometry_columns.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">DropGeometryTable</strong>(</code>varchar  <var class="pdparam">table_name</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">DropGeometryTable</strong>(</code>varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">DropGeometryTable</strong>(</code>varchar  <var class="pdparam">catalog_name</var>, varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm3391"><h2>Description</h2><p>Supprime une table et toutes ces références dans geometry_columns. Note : utilise la fonction current_schema() sur les installations PostgreSQL le supportant, si le schéma n'est pas fourni.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Changement : 2.0.0 Function assurant la rétro compatibilité. Maintenant que geometry_columns est une vue basée sur les catalogues du système, une table spatiale peut etre supprimée comme tout autre table en utilisant <code class="code">ALTER TABLE</code></p></td></tr></table></div></div><div class="refsection" id="idm3397"><h2>Exemples</h2><pre class="programlisting">SELECT DropGeometryTable ('my_schema','my_spatial_table');
----RESULT output ---
my_schema.my_spatial_table dropped.

-- The above is now equivalent to --
DROP TABLE my_schema.my_spatial_table;
                </pre></div><div class="refsection" id="idm3400"><h2>Voir aussi</h2><p><a class="xref" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a>, <a class="xref" href="#DropGeometryColumn" title="DropGeometryColumn">DropGeometryColumn</a>, <a class="xref" href="#geometry_columns" title="4.6.2. Vue GEOMETRY_COLUMNS">Section 4.6.2, “Vue GEOMETRY_COLUMNS”</a></p></div></div><div class="refentry" id="Find_SRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Find_SRID — Renvoie le SRID défini pour une colonne géométrique.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">Find_SRID</strong>(</code>varchar  <var class="pdparam">a_schema_name</var>, varchar  <var class="pdparam">a_table_name</var>, varchar  <var class="pdparam">a_geomfield_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm3424"><h2>Description</h2><p>Renvoie le SRID entier de la colonne géométrique spécifiée en effectuant une recherche dans la table GEOMETRY_COLUMNS. Si la colonne géométrique n'a pas été correctement ajoutée (par exemple avec la fonction <a class="xref" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a>), cette fonction ne fonctionnera pas.</p></div><div class="refsection" id="idm3428"><h2>Exemples</h2><pre class="programlisting">SELECT Find_SRID('public', 'tiger_us_state_2007', 'geom_4269');
find_srid
----------
4269
</pre></div><div class="refsection" id="idm3431"><h2>Voir aussi</h2><p><a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="Populate_Geometry_Columns"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Populate_Geometry_Columns — Assure que les colonnes géométriques sont définies avec des modificateurs de type ou qu'elles sont soumises à des contraintes spatiales appropriées.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Populate_Geometry_Columns</strong>(</code>boolean  <var class="pdparam">use_typmod=true</var><code>)</code>;</p><p><code class="funcdef">int <strong class="fsfunc">Populate_Geometry_Columns</strong>(</code>oid <var class="pdparam">relation_oid</var>, boolean  <var class="pdparam">use_typmod=true</var><code>)</code>;</p></div></div><div class="refsection" id="idm3456"><h2>Description</h2><p>S'assure que les colonnes géométriques ont des modificateurs de type ou des contraintes spatiales appropriés pour garantir qu'elles sont enregistrées correctement dans la vue <code class="varname">geometry_columns</code>. Par défaut, convertira toutes les colonnes géométriques sans modificateur de type en colonnes avec modificateur de type. </p><p>Pour conserver la rétro compatibilité et pour des besoins particuliers comme par exemple des tables héritées ayant des types géométriques différents, l'ancien mécanisme est toujours supporté. Si ce mécanisme est nécessaire, le nouveau paramètre optionnel doit être mis à false : <code class="varname">use_typmod=false</code>. Avec cette valeur, la colonne géométrique sera créée sans modificateur de type mais 3 contraintes seront définies. Cela signifie concrètement que chaque colonne géométrique de la table aura au moins 3 contraintes :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">enforce_dims_geom</code> - garantit que chaque géométrie a la même dimension (voir <a class="xref" href="#ST_NDims" title="ST_NDims">ST_NDims</a>)</p></li><li class="listitem"><p><code class="varname">enforce_geotype_geom</code> - garantit que chaque géométrie est du même type (voir <a class="xref" href="#GeometryType" title="GeometryType">GeometryType</a>)</p></li><li class="listitem"><p><code class="varname">enforce_srid_the_geom</code> - s'assure que toutes les géométries sont dans la même projection (see <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a>)</p></li></ul></div><p>Si un identifiant de table <code class="varname">oid</code> est fourni, cette fonction tente de déterminer le SRID, la dimension et le type géométrique de toutes les colonnes géométriques de la table, ajoutant des contraintes si nécessaire. En cas de succès, une ligne est insérée dans la table geometry_columns, sinon, une erreur est affichée indiquant le problème.</p><p>Si le <code class="varname">oid</code> d'une vue est fourni, comme avec un oid de table, cette fonction essaie de déterminer le srid, la dimension et le type de toutes les géométries de la vue, en insérant les entrées appropriées dans la table <code class="varname">geometry_columns</code>, mais rien n'est fait pour appliquer les contraintes.</p><p>La version sans paramètre est un raccourci pour la version avec paramètres. Elle vide puis remplit la table geometry_columns pour chaque table ou vue spatiale de la base, ajoutant les contraintes aux tables si besoin. Retourne un résumé montrant le nombre de colonnes géométriques identifiées dans la base et le nombre inséré dans la table <code class="varname">geometry_columns</code>. La version avec paramètres renvoie juste le nombre de lignes insérées dans la table <code class="varname">geometry_columns</code> .</p><p class="availability">Disponibilité : 1.4.0</p><p class="changed">Changement : 2.0.0 Par défaut, utilise les modificateurs de type au lieu de contraintes de vérification pour contraindre les types géométriques. Le comportement basé sur les contraintes peut être activé en mettant le nouveau paramètre <code class="varname">use_typmod</code> à false.</p><p class="enhanced">Amélioration : 2.0.0 L'argument optionnel <code class="varname">use_typmod</code> a été introduit pour controler si les colonnes sont créés avec des modificateurs de type ou des contraintes de vérification.</p></div><div class="refsection" id="idm3488"><h2>Exemples</h2><pre class="programlisting">CREATE TABLE public.myspatial_table(gid serial, geom geometry);
INSERT INTO myspatial_table(geom) VALUES(ST_GeomFromText('LINESTRING(1 2, 3 4)',4326) );
-- This will now use typ modifiers.  For this to work, there must exist data
SELECT Populate_Geometry_Columns('public.myspatial_table'::regclass);

populate_geometry_columns
--------------------------
                        1


\d myspatial_table

                                   Table "public.myspatial_table"
 Column |           Type            |                           Modifiers
--------+---------------------------+---------------------------------------------------------------
 gid    | integer                   | not null default nextval('myspatial_table_gid_seq'::regclass)
 geom   | geometry(LineString,4326) |
</pre><pre class="programlisting">-- This will change the geometry columns to use constraints if they are not typmod or have constraints already.
--For this to work, there must exist data
CREATE TABLE public.myspatial_table_cs(gid serial, geom geometry);
INSERT INTO myspatial_table_cs(geom) VALUES(ST_GeomFromText('LINESTRING(1 2, 3 4)',4326) );
SELECT Populate_Geometry_Columns('public.myspatial_table_cs'::regclass, false);
populate_geometry_columns
--------------------------
                        1
\d myspatial_table_cs

                          Table "public.myspatial_table_cs"
 Column |   Type   |                            Modifiers
--------+----------+------------------------------------------------------------------
 gid    | integer  | not null default nextval('myspatial_table_cs_gid_seq'::regclass)
 geom   | geometry |
Check constraints:
    "enforce_dims_geom" CHECK (st_ndims(geom) = 2)
    "enforce_geotype_geom" CHECK (geometrytype(geom) = 'LINESTRING'::text OR geom IS NULL)
    "enforce_srid_geom" CHECK (st_srid(geom) = 4326)</pre></div></div><div class="refentry" id="UpdateGeometrySRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>UpdateGeometrySRID — Met à jour le SRID de tous les éléments d'une colonne géométrique et les métadonnées de la table. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">UpdateGeometrySRID</strong>(</code>varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">UpdateGeometrySRID</strong>(</code>varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">UpdateGeometrySRID</strong>(</code>varchar  <var class="pdparam">catalog_name</var>, varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm3543"><h2>Description</h2><p>Met à jour le SRID de tous les objets d'une colonne géométrique et met à jour les métadonnées de geometry_columns et la contrainte sur le SRID. Note : utilise la fonction current_schema() sur les installations PostgreSQL le supportant, si le schéma n'est pas fourni.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm3554"><h2>Exemples</h2><p>Insérer des géométries dans une table roads avec un jeu de SRID utilisant déjà le format <a class="link" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">EWKT</a> :</p><pre class="programlisting">COPY roads (geom) FROM STDIN;
SRID=4326;LINESTRING(0 0, 10 10)
SRID=4326;LINESTRING(10 10, 15 0)
\.
                </pre><p>Cela va changer le srid de la table roads à 4326 quelle que soit sa valeur avant :</p><pre class="programlisting">SELECT UpdateGeometrySRID('roads','geom',4326);</pre><p>L'exemple précédent est équivalent à cette requête DDL :</p><pre class="programlisting">ALTER TABLE roads
  ALTER COLUMN geom TYPE geometry(MULTILINESTRING, 4326)
    USING ST_SetSRID(geom,4326);</pre><p>Si vous vous êtes trompé de projection (ou si vous l'avez introduite en tant qu'inconnue) dans le chargement et que vous voulez transformer en mercator web en une seule fois, vous pouvez le faire avec DDL mais il n'y a pas de fonction de gestion PostGIS équivalente pour le faire en une seule fois.</p><pre class="programlisting">ALTER TABLE roads
 ALTER COLUMN geom TYPE geometry(MULTILINESTRING, 3857) USING ST_Transform(ST_SetSRID(geom,4326),3857) ;</pre></div><div class="refsection" id="idm3565"><h2>Voir aussi</h2><p><a class="xref" href="#RT_UpdateRasterSRID" title="UpdateRasterSRID">UpdateRasterSRID</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a> </p></div></div></section><section class="section" id="Geometry_Constructors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.3. Constructeurs de géométries</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_Collect">ST_Collect</a></span><span class="refpurpose"> — Crée une géométrie GeometryCollection ou Multi à partir d'un ensemble de géométries.</span></li><li><span class="refentrytitle"><a href="#ST_LineFromMultiPoint">ST_LineFromMultiPoint</a></span><span class="refpurpose"> — Crée une LineString à partir d'une géométrie MultiPoint.</span></li><li><span class="refentrytitle"><a href="#ST_MakeEnvelope">ST_MakeEnvelope</a></span><span class="refpurpose"> — Crée un polygone rectangulaire à partir des coordonnées minimales et maximales.</span></li><li><span class="refentrytitle"><a href="#ST_MakeLine">ST_MakeLine</a></span><span class="refpurpose"> — Crée une LineString à partir de géométries Point, MultiPoint ou LineString.</span></li><li><span class="refentrytitle"><a href="#ST_MakePoint">ST_MakePoint</a></span><span class="refpurpose"> — Crée un point 2D, 3DZ ou 4D.</span></li><li><span class="refentrytitle"><a href="#ST_MakePointM">ST_MakePointM</a></span><span class="refpurpose"> — Crée un point à partir des valeurs X, Y et M.</span></li><li><span class="refentrytitle"><a href="#ST_MakePolygon">ST_MakePolygon</a></span><span class="refpurpose"> — Crée un polygone à partir d'une collection et d'une liste facultative de trous.</span></li><li><span class="refentrytitle"><a href="#ST_Point">ST_Point</a></span><span class="refpurpose"> — Crée un point avec des valeurs X, Y et SRID.</span></li><li><span class="refentrytitle"><a href="#ST_PointZ">ST_PointZ</a></span><span class="refpurpose"> — Crée un point avec des valeurs X, Y, Z et SRID.</span></li><li><span class="refentrytitle"><a href="#ST_PointM">ST_PointM</a></span><span class="refpurpose"> — Crée un point avec des valeurs X, Y, M et SRID.</span></li><li><span class="refentrytitle"><a href="#ST_PointZM">ST_PointZM</a></span><span class="refpurpose"> — Crée un point avec des valeurs X, Y, Z, M et SRID.</span></li><li><span class="refentrytitle"><a href="#ST_Polygon">ST_Polygon</a></span><span class="refpurpose"> — Crée un polygone à partir d'une LineString avec un SRID spécifié.</span></li><li><span class="refentrytitle"><a href="#ST_TileEnvelope">ST_TileEnvelope</a></span><span class="refpurpose"> — Crée un polygone rectangulaire dans Web Mercator (SRID:3857) en utilisant le système de tuiles XYZ.</span></li><li><span class="refentrytitle"><a href="#ST_HexagonGrid">ST_HexagonGrid</a></span><span class="refpurpose"> — Renvoie un ensemble d'hexagones et d'indices de cellules qui couvrent complètement les limites de l'argument géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_Hexagon">ST_Hexagon</a></span><span class="refpurpose"> — Renvoie un seul hexagone, en utilisant la taille du bord et les coordonnées de la cellule fournies dans l'espace de la grille de l'hexagone.</span></li><li><span class="refentrytitle"><a href="#ST_SquareGrid">ST_SquareGrid</a></span><span class="refpurpose"> — Renvoie un ensemble de carrés de grille et d'indices de cellules qui couvrent complètement les limites de l'argument géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_Square">ST_Square</a></span><span class="refpurpose"> — Renvoie un seul carré, en utilisant la taille du bord et la coordonnée de la cellule fournies dans l'espace de la grille du carré.</span></li><li><span class="refentrytitle"><a href="#ST_Letters">ST_Letters</a></span><span class="refpurpose"> — Renvoie les lettres d'entrée rendues sous forme de géométrie avec une position de départ par défaut à l'origine et une hauteur de texte par défaut de 100.</span></li></ul></div><div class="refentry" id="ST_Collect"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Collect — Crée une géométrie GeometryCollection ou Multi à partir d'un ensemble de géométries.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Collect</strong>(</code>geometry <var class="pdparam">g1</var>, geometry <var class="pdparam">g2</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Collect</strong>(</code>geometry[] <var class="pdparam">g1_array</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Collect</strong>(</code>geometry set <var class="pdparam">g1field</var><code>)</code>;</p></div></div><div class="refsection" id="idm3601"><h2>Description</h2><p>Rassemble les géométries dans une collection de géométries. Le résultat est soit un Multi*, soit une GeometryCollection, selon que les géométries d'entrée ont des types identiques ou différents (homogènes ou hétérogènes). Les géométries d'entrée restent inchangées dans la collection. </p><p><span class="bold"><strong>Variante 1:</strong></span> accepte géométries en entrée</p><p><span class="bold"><strong>Variante 2:</strong></span> accepte un tableau de géométries</p><p><span class="bold"><strong>Variante 3:</strong></span> fonction agrégée acceptant un ensemble de géométries.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si l'une des géométries en entrée est une collection (Multi* ou GeometryCollection), ST_Collect renvoie une GeometryCollection (puisque c'est le seul type qui peut contenir des collections imbriquées). Pour éviter cela, utilisez <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a> dans une sous-requête pour développer les collections d'entrée en leurs éléments atomiques (voir l'exemple ci-dessous). </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_Collect et <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a> semblent similaires, mais fonctionnent en fait assez différemment. ST_Collect agrège les géométries dans une collection sans les modifier en aucune façon. ST_Union fusionne géométriquement les géométries lorsqu'elles se chevauchent, et divise les lignes aux intersections. Elle peut retourner des géométries uniques lorsqu'elle dissout les frontières. </p></td></tr></table></div><p class="availability">Disponibilité : 1.4.0 - ST_Collect(geomarray) a été introduit. ST_Collect a été amélioré pour gérer plus de géométries plus rapidement.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm3625"><h2>Exemples - Variante à deux entrées</h2><p>Collectez les points 2D.</p><pre class="programlisting">SELECT ST_AsText( ST_Collect( ST_GeomFromText('POINT(1 2)'),
        ST_GeomFromText('POINT(-2 3)') ));

st_astext
----------
MULTIPOINT((1 2),(-2 3))
</pre><p>Collectez les points 3D.</p><pre class="programlisting">SELECT ST_AsEWKT( ST_Collect( ST_GeomFromEWKT('POINT(1 2 3)'),
                ST_GeomFromEWKT('POINT(1 2 4)') ) );

                st_asewkt
-------------------------
 MULTIPOINT(1 2 3,1 2 4)
 </pre><p>Collectez les courbes.</p><pre class="programlisting">SELECT ST_AsText( ST_Collect( 'CIRCULARSTRING(220268 150415,220227 150505,220227 150406)',
                'CIRCULARSTRING(220227 150406,2220227 150407,220227 150406)'));

                st_astext
------------------------------------------------------------------------------------
MULTICURVE(CIRCULARSTRING(220268 150415,220227 150505,220227 150406),
 CIRCULARSTRING(220227 150406,2220227 150407,220227 150406))
</pre></div><div class="refsection" id="idm3633"><h2>Exemples - Variante avec un tableau</h2><p>Utilisation d'un constructeur de tableau pour une sous-requête.</p><pre class="programlisting">SELECT ST_Collect( ARRAY( SELECT geom FROM sometable ) );
</pre><p>Utilisation d'un constructeur de tableau pour les valeurs.</p><pre class="programlisting">SELECT ST_AsText(  ST_Collect(
                ARRAY[ ST_GeomFromText('LINESTRING(1 2, 3 4)'),
                        ST_GeomFromText('LINESTRING(3 4, 4 5)') ] )) As wktcollect;

--wkt collect --
MULTILINESTRING((1 2,3 4),(3 4,4 5))
</pre></div><div class="refsection" id="idm3639"><h2>Exemples - Variante avec un agrégat</h2><p>Création de collections multiples en regroupant les géométries dans une table.</p><pre class="programlisting">SELECT stusps, ST_Collect(f.geom) as geom
         FROM (SELECT stusps, (ST_Dump(geom)).geom As geom
                                FROM
                                somestatetable ) As f
        GROUP BY stusps
</pre></div><div class="refsection" id="idm3643"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a></p></div></div><div class="refentry" id="ST_LineFromMultiPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineFromMultiPoint — Crée une LineString à partir d'une géométrie MultiPoint.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineFromMultiPoint</strong>(</code>geometry  <var class="pdparam">aMultiPoint</var><code>)</code>;</p></div></div><div class="refsection" id="idm3660"><h2>Description</h2><p>Crée une LineString à partir d'une géométrie MultiPoint.</p><p>Utilisez <a class="xref" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a> pour créer des lignes à partir des entrées Point ou LineString.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm3669"><h2>Exemples</h2><p>Créer une LineString 3D à partir d'un MultiPoint 3D</p><pre class="programlisting">SELECT ST_AsEWKT(  ST_LineFromMultiPoint('MULTIPOINT(1 2 3, 4 5 6, 7 8 9)')  ));

--result--
LINESTRING(1 2 3,4 5 6,7 8 9)
</pre></div><div class="refsection" id="idm3673"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a></p></div></div><div class="refentry" id="ST_MakeEnvelope"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakeEnvelope — Crée un polygone rectangulaire à partir des coordonnées minimales et maximales.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakeEnvelope</strong>(</code>float <var class="pdparam">xmin</var>, float <var class="pdparam">ymin</var>, float <var class="pdparam">xmax</var>, float <var class="pdparam">ymax</var>, integer <var class="pdparam">srid=unknown</var><code>)</code>;</p></div></div><div class="refsection" id="idm3702"><h2>Description</h2><p>Crée un polygone rectangulaire à partir des valeurs minimales et maximales de X et Y. Les valeurs entrées doivent être dans le système de référence spatiale spécifié par le SRID. Si aucun SRID n'est spécifié, le système de référence spatiale inconnu (SRID 0) est utilisé.</p><p class="availability">Disponibilité : 1.5</p><p class="enhanced">Amélioré : 2.0 : La possibilité de spécifier une enveloppe sans spécifier un SRID a été introduite.</p></div><div class="refsection" id="idm3707"><h2>Exemple : Construction d'un polygone de la l'enveloppe englobante</h2><pre class="programlisting">SELECT ST_AsText( ST_MakeEnvelope(10, 10, 11, 11, 4326) );

st_asewkt
-----------
POLYGON((10 10, 10 11, 11 11, 11 10, 10 10))
</pre></div><div class="refsection" id="idm3710"><h2>Voir aussi</h2><p><a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a>, <a class="xref" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a>, <a class="xref" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a></p></div></div><div class="refentry" id="ST_MakeLine"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakeLine — Crée une LineString à partir de géométries Point, MultiPoint ou LineString.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakeLine</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakeLine</strong>(</code>geometry[] <var class="pdparam">geoms_array</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakeLine</strong>(</code>geometry set <var class="pdparam">geoms</var><code>)</code>;</p></div></div><div class="refsection" id="idm3744"><h2>Description</h2><p>Crée une LineString contenant les points des géométries Point, MultiPoint ou LineString. Les autres types de géométrie provoquent une erreur. </p><p><span class="bold"><strong>Variante 1:</strong></span> accepte géométries en entrée</p><p><span class="bold"><strong>Variante 2:</strong></span> accepte un tableau de géométries</p><p><span class="bold"><strong>Variante 3:</strong></span> fonction agrégée acceptant un ensemble de géométries. Pour garantir l'ordre des géométries d'entrée, utilisez <code class="varname">ORDER BY</code> dans l'appel de fonction, ou une sous-requête avec une clause <code class="varname">ORDER BY</code>.</p><p>Les nœuds répétés au début des LineStrings d'entrée sont réduits à un seul point. Les points répétés dans les entrées Point et MultiPoint ne sont pas réduits. <a class="xref" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a> peut être utilisé pour réduire les points répétés de la LineString de sortie. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p class="availability">Disponibilité : 2.3.0 - La prise en charge des éléments d'entrée MultiPoint a été introduite</p><p class="availability">Disponibilité : 2.0.0 - La prise en charge des éléments d'entrée LineString a été introduite</p><p class="availability">Disponibilité : 1.4.0 - création de ST_MakeLine(geomarray). L'agrégat spatial ST_MakeLine amélioré pour supporter plus de points plus rapidement.</p></div><div class="refsection" id="idm3764"><h2>Exemples : Variante à deux entrées</h2><p>Créez une ligne composée de deux points.</p><pre class="programlisting">SELECT ST_AsText( ST_MakeLine(ST_Point(1,2), ST_Point(3,4)) );

          st_astext
---------------------
 LINESTRING(1 2,3 4)
</pre><p>Créer une ligne 3D à partir de deux points 3D.</p><pre class="programlisting">SELECT ST_AsEWKT( ST_MakeLine(ST_MakePoint(1,2,3), ST_MakePoint(3,4,5) ));

                st_asewkt
-------------------------
 LINESTRING(1 2 3,3 4 5)
</pre><p>Crée une ligne à partir de deux LineStrings disjointes.</p><pre class="programlisting">select ST_AsText( ST_MakeLine( 'LINESTRING(0 0, 1 1)', 'LINESTRING(2 2, 3 3)' ) );

          st_astext
-----------------------------
 LINESTRING(0 0,1 1,2 2,3 3)
</pre></div><div class="refsection" id="idm3772"><h2>Exemples : Variante avec un tableau</h2><p>Créer une ligne à partir d'un tableau formé par une sous-requête avec ordonnancement.</p><pre class="programlisting">SELECT ST_MakeLine( ARRAY( SELECT ST_Centroid(geom) FROM visit_locations ORDER BY visit_time) );
</pre><p>Créer une ligne 3D à partir d'un tableau de points 3D</p><pre class="programlisting">SELECT ST_AsEWKT( ST_MakeLine(
          ARRAY[ ST_MakePoint(1,2,3), ST_MakePoint(3,4,5), ST_MakePoint(6,6,6) ]  ));

                st_asewkt
-------------------------
LINESTRING(1 2 3,3 4 5,6 6 6)
</pre></div><div class="refsection" id="idm3778"><h2>Exemples : Variante avec un agrégat</h2><p>Cet exemple interroge des séquences temporelles de points GPS à partir d'un ensemble de pistes et crée un enregistrement pour chaque piste. Les géométries résultantes sont des LineStrings composées des points GPS dans l'ordre de leur déplacement.</p><p>L'utilisation de l'agrégat <code class="varname">ORDER BY</code> fournit une LineString correctement ordonnée.</p><pre class="programlisting">SELECT gps.track_id, ST_MakeLine(gps.geom ORDER BY gps_time) As geom
        FROM gps_points As gps
        GROUP BY track_id;</pre><p>Avant PostgreSQL 9, l'ordre dans une sous-requête peut être utilisé. Cependant, il arrive que le plan de requête ne respecte pas l'ordre de la sous-requête.</p><pre class="programlisting">SELECT gps.track_id, ST_MakeLine(gps.geom) As geom
        FROM ( SELECT track_id, gps_time, geom
                        FROM gps_points ORDER BY track_id, gps_time ) As gps
        GROUP BY track_id;</pre></div><div class="refsection" id="idm3786"><h2>Voir aussi</h2><p><a class="xref" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a>, <a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a> </p></div></div><div class="refentry" id="ST_MakePoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakePoint — Crée un point 2D, 3DZ ou 4D.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakePoint</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakePoint</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">z</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakePoint</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">z</var>, float <var class="pdparam">m</var><code>)</code>;</p></div></div><div class="refsection" id="idm3839"><h2>Description</h2><p>Crée une géométrie de point 2D XY, 3D XYZ ou 4D XYZM. Utilisez <a class="xref" href="#ST_MakePointM" title="ST_MakePointM">ST_MakePointM</a> pour créer des points avec des coordonnées XYM.</p><p>Utilisez <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> pour spécifier un SRID pour le point créé.</p><p>Bien que non conforme à l'OGC, <code class="varname">ST_MakePoint</code> est plus rapide et plus précis que <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a> et <a class="xref" href="#ST_PointFromText" title="ST_PointFromText">ST_PointFromText</a>. Elle est également plus facile à utiliser pour les valeurs de coordonnées numériques.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour les coordonnées géodésiques, <code class="varname">X</code> est la longitude et <code class="varname">Y</code> la latitude</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les fonctions <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_PointZ" title="ST_PointZ">ST_PointZ</a>, <a class="xref" href="#ST_PointM" title="ST_PointM">ST_PointM</a> et <a class="xref" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a> peuvent être utilisées pour créer des points avec un SRID donné. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm3863"><h2>Exemples</h2><pre class="programlisting">-- Create a point with unknown SRID
SELECT ST_MakePoint(-71.1043443253471, 42.3150676015829);

-- Create a point in the WGS 84 geodetic CRS
SELECT ST_SetSRID(ST_MakePoint(-71.1043443253471, 42.3150676015829),4326);

-- Create a 3D point (e.g. has altitude)
SELECT ST_MakePoint(1, 2,1.5);

-- Get z of point
SELECT ST_Z(ST_MakePoint(1, 2,1.5));
result
-------
1.5</pre></div><div class="refsection" id="idm3866"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_PointFromText" title="ST_PointFromText">ST_PointFromText</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_MakePointM" title="ST_MakePointM">ST_MakePointM</a>, <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_PointZ" title="ST_PointZ">ST_PointZ</a>, <a class="xref" href="#ST_PointM" title="ST_PointM">ST_PointM</a>, <a class="xref" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a> </p></div></div><div class="refentry" id="ST_MakePointM"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakePointM — Crée un point à partir des valeurs X, Y et M.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakePointM</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">m</var><code>)</code>;</p></div></div><div class="refsection" id="idm3895"><h2>Description</h2><p>Crée un point avec des coordonnées X, Y et M (mesure). Utilisez <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a> pour créer des points avec des coordonnées XY, XYZ ou XYZM.</p><p>Utilisez <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> pour spécifier un SRID pour le point créé.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour les coordonnées géodésiques, <code class="varname">X</code> est la longitude et <code class="varname">Y</code> la latitude</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les fonctions <a class="xref" href="#ST_PointM" title="ST_PointM">ST_PointM</a> et <a class="xref" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a> peuvent être utilisées pour créer des points avec une valeur M et un SRID donné. </p></td></tr></table></div></div><div class="refsection" id="idm3909"><h2>Exemples</h2><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a> est utilisé pour la sortie texte car <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a> ne prend pas en charge les valeurs M.</p></td></tr></table></div><p>Créer un point avec un SRID inconnu.</p><pre class="programlisting">SELECT ST_AsEWKT(  ST_MakePointM(-71.1043443253471, 42.3150676015829, 10)  );

                                   st_asewkt
-----------------------------------------------
 POINTM(-71.1043443253471 42.3150676015829 10)
</pre><p>Créer un point avec une mesure dans le système de coordonnées géodésiques WGS 84.</p><pre class="programlisting">SELECT ST_AsEWKT( ST_SetSRID(  ST_MakePointM(-71.104, 42.315, 10),  4326));

                                                st_asewkt
---------------------------------------------------------
SRID=4326;POINTM(-71.104 42.315 10)
</pre><p>Obtenir la mesure du point créé.</p><pre class="programlisting">SELECT ST_M(  ST_MakePointM(-71.104, 42.315, 10)  );

result
-------
10
</pre></div><div class="refsection" id="idm3921"><h2>Voir aussi</h2><p><a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_PointM" title="ST_PointM">ST_PointM</a>, <a class="xref" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a></p></div></div><div class="refentry" id="ST_MakePolygon"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakePolygon — Crée un polygone à partir d'une collection et d'une liste facultative de trous.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakePolygon</strong>(</code>geometry <var class="pdparam">linestring</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakePolygon</strong>(</code>geometry <var class="pdparam">outerlinestring</var>, geometry[] <var class="pdparam">interiorlinestrings</var><code>)</code>;</p></div></div><div class="refsection" id="idm3950"><h2>Description</h2><p>Crée un polygone formé par la collection donnée et un tableau optionnel de trous. Les géométries d'entrée doivent être des LineStrings (anneaux) fermés.</p><p><span class="bold"><strong>Variante 1:</strong></span> Accepte une collection de LineString.</p><p><span class="bold"><strong>Variante 2:</strong></span> Accepte une collection de LineString et un tableau de LineStrings internes (trous). Un tableau de géométrie peut être construit en utilisant les constructions PostgreSQL array_agg(), ARRAY[] ou ARRAY().</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction n'accepte pas les MultiLineStrings. Utilisez <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a> pour générer une LineString, ou <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a> pour extraire les LineStrings.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm3965"><h2>Exemples : variante avec une entrée unique</h2><p>Créez un polygone à partir d'une LineString 2D.</p><pre class="programlisting">SELECT ST_MakePolygon( ST_GeomFromText('LINESTRING(75 29,77 29,77 29, 75 29)'));
</pre><p>Créez un polygone à partir d'une LineString ouverte, en utilisant <a class="xref" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a> et <a class="xref" href="#ST_AddPoint" title="ST_AddPoint">ST_AddPoint</a> pour la fermer.</p><pre class="programlisting">SELECT ST_MakePolygon( ST_AddPoint(foo.open_line, ST_StartPoint(foo.open_line)) )
FROM (
  SELECT ST_GeomFromText('LINESTRING(75 29,77 29,77 29, 75 29)') As open_line) As foo;
</pre><p>Créer un polygone à partir d'une LineString 3D</p><pre class="programlisting">SELECT ST_AsEWKT( ST_MakePolygon( 'LINESTRING(75.15 29.53 1,77 29 1,77.6 29.5 1, 75.15 29.53 1)'));

st_asewkt
-----------
POLYGON((75.15 29.53 1,77 29 1,77.6 29.5 1,75.15 29.53 1))
</pre><p>Créer un polygone à partir d'une LineString avec des mesures</p><pre class="programlisting">SELECT ST_AsEWKT( ST_MakePolygon( 'LINESTRINGM(75.15 29.53 1,77 29 1,77.6 29.5 2, 75.15 29.53 2)' ));

st_asewkt
----------
POLYGONM((75.15 29.53 1,77 29 1,77.6 29.5 2,75.15 29.53 2))
</pre></div><div class="refsection" id="idm3977"><h2>Exemples : Enveloppe extérieure avec variante de trous intérieurs</h2><p>Créer un polygone en forme de donut avec un trou supplémentaire</p><pre class="programlisting">SELECT ST_MakePolygon( ST_ExteriorRing( ST_Buffer(ring.line,10)),
        ARRAY[  ST_Translate(ring.line, 1, 1),
                ST_ExteriorRing(ST_Buffer(ST_Point(20,20),1)) ]
        )
FROM (SELECT ST_ExteriorRing(
        ST_Buffer(ST_Point(10,10),10,10)) AS line ) AS ring;
</pre><p>Créez un ensemble de frontières de province avec des trous représentant des lacs. L'entrée est un tableau de polygones/multipolygones de province et un tableau de lignes d'eau. Les lignes formant des lacs sont déterminées en utilisant <a class="xref" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a>. Le réseau de la province est extrait en utilisant <a class="xref" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a>. Comme requis par <code class="code">ST_MakePolygon</code>, la frontière est forcée à être une seule LineString en utilisant <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a>. (Cependant, notez que si une province a plus d'une région ou a des îles, cela produira un polygone invalide). L'utilisation d'un LEFT JOIN garantit que toutes les provinces sont incluses, même si elles n'ont pas de lacs. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La construction CASE est utilisée car le passage d'un tableau nul dans ST_MakePolygon entraîne une valeur de retour NULL.</p></td></tr></table></div><pre class="programlisting">SELECT p.gid, p.province_name,
        CASE WHEN array_agg(w.geom) IS NULL
        THEN p.geom
        ELSE  ST_MakePolygon( ST_LineMerge(ST_Boundary(p.geom)),
                        array_agg(w.geom)) END
FROM
        provinces p LEFT JOIN waterlines w
                ON (ST_Within(w.geom, p.geom) AND ST_IsClosed(w.geom))
GROUP BY p.gid, p.province_name, p.geom;
</pre><p>Une autre technique consiste à utiliser une sous-requête corrélée et le constructeur ARRAY() qui convertit un ensemble de lignes en un tableau.</p><pre class="programlisting">SELECT p.gid,  p.province_name,
    CASE WHEN EXISTS( SELECT w.geom
        FROM waterlines w
        WHERE ST_Within(w.geom, p.geom)
        AND ST_IsClosed(w.geom))
    THEN ST_MakePolygon(
        ST_LineMerge(ST_Boundary(p.geom)),
        ARRAY( SELECT w.geom
            FROM waterlines w
            WHERE ST_Within(w.geom, p.geom)
            AND ST_IsClosed(w.geom)))
    ELSE p.geom
    END AS geom
FROM provinces p;
</pre></div><div class="refsection" id="idm3991"><h2>Voir aussi</h2><p>
				<a class="xref" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea</a>
				<a class="xref" href="#ST_Polygon" title="ST_Polygon">ST_Polygon</a>
			</p></div></div><div class="refentry" id="ST_Point"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Point — Crée un point avec des valeurs X, Y et SRID.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Point</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Point</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, integer <var class="pdparam">srid=unknown</var><code>)</code>;</p></div></div><div class="refsection" id="idm4024"><h2>Description</h2><p>Renvoie un point avec les valeurs de coordonnées X et Y données. C'est l'équivalent SQL-MM de <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a> qui ne prend que X et Y.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour les coordonnées géodésiques, <code class="varname">X</code> est la longitude et <code class="varname">Y</code> la latitude</p></td></tr></table></div><p class="enhanced">Amélioration : 3.2.0 srid a été ajouté comme argument optionnel supplémentaire. Les anciennes installations nécessitent une combinaison avec ST_SetSRID pour marquer le srid sur la géométrie.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 6.1.2</p></div><div class="refsection" id="idm4037"><h2>Exemple : Géométrie</h2><pre class="programlisting">SELECT ST_Point( -71.104, 42.315);</pre><p>Création d'un point avec le SRID spécifié :</p><pre class="programlisting">SELECT ST_Point( -71.104, 42.315, 4326);</pre><p>Autre façon de spécifier le SRID :</p><pre class="programlisting">SELECT ST_SetSRID( ST_Point( -71.104, 42.315), 4326);</pre></div><div class="refsection" id="idm4044"><h2>Exemples : Géographie</h2><p>Créez des points <a class="link" href="#PostGIS_Geography" title="4.3. Type de données Geography">geography</a> en utilisant la syntaxe <code class="varname">::</code> :</p><pre class="programlisting">SELECT ST_Point( -71.104, 42.315, 4326)::geography;</pre><p>Code Pre-PostGIS 3.2, utilisant <code class="varname">CAST</code> :</p><pre class="programlisting">SELECT CAST( ST_SetSRID(ST_Point( -71.104, 42.315), 4326) AS geography);</pre><p>Si les coordonnées du point ne sont pas dans un système de coordonnées géodésiques (tel que WGS84), elles doivent être reprojetées avant d'être projetées dans une géographie. Dans cet exemple, un point en pieds du plan de l'État de Pennsylvanie (SRID 2273) est projeté en WGS84 (SRID 4326).</p><pre class="programlisting">SELECT ST_Transform( ST_Point( 3637510, 3014852, 2273), 4326)::geography;</pre></div><div class="refsection" id="idm4055"><h2>Voir aussi</h2><p><a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_PointZ" title="ST_PointZ">ST_PointZ</a>, <a class="xref" href="#ST_PointM" title="ST_PointM">ST_PointM</a>, <a class="xref" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="ST_PointZ"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointZ — Crée un point avec des valeurs X, Y, Z et SRID.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PointZ</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">z</var>, integer <var class="pdparam">srid=unknown</var><code>)</code>;</p></div></div><div class="refsection" id="idm4085"><h2>Description</h2><p>Renvoie un point avec les valeurs de coordonnées X, Y et Z données, et éventuellement un numéro SRID.</p><p class="enhanced">Amélioration : 3.2.0 srid a été ajouté comme argument optionnel supplémentaire. Les anciennes installations nécessitent une combinaison avec ST_SetSRID pour marquer le srid sur la géométrie.</p></div><div class="refsection" id="idm4089"><h2>Exemples</h2><pre class="programlisting">SELECT ST_PointZ(-71.104, 42.315, 3.4, 4326)</pre><pre class="programlisting">SELECT ST_PointZ(-71.104, 42.315, 3.4, srid =&gt; 4326)</pre><pre class="programlisting">SELECT ST_PointZ(-71.104, 42.315, 3.4)</pre></div><div class="refsection" id="idm4094"><h2>Voir aussi</h2><p><a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_PointM" title="ST_PointM">ST_PointM</a>, <a class="xref" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a></p></div></div><div class="refentry" id="ST_PointM"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointM — Crée un point avec des valeurs X, Y, M et SRID.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PointM</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">m</var>, integer <var class="pdparam">srid=unknown</var><code>)</code>;</p></div></div><div class="refsection" id="idm4122"><h2>Description</h2><p>Renvoie un point avec les valeurs de coordonnées X, Y et M données, et éventuellement un numéro SRID.</p><p class="enhanced">Amélioration : 3.2.0 srid a été ajouté comme argument optionnel supplémentaire. Les anciennes installations nécessitent une combinaison avec ST_SetSRID pour marquer le srid sur la géométrie.</p></div><div class="refsection" id="idm4126"><h2>Exemples</h2><pre class="programlisting">SELECT ST_PointM(-71.104, 42.315, 3.4, 4326)</pre><pre class="programlisting">SELECT ST_PointM(-71.104, 42.315, 3.4, srid =&gt; 4326)</pre><pre class="programlisting">SELECT ST_PointM(-71.104, 42.315, 3.4)</pre></div><div class="refsection" id="idm4131"><h2>Voir aussi</h2><p><a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_PointZ" title="ST_PointZ">ST_PointZ</a>, <a class="xref" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a></p></div></div><div class="refentry" id="ST_PointZM"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointZM — Crée un point avec des valeurs X, Y, Z, M et SRID.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PointZM</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">z</var>, float <var class="pdparam">m</var>, integer <var class="pdparam">srid=unknown</var><code>)</code>;</p></div></div><div class="refsection" id="idm4162"><h2>Description</h2><p>Renvoie un point avec les valeurs de coordonnées X, Y, Z et M données, et éventuellement un numéro SRID.</p><p class="enhanced">Amélioration : 3.2.0 srid a été ajouté comme argument optionnel supplémentaire. Les anciennes installations nécessitent une combinaison avec ST_SetSRID pour marquer le srid sur la géométrie.</p></div><div class="refsection" id="idm4166"><h2>Exemples</h2><pre class="programlisting">SELECT ST_PointZM(-71.104, 42.315, 3.4, 4.5, 4326)</pre><pre class="programlisting">SELECT ST_PointZM(-71.104, 42.315, 3.4, 4.5, srid =&gt; 4326)</pre><pre class="programlisting">SELECT ST_PointZM(-71.104, 42.315, 3.4, 4.5)</pre></div><div class="refsection" id="idm4171"><h2>Voir aussi</h2><p><a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_PointM" title="ST_PointM">ST_PointM</a>, <a class="xref" href="#ST_PointZ" title="ST_PointZ">ST_PointZ</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a></p></div></div><div class="refentry" id="ST_Polygon"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Polygon — Crée un polygone à partir d'une LineString avec un SRID spécifié.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Polygon</strong>(</code>geometry  <var class="pdparam">lineString</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm4194"><h2>Description</h2><p>Renvoie un polygone construit à partir de la LineString donnée et définit le système de référence spatiale à partir du <code class="varname">srid</code>.</p><p>ST_Polygon est similaire à la variante 1 de <a class="xref" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a> avec l'ajout de la définition du SRID.</p><p>Pour créer des polygones avec des trous, utilisez <a class="xref" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a> la variante 2 et ensuite <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction n'accepte pas les MultiLineStrings. Utilisez <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a> pour générer une LineString, ou <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a> pour extraire les LineStrings.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 8.3.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm4220"><h2>Exemples</h2><p>Créer un polygone 2D.</p><pre class="programlisting">SELECT ST_AsText( ST_Polygon('LINESTRING(75 29, 77 29, 77 29, 75 29)'::geometry, 4326) );

-- result --
POLYGON((75 29, 77 29, 77 29, 75 29))
</pre><p>Créer un polygone 3D.</p><pre class="programlisting">SELECT ST_AsEWKT( ST_Polygon( ST_GeomFromEWKT('LINESTRING(75 29 1, 77 29 2, 77 29 3, 75 29 1)'), 4326) );

-- result --
SRID=4326;POLYGON((75 29 1, 77 29 2, 77 29 3, 75 29 1))
</pre></div><div class="refsection" id="idm4226"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a>, <a class="xref" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a></p></div></div><div class="refentry" id="ST_TileEnvelope"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_TileEnvelope — Crée un polygone rectangulaire dans <a class="link" href="https://en.wikipedia.org/wiki/Web_Mercator_projection" target="_top">Web Mercator</a> (SRID:3857) en utilisant le <a class="link" href="https://en.wikipedia.org/wiki/Tiled_web_map" target="_top">système de tuiles XYZ</a>.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_TileEnvelope</strong>(</code>integer <var class="pdparam">tileZoom</var>, integer <var class="pdparam">tileX</var>, integer <var class="pdparam">tileY</var>, geometry <var class="pdparam">bounds=SRID=3857;LINESTRING(-20037508.342789 -20037508.342789,20037508.342789 20037508.342789)</var>, float <var class="pdparam">margin=0.0</var><code>)</code>;</p></div></div><div class="refsection" id="idm4261"><h2>Description</h2><p>Crée un polygone rectangulaire donnant l'étendue d'une tuile dans le <a class="link" href="https://en.wikipedia.org/wiki/Tiled_web_map" target="_top">système de tuiles XYZ</a>. La tuile est spécifiée par le niveau de zoom Z et l'indice XY de la tuile dans la grille à ce niveau. Peut être utilisé pour définir les limites de la tuile requises par <a class="xref" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a> pour convertir la géométrie dans l'espace de coordonnées de la tuile MVT. </p><p>Par défaut, l'enveloppe de la tuile est dans le système de coordonnées <a class="link" href="https://en.wikipedia.org/wiki/Web_Mercator_projection" target="_top">Web Mercator</a> (SRID:3857) utilisant la plage standard du système Web Mercator (-20037508.342789, 20037508.342789). Il s'agit du système de coordonnées le plus couramment utilisé pour les tuiles MVT. Le paramètre facultatif <code class="varname">bounds</code> peut être utilisé pour générer des tuiles dans n'importe quel système de coordonnées. Il s'agit d'une géométrie qui possède le SRID et l'étendue du carré "Niveau de zoom zéro" dans lequel le système de tuiles XYZ est inscrit.</p><p>Le paramètre facultatif <code class="varname">margin</code> peut être utilisé pour étendre une tuile du pourcentage donné. Par exemple, <code class="varname">margin=0.125</code> étend la tuile de 12,5%, ce qui équivaut à buffer=512 lorsque la taille de l'étendue de la tuile est de 4096, comme utilisé dans <a class="xref" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a>. Ceci est utile pour créer un tampon de tuile afin d'inclure des données situées en dehors de la zone visible de la tuile, mais dont l'existence affecte le rendu de la tuile. Par exemple, le nom d'une ville (un point) peut se trouver près du bord d'une tuile, son étiquette doit donc être rendue sur deux tuiles, même si le point se trouve dans la zone visible d'une seule tuile. L'utilisation de tuiles étendues dans une requête inclura le point de la ville dans les deux tuiles. Utilisez une valeur négative pour réduire la tuile à la place. Les valeurs inférieures à -0,5 sont interdites, car cela éliminerait complètement la tuile. Ne spécifiez pas de marge lors de l'utilisation avec <code class="varname">ST_AsMVTGeom</code>. Voir l'exemple pour <a class="xref" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a>.</p><p class="enhanced">Amélioré : 3.1.0 Ajout d'un paramètre de marge.</p><p class="availability">Disponibilité : 3.0.0</p></div><div class="refsection" id="idm4277"><h2>Exemple : Construction d'une enveloppe de tuiles</h2><pre class="programlisting">SELECT ST_AsText( ST_TileEnvelope(2, 1, 1) );

 st_astext
------------------------------
 POLYGON((-10018754.1713945 0,-10018754.1713945 10018754.1713945,0 10018754.1713945,0 0,-10018754.1713945 0))

SELECT ST_AsText( ST_TileEnvelope(3, 1, 1, ST_MakeEnvelope(-180, -90, 180, 90, 4326) ) );

                      st_astext
------------------------------------------------------
 POLYGON((-135 45,-135 67.5,-90 67.5,-90 45,-135 45))
</pre></div><div class="refsection" id="idm4280"><h2>Voir aussi</h2><p><a class="xref" href="#ST_MakeEnvelope" title="ST_MakeEnvelope">ST_MakeEnvelope</a></p></div></div><div class="refentry" id="ST_HexagonGrid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_HexagonGrid — Renvoie un ensemble d'hexagones et d'indices de cellules qui couvrent complètement les limites de l'argument géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_HexagonGrid</strong>(</code>float8 <var class="pdparam">size</var>, geometry <var class="pdparam">bounds</var><code>)</code>;</p></div></div><div class="refsection" id="idm4299"><h2>Description</h2><p>Commence par le concept d'un tuilage hexagonal du plan. (Pas un pavage hexagonal du globe, ce n'est pas le schéma de pavage <a class="link" href="https://github.com/uber/h3" target="_top">H3</a>). Pour un SRS plan donné, et une taille d'arête donnée, en commençant à l'origine du SRS, il existe un unique tuilage hexagonal du plan, Tiling(SRS, Size). Cette fonction répond à la question : quels hexagones dans un Tiling(SRS, Size) donné se chevauchent avec une limite donnée.</p><p><span class="inlinemediaobject"><img src="images/st_hexagongrid01.png"/></span></p><p>Le SRS pour les hexagones de sortie est le SRS fourni par la géométrie des limites.</p><p>Doubler ou tripler la taille des bords de l'hexagone génère un nouveau pavage parent qui s'adapte au pavage d'origine. Malheureusement, il n'est pas possible de générer des tuiles d'hexagones parents dans lesquelles les tuiles enfants s'insèrent parfaitement.</p><p><span class="inlinemediaobject"><img src="images/st_hexagongrid02.png"/></span></p><p class="availability">Disponibilité : 3.1.0</p></div><div class="refsection" id="idm4314"><h2>Exemple : Compter les points dans les hexagones</h2><p>Pour faire un résumé des points par rapport à un pavage hexagonal, générez une grille hexagonale en utilisant l'étendue des points comme limites, puis joignez spatialement cette grille.</p><pre class="programlisting">SELECT COUNT(*), hexes.geom
FROM
    ST_HexagonGrid(
        10000,
        ST_SetSRID(ST_EstimatedExtent('pointtable', 'geom'), 3857)
    ) AS hexes
    INNER JOIN
    pointtable AS pts
    ON ST_Intersects(pts.geom, hexes.geom)
GROUP BY hexes.geom;</pre></div><div class="refsection" id="idm4318"><h2>Exemple : Génération de la couverture hexagonale des polygones</h2><p>Si nous générons un ensemble d'hexagones pour chaque limite de polygone et que nous éliminons par filtrage ceux qui n'intersectent pas leurs hexagones, nous obtenons un pavage pour chaque polygone.</p><p><span class="inlinemediaobject"><img src="images/st_hexagongrid03.png"/></span></p><p>La mise en mosaïque des états donne lieu à une couverture hexagonale de chaque état, et à des hexagones multiples se chevauchant aux frontières entre les états.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le mot-clé LATERAL est implicite pour les fonctions de retour d'ensemble lorsqu'elles font référence à une table antérieure dans la liste FROM. Ainsi, CROSS JOIN LATERAL, CROSS JOIN, ou tout simplement , sont des constructions équivalentes pour cet exemple.</p></td></tr></table></div><pre class="programlisting">SELECT admin1.gid, hex.geom
FROM
    admin1
    CROSS JOIN
    ST_HexagonGrid(100000, admin1.geom) AS hex
WHERE
    adm0_a3 = 'USA'
    AND
    ST_Intersects(admin1.geom, hex.geom)</pre></div><div class="refsection" id="idm4329"><h2>Voir aussi</h2><p><a class="xref" href="#ST_EstimatedExtent" title="ST_EstimatedExtent">ST_EstimatedExtent</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_SquareGrid" title="ST_SquareGrid">ST_SquareGrid</a>, <a class="xref" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a></p></div></div><div class="refentry" id="ST_Hexagon"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Hexagon — Renvoie un seul hexagone, en utilisant la taille du bord et les coordonnées de la cellule fournies dans l'espace de la grille de l'hexagone.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Hexagon</strong>(</code>float8 <var class="pdparam">size</var>, integer <var class="pdparam">cell_i</var>, integer <var class="pdparam">cell_j</var>, geometry <var class="pdparam">origin</var><code>)</code>;</p></div></div><div class="refsection" id="idm4357"><h2>Description</h2><p>Utilise le même concept de tuilage d'hexagones que <a class="xref" href="#ST_HexagonGrid" title="ST_HexagonGrid">ST_HexagonGrid</a>, mais génère un seul hexagone à la coordonnée de cellule souhaitée. En option, peut ajuster la coordonnée d'origine du tuilage, l'origine par défaut est à 0,0. </p><p>Les hexagones sont générés sans SRID défini, utilisez donc <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> pour définir le SRID à celui que vous attendez.</p><p class="availability">Disponibilité : 3.1.0</p></div><div class="refsection" id="idm4364"><h2>Exemple : Création d'un hexagone à l'origine</h2><pre class="programlisting">SELECT ST_AsText(ST_SetSRID(ST_Hexagon(1.0, 0, 0), 3857));

POLYGON((-1 0,-0.5
         -0.866025403784439,0.5
         -0.866025403784439,1
         0,0.5
         0.866025403784439,-0.5
         0.866025403784439,-1 0)) </pre></div><div class="refsection" id="idm4367"><h2>Voir aussi</h2><p><a class="xref" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a>, <a class="xref" href="#ST_HexagonGrid" title="ST_HexagonGrid">ST_HexagonGrid</a>, <a class="xref" href="#ST_Square" title="ST_Square">ST_Square</a></p></div></div><div class="refentry" id="ST_SquareGrid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SquareGrid — Renvoie un ensemble de carrés de grille et d'indices de cellules qui couvrent complètement les limites de l'argument géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_SquareGrid</strong>(</code>float8 <var class="pdparam">size</var>, geometry <var class="pdparam">bounds</var><code>)</code>;</p></div></div><div class="refsection" id="idm4388"><h2>Description</h2><p>Commence par le concept de tuilage carré du plan. Pour un SRS plan donné, et une taille d'arête donnée, en commençant à l'origine du SRS, il existe un unique pavage carré du plan, Tiling(SRS, Size). Cette fonction répond à la question : quelles grilles dans un Tiling(SRS, Size) donné se chevauchent avec une limite donnée.</p><p>Le SRS des carrés de sortie est le SRS fourni par la géométrie des limites.</p><p>Le doublement de la taille du carré ou de son bord génère un nouveau pavage parent qui s'adapte parfaitement au pavage d'origine. Les carrelages standard des cartes Web dans mercator ne sont que des puissances de deux grilles carrées dans le plan mercator.</p><p class="availability">Disponibilité : 3.1.0</p></div><div class="refsection" id="idm4394"><h2>Exemple : Générer une grille de 1 degré pour un pays</h2><p>La grille remplira toutes les limites du pays, donc si vous voulez seulement des carrés qui touchent le pays, vous devrez filtrer ensuite avec ST_Intersects.</p><pre class="programlisting">WITH grid AS (
SELECT (ST_SquareGrid(1, ST_Transform(geom,4326))).*
FROM admin0 WHERE name = 'Canada'
)
  SELEcT ST_AsText(geom)
  FROM grid</pre></div><div class="refsection" id="idm4398"><h2>Exemple : Compter les points dans les carrés (en utilisant une seule grille découpée)</h2><p>Pour faire un résumé des points par rapport à un tuilage carré, générez une grille carrée en utilisant l'étendue des points comme limites, puis joignez spatialement à cette grille. Notez que l'étendue estimée peut être différente de l'étendue réelle, soyez donc prudent et assurez-vous au moins d'avoir analysé votre tableau.</p><pre class="programlisting">SELECT COUNT(*), squares.geom
    FROM
    pointtable AS pts
    INNER JOIN
    ST_SquareGrid(
        1000,
        ST_SetSRID(ST_EstimatedExtent('pointtable', 'geom'), 3857)
    ) AS squares
    ON ST_Intersects(pts.geom, squares.geom)
    GROUP BY squares.geom</pre></div><div class="refsection" id="idm4402"><h2>Exemple : Compter des points dans des carrés en utilisant un jeu de grille par point</h2><p>Cette méthode donne le même résultat que le premier exemple mais sera plus lente pour un grand nombre de points</p><pre class="programlisting">SELECT COUNT(*), squares.geom
    FROM
    pointtable AS pts
    INNER JOIN
    ST_SquareGrid(
        1000,
       pts.geom
    ) AS squares
    ON ST_Intersects(pts.geom, squares.geom)
    GROUP BY squares.geom</pre></div><div class="refsection" id="idm4406"><h2>Voir aussi</h2><p><a class="xref" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a>, <a class="xref" href="#ST_HexagonGrid" title="ST_HexagonGrid">ST_HexagonGrid</a> , <a class="xref" href="#ST_EstimatedExtent" title="ST_EstimatedExtent">ST_EstimatedExtent</a> , <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a></p></div></div><div class="refentry" id="ST_Square"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Square — Renvoie un seul carré, en utilisant la taille du bord et la coordonnée de la cellule fournies dans l'espace de la grille du carré.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Square</strong>(</code>float8 <var class="pdparam">size</var>, integer <var class="pdparam">cell_i</var>, integer <var class="pdparam">cell_j</var>, geometry <var class="pdparam">origin</var><code>)</code>;</p></div></div><div class="refsection" id="idm4434"><h2>Description</h2><p>Utilise le même concept de tuilage carré que <a class="xref" href="#ST_SquareGrid" title="ST_SquareGrid">ST_SquareGrid</a>, mais génère un seul carré à la coordonnée de cellule souhaitée. En option, peut ajuster la coordonnée d'origine du tuilage, l'origine par défaut est à 0,0. </p><p>Les carrés sont générés sans SRID défini, utilisez donc <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> pour définir le SRID à celui que vous attendez.</p><p class="availability">Disponibilité : 3.1.0</p></div><div class="refsection" id="idm4441"><h2>Exemple : Création d'un carré à l'origine</h2><pre class="programlisting">SELECT ST_AsText(ST_SetSRID(ST_Square(1.0, 0, 0), 3857));

 POLYGON((0 0,0 1,1 1,1 0,0 0))</pre></div><div class="refsection" id="idm4444"><h2>Voir aussi</h2><p><a class="xref" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a>, <a class="xref" href="#ST_SquareGrid" title="ST_SquareGrid">ST_SquareGrid</a>, <a class="xref" href="#ST_Hexagon" title="ST_Hexagon">ST_Hexagon</a></p></div></div><div class="refentry" id="ST_Letters"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Letters — Renvoie les lettres d'entrée rendues sous forme de géométrie avec une position de départ par défaut à l'origine et une hauteur de texte par défaut de 100.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Letters</strong>(</code>text <var class="pdparam"> letters</var>, json <var class="pdparam"> font</var><code>)</code>;</p></div></div><div class="refsection" id="idm4465"><h2>Description</h2><p>Utilise une police intégrée pour rendre une chaîne de caractères sous forme de géométrie multipolygonale. La hauteur de texte par défaut est de 100,0, soit la distance entre le bas d'une descendante et le haut d'une capitale. La position de départ par défaut place le début de la ligne de base à l'origine. Pour remplacer la police, il faut passer une carte json, avec un caractère comme clé, et des TWKB encodés en base64 pour la forme de la police, les polices ayant une hauteur de 1000 unités du bas des descendantes au haut des capitales. </p><p>Le texte est généré à l'origine par défaut, donc pour repositionner et redimensionner le texte, appliquez d'abord la fonction <code class="code">ST_Scale</code> et ensuite appliquez la fonction <code class="code">ST_Translate</code>.</p><p class="availability">Disponibilité : 3.3.0</p></div><div class="refsection" id="idm4472"><h2>Exemple : Génération du mot 'Yo'</h2><pre class="programlisting">SELECT ST_AsText(ST_Letters('Yo'), 1);</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_letters01.png"/><div class="caption"><p>Lettres générées par ST_Letters</p></div></div></div></div><div class="refsection" id="idm4481"><h2>Exemple : Mise à l'échelle et déplacement des mots</h2><pre class="programlisting">SELECT ST_Translate(ST_Scale(ST_Letters('Yo'), 10, 10), 100,100);</pre></div><div class="refsection" id="idm4484"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsTWKB" title="ST_AsTWKB">ST_AsTWKB</a>, <a class="xref" href="#ST_Scale" title="ST_Scale">ST_Scale</a>, <a class="xref" href="#ST_Translate" title="ST_Translate">ST_Translate</a></p></div></div></section><section class="section" id="Geometry_Accessors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.4. Fonctions d'accès aux géométries</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#GeometryType">GeometryType</a></span><span class="refpurpose"> — Renvoie le type d'une géométrie sous forme de texte.</span></li><li><span class="refentrytitle"><a href="#ST_Boundary">ST_Boundary</a></span><span class="refpurpose"> — Renvoie la limite d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_BoundingDiagonal">ST_BoundingDiagonal</a></span><span class="refpurpose"> — Retourne la diagonale de la boîte englobante pour la géométrie en argument.</span></li><li><span class="refentrytitle"><a href="#ST_CoordDim">ST_CoordDim</a></span><span class="refpurpose"> — Renvoie la dimension des coordonnées d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_Dimension">ST_Dimension</a></span><span class="refpurpose"> — Renvoie la dimension topologique d'une géométrie. </span></li><li><span class="refentrytitle"><a href="#ST_Dump">ST_Dump</a></span><span class="refpurpose"> — Renvoie un ensemble de lignes <code class="varname">geometry_dump</code> pour les composants d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_DumpPoints">ST_DumpPoints</a></span><span class="refpurpose"> — Renvoie un ensemble de lignes <code class="varname">geometry_dump</code> pour les coordonnées dans une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_DumpSegments">ST_DumpSegments</a></span><span class="refpurpose"> — Renvoie un ensemble de lignes <code class="varname">geometry_dump</code> pour les segments d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_DumpRings">ST_DumpRings</a></span><span class="refpurpose"> — Renvoie un ensemble de lignes <code class="varname">geometry_dump</code> pour les anneaux extérieurs et intérieurs d'un polygone.</span></li><li><span class="refentrytitle"><a href="#ST_EndPoint">ST_EndPoint</a></span><span class="refpurpose"> — Renvoie le dernier point d'une LineString ou CircularLineString.</span></li><li><span class="refentrytitle"><a href="#ST_Envelope">ST_Envelope</a></span><span class="refpurpose"> — Renvoie une géométrie représentant la boîte de délimitation d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_ExteriorRing">ST_ExteriorRing</a></span><span class="refpurpose"> — Renvoie une ligne représentant l'anneau extérieur d'un polygone. </span></li><li><span class="refentrytitle"><a href="#ST_GeometryN">ST_GeometryN</a></span><span class="refpurpose"> — Renvoie un élément d'une collection de géométries.</span></li><li><span class="refentrytitle"><a href="#ST_GeometryType">ST_GeometryType</a></span><span class="refpurpose"> — Renvoie le type SQL-MM d'une géométrie sous forme de texte.</span></li><li><span class="refentrytitle"><a href="#ST_HasArc">ST_HasArc</a></span><span class="refpurpose"> — Teste si une géométrie contient un arc de cercle</span></li><li><span class="refentrytitle"><a href="#ST_InteriorRingN">ST_InteriorRingN</a></span><span class="refpurpose"> — Renvoie le Nième anneau intérieur (trou) d'un polygone.</span></li><li><span class="refentrytitle"><a href="#ST_NumCurves">ST_NumCurves</a></span><span class="refpurpose"> — Renvoie le nombre de courbes composantes d'une CompoundCurve.</span></li><li><span class="refentrytitle"><a href="#ST_CurveN">ST_CurveN</a></span><span class="refpurpose"> — Renvoie la Nième courbe composante d'une CompoundCurve.</span></li><li><span class="refentrytitle"><a href="#ST_IsClosed">ST_IsClosed</a></span><span class="refpurpose"> — Teste si les points de départ et d'arrivée d'une LineString coïncident. Pour une PolyhedralSurface, teste si elle est fermée (volumétrique). </span></li><li><span class="refentrytitle"><a href="#ST_IsCollection">ST_IsCollection</a></span><span class="refpurpose"> — Teste si une géométrie est un type de collection de géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_IsEmpty">ST_IsEmpty</a></span><span class="refpurpose"> — Teste si une géométrie est vide.</span></li><li><span class="refentrytitle"><a href="#ST_IsPolygonCCW">ST_IsPolygonCCW </a></span><span class="refpurpose"> — Teste si les polygones ont des anneaux extérieurs orientés dans le sens inverse des aiguilles d'une montre et des anneaux intérieurs orientés dans le sens des aiguilles d'une montre. </span></li><li><span class="refentrytitle"><a href="#ST_IsPolygonCW">ST_IsPolygonCW </a></span><span class="refpurpose"> — Teste si les polygones ont des anneaux extérieurs orientés dans le sens des aiguilles d'une montre et des anneaux intérieurs orientés dans le sens inverse des aiguilles d'une montre. </span></li><li><span class="refentrytitle"><a href="#ST_IsRing">ST_IsRing</a></span><span class="refpurpose"> — Teste si une ligne est fermée et simple.</span></li><li><span class="refentrytitle"><a href="#ST_IsSimple">ST_IsSimple</a></span><span class="refpurpose"> — Teste si une géométrie n'a pas de points d'auto-intersection ou d'auto-tangente.</span></li><li><span class="refentrytitle"><a href="#ST_M">ST_M</a></span><span class="refpurpose"> — Renvoie la coordonnée M d'un point.</span></li><li><span class="refentrytitle"><a href="#ST_MemSize">ST_MemSize</a></span><span class="refpurpose"> — Renvoie la quantité d'espace mémoire que prend une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_NDims">ST_NDims</a></span><span class="refpurpose"> — Renvoie la dimension des coordonnées d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_NPoints">ST_NPoints</a></span><span class="refpurpose"> — Retourne le nombre de points (vertex) d'un objet géométrique.</span></li><li><span class="refentrytitle"><a href="#ST_NRings">ST_NRings</a></span><span class="refpurpose"> — Renvoie le nombre d'anneaux dans une géométrie polygonale.</span></li><li><span class="refentrytitle"><a href="#ST_NumGeometries">ST_NumGeometries</a></span><span class="refpurpose"> — Renvoie le nombre d'éléments dans une collection de géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_NumInteriorRings">ST_NumInteriorRings</a></span><span class="refpurpose"> — Renvoie le nombre d'anneaux intérieurs (trous) d'un polygone.</span></li><li><span class="refentrytitle"><a href="#ST_NumInteriorRing">ST_NumInteriorRing</a></span><span class="refpurpose"> — Renvoie le nombre d'anneaux intérieurs (trous) d'un polygone. Alias pour ST_NumInteriorRings</span></li><li><span class="refentrytitle"><a href="#ST_NumPatches">ST_NumPatches</a></span><span class="refpurpose"> — Renvoie le nombre de faces d'une surface polyédrique. Retourne null pour les géométries non polyédriques.</span></li><li><span class="refentrytitle"><a href="#ST_NumPoints">ST_NumPoints</a></span><span class="refpurpose"> — Renvoie le nombre de points dans une LineString ou une CircularString.</span></li><li><span class="refentrytitle"><a href="#ST_PatchN">ST_PatchN</a></span><span class="refpurpose"> — Renvoie la Nième géométrie (face) d'une PolyhedralSurface.</span></li><li><span class="refentrytitle"><a href="#ST_PointN">ST_PointN</a></span><span class="refpurpose"> — Renvoie le Nième point de la première LineString ou LineString circulaire d'une géométrie. </span></li><li><span class="refentrytitle"><a href="#ST_Points">ST_Points</a></span><span class="refpurpose"> — Renvoie un MultiPoint contenant les coordonnées d'une géométrie. </span></li><li><span class="refentrytitle"><a href="#ST_StartPoint">ST_StartPoint</a></span><span class="refpurpose"> — Renvoie le premier point d'une LineString.</span></li><li><span class="refentrytitle"><a href="#ST_Summary">ST_Summary</a></span><span class="refpurpose"> — Renvoie un résumé textuel du contenu d'une géométrie. </span></li><li><span class="refentrytitle"><a href="#ST_X">ST_X</a></span><span class="refpurpose"> — Renvoie la coordonnée X d'un point.</span></li><li><span class="refentrytitle"><a href="#ST_Y">ST_Y</a></span><span class="refpurpose"> — Renvoie la coordonnée Y d'un point.</span></li><li><span class="refentrytitle"><a href="#ST_Z">ST_Z</a></span><span class="refpurpose"> — Renvoie la coordonnée Z d'un point.</span></li><li><span class="refentrytitle"><a href="#ST_Zmflag">ST_Zmflag</a></span><span class="refpurpose"> — Retourne un code indiquant la dimension des coordonnées ZM d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_HasZ">ST_HasZ</a></span><span class="refpurpose"> — Vérifie si une géométrie possède une dimension Z.</span></li><li><span class="refentrytitle"><a href="#ST_HasM">ST_HasM</a></span><span class="refpurpose"> — Vérifie si une géométrie a une dimension M (mesure).</span></li></ul></div><div class="refentry" id="GeometryType"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GeometryType — Renvoie le type d'une géométrie sous forme de texte.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">GeometryType</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm4504"><h2>Description</h2><p>Retourne le type de la géométrie, par exemple : 'LINESTRING', 'POLYGON', 'MULTIPOINT', etc.</p><p>OGC SPEC s2.1.1.1 - Retourne le nom du sous type instanciable de la géométrie. Le nom est retourné sous forme de texte.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction indique si la géométrie comporte une dimension de type mesure, en retournant un texte de la forme 'POINTM'.</p></td></tr></table></div><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm4532"><h2>Exemples</h2><pre class="programlisting">SELECT GeometryType(ST_GeomFromText('LINESTRING(77.29 29.07,77.42 29.26,77.27 29.31,77.29 29.07)'));
 geometrytype
--------------
 LINESTRING
</pre><pre class="programlisting">SELECT ST_GeometryType(ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'));
                        --result
                        POLYHEDRALSURFACE
                        </pre><pre class="programlisting">SELECT GeometryType(geom) as result
  FROM
    (SELECT
       ST_GeomFromEWKT('TIN (((
                0 0 0,
                0 0 1,
                0 1 0,
                0 0 0
            )), ((
                0 0 0,
                0 1 0,
                1 1 0,
                0 0 0
            ))
            )')  AS geom
    ) AS g;
 result
--------
 TIN    </pre></div><div class="refsection" id="idm4537"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a></p></div></div><div class="refentry" id="ST_Boundary"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Boundary — Renvoie la limite d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Boundary</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm4553"><h2>Description</h2><p>Renvoie l'ensemble formant la frontière finie de cette géométrie. La notion de frontière est définie dans la section 3.12.3.2 des spécifications OGC. Le résultat de cette fonction est un ensemble topologiquement fermé, représentable avec les types de base, comme décrit dans la section 3.12.2 des spécifications OGC.</p><p>Effectué par le module GEOS</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Avant la version 2.0.0, cette fonction renvoie une exception si une <code class="varname">GEOMETRYCOLLECTION</code> est passée en paramètre. A partir de la 2.0.0, la fonction renvoie null (paramètre non supporté).</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  OGC SPEC s2.1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 5.1.17</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p class="enhanced">Amélioration : 2.1.0 introduction du support pour Triangle</p><p class="changed">Modifié : 3.2.0 support pour TIN, n'utilise pas geos, ne linéarise pas les courbes</p></div><div class="refsection" id="idm4575"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_boundary01.png"/><div class="caption"><p>Ligne avec les points de démarcation superposés</p></div></div></div><p>
				</p><pre class="programlisting">SELECT ST_Boundary(geom)
FROM (SELECT 'LINESTRING(100 150,50 60, 70 80, 160 170)'::geometry As geom) As f;
                                </pre><p>
</p><pre class="screen"><em class="lineannotation"><span class="lineannotation">
ST_AsText output
</span></em>
MULTIPOINT((100 150),(160 170))
</pre><p>
						  </p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_boundary02.png"/><div class="caption"><p>trous de polygone avec une multi-lignes en limite</p></div></div></div><p>
				</p><pre class="programlisting">SELECT ST_Boundary(geom)
FROM (SELECT
'POLYGON (( 10 130, 50 190, 110 190, 140 150, 150 80, 100 10, 20 40, 10 130 ),
        ( 70 40, 100 50, 120 80, 80 110, 50 90, 70 40 ))'::geometry As geom) As f;
                                </pre><p>
</p><pre class="screen"><em class="lineannotation"><span class="lineannotation">
ST_AsText output
</span></em>
MULTILINESTRING((10 130,50 190,110 190,140 150,150 80,100 10,20 40,10 130),
        (70 40,100 50,120 80,80 110,50 90,70 40))
</pre><p>
						</p></td></tr></tbody></table></div><pre class="programlisting">SELECT ST_AsText(ST_Boundary(ST_GeomFromText('LINESTRING(1 1,0 0, -1 1)')));
st_astext
-----------
MULTIPOINT((1 1),(-1 1))

SELECT ST_AsText(ST_Boundary(ST_GeomFromText('POLYGON((1 1,0 0, -1 1, 1 1))')));
st_astext
----------
LINESTRING(1 1,0 0,-1 1,1 1)

--Using a 3d polygon
SELECT ST_AsEWKT(ST_Boundary(ST_GeomFromEWKT('POLYGON((1 1 1,0 0 1, -1 1 1, 1 1 1))')));

st_asewkt
-----------------------------------
LINESTRING(1 1 1,0 0 1,-1 1 1,1 1 1)

--Using a 3d multilinestring
SELECT ST_AsEWKT(ST_Boundary(ST_GeomFromEWKT('MULTILINESTRING((1 1 1,0 0 0.5, -1 1 1),(1 1 0.5,0 0 0.5, -1 1 0.5, 1 1 0.5) )')));

st_asewkt
----------
MULTIPOINT((-1 1 1),(1 1 0.75))
</pre></div><div class="refsection" id="idm4604"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a>, <a class="xref" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a></p></div></div><div class="refentry" id="ST_BoundingDiagonal"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BoundingDiagonal — Retourne la diagonale de la boîte englobante pour la géométrie en argument.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_BoundingDiagonal</strong>(</code>geometry  <var class="pdparam">geom</var>, boolean  <var class="pdparam">fits=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm4625"><h2>Description</h2><p>Renvoie la diagonale de la boîte de délimitation de la géométrie fournie sous la forme d'une LineString. La diagonale est une LineString à 2 points avec les valeurs minimales de chaque dimension dans son point de départ et les valeurs maximales dans son point d'arrivée. Si la géométrie d'entrée est vide, la diagonale est une LINESTRING EMPTY. </p><p>Le paramètre facultatif <code class="varname">fits</code> spécifie si le meilleur ajustement est nécessaire. S'il est faux, la diagonale d'une boîte de délimitation un peu plus grande peut être acceptée (ce qui est plus rapide à calculer pour les géométries comportant de nombreux sommets). Dans les deux cas, la boîte de délimitation de la ligne diagonale renvoyée couvre toujours la géométrie d'entrée. </p><p>La géométrie renvoyée conserve le SRID et la dimensionnalité (présence Z et M) de la géométrie en entrée. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Dans les cas dégénérés (c'est-à-dire un seul sommet dans l'entrée), la ligne retournée sera formellement invalide (pas d'intérieur). Le résultat est toujours topologiquement valide. </p></td></tr></table></div><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les coordonnées M. </p></div><div class="refsection" id="idm4642"><h2>Exemples</h2><pre class="programlisting">-- Get the minimum X in a buffer around a point
SELECT ST_X(ST_StartPoint(ST_BoundingDiagonal(
  ST_Buffer(ST_Point(0,0),10)
)));
 st_x
------
  -10
                </pre></div><div class="refsection" id="idm4645"><h2>Voir aussi</h2><p><a class="xref" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a>, <a class="xref" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a>, <a class="xref" href="#ST_X" title="ST_X">ST_X</a>, <a class="xref" href="#ST_Y" title="ST_Y">ST_Y</a>, <a class="xref" href="#ST_Z" title="ST_Z">ST_Z</a>, <a class="xref" href="#ST_M" title="ST_M">ST_M</a>, <a class="xref" href="#ST_Envelope" title="ST_Envelope">ST_Envelope</a> </p></div></div><div class="refentry" id="ST_CoordDim"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CoordDim — Renvoie la dimension des coordonnées d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_CoordDim</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm4667"><h2>Description</h2><p>Retourne la dimension des coordonnées d'une valeur ST_Geometry.</p><p>Alias SQL/MM pour la fonction <a class="xref" href="#ST_NDims" title="ST_NDims">ST_NDims</a></p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm4697"><h2>Exemples</h2><pre class="programlisting">SELECT ST_CoordDim('CIRCULARSTRING(1 2 3, 1 3 4, 5 6 7, 8 9 10, 11 12 13)');
                        ---result--
                                3

                                SELECT ST_CoordDim(ST_Point(1,2));
                        --result--
                                2

                </pre></div><div class="refsection" id="idm4700"><h2>Voir aussi</h2><p><a class="xref" href="#ST_NDims" title="ST_NDims">ST_NDims</a></p></div></div><div class="refentry" id="ST_Dimension"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Dimension — Renvoie la dimension topologique d'une géométrie. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_Dimension</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm4716"><h2>Description</h2><p>Renvoie la dimension topologique de cet objet Geometry, qui doit être inférieure ou égale à la dimension des coordonnées. OGC SPEC s2.1.1.1 - renvoie 0 pour <code class="varname">POINT</code>, 1 pour <code class="varname">LINESTRING</code>, 2 pour <code class="varname">POLYGON</code>, et la plus grande dimension des composants d'une <code class="varname">GEOMETRYCOLLECTION</code>. Si la dimension est inconnue (par exemple, pour une <code class="varname">GEOMETRYCOLLECTION</code> vide), 0 est renvoyé. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.2</p><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN et surfaces polyédriques. Ne renvoie plus une exception si une GEOMETRY EMPTY est passée.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Avant la version 2.0.0, cette fonction lève une exception si elle est utilisée avec une géométrie vide. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm4739"><h2>Exemples</h2><pre class="programlisting">SELECT ST_Dimension('GEOMETRYCOLLECTION(LINESTRING(1 1,0 0),POINT(0 0))');
ST_Dimension
-----------
1
</pre></div><div class="refsection" id="idm4742"><h2>Voir aussi</h2><p><a class="xref" href="#ST_NDims" title="ST_NDims">ST_NDims</a></p></div></div><div class="refentry" id="ST_Dump"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Dump — Renvoie un ensemble de lignes <code class="varname">geometry_dump</code> pour les composants d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry_dump[] <strong class="fsfunc">ST_Dump</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm4759"><h2>Description</h2><p>Une fonction de retour d'ensemble (SRF) qui extrait les composants d'une géométrie. Elle renvoie un ensemble de <a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a> lignes, chacune contenant une géométrie (champ <em class="parameter"><code>geom</code></em>) et un tableau d'entiers (champ <em class="parameter"><code>path</code></em>). </p><p>Pour un type de géométrie atomique (POINT, LINESTRING, POLYGONE), un seul enregistrement est renvoyé avec un tableau <em class="parameter"><code>path</code></em> vide et la géométrie en entrée en tant que <em class="parameter"><code>geom</code></em>. Pour une collection ou une géométrie multiple, un enregistrement est renvoyé pour chacun des composants de la collection, et le <em class="parameter"><code>path</code></em> indique la position du composant à l'intérieur de la collection.</p><p>ST_Dump est utile pour développer les géométries. C'est l'inverse d'un <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a> / GROUP BY, en ce sens qu'il crée de nouvelles lignes. Par exemple, il peut être utilisé pour développer les MULTIPOLYGONES en POLYGONES.</p><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p class="availability">Disponibilité : PostGIS 1.0.0RC1. Nécessite PostgreSQL 7.3 ou plus.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Avant la version 1.3.4, cette fonction se bloquait si elle était utilisée avec des géométries contenant des CURVES. Ce problème est corrigé dans la version 1.3.4+</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm4791"><h2>Exemples standard</h2><pre class="programlisting">SELECT sometable.field1, sometable.field1,
      (ST_Dump(sometable.geom)).geom AS geom
FROM sometable;

-- Break a compound curve into its constituent linestrings and circularstrings
SELECT ST_AsEWKT(a.geom), ST_HasArc(a.geom)
  FROM ( SELECT (ST_Dump(p_geom)).geom AS geom
         FROM (SELECT ST_GeomFromEWKT('COMPOUNDCURVE(CIRCULARSTRING(0 0, 1 1, 1 0),(1 0, 0 1))') AS p_geom) AS b
        ) AS a;
          st_asewkt          | st_hasarc
-----------------------------+----------
 CIRCULARSTRING(0 0,1 1,1 0) | t
 LINESTRING(1 0,0 1)         | f
(2 rows)</pre></div><div class="refsection" id="idm4794"><h2>Exemples TIN, Triangle et Surfaces Polyédriques</h2><pre class="programlisting">-- Polyhedral surface example
-- Break a Polyhedral surface into its faces
SELECT (a.p_geom).path[1] As path, ST_AsEWKT((a.p_geom).geom) As geom_ewkt
  FROM (SELECT ST_Dump(ST_GeomFromEWKT('POLYHEDRALSURFACE(
((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),  ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),  ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1))
)') ) AS p_geom )  AS a;

 path |                geom_ewkt
------+------------------------------------------
    1 | POLYGON((0 0 0,0 0 1,0 1 1,0 1 0,0 0 0))
    2 | POLYGON((0 0 0,0 1 0,1 1 0,1 0 0,0 0 0))
    3 | POLYGON((0 0 0,1 0 0,1 0 1,0 0 1,0 0 0))
    4 | POLYGON((1 1 0,1 1 1,1 0 1,1 0 0,1 1 0))
    5 | POLYGON((0 1 0,0 1 1,1 1 1,1 1 0,0 1 0))
    6 | POLYGON((0 0 1,1 0 1,1 1 1,0 1 1,0 0 1))</pre><pre class="programlisting">-- TIN --
SELECT (g.gdump).path, ST_AsEWKT((g.gdump).geom) as wkt
  FROM
    (SELECT
       ST_Dump( ST_GeomFromEWKT('TIN (((
                0 0 0,
                0 0 1,
                0 1 0,
                0 0 0
            )), ((
                0 0 0,
                0 1 0,
                1 1 0,
                0 0 0
            ))
            )') ) AS gdump
    ) AS g;
-- result --
 path |                 wkt
------+-------------------------------------
 {1}  | TRIANGLE((0 0 0,0 0 1,0 1 0,0 0 0))
 {2}  | TRIANGLE((0 0 0,0 1 0,1 1 0,0 0 0))
</pre></div><div class="refsection" id="idm4798"><h2>Voir aussi</h2><p><a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a>, <a class="xref" href="#PostGIS_Geometry_DumpFunctions" title="13.6. Fonctions PostGIS de dump Geometry / Geography / Raster">Section 13.6, “Fonctions PostGIS de dump Geometry / Geography / Raster”</a>, <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a></p></div></div><div class="refentry" id="ST_DumpPoints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DumpPoints — Renvoie un ensemble de lignes <code class="varname">geometry_dump</code> pour les coordonnées dans une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry_dump[] <strong class="fsfunc">ST_DumpPoints</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm4818"><h2>Description</h2><p>Une fonction de retour d'ensemble (SRF) qui extrait les coordonnées (sommets) d'une géométrie. Elle renvoie un ensemble de <a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a> lignes, chacune contenant une géométrie (champ <em class="parameter"><code>geom</code></em>) et un tableau d'entiers (champ <em class="parameter"><code>path</code></em>). </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>le champ <em class="parameter"><code>geom</code></em> <code class="varname">POINT</code> représente les coordonnées de la géométrie fournie. </p></li><li class="listitem"><p>le champ <em class="parameter"><code>path</code></em> (un <code class="varname">integer[]</code>) est un index énumérant les positions des coordonnées dans les éléments de la géométrie fournie. Les indices sont basés sur 1. Par exemple, pour un <code class="varname">LINESTRING</code>, les chemins sont <code class="varname">{i}</code> où <code class="varname">i</code> est la <code class="varname">nième</code> coordonnée dans le <code class="varname">LINESTRING</code>. Pour un <code class="varname">POLYGONE</code>, les chemins sont <code class="varname">{i,j}</code> où <code class="varname">i</code> est le numéro de l'anneau (1 est l'anneau extérieur ; les anneaux intérieurs suivent) et <code class="varname">j</code> est la position de la coordonnée dans l'anneau. </p></li></ul></div><p>Pour obtenir une géométrie unique contenant les coordonnées, utilisez <a class="xref" href="#ST_Points" title="ST_Points">ST_Points</a>. </p><p class="enhanced">Amélioré : 2.1.0 Vitesse plus rapide. Réimplémentation en C natif.</p><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p class="availability">Disponibilité : 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm4863"><h2>Classique Éclater un tableau de lignes en nœuds</h2><pre class="programlisting">SELECT edge_id, (dp).path[1] As index, ST_AsText((dp).geom) As wktnode
FROM (SELECT 1 As edge_id
        , ST_DumpPoints(ST_GeomFromText('LINESTRING(1 2, 3 4, 10 10)')) AS dp
     UNION ALL
     SELECT 2 As edge_id
        , ST_DumpPoints(ST_GeomFromText('LINESTRING(3 5, 5 6, 9 10)')) AS dp
   ) As foo;
 edge_id | index |    wktnode
---------+-------+--------------
       1 |     1 | POINT(1 2)
       1 |     2 | POINT(3 4)
       1 |     3 | POINT(10 10)
       2 |     1 | POINT(3 5)
       2 |     2 | POINT(5 6)
       2 |     3 | POINT(9 10)</pre></div><div class="refsection" id="idm4866"><h2>Exemples de géométrie standard</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_dumppoints01.png"/></div></div><pre class="programlisting">SELECT path, ST_AsText(geom)
FROM (
  SELECT (ST_DumpPoints(g.geom)).*
  FROM
    (SELECT
       'GEOMETRYCOLLECTION(
          POINT ( 0 1 ),
          LINESTRING ( 0 3, 3 4 ),
          POLYGON (( 2 0, 2 3, 0 2, 2 0 )),
          POLYGON (( 3 0, 3 3, 6 3, 6 0, 3 0 ),
                   ( 5 1, 4 2, 5 2, 5 1 )),
          MULTIPOLYGON (
                  (( 0 5, 0 8, 4 8, 4 5, 0 5 ),
                   ( 1 6, 3 6, 2 7, 1 6 )),
                  (( 5 4, 5 8, 6 7, 5 4 ))
          )
        )'::geometry AS geom
    ) AS g
  ) j;

   path    | st_astext
-----------+------------
 {1,1}     | POINT(0 1)
 {2,1}     | POINT(0 3)
 {2,2}     | POINT(3 4)
 {3,1,1}   | POINT(2 0)
 {3,1,2}   | POINT(2 3)
 {3,1,3}   | POINT(0 2)
 {3,1,4}   | POINT(2 0)
 {4,1,1}   | POINT(3 0)
 {4,1,2}   | POINT(3 3)
 {4,1,3}   | POINT(6 3)
 {4,1,4}   | POINT(6 0)
 {4,1,5}   | POINT(3 0)
 {4,2,1}   | POINT(5 1)
 {4,2,2}   | POINT(4 2)
 {4,2,3}   | POINT(5 2)
 {4,2,4}   | POINT(5 1)
 {5,1,1,1} | POINT(0 5)
 {5,1,1,2} | POINT(0 8)
 {5,1,1,3} | POINT(4 8)
 {5,1,1,4} | POINT(4 5)
 {5,1,1,5} | POINT(0 5)
 {5,1,2,1} | POINT(1 6)
 {5,1,2,2} | POINT(3 6)
 {5,1,2,3} | POINT(2 7)
 {5,1,2,4} | POINT(1 6)
 {5,2,1,1} | POINT(5 4)
 {5,2,1,2} | POINT(5 8)
 {5,2,1,3} | POINT(6 7)
 {5,2,1,4} | POINT(5 4)
(29 rows)</pre></div><div class="refsection" id="idm4873"><h2>Exemples TIN, Triangle et Surfaces Polyédriques</h2><pre class="programlisting">-- Polyhedral surface cube --
SELECT (g.gdump).path, ST_AsEWKT((g.gdump).geom) as wkt
  FROM
    (SELECT
       ST_DumpPoints(ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )') ) AS gdump
    ) AS g;
-- result --
  path   |     wkt
---------+--------------
 {1,1,1} | POINT(0 0 0)
 {1,1,2} | POINT(0 0 1)
 {1,1,3} | POINT(0 1 1)
 {1,1,4} | POINT(0 1 0)
 {1,1,5} | POINT(0 0 0)
 {2,1,1} | POINT(0 0 0)
 {2,1,2} | POINT(0 1 0)
 {2,1,3} | POINT(1 1 0)
 {2,1,4} | POINT(1 0 0)
 {2,1,5} | POINT(0 0 0)
 {3,1,1} | POINT(0 0 0)
 {3,1,2} | POINT(1 0 0)
 {3,1,3} | POINT(1 0 1)
 {3,1,4} | POINT(0 0 1)
 {3,1,5} | POINT(0 0 0)
 {4,1,1} | POINT(1 1 0)
 {4,1,2} | POINT(1 1 1)
 {4,1,3} | POINT(1 0 1)
 {4,1,4} | POINT(1 0 0)
 {4,1,5} | POINT(1 1 0)
 {5,1,1} | POINT(0 1 0)
 {5,1,2} | POINT(0 1 1)
 {5,1,3} | POINT(1 1 1)
 {5,1,4} | POINT(1 1 0)
 {5,1,5} | POINT(0 1 0)
 {6,1,1} | POINT(0 0 1)
 {6,1,2} | POINT(1 0 1)
 {6,1,3} | POINT(1 1 1)
 {6,1,4} | POINT(0 1 1)
 {6,1,5} | POINT(0 0 1)
(30 rows)</pre><pre class="programlisting">-- Triangle --
SELECT (g.gdump).path, ST_AsText((g.gdump).geom) as wkt
  FROM
    (SELECT
       ST_DumpPoints( ST_GeomFromEWKT('TRIANGLE ((
                0 0,
                0 9,
                9 0,
                0 0
            ))') ) AS gdump
    ) AS g;
-- result --
 path |    wkt
------+------------
 {1}  | POINT(0 0)
 {2}  | POINT(0 9)
 {3}  | POINT(9 0)
 {4}  | POINT(0 0)
</pre><pre class="programlisting">-- TIN --
SELECT (g.gdump).path, ST_AsEWKT((g.gdump).geom) as wkt
  FROM
    (SELECT
       ST_DumpPoints( ST_GeomFromEWKT('TIN (((
                0 0 0,
                0 0 1,
                0 1 0,
                0 0 0
            )), ((
                0 0 0,
                0 1 0,
                1 1 0,
                0 0 0
            ))
            )') ) AS gdump
    ) AS g;
-- result --
  path   |     wkt
---------+--------------
 {1,1,1} | POINT(0 0 0)
 {1,1,2} | POINT(0 0 1)
 {1,1,3} | POINT(0 1 0)
 {1,1,4} | POINT(0 0 0)
 {2,1,1} | POINT(0 0 0)
 {2,1,2} | POINT(0 1 0)
 {2,1,3} | POINT(1 1 0)
 {2,1,4} | POINT(0 0 0)
(8 rows)
</pre></div><div class="refsection" id="idm4878"><h2>Voir aussi</h2><p><a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a>, <a class="xref" href="#PostGIS_Geometry_DumpFunctions" title="13.6. Fonctions PostGIS de dump Geometry / Geography / Raster">Section 13.6, “Fonctions PostGIS de dump Geometry / Geography / Raster”</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_DumpRings" title="ST_DumpRings">ST_DumpRings</a>, <a class="xref" href="#ST_Points" title="ST_Points">ST_Points</a></p></div></div><div class="refentry" id="ST_DumpSegments"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DumpSegments — Renvoie un ensemble de lignes <code class="varname">geometry_dump</code> pour les segments d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry_dump[] <strong class="fsfunc">ST_DumpSegments</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm4899"><h2>Description</h2><p>Une fonction de retour d'ensemble (SRF) qui extrait les segments d'une géométrie. Elle renvoie un ensemble de <a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a> lignes, chacune contenant une géométrie (champ <em class="parameter"><code>geom</code></em>) et un tableau d'entiers (champ <em class="parameter"><code>path</code></em>). </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>le champ <em class="parameter"><code>geom</code></em> <code class="varname"> LINESTRING</code>s représente les segments linéaires de la géométrie fournie, tandis que <code class="varname">CIRCULARSTRING</code>s représente les segments d'arc. </p></li><li class="listitem"><p>le champ <em class="parameter"><code>path</code></em> (un <code class="varname">integer[]</code>) est un index énumérant les positions des points de départ des segments dans les éléments de la géométrie fournie. Les indices sont basés sur 1. Par exemple, pour un <code class="varname">LINESTRING</code>, les chemins sont <code class="varname">{i}</code> où <code class="varname">i</code> est le <code class="varname">nième</code> point de départ du segment dans le <code class="varname">LINESTRING</code>. Pour un <code class="varname">POLYGONE</code>, les chemins sont <code class="varname">{i,j}</code> où <code class="varname">i</code> est le numéro de l'anneau (1 est l'anneau extérieur ; les anneaux intérieurs suivent) et <code class="varname">j</code> est la position du point de départ du segment dans l'anneau. </p></li></ul></div><p class="availability">Disponibilité : 3.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm4933"><h2>Exemples de géométrie standard</h2><pre class="programlisting">SELECT path, ST_AsText(geom)
FROM (
    SELECT (ST_DumpSegments(g.geom)).*
    FROM (SELECT 'GEOMETRYCOLLECTION(
    LINESTRING(1 1, 3 3, 4 4),
    POLYGON((5 5, 6 6, 7 7, 5 5))
)'::geometry AS geom
        ) AS g
) j;

  path   │      st_astext
---------------------------------
 {1,1}   │ LINESTRING(1 1,3 3)
 {1,2}   │ LINESTRING(3 3,4 4)
 {2,1,1} │ LINESTRING(5 5,6 6)
 {2,1,2} │ LINESTRING(6 6,7 7)
 {2,1,3} │ LINESTRING(7 7,5 5)
(5 rows)</pre></div><div class="refsection" id="idm4936"><h2>Exemples de TIN et de triangles</h2><pre class="programlisting">-- Triangle --
SELECT path, ST_AsText(geom)
FROM (
    SELECT (ST_DumpSegments(g.geom)).*
    FROM (SELECT 'TRIANGLE((
        0 0,
        0 9,
        9 0,
        0 0
    ))'::geometry AS geom
        ) AS g
) j;

 path  │      st_astext
 ---------------------------------
 {1,1} │ LINESTRING(0 0,0 9)
 {1,2} │ LINESTRING(0 9,9 0)
 {1,3} │ LINESTRING(9 0,0 0)
(3 rows)
</pre><pre class="programlisting">-- TIN --
SELECT path, ST_AsEWKT(geom)
FROM (
    SELECT (ST_DumpSegments(g.geom)).*
    FROM (SELECT 'TIN(((
        0 0 0,
        0 0 1,
        0 1 0,
        0 0 0
    )), ((
        0 0 0,
        0 1 0,
        1 1 0,
        0 0 0
    ))
    )'::geometry AS geom
        ) AS g
) j;

  path   │        st_asewkt
  ---------------------------------
 {1,1,1} │ LINESTRING(0 0 0,0 0 1)
 {1,1,2} │ LINESTRING(0 0 1,0 1 0)
 {1,1,3} │ LINESTRING(0 1 0,0 0 0)
 {2,1,1} │ LINESTRING(0 0 0,0 1 0)
 {2,1,2} │ LINESTRING(0 1 0,1 1 0)
 {2,1,3} │ LINESTRING(1 1 0,0 0 0)
(6 rows)
</pre></div><div class="refsection" id="idm4940"><h2>Voir aussi</h2><p><a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a>, <a class="xref" href="#PostGIS_Geometry_DumpFunctions" title="13.6. Fonctions PostGIS de dump Geometry / Geography / Raster">Section 13.6, “Fonctions PostGIS de dump Geometry / Geography / Raster”</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_DumpRings" title="ST_DumpRings">ST_DumpRings</a></p></div></div><div class="refentry" id="ST_DumpRings"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DumpRings — Renvoie un ensemble de lignes <code class="varname">geometry_dump</code> pour les anneaux extérieurs et intérieurs d'un polygone.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry_dump[] <strong class="fsfunc">ST_DumpRings</strong>(</code>geometry  <var class="pdparam">a_polygon</var><code>)</code>;</p></div></div><div class="refsection" id="idm4960"><h2>Description</h2><p>Une fonction de retour d'ensemble (SRF) qui extrait les anneaux d'un polygone. Elle renvoie un ensemble de <a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a> lignes, chacune contenant une géométrie (champ <em class="parameter"><code>geom</code></em>) et un tableau d'entiers (champ <em class="parameter"><code>path</code></em>). </p><p>Le champ <em class="parameter"><code>geom</code></em> contient chaque anneau sous forme de POLYGONE. Le champ <em class="parameter"><code>path</code></em> est un tableau d'entiers de longueur 1 contenant l'indice de l'anneau du polygone. L'anneau extérieur (coquille) a l'indice 0. Les anneaux intérieurs (trous) ont des indices de 1 et plus. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cela ne fonctionne que pour les géométries POLYGON. Il ne fonctionne pas pour les MULTIPOLYGONS</p></td></tr></table></div><p class="availability">Disponibilité : PostGIS 1.1.3. Nécessite PostgreSQL 7.3 ou plus.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm4976"><h2>Exemples</h2><p>Forme générale de la requête.</p><pre class="programlisting">SELECT polyTable.field1, polyTable.field1,
          (ST_DumpRings(polyTable.geom)).geom As geom
FROM polyTable;
</pre><p>Un polygone avec un seul trou.</p><pre class="programlisting">SELECT path, ST_AsEWKT(geom) As geom
        FROM ST_DumpRings(
                ST_GeomFromEWKT('POLYGON((-8149064 5133092 1,-8149064 5132986 1,-8148996 5132839 1,-8148972 5132767 1,-8148958 5132508 1,-8148941 5132466 1,-8148924 5132394 1,
                -8148903 5132210 1,-8148930 5131967 1,-8148992 5131978 1,-8149237 5132093 1,-8149404 5132211 1,-8149647 5132310 1,-8149757 5132394 1,
                -8150305 5132788 1,-8149064 5133092 1),
                (-8149362 5132394 1,-8149446 5132501 1,-8149548 5132597 1,-8149695 5132675 1,-8149362 5132394 1))')
                )  as foo;
 path |                                            geom
----------------------------------------------------------------------------------------------------------------
  {0} | POLYGON((-8149064 5133092 1,-8149064 5132986 1,-8148996 5132839 1,-8148972 5132767 1,-8148958 5132508 1,
          |          -8148941 5132466 1,-8148924 5132394 1,
          |          -8148903 5132210 1,-8148930 5131967 1,
          |          -8148992 5131978 1,-8149237 5132093 1,
          |          -8149404 5132211 1,-8149647 5132310 1,-8149757 5132394 1,-8150305 5132788 1,-8149064 5133092 1))
  {1} | POLYGON((-8149362 5132394 1,-8149446 5132501 1,
          |          -8149548 5132597 1,-8149695 5132675 1,-8149362 5132394 1))</pre></div><div class="refsection" id="idm4982"><h2>Voir aussi</h2><p><a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a>, <a class="xref" href="#PostGIS_Geometry_DumpFunctions" title="13.6. Fonctions PostGIS de dump Geometry / Geography / Raster">Section 13.6, “Fonctions PostGIS de dump Geometry / Geography / Raster”</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a>, <a class="xref" href="#ST_InteriorRingN" title="ST_InteriorRingN">ST_InteriorRingN</a></p></div></div><div class="refentry" id="ST_EndPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_EndPoint — Renvoie le dernier point d'une LineString ou CircularLineString.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_EndPoint</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm5002"><h2>Description</h2><p>Renvoie le dernier point d'une géométrie <code class="varname">LINESTRING</code> ou <code class="varname">CIRCULARLINESTRING</code> comme un <code class="varname">POINT</code>. Renvoie <code class="varname">NULL</code> si l'entrée n'est pas une <code class="varname">LINESTRING</code> ou <code class="varname">CIRCULARLINESTRING</code>.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 7.1.4</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Modifié : 2.0.0 ne fonctionne plus avec les MultiLineStrings à géométrie unique. Dans les anciennes versions de PostGIS, une MultiLineString à géométrie unique fonctionnait avec cette fonction et renvoyait le point final. Dans la version 2.0.0, elle renvoie NULL comme toute autre MultiLineString. L'ancien comportement était une fonctionnalité non documentée, mais les personnes qui supposaient que leurs données étaient stockées en tant que LINESTRING peuvent voir ces dernières retourner NULL dans la version 2.0.0.</p></td></tr></table></div></div><div class="refsection" id="idm5025"><h2>Exemples</h2><p>Point final d'une ligne</p><pre class="programlisting">postgis=# SELECT ST_AsText(ST_EndPoint('LINESTRING(1 1, 2 2, 3 3)'::geometry));
 st_astext
------------
 POINT(3 3)
</pre><p>Le point final d'une ligne qui n'en est pas une est NULL</p><pre class="programlisting">SELECT ST_EndPoint('POINT(1 1)'::geometry) IS NULL AS is_null;
  is_null
----------
 t
</pre><p>Point final d'une ligne 3D</p><pre class="programlisting">--3d endpoint
SELECT ST_AsEWKT(ST_EndPoint('LINESTRING(1 1 2, 1 2 3, 0 0 5)'));
  st_asewkt
--------------
 POINT(0 0 5)
</pre><p>Point d'arrivée d'une CircularString</p><pre class="programlisting">SELECT ST_AsText(ST_EndPoint('CIRCULARSTRING(5 2,-3 1.999999, -2 1, -4 2, 6 3)'::geometry));
 st_astext
------------
 POINT(6 3)
</pre></div><div class="refsection" id="idm5035"><h2>Voir aussi</h2><p><a class="xref" href="#ST_PointN" title="ST_PointN">ST_PointN</a>, <a class="xref" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a></p></div></div><div class="refentry" id="ST_Envelope"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Envelope — Renvoie une géométrie représentant la boîte de délimitation d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Envelope</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm5052"><h2>Description</h2><p>Renvoie la boîte de délimitation minimale en double précision (float8) pour la géométrie fournie, en tant que géométrie. Le polygone est défini par les points d'angle de la boîte de délimitation ((<code class="varname">MINX</code>, <code class="varname">MINY</code>), (<code class="varname">MINX</code>, <code class="varname">MAXY</code>), (<code class="varname">MAXX</code>, <code class="varname">MAXY</code>), (<code class="varname">MAXX</code>, <code class="varname">MINY</code>), (<code class="varname">MINX</code>, <code class="varname">MINY</code>)). (PostGIS ajoutera également une coordonnée <code class="varname">ZMIN</code>/<code class="varname">ZMAX</code>).</p><p>D'autres cas (lignes verticales, points) retourneront une géométrie de dimension inférieure à <code class="varname">POLYGON</code>, c'est-à-dire <code class="varname">POINT</code> ou <code class="varname">LINESTRING</code>.</p><p class="availability">Disponibilité : 1.5.0 changement pour renvoyer un type double précision à la place de float4</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.19</p></div><div class="refsection" id="idm5081"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_Envelope('POINT(1 3)'::geometry));
 st_astext
------------
 POINT(1 3)
(1 row)


SELECT ST_AsText(ST_Envelope('LINESTRING(0 0, 1 3)'::geometry));
                   st_astext
--------------------------------
 POLYGON((0 0,0 3,1 3,1 0,0 0))
(1 row)


SELECT ST_AsText(ST_Envelope('POLYGON((0 0, 0 1, 1.0000001 1, 1.0000001 0, 0 0))'::geometry));
                                                  st_astext
--------------------------------------------------------------
 POLYGON((0 0,0 1,1.00000011920929 1,1.00000011920929 0,0 0))
(1 row)
SELECT ST_AsText(ST_Envelope('POLYGON((0 0, 0 1, 1.0000000001 1, 1.0000000001 0, 0 0))'::geometry));
                                                  st_astext
--------------------------------------------------------------
 POLYGON((0 0,0 1,1.00000011920929 1,1.00000011920929 0,0 0))
(1 row)

SELECT Box3D(geom), Box2D(geom), ST_AsText(ST_Envelope(geom)) As envelopewkt
        FROM (SELECT 'POLYGON((0 0, 0 1000012333334.34545678, 1.0000001 1, 1.0000001 0, 0 0))'::geometry As geom) As foo;


        </pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_envelope01.png"/><div class="caption"><p>Enveloppe d'un point et d'une ligne.</p></div></div></div><pre class="programlisting">SELECT ST_AsText(ST_Envelope(
                ST_Collect(
                        ST_GeomFromText('LINESTRING(55 75,125 150)'),
                                ST_Point(20, 80))
                                )) As wktenv;
wktenv
-----------
POLYGON((20 75,20 150,125 150,125 75,20 75))</pre></div><div class="refsection" id="idm5091"><h2>Voir aussi</h2><p><a class="xref" href="#Box2D" title="Box2D">Box2D</a>, <a class="xref" href="#Box3D" title="Box3D">Box3D</a>, <a class="xref" href="#ST_OrientedEnvelope" title="ST_OrientedEnvelope">ST_OrientedEnvelope</a></p></div></div><div class="refentry" id="ST_ExteriorRing"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ExteriorRing — Renvoie une ligne représentant l'anneau extérieur d'un polygone. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ExteriorRing</strong>(</code>geometry  <var class="pdparam">a_polygon</var><code>)</code>;</p></div></div><div class="refsection" id="idm5109"><h2>Description</h2><p>Renvoie une LINESTRING représentant l'anneau extérieur (coquille) d'un POLYGONE. Renvoie NULL si la géométrie n'est pas un polygone.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction ne prend pas en charge les MULTIPOLYGONES. Pour les MULTIPOLYGONs, utilisez conjointement avec <a class="xref" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a> ou <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a> </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  2.1.5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 8.2.3, 8.3.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm5129"><h2>Exemples</h2><pre class="programlisting">--If you have a table of polygons
SELECT gid, ST_ExteriorRing(geom) AS ering
FROM sometable;

--If you have a table of MULTIPOLYGONs
--and want to return a MULTILINESTRING composed of the exterior rings of each polygon
SELECT gid, ST_Collect(ST_ExteriorRing(geom)) AS erings
        FROM (SELECT gid, (ST_Dump(geom)).geom As geom
                        FROM sometable) As foo
GROUP BY gid;

--3d Example
SELECT ST_AsEWKT(
        ST_ExteriorRing(
        ST_GeomFromEWKT('POLYGON((0 0 1, 1 1 1, 1 2 1, 1 1 1, 0 0 1))')
        )
);

st_asewkt
---------
LINESTRING(0 0 1,1 1 1,1 2 1,1 1 1,0 0 1)
</pre></div><div class="refsection" id="idm5132"><h2>Voir aussi</h2><p><a class="xref" href="#ST_InteriorRingN" title="ST_InteriorRingN">ST_InteriorRingN</a>, <a class="xref" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a>, <a class="xref" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a> </p></div></div><div class="refentry" id="ST_GeometryN"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeometryN — Renvoie un élément d'une collection de géométries.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeometryN</strong>(</code>geometry  <var class="pdparam">geomA</var>, integer  <var class="pdparam">n</var><code>)</code>;</p></div></div><div class="refsection" id="idm5153"><h2>Description</h2><p>Renvoie la géométrie du Nième élément basé sur 1 d'une géométrie d'entrée qui est une GEOMETRYCOLLECTION, MULTIPOINT, MULTILINESTRING, MULTICURVE, MULTI)POLYGON ou POLYHEDRALSURFACE. Sinon, renvoie NULL.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'index commence à 1 pour respecter les spécificarions OGC depuis la version 0.8.0. Dans les versions antérieures, l'index commençait à 0.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour extraire tous les éléments d'une géométrie, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a> est plus efficace et fonctionne pour les géométries atomiques.</p></td></tr></table></div><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p class="changed">Changement : 2.0.0. Les versions antérieures renvoient NULL pour les géometries simples (un seul objet). Renvoie désormais la géométrie pour le cas ST_GeometryN(..,1).</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 9.1.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm5188"><h2>Exemples standard</h2><pre class="programlisting">
--Extracting a subset of points from a 3d multipoint
SELECT n, ST_AsEWKT(ST_GeometryN(geom, n)) As geomewkt
FROM (
VALUES (ST_GeomFromEWKT('MULTIPOINT((1 2 7), (3 4 7), (5 6 7), (8 9 10))') ),
( ST_GeomFromEWKT('MULTICURVE(CIRCULARSTRING(2.5 2.5,4.5 2.5, 3.5 3.5), (10 11, 12 11))') )
        )As foo(geom)
        CROSS JOIN generate_series(1,100) n
WHERE n &lt;= ST_NumGeometries(geom);

 n |               geomewkt
---+-----------------------------------------
 1 | POINT(1 2 7)
 2 | POINT(3 4 7)
 3 | POINT(5 6 7)
 4 | POINT(8 9 10)
 1 | CIRCULARSTRING(2.5 2.5,4.5 2.5,3.5 3.5)
 2 | LINESTRING(10 11,12 11)


--Extracting all geometries (useful when you want to assign an id)
SELECT gid, n, ST_GeometryN(geom, n)
FROM sometable CROSS JOIN generate_series(1,100) n
WHERE n &lt;= ST_NumGeometries(geom);
</pre></div><div class="refsection" id="idm5191"><h2>Exemples TIN, Triangle et Surfaces Polyédriques</h2><pre class="programlisting">-- Polyhedral surface example
-- Break a Polyhedral surface into its faces
SELECT ST_AsEWKT(ST_GeometryN(p_geom,3)) As geom_ewkt
  FROM (SELECT ST_GeomFromEWKT('POLYHEDRALSURFACE(
((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)),
((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),
((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1))
)')  AS p_geom )  AS a;

                geom_ewkt
------------------------------------------
 POLYGON((0 0 0,1 0 0,1 0 1,0 0 1,0 0 0))</pre><pre class="programlisting">-- TIN --
SELECT ST_AsEWKT(ST_GeometryN(geom,2)) as wkt
  FROM
    (SELECT
       ST_GeomFromEWKT('TIN (((
                0 0 0,
                0 0 1,
                0 1 0,
                0 0 0
            )), ((
                0 0 0,
                0 1 0,
                1 1 0,
                0 0 0
            ))
            )')  AS geom
    ) AS g;
-- result --
                 wkt
-------------------------------------
 TRIANGLE((0 0 0,0 1 0,1 1 0,0 0 0))</pre></div><div class="refsection" id="idm5195"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a></p></div></div><div class="refentry" id="ST_GeometryType"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeometryType — Renvoie le type SQL-MM d'une géométrie sous forme de texte.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_GeometryType</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm5212"><h2>Description</h2><p>Renvoie le type de la géométrie sous forme de texte, par exemple : 'ST_LineString', 'ST_Polygon','ST_MultiPolygon' etc. Cette fonction diffère de GeometryType(geometry) par la casse du texte renvoyé et par le préfixe ST_ en début de texte. N'indique pas si la géométrie comporte une dimension MESURE.</p><p class="enhanced">Amélioration : 2.0.0 introduction du support des surfaces polyédriques.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.4</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm5228"><h2>Exemples</h2><pre class="programlisting">SELECT ST_GeometryType(ST_GeomFromText('LINESTRING(77.29 29.07,77.42 29.26,77.27 29.31,77.29 29.07)'));
                        --result
                        ST_LineString</pre><pre class="programlisting">SELECT ST_GeometryType(ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'));
                        --result
                        ST_PolyhedralSurface</pre><pre class="programlisting">SELECT ST_GeometryType(ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'));
                        --result
                        ST_PolyhedralSurface</pre><pre class="programlisting">SELECT ST_GeometryType(geom) as result
  FROM
    (SELECT
       ST_GeomFromEWKT('TIN (((
                0 0 0,
                0 0 1,
                0 1 0,
                0 0 0
            )), ((
                0 0 0,
                0 1 0,
                1 1 0,
                0 0 0
            ))
            )')  AS geom
    ) AS g;
 result
--------
 ST_Tin    </pre></div><div class="refsection" id="idm5234"><h2>Voir aussi</h2><p><a class="xref" href="#GeometryType" title="GeometryType">GeometryType</a></p></div></div><div class="refentry" id="ST_HasArc"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_HasArc — Teste si une géométrie contient un arc de cercle</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_HasArc</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm5250"><h2>Description</h2><p>Renvoie true si une géométrie ou une collection de géométries contient une circular string</p><p class="availability">Disponibilité : 1.2.3 ?</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm5262"><h2>Exemples</h2><pre class="programlisting">SELECT ST_HasArc(ST_Collect('LINESTRING(1 2, 3 4, 5 6)', 'CIRCULARSTRING(1 1, 2 3, 4 5, 6 7, 5 6)'));
                st_hasarc
                --------
                t
                </pre></div><div class="refsection" id="idm5265"><h2>Voir aussi</h2><p><a class="xref" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a>, <a class="xref" href="#ST_LineToCurve" title="ST_LineToCurve">ST_LineToCurve</a></p></div></div><div class="refentry" id="ST_InteriorRingN"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_InteriorRingN — Renvoie le Nième anneau intérieur (trou) d'un polygone.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_InteriorRingN</strong>(</code>geometry  <var class="pdparam">a_polygon</var>, integer  <var class="pdparam">n</var><code>)</code>;</p></div></div><div class="refsection" id="idm5285"><h2>Description</h2><p>Renvoie le Nième anneau intérieur (trou) d'une géométrie POLYGONE sous forme de LINESTRING. L'indice commence à 1. Renvoie NULL si la géométrie n'est pas un polygone ou si l'indice est hors de la plage.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction ne prend pas en charge les MULTIPOLYGONES. Pour les MULTIPOLYGONs, utilisez conjointement avec <a class="xref" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a> ou <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a> </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 8.2.6, 8.3.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm5305"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_InteriorRingN(geom, 1)) As geom
FROM (SELECT ST_BuildArea(
                ST_Collect(ST_Buffer(ST_Point(1,2), 20,3),
                        ST_Buffer(ST_Point(1, 2), 10,3))) As geom
                )  as foo;
                </pre></div><div class="refsection" id="idm5308"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a>, <a class="xref" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea</a>, <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_NumInteriorRing" title="ST_NumInteriorRing">ST_NumInteriorRing</a>, <a class="xref" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a> </p></div></div><div class="refentry" id="ST_NumCurves"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NumCurves — Renvoie le nombre de courbes composantes d'une CompoundCurve.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NumCurves</strong>(</code>geometry  <var class="pdparam">a_compoundcurve</var><code>)</code>;</p></div></div><div class="refsection" id="idm5329"><h2>Description</h2><p>Renvoie le nombre de courbes composantes d'une CompoundCurve, zéro pour une CompoundCurve vide, ou NULL pour une entrée qui n'est pas une CompoundCurve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 8.2.6, 8.3.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm5340"><h2>Exemples</h2><pre class="programlisting">-- Returns 3
SELECT ST_NumCurves('COMPOUNDCURVE(
    (2 2, 2.5 2.5),
    CIRCULARSTRING(2.5 2.5, 4.5 2.5, 3.5 3.5),
    (3.5 3.5, 2.5 4.5, 3 5, 2 2)
  )');

-- Returns 0
SELECT ST_NumCurves('COMPOUNDCURVE EMPTY');
        </pre></div><div class="refsection" id="idm5343"><h2>Voir aussi</h2><p><a class="xref" href="#ST_CurveN" title="ST_CurveN">ST_CurveN</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a>, <a class="xref" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a>, <a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> </p></div></div><div class="refentry" id="ST_CurveN"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CurveN — Renvoie la Nième courbe composante d'une CompoundCurve.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CurveN</strong>(</code>geometry  <var class="pdparam">a_compoundcurve</var>, integer  <var class="pdparam">index</var><code>)</code>;</p></div></div><div class="refsection" id="idm5366"><h2>Description</h2><p>Renvoie la Nièmecourbe composante d'une CompoundCurve. L'index commence à 1. Renvoie NULL si la géométrie n'est pas une CompoundCurve ou si l'index est hors de la plage.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 8.2.6, 8.3.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm5377"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_CurveN('COMPOUNDCURVE(
    (2 2, 2.5 2.5),
    CIRCULARSTRING(2.5 2.5, 4.5 2.5, 3.5 3.5),
    (3.5 3.5, 2.5 4.5, 3 5, 2 2)
  )', 1));
        </pre></div><div class="refsection" id="idm5380"><h2>Voir aussi</h2><p><a class="xref" href="#ST_NumCurves" title="ST_NumCurves">ST_NumCurves</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a>, <a class="xref" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a>, <a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> </p></div></div><div class="refentry" id="ST_IsClosed"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsClosed — Teste si les points de départ et d'arrivée d'une LineString coïncident. Pour une PolyhedralSurface, teste si elle est fermée (volumétrique). </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsClosed</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm5400"><h2>Description</h2><p>Renvoie <code class="varname">TRUE</code> si les premier et dernier points de la <code class="varname">LINESTRING</code> sont identiques. Pour les surface polyhédriques, indique si la surface est surfacique (ouverte) ou volumétrique (fermée).</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 7.1.5, 9.3.3</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>SQL-MM définit le résultat de <code class="code">ST_IsClosed(NULL)</code> comme étant 0, alors que PostGIS renvoie <code class="varname">NULL</code>.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p class="enhanced">Amélioration : 2.0.0 introduction du support des surfaces polyédriques.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm5431"><h2>Exemples de lignes et de points</h2><pre class="programlisting">postgis=# SELECT ST_IsClosed('LINESTRING(0 0, 1 1)'::geometry);
 st_isclosed
-------------
 f
(1 row)

postgis=# SELECT ST_IsClosed('LINESTRING(0 0, 0 1, 1 1, 0 0)'::geometry);
 st_isclosed
-------------
 t
(1 row)

postgis=# SELECT ST_IsClosed('MULTILINESTRING((0 0, 0 1, 1 1, 0 0),(0 0, 1 1))'::geometry);
 st_isclosed
-------------
 f
(1 row)

postgis=# SELECT ST_IsClosed('POINT(0 0)'::geometry);
 st_isclosed
-------------
 t
(1 row)

postgis=# SELECT ST_IsClosed('MULTIPOINT((0 0), (1 1))'::geometry);
 st_isclosed
-------------
 t
(1 row)</pre></div><div class="refsection" id="idm5434"><h2>Exemples : surfaces polyédriques</h2><pre class="programlisting">-- A cube --
                SELECT ST_IsClosed(ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'));

 st_isclosed
-------------
 t


 -- Same as cube but missing a side --
 SELECT ST_IsClosed(ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)) )'));

 st_isclosed
-------------
 f

</pre></div><div class="refsection" id="idm5437"><h2>Voir aussi</h2><p><a class="xref" href="#ST_IsRing" title="ST_IsRing">ST_IsRing</a></p></div></div><div class="refentry" id="ST_IsCollection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsCollection — Teste si une géométrie est un type de collection de géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsCollection</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm5453"><h2>Description</h2><p>Renvoie <code class="varname">TRUE</code> si le type de géométrie de l'argument est un type de collection de géométrie. Les types de collection sont les suivants : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>GEOMETRYCOLLECTION</p></li><li class="listitem"><p>MULTI{POINT,POLYGON,LINESTRING,CURVE,SURFACE}</p></li><li class="listitem"><p>COMPOUNDCURVE</p></li></ul></div><p>
                </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction analyse le type de la géométrie. Renvoie <code class="varname">TRUE</code> pour les collections vides ou ne contenant qu'un seul élément. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm5475"><h2>Exemples</h2><pre class="programlisting">postgis=# SELECT ST_IsCollection('LINESTRING(0 0, 1 1)'::geometry);
 st_iscollection
-------------
 f
(1 row)

postgis=# SELECT ST_IsCollection('MULTIPOINT EMPTY'::geometry);
 st_iscollection
-------------
 t
(1 row)

postgis=# SELECT ST_IsCollection('MULTIPOINT((0 0))'::geometry);
 st_iscollection
-------------
 t
(1 row)

postgis=# SELECT ST_IsCollection('MULTIPOINT((0 0), (42 42))'::geometry);
 st_iscollection
-------------
 t
(1 row)

postgis=# SELECT ST_IsCollection('GEOMETRYCOLLECTION(POINT(0 0))'::geometry);
 st_iscollection
-------------
 t
(1 row)</pre></div><div class="refsection" id="idm5478"><h2>Voir aussi</h2><p><a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a></p></div></div><div class="refentry" id="ST_IsEmpty"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsEmpty — Teste si une géométrie est vide.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsEmpty</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm5494"><h2>Description</h2><p>Renvoie true si cette géométrie est une géométrie vide. Si vrai, alors cette géométrie représente une collection de géométrie vide, un polygone, un point, etc.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La norme SQL-MM stipule que ST_IsEmpty(NULL) doit renvoyer 0. PostGIS renvoie NULL.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.7</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Modifié : 2.0.0 Dans les versions précédentes de PostGIS, ST_GeomFromText('GEOMETRYCOLLECTION(EMPTY)') était autorisé. Ceci est maintenant illégal dans PostGIS 2.0.0 pour mieux se conformer aux normes SQL/MM</p></td></tr></table></div></div><div class="refsection" id="idm5514"><h2>Exemples</h2><pre class="programlisting">SELECT ST_IsEmpty(ST_GeomFromText('GEOMETRYCOLLECTION EMPTY'));
 st_isempty
------------
 t
(1 row)

 SELECT ST_IsEmpty(ST_GeomFromText('POLYGON EMPTY'));
 st_isempty
------------
 t
(1 row)

SELECT ST_IsEmpty(ST_GeomFromText('POLYGON((1 2, 3 4, 5 6, 1 2))'));

 st_isempty
------------
 f
(1 row)

 SELECT ST_IsEmpty(ST_GeomFromText('POLYGON((1 2, 3 4, 5 6, 1 2))')) = false;
 ?column?
----------
 t
(1 row)

 SELECT ST_IsEmpty(ST_GeomFromText('CIRCULARSTRING EMPTY'));
  st_isempty
------------
 t
(1 row)


                </pre></div></div><div class="refentry" id="ST_IsPolygonCCW"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsPolygonCCW  — Teste si les polygones ont des anneaux extérieurs orientés dans le sens inverse des aiguilles d'une montre et des anneaux intérieurs orientés dans le sens des aiguilles d'une montre. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef"> boolean <strong class="fsfunc">ST_IsPolygonCCW</strong> (</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm5529"><h2>Description</h2><p>Renvoie un résultat positif si tous les composants polygonaux de la géométrie en entrée utilisent une orientation anti-horaire pour leur anneau extérieur et une orientation horaire pour tous les anneaux intérieurs. </p><p>Retourne vrai si la géométrie n'a pas de composants polygonaux. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les lignes fermées ne sont pas considérées comme des composants polygonaux, de sorte que vous obtiendrez toujours un retour vrai en passant une seule ligne fermée, quelle que soit son orientation. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si une géométrie polygonale n'utilise pas l'orientation inversée pour les anneaux intérieurs (c'est-à-dire si un ou plusieurs anneaux intérieurs sont orientés dans la même direction qu'un anneau extérieur), ST_IsPolygonCW et ST_IsPolygonCCW renvoient tous deux la valeur false. </p></td></tr></table></div><p class="availability">Disponibilité : 2.4.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les coordonnées M. </p></div><div class="refsection" id="idm5546"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a>, <a class="xref" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a>, <a class="xref" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a> </p></div></div><div class="refentry" id="ST_IsPolygonCW"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsPolygonCW  — Teste si les polygones ont des anneaux extérieurs orientés dans le sens des aiguilles d'une montre et des anneaux intérieurs orientés dans le sens inverse des aiguilles d'une montre. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef"> boolean <strong class="fsfunc">ST_IsPolygonCW</strong> (</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm5564"><h2>Description</h2><p>Renvoie un résultat positif si tous les composants polygonaux de la géométrie d'entrée utilisent une orientation dans le sens des aiguilles d'une montre pour leur anneau extérieur, et dans le sens inverse des aiguilles d'une montre pour tous les anneaux intérieurs. </p><p>Retourne vrai si la géométrie n'a pas de composants polygonaux. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les lignes fermées ne sont pas considérées comme des composants polygonaux, de sorte que vous obtiendrez toujours un retour vrai en passant une seule ligne fermée, quelle que soit son orientation. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si une géométrie polygonale n'utilise pas l'orientation inversée pour les anneaux intérieurs (c'est-à-dire si un ou plusieurs anneaux intérieurs sont orientés dans la même direction qu'un anneau extérieur), ST_IsPolygonCW et ST_IsPolygonCCW renvoient tous deux la valeur false. </p></td></tr></table></div><p class="availability">Disponibilité : 2.4.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les coordonnées M. </p></div><div class="refsection" id="idm5581"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a>, <a class="xref" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a>, <a class="xref" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a> </p></div></div><div class="refentry" id="ST_IsRing"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsRing — Teste si une ligne est fermée et simple.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsRing</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm5599"><h2>Description</h2><p>Renvoie <code class="varname">TRUE</code> si cette <code class="varname">LINESTRING</code> est à la fois <a class="xref" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a> (<code class="code">ST_StartPoint(g) ~= ST_Endpoint(g)</code>) et <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a> (ne s'intersecte pas).</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  2.1.5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 7.1.6</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>SQL-MM définit le résultat de <code class="code">ST_IsRing(NULL)</code> comme étant 0, alors que PostGIS renvoie <code class="varname">NULL</code>.</p></td></tr></table></div></div><div class="refsection" id="idm5620"><h2>Exemples</h2><pre class="programlisting">SELECT ST_IsRing(geom), ST_IsClosed(geom), ST_IsSimple(geom)
FROM (SELECT 'LINESTRING(0 0, 0 1, 1 1, 1 0, 0 0)'::geometry AS geom) AS foo;
 st_isring | st_isclosed | st_issimple
-----------+-------------+-------------
 t         | t           | t
(1 row)

SELECT ST_IsRing(geom), ST_IsClosed(geom), ST_IsSimple(geom)
FROM (SELECT 'LINESTRING(0 0, 0 1, 1 0, 1 1, 0 0)'::geometry AS geom) AS foo;
 st_isring | st_isclosed | st_issimple
-----------+-------------+-------------
 f         | t           | f
(1 row)</pre></div><div class="refsection" id="idm5623"><h2>Voir aussi</h2><p><a class="xref" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a>, <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>, <a class="xref" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a>, <a class="xref" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a></p></div></div><div class="refentry" id="ST_IsSimple"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsSimple — Teste si une géométrie n'a pas de points d'auto-intersection ou d'auto-tangente.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsSimple</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm5642"><h2>Description</h2><p>Renvoie TRUE si cette géométrie ne présente pas d'anomalie comme une auto intersection ou des segments tangentiels. Pour plus d'information sur les notions OGC de simplicité et de validité, se référer à <a class="link" href="#OGC_Validity" title="4.4. Validation de la géométrie">"Ensuring OpenGIS compliance of geometries"</a></p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La norme SQL-MM indique que le résultat de la fonction ST_IsSimple(NULL) doit être 0 ; PostGIS renvoie NULL.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.8</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm5661"><h2>Exemples</h2><pre class="programlisting">SELECT ST_IsSimple(ST_GeomFromText('POLYGON((1 2, 3 4, 5 6, 1 2))'));
 st_issimple
-------------
 f
(1 row)

 SELECT ST_IsSimple(ST_GeomFromText('LINESTRING(1 1,2 2,2 3.5,1 3,1 2,2 1)'));
 st_issimple
-------------
 f
(1 row)</pre></div><div class="refsection" id="idm5664"><h2>Voir aussi</h2><p><a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a></p></div></div><div class="refentry" id="ST_M"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_M — Renvoie la coordonnée M d'un point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_M</strong>(</code>geometry  <var class="pdparam">a_point</var><code>)</code>;</p></div></div><div class="refsection" id="idm5680"><h2>Description</h2><p>Retourne les coordonnées M d'un point, ou NULL si non disponible. L'entrée doit être un point.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction ne fait pas (encore) partie de la spécification de l'OGC, mais elle est mentionnée ici pour compléter la liste des fonctions de l'extracteur de coordonnées de points.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm5698"><h2>Exemples</h2><pre class="programlisting">SELECT ST_M(ST_GeomFromEWKT('POINT(1 2 3 4)'));
 st_m
------
        4
(1 row)

                </pre></div><div class="refsection" id="idm5701"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_X" title="ST_X">ST_X</a>, <a class="xref" href="#ST_Y" title="ST_Y">ST_Y</a>, <a class="xref" href="#ST_Z" title="ST_Z">ST_Z</a></p></div></div><div class="refentry" id="ST_MemSize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MemSize — Renvoie la quantité d'espace mémoire que prend une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_MemSize</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm5720"><h2>Description</h2><p>Renvoie la quantité d'espace mémoire (en octets) que prend la géométrie. </p><p>Ceci complète les fonctions intégrées de PostgreSQL <a class="link" href="https://www.postgresql.org/docs/current/functions-admin.html#FUNCTIONS-ADMIN-DBOBJECT" target="_top">fonctions d'objet de base de données</a> pg_column_size, pg_size_pretty, pg_relation_size, pg_total_relation_size.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>pg_relation_size qui donne la taille en octets d'une table peut renvoyer une taille en octets inférieure à ST_MemSize. Cela est dû au fait que pg_relation_size n'ajoute pas la contribution des tables toasted et que les grandes géométries sont stockées dans les tables TOAST.</p><p>pg_total_relation_size - comprend la table, les tables toasted et les index.</p><p>pg_column_size indique l'espace que prendrait une géométrie dans une colonne en tenant compte de la compression, et peut donc être inférieur à ST_MemSize</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p class="changed">Modifié : 2.2.0 nom modifié en ST_MemSize pour respecter la convention de nommage.</p></div><div class="refsection" id="idm5746"><h2>Exemples</h2><pre class="programlisting">--Return how much byte space Boston takes up  in our Mass data set
SELECT pg_size_pretty(SUM(ST_MemSize(geom))) as totgeomsum,
pg_size_pretty(SUM(CASE WHEN town = 'BOSTON' THEN ST_MemSize(geom) ELSE 0 END)) As bossum,
CAST(SUM(CASE WHEN town = 'BOSTON' THEN ST_MemSize(geom) ELSE 0 END)*1.00 /
                SUM(ST_MemSize(geom))*100 As numeric(10,2)) As perbos
FROM towns;

totgeomsum        bossum        perbos
----------        ------        ------
1522 kB                30 kB        1.99


SELECT ST_MemSize(ST_GeomFromText('CIRCULARSTRING(220268 150415,220227 150505,220227 150406)'));

---
73

--What percentage of our table is taken up by just the geometry
SELECT pg_total_relation_size('public.neighborhoods') As fulltable_size, sum(ST_MemSize(geom)) As geomsize,
sum(ST_MemSize(geom))*1.00/pg_total_relation_size('public.neighborhoods')*100 As pergeom
FROM neighborhoods;
fulltable_size geomsize  pergeom
------------------------------------------------
262144         96238         36.71188354492187500000
        </pre></div></div><div class="refentry" id="ST_NDims"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NDims — Renvoie la dimension des coordonnées d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NDims</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm5761"><h2>Description</h2><p>Renvoie la dimension des coordonnées de la géométrie. PostGIS supporte 2 - (x,y) , 3 - (x,y,z) ou 2D avec mesure - x,y,m, et 4 - 3D avec espace de mesure x,y,z,m</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm5768"><h2>Exemples</h2><pre class="programlisting">SELECT ST_NDims(ST_GeomFromText('POINT(1 1)')) As d2point,
        ST_NDims(ST_GeomFromEWKT('POINT(1 1 2)')) As d3point,
        ST_NDims(ST_GeomFromEWKT('POINTM(1 1 0.5)')) As d2pointm;

         d2point | d3point | d2pointm
---------+---------+----------
           2 |       3 |        3
                        </pre></div><div class="refsection" id="idm5771"><h2>Voir aussi</h2><p><a class="xref" href="#ST_CoordDim" title="ST_CoordDim">ST_CoordDim</a>, <a class="xref" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a></p></div></div><div class="refentry" id="ST_NPoints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NPoints — Retourne le nombre de points (vertex) d'un objet géométrique.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NPoints</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm5789"><h2>Description</h2><p>Retourne le nombre de points d'un objet géométrique. Cela fonctionne pour tous les types de géométrie.</p><p class="enhanced">Amélioration : 2.0.0 introduction du support des surfaces polyédriques.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Avant la version 1.3.4, cette fonction se bloquait si elle était utilisée avec des géométries contenant des CURVES. Ce problème est corrigé dans la version 1.3.4+</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm5807"><h2>Exemples</h2><pre class="programlisting">SELECT ST_NPoints(ST_GeomFromText('LINESTRING(77.29 29.07,77.42 29.26,77.27 29.31,77.29 29.07)'));
--result
4

--Polygon in 3D space
SELECT ST_NPoints(ST_GeomFromEWKT('LINESTRING(77.29 29.07 1,77.42 29.26 0,77.27 29.31 -1,77.29 29.07 3)'))
--result
4</pre></div><div class="refsection" id="idm5810"><h2>Voir aussi</h2><p><a class="xref" href="#ST_NumPoints" title="ST_NumPoints">ST_NumPoints</a></p></div></div><div class="refentry" id="ST_NRings"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NRings — Renvoie le nombre d'anneaux dans une géométrie polygonale.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NRings</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm5826"><h2>Description</h2><p>Si la géométrie est un polygone ou un multi-polygone, renvoie le nombre d'anneaux. Contrairement à NumInteriorRings, il compte également les anneaux extérieurs.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm5837"><h2>Exemples</h2><pre class="programlisting">SELECT ST_NRings(geom) As Nrings, ST_NumInteriorRings(geom) As ninterrings
                                        FROM (SELECT ST_GeomFromText('POLYGON((1 2, 3 4, 5 6, 1 2))') As geom) As foo;
         nrings | ninterrings
--------+-------------
          1 |           0
(1 row)
</pre></div><div class="refsection" id="idm5840"><h2>Voir aussi</h2><p><a class="xref" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a></p></div></div><div class="refentry" id="ST_NumGeometries"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NumGeometries — Renvoie le nombre d'éléments dans une collection de géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NumGeometries</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm5856"><h2>Description</h2><p>Renvoie le nombre d'éléments d'une collection de géométries (GEOMETRYCOLLECTION ou MULTI*). Pour les géométries atomiques non vides, le résultat est 1. Pour les géométries vides, le résultat est 0. </p><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p class="changed">Modifié : 2.0.0 Dans les versions précédentes, cette fonction renvoyait NULL si la géométrie n'était pas de type collection/MULTI. 2.0.0+ renvoie maintenant 1 pour les géométries simples, par exemple POLYGONE, LINESTRING, POINT.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 9.1.4</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm5877"><h2>Exemples</h2><pre class="programlisting">--Prior versions would have returned NULL for this -- in 2.0.0 this returns 1
SELECT ST_NumGeometries(ST_GeomFromText('LINESTRING(77.29 29.07,77.42 29.26,77.27 29.31,77.29 29.07)'));
--result
1

--Geometry Collection Example - multis count as one geom in a collection
SELECT ST_NumGeometries(ST_GeomFromEWKT('GEOMETRYCOLLECTION(MULTIPOINT((-2 3),(-2 2)),
LINESTRING(5 5 ,10 10),
POLYGON((-7 4.2,-7.1 5,-7.1 4.3,-7 4.2)))'));
--result
3
</pre></div><div class="refsection" id="idm5880"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a>, <a class="xref" href="#ST_Multi" title="ST_Multi">ST_Multi</a></p></div></div><div class="refentry" id="ST_NumInteriorRings"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NumInteriorRings — Renvoie le nombre d'anneaux intérieurs (trous) d'un polygone.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NumInteriorRings</strong>(</code>geometry  <var class="pdparam">a_polygon</var><code>)</code>;</p></div></div><div class="refsection" id="idm5897"><h2>Description</h2><p>Renvoie le nombre d'anneaux intérieurs d'une géométrie polygonale. Retourne NULL si la géométrie n'est pas un polygone. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 8.2.5</p><p class="changed">Modifié : 2.0.0 - dans les versions antérieures, il permettait de passer un MULTIPOLYGONE, renvoyant le nombre d'anneaux intérieurs du premier POLYGONE.</p></div><div class="refsection" id="idm5905"><h2>Exemples</h2><pre class="programlisting">--If you have a regular polygon
SELECT gid, field1, field2, ST_NumInteriorRings(geom) AS numholes
FROM sometable;

--If you have multipolygons
--And you want to know the total number of interior rings in the MULTIPOLYGON
SELECT gid, field1, field2, SUM(ST_NumInteriorRings(geom)) AS numholes
FROM (SELECT gid, field1, field2, (ST_Dump(geom)).geom As geom
        FROM sometable) As foo
GROUP BY gid, field1,field2;
                        </pre></div><div class="refsection" id="idm5908"><h2>Voir aussi</h2><p><a class="xref" href="#ST_NumInteriorRing" title="ST_NumInteriorRing">ST_NumInteriorRing</a>, <a class="xref" href="#ST_InteriorRingN" title="ST_InteriorRingN">ST_InteriorRingN</a></p></div></div><div class="refentry" id="ST_NumInteriorRing"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NumInteriorRing — Renvoie le nombre d'anneaux intérieurs (trous) d'un polygone. Alias pour ST_NumInteriorRings</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NumInteriorRing</strong>(</code>geometry  <var class="pdparam">a_polygon</var><code>)</code>;</p></div></div><div class="refsection" id="idm5925"><h2>Voir aussi</h2><p><a class="xref" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a>, <a class="xref" href="#ST_InteriorRingN" title="ST_InteriorRingN">ST_InteriorRingN</a></p></div></div><div class="refentry" id="ST_NumPatches"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NumPatches — Renvoie le nombre de faces d'une surface polyédrique. Retourne null pour les géométries non polyédriques.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NumPatches</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm5942"><h2>Description</h2><p>Renvoie le nombre de faces d'une surface polyédrique. Retourne null pour les géométries non polyédriques. C'est un alias de ST_NumGeometries pour supporter le nommage MM. Il est plus rapide d'utiliser ST_NumGeometries si vous ne vous souciez pas de la convention MM.</p><p class="availability">Disponibilité : 2.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM ISO/IEC 13249-3 : 8.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm5963"><h2>Exemples</h2><pre class="programlisting">SELECT ST_NumPatches(ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'));
                --result
                6
                </pre></div><div class="refsection" id="idm5966"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a></p></div></div><div class="refentry" id="ST_NumPoints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NumPoints — Renvoie le nombre de points dans une LineString ou une CircularString.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NumPoints</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm5983"><h2>Description</h2><p>Retourne le nombre de points dans une ST_LineString ou ST_CircularString. Avant la version 1.4, cette fonction ne fonctionnait qu'avec les lignes, comme l'indiquent les spécifications. A partir de la version 1.4, il s'agit d'un alias de ST_NPoints qui renvoie le nombre de sommets, et pas seulement pour les lignes. Envisagez d'utiliser ST_NPoints à la place, qui est polyvalent et fonctionne avec de nombreux types de géométrie.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 7.2.4</p></div><div class="refsection" id="idm5995"><h2>Exemples</h2><pre class="programlisting">SELECT ST_NumPoints(ST_GeomFromText('LINESTRING(77.29 29.07,77.42 29.26,77.27 29.31,77.29 29.07)'));
                --result
                4
                </pre></div><div class="refsection" id="idm5998"><h2>Voir aussi</h2><p><a class="xref" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a></p></div></div><div class="refentry" id="ST_PatchN"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PatchN — Renvoie la Nième géométrie (face) d'une PolyhedralSurface.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PatchN</strong>(</code>geometry  <var class="pdparam">geomA</var>, integer  <var class="pdparam">n</var><code>)</code>;</p></div></div><div class="refsection" id="idm6017"><h2>Description</h2><p>Renvoie la Nième géométrie (face) basée sur 1 si la géométrie est une POLYHEDRALSURFACE ou une POLYHEDRALSURFACEM. Sinon, elle renvoie NULL. Cette fonction renvoie la même réponse que ST_GeometryN pour PolyhedralSurfaces. L'utilisation de ST_GeometryN est plus rapide.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'indice est basé sur 1.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous voulez extraire tous les éléments d'une géométrie, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a> est plus efficace.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM ISO/IEC 13249-3 : 8.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm6038"><h2>Exemples</h2><pre class="programlisting">--Extract the 2nd face of the polyhedral surface
SELECT ST_AsEWKT(ST_PatchN(geom, 2)) As geomewkt
FROM (
VALUES (ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
        ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
        ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
        ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )')) ) As foo(geom);

              geomewkt
---+-----------------------------------------
 POLYGON((0 0 0,0 1 0,1 1 0,1 0 0,0 0 0))
</pre></div><div class="refsection" id="idm6041"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a>, <a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a></p></div></div><div class="refentry" id="ST_PointN"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointN — Renvoie le Nième point de la première LineString ou LineString circulaire d'une géométrie. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PointN</strong>(</code>geometry  <var class="pdparam">a_linestring</var>, integer  <var class="pdparam">n</var><code>)</code>;</p></div></div><div class="refsection" id="idm6064"><h2>Description</h2><p>Renvoie le Nième point d'une ligne ou d'une ligne circulaire dans la géométrie. Les valeurs négatives sont comptées à rebours à partir de la fin de la LineString, de sorte que -1 est le dernier point. Renvoie NULL s'il n'y a pas de ligne dans la géométrie.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'index est basé sur 1 comme pour les spécifications de l'OGC depuis la version 0.8.0. L'indexation à rebours (index négatif) n'est pas prévue dans les spécifications de l'OGC. Les versions précédentes l'ont implémentée en la basant sur 0.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous souhaitez obtenir le Nième point de chaque ligne dans une multiligne, utilisez ST_Dump en conjonction avec ST_Dump</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 7.2.5, 7.3.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Modifié : la version 2.0.0 ne fonctionne plus avec les multi-lignes à géométrie unique. Dans les anciennes versions de PostGIS, une multi-ligne d'une seule ligne fonctionnait parfaitement avec cette fonction et renvoyait le point de départ. Dans la version 2.0.0, elle renvoie simplement NULL comme n'importe quelle autre multi-ligne.</p><p class="changed">Modifié : 2.3.0 : indexation négative disponible (-1 est le dernier point) </p></td></tr></table></div></div><div class="refsection" id="idm6091"><h2>Exemples</h2><pre class="programlisting">-- Extract all POINTs from a LINESTRING
SELECT ST_AsText(
   ST_PointN(
          column1,
          generate_series(1, ST_NPoints(column1))
   ))
FROM ( VALUES ('LINESTRING(0 0, 1 1, 2 2)'::geometry) ) AS foo;

 st_astext
------------
 POINT(0 0)
 POINT(1 1)
 POINT(2 2)
(3 rows)

--Example circular string
SELECT ST_AsText(ST_PointN(ST_GeomFromText('CIRCULARSTRING(1 2, 3 2, 1 2)'), 2));

 st_astext
------------
 POINT(3 2)
(1 row)

SELECT ST_AsText(f)
FROM ST_GeomFromText('LINESTRING(0 0 0, 1 1 1, 2 2 2)') AS g
  ,ST_PointN(g, -2) AS f; -- 1 based index

    st_astext
-----------------
 POINT Z (1 1 1)
(1 row)

</pre></div><div class="refsection" id="idm6094"><h2>Voir aussi</h2><p><a class="xref" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a></p></div></div><div class="refentry" id="ST_Points"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Points — Renvoie un MultiPoint contenant les coordonnées d'une géométrie. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Points</strong>(</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm6110"><h2>Description</h2><p>Renvoie un MultiPoint contenant toutes les coordonnées d'une géométrie. Les points en double sont conservés, y compris les points de départ et d'arrivée des géométries en anneau. (Si vous le souhaitez, les points en double peuvent être supprimés en appelant <a class="xref" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a> sur le résultat). </p><p>Pour obtenir des informations sur la position de chaque coordonnée dans la géométrie parente, utilisez <a class="xref" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a>. </p><p>Les coordonnées M et Z sont conservées si elles sont présentes. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p class="availability">Disponibilité : 2.3.0</p></div><div class="refsection" id="idm6126"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_Points('POLYGON Z ((30 10 4,10 30 5,40 40 6, 30 10))'));

--result
MULTIPOINT Z ((30 10 4),(10 30 5),(40 40 6),(30 10 4))
                        </pre></div><div class="refsection" id="idm6129"><h2>Voir aussi</h2><p><a class="xref" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a>, <a class="xref" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a></p></div></div><div class="refentry" id="ST_StartPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_StartPoint — Renvoie le premier point d'une LineString.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_StartPoint</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm6146"><h2>Description</h2><p>Renvoie le premier point d'une géométrie <code class="varname">LINESTRING</code> ou <code class="varname">CIRCULARLINESTRING</code> comme un <code class="varname">POINT</code>. Renvoie <code class="varname">NULL</code> si l'entrée n'est pas une <code class="varname">LINESTRING</code> ou <code class="varname">CIRCULARLINESTRING</code>.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 7.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Amélioré : 3.2.0 renvoie un point pour toutes les géométries. Le comportement précédent renvoyait NULL si l'entrée n'était pas une LineString.</p><p class="changed">Modifié : 2.0.0 ne fonctionne plus avec les MultiLineStrings à géométrie unique. Dans les anciennes versions de PostGIS, une MultiLineString à géométrie unique fonctionnait sans problème avec cette fonction et renvoyait le point de départ. Dans la version 2.0.0, elle renvoie simplement NULL comme toute autre MultiLineString. L'ancien comportement était une fonctionnalité non documentée, mais les personnes qui supposaient que leurs données étaient stockées en tant que LINESTRING peuvent voir ces données retourner NULL dans la version 2.0.0.</p></td></tr></table></div></div><div class="refsection" id="idm6170"><h2>Exemples</h2><p>Point de départ d'une LineString</p><pre class="programlisting">SELECT ST_AsText(ST_StartPoint('LINESTRING(0 1, 0 2)'::geometry));
 st_astext
------------
 POINT(0 1)
</pre><p>Le point de départ d'une géométrie qui n'est pas une LineString est NULL</p><pre class="programlisting">SELECT ST_StartPoint('POINT(0 1)'::geometry) IS NULL AS is_null;
  is_null
----------
 t
</pre><p>Point de départ d'une LineString 3D</p><pre class="programlisting">SELECT ST_AsEWKT(ST_StartPoint('LINESTRING(0 1 1, 0 2 2)'::geometry));
 st_asewkt
------------
 POINT(0 1 1)
</pre><p>Point de départ d'une CircularString</p><pre class="programlisting">SELECT ST_AsText(ST_StartPoint('CIRCULARSTRING(5 2,-3 1.999999, -2 1, -4 2, 6 3)'::geometry));
 st_astext
------------
 POINT(5 2)
</pre></div><div class="refsection" id="idm6180"><h2>Voir aussi</h2><p><a class="xref" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a>, <a class="xref" href="#ST_PointN" title="ST_PointN">ST_PointN</a></p></div></div><div class="refentry" id="ST_Summary"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Summary — Renvoie un résumé textuel du contenu d'une géométrie. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_Summary</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_Summary</strong>(</code>geography  <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm6203"><h2>Description</h2><p>Renvoie un résumé textuel du contenu de la géométrie.</p><p>Les indicateurs indiqués entre crochets après le type de géométrie ont la signification suivante : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>M : possède une coordonnée M</p></li><li class="listitem"><p>Z : possède une coordonnée Z</p></li><li class="listitem"><p>B : possède une bounding box en cache</p></li><li class="listitem"><p>G : est géodésique (geography)</p></li><li class="listitem"><p>S : possède un système de référence spatiale</p></li></ul></div><p>
                </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p class="availability">Disponibilité : 1.2.2</p><p class="enhanced">Amélioré : la version 2.0.0 a ajouté la prise en charge du type geography</p><p class="enhanced">Amélioré : 2.1.0 Indicateur S pour indiquer si le système de référence spatiale est connu</p><p class="enhanced">Amélioré : 2.2.0 Ajout de la prise en charge des TIN et des courbes</p></div><div class="refsection" id="idm6234"><h2>Exemples</h2><pre class="programlisting">=# SELECT ST_Summary(ST_GeomFromText('LINESTRING(0 0, 1 1)')) as geom,
        ST_Summary(ST_GeogFromText('POLYGON((0 0, 1 1, 1 2, 1 1, 0 0))')) geog;
            geom             |          geog
-----------------------------+--------------------------
 LineString[B] with 2 points | Polygon[BGS] with 1 rings
                             | ring 0 has 5 points
                             :
(1 row)


=# SELECT ST_Summary(ST_GeogFromText('LINESTRING(0 0 1, 1 1 1)')) As geog_line,
        ST_Summary(ST_GeomFromText('SRID=4326;POLYGON((0 0 1, 1 1 2, 1 2 3, 1 1 1, 0 0 1))')) As geom_poly;
;
           geog_line             |        geom_poly
-------------------------------- +--------------------------
 LineString[ZBGS] with 2 points | Polygon[ZBS] with 1 rings
                                :    ring 0 has 5 points
                                :
(1 row)

</pre></div><div class="refsection" id="idm6237"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_DropBBox" title="PostGIS_DropBBox">PostGIS_DropBBox</a>, <a class="xref" href="#PostGIS_AddBBox" title="PostGIS_AddBBox">PostGIS_AddBBox</a>, <a class="xref" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a>, <a class="xref" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a>, <a class="xref" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>, <a class="xref" href="#geography" title="geography">geography</a> </p><p><a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_IsValidReason" title="ST_IsValidReason">ST_IsValidReason</a>, <a class="xref" href="#ST_IsValidDetail" title="ST_IsValidDetail">ST_IsValidDetail</a> </p></div></div><div class="refentry" id="ST_X"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_X — Renvoie la coordonnée X d'un point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_X</strong>(</code>geometry  <var class="pdparam">a_point</var><code>)</code>;</p></div></div><div class="refsection" id="idm6263"><h2>Description</h2><p>Renvoie la coordonnée X du point, ou NULL si elle n'est pas disponible. L'entrée doit être un point.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour obtenir les valeurs X minimale et maximale des coordonnées géométriques, utilisez les fonctions <a class="xref" href="#ST_XMin" title="ST_XMin">ST_XMin</a> et <a class="xref" href="#ST_XMax" title="ST_XMax">ST_XMax</a>.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 6.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm6278"><h2>Exemples</h2><pre class="programlisting">SELECT ST_X(ST_GeomFromEWKT('POINT(1 2 3 4)'));
 st_x
------
        1
(1 row)

SELECT ST_Y(ST_Centroid(ST_GeomFromEWKT('LINESTRING(1 2 3 4, 1 1 1 1)')));
 st_y
------
  1.5
(1 row)

                </pre></div><div class="refsection" id="idm6281"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_M" title="ST_M">ST_M</a>, <a class="xref" href="#ST_XMax" title="ST_XMax">ST_XMax</a>, <a class="xref" href="#ST_XMin" title="ST_XMin">ST_XMin</a>, <a class="xref" href="#ST_Y" title="ST_Y">ST_Y</a>, <a class="xref" href="#ST_Z" title="ST_Z">ST_Z</a></p></div></div><div class="refentry" id="ST_Y"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Y — Renvoie la coordonnée Y d'un point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Y</strong>(</code>geometry  <var class="pdparam">a_point</var><code>)</code>;</p></div></div><div class="refsection" id="idm6303"><h2>Description</h2><p>Renvoie la coordonnée Y du point, ou NULL si elle n'est pas disponible. L'entrée doit être un point.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour obtenir les valeurs minimale et maximale en Y des coordonnées géométriques, utilisez les fonctions <a class="xref" href="#ST_YMin" title="ST_YMin">ST_YMin</a> et <a class="xref" href="#ST_YMax" title="ST_YMax">ST_YMax</a>.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 6.1.4</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm6323"><h2>Exemples</h2><pre class="programlisting">SELECT ST_Y(ST_GeomFromEWKT('POINT(1 2 3 4)'));
 st_y
------
        2
(1 row)

SELECT ST_Y(ST_Centroid(ST_GeomFromEWKT('LINESTRING(1 2 3 4, 1 1 1 1)')));
 st_y
------
  1.5
(1 row)


                </pre></div><div class="refsection" id="idm6326"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_M" title="ST_M">ST_M</a>, <a class="xref" href="#ST_X" title="ST_X">ST_X</a>, <a class="xref" href="#ST_YMax" title="ST_YMax">ST_YMax</a>, <a class="xref" href="#ST_YMin" title="ST_YMin">ST_YMin</a>, <a class="xref" href="#ST_Z" title="ST_Z">ST_Z</a></p></div></div><div class="refentry" id="ST_Z"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Z — Renvoie la coordonnée Z d'un point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Z</strong>(</code>geometry  <var class="pdparam">a_point</var><code>)</code>;</p></div></div><div class="refsection" id="idm6348"><h2>Description</h2><p>Renvoie la coordonnée Z du point, ou NULL si elle n'est pas disponible. L'entrée doit être un point.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour obtenir les valeurs minimale et maximale de Z des coordonnées géométriques, utilisez les fonctions <a class="xref" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a> et <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a>.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm6363"><h2>Exemples</h2><pre class="programlisting">SELECT ST_Z(ST_GeomFromEWKT('POINT(1 2 3 4)'));
 st_z
------
        3
(1 row)

                </pre></div><div class="refsection" id="idm6366"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_M" title="ST_M">ST_M</a>, <a class="xref" href="#ST_X" title="ST_X">ST_X</a>, <a class="xref" href="#ST_Y" title="ST_Y">ST_Y</a>, <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a>, <a class="xref" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a> </p></div></div><div class="refentry" id="ST_Zmflag"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Zmflag — Retourne un code indiquant la dimension des coordonnées ZM d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">smallint <strong class="fsfunc">ST_Zmflag</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm6387"><h2>Description</h2><p>Retourne un code indiquant la dimension des coordonnées ZM d'une géométrie. </p><p>Les valeurs sont les suivantes : 0 = 2D, 1 = 3D-M, 2 = 3D-Z, 3 = 4D.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm6399"><h2>Exemples</h2><pre class="programlisting">SELECT ST_Zmflag(ST_GeomFromEWKT('LINESTRING(1 2, 3 4)'));
 st_zmflag
-----------
                 0

SELECT ST_Zmflag(ST_GeomFromEWKT('LINESTRINGM(1 2 3, 3 4 3)'));
 st_zmflag
-----------
                 1

SELECT ST_Zmflag(ST_GeomFromEWKT('CIRCULARSTRING(1 2 3, 3 4 3, 5 6 3)'));
 st_zmflag
-----------
                 2
SELECT ST_Zmflag(ST_GeomFromEWKT('POINT(1 2 3 4)'));
 st_zmflag
-----------
                 3
</pre></div><div class="refsection" id="idm6402"><h2>Voir aussi</h2><p><a class="xref" href="#ST_CoordDim" title="ST_CoordDim">ST_CoordDim</a>, <a class="xref" href="#ST_NDims" title="ST_NDims">ST_NDims</a>, <a class="xref" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a></p></div></div><div class="refentry" id="ST_HasZ"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_HasZ — Vérifie si une géométrie possède une dimension Z.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_HasZ</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm6420"><h2>Description</h2><p>Vérifie si la géométrie d'entrée a une dimension Z et renvoie une valeur booléenne. Si la géométrie a une dimension Z, le résultat est vrai ; sinon, il est faux.</p><p>Les objets géométriques dotés d'une dimension Z représentent généralement des géométries tridimensionnelles (3D), tandis que ceux qui en sont dépourvus sont des géométries bidimensionnelles (2D).</p><p>Cette fonction est utile pour déterminer si une géométrie contient des informations sur l'altitude ou la hauteur.</p><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les coordonnées M. </p></div><div class="refsection" id="idm6434"><h2>Exemples</h2><pre class="programlisting">SELECT ST_HasZ(ST_GeomFromText('POINT(1 2 3)'));
 --result
 true
</pre><pre class="programlisting">SELECT ST_HasZ(ST_GeomFromText('LINESTRING(0 0, 1 1)'));
 --result
 false
</pre></div><div class="refsection" id="idm6438"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Zmflag" title="ST_Zmflag">ST_Zmflag</a></p><p><a class="xref" href="#ST_HasM" title="ST_HasM">ST_HasM</a></p></div></div><div class="refentry" id="ST_HasM"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_HasM — Vérifie si une géométrie a une dimension M (mesure).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_HasM</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm6456"><h2>Description</h2><p>Vérifie si la géométrie d'entrée a une dimension M (mesure) et renvoie une valeur booléenne. Si la géométrie a une dimension M, il renvoie vrai ; sinon, il renvoie faux.</p><p>Les objets géométriques de dimension M représentent généralement des mesures ou des données supplémentaires associées à des entités spatiales.</p><p>Cette fonction est utile pour déterminer si une géométrie contient des informations de mesure.</p><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les coordonnées M. </p></div><div class="refsection" id="idm6470"><h2>Exemples</h2><pre class="programlisting">SELECT ST_HasM(ST_GeomFromText('POINTM(1 2 3)'));
 --result
 true
</pre><pre class="programlisting">SELECT ST_HasM(ST_GeomFromText('LINESTRING(0 0, 1 1)'));
 --result
 false
</pre></div><div class="refsection" id="idm6474"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Zmflag" title="ST_Zmflag">ST_Zmflag</a></p><p><a class="xref" href="#ST_HasZ" title="ST_HasZ">ST_HasZ</a></p></div></div></section><section class="section" id="Geometry_Editors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.5. Éditeurs de géométrie</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions créent des géométries modifiées en changeant le type, la structure ou les sommets. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_AddPoint">ST_AddPoint</a></span><span class="refpurpose"> — Ajoute un point à une LineString.</span></li><li><span class="refentrytitle"><a href="#ST_CollectionExtract">ST_CollectionExtract</a></span><span class="refpurpose"> — Pour une collection de géométries spécifiée, renvoie une multi-géométrie contenant uniquement des éléments d'un type spécifié. </span></li><li><span class="refentrytitle"><a href="#ST_CollectionHomogenize">ST_CollectionHomogenize</a></span><span class="refpurpose"> — Renvoie la représentation la plus simple d'une collection de géométries. </span></li><li><span class="refentrytitle"><a href="#ST_CurveToLine">ST_CurveToLine</a></span><span class="refpurpose"> — Convertit une géométrie contenant des courbes en une géométrie linéaire.</span></li><li><span class="refentrytitle"><a href="#ST_Scroll">ST_Scroll</a></span><span class="refpurpose"> — Modifier le point de départ d'une LineString fermée.</span></li><li><span class="refentrytitle"><a href="#ST_FlipCoordinates">ST_FlipCoordinates</a></span><span class="refpurpose"> — Renvoie une version d'une géométrie dont les axes X et Y sont inversés. </span></li><li><span class="refentrytitle"><a href="#ST_Force2D">ST_Force2D</a></span><span class="refpurpose"> — Forcer les géométries à passer en "mode bidimensionnel".</span></li><li><span class="refentrytitle"><a href="#ST_Force_3D">ST_Force3D</a></span><span class="refpurpose"> — Force les géométries en mode XYZ. Il s'agit d'un alias de ST_Force3DZ.</span></li><li><span class="refentrytitle"><a href="#ST_Force_3DZ">ST_Force3DZ</a></span><span class="refpurpose"> — Forcer les géométries en mode XYZ.</span></li><li><span class="refentrytitle"><a href="#ST_Force_3DM">ST_Force3DM</a></span><span class="refpurpose"> — Forcer les géométries en mode XYM.</span></li><li><span class="refentrytitle"><a href="#ST_Force_4D">ST_Force4D</a></span><span class="refpurpose"> — Forcer les géométries en mode XYZM. </span></li><li><span class="refentrytitle"><a href="#ST_Force_Collection">ST_ForceCollection</a></span><span class="refpurpose"> — Convertir la géométrie en une GEOMETRYCOLLECTION.</span></li><li><span class="refentrytitle"><a href="#ST_ForceCurve">ST_ForceCurve</a></span><span class="refpurpose"> — Retransformation d'une géométrie dans son type de courbure, le cas échéant.</span></li><li><span class="refentrytitle"><a href="#ST_ForcePolygonCCW">ST_ForcePolygonCCW </a></span><span class="refpurpose"> — Oriente tous les anneaux extérieurs dans le sens inverse des aiguilles d'une montre et tous les anneaux intérieurs dans le sens des aiguilles d'une montre. </span></li><li><span class="refentrytitle"><a href="#ST_ForcePolygonCW">ST_ForcePolygonCW </a></span><span class="refpurpose"> — Oriente tous les anneaux extérieurs dans le sens des aiguilles d'une montre et tous les anneaux intérieurs dans le sens inverse des aiguilles d'une montre. </span></li><li><span class="refentrytitle"><a href="#ST_ForceSFS">ST_ForceSFS</a></span><span class="refpurpose"> — Forcer les géométries à utiliser uniquement les types de géométrie SFS 1.1.</span></li><li><span class="refentrytitle"><a href="#ST_ForceRHR">ST_ForceRHR</a></span><span class="refpurpose"> — Force l'orientation des sommets d'un polygone à suivre la règle de la main droite.</span></li><li><span class="refentrytitle"><a href="#ST_LineExtend">ST_LineExtend</a></span><span class="refpurpose"> — Renvoie une ligne prolongée vers l'avant et vers l'arrière selon les distances spécifiées.</span></li><li><span class="refentrytitle"><a href="#ST_LineToCurve">ST_LineToCurve</a></span><span class="refpurpose"> — Convertit une géométrie linéaire en une géométrie courbe.</span></li><li><span class="refentrytitle"><a href="#ST_Multi">ST_Multi</a></span><span class="refpurpose"> — Renvoie la géométrie sous la forme d'une géométrie MULTI*.</span></li><li><span class="refentrytitle"><a href="#ST_Normalize">ST_Normalize</a></span><span class="refpurpose"> — Renvoie la géométrie sous sa forme canonique.</span></li><li><span class="refentrytitle"><a href="#ST_Project">ST_Project</a></span><span class="refpurpose"> — Renvoie un point projeté à partir d'un point de départ en fonction d'une distance et d'un azimut.</span></li><li><span class="refentrytitle"><a href="#ST_QuantizeCoordinates">ST_QuantizeCoordinates </a></span><span class="refpurpose"> — Met à zéro les bits de poids faible des coordonnées </span></li><li><span class="refentrytitle"><a href="#ST_RemovePoint">ST_RemovePoint</a></span><span class="refpurpose"> — Supprime un point d'une ligne.</span></li><li><span class="refentrytitle"><a href="#ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a></span><span class="refpurpose"> — Renvoie une version d'une géométrie dont les points en double ont été supprimés.</span></li><li><span class="refentrytitle"><a href="#ST_RemoveIrrelevantPointsForView">ST_RemoveIrrelevantPointsForView</a></span><span class="refpurpose"> — Removes points that are irrelevant for rendering a specific rectangluar view of a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_RemoveSmallParts">ST_RemoveSmallParts</a></span><span class="refpurpose"> — Removes small parts (polygon rings or linestrings) of a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_Reverse">ST_Reverse</a></span><span class="refpurpose"> — Retourne la géométrie avec l'ordre des sommets inversé.</span></li><li><span class="refentrytitle"><a href="#ST_Segmentize">ST_Segmentize</a></span><span class="refpurpose"> — Renvoie une geometry/geography modifiée dont aucun segment ne dépasse une distance donnée.</span></li><li><span class="refentrytitle"><a href="#ST_SetPoint">ST_SetPoint</a></span><span class="refpurpose"> — Remplacer le point d'une ligne par un point donné.</span></li><li><span class="refentrytitle"><a href="#ST_ShiftLongitude">ST_ShiftLongitude</a></span><span class="refpurpose"> — Décale les coordonnées de longitude d'une géométrie entre -180..180 et 0..360.</span></li><li><span class="refentrytitle"><a href="#ST_WrapX">ST_WrapX</a></span><span class="refpurpose"> — Enveloppe une géométrie autour d'une valeur X.</span></li><li><span class="refentrytitle"><a href="#ST_SnapToGrid">ST_SnapToGrid</a></span><span class="refpurpose"> — Accrocher tous les points de la géométrie d'entrée à une grille régulière. </span></li><li><span class="refentrytitle"><a href="#ST_Snap">ST_Snap</a></span><span class="refpurpose"> — Accrocher les segments et les sommets de la géométrie d'entrée aux sommets d'une géométrie de référence. </span></li><li><span class="refentrytitle"><a href="#ST_SwapOrdinates">ST_SwapOrdinates</a></span><span class="refpurpose"> — Renvoie une version de la géométrie donnée avec les valeurs d'ordonnées permutées. </span></li></ul></div><div class="refentry" id="ST_AddPoint"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AddPoint — Ajoute un point à une LineString.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_AddPoint</strong>(</code>geometry <var class="pdparam">linestring</var>, geometry <var class="pdparam">point</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_AddPoint</strong>(</code>geometry <var class="pdparam">linestring</var>, geometry <var class="pdparam">point</var>, integer <var class="pdparam">position = -1</var><code>)</code>;</p></div></div><div class="refsection" id="idm6513"><h2>Description</h2><p>Ajoute un point à une LineString avant l'index <em class="parameter"><code>position</code></em> (en utilisant un index basé sur 0). Si le paramètre <em class="parameter"><code>position</code></em> est omis ou vaut -1, le point est ajouté à la fin de la LineString.</p><p class="availability">Disponibilité : 1.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm6523"><h2>Exemples</h2><p>Ajouter un point à la fin d'une ligne 3D</p><pre class="programlisting">SELECT ST_AsEWKT(ST_AddPoint('LINESTRING(0 0 1, 1 1 1)', ST_MakePoint(1, 2, 3)));

    st_asewkt
    ----------
    LINESTRING(0 0 1,1 1 1,1 2 3)
</pre><p>Garantir que toutes les lignes d'une table sont fermées en ajoutant le point de départ de chaque ligne à la fin de la ligne uniquement pour celles qui ne sont pas fermées. </p><pre class="programlisting">UPDATE sometable
SET geom = ST_AddPoint(geom, ST_StartPoint(geom))
FROM sometable
WHERE ST_IsClosed(geom) = false;
</pre></div><div class="refsection" id="idm6529"><h2>Voir aussi</h2><p><a class="xref" href="#ST_RemovePoint" title="ST_RemovePoint">ST_RemovePoint</a>, <a class="xref" href="#ST_SetPoint" title="ST_SetPoint">ST_SetPoint</a></p></div></div><div class="refentry" id="ST_CollectionExtract"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CollectionExtract — Pour une collection de géométries spécifiée, renvoie une multi-géométrie contenant uniquement des éléments d'un type spécifié. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CollectionExtract</strong>(</code>geometry  <var class="pdparam">collection</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CollectionExtract</strong>(</code>geometry  <var class="pdparam">collection</var>, integer  <var class="pdparam">type</var><code>)</code>;</p></div></div><div class="refsection" id="idm6556"><h2>Description</h2><p>Pour une collection de géométries spécifiée, renvoie une multi-géométrie homogène.</p><p>Si le <em class="parameter"><code>type</code></em> n'est pas spécifié, il renvoie une multi-géométrie contenant uniquement des géométries de la dimension la plus élevée. Les polygones sont donc préférés aux lignes, qui sont préférées aux points. </p><p>Si le <em class="parameter"><code>type</code></em> est spécifié, renvoie une multi-géométrie contenant uniquement ce type. S'il n'y a pas de sous-géométrie du bon type, une géométrie VIDE est renvoyée. Seuls les points, les lignes et les polygones sont pris en charge. Les numéros de type sont les suivants :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>1 == POINT</p></li><li class="listitem"><p>2 == LINESTRING</p></li><li class="listitem"><p>3 == POLYGON</p></li></ul></div><p>Pour les entrées de géométrie atomique, la géométrie est restituée inchangée si le type d'entrée correspond au type demandé. Sinon, le résultat est une géométrie VIDE du type spécifié. Si nécessaire, ces géométries peuvent être converties en géométries multiples en utilisant <a class="xref" href="#ST_Multi" title="ST_Multi">ST_Multi</a>. </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La validité des résultats MultiPolygon n'est pas vérifiée. Si les composants du polygone sont adjacents ou se chevauchent, le résultat ne sera pas valide. (Par exemple, cela peut se produire lorsque cette fonction est appliquée à un résultat <a class="xref" href="#ST_Split" title="ST_Split">ST_Split</a>). Cette situation peut être vérifiée avec <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a> et réparée avec <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a>. </p></td></tr></table></div><p class="availability">Disponibilité : 1.5.0</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Avant la version 1.5.3, cette fonction renvoyait les entrées atomiques inchangées, quel que soit leur type. Dans la version 1.5.3, les géométries simples non correspondantes renvoyaient un résultat NULL. Dans la version 2.0.0, les géométries simples non correspondantes renvoient un résultat VIDE du type demandé. </p></td></tr></table></div></div><div class="refsection" id="idm6580"><h2>Exemples</h2><p>Extraire le type de dimension le plus élevé :</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionExtract(
        'GEOMETRYCOLLECTION( POINT(0 0), LINESTRING(1 1, 2 2) )'));
    st_astext
    ---------------
    MULTILINESTRING((1 1, 2 2))
</pre><p>Extraire des points (type 1 == POINT) :</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionExtract(
        'GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(POINT(0 0)))',
        1 ));
    st_astext
    ---------------
    MULTIPOINT((0 0))
</pre><p>Extraire des lignes (type 2 == LINESTRING) :</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionExtract(
        'GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(LINESTRING(0 0, 1 1)),LINESTRING(2 2, 3 3))',
        2 ));
    st_astext
    ---------------
    MULTILINESTRING((0 0, 1 1), (2 2, 3 3))
</pre></div><div class="refsection" id="idm6588"><h2>Voir aussi</h2><p><a class="xref" href="#ST_CollectionHomogenize" title="ST_CollectionHomogenize">ST_CollectionHomogenize</a>, <a class="xref" href="#ST_Multi" title="ST_Multi">ST_Multi</a>, <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> </p></div></div><div class="refentry" id="ST_CollectionHomogenize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CollectionHomogenize — Renvoie la représentation la plus simple d'une collection de géométries. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CollectionHomogenize</strong>(</code>geometry  <var class="pdparam">collection</var><code>)</code>;</p></div></div><div class="refsection" id="idm6607"><h2>Description</h2><p>Pour une collection de géométries spécifiée, renvoie la représentation la plus simple du contenu. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Les collections homogènes (uniformes) sont renvoyées sous la forme de la multi-géométrie appropriée.</p></li><li class="listitem"><p>Les collections hétérogènes (mixtes) sont écrasées en une seule GeometryCollection.</p></li><li class="listitem"><p>Les collections contenant un seul élément atomique sont renvoyées sous la forme de cet élément.</p></li><li class="listitem"><p>Les géométries atomiques sont renvoyées telles quelles. Si nécessaire, elles peuvent être converties en une géométrie multiple en utilisant <a class="xref" href="#ST_Multi" title="ST_Multi">ST_Multi</a>.</p></li></ul></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction ne garantit pas la validité du résultat. En particulier, une collection contenant des polygones adjacents ou se chevauchant créera un MultiPolygon invalide. Cette situation peut être vérifiée avec <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a> et réparée avec <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a>. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm6625"><h2>Exemples</h2><p>Collection d'un seul élément convertie en géométrie atomique</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionHomogenize('GEOMETRYCOLLECTION(POINT(0 0))'));

        st_astext
        ------------
        POINT(0 0)
</pre><p>Collection imbriquée d'éléments simples convertie en géométrie atomique :</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionHomogenize('GEOMETRYCOLLECTION(MULTIPOINT((0 0)))'));

        st_astext
        ------------
        POINT(0 0)
</pre><p>Collection convertie en une géométrie multiple :</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionHomogenize('GEOMETRYCOLLECTION(POINT(0 0),POINT(1 1))'));

        st_astext
        ---------------------
        MULTIPOINT((0 0),(1 1))
</pre><p>Collection hétérogène imbriquée écrasée en une GeometryCollection :</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionHomogenize('GEOMETRYCOLLECTION(POINT(0 0), GEOMETRYCOLLECTION( LINESTRING(1 1, 2 2)))'));

        st_astext
        ---------------------
        GEOMETRYCOLLECTION(POINT(0 0),LINESTRING(1 1,2 2))
</pre><p>Collection de polygones convertis en un MultiPolygon (non valide) :</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionHomogenize('GEOMETRYCOLLECTION (POLYGON ((10 50, 50 50, 50 10, 10 10, 10 50)), POLYGON ((90 50, 90 10, 50 10, 50 50, 90 50)))'));

        st_astext
        ---------------------
        MULTIPOLYGON(((10 50,50 50,50 10,10 10,10 50)),((90 50,90 10,50 10,50 50,90 50)))
</pre></div><div class="refsection" id="idm6637"><h2>Voir aussi</h2><p><a class="xref" href="#ST_CollectionExtract" title="ST_CollectionExtract">ST_CollectionExtract</a>, <a class="xref" href="#ST_Multi" title="ST_Multi">ST_Multi</a>, <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a></p></div></div><div class="refentry" id="ST_CurveToLine"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CurveToLine — Convertit une géométrie contenant des courbes en une géométrie linéaire.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CurveToLine</strong>(</code>geometry <var class="pdparam">curveGeom</var>, float <var class="pdparam">tolerance</var>, integer <var class="pdparam">tolerance_type</var>, integer <var class="pdparam">flags</var><code>)</code>;</p></div></div><div class="refsection" id="idm6665"><h2>Description</h2><p>Convertit une CIRCULAR STRING en LINESTRING régulière ou CURVEPOLYGON en POLYGON ou MULTISURFACE en MULTIPOLYGON. Utile pour les sorties vers des appareils qui ne supportent pas les types de géométrie CIRCULARSTRING</p><p>Convertit une géométrie donnée en une géométrie linéaire. Chaque géométrie ou segment courbe est converti en une approximation linéaire en utilisant la `tolérance` et les options données (32 segments par quadrant et aucune option par défaut).</p><p>L'argument 'tolerance_type' détermine l'interprétation de l'argument `tolerance`. Il peut prendre les valeurs suivantes : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>0 (par défaut) : La tolérance est le nombre maximum de segments par quadrant.</p></li><li class="listitem"><p>1 : La tolérance est l'écart maximal de la ligne par rapport à la courbe, en unités de source.</p></li><li class="listitem"><p>2 : La tolérance est l'angle maximal, en radians, entre les rayons générateurs.</p></li></ul></div><p>
    </p><p>L'argument 'flags' est un champ de bits. 0 par défaut. Les bits supportés sont : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>1 : Sortie symétrique (indépendante de l'orientation).</p></li><li class="listitem"><p>2 : Conserver l'angle, évite de réduire les angles (longueur des segments) lors de la production d'une sortie symétrique. N'a aucun effet lorsque l'indicateur de symétrie est désactivé.</p></li></ul></div><p>
    </p><p class="availability">Disponibilité : 1.3.0</p><p class="enhanced">Amélioration : 2.4.0 a ajouté la prise en charge de la tolérance de l'écart maximal et de l'angle maximal, ainsi que de la sortie symétrique.</p><p class="enhanced">Amélioration : la version 3.0.0 a mis en place un nombre minimum de segments par arc linéarisé afin d'éviter une rupture topologique.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 7.1.7</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm6703"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_CurveToLine(ST_GeomFromText('CIRCULARSTRING(220268 150415,220227 150505,220227 150406)')));

--Result --
 LINESTRING(220268 150415,220269.95064912 150416.539364228,220271.823415575 150418.17258804,220273.613787707 150419.895736857,
 220275.317452352 150421.704659462,220276.930305234 150423.594998003,220278.448460847 150425.562198489,
 220279.868261823 150427.60152176,220281.186287736 150429.708054909,220282.399363347 150431.876723113,
 220283.50456625 150434.10230186,220284.499233914 150436.379429536,220285.380970099 150438.702620341,220286.147650624 150441.066277505,
 220286.797428488 150443.464706771,220287.328738321 150445.892130112,220287.740300149 150448.342699654,
 220288.031122486 150450.810511759,220288.200504713 150453.289621251,220288.248038775 150455.77405574,
 220288.173610157 150458.257830005,220287.977398166 150460.734960415,220287.659875492 150463.199479347,
 220287.221807076 150465.64544956,220286.664248262 150468.066978495,220285.988542259 150470.458232479,220285.196316903 150472.81345077,
 220284.289480732 150475.126959442,220283.270218395 150477.39318505,220282.140985384 150479.606668057,
 220280.90450212 150481.762075989,220279.5637474 150483.85421628,220278.12195122 150485.87804878,
 220276.582586992 150487.828697901,220274.949363179 150489.701464356,220273.226214362 150491.491836488,
 220271.417291757 150493.195501133,220269.526953216 150494.808354014,220267.559752731 150496.326509628,
 220265.520429459 150497.746310603,220263.41389631 150499.064336517,220261.245228106 150500.277412127,
 220259.019649359 150501.38261503,220256.742521683 150502.377282695,220254.419330878 150503.259018879,
 220252.055673714 150504.025699404,220249.657244448 150504.675477269,220247.229821107 150505.206787101,
 220244.779251566 150505.61834893,220242.311439461 150505.909171266,220239.832329968 150506.078553494,
 220237.347895479 150506.126087555,220234.864121215 150506.051658938,220232.386990804 150505.855446946,
 220229.922471872 150505.537924272,220227.47650166 150505.099855856,220225.054972724 150504.542297043,
 220222.663718741 150503.86659104,220220.308500449 150503.074365683,
 220217.994991777 150502.167529512,220215.72876617 150501.148267175,
 220213.515283163 150500.019034164,220211.35987523 150498.7825509,
 220209.267734939 150497.441796181,220207.243902439 150496,
 220205.293253319 150494.460635772,220203.420486864 150492.82741196,220201.630114732 150491.104263143,
 220199.926450087 150489.295340538,220198.313597205 150487.405001997,220196.795441592 150485.437801511,
 220195.375640616 150483.39847824,220194.057614703 150481.291945091,220192.844539092 150479.123276887,220191.739336189 150476.89769814,
 220190.744668525 150474.620570464,220189.86293234 150472.297379659,220189.096251815 150469.933722495,
 220188.446473951 150467.535293229,220187.915164118 150465.107869888,220187.50360229 150462.657300346,
 220187.212779953 150460.189488241,220187.043397726 150457.710378749,220186.995863664 150455.22594426,
 220187.070292282 150452.742169995,220187.266504273 150450.265039585,220187.584026947 150447.800520653,
 220188.022095363 150445.35455044,220188.579654177 150442.933021505,220189.25536018 150440.541767521,
 220190.047585536 150438.18654923,220190.954421707 150435.873040558,220191.973684044 150433.60681495,
 220193.102917055 150431.393331943,220194.339400319 150429.237924011,220195.680155039 150427.14578372,220197.12195122 150425.12195122,
 220198.661315447 150423.171302099,220200.29453926 150421.298535644,220202.017688077 150419.508163512,220203.826610682 150417.804498867,
 220205.716949223 150416.191645986,220207.684149708 150414.673490372,220209.72347298 150413.253689397,220211.830006129 150411.935663483,
 220213.998674333 150410.722587873,220216.22425308 150409.61738497,220218.501380756 150408.622717305,220220.824571561 150407.740981121,
 220223.188228725 150406.974300596,220225.586657991 150406.324522731,220227 150406)

--3d example
SELECT ST_AsEWKT(ST_CurveToLine(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)')));
Output
------
 LINESTRING(220268 150415 1,220269.95064912 150416.539364228 1.0181172856673,
 220271.823415575 150418.17258804 1.03623457133459,220273.613787707 150419.895736857 1.05435185700189,....AD INFINITUM ....
    220225.586657991 150406.324522731 1.32611114201132,220227 150406 3)

--use only 2 segments to approximate quarter circle
SELECT ST_AsText(ST_CurveToLine(ST_GeomFromText('CIRCULARSTRING(220268 150415,220227 150505,220227 150406)'),2));
st_astext
------------------------------
 LINESTRING(220268 150415,220287.740300149 150448.342699654,220278.12195122 150485.87804878,
 220244.779251566 150505.61834893,220207.243902439 150496,220187.50360229 150462.657300346,
 220197.12195122 150425.12195122,220227 150406)

-- Ensure approximated line is no further than 20 units away from
-- original curve, and make the result direction-neutral
SELECT ST_AsText(ST_CurveToLine(
 'CIRCULARSTRING(0 0,100 -100,200 0)'::geometry,
    20, -- Tolerance
    1, -- Above is max distance between curve and line
    1  -- Symmetric flag
));
st_astext
-------------------------------------------------------------------------------------------
 LINESTRING(0 0,50 -86.6025403784438,150 -86.6025403784439,200 -1.1331077795296e-13,200 0)


        </pre></div><div class="refsection" id="idm6706"><h2>Voir aussi</h2><p><a class="xref" href="#ST_LineToCurve" title="ST_LineToCurve">ST_LineToCurve</a></p></div></div><div class="refentry" id="ST_Scroll"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Scroll — Modifier le point de départ d'une LineString fermée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Scroll</strong>(</code>geometry <var class="pdparam">linestring</var>, geometry <var class="pdparam">point</var><code>)</code>;</p></div></div><div class="refsection" id="idm6725"><h2>Description</h2><p>Modifie le point de départ/fin d'une LineString fermée en fonction du sommet <em class="parameter"><code>point</code></em> donné. </p><p class="availability">Disponibilité : 3.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les coordonnées M. </p></div><div class="refsection" id="idm6738"><h2>Exemples</h2><p>Faire partir une ligne fermée de son 3ème sommet</p><pre class="programlisting">SELECT ST_AsEWKT(ST_Scroll('SRID=4326;LINESTRING(0 0 0 1, 10 0 2 0, 5 5 4 2,0 0 0 1)', 'POINT(5 5 4 2)'));

st_asewkt
----------
SRID=4326;LINESTRING(5 5 4 2,0 0 0 1,10 0 2 0,5 5 4 2)
</pre></div><div class="refsection" id="idm6742"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Normalize" title="ST_Normalize">ST_Normalize</a></p></div></div><div class="refentry" id="ST_FlipCoordinates"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_FlipCoordinates — Renvoie une version d'une géométrie dont les axes X et Y sont inversés. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_FlipCoordinates</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm6758"><h2>Description</h2><p>Renvoie une version de la géométrie donnée avec les axes X et Y inversés. Utile pour fixer les géométries qui contiennent des coordonnées exprimées en latitude/longitude (Y,X).</p><p class="availability">Disponibilité : 2.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les coordonnées M. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm6782"><h2>Exemple</h2><pre class="programlisting">SELECT ST_AsEWKT(ST_FlipCoordinates(GeomFromEWKT('POINT(1 2)')));
 st_asewkt
------------
POINT(2 1)
         </pre></div><div class="refsection" id="idm6785"><h2>Voir aussi</h2><p> <a class="xref" href="#ST_SwapOrdinates" title="ST_SwapOrdinates">ST_SwapOrdinates</a> </p></div></div><div class="refentry" id="ST_Force2D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Force2D — Forcer les géométries à passer en "mode bidimensionnel".</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Force2D</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm6801"><h2>Description</h2><p>Force les géométries à passer en "mode bidimensionnel", de sorte que toutes les représentations de sortie n'auront que les coordonnées X et Y. Ceci est utile pour forcer une sortie conforme à l'OGC (puisque l'OGC ne spécifie que des géométries à 2 dimensions).</p><p class="enhanced">Amélioration : 2.0.0 introduction du support des surfaces polyédriques.</p><p class="changed">Modifié : 2.1.0. Jusqu'à la version 2.0.x, elle s'appelait ST_Force_2D.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm6818"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsEWKT(ST_Force2D(ST_GeomFromEWKT('CIRCULARSTRING(1 1 2, 2 3 2, 4 5 2, 6 7 2, 5 6 2)')));
                st_asewkt
-------------------------------------
CIRCULARSTRING(1 1,2 3,4 5,6 7,5 6)

SELECT  ST_AsEWKT(ST_Force2D('POLYGON((0 0 2,0 5 2,5 0 2,0 0 2),(1 1 2,3 1 2,1 3 2,1 1 2))'));

                                  st_asewkt
----------------------------------------------
 POLYGON((0 0,0 5,5 0,0 0),(1 1,3 1,1 3,1 1))

                </pre></div><div class="refsection" id="idm6821"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a></p></div></div><div class="refentry" id="ST_Force_3D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Force3D — Force les géométries en mode XYZ. Il s'agit d'un alias de ST_Force3DZ.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Force3D</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">Zvalue = 0.0</var><code>)</code>;</p></div></div><div class="refsection" id="idm6840"><h2>Description</h2><p>Force les géométries en mode XYZ. Il s'agit d'un alias de ST_Force3DZ. Si une géométrie n'a pas de composante Z, une <em class="parameter"><code>Zvalue</code></em> coordonnée Z est ajoutée.</p><p class="enhanced">Amélioration : 2.0.0 introduction du support des surfaces polyédriques.</p><p class="changed">Modifié : 2.1.0. Jusqu'à la version 2.0.x, elle s'appelait ST_Force_3D.</p><p class="changed">Modifié : 3.1.0. Ajout de la prise en charge pour pouvoir passer une valeur Z non nulle.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm6859"><h2>Exemples</h2><pre class="programlisting">--Nothing happens to an already 3D geometry
                SELECT ST_AsEWKT(ST_Force3D(ST_GeomFromEWKT('CIRCULARSTRING(1 1 2, 2 3 2, 4 5 2, 6 7 2, 5 6 2)')));
                                   st_asewkt
-----------------------------------------------
 CIRCULARSTRING(1 1 2,2 3 2,4 5 2,6 7 2,5 6 2)


SELECT  ST_AsEWKT(ST_Force3D('POLYGON((0 0,0 5,5 0,0 0),(1 1,3 1,1 3,1 1))'));

                                                 st_asewkt
--------------------------------------------------------------
 POLYGON((0 0 0,0 5 0,5 0 0,0 0 0),(1 1 0,3 1 0,1 3 0,1 1 0))
                </pre></div><div class="refsection" id="idm6862"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>, <a class="xref" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a>, <a class="xref" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a></p></div></div><div class="refentry" id="ST_Force_3DZ"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Force3DZ — Forcer les géométries en mode XYZ.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Force3DZ</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">Zvalue = 0.0</var><code>)</code>;</p></div></div><div class="refsection" id="idm6884"><h2>Description</h2><p>Force les géométries à passer en mode XYZ. Si une géométrie n'a pas de composante Z, une <em class="parameter"><code>Zvalue</code></em> coordonnée Z est ajoutée.</p><p class="enhanced">Amélioration : 2.0.0 introduction du support des surfaces polyédriques.</p><p class="changed">Modifié : 2.1.0. Jusqu'à la version 2.0.x, elle s'appelait ST_Force_3DZ.</p><p class="changed">Modifié : 3.1.0. Ajout de la prise en charge pour pouvoir passer une valeur Z non nulle.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm6903"><h2>Exemples</h2><pre class="programlisting">--Nothing happens to an already 3D geometry
SELECT ST_AsEWKT(ST_Force3DZ(ST_GeomFromEWKT('CIRCULARSTRING(1 1 2, 2 3 2, 4 5 2, 6 7 2, 5 6 2)')));
                                   st_asewkt
-----------------------------------------------
 CIRCULARSTRING(1 1 2,2 3 2,4 5 2,6 7 2,5 6 2)


SELECT  ST_AsEWKT(ST_Force3DZ('POLYGON((0 0,0 5,5 0,0 0),(1 1,3 1,1 3,1 1))'));

                                                 st_asewkt
--------------------------------------------------------------
 POLYGON((0 0 0,0 5 0,5 0 0,0 0 0),(1 1 0,3 1 0,1 3 0,1 1 0))
                </pre></div><div class="refsection" id="idm6906"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>, <a class="xref" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a>, <a class="xref" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a></p></div></div><div class="refentry" id="ST_Force_3DM"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Force3DM — Forcer les géométries en mode XYM.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Force3DM</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">Mvalue = 0.0</var><code>)</code>;</p></div></div><div class="refsection" id="idm6928"><h2>Description</h2><p>Force les géométries à passer en mode XYM. Si une géométrie n'a pas de composante M, une <em class="parameter"><code>Mvalue</code></em> coordonnée M est ajoutée. Si la géométrie a une composante Z, la coordonnée Z est supprimée</p><p class="changed">Modifié : 2.1.0. Jusqu'à la version 2.0.x, elle s'appelait ST_Force_3DM.</p><p class="changed">Modifié : 3.1.0. Ajout de la prise en charge de pouvoir passer une valeur M non nulle.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm6938"><h2>Exemples</h2><pre class="programlisting">--Nothing happens to an already 3D geometry
SELECT ST_AsEWKT(ST_Force3DM(ST_GeomFromEWKT('CIRCULARSTRING(1 1 2, 2 3 2, 4 5 2, 6 7 2, 5 6 2)')));
                                   st_asewkt
------------------------------------------------
 CIRCULARSTRINGM(1 1 0,2 3 0,4 5 0,6 7 0,5 6 0)


SELECT  ST_AsEWKT(ST_Force3DM('POLYGON((0 0 1,0 5 1,5 0 1,0 0 1),(1 1 1,3 1 1,1 3 1,1 1 1))'));

                                                  st_asewkt
---------------------------------------------------------------
 POLYGONM((0 0 0,0 5 0,5 0 0,0 0 0),(1 1 0,3 1 0,1 3 0,1 1 0))

                </pre></div><div class="refsection" id="idm6941"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>, <a class="xref" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a>, <a class="xref" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a></p></div></div><div class="refentry" id="ST_Force_4D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Force4D — Forcer les géométries en mode XYZM. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Force4D</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">Zvalue = 0.0</var>, float  <var class="pdparam">Mvalue = 0.0</var><code>)</code>;</p></div></div><div class="refsection" id="idm6967"><h2>Description</h2><p>Force les géométries en mode XYZM. <em class="parameter"><code>Zvalue</code></em> et <em class="parameter"><code>Mvalue</code></em> sont ajoutés pour les dimensions Z et M manquantes, respectivement. </p><p class="changed">Modifié : 2.1.0. Jusqu'à la version 2.0.x, elle s'appelait ST_Force_4D.</p><p class="changed">Modifié : 3.1.0. Ajout de la prise en charge de pouvoir passer des valeurs Z et M non nulles.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm6982"><h2>Exemples</h2><pre class="programlisting">--Nothing happens to an already 3D geometry
SELECT ST_AsEWKT(ST_Force4D(ST_GeomFromEWKT('CIRCULARSTRING(1 1 2, 2 3 2, 4 5 2, 6 7 2, 5 6 2)')));
                                                st_asewkt
---------------------------------------------------------
 CIRCULARSTRING(1 1 2 0,2 3 2 0,4 5 2 0,6 7 2 0,5 6 2 0)



SELECT  ST_AsEWKT(ST_Force4D('MULTILINESTRINGM((0 0 1,0 5 2,5 0 3,0 0 4),(1 1 1,3 1 1,1 3 1,1 1 1))'));

                                                                          st_asewkt
--------------------------------------------------------------------------------------
 MULTILINESTRING((0 0 0 1,0 5 0 2,5 0 0 3,0 0 0 4),(1 1 0 1,3 1 0 1,1 3 0 1,1 1 0 1))

                </pre></div><div class="refsection" id="idm6985"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>, <a class="xref" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a>, <a class="xref" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a></p></div></div><div class="refentry" id="ST_Force_Collection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ForceCollection — Convertir la géométrie en une GEOMETRYCOLLECTION.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ForceCollection</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm7004"><h2>Description</h2><p>Convertit la géométrie en une GEOMETRYCOLLECTION. Ceci est utile pour simplifier la représentation WKB.</p><p class="enhanced">Amélioration : 2.0.0 introduction du support des surfaces polyédriques.</p><p class="availability">Disponibilité : 1.2.2, avant la version 1.3.4 cette fonction plante avec les courbes. Ceci est corrigé dans la version 1.3.4+</p><p class="changed">Modifié : 2.1.0. Jusqu'à la version 2.0.x, cette fonction était appelée ST_Force_Collection.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm7022"><h2>Exemples</h2><pre class="programlisting">SELECT  ST_AsEWKT(ST_ForceCollection('POLYGON((0 0 1,0 5 1,5 0 1,0 0 1),(1 1 1,3 1 1,1 3 1,1 1 1))'));

                                                                   st_asewkt
----------------------------------------------------------------------------------
 GEOMETRYCOLLECTION(POLYGON((0 0 1,0 5 1,5 0 1,0 0 1),(1 1 1,3 1 1,1 3 1,1 1 1)))


  SELECT ST_AsText(ST_ForceCollection('CIRCULARSTRING(220227 150406,2220227 150407,220227 150406)'));
                                                                   st_astext
--------------------------------------------------------------------------------
 GEOMETRYCOLLECTION(CIRCULARSTRING(220227 150406,2220227 150407,220227 150406))
(1 row)

                </pre><pre class="programlisting">-- POLYHEDRAL example --
SELECT ST_AsEWKT(ST_ForceCollection('POLYHEDRALSURFACE(((0 0 0,0 0 1,0 1 1,0 1 0,0 0 0)),
 ((0 0 0,0 1 0,1 1 0,1 0 0,0 0 0)),
 ((0 0 0,1 0 0,1 0 1,0 0 1,0 0 0)),
 ((1 1 0,1 1 1,1 0 1,1 0 0,1 1 0)),
 ((0 1 0,0 1 1,1 1 1,1 1 0,0 1 0)),
 ((0 0 1,1 0 1,1 1 1,0 1 1,0 0 1)))'))

                                                                   st_asewkt
----------------------------------------------------------------------------------
GEOMETRYCOLLECTION(
  POLYGON((0 0 0,0 0 1,0 1 1,0 1 0,0 0 0)),
  POLYGON((0 0 0,0 1 0,1 1 0,1 0 0,0 0 0)),
  POLYGON((0 0 0,1 0 0,1 0 1,0 0 1,0 0 0)),
  POLYGON((1 1 0,1 1 1,1 0 1,1 0 0,1 1 0)),
  POLYGON((0 1 0,0 1 1,1 1 1,1 1 0,0 1 0)),
  POLYGON((0 0 1,1 0 1,1 1 1,0 1 1,0 0 1))
)
                </pre></div><div class="refsection" id="idm7026"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>, <a class="xref" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a>, <a class="xref" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a></p></div></div><div class="refentry" id="ST_ForceCurve"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ForceCurve — Retransformation d'une géométrie dans son type de courbure, le cas échéant.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ForceCurve</strong>(</code>geometry <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm7046"><h2>Description</h2><p>Transforme une géométrie en sa représentation courbe, le cas échéant : les lignes deviennent des courbes composées, les multilignes deviennent des multicourbes, les polygones deviennent des polygones courbes, les multipolygones deviennent des multisurfaces. Si la géométrie en entrée est déjà une représentation courbe, le résultat est identique à celui de l'entrée. </p><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm7058"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(
  ST_ForceCurve(
        'POLYGON((0 0 2, 5 0 2, 0 5 2, 0 0 2),(1 1 2, 1 3 2, 3 1 2, 1 1 2))'::geometry
  )
);
                              st_astext
----------------------------------------------------------------------
 CURVEPOLYGON Z ((0 0 2,5 0 2,0 5 2,0 0 2),(1 1 2,1 3 2,3 1 2,1 1 2))
(1 row)</pre></div><div class="refsection" id="idm7061"><h2>Voir aussi</h2><p><a class="xref" href="#ST_LineToCurve" title="ST_LineToCurve">ST_LineToCurve</a></p></div></div><div class="refentry" id="ST_ForcePolygonCCW"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ForcePolygonCCW  — Oriente tous les anneaux extérieurs dans le sens inverse des aiguilles d'une montre et tous les anneaux intérieurs dans le sens des aiguilles d'une montre. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef"> geometry <strong class="fsfunc">ST_ForcePolygonCCW</strong> (</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm7077"><h2>Description</h2><p>Force les (Multi)Polygones à utiliser une orientation dans le sens inverse des aiguilles d'une montre pour leur anneau extérieur, et une orientation dans le sens des aiguilles d'une montre pour leurs anneaux intérieurs. Les géométries non polygonales sont renvoyées inchangées. </p><p class="availability">Disponibilité : 2.4.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les coordonnées M. </p></div><div class="refsection" id="idm7089"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a>, <a class="xref" href="#ST_IsPolygonCCW" title="ST_IsPolygonCCW">ST_IsPolygonCCW </a>, <a class="xref" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a> </p></div></div><div class="refentry" id="ST_ForcePolygonCW"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ForcePolygonCW  — Oriente tous les anneaux extérieurs dans le sens des aiguilles d'une montre et tous les anneaux intérieurs dans le sens inverse des aiguilles d'une montre. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef"> geometry <strong class="fsfunc">ST_ForcePolygonCW</strong> (</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm7107"><h2>Description</h2><p>Force les (Multi)Polygones à utiliser une orientation dans le sens des aiguilles d'une montre pour leur anneau extérieur, et une orientation dans le sens inverse des aiguilles d'une montre pour leurs anneaux intérieurs. Les géométries non polygonales sont renvoyées inchangées. </p><p class="availability">Disponibilité : 2.4.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les coordonnées M. </p></div><div class="refsection" id="idm7119"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a>, <a class="xref" href="#ST_IsPolygonCCW" title="ST_IsPolygonCCW">ST_IsPolygonCCW </a>, <a class="xref" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a> </p></div></div><div class="refentry" id="ST_ForceSFS"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ForceSFS — Forcer les géométries à utiliser uniquement les types de géométrie SFS 1.1.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ForceSFS</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_ForceSFS</strong>(</code>geometry  <var class="pdparam">geomA</var>, text  <var class="pdparam">version</var><code>)</code>;</p></div></div><div class="refsection" id="idm7146"><h2>Description</h2><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div></div><div class="refentry" id="ST_ForceRHR"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ForceRHR — Force l'orientation des sommets d'un polygone à suivre la règle de la main droite.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ForceRHR</strong>(</code>geometry <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm7176"><h2>Description</h2><p>Force l'orientation des sommets d'un polygone à suivre la règle de la main droite, dans laquelle la zone délimitée par le polygone se trouve à droite de la limite. En particulier, l'anneau extérieur est orienté dans le sens des aiguilles d'une montre et les anneaux intérieurs dans le sens inverse. Cette fonction est synonyme de <a class="xref" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a></p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La définition ci-dessus de la règle de la main droite est en conflit avec des définitions utilisées dans d'autres contextes. Pour éviter toute confusion, il est recommandé d'utiliser ST_ForcePolygonCW. </p></td></tr></table></div><p class="enhanced">Amélioration : 2.0.0 introduction du support des surfaces polyédriques.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm7191"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsEWKT(
  ST_ForceRHR(
        'POLYGON((0 0 2, 5 0 2, 0 5 2, 0 0 2),(1 1 2, 1 3 2, 3 1 2, 1 1 2))'
  )
);
                                                  st_asewkt
--------------------------------------------------------------
 POLYGON((0 0 2,0 5 2,5 0 2,0 0 2),(1 1 2,3 1 2,1 3 2,1 1 2))
(1 row)</pre></div><div class="refsection" id="idm7194"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a>, <a class="xref" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a>, <a class="xref" href="#ST_IsPolygonCCW" title="ST_IsPolygonCCW">ST_IsPolygonCCW </a>, <a class="xref" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a>, <a class="xref" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea</a>, <a class="xref" href="#ST_Polygonize" title="ST_Polygonize">ST_Polygonize</a>, <a class="xref" href="#ST_Reverse" title="ST_Reverse">ST_Reverse</a></p></div></div><div class="refentry" id="ST_LineExtend"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineExtend — Renvoie une ligne prolongée vers l'avant et vers l'arrière selon les distances spécifiées.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineExtend</strong>(</code>geometry  <var class="pdparam">line</var>, float  <var class="pdparam">distance_forward</var>, float <var class="pdparam">distance_backward=0.0</var><code>)</code>;</p></div></div><div class="refsection" id="idm7222"><h2>Description</h2><p>Renvoie une ligne prolongée vers l'avant et vers l'arrière en ajoutant de nouveaux points de départ (et d'arrivée) à la (aux) distance(s) donnée(s). Une distance de zéro n'ajoute pas de point. Seules les distances non négatives sont autorisées. La direction du ou des points ajoutés est déterminée par les deux premiers (et derniers) points distincts de la ligne. Les points en double sont ignorés. </p><p class="availability">Disponibilité : 3.4.0</p></div><div class="refsection" id="idm7226"><h2>Exemple : Prolonge une ligne de 5 unités vers l'avant et de 6 unités vers l'arrière</h2><pre class="programlisting">SELECT ST_AsText(ST_LineExtend('LINESTRING(0 0, 0 10)'::geometry, 5, 6));
--------------------------------------------
LINESTRING(0 -6,0 0,0 10,0 15)
</pre></div><div class="refsection" id="idm7229"><h2>Voir aussi</h2><p><a class="xref" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a>, <a class="xref" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a>, <a class="xref" href="#ST_Project" title="ST_Project">ST_Project</a></p></div></div><div class="refentry" id="ST_LineToCurve"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineToCurve — Convertit une géométrie linéaire en une géométrie courbe.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineToCurve</strong>(</code>geometry  <var class="pdparam">geomANoncircular</var><code>)</code>;</p></div></div><div class="refsection" id="idm7247"><h2>Description</h2><p>Convertit les lignes et polygones simples en lignes circulaires et polygones courbes. Notez qu'il faut beaucoup moins de points pour décrire l'équivalent courbe.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si l'entrée LINESTRING/POLYGON n'est pas suffisamment courbée pour représenter clairement une courbe, la fonction renverra la même géométrie d'entrée.</p></td></tr></table></div><p class="availability">Disponibilité : 1.3.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm7261"><h2>Exemples</h2><pre class="programlisting">-- 2D Example
SELECT ST_AsText(ST_LineToCurve(foo.geom)) As curvedastext,ST_AsText(foo.geom) As non_curvedastext
    FROM (SELECT ST_Buffer('POINT(1 3)'::geometry, 3) As geom) As foo;

curvedatext                                                            non_curvedastext
--------------------------------------------------------------------|-----------------------------------------------------------------
CURVEPOLYGON(CIRCULARSTRING(4 3,3.12132034355964 0.878679656440359, | POLYGON((4 3,3.94235584120969 2.41472903395162,3.77163859753386 1.85194970290473,
1 0,-1.12132034355965 5.12132034355963,4 3))                        |  3.49440883690764 1.33328930094119,3.12132034355964 0.878679656440359,
                                                                    |  2.66671069905881 0.505591163092366,2.14805029709527 0.228361402466141,
                                                                    |  1.58527096604839 0.0576441587903094,1 0,
                                                                    |  0.414729033951621 0.0576441587903077,-0.148050297095264 0.228361402466137,
                                                                    |  -0.666710699058802 0.505591163092361,-1.12132034355964 0.878679656440353,
                                                                    |  -1.49440883690763 1.33328930094119,-1.77163859753386 1.85194970290472
                                                                    |  --ETC-- ,3.94235584120969 3.58527096604839,4 3))

--3D example
SELECT ST_AsText(ST_LineToCurve(geom)) As curved, ST_AsText(geom) AS not_curved
FROM (SELECT ST_Translate(ST_Force3D(ST_Boundary(ST_Buffer(ST_Point(1,3), 2,2))),0,0,3) AS geom) AS foo;

                        curved                        |               not_curved
------------------------------------------------------+---------------------------------------------------------------------
 CIRCULARSTRING Z (3 3 3,-1 2.99999999999999 3,3 3 3) | LINESTRING Z (3 3 3,2.4142135623731 1.58578643762691 3,1 1 3,
                                                      | -0.414213562373092 1.5857864376269 3,-1 2.99999999999999 3,
                                                      | -0.414213562373101 4.41421356237309 3,
                                                      | 0.999999999999991 5 3,2.41421356237309 4.4142135623731 3,3 3 3)
(1 row)
</pre></div><div class="refsection" id="idm7264"><h2>Voir aussi</h2><p><a class="xref" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a></p></div></div><div class="refentry" id="ST_Multi"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Multi — Renvoie la géométrie sous la forme d'une géométrie MULTI*.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Multi</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm7280"><h2>Description</h2><p>Renvoie la géométrie sous la forme d'une collection de géométries MULTI*. Si la géométrie est déjà une collection, elle est renvoyée inchangée.</p></div><div class="refsection" id="idm7283"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_Multi('POLYGON ((10 30, 30 30, 30 10, 10 10, 10 30))'));
                    st_astext
    -------------------------------------------------
    MULTIPOLYGON(((10 30,30 30,30 10,10 10,10 30)))
</pre></div><div class="refsection" id="idm7286"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a></p></div></div><div class="refentry" id="ST_Normalize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Normalize — Renvoie la géométrie sous sa forme canonique.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Normalize</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm7302"><h2>Description</h2><p>Renvoie la géométrie sous sa forme normalisée/canonique. Peut réorganiser les sommets dans les anneaux de polygones, les anneaux dans un polygone, les éléments dans un complexe multi-géométrique. </p><p>La plupart du temps, il n'est utile qu'à des fins de test (comparaison des résultats attendus et obtenus). </p><p class="availability">Disponibilité : 2.3.0</p></div><div class="refsection" id="idm7307"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_Normalize(ST_GeomFromText(
  'GEOMETRYCOLLECTION(
    POINT(2 3),
    MULTILINESTRING((0 0, 1 1),(2 2, 3 3)),
    POLYGON(
      (0 10,0 0,10 0,10 10,0 10),
      (4 2,2 2,2 4,4 4,4 2),
      (6 8,8 8,8 6,6 6,6 8)
    )
  )'
)));
                                                                     st_astext
----------------------------------------------------------------------------------------------------------------------------------------------------
 GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0),(6 6,8 6,8 8,6 8,6 6),(2 2,4 2,4 4,2 4,2 2)),MULTILINESTRING((2 2,3 3),(0 0,1 1)),POINT(2 3))
(1 row)
                        </pre></div><div class="refsection" id="idm7310"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, </p></div></div><div class="refentry" id="ST_Project"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Project — Renvoie un point projeté à partir d'un point de départ en fonction d'une distance et d'un azimut.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Project</strong>(</code>geometry  <var class="pdparam">g1</var>, float  <var class="pdparam">distance</var>, float  <var class="pdparam">azimuth</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Project</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var>, float  <var class="pdparam">distance</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_Project</strong>(</code>geography  <var class="pdparam">g1</var>, float  <var class="pdparam">distance</var>, float  <var class="pdparam">azimuth</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_Project</strong>(</code>geography  <var class="pdparam">g1</var>, geography  <var class="pdparam">g2</var>, float  <var class="pdparam">distance</var><code>)</code>;</p></div></div><div class="refsection" id="idm7368"><h2>Description</h2><p>Renvoie un point projeté à partir d'un point le long d'une géodésique en utilisant une distance et un azimut donnés. C'est ce qu'on appelle le problème de la géodésique directe.</p><p>La version à deux points utilise la trajectoire entre le premier et le deuxième point pour définir implicitement l'azimut et utilise la distance comme précédemment.</p><p>La distance est indiquée en mètres. Les valeurs négatives sont prises en charge.</p><p>L'azimut (également appelé cap ou relèvement) est indiqué en radians. Il est mesuré dans le sens des aiguilles d'une montre à partir du vrai nord.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Le nord est l'azimut zéro (0 degré)</p></li><li class="listitem"><p>L'est est l'azimut π/2 (90 degrés)</p></li><li class="listitem"><p>Le sud est l'azimut π (180 degrés)</p></li><li class="listitem"><p>Ouest est l'azimut 3π/2 (270 degrés)</p></li></ul></div><p>Les valeurs d'azimut négatives et les valeurs supérieures à 2π (360 degrés) sont prises en charge.</p><p class="availability">Disponibilité : 2.0.0</p><p class="enhanced">Amélioration : 2.4.0 Autorise les distances négatives et les azimuts non normalisés.</p><p class="enhanced">Amélioration : 3.4.0 Autorise les arguments géométriques et la forme en deux points omettant l'azimut.</p></div><div class="refsection" id="idm7387"><h2>Exemple : Point projeté à 100,000 mètres et relèvement de 45 degrés </h2><pre class="programlisting">SELECT ST_AsText(ST_Project('POINT(0 0)'::geography, 100000, radians(45.0)));
--------------------------------------------
 POINT(0.635231029125537 0.639472334729198)
</pre></div><div class="refsection" id="idm7390"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Azimuth" title="ST_Azimuth">ST_Azimuth</a>, <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="link" href="http://www.postgresql.org/docs/current/interactive/functions-math.html" target="_top">Fonction PostgreSQL radians()</a></p></div></div><div class="refentry" id="ST_QuantizeCoordinates"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_QuantizeCoordinates  — Met à zéro les bits de poids faible des coordonnées </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef"> geometry <strong class="fsfunc">ST_QuantizeCoordinates</strong> (</code> geometry <var class="pdparam">g</var> ,  int <var class="pdparam">prec_x</var> ,  int <var class="pdparam">prec_y</var> ,  int <var class="pdparam">prec_z</var> ,  int <var class="pdparam">prec_m</var> <code>)</code>;</p></div></div><div class="refsection" id="idm7420"><h2>Description</h2><p><code class="code">ST_QuantizeCoordinates</code> détermine le nombre de bits (<code class="code">N</code>) requis pour représenter une valeur de coordonnées avec un nombre spécifié de chiffres après la virgule, puis met à zéro tous les bits sauf les <code class="code">N</code> les plus significatifs. La valeur de coordonnées résultante sera toujours arrondie à la valeur d'origine, mais sa compressibilité sera améliorée. Il peut en résulter une réduction significative de l'utilisation du disque, à condition que la colonne géométrique utilise un <a class="link" href="https://www.postgresql.org/docs/current/static/storage-toast.html#STORAGE-TOAST-ONDISK" target="_top"> type de stockage compressible</a>. La fonction permet de spécifier un nombre différent de chiffres après la virgule dans chaque dimension ; les dimensions non spécifiées sont supposées avoir la précision de la dimension <code class="code">x</code>. Les chiffres négatifs sont interprétés comme des chiffres à gauche de la virgule (c'est-à-dire que <code class="code">prec_x=-2</code> conservera les valeurs des coordonnées à la centaine la plus proche). </p><p>Les coordonnées produites par <code class="code">ST_QuantizeCoordinates</code> sont indépendantes de la géométrie qui contient ces coordonnées et de la position relative de ces coordonnées dans la géométrie. Par conséquent, les relations topologiques existantes entre les géométries ne sont pas affectées par l'utilisation de cette fonction. La fonction peut produire une géométrie non valide lorsqu'elle est appelée avec un nombre de chiffres inférieur à la précision intrinsèque de la géométrie. </p><p class="availability">Disponibilité : 2.5.0</p></div><div class="refsection" id="idm7432"><h2>Informations techniques</h2><p>PostGIS stocke toutes les valeurs de coordonnées sous forme d'entiers à virgule flottante en double précision, qui peuvent représenter de manière fiable 15 chiffres significatifs. Cependant, PostGIS peut être utilisé pour gérer des données qui ont intrinsèquement moins de 15 chiffres significatifs. C'est le cas des données TIGER, qui sont fournies sous forme de coordonnées géographiques avec six chiffres de précision après la virgule (ce qui ne nécessite que neuf chiffres significatifs pour la longitude et huit chiffres significatifs pour la latitude) </p><p>Lorsque 15 chiffres significatifs sont disponibles, il existe de nombreuses représentations possibles d'un nombre à 9 chiffres significatifs. Un nombre à virgule flottante en double précision utilise 52 bits explicites pour représenter le significand (mantissa) de la coordonnée. Seuls 30 bits sont nécessaires pour représenter un mantissa de 9 chiffres significatifs, ce qui laisse 22 bits non significatifs ; nous pouvons leur donner la valeur que nous voulons et obtenir un nombre qui s'arrondit à notre valeur d'entrée. Par exemple, la valeur 100,123456 peut être représentée par les nombres à virgule flottante les plus proches de 100,123456000000, 100,123456000001 et 100,123456432199. Tous sont également valables, en ce sens que <code class="code">ST_AsText(geom, 6)</code> renverra le même résultat avec n'importe laquelle de ces entrées. Comme nous pouvons fixer ces bits à n'importe quelle valeur, <code class="code">ST_QuantizeCoordinates</code> fixe les 22 bits non significatifs à zéro. Pour une longue séquence de coordonnées, cela crée un motif de blocs de zéros consécutifs qui est compressé par PostgreSQL de manière plus efficace. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Seule la taille sur disque de la géométrie est potentiellement affectée par <code class="code">ST_QuantizeCoordinates</code>. <a class="xref" href="#ST_MemSize" title="ST_MemSize">ST_MemSize</a>, qui indique l'utilisation en mémoire de la géométrie, renverra la même valeur quel que soit l'espace disque utilisé par une géométrie. </p></td></tr></table></div></div><div class="refsection" id="idm7442"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_QuantizeCoordinates('POINT (100.123456 0)'::geometry, 4));
st_astext
-------------------------
POINT(100.123455047607 0)
                        </pre><pre class="programlisting">WITH test AS (SELECT 'POINT (123.456789123456 123.456789123456)'::geometry AS geom)
SELECT
  digits,
  encode(ST_QuantizeCoordinates(geom, digits), 'hex'),
  ST_AsText(ST_QuantizeCoordinates(geom, digits))
FROM test, generate_series(15, -15, -1) AS digits;

digits  |                   encode                   |                st_astext
--------+--------------------------------------------+------------------------------------------
15      | 01010000005f9a72083cdd5e405f9a72083cdd5e40 | POINT(123.456789123456 123.456789123456)
14      | 01010000005f9a72083cdd5e405f9a72083cdd5e40 | POINT(123.456789123456 123.456789123456)
13      | 01010000005f9a72083cdd5e405f9a72083cdd5e40 | POINT(123.456789123456 123.456789123456)
12      | 01010000005c9a72083cdd5e405c9a72083cdd5e40 | POINT(123.456789123456 123.456789123456)
11      | 0101000000409a72083cdd5e40409a72083cdd5e40 | POINT(123.456789123456 123.456789123456)
10      | 0101000000009a72083cdd5e40009a72083cdd5e40 | POINT(123.456789123455 123.456789123455)
9       | 0101000000009072083cdd5e40009072083cdd5e40 | POINT(123.456789123418 123.456789123418)
8       | 0101000000008072083cdd5e40008072083cdd5e40 | POINT(123.45678912336 123.45678912336)
7       | 0101000000000070083cdd5e40000070083cdd5e40 | POINT(123.456789121032 123.456789121032)
6       | 0101000000000040083cdd5e40000040083cdd5e40 | POINT(123.456789076328 123.456789076328)
5       | 0101000000000000083cdd5e40000000083cdd5e40 | POINT(123.456789016724 123.456789016724)
4       | 0101000000000000003cdd5e40000000003cdd5e40 | POINT(123.456787109375 123.456787109375)
3       | 0101000000000000003cdd5e40000000003cdd5e40 | POINT(123.456787109375 123.456787109375)
2       | 01010000000000000038dd5e400000000038dd5e40 | POINT(123.45654296875 123.45654296875)
1       | 01010000000000000000dd5e400000000000dd5e40 | POINT(123.453125 123.453125)
0       | 01010000000000000000dc5e400000000000dc5e40 | POINT(123.4375 123.4375)
-1      | 01010000000000000000c05e400000000000c05e40 | POINT(123 123)
-2      | 01010000000000000000005e400000000000005e40 | POINT(120 120)
-3      | 010100000000000000000058400000000000005840 | POINT(96 96)
-4      | 010100000000000000000058400000000000005840 | POINT(96 96)
-5      | 010100000000000000000058400000000000005840 | POINT(96 96)
-6      | 010100000000000000000058400000000000005840 | POINT(96 96)
-7      | 010100000000000000000058400000000000005840 | POINT(96 96)
-8      | 010100000000000000000058400000000000005840 | POINT(96 96)
-9      | 010100000000000000000058400000000000005840 | POINT(96 96)
-10     | 010100000000000000000058400000000000005840 | POINT(96 96)
-11     | 010100000000000000000058400000000000005840 | POINT(96 96)
-12     | 010100000000000000000058400000000000005840 | POINT(96 96)
-13     | 010100000000000000000058400000000000005840 | POINT(96 96)
-14     | 010100000000000000000058400000000000005840 | POINT(96 96)
-15     | 010100000000000000000058400000000000005840 | POINT(96 96)
</pre></div><div class="refsection" id="idm7446"><h2>Voir aussi</h2><p><a class="xref" href="#ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a></p></div></div><div class="refentry" id="ST_RemovePoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemovePoint — Supprime un point d'une ligne.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_RemovePoint</strong>(</code>geometry <var class="pdparam">linestring</var>, integer <var class="pdparam">offset</var><code>)</code>;</p></div></div><div class="refsection" id="idm7465"><h2>Description</h2><p>Supprime un point d'une LineString, en fonction de son index (basé sur 0). Utile pour transformer une ligne fermée (anneau) en une ligne ouverte. </p><p class="enhanced">Amélioration : 3.2.0</p><p class="availability">Disponibilité : 1.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm7474"><h2>Exemples</h2><p>Garantit qu'aucune ligne n'est fermée en supprimant le point final des lignes fermées (anneaux). Suppose que geom est de type LINESTRING</p><pre class="programlisting">UPDATE sometable
        SET geom = ST_RemovePoint(geom, ST_NPoints(geom) - 1)
        FROM sometable
        WHERE ST_IsClosed(geom);
</pre></div><div class="refsection" id="idm7478"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AddPoint" title="ST_AddPoint">ST_AddPoint</a>, <a class="xref" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a>, <a class="xref" href="#ST_NumPoints" title="ST_NumPoints">ST_NumPoints</a></p></div></div><div class="refentry" id="ST_RemoveRepeatedPoints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemoveRepeatedPoints — Renvoie une version d'une géométrie dont les points en double ont été supprimés.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_RemoveRepeatedPoints</strong>(</code>geometry <var class="pdparam">geom</var>, float8 <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm7499"><h2>Description</h2><p>Renvoie une version de la géométrie donnée dont les points consécutifs en double ont été supprimés. La fonction ne traite que les (Multi)LineStrings, les (Multi)Polygons et les MultiPoints, mais elle peut être appelée avec n'importe quel type de géométrie. Les éléments des collections de géométries sont traités individuellement. Les extrémités des lignes sont préservées. </p><p>Si le paramètre <em class="parameter"><code>tolérance</code></em> est fourni, les sommets situés dans la distance de tolérance les uns des autres sont considérés comme des doublons.</p><p class="enhanced">Amélioration : 3.2.0</p><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm7514"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText( ST_RemoveRepeatedPoints( 'MULTIPOINT ((1 1), (2 2), (3 3), (2 2))'));
-------------------------
 MULTIPOINT(1 1,2 2,3 3)
</pre><pre class="programlisting">SELECT ST_AsText( ST_RemoveRepeatedPoints( 'LINESTRING (0 0, 0 0, 1 1, 0 0, 1 1, 2 2)'));
---------------------------------
 LINESTRING(0 0,1 1,0 0,1 1,2 2)
</pre><p><span class="bold"><strong>Exemple:</strong></span> Les éléments de la collection sont traités individuellement. </p><pre class="programlisting">SELECT ST_AsText( ST_RemoveRepeatedPoints( 'GEOMETRYCOLLECTION (LINESTRING (1 1, 2 2, 2 2, 3 3), POINT (4 4), POINT (4 4), POINT (5 5))'));
------------------------------------------------------------------------------
 GEOMETRYCOLLECTION(LINESTRING(1 1,2 2,3 3),POINT(4 4),POINT(4 4),POINT(5 5))
</pre><p><span class="bold"><strong>Exemple:</strong></span> Suppression répété de points avec une tolérance de distance. </p><pre class="programlisting">SELECT ST_AsText( ST_RemoveRepeatedPoints( 'LINESTRING (0 0, 0 0, 1 1, 5 5, 1 1, 2 2)', 2));
-------------------------
 LINESTRING(0 0,5 5,2 2)
</pre></div><div class="refsection" id="idm7524"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a></p></div></div><div class="refentry" id="ST_RemoveIrrelevantPointsForView"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemoveIrrelevantPointsForView — Removes points that are irrelevant for rendering a specific rectangluar view of a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_RemoveIrrelevantPointsForView</strong>(</code>geometry  <var class="pdparam">geom</var>, box2d  <var class="pdparam">bounds</var>, boolean <var class="pdparam">cartesian_hint = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm7546"><h2>Description</h2><p>Returns a <a class="xref" href="#geometry" title="geometry">geometry</a> without points being irrelevant for rendering the geometry within a given rectangluar view.</p><p>This function can be used to quickly preprocess geometries that should be rendered only within certain bounds.</p><p>Only geometries of type (MULTI)POLYGON and (MULTI)LINESTRING are evaluated. Other geometries keep unchanged.</p><p>In contrast to <code class="code">ST_ClipByBox2D()</code> this function </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>sorts out points without computing new intersection points which avoids rounding errors and usually increases performance,</p></li><li class="listitem"><p>returns a geometry with equal or similar point number,</p></li><li class="listitem"><p>leads to the same rendering result within the specified view, and</p></li><li class="listitem"><p>may introduce self-intersections which would make the resulting geometry invalid (see example below).</p></li></ul></div><p>
		</p><p>If <code class="code">cartesian_hint</code> is set to <code class="code">true</code>, the algorithm applies additional optimizations involving cartesian math to further reduce the resulting point number. Please note that using this option might introduce rendering artifacts if the resulting coordinates are projected into another (non-cartesian) coordinate system before rendering. </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>For polygons, this function does currently not ensure that the result is valid. This situation can be checked with <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a> and repaired with <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a>. </p></td></tr></table></div><p>
			</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_removeirrelevantpointsforview.png"/><div class="caption"><p>Example: ST_RemoveIrrelevantPointsForView() applied to a polygon. Blue points remain, the rendering result (light-blue area) within the grey view box remains as well.</p></div></div></div><p>
		</p><p>
			</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_removeirrelevantpointsforview_crossing.png"/><div class="caption"><p>Example: Due to the fact that points are just sorted out and no new points are computed, the result of ST_RemoveIrrelevantPointsForView() may contain self-intersections.</p></div></div></div><p>
		</p><p class="availability">Disponibilité : 3.5.0</p></div><div class="refsection" id="idm7585"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(
                        ST_RemoveIrrelevantPointsForView(
                        ST_GeomFromText('MULTIPOLYGON(((10 10, 20 10, 30 10, 40 10, 20 20, 10 20, 10 10)),((10 10, 20 10, 20 20, 10 20, 10 10)))'),
                        ST_MakeEnvelope(12,12,18,18), true));
                
                st_astext
                ---------
                    MULTIPOLYGON(((10 10,40 10,20 20,10 20,10 10)),((10 10,20 10,20 20,10 20,10 10)))
                </pre><pre class="programlisting">SELECT ST_AsText(
                        ST_RemoveIrrelevantPointsForView(
                        ST_GeomFromText('MULTILINESTRING((0 0, 10 0,20 0,30 0), (0 15, 5 15, 10 15, 15 15, 20 15, 25 15, 30 15, 40 15), (13 13,15 15,17 17))'),
                        ST_MakeEnvelope(12,12,18,18), true));
                
                st_astext
                ---------
                        MULTILINESTRING((10 15,15 15,20 15),(13 13,15 15,17 17))
                </pre><pre class="programlisting">SELECT ST_AsText(
                        ST_RemoveIrrelevantPointsForView(
                        ST_GeomFromText('LINESTRING(0 0, 10 0,20 0,30 0)'),
                        ST_MakeEnvelope(12,12,18,18), true));
                
                st_astext
                ---------
                    LINESTRING EMPTY
                </pre><pre class="programlisting">SELECT ST_AsText(
                        ST_RemoveIrrelevantPointsForView(
                        ST_GeomFromText('POLYGON((0 30, 15 30, 30 30, 30 0, 0 0, 0 30))'),
                        ST_MakeEnvelope(12,12,18,18), true));
                
                st_astext
                ---------
                    POLYGON((15 30,30 0,0 0,15 30))
                </pre><pre class="programlisting">SELECT ST_AsText(
                        ST_RemoveIrrelevantPointsForView(
                        ST_GeomFromText('POLYGON((0 30, 15 30, 30 30, 30 0, 0 0, 0 30))'),
                        ST_MakeEnvelope(12,12,18,18)));
                
                st_astext
                ---------
                    POLYGON((0 30,30 30,30 0,0 0,0 30))
                </pre></div><div class="refsection" id="idm7592"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ClipByBox2D" title="ST_ClipByBox2D">ST_ClipByBox2D</a>, <a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a></p></div></div><div class="refentry" id="ST_RemoveSmallParts"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemoveSmallParts — Removes small parts (polygon rings or linestrings) of a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_RemoveSmallParts</strong>(</code>geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">minSizeX</var>, double precision  <var class="pdparam">minSizeY</var><code>)</code>;</p></div></div><div class="refsection" id="idm7615"><h2>Description</h2><p>Returns a <a class="xref" href="#geometry" title="geometry">geometry</a> without small parts (exterior or interior polygon rings, or linestrings).</p><p>This function can be used as preprocessing step for creating simplified maps, e. g. to remove small islands or holes.</p><p>It evaluates only geometries of type (MULTI)POLYGON and (MULTI)LINESTRING. Other geometries remain unchanged.</p><p>If <em class="parameter"><code>minSizeX</code></em> is greater than 0, parts are sorted out if their width is smaller than <em class="parameter"><code>minSizeX</code></em>.</p><p>If <em class="parameter"><code>minSizeY</code></em> is greater than 0, parts are sorted out if their height is smaller than <em class="parameter"><code>minSizeY</code></em>.</p><p>Both <em class="parameter"><code>minSizeX</code></em> and <em class="parameter"><code>minSizeY</code></em> are measured in coordinate system units of the geometry.</p><p>For polygon types, evaluation is done separately for each ring which can lead to one of the following results: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>the original geometry,</p></li><li class="listitem"><p>a POLYGON with all rings with less vertices,</p></li><li class="listitem"><p>a POLYGON with a reduced number of interior rings (having possibly less vertices),</p></li><li class="listitem"><p>a POLYGON EMPTY, or</p></li><li class="listitem"><p>a MULTIPOLYGON with a reduced number of polygons (having possibly less interior rings or vertices), or</p></li><li class="listitem"><p>a MULTIPOLYGON EMPTY.</p></li></ul></div><p>
		</p><p>For linestring types, evaluation is done for each linestring which can lead to one of the following results: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>the original geometry,</p></li><li class="listitem"><p>a LINESTRING with a reduced number of vertices,</p></li><li class="listitem"><p>a LINESTRING EMPTY,</p></li><li class="listitem"><p>a MULTILINESTRING with a reduced number of linestrings (having possibly less vertices), or</p></li><li class="listitem"><p>a MULTILINESTRING EMPTY.</p></li></ul></div><p>
		</p><p>
            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_removesmallparts.png"/><div class="caption"><p>Example: ST_RemoveSmallParts() applied to a multi-polygon. Blue parts remain.</p></div></div></div><p>
        </p><p class="availability">Disponibilité : 3.5.0</p></div><div class="refsection" id="idm7664"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(
                        ST_RemoveSmallParts(
                        ST_GeomFromText('MULTIPOLYGON(
                                ((60 160, 120 160, 120 220, 60 220, 60 160), (70 170, 70 210, 110 210, 110 170, 70 170)),
                                ((85 75, 155 75, 155 145, 85 145, 85 75)),
                                ((50 110, 70 110, 70 130, 50 130, 50 110)))'),
                                50, 50));
                
                st_astext
                ---------
                        MULTIPOLYGON(((60 160,120 160,120 220,60 220,60 160)),((85 75,155 75,155 145,85 145,85 75)))
                </pre><pre class="programlisting">SELECT ST_AsText(
                        ST_RemoveSmallParts(
                        ST_GeomFromText('LINESTRING(10 10, 20 20)'),
                                50, 50));
                
                st_astext
                ---------
                        LINESTRING EMPTY
                </pre></div></div><div class="refentry" id="ST_Reverse"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Reverse — Retourne la géométrie avec l'ordre des sommets inversé.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Reverse</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm7680"><h2>Description</h2><p>Peut être utilisé sur n'importe quelle géométrie et inverse l'ordre des sommets.</p><p class="enhanced">Amélioration : la prise en charge des courbes a été introduite dans la version 2.4.0.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm7692"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(geom) as line, ST_AsText(ST_Reverse(geom)) As reverseline
FROM
(SELECT ST_MakeLine(ST_Point(1,2),
                ST_Point(1,10)) As geom) as foo;
--result
                line         |     reverseline
---------------------+----------------------
LINESTRING(1 2,1 10) | LINESTRING(1 10,1 2)
</pre></div></div><div class="refentry" id="ST_Segmentize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Segmentize — Renvoie une geometry/geography modifiée dont aucun segment ne dépasse une distance donnée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Segmentize</strong>(</code>geometry  <var class="pdparam">geom</var>, float  <var class="pdparam">max_segment_length</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_Segmentize</strong>(</code>geography  <var class="pdparam">geog</var>, float  <var class="pdparam">max_segment_length</var><code>)</code>;</p></div></div><div class="refsection" id="idm7719"><h2>Description</h2><p>Renvoie une geometry/geography modifiée dont aucun segment n'est plus long que <code class="varname">max_segment_length</code>. La longueur est calculée en 2D. Les segments sont toujours divisés en sous-segments de même longueur. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Pour la géométrie, la longueur maximale est exprimée dans les unités du système de référence spatiale. </p></li><li class="listitem"><p>En géographie, la longueur maximale est exprimée en mètres. Les distances sont calculées sur la sphère. Les sommets ajoutés sont créés le long des arcs de grands cercles sphériques définis par les extrémités des segments. </p></li></ul></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette opération ne fait que raccourcir les segments longs. Elle n'allonge pas les segments plus courts que la longueur maximale. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour les entrées contenant de longs segments, la spécification d'un <code class="varname">max_segment_length</code> relativement court peut entraîner l'ajout d'un très grand nombre de sommets. Cela peut se produire involontairement si l'argument est spécifié accidentellement comme un nombre de segments, plutôt que comme une longueur maximale. </p></td></tr></table></div><p class="availability">Disponibilité : 1.2.2</p><p class="enhanced">Amélioration : 3.0.0 La segmentation de géométrie produit désormais des sous-segments de longueur égale</p><p class="enhanced">Amélioration : 2.3.0 La segmentation d'objets geography produit désormais des sous-segments de longueur égale</p><p class="enhanced">Amélioration : la prise en charge des objets de type geography a été introduite dans la version 2.1.0.</p><p class="changed">Modifié : 2.1.0 Suite à l'introduction de la prise en charge du type geography, l'utilisation <code class="code">ST_Segmentize('LINESTRING(1 2, 3 4)', 0.5)</code> provoque une erreur de fonction ambiguë. L'entrée doit être correctement typée en tant que geometry ou geography. Utilisez ST_GeomFromText, ST_GeogFromText ou un cast vers le type requis (par exemple, <code class="code">ST_Segmentize('LINESTRING(1 2, 3 4)'::geometry, 0.5) )</code></p></div><div class="refsection" id="idm7740"><h2>Exemples</h2><p>La segmentation d'une ligne. Les segments longs sont divisés de manière égale et les segments courts ne sont pas divisés.</p><pre class="programlisting">SELECT ST_AsText(ST_Segmentize(
    'MULTILINESTRING((0 0, 0 1, 0 9),(1 10, 1 18))'::geometry,
        5 ) );
---------------------------------------------------
MULTILINESTRING((0 0,0 1,0 5,0 9),(1 10,1 14,1 18))
</pre><p>Segmentation d'un polygone :</p><pre class="programlisting">SELECT ST_AsText(
        ST_Segmentize(('POLYGON((0 0, 0 8, 30 0, 0 0))'::geometry), 10));
-------------------------------------------------------
POLYGON((0 0,0 8,7.5 6,15 4,22.5 2,30 0,20 0,10 0,0 0))
</pre><p>Segmentation d'une ligne géographique, en utilisant une longueur de segment maximale de 2000 kilomètres. Les sommets sont ajoutés le long de l'arc de grand cercle reliant les points d'extrémité. </p><pre class="programlisting">SELECT ST_AsText(
        ST_Segmentize(('LINESTRING (0 0, 60 60)'::geography), 2000000));
-------------------------------------------------------------
LINESTRING(0 0,4.252632294621186 8.43596525986862,8.69579947419404 16.824093489701564,13.550465473227048 25.107950473646188,19.1066053508691 33.21091076089908,25.779290201459894 41.01711439406505,34.188839517966954 48.337222885886,45.238153936612264 54.84733442373889,60 60)
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_segmentize01.png"/><div class="caption"><p>Une ligne géographique segmentée le long d'un arc de grand cercle</p></div></div></div></div><div class="refsection" id="idm7754"><h2>Voir aussi</h2><p><a class="xref" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a></p></div></div><div class="refentry" id="ST_SetPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetPoint — Remplacer le point d'une ligne par un point donné.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SetPoint</strong>(</code>geometry <var class="pdparam">linestring</var>, integer <var class="pdparam">zerobasedposition</var>, geometry <var class="pdparam">point</var><code>)</code>;</p></div></div><div class="refsection" id="idm7776"><h2>Description</h2><p>Remplace le point N de la ligne par le point donné. L'index est basé sur 0. Les index négatifs sont comptés à rebours, de sorte que -1 est le dernier point. Cette fonction est particulièrement utile dans les triggers lorsqu'il s'agit de maintenir la relation entre les articulations lorsqu'un sommet se déplace.</p><p class="availability">Disponibilité : 1.1.0</p><p>Mise à jour 2.3.0 : indexation négative</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm7785"><h2>Exemples</h2><pre class="programlisting">--Change first point in line string from -1 3 to -1 1
SELECT ST_AsText(ST_SetPoint('LINESTRING(-1 2,-1 3)', 0, 'POINT(-1 1)'));
           st_astext
-----------------------
 LINESTRING(-1 1,-1 3)

---Change last point in a line string (lets play with 3d linestring this time)
SELECT ST_AsEWKT(ST_SetPoint(foo.geom, ST_NumPoints(foo.geom) - 1, ST_GeomFromEWKT('POINT(-1 1 3)')))
FROM (SELECT ST_GeomFromEWKT('LINESTRING(-1 2 3,-1 3 4, 5 6 7)') As geom) As foo;
           st_asewkt
-----------------------
LINESTRING(-1 2 3,-1 3 4,-1 1 3)

SELECT ST_AsText(ST_SetPoint(g, -3, p))
FROM ST_GEomFromText('LINESTRING(0 0, 1 1, 2 2, 3 3, 4 4)') AS g
        , ST_PointN(g,1) as p;
           st_astext
-----------------------
LINESTRING(0 0,1 1,0 0,3 3,4 4)

                        </pre></div><div class="refsection" id="idm7788"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AddPoint" title="ST_AddPoint">ST_AddPoint</a>, <a class="xref" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a>, <a class="xref" href="#ST_NumPoints" title="ST_NumPoints">ST_NumPoints</a>, <a class="xref" href="#ST_PointN" title="ST_PointN">ST_PointN</a>, <a class="xref" href="#ST_RemovePoint" title="ST_RemovePoint">ST_RemovePoint</a></p></div></div><div class="refentry" id="ST_ShiftLongitude"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ShiftLongitude — Décale les coordonnées de longitude d'une géométrie entre -180..180 et 0..360.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ShiftLongitude</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm7808"><h2>Description</h2><p>Lit chaque point/vertex d'une géométrie et déplace sa coordonnée de longitude de -180..0 à 180..360 et vice versa si elle se trouve entre ces plages. Cette fonction est symétrique, de sorte que le résultat est une représentation 0..360 d'une donnée -180..180 et une représentation -180..180 d'une donnée 0..360. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Ceci n'est utile que pour les données dont les coordonnées sont exprimées en longitude/latitude ; par exemple, SRID 4326 (WGS 84 géographique)</p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Un bug antérieur à la version 1.3.4 empêchait le fonctionnement pour MULTIPOINT. La version 1.3.4+ fonctionne également avec MULTIPOINT.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN et surfaces polyédriques.</p><p>NOTE : cette fonction a été renommée "ST_Shift_Longitude" dans la version 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm7829"><h2>Exemples</h2><pre class="programlisting">--single point forward transformation
SELECT ST_AsText(ST_ShiftLongitude('SRID=4326;POINT(270 0)'::geometry))

st_astext
----------
POINT(-90 0)


--single point reverse transformation
SELECT ST_AsText(ST_ShiftLongitude('SRID=4326;POINT(-90 0)'::geometry))

st_astext
----------
POINT(270 0)


--for linestrings the functions affects only to the sufficient coordinates
SELECT ST_AsText(ST_ShiftLongitude('SRID=4326;LINESTRING(174 12, 182 13)'::geometry))

st_astext
----------
LINESTRING(174 12,-178 13)
        </pre></div><div class="refsection" id="idm7832"><h2>Voir aussi</h2><p>
      <a class="xref" href="#ST_WrapX" title="ST_WrapX">ST_WrapX</a>
    </p></div></div><div class="refentry" id="ST_WrapX"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_WrapX — Enveloppe une géométrie autour d'une valeur X.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_WrapX</strong>(</code>geometry  <var class="pdparam">geom</var>, float8  <var class="pdparam">wrap</var>, float8  <var class="pdparam">move</var><code>)</code>;</p></div></div><div class="refsection" id="idm7854"><h2>Description</h2><p>Cette fonction divise les géométries d'entrée et déplace ensuite chaque composant résultant tombant à droite (pour un "move" négatif) ou à gauche (pour un "move" positif) de la ligne "wrap" donnée dans la direction spécifiée par le paramètre "move", pour finalement réassembler les morceaux. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction est utile pour "recentrer" les données à long terme afin que les caractéristiques intéressantes ne soient pas produites d'un côté à l'autre. </p></td></tr></table></div><p class="availability">Disponibilité : 2.3.0 nécessite GEOS</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm7864"><h2>Exemples</h2><pre class="programlisting">-- Move all components of the given geometries whose bounding box
-- falls completely on the left of x=0 to +360
select ST_WrapX(geom, 0, 360);

-- Move all components of the given geometries whose bounding box
-- falls completely on the left of x=-30 to +360
select ST_WrapX(geom, -30, 360);
        </pre></div><div class="refsection" id="idm7867"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ShiftLongitude" title="ST_ShiftLongitude">ST_ShiftLongitude</a></p></div></div><div class="refentry" id="ST_SnapToGrid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SnapToGrid — Accrocher tous les points de la géométrie d'entrée à une grille régulière. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SnapToGrid</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">originX</var>, float  <var class="pdparam">originY</var>, float  <var class="pdparam">sizeX</var>, float  <var class="pdparam">sizeY</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_SnapToGrid</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">sizeX</var>, float  <var class="pdparam">sizeY</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_SnapToGrid</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">size</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_SnapToGrid</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">pointOrigin</var>, float  <var class="pdparam">sizeX</var>, float  <var class="pdparam">sizeY</var>, float  <var class="pdparam">sizeZ</var>, float  <var class="pdparam">sizeM</var><code>)</code>;</p></div></div><div class="refsection" id="idm7937"><h2>Description</h2><p>Variante 1,2,3 : Accrocher tous les points de la géométrie d'entrée à la grille définie par l'origine et la taille des cellules. Supprime les points consécutifs tombant sur la même cellule, et renvoie éventuellement NULL si les points de sortie ne sont pas suffisants pour définir une géométrie du type donné. Les géométries écrasées d'une collection sont supprimées de celle-ci. Utile pour réduire la précision. </p><p>Variante 4 : Introduite dans la version 1.1.0 - Accroche tous les points de la géométrie d'entrée à la grille définie par son origine (le deuxième argument doit être un point) et la taille des cellules. Spécifiez 0 comme taille pour toute dimension que vous ne voulez pas accrocher à une grille.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La géométrie renvoyée peut perdre sa simplicité (voir <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>).</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Avant la version 1.1.0, cette fonction renvoyait toujours une géométrie 2D. A partir de la version 1.1.0, la géométrie renvoyée aura la même dimensionnalité que la géométrie d'entrée, les valeurs de dimensions supérieures n'étant pas modifiées. Utilisez la version prenant un second argument géométrique pour définir toutes les dimensions de la grille.</p></td></tr></table></div><p class="availability">Disponibilité : 1.0.0RC1</p><p class="availability">Disponibilité : 1.1.0 - Prise en charge des Z et M</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm7952"><h2>Exemples</h2><pre class="programlisting">--Snap your geometries to a precision grid of 10^-3
UPDATE mytable
   SET geom = ST_SnapToGrid(geom, 0.001);

SELECT ST_AsText(ST_SnapToGrid(
                        ST_GeomFromText('LINESTRING(1.1115678 2.123, 4.111111 3.2374897, 4.11112 3.23748667)'),
                        0.001)
                );
                          st_astext
-------------------------------------
 LINESTRING(1.112 2.123,4.111 3.237)
 --Snap a 4d geometry
SELECT ST_AsEWKT(ST_SnapToGrid(
        ST_GeomFromEWKT('LINESTRING(-1.1115678 2.123 2.3456 1.11111,
                4.111111 3.2374897 3.1234 1.1111, -1.11111112 2.123 2.3456 1.1111112)'),
 ST_GeomFromEWKT('POINT(1.12 2.22 3.2 4.4444)'),
 0.1, 0.1, 0.1, 0.01) );
                                                                  st_asewkt
------------------------------------------------------------------------------
 LINESTRING(-1.08 2.12 2.3 1.1144,4.12 3.22 3.1 1.1144,-1.08 2.12 2.3 1.1144)


--With a 4d geometry - the ST_SnapToGrid(geom,size) only touches x and y coords but keeps m and z the same
SELECT ST_AsEWKT(ST_SnapToGrid(ST_GeomFromEWKT('LINESTRING(-1.1115678 2.123 3 2.3456,
                4.111111 3.2374897 3.1234 1.1111)'),
           0.01)      );
                                                st_asewkt
---------------------------------------------------------
 LINESTRING(-1.11 2.12 3 2.3456,4.11 3.24 3.1234 1.1111)

                </pre></div><div class="refsection" id="idm7955"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Snap" title="ST_Snap">ST_Snap</a>, <a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a> </p></div></div><div class="refentry" id="ST_Snap"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Snap — Accrocher les segments et les sommets de la géométrie d'entrée aux sommets d'une géométrie de référence. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Snap</strong>(</code>geometry  <var class="pdparam">input</var>, geometry  <var class="pdparam">reference</var>, float  <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm7982"><h2>Description</h2><p>Accroche les sommets et les segments d'une géométrie aux sommets d'une autre géométrie. Une tolérance de distance d'accrochage est utilisée pour contrôler l'endroit où l'accrochage est effectué. La géométrie résultante est la géométrie d'entrée avec les sommets accrochés. Si aucun accrochage n'a lieu, la géométrie d'entrée est renvoyée inchangée. </p><p>L'accrochage d'une géométrie à une autre peut améliorer la robustesse des opérations de superposition en éliminant les arêtes presque coïncidentes (qui posent des problèmes lors du noding et du calcul de l'intersection). </p><p>Un accrochage trop important peut entraîner la création d'une topologie non valide, c'est pourquoi le nombre et l'emplacement des sommets accrochés sont décidés à l'aide d'une heuristique pour déterminer quand il est sûr d'accrocher. Cela peut toutefois entraîner l'omission de certains accrochages potentiels. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La géométrie renvoyée peut perdre sa simplicité (voir <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>) et sa validité (voir <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>). </p></td></tr></table></div><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm7993"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="column1"/><col class="column2"/></colgroup><tbody><tr><td style="text-align: center; border-bottom: 1px solid ; " colspan="2"><div class="informalfigure"><div class="mediaobject"><img src="images/st_snap01.png"/><div class="caption"><p>Un multipolygone représenté par une ligne (avant tout accrochage)</p></div></div></div>
					   </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_snap02.png"/><div class="caption"><p>Un multipolygone est accroché à une ligne de référence avec une tolérance de 1,01 de la distance. Le nouveau multipolygone est représenté avec la ligne de référence</p></div></div></div><p>
				</p><pre class="programlisting">SELECT ST_AsText(ST_Snap(poly,line, ST_Distance(poly,line)*1.01)) AS polysnapped
FROM (SELECT
   ST_GeomFromText('MULTIPOLYGON(
     ((26 125, 26 200, 126 200, 126 125, 26 125 ),
      ( 51 150, 101 150, 76 175, 51 150 )),
      (( 151 100, 151 200, 176 175, 151 100 )))') As poly,
       ST_GeomFromText('LINESTRING (5 107, 54 84, 101 100)') As line
        ) As foo;

                             polysnapped
---------------------------------------------------------------------
 MULTIPOLYGON(((26 125,26 200,126 200,126 125,101 100,26 125),
 (51 150,101 150,76 175,51 150)),((151 100,151 200,176 175,151 100)))
                                </pre>
					</td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_snap04.png"/><div class="caption"><p>Un multipolygone est accroché à une ligne de référence avec une tolérance de 1,25 de la distance. Le nouveau multipolygone est représenté avec la ligne de référence</p></div></div></div><p>
				</p><pre class="programlisting">SELECT ST_AsText(
    ST_Snap(poly,line, ST_Distance(poly,line)*1.25)
  ) AS polysnapped
FROM (SELECT
  ST_GeomFromText('MULTIPOLYGON(
    (( 26 125, 26 200, 126 200, 126 125, 26 125 ),
      ( 51 150, 101 150, 76 175, 51 150 )),
      (( 151 100, 151 200, 176 175, 151 100 )))') As poly,
       ST_GeomFromText('LINESTRING (5 107, 54 84, 101 100)') As line
        ) As foo;

                             polysnapped
---------------------------------------------------------------------
MULTIPOLYGON(((5 107,26 200,126 200,126 125,101 100,54 84,5 107),
(51 150,101 150,76 175,51 150)),((151 100,151 200,176 175,151 100)))
                                </pre>
						</td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_snap03.png"/><div class="caption"><p>La ligne s'est accrochée au multipolygone d'origine avec une tolérance de 1,01 de la distance. La nouvelle ligne est représentée avec le multipolygone de référence</p></div></div></div><p>
				</p><pre class="programlisting">SELECT ST_AsText(
   ST_Snap(line, poly, ST_Distance(poly,line)*1.01)
  ) AS linesnapped
FROM (SELECT
  ST_GeomFromText('MULTIPOLYGON(
     ((26 125, 26 200, 126 200, 126 125, 26 125),
      (51 150, 101 150, 76 175, 51 150 )),
      ((151 100, 151 200, 176 175, 151 100)))') As poly,
       ST_GeomFromText('LINESTRING (5 107, 54 84, 101 100)') As line
        ) As foo;

              linesnapped
----------------------------------------
 LINESTRING(5 107,26 125,54 84,101 100)
                                </pre><p>
						  </p>
					</td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_snap05.png"/><div class="caption"><p>La ligne s'est accrochée au multipolygone d'origine avec une tolérance de 1,25 de la distance. La nouvelle ligne est représentée avec le multipolygone de référence</p></div></div></div><p>
				</p><pre class="programlisting">SELECT ST_AsText(
 ST_Snap(line, poly, ST_Distance(poly,line)*1.25)
  ) AS linesnapped
FROM (SELECT
  ST_GeomFromText('MULTIPOLYGON(
     (( 26 125, 26 200, 126 200, 126 125, 26 125 ),
      (51 150, 101 150, 76 175, 51 150 )),
      ((151 100, 151 200, 176 175, 151 100 )))') As poly,
       ST_GeomFromText('LINESTRING (5 107, 54 84, 101 100)') As line
        ) As foo;
              linesnapped
---------------------------------------
LINESTRING(26 125,54 84,101 100)
                                </pre>
					</td></tr></tbody></table></div></div><div class="refsection" id="idm8048"><h2>Voir aussi</h2><p>
		<a class="xref" href="#ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a>
		</p></div></div><div class="refentry" id="ST_SwapOrdinates"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SwapOrdinates — Renvoie une version de la géométrie donnée avec les valeurs d'ordonnées permutées. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SwapOrdinates</strong>(</code>geometry <var class="pdparam">geom</var>, cstring <var class="pdparam">ords</var><code>)</code>;</p></div></div><div class="refsection" id="idm8067"><h2>Description</h2><p>Renvoie une version de la géométrie donnée dont les ordonnées ont été interverties. </p><p>Le paramètre <code class="varname">ords</code> est une chaîne de 2 caractères désignant les ordonnées à permuter. Les noms valides sont : x, y, z et m. </p><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les coordonnées M. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm8093"><h2>Exemple</h2><pre class="programlisting">-- Scale M value by 2
SELECT ST_AsText(
  ST_SwapOrdinates(
    ST_Scale(
      ST_SwapOrdinates(g,'xm'),
      2, 1
    ),
  'xm')
) FROM ( SELECT 'POINT ZM (0 0 0 2)'::geometry g ) foo;
     st_astext
--------------------
 POINT ZM (0 0 0 4)
                 </pre></div><div class="refsection" id="idm8096"><h2>Voir aussi</h2><p> <a class="xref" href="#ST_FlipCoordinates" title="ST_FlipCoordinates">ST_FlipCoordinates</a> </p></div></div></section><section class="section" id="Geometry_Validation"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.6. Validation de la géométrie</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions vérifient si les géométries sont valides selon la norme SFS de l'OGC. Elles fournissent également des informations sur la nature et la localisation de l'invalidité. Il existe également une fonction permettant de créer une géométrie valide à partir d'une géométrie invalide. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_IsValid">ST_IsValid</a></span><span class="refpurpose"> — Teste si une géométrie est bien formée en 2D. </span></li><li><span class="refentrytitle"><a href="#ST_IsValidDetail">ST_IsValidDetail</a></span><span class="refpurpose"> — Renvoie une ligne <code class="varname">valid_detail</code> indiquant si une géométrie est valide ou sinon une raison et une localisation.</span></li><li><span class="refentrytitle"><a href="#ST_IsValidReason">ST_IsValidReason</a></span><span class="refpurpose"> — Renvoie un texte indiquant si une géométrie est valide, ou la raison de son invalidité.</span></li><li><span class="refentrytitle"><a href="#ST_MakeValid">ST_MakeValid</a></span><span class="refpurpose"> — Tente de rendre valide une géométrie invalide sans perdre de sommets.</span></li></ul></div><div class="refentry" id="ST_IsValid"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsValid — Teste si une géométrie est bien formée en 2D. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsValid</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsValid</strong>(</code>geometry  <var class="pdparam">g</var>, integer  <var class="pdparam">flags</var><code>)</code>;</p></div></div><div class="refsection" id="idm8126"><h2>Description</h2><p>Teste si une valeur ST_Geometry est bien formée et valide en 2D selon les règles de l'OGC. Pour les géométries à 3 et 4 dimensions, la validité est toujours testée uniquement en 2 dimensions. Pour les géométries qui ne sont pas valides, une NOTICE PostgreSQL est émise fournissant les détails de la raison pour laquelle elle n'est pas valide. </p><p>Pour la version avec le paramètre <code class="varname">flags</code>, les valeurs prises en charge sont documentées dans <a class="xref" href="#ST_IsValidDetail" title="ST_IsValidDetail">ST_IsValidDetail</a> Cette version n'imprime pas de NOTICE expliquant l'invalidité. </p><p>Pour plus d'informations sur la définition de la validité des géométries, reportez-vous à <a class="xref" href="#OGC_Validity" title="4.4. Validation de la géométrie">Section 4.4, “Validation de la géométrie”</a> </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>SQL-MM définit le résultat de ST_IsValid(NULL) comme étant 0, alors que PostGIS renvoie NULL.</p></td></tr></table></div><p>Effectué par le module GEOS.</p><p>La version acceptant les flags est disponible à partir de la version 2.0.0. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.9</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les spécifications de l'OGC-SFS et de SQL-MM ne comprennent pas d'argument de type flag pour ST_IsValid. L'indicateur est une extension de PostGIS. </p></td></tr></table></div></div><div class="refsection" id="idm8149"><h2>Exemples</h2><pre class="programlisting">SELECT ST_IsValid(ST_GeomFromText('LINESTRING(0 0, 1 1)')) As good_line,
        ST_IsValid(ST_GeomFromText('POLYGON((0 0, 1 1, 1 2, 1 1, 0 0))')) As bad_poly
--results
NOTICE:  Self-intersection at or near point 0 0
 good_line | bad_poly
-----------+----------
 t         | f
</pre></div><div class="refsection" id="idm8152"><h2>Voir aussi</h2><p><a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>, <a class="xref" href="#ST_IsValidReason" title="ST_IsValidReason">ST_IsValidReason</a>, <a class="xref" href="#ST_IsValidDetail" title="ST_IsValidDetail">ST_IsValidDetail</a>, </p></div></div><div class="refentry" id="ST_IsValidDetail"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsValidDetail — Renvoie une ligne <code class="varname">valid_detail</code> indiquant si une géométrie est valide ou sinon une raison et une localisation.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">valid_detail <strong class="fsfunc">ST_IsValidDetail</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">flags</var><code>)</code>;</p></div></div><div class="refsection" id="idm8174"><h2>Description</h2><p>Renvoie une ligne <code class="varname">valid_detail</code>, contenant un booléen (<code class="varname">valid</code>) indiquant si une géométrie est valide, un varchar (<code class="varname">reason</code>) indiquant une raison pour laquelle elle est invalide et une géométrie (<code class="varname">location</code>) indiquant où elle est invalide.</p><p>Utile pour améliorer la combinaison de <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a> et <a class="xref" href="#ST_IsValidReason" title="ST_IsValidReason">ST_IsValidReason</a> afin de générer un rapport détaillé des géométries invalides.</p><p>Le paramètre facultatif <code class="varname">flags</code> est un champ de type bit. Il peut avoir les valeurs suivantes : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>0 : utiliser la sémantique de validité habituelle de l'OGC SFS. </p></li><li class="listitem"><p>1 : Considérer certains types d'anneaux auto-touchants (coquilles inversées et trous exverts) comme valides. Ceci est également connu sous le nom de "flag ESRI", car c'est le modèle de validité utilisé par ces outils. Notez que cela n'est pas valide selon le modèle OGC. </p></li></ul></div><p>
		</p><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm8193"><h2>Exemples</h2><pre class="programlisting">

--First 3 Rejects from a successful quintuplet experiment
SELECT gid, reason(ST_IsValidDetail(geom)), ST_AsText(location(ST_IsValidDetail(geom))) as location
FROM
(SELECT ST_MakePolygon(ST_ExteriorRing(e.buff), array_agg(f.line)) As geom, gid
FROM (SELECT ST_Buffer(ST_Point(x1*10,y1), z1) As buff, x1*10 + y1*100 + z1*1000 As gid
        FROM generate_series(-4,6) x1
        CROSS JOIN generate_series(2,5) y1
        CROSS JOIN generate_series(1,8) z1
        WHERE x1 
&gt; y1*0.5 AND z1 &lt; x1*y1) As e
        INNER JOIN (SELECT ST_Translate(ST_ExteriorRing(ST_Buffer(ST_Point(x1*10,y1), z1)),y1*1, z1*2) As line
        FROM generate_series(-3,6) x1
        CROSS JOIN generate_series(2,5) y1
        CROSS JOIN generate_series(1,10) z1
        WHERE x1 
&gt; y1*0.75 AND z1 &lt; x1*y1) As f
ON (ST_Area(e.buff) 
&gt; 78 AND ST_Contains(e.buff, f.line))
GROUP BY gid, e.buff) As quintuplet_experiment
WHERE ST_IsValid(geom) = false
ORDER BY gid
LIMIT 3;

 gid  |      reason       |  location
------+-------------------+-------------
 5330 | Self-intersection | POINT(32 5)
 5340 | Self-intersection | POINT(42 5)
 5350 | Self-intersection | POINT(52 5)

 --simple example
SELECT * FROM ST_IsValidDetail('LINESTRING(220227 150406,2220227 150407,222020 150410)');

 valid | reason | location
-------+--------+----------
 t     |        |


</pre></div><div class="refsection" id="idm8196"><h2>Voir aussi</h2><p><a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_IsValidReason" title="ST_IsValidReason">ST_IsValidReason</a> </p></div></div><div class="refentry" id="ST_IsValidReason"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsValidReason — Renvoie un texte indiquant si une géométrie est valide, ou la raison de son invalidité.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_IsValidReason</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_IsValidReason</strong>(</code>geometry  <var class="pdparam">geomA</var>, integer  <var class="pdparam">flags</var><code>)</code>;</p></div></div><div class="refsection" id="idm8222"><h2>Description</h2><p>Renvoie un texte indiquant si une géométrie est valide ou, si elle est invalide, une raison pour laquelle elle l'est.</p><p>Utile en combinaison avec <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a> pour générer un rapport détaillé des géométries invalides et des raisons.</p><p>Les <code class="varname">flags</code> autorisés sont documentés dans <a class="xref" href="#ST_IsValidDetail" title="ST_IsValidDetail">ST_IsValidDetail</a>. </p><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 1.4</p><p class="availability">Disponibilité : la version 2.0 prend des flags.</p></div><div class="refsection" id="idm8233"><h2>Exemples</h2><pre class="programlisting">-- invalid bow-tie polygon
SELECT ST_IsValidReason(
    'POLYGON ((100 200, 100 100, 200 200,
     200 100, 100 200))'::geometry) as validity_info;
validity_info
--------------------------
Self-intersection[150 150]
        </pre><pre class="programlisting">

--First 3 Rejects from a successful quintuplet experiment
SELECT gid, ST_IsValidReason(geom) as validity_info
FROM
(SELECT ST_MakePolygon(ST_ExteriorRing(e.buff), array_agg(f.line)) As geom, gid
FROM (SELECT ST_Buffer(ST_Point(x1*10,y1), z1) As buff, x1*10 + y1*100 + z1*1000 As gid
        FROM generate_series(-4,6) x1
        CROSS JOIN generate_series(2,5) y1
        CROSS JOIN generate_series(1,8) z1
        WHERE x1 
&gt; y1*0.5 AND z1 &lt; x1*y1) As e
        INNER JOIN (SELECT ST_Translate(ST_ExteriorRing(ST_Buffer(ST_Point(x1*10,y1), z1)),y1*1, z1*2) As line
        FROM generate_series(-3,6) x1
        CROSS JOIN generate_series(2,5) y1
        CROSS JOIN generate_series(1,10) z1
        WHERE x1 
&gt; y1*0.75 AND z1 &lt; x1*y1) As f
ON (ST_Area(e.buff) 
&gt; 78 AND ST_Contains(e.buff, f.line))
GROUP BY gid, e.buff) As quintuplet_experiment
WHERE ST_IsValid(geom) = false
ORDER BY gid
LIMIT 3;

 gid  |      validity_info
------+--------------------------
 5330 | Self-intersection [32 5]
 5340 | Self-intersection [42 5]
 5350 | Self-intersection [52 5]

 --simple example
SELECT ST_IsValidReason('LINESTRING(220227 150406,2220227 150407,222020 150410)');

 st_isvalidreason
------------------
 Valid Geometry


</pre></div><div class="refsection" id="idm8237"><h2>Voir aussi</h2><p><a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_Summary" title="ST_Summary">ST_Summary</a></p></div></div><div class="refentry" id="ST_MakeValid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakeValid — Tente de rendre valide une géométrie invalide sans perdre de sommets.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakeValid</strong>(</code>geometry <var class="pdparam">input</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakeValid</strong>(</code>geometry <var class="pdparam">input</var>, text <var class="pdparam">params</var><code>)</code>;</p></div></div><div class="refsection" id="idm8263"><h2>Description</h2><p>La fonction tente de créer une représentation valide d'une géométrie invalide donnée sans perdre aucun des sommets d'entrée. Les géométries valides sont retournées inchangées. </p><p>Les types de données pris en charge sont : POINTS, MULTIPOINTS, LINESTRINGS, MULTILINESTRINGS, POLYGONS, MULTIPOLYGONS et GEOMETRYCOLLECTIONS contenant n'importe quel mélange de ces éléments. </p><p>En cas de diminution de dimension (total ou partiel), la géométrie de sortie peut être une collection de géométries de dimension inférieure à égale, ou une géométrie de dimension inférieure. </p><p>Les polygones simples peuvent devenir des multigéométries en cas d'auto-intersections. </p><p>L'argument <code class="varname">params</code> peut être utilisé pour fournir une chaîne d'options permettant de sélectionner la méthode à utiliser pour construire une géométrie valide. La chaîne d'options est au format "method=linework|structure keepcollapsed=true|false". Si aucun argument "params" n'est fourni, l'algorithme "linework" sera utilisé par défaut. </p><p>La clé "method" a deux valeurs.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Le "linework" est l'algorithme original, et construit des géométries valides en extrayant d'abord toutes les lignes, en codant ce linework ensemble, puis en construisant une sortie de valeur à partir du linework.</p></li><li class="listitem"><p>La "structure" est un algorithme qui distingue les anneaux intérieurs et extérieurs, construisant une nouvelle géométrie en réunissant les anneaux extérieurs, puis en différenciant tous les anneaux intérieurs.</p></li></ul></div><p>La clé "keepcollapsed" est uniquement valable pour l'algorithme "structure" et prend la valeur "true" ou "false". Lorsqu'elle est définie sur "false", les composants géométriques qui se réduisent à une dimension inférieure, par exemple une ligne à un point, sont abandonnés. </p><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 2.0.0</p><p class="enhanced">Amélioré : 2.0.1, améliorations de la vitesse</p><p class="enhanced">Amélioration : 2.1.0, ajout du support pour GEOMETRYCOLLECTION et MULTIPOINT.</p><p class="enhanced">Amélioration : 3.1.0, suppression des coordonnées avec des valeurs NaN.</p><p class="enhanced">Amélioration : 3.2.0, ajout d'options d'algorithme, 'linework' et 'structure' qui nécessite GEOS &gt;= 3.10.0.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm8288"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_makevalid01.png"/><div class="caption"><p>before_geom : MULTIPOLYGON de 2 polygones qui se superposent</p></div></div></div><p>
                          </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_makevalid02.png"/><div class="caption"><p>after_geom : MULTIPOLYGON de 4 polygones qui ne se superposent pas</p></div></div></div><p>
                          </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_makevalid05.png"/><div class="caption"><p>after_geom_structure : MULTIPOLYGON de 1 polygone qui ne se chevauche pas</p></div></div></div><p>
                </p><pre class="programlisting">SELECT f.geom AS before_geom, ST_MakeValid(f.geom) AS after_geom, ST_MakeValid(f.geom, 'method=structure') AS after_geom_structure
FROM (SELECT 'MULTIPOLYGON(((186 194,187 194,188 195,189 195,190 195,
191 195,192 195,193 194,194 194,194 193,195 192,195 191,
195 190,195 189,195 188,194 187,194 186,14 6,13 6,12 5,11 5,
10 5,9 5,8 5,7 6,6 6,6 7,5 8,5 9,5 10,5 11,5 12,6 13,6 14,186 194)),
((150 90,149 80,146 71,142 62,135 55,128 48,119 44,110 41,100 40,
90 41,81 44,72 48,65 55,58 62,54 71,51 80,50 90,51 100,
54 109,58 118,65 125,72 132,81 136,90 139,100 140,110 139,
119 136,128 132,135 125,142 118,146 109,149 100,150 90)))'::geometry AS geom) AS f;</pre><p>
            </p>
            </td></tr><tr><td><p>
                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_makevalid03.png"/><div class="caption"><p>before_geom : MULTIPOLYGON de 6 polygones qui se superposent</p></div></div></div><p>
                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_makevalid04.png"/><div class="caption"><p>after_geom : MULTIPOLYGON de 14 polygones qui ne se superposent pas</p></div></div></div><p>
                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_makevalid06.png"/><div class="caption"><p>after_geom_structure : MULTIPOLYGON de 1 polygone qui ne se chevauche pas</p></div></div></div><p>
                </p><pre class="programlisting">SELECT c.geom AS before_geom,
                    ST_MakeValid(c.geom) AS after_geom,
                    ST_MakeValid(c.geom, 'method=structure') AS after_geom_structure
        FROM (SELECT 'MULTIPOLYGON(((91 50,79 22,51 10,23 22,11 50,23 78,51 90,79 78,91 50)),
                  ((91 100,79 72,51 60,23 72,11 100,23 128,51 140,79 128,91 100)),
                  ((91 150,79 122,51 110,23 122,11 150,23 178,51 190,79 178,91 150)),
                  ((141 50,129 22,101 10,73 22,61 50,73 78,101 90,129 78,141 50)),
                  ((141 100,129 72,101 60,73 72,61 100,73 128,101 140,129 128,141 100)),
                  ((141 150,129 122,101 110,73 122,61 150,73 178,101 190,129 178,141 150)))'::geometry AS geom) AS c;</pre><p>
            </p></td></tr></tbody></table></div></div><div class="refsection" id="idm8337"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_MakeValid(
    'LINESTRING(0 0, 0 0)',
    'method=structure keepcollapsed=true'
    ));

 st_astext
------------
 POINT(0 0)


SELECT ST_AsText(ST_MakeValid(
    'LINESTRING(0 0, 0 0)',
    'method=structure keepcollapsed=false'
    ));

    st_astext
------------------
 LINESTRING EMPTY</pre></div><div class="refsection" id="idm8340"><h2>Voir aussi</h2><p><a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_CollectionExtract" title="ST_CollectionExtract">ST_CollectionExtract</a> </p></div></div></section><section class="section" id="SRS_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.7. Fonctions des systèmes de référence spatiale</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions fonctionnent avec le système de référence spatiale des géométries défini dans la table <code class="varname">spatial_ref_sys</code>.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_InverseTransformPipeline">ST_InverseTransformPipeline</a></span><span class="refpurpose"> — Renvoie une nouvelle géométrie dont les coordonnées ont été transformées dans un système de référence spatial différent en utilisant l'inverse d'un pipeline de transformation de coordonnées défini.</span></li><li><span class="refentrytitle"><a href="#ST_SetSRID">ST_SetSRID</a></span><span class="refpurpose"> — Définir le SRID d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_SRID">ST_SRID</a></span><span class="refpurpose"> — Renvoie l'identifiant de référence spatiale d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_Transform">ST_Transform</a></span><span class="refpurpose"> — Renvoie une nouvelle géométrie dont les coordonnées ont été transformées dans un système de référence spatial différent.</span></li><li><span class="refentrytitle"><a href="#ST_TransformPipeline">ST_TransformPipeline</a></span><span class="refpurpose"> — Retourner une nouvelle géométrie avec des coordonnées transformées dans un système de référence spatial différent à l'aide d'un pipeline de transformation de coordonnées défini.</span></li><li><span class="refentrytitle"><a href="#postgis_srs_codes">postgis_srs_codes</a></span><span class="refpurpose"> — Renvoie la liste des codes SRS associés à l'autorité donnée.</span></li><li><span class="refentrytitle"><a href="#postgis_srs">postgis_srs</a></span><span class="refpurpose"> — Renvoyer une fiche de métadonnées pour l'autorité et le srid demandés.</span></li><li><span class="refentrytitle"><a href="#postgis_srs_all">postgis_srs_all</a></span><span class="refpurpose"> — Renvoie des enregistrements de métadonnées pour chaque système de référence spatiale dans la base de données Proj sous-jacente.</span></li><li><span class="refentrytitle"><a href="#postgis_srs_search">postgis_srs_search</a></span><span class="refpurpose"> — Renvoyer les enregistrements de métadonnées pour les systèmes de coordonnées projetées dont les zones d'utilisation contiennent entièrement le paramètre bounds.</span></li></ul></div><div class="refentry" id="ST_InverseTransformPipeline"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_InverseTransformPipeline — Renvoie une nouvelle géométrie dont les coordonnées ont été transformées dans un système de référence spatial différent en utilisant l'inverse d'un pipeline de transformation de coordonnées défini.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_InverseTransformPipeline</strong>(</code>geometry  <var class="pdparam">geom</var>, text  <var class="pdparam">pipeline</var>, integer  <var class="pdparam">to_srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm8370"><h2>Description</h2><p>Renvoie une nouvelle géométrie dont les coordonnées ont été transformées dans un système de référence spatial différent à l'aide d'un pipeline de transformation de coordonnées défini pour aller dans la direction inverse. </p><p>Voir <a class="xref" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a> pour plus de détails sur l'écriture d'un pipeline de transformation.</p><p class="availability">Disponibilité : 3.4.0</p><p>Le SRID de la géométrie en entrée est ignoré et le SRID de la géométrie de sortie sera mis à zéro à moins qu'une valeur ne soit fournie via le paramètre facultatif <code class="varname">to_srid</code>. Lors de l'utilisation de <a class="xref" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a>, le pipeline est exécuté dans le sens direct. En utilisant `ST_InverseTransformPipeline()`, le pipeline est exécuté dans le sens inverse.</p><p>Les transformations utilisant des pipelines sont une version spéciale de <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>. Dans la plupart des cas, `ST_Transform` choisira les opérations correctes pour convertir entre les systèmes de coordonnées, et devrait être préféré.</p></div><div class="refsection" id="idm8381"><h2>Exemples</h2><p>Changer WGS 84 long lat en UTM 31N en utilisant la conversion EPSG:16031</p><pre class="programlisting">-- Inverse direction
SELECT ST_AsText(ST_InverseTransformPipeline('POINT(426857.9877165967 5427937.523342293)'::geometry,
  'urn:ogc:def:coordinateOperation:EPSG::16031')) AS wgs_geom;

          wgs_geom
----------------------------
 POINT(2 48.99999999999999)
(1 row)
    </pre><p>Exemple GDA2020.</p><pre class="programlisting">-- using ST_Transform with automatic selection of a conversion pipeline.
SELECT ST_AsText(ST_Transform('SRID=4939;POINT(143.0 -37.0)'::geometry, 7844)) AS gda2020_auto;

                 gda2020_auto
-----------------------------------------------
 POINT(143.00000635638918 -36.999986706128176)
(1 row)
    </pre></div><div class="refsection" id="idm8387"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>, <a class="xref" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a></p></div></div><div class="refentry" id="ST_SetSRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetSRID — Définir le SRID d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SetSRID</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm8407"><h2>Description</h2><p>Définit le SRID d'une géométrie à une valeur entière particulière. Utile pour construire des boîtes de délimitation pour les requêtes.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction ne transforme en aucune façon les coordonnées de la géométrie - elle définit simplement les métadonnées définissant le système de référence spatiale dans lequel la géométrie est supposée se trouver. Utilisez <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a> si vous souhaitez transformer la géométrie dans une nouvelle projection.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm8422"><h2>Exemples</h2><p>-- Marquer un point comme WGS 84 long lat --</p><pre class="programlisting">SELECT ST_SetSRID(ST_Point(-123.365556, 48.428611),4326) As wgs84long_lat;
-- the ewkt representation (wrap with ST_AsEWKT) -
SRID=4326;POINT(-123.365556 48.428611)
      </pre><p>-- Marquer un point comme WGS 84 long lat puis le transformer en mercator web (Mercator Sphérique) --</p><pre class="programlisting">SELECT ST_Transform(ST_SetSRID(ST_Point(-123.365556, 48.428611),4326),3785) As spere_merc;
-- the ewkt representation (wrap with ST_AsEWKT) -
SRID=3785;POINT(-13732990.8753491 6178458.96425423)
      </pre></div><div class="refsection" id="idm8428"><h2>Voir aussi</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">Section 4.5, “Systèmes de référence spatiale”</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>, <a class="xref" href="#UpdateGeometrySRID" title="UpdateGeometrySRID">UpdateGeometrySRID</a></p></div></div><div class="refentry" id="ST_SRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SRID — Renvoie l'identifiant de référence spatiale d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_SRID</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm8447"><h2>Description</h2><p>Renvoie l'identifiant de référence spatiale pour la ST_Geometry tel que défini dans la table spatial_ref_sys. <a class="xref" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">Section 4.5, “Systèmes de référence spatiale”</a></p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La table spatial_ref_sys est une table qui répertorie tous les systèmes de référence spatiale connus de PostGIS et qui est utilisée pour les transformations d'un système de référence spatiale à un autre. Il est donc important de vérifier que vous disposez du bon identifiant de système de référence spatiale si vous envisagez de transformer vos géométries.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm8467"><h2>Exemples</h2><pre class="programlisting">SELECT ST_SRID(ST_GeomFromText('POINT(-71.1043 42.315)',4326));
    --result
    4326
    </pre></div><div class="refsection" id="idm8470"><h2>Voir aussi</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">Section 4.5, “Systèmes de référence spatiale”</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a>, <a class="xref" href="#TG_ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_Transform"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Transform — Renvoie une nouvelle géométrie dont les coordonnées ont été transformées dans un système de référence spatial différent.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Transform</strong>(</code>geometry  <var class="pdparam">g1</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Transform</strong>(</code>geometry  <var class="pdparam">geom</var>, text  <var class="pdparam">to_proj</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Transform</strong>(</code>geometry  <var class="pdparam">geom</var>, text  <var class="pdparam">from_proj</var>, text  <var class="pdparam">to_proj</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Transform</strong>(</code>geometry  <var class="pdparam">geom</var>, text  <var class="pdparam">from_proj</var>, integer  <var class="pdparam">to_srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm8526"><h2>Description</h2><p>Renvoie une nouvelle géométrie dont les coordonnées ont été transformées dans un système de référence spatiale différent. La référence spatiale de destination <code class="varname">to_srid</code> peut être identifiée par un paramètre entier SRID valide (c'est-à-dire qu'elle doit exister dans la table <code class="varname">spatial_ref_sys</code>). Il est également possible d'utiliser une référence spatiale définie comme une chaîne PROJ.4 pour <code class="varname">to_proj</code> et/ou <code class="varname">from_proj</code>, mais ces méthodes ne sont pas optimisées. Si le système de référence spatiale de destination est exprimé avec une chaîne PROJ.4 au lieu d'un SRID, le SRID de la géométrie de sortie sera mis à zéro. A l'exception des fonctions avec <code class="varname">from_proj</code>, les géométries d'entrée doivent avoir un SRID défini. </p><p>ST_Transform est souvent confondu avec <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>. ST_Transform modifie en fait les coordonnées d'une géométrie d'un système de référence spatiale à un autre, tandis que ST_SetSRID() modifie simplement l'identifiant SRID de la géométrie.</p><p>ST_Transform sélectionne automatiquement un pipeline de conversion approprié en fonction des systèmes de référence spatiale source et cible. Pour utiliser une méthode de conversion spécifique, utilisez <a class="xref" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>PostGIS doit être compilé avec le support PROJ. Utilisez <a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a> pour confirmer que vous avez compilé le support PROJ.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si l'on utilise plus d'une transformation, il est utile de disposer d'un index fonctionnel sur les transformations les plus couramment utilisées afin de tirer parti de l'utilisation de l'index.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Avant la version 1.3.4, cette fonction se bloquait si elle était utilisée avec des géométries contenant des CURVES. Ce problème est corrigé dans la version 1.3.4+</p></td></tr></table></div><p class="enhanced">Amélioration : 2.0.0 introduction du support des surfaces polyédriques.</p><p class="enhanced">Amélioration : la version 2.3.0 a introduit la prise en charge du texte PROJ.4 direct.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 5.1.6</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm8559"><h2>Exemples</h2><p>Changer la géométrie des pieds US du plan de l'État du Massachusetts en WGS 84 long lat</p><pre class="programlisting">SELECT ST_AsText(ST_Transform(ST_GeomFromText('POLYGON((743238 2967416,743238 2967450,
  743265 2967450,743265.625 2967416,743238 2967416))',2249),4326)) As wgs_geom;

 wgs_geom
---------------------------
 POLYGON((-71.1776848522251 42.3902896512902,-71.1776843766326 42.3903829478009,
-71.1775844305465 42.3903826677917,-71.1775825927231 42.3902893647987,-71.177684
8522251 42.3902896512902));
(1 row)

--3D Circular String example
SELECT ST_AsEWKT(ST_Transform(ST_GeomFromEWKT('SRID=2249;CIRCULARSTRING(743238 2967416 1,743238 2967450 2,743265 2967450 3,743265.625 2967416 3,743238 2967416 4)'),4326));

         st_asewkt
--------------------------------------------------------------------------------------
 SRID=4326;CIRCULARSTRING(-71.1776848522251 42.3902896512902 1,-71.1776843766326 42.3903829478009 2,
 -71.1775844305465 42.3903826677917 3,
 -71.1775825927231 42.3902893647987 3,-71.1776848522251 42.3902896512902 4)

    </pre><p>Exemple de création d'un index fonctionnel partiel. Pour les tables dont vous n'êtes pas sûr que toutes les géométries seront renseignées, il est préférable d'utiliser un index partiel qui laisse de côté les géométries nulles, ce qui permet à la fois de conserver de l'espace et de rendre votre index plus petit et plus efficace.</p><pre class="programlisting">CREATE INDEX idx_geom_26986_parcels
  ON parcels
  USING gist
  (ST_Transform(geom, 26986))
  WHERE geom IS NOT NULL;
    </pre><p>Exemples d'utilisation du texte PROJ.4 pour transformer avec des références spatiales personnalisées.</p><pre class="programlisting">-- Find intersection of two polygons near the North pole, using a custom Gnomic projection
-- See http://boundlessgeo.com/2012/02/flattening-the-peel/
 WITH data AS (
   SELECT
     ST_GeomFromText('POLYGON((170 50,170 72,-130 72,-130 50,170 50))', 4326) AS p1,
     ST_GeomFromText('POLYGON((-170 68,-170 90,-141 90,-141 68,-170 68))', 4326) AS p2,
     '+proj=gnom +ellps=WGS84 +lat_0=70 +lon_0=-160 +no_defs'::text AS gnom
 )
 SELECT ST_AsText(
   ST_Transform(
     ST_Intersection(ST_Transform(p1, gnom), ST_Transform(p2, gnom)),
   gnom, 4326))
 FROM data;
                                          st_astext
 --------------------------------------------------------------------------------
  POLYGON((-170 74.053793645338,-141 73.4268621378904,-141 68,-170 68,-170 74.053793645338))
    </pre></div><div class="refsection" id="idm8567"><h2>Configurer le comportement de transformation</h2><p>Parfois, la transformation de coordonnées impliquant un décalage de grille peut échouer, par exemple si PROJ.4 n'a pas été construit avec des fichiers de décalage de grille ou si la coordonnée ne se trouve pas dans la plage pour laquelle le décalage de grille est défini. Par défaut, PostGIS génère une erreur si un fichier de décalage de grille n'est pas présent, mais ce comportement peut être configuré pour chaque SRID, soit en testant différentes valeurs <code class="varname">to_proj</code> de texte PROJ.4, soit en modifiant la valeur <code class="varname">proj4text</code> dans la table <code class="varname">spatial_ref_sys</code>. </p><p>Par exemple, le paramètre proj4text +datum=NAD87 est une forme abrégée du paramètre +nadgrids suivant :</p><pre class="programlisting">+nadgrids=@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat</pre><p>Le préfixe @ signifie qu'aucune erreur n'est signalée si les fichiers ne sont pas présents, mais si la fin de la liste est atteinte sans qu'aucun fichier n'ait été approprié (c'est-à-dire trouvé et se chevauchant), une erreur est émise.</p><p>Si, à l'inverse, vous voulez vous assurer qu'au moins les fichiers standard sont présents, mais que si tous les fichiers ont été analysés sans résultat, une transformation nulle est appliquée, vous pouvez utiliser :</p><pre class="programlisting">+nadgrids=@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat,null</pre><p>Le fichier de décalage de grille nul est un fichier de décalage de grille valide couvrant le monde entier et n'appliquant aucun décalage. Ainsi, pour un exemple complet, si vous vouliez modifier PostGIS de manière à ce que les transformations du SRID 4267 qui ne se situent pas dans la plage correcte n'entraînent pas d'ERREUR, vous utiliseriez ce qui suit :</p><pre class="programlisting">UPDATE spatial_ref_sys SET proj4text = '+proj=longlat +ellps=clrk66 +nadgrids=@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat,null +no_defs' WHERE srid = 4267;</pre></div><div class="refsection" id="idm8580"><h2>Voir aussi</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">Section 4.5, “Systèmes de référence spatiale”</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a>, <a class="xref" href="#UpdateGeometrySRID" title="UpdateGeometrySRID">UpdateGeometrySRID</a>, <a class="xref" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a></p></div></div><div class="refentry" id="ST_TransformPipeline"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_TransformPipeline — Retourner une nouvelle géométrie avec des coordonnées transformées dans un système de référence spatial différent à l'aide d'un pipeline de transformation de coordonnées défini.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_TransformPipeline</strong>(</code>geometry  <var class="pdparam">g1</var>, text  <var class="pdparam">pipeline</var>, integer  <var class="pdparam">to_srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm8606"><h2>Description</h2><p>Retourner une nouvelle géométrie dont les coordonnées ont été transformées dans un système de référence spatial différent à l'aide d'un pipeline de transformation de coordonnées défini. </p><p>Les pipelines de transformation sont définis à l'aide de l'un des formats de texte suivants : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">urn:ogc:def:coordinateOperation:AUTHORITY::CODE</code>. Notez qu'une simple chaîne de caractère <code class="varname">EPSG:CODE</code> n'identifie pas de manière unique une opération de coordonnées : le même code EPSG peut être utilisé pour une définition CRS. </p></li><li class="listitem"><p>Une chaîne de caractères de pipeline PROJ de la forme : <code class="varname">+proj=pipeline ...</code>. La normalisation automatique des axes ne sera pas appliquée et, si nécessaire, l'appelant devra ajouter une étape de pipeline supplémentaire ou supprimer les étapes <code class="varname">axisswap</code>. </p></li><li class="listitem"><p>Opérations concaténées de la forme : <code class="varname">urn:ogc:def:coordinateOperation,coordinateOperation:EPSG::3895,coordinateOperation:EPSG::1618</code>. </p></li></ul></div><p>
    </p><p class="availability">Disponibilité : 3.4.0</p><p>Le SRID de la géométrie d'entrée est ignoré, et le SRID de la géométrie de sortie sera mis à zéro à moins qu'une valeur ne soit fournie via le paramètre optionnel <code class="varname">to_srid</code>. Lors de l'utilisation de `ST_TransformPipeline()`, le pipeline est exécuté dans la direction avant. En utilisant <a class="xref" href="#ST_InverseTransformPipeline" title="ST_InverseTransformPipeline">ST_InverseTransformPipeline</a> le pipeline est exécuté dans le sens inverse.</p><p>Les transformations utilisant des pipelines sont une version spéciale de <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>. Dans la plupart des cas, `ST_Transform` choisira les opérations correctes pour convertir entre les systèmes de coordonnées, et devrait être préféré.</p></div><div class="refsection" id="idm8628"><h2>Exemples</h2><p>Changer WGS 84 long lat en UTM 31N en utilisant la conversion EPSG:16031</p><pre class="programlisting">-- Forward direction
SELECT ST_AsText(ST_TransformPipeline('SRID=4326;POINT(2 49)'::geometry,
  'urn:ogc:def:coordinateOperation:EPSG::16031')) AS utm_geom;

                  utm_geom
--------------------------------------------
 POINT(426857.9877165967 5427937.523342293)
(1 row)

-- Inverse direction
SELECT ST_AsText(ST_InverseTransformPipeline('POINT(426857.9877165967 5427937.523342293)'::geometry,
  'urn:ogc:def:coordinateOperation:EPSG::16031')) AS wgs_geom;

          wgs_geom
----------------------------
 POINT(2 48.99999999999999)
(1 row)
    </pre><p>Exemple GDA2020.</p><pre class="programlisting">-- using ST_Transform with automatic selection of a conversion pipeline.
SELECT ST_AsText(ST_Transform('SRID=4939;POINT(143.0 -37.0)'::geometry, 7844)) AS gda2020_auto;

                 gda2020_auto
-----------------------------------------------
 POINT(143.00000635638918 -36.999986706128176)
(1 row)

-- using a defined conversion (EPSG:8447)
SELECT ST_AsText(ST_TransformPipeline('SRID=4939;POINT(143.0 -37.0)'::geometry,
  'urn:ogc:def:coordinateOperation:EPSG::8447')) AS gda2020_code;

                   gda2020_code
----------------------------------------------
 POINT(143.0000063280214 -36.999986718287545)
(1 row)

-- using a PROJ pipeline definition matching EPSG:8447, as returned from
-- 'projinfo -s EPSG:4939 -t EPSG:7844'.
-- NOTE: any 'axisswap' steps must be removed.
SELECT ST_AsText(ST_TransformPipeline('SRID=4939;POINT(143.0 -37.0)'::geometry,
  '+proj=pipeline
   +step +proj=unitconvert +xy_in=deg +xy_out=rad
   +step +proj=hgridshift +grids=au_icsm_GDA94_GDA2020_conformal_and_distortion.tif
   +step +proj=unitconvert +xy_in=rad +xy_out=deg')) AS gda2020_pipeline;

                   gda2020_pipeline
----------------------------------------------
 POINT(143.0000063280214 -36.999986718287545)
(1 row)
    </pre></div><div class="refsection" id="idm8634"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>, <a class="xref" href="#ST_InverseTransformPipeline" title="ST_InverseTransformPipeline">ST_InverseTransformPipeline</a></p></div></div><div class="refentry" id="postgis_srs_codes"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis_srs_codes — Renvoie la liste des codes SRS associés à l'autorité donnée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof text <strong class="fsfunc">postgis_srs_codes</strong>(</code>text  <var class="pdparam">auth_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm8651"><h2>Description</h2><p>Renvoie un ensemble de tous les <code class="varname">auth_srid</code> pour le <code class="varname">auth_name</code> donné.</p><p class="availability">Disponibilité : 3.4.0</p><p>Proj version 6+</p></div><div class="refsection" id="idm8658"><h2>Exemples</h2><p>Indiquez les dix premiers codes associés à l'autorité EPSG.</p><pre class="programlisting">SELECT * FROM postgis_srs_codes('EPSG') LIMIT 10;

 postgis_srs_codes
-------------------
 2000
 20004
 20005
 20006
 20007
 20008
 20009
 2001
 20010
 20011
    </pre></div><div class="refsection" id="idm8662"><h2>Voir aussi</h2><p><a class="xref" href="#postgis_srs" title="postgis_srs">postgis_srs</a>, <a class="xref" href="#postgis_srs_all" title="postgis_srs_all">postgis_srs_all</a>, <a class="xref" href="#postgis_srs_search" title="postgis_srs_search">postgis_srs_search</a></p></div></div><div class="refentry" id="postgis_srs"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis_srs — Renvoyer une fiche de métadonnées pour l'autorité et le srid demandés.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">postgis_srs</strong>(</code>text  <var class="pdparam">auth_name</var>, text  <var class="pdparam">auth_srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm8683"><h2>Description</h2><p>Renvoie un enregistrement de métadonnées pour le <code class="varname">auth_srid</code> demandé pour le <code class="varname">auth_name</code> donné. L'enregistrement contiendra les éléments suivants : <code class="varname">auth_name</code>, <code class="varname">auth_srid</code>, <code class="varname">srname</code>, <code class="varname">srtext</code>, <code class="varname">proj4text</code>, et les angles de la zone d'utilisation, <code class="varname">point_sw</code> et <code class="varname">point_ne</code>.</p><p class="availability">Disponibilité : 3.4.0</p><p>Proj version 6+</p></div><div class="refsection" id="idm8697"><h2>Exemples</h2><p>Obtenir les métadonnées pour EPSG:3005.</p><pre class="programlisting">SELECT * FROM postgis_srs('EPSG', '3005');

auth_name | EPSG
auth_srid | 3005
srname    | NAD83 / BC Albers
srtext    | PROJCS["NAD83 / BC Albers", ... ]]
proj4text | +proj=aea +lat_0=45 +lon_0=-126 +lat_1=50 +lat_2=58.5 +x_0=1000000 +y_0=0 +datum=NAD83 +units=m +no_defs +type=crs
point_sw  | 0101000020E6100000E17A14AE476161C00000000000204840
point_ne  | 0101000020E610000085EB51B81E855CC0E17A14AE47014E40
    </pre></div><div class="refsection" id="idm8701"><h2>Voir aussi</h2><p><a class="xref" href="#postgis_srs_codes" title="postgis_srs_codes">postgis_srs_codes</a>, <a class="xref" href="#postgis_srs_all" title="postgis_srs_all">postgis_srs_all</a>, <a class="xref" href="#postgis_srs_search" title="postgis_srs_search">postgis_srs_search</a></p></div></div><div class="refentry" id="postgis_srs_all"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis_srs_all — Renvoie des enregistrements de métadonnées pour chaque système de référence spatiale dans la base de données Proj sous-jacente.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">postgis_srs_all</strong>(</code><code>void)</code>;</p></div></div><div class="refsection" id="idm8717"><h2>Description</h2><p>Renvoie un ensemble d'enregistrements de métadonnées dans la base de données Proj sous-jacente. Les enregistrements auront le <code class="varname">auth_name</code>, <code class="varname">auth_srid</code>, <code class="varname">srname</code>, <code class="varname">srtext</code>, <code class="varname">proj4text</code>, et les angles de la zone d'utilisation, <code class="varname">point_sw</code> et <code class="varname">point_ne</code>.</p><p class="availability">Disponibilité : 3.4.0</p><p>Proj version 6+</p></div><div class="refsection" id="idm8729"><h2>Exemples</h2><p>Obtenir les 10 premiers enregistrements de métadonnées de la base de données Proj.</p><pre class="programlisting">SELECT auth_name, auth_srid, srname FROM postgis_srs_all() LIMIT 10;

 auth_name | auth_srid |                  srname
-----------+-----------+------------------------------------------
 EPSG      | 2000      | Anguilla 1957 / British West Indies Grid
 EPSG      | 20004     | Pulkovo 1995 / Gauss-Kruger zone 4
 EPSG      | 20005     | Pulkovo 1995 / Gauss-Kruger zone 5
 EPSG      | 20006     | Pulkovo 1995 / Gauss-Kruger zone 6
 EPSG      | 20007     | Pulkovo 1995 / Gauss-Kruger zone 7
 EPSG      | 20008     | Pulkovo 1995 / Gauss-Kruger zone 8
 EPSG      | 20009     | Pulkovo 1995 / Gauss-Kruger zone 9
 EPSG      | 2001      | Antigua 1943 / British West Indies Grid
 EPSG      | 20010     | Pulkovo 1995 / Gauss-Kruger zone 10
 EPSG      | 20011     | Pulkovo 1995 / Gauss-Kruger zone 11    </pre></div><div class="refsection" id="idm8733"><h2>Voir aussi</h2><p><a class="xref" href="#postgis_srs_codes" title="postgis_srs_codes">postgis_srs_codes</a>, <a class="xref" href="#postgis_srs" title="postgis_srs">postgis_srs</a>, <a class="xref" href="#postgis_srs_search" title="postgis_srs_search">postgis_srs_search</a></p></div></div><div class="refentry" id="postgis_srs_search"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis_srs_search — Renvoyer les enregistrements de métadonnées pour les systèmes de coordonnées projetées dont les zones d'utilisation contiennent entièrement le paramètre bounds.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">postgis_srs_search</strong>(</code>geometry  <var class="pdparam">bounds</var>, text  <var class="pdparam">auth_name=EPSG</var><code>)</code>;</p></div></div><div class="refsection" id="idm8754"><h2>Description</h2><p>Renvoie un ensemble d'enregistrements de métadonnées pour les systèmes de coordonnées projetées dont les zones d'utilisation contiennent entièrement le paramètre bounds. Chaque enregistrement contiendra le <code class="varname">auth_name</code>, <code class="varname">auth_srid</code>, <code class="varname">srname</code>, <code class="varname">srtext</code>, <code class="varname">proj4text</code>, et les angles de la zone d'utilisation, <code class="varname">point_sw</code> et <code class="varname">point_ne</code>. </p><p>La recherche ne porte que sur les systèmes de coordonnées projetées et vise à permettre aux utilisateurs d'explorer les systèmes possibles en fonction de l'étendue de leurs données.</p><p class="availability">Disponibilité : 3.4.0</p><p>Proj version 6+</p></div><div class="refsection" id="idm8767"><h2>Exemples</h2><p>Recherche de systèmes de coordonnées projetées en Louisiane.</p><pre class="programlisting">SELECT auth_name, auth_srid, srname,
  ST_AsText(point_sw) AS point_sw,
  ST_AsText(point_ne) AS point_ne
FROM postgis_srs_search('SRID=4326;LINESTRING(-90 30, -91 31)')
LIMIT 3;

 auth_name | auth_srid |                srname                |      point_sw       |      point_ne
-----------+-----------+--------------------------------------+---------------------+---------------------
 EPSG      | 2801      | NAD83(HARN) / Louisiana South        | POINT(-93.94 28.85) | POINT(-88.75 31.07)
 EPSG      | 3452      | NAD83 / Louisiana South (ftUS)       | POINT(-93.94 28.85) | POINT(-88.75 31.07)
 EPSG      | 3457      | NAD83(HARN) / Louisiana South (ftUS) | POINT(-93.94 28.85) | POINT(-88.75 31.07)
</pre><p>Examinez une table pour connaître l'étendue maximale et trouvez les systèmes de coordonnées projetées qui pourraient convenir.</p><pre class="programlisting">WITH ext AS (
  SELECT ST_Extent(geom) AS geom, Max(ST_SRID(geom)) AS srid
  FROM foo
)
SELECT auth_name, auth_srid, srname,
  ST_AsText(point_sw) AS point_sw,
  ST_AsText(point_ne) AS point_ne
FROM ext
CROSS JOIN postgis_srs_search(ST_SetSRID(ext.geom, ext.srid))
LIMIT 3;</pre></div><div class="refsection" id="idm8773"><h2>Voir aussi</h2><p><a class="xref" href="#postgis_srs_codes" title="postgis_srs_codes">postgis_srs_codes</a>, <a class="xref" href="#postgis_srs_all" title="postgis_srs_all">postgis_srs_all</a>, <a class="xref" href="#postgis_srs" title="postgis_srs">postgis_srs</a></p></div></div></section><section class="section" id="Geometry_Inputs"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.8. Import de géométrie</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions créent des objets géométriques à partir de divers formats textuels ou binaires.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#idm8784">7.8.1. Well-Known Text (WKT)</a></span></li><li><span class="section"><a href="#idm9416">7.8.2. Well-Known Binary (WKB)</a></span></li><li><span class="section"><a href="#idm9736">7.8.3. Autres formats</a></span></li></ul></div><section class="section" id="idm8784"><div class="titlepage"><div><div><h3 class="title">7.8.1. Well-Known Text (WKT)</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_BdPolyFromText">ST_BdPolyFromText</a></span><span class="refpurpose"> — Construit un Polygon à partir d'une collection de lignes fermées, exprimées sous forme de MultiLineString en représentation Well-Known text.</span></li><li><span class="refentrytitle"><a href="#ST_BdMPolyFromText">ST_BdMPolyFromText</a></span><span class="refpurpose"> — Construit un MultiPolygon à partir d'une collection de lignes fermées, exprimées sous forme de MultiLineString en représentation Well-Known text.</span></li><li><span class="refentrytitle"><a href="#ST_GeogFromText">ST_GeogFromText</a></span><span class="refpurpose"> — Retourne un objet de type geography à partir de sa représentation Well-Know Text (WKT ou EWKT). </span></li><li><span class="refentrytitle"><a href="#ST_GeographyFromText">ST_GeographyFromText</a></span><span class="refpurpose"> — Retourne un objet de type geography à partir de sa représentation Well-Know Text (WKT ou EWKT). </span></li><li><span class="refentrytitle"><a href="#ST_GeomCollFromText">ST_GeomCollFromText</a></span><span class="refpurpose"> — Crée une collection Geometry à partir de la collection WKT avec le SRID donné. Si le SRID n'est pas donné, la valeur par défaut est 0.</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromEWKT">ST_GeomFromEWKT</a></span><span class="refpurpose"> — Retourne un objet ST_Geometry à partir de sa représentation textuelle étendue (Extended Well-Known Text representation, EWKT).</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromMARC21">ST_GeomFromMARC21</a></span><span class="refpurpose"> — Prend les données géographiques MARC21/XML en entrée et renvoie un objet géométrique PostGIS. </span></li><li><span class="refentrytitle"><a href="#ST_GeometryFromText">ST_GeometryFromText</a></span><span class="refpurpose"> — Retourne un objet ST_Geometry à partir de sa représentation textuelle Well-Known Text (WKT). Alias pour ST_GeomFromText</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromText">ST_GeomFromText</a></span><span class="refpurpose"> — Retourne un objet ST_Geometry à partir de sa représentation textuelle Well-Known Text (WKT).</span></li><li><span class="refentrytitle"><a href="#ST_LineFromText">ST_LineFromText</a></span><span class="refpurpose"> — Construit une géométrie à partir d'une représentation WKT avec le SRID donné. Si aucun SRID n'est donné, la valeur par défaut est 0.</span></li><li><span class="refentrytitle"><a href="#ST_MLineFromText">ST_MLineFromText</a></span><span class="refpurpose"> — Retourne un objet de type ST_MultiLineString à partir de sa représentation WKT.</span></li><li><span class="refentrytitle"><a href="#ST_MPointFromText">ST_MPointFromText</a></span><span class="refpurpose"> — Créé une Geometry depuis un WKT avec le SRID donné. Si le SRID n'est pas fourni, il sera défini par défaut à 0.</span></li><li><span class="refentrytitle"><a href="#ST_MPolyFromText">ST_MPolyFromText</a></span><span class="refpurpose"> — Crée une géométrie multi-polygone à partir de WKT avec le SRID donné. Si le SRID n'est pas donné, la valeur par défaut est 0.</span></li><li><span class="refentrytitle"><a href="#ST_PointFromText">ST_PointFromText</a></span><span class="refpurpose"> — Construit une géométrie point à partir d'une représentation WKT et le SRID donné. Si aucun SRID n'est donné, la valeur par défaut est 0.</span></li><li><span class="refentrytitle"><a href="#ST_PolygonFromText">ST_PolygonFromText</a></span><span class="refpurpose"> — Créé une Geometry depuis un WKT avec le SRID donné. Si le SRID n'est pas fourni, il sera défini par défaut à 0.</span></li><li><span class="refentrytitle"><a href="#ST_WKTToSQL">ST_WKTToSQL</a></span><span class="refpurpose"> — Retourne un objet ST_Geometry à partir de sa représentation textuelle Well-Known Text (WKT). Alias pour ST_GeomFromText</span></li></ul></div><div class="refentry" id="ST_BdPolyFromText"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BdPolyFromText — Construit un Polygon à partir d'une collection de lignes fermées, exprimées sous forme de MultiLineString en représentation Well-Known text.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_BdPolyFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm8801"><h2>Description</h2><p>Construit un Polygon à partir d'une collection de lignes fermées, exprimées sous forme de MultiLineString en représentation Well-Known text.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Renvoie une erreur si le WKT n'est pas une MULTILINESTRING. Renvoie une erreur si le résultat est un MULTIPOLYGON. Utiliser ST_BdMPolyFromText dans ce cas, ou voir ST_BuildArea() pour une approche basée sur une fonction spécifique.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 1.1.0</p></div><div class="refsection" id="idm8813"><h2>Voir aussi</h2><p><a class="xref" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea</a>, <a class="xref" href="#ST_BdMPolyFromText" title="ST_BdMPolyFromText">ST_BdMPolyFromText</a></p></div></div><div class="refentry" id="ST_BdMPolyFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BdMPolyFromText — Construit un MultiPolygon à partir d'une collection de lignes fermées, exprimées sous forme de MultiLineString en représentation Well-Known text.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_BdMPolyFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm8833"><h2>Description</h2><p>Construit un Polygon à partir d'une collection de lignes fermées, de polygones ou de MultiLineStrings exprimés en représentation Well-Known text.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Renvoie une erreur si le WKT n'est pas une MULTILINESTRING. Force le type de retour en MULTIPOLYGON même si le résultat est en fait composé d'un seul POLYGON. Utiliser <a class="link" href="#ST_BdPolyFromText" title="ST_BdPolyFromText">ST_BdPolyFromText</a> si l'on est sûr que le résultat produit des Polygon, ou voir la fonction spécifique PostGIS <a class="link" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea()</a>.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 1.1.0</p></div><div class="refsection" id="idm8847"><h2>Voir aussi</h2><p><a class="xref" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea</a>, <a class="xref" href="#ST_BdPolyFromText" title="ST_BdPolyFromText">ST_BdPolyFromText</a></p></div></div><div class="refentry" id="ST_GeogFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeogFromText — Retourne un objet de type geography à partir de sa représentation Well-Know Text (WKT ou EWKT). </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geography <strong class="fsfunc">ST_GeogFromText</strong>(</code>text  <var class="pdparam">EWKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm8864"><h2>Description</h2><p>Retourne un objet de type geography à partir de sa représentation Well-Know Text (WKT ou EWKT). Le SRID 4326 est pris par défaut. Ceci est un alias pour ST_GeographyFromText. Les coordonnées des points sont exprimées en longitude latitude.</p></div><div class="refsection" id="idm8867"><h2>Exemples</h2><pre class="programlisting">--- converting lon lat coords to geography
ALTER TABLE sometable ADD COLUMN geog geography(POINT,4326);
UPDATE sometable SET geog = ST_GeogFromText('SRID=4326;POINT(' || lon || ' ' || lat || ')');

--- specify a geography point using EPSG:4267, NAD27
SELECT ST_AsEWKT(ST_GeogFromText('SRID=4267;POINT(-77.0092 38.889588)'));
                        </pre></div><div class="refsection" id="idm8870"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_GeographyFromText" title="ST_GeographyFromText">ST_GeographyFromText</a></p></div></div><div class="refentry" id="ST_GeographyFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeographyFromText — Retourne un objet de type geography à partir de sa représentation Well-Know Text (WKT ou EWKT). </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geography <strong class="fsfunc">ST_GeographyFromText</strong>(</code>text  <var class="pdparam">EWKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm8887"><h2>Description</h2><p>Retourne un objet de type geography à partir de sa représentation Well-Know Text (WKT ou EWKT). SRID 4326 par défaut.</p></div><div class="refsection" id="idm8890"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeogFromText" title="ST_GeogFromText">ST_GeogFromText</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a></p></div></div><div class="refentry" id="ST_GeomCollFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomCollFromText — Crée une collection Geometry à partir de la collection WKT avec le SRID donné. Si le SRID n'est pas donné, la valeur par défaut est 0.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomCollFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomCollFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm8916"><h2>Description</h2><p>Crée une géométrie de collection à partir de la représentation Well-Known-Text (WKT) avec le SRID donné. Si le SRID n'est pas donné, la valeur par défaut est 0.</p><p>OGC SPEC 3.2.6.2 - l'option SRID est issue des tests de conformité</p><p>Retourne null si le WKT n'est pas une GEOMETRYCOLLECTION</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous êtes absolument sûrs que toutes les géométries WKT sont des collections, ne pas utiliser cette fonction. Elle est plus lente que ST_GeomFromText à cause d'une étape de validation supplémentaire. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM. </p></div><div class="refsection" id="idm8932"><h2>Exemples</h2><pre class="programlisting">SELECT ST_GeomCollFromText('GEOMETRYCOLLECTION(POINT(1 2),LINESTRING(1 2, 3 4))');
</pre></div><div class="refsection" id="idm8935"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_GeomFromEWKT"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromEWKT — Retourne un objet ST_Geometry à partir de sa représentation textuelle étendue (Extended Well-Known Text representation, EWKT).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromEWKT</strong>(</code>text  <var class="pdparam">EWKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm8952"><h2>Description</h2><p>Retourne un objet ST_Geometry à partir de sa représentation textuelle étendue OGC (Extended Well-Known Text representation, EWKT).</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le format EWKT n'est pas une norme OGC, mais un format spécifique à PostGIS incluant l'identifiant du système de référence des coordonnées (SRID)</p></td></tr></table></div><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN et surfaces polyédriques.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm8974"><h2>Exemples</h2><pre class="programlisting">SELECT ST_GeomFromEWKT('SRID=4269;LINESTRING(-71.160281 42.258729,-71.160837 42.259113,-71.161144 42.25932)');
SELECT ST_GeomFromEWKT('SRID=4269;MULTILINESTRING((-71.160281 42.258729,-71.160837 42.259113,-71.161144 42.25932))');

SELECT ST_GeomFromEWKT('SRID=4269;POINT(-71.064544 42.28787)');

SELECT ST_GeomFromEWKT('SRID=4269;POLYGON((-71.1776585052917 42.3902909739571,-71.1776820268866 42.3903701743239,
-71.1776063012595 42.3903825660754,-71.1775826583081 42.3903033653531,-71.1776585052917 42.3902909739571))');

SELECT ST_GeomFromEWKT('SRID=4269;MULTIPOLYGON(((-71.1031880899493 42.3152774590236,
-71.1031627617667 42.3152960829043,-71.102923838298 42.3149156848307,
-71.1023097974109 42.3151969047397,-71.1019285062273 42.3147384934248,
-71.102505233663 42.3144722937587,-71.10277487471 42.3141658254797,
-71.103113945163 42.3142739188902,-71.10324876416 42.31402489987,
-71.1033002961013 42.3140393340215,-71.1033488797549 42.3139495090772,
-71.103396240451 42.3138632439557,-71.1041521907712 42.3141153348029,
-71.1041411411543 42.3141545014533,-71.1041287795912 42.3142114839058,
-71.1041188134329 42.3142693656241,-71.1041112482575 42.3143272556118,
-71.1041072845732 42.3143851580048,-71.1041057218871 42.3144430686681,
-71.1041065602059 42.3145009876017,-71.1041097995362 42.3145589148055,
-71.1041166403905 42.3146168544148,-71.1041258822717 42.3146748022936,
-71.1041375307579 42.3147318674446,-71.1041492906949 42.3147711126569,
-71.1041598612795 42.314808571739,-71.1042515013869 42.3151287620809,
-71.1041173835118 42.3150739481917,-71.1040809891419 42.3151344119048,
-71.1040438678912 42.3151191367447,-71.1040194562988 42.3151832057859,
-71.1038734225584 42.3151140942995,-71.1038446938243 42.3151006300338,
-71.1038315271889 42.315094347535,-71.1037393329282 42.315054824985,
-71.1035447555574 42.3152608696313,-71.1033436658644 42.3151648370544,
-71.1032580383161 42.3152269126061,-71.103223066939 42.3152517403219,
-71.1031880899493 42.3152774590236)),
((-71.1043632495873 42.315113108546,-71.1043583974082 42.3151211109857,
-71.1043443253471 42.3150676015829,-71.1043850704575 42.3150793250568,-71.1043632495873 42.315113108546)))');
</pre><pre class="programlisting">--3d circular string
SELECT ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)');
</pre><pre class="programlisting">--Polyhedral Surface example
SELECT ST_GeomFromEWKT('POLYHEDRALSURFACE(
        ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
        ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)),
        ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
        ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
        ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),
        ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1))
)');
</pre></div><div class="refsection" id="idm8979"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_GeomFromMARC21"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromMARC21 — Prend les données géographiques MARC21/XML en entrée et renvoie un objet géométrique PostGIS. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef"> geometry <strong class="fsfunc">ST_GeomFromMARC21</strong> (</code> text  <var class="pdparam">marcxml</var> <code>)</code>;</p></div></div><div class="refsection" id="idm8996"><h2>Description</h2><p>Cette fonction crée une géométrie PostGIS à partir d'un enregistrement MARC21/XML, qui peut contenir un <code class="varname">POINT</code> ou un <code class="varname">POLYGON</code>. En cas d'entrées de données géographiques multiples dans le même enregistrement MARC21/XML, un <code class="varname">MULTIPOINT</code> ou <code class="varname">MULTIPOLYGON</code> sera renvoyé. Si la notice contient des types de géométrie mixtes, une <code class="varname">GEOMETRYCOLLECTION</code> sera retournée. Il renvoie NULL si l'enregistrement MARC21/XML ne contient pas de données géographiques (datafield :034). </p><p>Prise en charge des versions LOC MARC21/XML : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="https://www.loc.gov/standards/marcxml/" target="_top">MARC21/XML 1.1</a></p></li></ul></div><p>
            </p><p class="availability">Disponibilité : 3.3.0, nécessite libxml2 2.6+</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les données mathématiques cartographiques codées MARC21/XML ne fournissent actuellement aucun moyen de décrire le système de référence spatiale des coordonnées codées, de sorte que cette fonction retournera toujours une géométrie avec <code class="varname">SRID 0</code>. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les géométries <code class="varname">POLYGON</code> retournées seront toujours orientées dans le sens des aiguilles d'une montre. </p></td></tr></table></div></div><div class="refsection" id="idm9016"><h2>Exemples</h2><p>Conversion de données géographiques MARC21/XML contenant un seul <code class="varname">POINT</code> encodé en <code class="varname">hddd.dddddd</code> </p><pre class="programlisting">

                SELECT
                ST_AsText(
                    ST_GeomFromMARC21('
                        &lt;record xmlns="http://www.loc.gov/MARC21/slim"&gt;
                            &lt;leader
&gt;00000nz a2200000nc 4500&lt;/leader&gt;
                            &lt;controlfield tag="001"
&gt;040277569&lt;/controlfield&gt;
                            &lt;datafield tag="034" ind1=" " ind2=" "&gt;
                                &lt;subfield code="d"
&gt;W004.500000&lt;/subfield&gt;
                                &lt;subfield code="e"
&gt;W004.500000&lt;/subfield&gt;
                                &lt;subfield code="f"
&gt;N054.250000&lt;/subfield&gt;
                                &lt;subfield code="g"
&gt;N054.250000&lt;/subfield&gt;
                            &lt;/datafield&gt;
                        &lt;/record
&gt;'));

                st_astext
                -------------------
                POINT(-4.5 54.25)
                (1 row)

            </pre><p>Conversion de données géographiques MARC21/XML contenant un seul <code class="varname">POLYGON</code> encodé en <code class="varname">hdddmmss</code></p><pre class="programlisting">


                SELECT
                ST_AsText(
                    ST_GeomFromMARC21('
                        &lt;record xmlns="http://www.loc.gov/MARC21/slim"&gt;
                            &lt;leader
&gt;01062cem a2200241 a 4500&lt;/leader&gt;
                            &lt;controlfield tag="001"
&gt;   84696781 &lt;/controlfield&gt;
                            &lt;datafield tag="034" ind1="1" ind2=" "&gt;
                                &lt;subfield code="a"
&gt;a&lt;/subfield&gt;
                                &lt;subfield code="b"
&gt;50000&lt;/subfield&gt;
                                &lt;subfield code="d"
&gt;E0130600&lt;/subfield&gt;
                                &lt;subfield code="e"
&gt;E0133100&lt;/subfield&gt;
                                &lt;subfield code="f"
&gt;N0523900&lt;/subfield&gt;
                                &lt;subfield code="g"
&gt;N0522300&lt;/subfield&gt;
                            &lt;/datafield&gt;
                        &lt;/record
&gt;'));

                st_astext
                -----------------------------------------------------------------------------------------------------------------------
                POLYGON((13.1 52.65,13.516666666666667 52.65,13.516666666666667 52.38333333333333,13.1 52.38333333333333,13.1 52.65))
                (1 row)

            </pre><p>Conversion de données géographiques MARC21/XML contenant un <code class="varname">POLYGON</code> et un <code class="varname">POINT</code> :</p><pre class="programlisting">


                SELECT
                ST_AsText(
                    ST_GeomFromMARC21('
                &lt;record xmlns="http://www.loc.gov/MARC21/slim"&gt;
                    &lt;datafield tag="034" ind1="1" ind2=" "&gt;
                        &lt;subfield code="a"
&gt;a&lt;/subfield&gt;
                        &lt;subfield code="b"
&gt;50000&lt;/subfield&gt;
                        &lt;subfield code="d"
&gt;E0130600&lt;/subfield&gt;
                        &lt;subfield code="e"
&gt;E0133100&lt;/subfield&gt;
                        &lt;subfield code="f"
&gt;N0523900&lt;/subfield&gt;
                        &lt;subfield code="g"
&gt;N0522300&lt;/subfield&gt;
                    &lt;/datafield&gt;
                    &lt;datafield tag="034" ind1=" " ind2=" "&gt;
                        &lt;subfield code="d"
&gt;W004.500000&lt;/subfield&gt;
                        &lt;subfield code="e"
&gt;W004.500000&lt;/subfield&gt;
                        &lt;subfield code="f"
&gt;N054.250000&lt;/subfield&gt;
                        &lt;subfield code="g"
&gt;N054.250000&lt;/subfield&gt;
                    &lt;/datafield&gt;
                &lt;/record
&gt;'));
                                                                                        st_astext
                -------------------------------------------------------------------------------------------------------------------------------------------------------------
                GEOMETRYCOLLECTION(POLYGON((13.1 52.65,13.516666666666667 52.65,13.516666666666667 52.38333333333333,13.1 52.38333333333333,13.1 52.65)),POINT(-4.5 54.25))
                (1 row)
            </pre></div><div class="refsection" id="idm9030"><h2>Voir aussi</h2><p>
                <a class="xref" href="#ST_AsMARC21" title="ST_AsMARC21">ST_AsMARC21</a>
            </p></div></div><div class="refentry" id="ST_GeometryFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeometryFromText — Retourne un objet ST_Geometry à partir de sa représentation textuelle Well-Known Text (WKT). Alias pour ST_GeomFromText</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeometryFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeometryFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9055"><h2>Description</h2><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.40</p></div><div class="refsection" id="idm9066"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_GeomFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromText — Retourne un objet ST_Geometry à partir de sa représentation textuelle Well-Known Text (WKT).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9091"><h2>Description</h2><p>Construit un objet Postgis de type geometry à partir d'une représentation OGC Well-Known Text WKT.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Il existe deux variantes de la fonction ST_GeomFromText. La première ne prend pas de SRID et renvoie une géométrie sans système de référence spatiale défini (SRID=0). La seconde prend un SRID comme deuxième argument et renvoie une géométrie qui inclut ce SRID comme partie de ses métadonnées. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2 - l'option SRID est issue des tests de conformité.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.40</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Bien que non conforme à l'OGC, <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a> est plus rapide que ST_GeomFromText et ST_PointFromText. Il est également plus facile à utiliser pour les valeurs de coordonnées numériques. <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a> est une autre option similaire en vitesse à <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a> et est conforme à l'OGC, mais ne prend pas en charge autre chose que les points 2D.</p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Changement : 2.0.0 dans les version précédentes de PostGIS ST_GeomFromText('GEOMETRYCOLLECTION(EMPTY)') etait autorisé. C'est désormais interdit dans PostGIS 2.0.0 pour respecter la norme SQL/MM. La forme privilégiée désormais est : ST_GeomFromText('GEOMETRYCOLLECTION EMPTY')</p></td></tr></table></div></div><div class="refsection" id="idm9116"><h2>Exemples</h2><pre class="programlisting">SELECT ST_GeomFromText('LINESTRING(-71.160281 42.258729,-71.160837 42.259113,-71.161144 42.25932)');
SELECT ST_GeomFromText('LINESTRING(-71.160281 42.258729,-71.160837 42.259113,-71.161144 42.25932)',4269);

SELECT ST_GeomFromText('MULTILINESTRING((-71.160281 42.258729,-71.160837 42.259113,-71.161144 42.25932))');

SELECT ST_GeomFromText('POINT(-71.064544 42.28787)');

SELECT ST_GeomFromText('POLYGON((-71.1776585052917 42.3902909739571,-71.1776820268866 42.3903701743239,
-71.1776063012595 42.3903825660754,-71.1775826583081 42.3903033653531,-71.1776585052917 42.3902909739571))');

SELECT ST_GeomFromText('MULTIPOLYGON(((-71.1031880899493 42.3152774590236,
-71.1031627617667 42.3152960829043,-71.102923838298 42.3149156848307,
-71.1023097974109 42.3151969047397,-71.1019285062273 42.3147384934248,
-71.102505233663 42.3144722937587,-71.10277487471 42.3141658254797,
-71.103113945163 42.3142739188902,-71.10324876416 42.31402489987,
-71.1033002961013 42.3140393340215,-71.1033488797549 42.3139495090772,
-71.103396240451 42.3138632439557,-71.1041521907712 42.3141153348029,
-71.1041411411543 42.3141545014533,-71.1041287795912 42.3142114839058,
-71.1041188134329 42.3142693656241,-71.1041112482575 42.3143272556118,
-71.1041072845732 42.3143851580048,-71.1041057218871 42.3144430686681,
-71.1041065602059 42.3145009876017,-71.1041097995362 42.3145589148055,
-71.1041166403905 42.3146168544148,-71.1041258822717 42.3146748022936,
-71.1041375307579 42.3147318674446,-71.1041492906949 42.3147711126569,
-71.1041598612795 42.314808571739,-71.1042515013869 42.3151287620809,
-71.1041173835118 42.3150739481917,-71.1040809891419 42.3151344119048,
-71.1040438678912 42.3151191367447,-71.1040194562988 42.3151832057859,
-71.1038734225584 42.3151140942995,-71.1038446938243 42.3151006300338,
-71.1038315271889 42.315094347535,-71.1037393329282 42.315054824985,
-71.1035447555574 42.3152608696313,-71.1033436658644 42.3151648370544,
-71.1032580383161 42.3152269126061,-71.103223066939 42.3152517403219,
-71.1031880899493 42.3152774590236)),
((-71.1043632495873 42.315113108546,-71.1043583974082 42.3151211109857,
-71.1043443253471 42.3150676015829,-71.1043850704575 42.3150793250568,-71.1043632495873 42.315113108546)))',4326);

SELECT ST_GeomFromText('CIRCULARSTRING(220268 150415,220227 150505,220227 150406)');
        </pre></div><div class="refsection" id="idm9119"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_LineFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineFromText — Construit une géométrie à partir d'une représentation WKT avec le SRID donné. Si aucun SRID n'est donné, la valeur par défaut est 0.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9146"><h2>Description</h2><p>Crée une géométrie à partir de WKT avec le SRID donné. Si le SRID n'est pas donné, la valeur par défaut est 0. Si le WKT passé n'est pas un LINESTRING, null est retourné. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>OGC SPEC 3.2.6.2 - option SRID issue des tests de conformité.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous êtes sûrs que toutes les géométries WKT sont des LINESTRINGS, la fonction ST_GeomFromText est plus efficace car elle ne contrôle pas le type de la géométrie renvoyée.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 7.2.8</p></div><div class="refsection" id="idm9162"><h2>Exemples</h2><pre class="programlisting">SELECT ST_LineFromText('LINESTRING(1 2, 3 4)') AS aline, ST_LineFromText('POINT(1 2)') AS null_return;
aline                            | null_return
------------------------------------------------
010200000002000000000000000000F ... | t
                </pre></div><div class="refsection" id="idm9165"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_MLineFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MLineFromText — Retourne un objet de type ST_MultiLineString à partir de sa représentation WKT.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MLineFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_MLineFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm9190"><h2>Description</h2><p>Crée une géométrie à partir du texte connu (WKT) avec le SRID donné. Si le SRID n'est pas donné, la valeur par défaut est 0.</p><p>OGC SPEC 3.2.6.2 - l'option SRID est issue des tests de conformité</p><p>Retourne NULL si le WKT n'est pas une MULTILINESTRING</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous êtes absolument sûrs que toutes les géométries WKT sont des points, ne pas utiliser cette fonction. Elle est plus lente que ST_GeomFromText à cause d'une étape de validation supplémentaire. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM. SQL-MM 3 : 9.4.4</p></div><div class="refsection" id="idm9206"><h2>Exemples</h2><pre class="programlisting">SELECT ST_MLineFromText('MULTILINESTRING((1 2, 3 4), (4 5, 6 7))');</pre></div><div class="refsection" id="idm9209"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_MPointFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MPointFromText — Créé une Geometry depuis un WKT avec le SRID donné. Si le SRID n'est pas fourni, il sera défini par défaut à 0.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MPointFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_MPointFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm9234"><h2>Description</h2><p>Créé une Geometry depuis un WKT avec le SRID donné. Si le SRID n'est pas fourni, il sera défini par défaut à 0. </p><p>OGC SPEC 3.2.6.2 - l'option SRID est issue des tests de conformité</p><p>Retourne NULL si le WKT n'est pas une MULTIPOINT</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous êtes absolument sûrs que toutes les géométries WKT sont des points, ne pas utiliser cette fonction. Elle est plus lente que ST_GeomFromText à cause d'une étape de validation supplémentaire. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 9.2.4</p></div><div class="refsection" id="idm9250"><h2>Exemples</h2><pre class="programlisting">SELECT ST_MPointFromText('MULTIPOINT((1 2),(3 4))');
SELECT ST_MPointFromText('MULTIPOINT((-70.9590 42.1180),(-70.9611 42.1223))', 4326);</pre></div><div class="refsection" id="idm9253"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_MPolyFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MPolyFromText — Crée une géométrie multi-polygone à partir de WKT avec le SRID donné. Si le SRID n'est pas donné, la valeur par défaut est 0.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MPolyFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_MPolyFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm9278"><h2>Description</h2><p>Crée un MultiPolygone à partir de WKT avec le SRID donné. Si le SRID n'est pas donné, la valeur par défaut est 0.</p><p>OGC SPEC 3.2.6.2 - l'option SRID est issue des tests de conformité</p><p>Retourne une erreur si le WKT n'est pas un MULTIPOLYGON</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous êtes absolument sûrs que toutes les géométries WKT sont des multipolygones, ne pas utiliser cette fonction. Elle est plus lente que ST_GeomFromText à cause d'une étape de validation supplémentaire. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 9.6.4</p></div><div class="refsection" id="idm9294"><h2>Exemples</h2><pre class="programlisting">SELECT ST_MPolyFromText('MULTIPOLYGON(((0 0 1,20 0 1,20 20 1,0 20 1,0 0 1),(5 5 3,5 7 3,7 7 3,7 5 3,5 5 3)))');
SELECt ST_MPolyFromText('MULTIPOLYGON(((-70.916 42.1002,-70.9468 42.0946,-70.9765 42.0872,-70.9754 42.0875,-70.9749 42.0879,-70.9752 42.0881,-70.9754 42.0891,-70.9758 42.0894,-70.9759 42.0897,-70.9759 42.0899,-70.9754 42.0902,-70.9756 42.0906,-70.9753 42.0907,-70.9753 42.0917,-70.9757 42.0924,-70.9755 42.0928,-70.9755 42.0942,-70.9751 42.0948,-70.9755 42.0953,-70.9751 42.0958,-70.9751 42.0962,-70.9759 42.0983,-70.9767 42.0987,-70.9768 42.0991,-70.9771 42.0997,-70.9771 42.1003,-70.9768 42.1005,-70.977 42.1011,-70.9766 42.1019,-70.9768 42.1026,-70.9769 42.1033,-70.9775 42.1042,-70.9773 42.1043,-70.9776 42.1043,-70.9778 42.1048,-70.9773 42.1058,-70.9774 42.1061,-70.9779 42.1065,-70.9782 42.1078,-70.9788 42.1085,-70.9798 42.1087,-70.9806 42.109,-70.9807 42.1093,-70.9806 42.1099,-70.9809 42.1109,-70.9808 42.1112,-70.9798 42.1116,-70.9792 42.1127,-70.979 42.1129,-70.9787 42.1134,-70.979 42.1139,-70.9791 42.1141,-70.9987 42.1116,-71.0022 42.1273,
        -70.9408 42.1513,-70.9315 42.1165,-70.916 42.1002)))',4326);
</pre></div><div class="refsection" id="idm9297"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_PointFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointFromText — Construit une géométrie point à partir d'une représentation WKT et le SRID donné. Si aucun SRID n'est donné, la valeur par défaut est 0.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PointFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_PointFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9323"><h2>Description</h2><p>Construit un objet point ST_Geometry de PostGIS à partir de la représentation textuelle Well-Known de l'OGC. Si le SRID n'est pas donné, il prend par défaut la valeur inconnue (actuellement 0). Si la géométrie n'est pas une représentation de point WKT, retourne null. Si la représentation WKT n'est pas du tout valide, une erreur est générée.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Il existe 2 versions de la fonction ST_PointFromText : la première ne prend pas de SRID en paramètre et retourne une geometry sans système de coordonnées. La seconde prend un SRID en second paramètre et retourne une ST_Geometry incluant un SRID dans ses métadonnées. Ce SRID doit obligatoirement exister dans la table spatial_ref_sys.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous êtes absolument sûrs que toutes les géométries WKT sont des points, ne pas utiliser cette fonction. Elle est plus lente que ST_GeomFromText à cause d'une étape de validation supplémentaire. Si le point doit être construit à partir de coordonnées latitude longitude et que la performance est recherchée, utiliser la fonction <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a> ou son équivalent OGC <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2 - l'option SRID est issue des tests de conformité.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 6.1.8</p></div><div class="refsection" id="idm9341"><h2>Exemples</h2><pre class="programlisting">SELECT ST_PointFromText('POINT(-71.064544 42.28787)');
SELECT ST_PointFromText('POINT(-71.064544 42.28787)', 4326);
        </pre></div><div class="refsection" id="idm9344"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_PolygonFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PolygonFromText — Créé une Geometry depuis un WKT avec le SRID donné. Si le SRID n'est pas fourni, il sera défini par défaut à 0.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PolygonFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_PolygonFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9372"><h2>Description</h2><p>Crée une géométrie à partir de WKT avec le SRID donné. Si le SRID n'est pas donné, la valeur par défaut est 0. Retourne null si WKT n'est pas un polygone.</p><p>OGC SPEC 3.2.6.2 - l'option SRID est issue des tests de conformité</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous êtes absolument sûrs que toutes les géométries WKT sont des polygones, ne pas utiliser cette fonction. Elle est plus lente que ST_GeomFromText à cause d'une étape de validation supplémentaire. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 8.3.6</p></div><div class="refsection" id="idm9387"><h2>Exemples</h2><pre class="programlisting">SELECT ST_PolygonFromText('POLYGON((-71.1776585052917 42.3902909739571,-71.1776820268866 42.3903701743239,
-71.1776063012595 42.3903825660754,-71.1775826583081 42.3903033653531,-71.1776585052917 42.3902909739571))');
st_polygonfromtext
------------------
010300000001000000050000006...


SELECT ST_PolygonFromText('POINT(1 2)') IS NULL as point_is_notpoly;

point_is_not_poly
----------
t
</pre></div><div class="refsection" id="idm9390"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_WKTToSQL"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_WKTToSQL — Retourne un objet ST_Geometry à partir de sa représentation textuelle Well-Known Text (WKT). Alias pour ST_GeomFromText</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_WKTToSQL</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm9406"><h2>Description</h2><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.34</p></div><div class="refsection" id="idm9412"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div></section><section class="section" id="idm9416"><div class="titlepage"><div><div><h3 class="title">7.8.2. Well-Known Binary (WKB)</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_GeogFromWKB">ST_GeogFromWKB</a></span><span class="refpurpose"> — Retourne un objet de type geography à partir de sa représentation binaire Well-Know Binary (WKB ou EWKB).</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromEWKB">ST_GeomFromEWKB</a></span><span class="refpurpose"> — Retourne un objet ST_Geometry à partir de sa représentation binaire étendue (Extended Well-Known Binary representation, EWKB).</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromWKB">ST_GeomFromWKB</a></span><span class="refpurpose"> — Retourne un objet de type geometry à partir de sa représentation binaire Well-Know Binary (WKB) et d'un SRID optionnel.</span></li><li><span class="refentrytitle"><a href="#ST_LineFromWKB">ST_LineFromWKB</a></span><span class="refpurpose"> — Construit une <code class="varname">LINESTRING</code> depuis la représentation binaire WKB et le srid donné</span></li><li><span class="refentrytitle"><a href="#ST_LinestringFromWKB">ST_LinestringFromWKB</a></span><span class="refpurpose"> — Construit une géométrie depuis la représentation binaire WKB et le SRID donné.</span></li><li><span class="refentrytitle"><a href="#ST_PointFromWKB">ST_PointFromWKB</a></span><span class="refpurpose"> — Construit une géométrie depuis la représentation binaire WKB et le SRID donné</span></li><li><span class="refentrytitle"><a href="#ST_WKBToSQL">ST_WKBToSQL</a></span><span class="refpurpose"> — Retourne un objet ST_Geometry à partir de sa représentation textuelle Well-Known Binary (WKB). Alias pour ST_GeomFromWKB sans SRID</span></li></ul></div><div class="refentry" id="ST_GeogFromWKB"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeogFromWKB — Retourne un objet de type geography à partir de sa représentation binaire Well-Know Binary (WKB ou EWKB).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geography <strong class="fsfunc">ST_GeogFromWKB</strong>(</code>bytea  <var class="pdparam">wkb</var><code>)</code>;</p></div></div><div class="refsection" id="idm9430"><h2>Description</h2><p><code class="varname">ST_GeogFromWKB</code> prend en paramètre une représentation binaire d'une géométrie (WKB ou EWKB) et crée une instance de type geography. Cette fonction assure le rôle de Geometry Factory en SQL. </p><p>Si le SRID n'est pas spécifié, la valeur 4326 est prise (WGS 84 long lat).</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm9439"><h2>Exemples</h2><pre class="programlisting">--Although bytea rep contains single \, these need to be escaped when inserting into a table
SELECT ST_AsText(
ST_GeogFromWKB(E'\\001\\002\\000\\000\\000\\002\\000\\000\\000\\037\\205\\353Q\\270~\\\\\\300\\323Mb\\020X\\231C@\\020X9\\264\\310~\\\\\\300)\\\\\\217\\302\\365\\230C@')
);
                                          st_astext
------------------------------------------------------
 LINESTRING(-113.98 39.198,-113.981 39.195)
(1 row)

</pre></div><div class="refsection" id="idm9442"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeogFromText" title="ST_GeogFromText">ST_GeogFromText</a>, <a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a></p></div></div><div class="refentry" id="ST_GeomFromEWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromEWKB — Retourne un objet ST_Geometry à partir de sa représentation binaire étendue (Extended Well-Known Binary representation, EWKB).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromEWKB</strong>(</code>bytea  <var class="pdparam">EWKB</var><code>)</code>;</p></div></div><div class="refsection" id="idm9459"><h2>Description</h2><p>Retourne un objet ST_Geometry à partir de sa représentation textuelle étendue OGC (Extended Well-Known Text representation, EWKT).</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le format EWKB n'est pas une norme OGC, mais un format spécifique à PostGIS incluant l'identifiant du système de référence des coordonnées (SRID)</p></td></tr></table></div><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN et surfaces polyédriques.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm9481"><h2>Exemples</h2><p>line string binary rep 0f LINESTRING(-71.160281 42.258729,-71.160837 42.259113,-71.161144 42.25932) in NAD 83 long lat (4269).</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE : Si le paramètre standard_conforming_strings est à la valeur off, il est nécessaire d'échapper les caractères \ et ' avec \ et ". Ceci diffère de la représentation AsEWKB.</p></td></tr></table></div><pre class="programlisting">SELECT ST_GeomFromEWKB(E'\\001\\002\\000\\000 \\255\\020\\000\\000\\003\\000\\000\\000\\344J=
\\013B\\312Q\\300n\\303(\\010\\036!E@''\\277E''K
\\312Q\\300\\366{b\\235*!E@\\225|\\354.P\\312Q
\\300p\\231\\323e1!E@');</pre><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Dans PostgreSQL 9.1+ - standard_conforming_strings est activé par défaut, alors que dans les versions précédentes il était désactivé. Vous pouvez modifier les valeurs par défaut selon vos besoins pour une seule requête ou au niveau de la base de données ou du serveur. Voici comment procéder avec standard_conforming_strings = on. Dans ce cas, nous échappons le ' avec le standard ansi ', mais les barres obliques ne sont pas échappées</p></td></tr></table></div><pre class="programlisting">set standard_conforming_strings = on;
SELECT ST_GeomFromEWKB('\001\002\000\000 \255\020\000\000\003\000\000\000\344J=\012\013B
    \312Q\300n\303(\010\036!E@''\277E''K\012\312Q\300\366{b\235*!E@\225|\354.P\312Q\012\300p\231\323e1')</pre></div><div class="refsection" id="idm9490"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>, <a class="xref" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a>, <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a></p></div></div><div class="refentry" id="ST_GeomFromWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromWKB — Retourne un objet de type geometry à partir de sa représentation binaire Well-Know Binary (WKB) et d'un SRID optionnel.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromWKB</strong>(</code>bytea  <var class="pdparam">geom</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromWKB</strong>(</code>bytea  <var class="pdparam">geom</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9517"><h2>Description</h2><p><code class="varname"> ST_GeomFromWKB </code> prend en paramètre une représentation binaire d'une géométrie (WKB ou EWKB) et un SRID optionnel (<code class="varname">SRID</code>) et crée une instance de type geometry. Cette fonction assure le rôle de Geometry Factory en SQL. Alias pour ST_WKBToSQL.</p><p>Si le SRID n'est pas précisé, la valeur 0 (indéfini) est prise par défaut.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.7.2 - le paramètre optionnel est issu des tests de conformité</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.41</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm9536"><h2>Exemples</h2><pre class="programlisting">--Although bytea rep contains single \, these need to be escaped when inserting into a table
                -- unless standard_conforming_strings is set to on.
SELECT ST_AsEWKT(
ST_GeomFromWKB(E'\\001\\002\\000\\000\\000\\002\\000\\000\\000\\037\\205\\353Q\\270~\\\\\\300\\323Mb\\020X\\231C@\\020X9\\264\\310~\\\\\\300)\\\\\\217\\302\\365\\230C@',4326)
);
                                          st_asewkt
------------------------------------------------------
 SRID=4326;LINESTRING(-113.98 39.198,-113.981 39.195)
(1 row)

SELECT
  ST_AsText(
        ST_GeomFromWKB(
          ST_AsEWKB('POINT(2 5)'::geometry)
        )
  );
 st_astext
------------
 POINT(2 5)
(1 row)</pre></div><div class="refsection" id="idm9539"><h2>Voir aussi</h2><p><a class="xref" href="#ST_WKBToSQL" title="ST_WKBToSQL">ST_WKBToSQL</a>, <a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>, <a class="xref" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a></p></div></div><div class="refentry" id="ST_LineFromWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineFromWKB — Construit une <code class="varname">LINESTRING</code> depuis la représentation binaire WKB et le srid donné</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineFromWKB</strong>(</code>bytea  <var class="pdparam">WKB</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineFromWKB</strong>(</code>bytea  <var class="pdparam">WKB</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9567"><h2>Description</h2><p><code class="varname"> ST_LineFromWKB </code> prend en paramètre une représentation binaire d'une géométrie (WKB ou EWKB) et un SRID (<code class="varname">SRID</code>) et crée une instance du bon type géométrique, en l'occurence une <code class="varname">LINESTRING</code>. Cette fonction assure le rôle de Geometry Factory en SQL.</p><p>Si le SRID n'est pas précisé, la valeur 0 est prise par défaut. <code class="varname">NULL</code> est retourné si le paramètre <code class="varname">bytea</code> donné ne représente pas une <code class="varname">LINESTRING</code>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>OGC SPEC 3.2.6.2 - option SRID issue des tests de conformité.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous savez que toutes vos géométries sont des <code class="varname">LINESTRING</code>, il est plus efficace d'utiliser <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>. Cette fonction appelle simplement <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a> et ajoute une validation supplémentaire indiquant qu'elle renvoie une linestring.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 7.2.9</p></div><div class="refsection" id="idm9593"><h2>Exemples</h2><pre class="programlisting">SELECT ST_LineFromWKB(ST_AsBinary(ST_GeomFromText('LINESTRING(1 2, 3 4)'))) AS aline,
                ST_LineFromWKB(ST_AsBinary(ST_GeomFromText('POINT(1 2)'))) IS NULL AS null_return;
aline                            | null_return
------------------------------------------------
010200000002000000000000000000F ... | t
                </pre></div><div class="refsection" id="idm9596"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>, <a class="xref" href="#ST_LinestringFromWKB" title="ST_LinestringFromWKB">ST_LinestringFromWKB</a></p></div></div><div class="refentry" id="ST_LinestringFromWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LinestringFromWKB — Construit une géométrie depuis la représentation binaire WKB et le SRID donné.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LinestringFromWKB</strong>(</code>bytea  <var class="pdparam">WKB</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_LinestringFromWKB</strong>(</code>bytea  <var class="pdparam">WKB</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9622"><h2>Description</h2><p>La fonction <code class="varname"> ST_LinestringFromWKB </code> prend en paramètre une représentation binaire d'une géométrie (WKB ou EWKB) et un SRID (<code class="varname">SRID</code>) et crée une instance du bon type géométrique, en l'occurence une <code class="varname">LINESTRING</code>. Cette fonction assure le rôle de Geometry Factory en SQL.</p><p>Si le SRID n'est pas précisé, la valeur 0 est prise par défaut. <code class="varname">NULL</code> est retourné si le paramètre <code class="varname">bytea</code> donné ne représente pas une <code class="varname">LINESTRING</code>. Alias pour <a class="xref" href="#ST_LineFromWKB" title="ST_LineFromWKB">ST_LineFromWKB</a>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>OGC SPEC 3.2.6.2 - SRID optionnel issu des tests de conformité.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous savez que toutes vos géométries sont des <code class="varname">LINESTRING</code>, il est plus efficace d'utiliser <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>. Cette fonction appelle simplement <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a> et ajoute une validation supplémentaire indiquant qu'elle renvoie une <code class="varname">LINESTRING</code>.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 7.2.9</p></div><div class="refsection" id="idm9650"><h2>Exemples</h2><pre class="programlisting">SELECT
  ST_LineStringFromWKB(
        ST_AsBinary(ST_GeomFromText('LINESTRING(1 2, 3 4)'))
  ) AS aline,
  ST_LinestringFromWKB(
        ST_AsBinary(ST_GeomFromText('POINT(1 2)'))
  ) IS NULL AS null_return;
   aline                            | null_return
------------------------------------------------
010200000002000000000000000000F ... | t</pre></div><div class="refsection" id="idm9653"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>, <a class="xref" href="#ST_LineFromWKB" title="ST_LineFromWKB">ST_LineFromWKB</a></p></div></div><div class="refentry" id="ST_PointFromWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointFromWKB — Construit une géométrie depuis la représentation binaire WKB et le SRID donné</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromWKB</strong>(</code>bytea  <var class="pdparam">geom</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromWKB</strong>(</code>bytea  <var class="pdparam">geom</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9679"><h2>Description</h2><p><code class="varname"> ST_PointFromWKB </code> prend en paramètre une représentation binaire d'une géométrie et un SRID (<code class="varname">SRID</code>) et crée une instance du bon type géométrique, en l'occurence une <code class="varname"> POINT </code>. Cette fonction assure le rôle de Geometry Factory en SQL.</p><p>Si le SRID n'est pas précisé, la valeur 0 est prise par défaut. <code class="varname">NULL</code> est retourné si le paramètre <code class="varname">bytea</code> donné ne représente pas une géométrie <code class="varname">POINT</code>.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.7.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 6.1.9</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm9706"><h2>Exemples</h2><pre class="programlisting">SELECT
  ST_AsText(
        ST_PointFromWKB(
          ST_AsEWKB('POINT(2 5)'::geometry)
        )
  );
 st_astext
------------
 POINT(2 5)
(1 row)

SELECT
  ST_AsText(
        ST_PointFromWKB(
          ST_AsEWKB('LINESTRING(2 5, 2 6)'::geometry)
        )
  );
 st_astext
-----------

(1 row)</pre></div><div class="refsection" id="idm9709"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>, <a class="xref" href="#ST_LineFromWKB" title="ST_LineFromWKB">ST_LineFromWKB</a></p></div></div><div class="refentry" id="ST_WKBToSQL"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_WKBToSQL — Retourne un objet ST_Geometry à partir de sa représentation textuelle Well-Known Binary (WKB). Alias pour ST_GeomFromWKB sans SRID</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_WKBToSQL</strong>(</code>bytea  <var class="pdparam">WKB</var><code>)</code>;</p></div></div><div class="refsection" id="idm9726"><h2>Description</h2><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.36</p></div><div class="refsection" id="idm9732"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a></p></div></div></section><section class="section" id="idm9736"><div class="titlepage"><div><div><h3 class="title">7.8.3. Autres formats</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_Box2dFromGeoHash">ST_Box2dFromGeoHash</a></span><span class="refpurpose"> — Retourne une BOX2D à partir d'une chaîne GeoHash.</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromGeoHash">ST_GeomFromGeoHash</a></span><span class="refpurpose"> — Retourne une geometry depuis une chaîne GeoHash.</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromGML">ST_GeomFromGML</a></span><span class="refpurpose"> — Prend en paramètre une représentation GML d'une géométrie et renvoie un objet PostGIS de type geometry</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromGeoJSON">ST_GeomFromGeoJSON</a></span><span class="refpurpose"> — Prend en entrée une géométrie au format geojson et renvoie un objet Postgis de type geometry</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromKML">ST_GeomFromKML</a></span><span class="refpurpose"> — Prend en entrée une géométrie au format KML et renvoie un objet Postgis de type geometry</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromTWKB">ST_GeomFromTWKB</a></span><span class="refpurpose"> — Crée une instance de geometry depuis une représentation de géométrie en TWKB ("Tiny Well-Known Binary").</span></li><li><span class="refentrytitle"><a href="#ST_GMLToSQL">ST_GMLToSQL</a></span><span class="refpurpose"> — Retourne un objet de type ST_Geometry à partir de sa représentation GML. Alias pour ST_GeomFromGML</span></li><li><span class="refentrytitle"><a href="#ST_LineFromEncodedPolyline">ST_LineFromEncodedPolyline</a></span><span class="refpurpose"> — Crée une LineString depuis une polyligne encodée ( "Encoded Polyline" ).</span></li><li><span class="refentrytitle"><a href="#ST_PointFromGeoHash">ST_PointFromGeoHash</a></span><span class="refpurpose"> — Retourne un point à partir d'une chaîne GeoHash.</span></li><li><span class="refentrytitle"><a href="#ST_FromFlatGeobufToTable">ST_FromFlatGeobufToTable</a></span><span class="refpurpose"> — Crée une table basée sur la structure des données FlatGeobuf.</span></li><li><span class="refentrytitle"><a href="#ST_FromFlatGeobuf">ST_FromFlatGeobuf</a></span><span class="refpurpose"> — Lit les données FlatGeobuf.</span></li></ul></div><div class="refentry" id="ST_Box2dFromGeoHash"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Box2dFromGeoHash — Retourne une BOX2D à partir d'une chaîne GeoHash.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box2d <strong class="fsfunc">ST_Box2dFromGeoHash</strong>(</code>text  <var class="pdparam">geohash</var>, integer  <var class="pdparam">precision=full_precision_of_geohash</var><code>)</code>;</p></div></div><div class="refsection" id="idm9753"><h2>Description</h2><p>Retourne une BOX2D à partir d'une chaîne GeoHash.</p><p>Si aucune <code class="varname">precision</code> n'est spécifiée, ST_Box2dFromGeoHash retourne un BOX2D basé sur la précision complète de la chaîne GeoHash d'entrée.</p><p>Si <code class="varname">precision</code> est spécifié, ST_Box2dFromGeoHash utilise autant de caractère du GeoHash pour créer la BOX2D. Une précision plus basse retourne des BOXD2 plus grandes, et une valeur plus haute améliore la précision.</p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm9761"><h2>Exemples</h2><pre class="programlisting">SELECT ST_Box2dFromGeoHash('9qqj7nmxncgyy4d0dbxqz0');

                st_geomfromgeohash
--------------------------------------------------
 BOX(-115.172816 36.114646,-115.172816 36.114646)

SELECT ST_Box2dFromGeoHash('9qqj7nmxncgyy4d0dbxqz0', 0);

 st_box2dfromgeohash
----------------------
 BOX(-180 -90,180 90)

 SELECT ST_Box2dFromGeoHash('9qqj7nmxncgyy4d0dbxqz0', 10);
                            st_box2dfromgeohash
---------------------------------------------------------------------------
 BOX(-115.17282128334 36.1146408319473,-115.172810554504 36.1146461963654)

                </pre></div><div class="refsection" id="idm9764"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeoHash" title="ST_GeoHash">ST_GeoHash</a>, <a class="xref" href="#ST_GeomFromGeoHash" title="ST_GeomFromGeoHash">ST_GeomFromGeoHash</a>, <a class="xref" href="#ST_PointFromGeoHash" title="ST_PointFromGeoHash">ST_PointFromGeoHash</a></p></div></div><div class="refentry" id="ST_GeomFromGeoHash"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromGeoHash — Retourne une geometry depuis une chaîne GeoHash.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromGeoHash</strong>(</code>text  <var class="pdparam">geohash</var>, integer  <var class="pdparam">precision=full_precision_of_geohash</var><code>)</code>;</p></div></div><div class="refsection" id="idm9785"><h2>Description</h2><p>Retourne une Geometry à partir d'une chaîne GeoHash. La géométrie sera un polygone représentant les limites du GeoHash.</p><p>Si aucune <code class="varname">precision</code> n'est spécifiée, ST_GeomFromGeoHash retourne un polygone basé sur la précision complète de la chaîne GeoHash en entrée.</p><p>Si <code class="varname">precision</code> est spécifié, ST_GeomFromGeoHash utilise autant de caractère du GeoHash pour créer le polygone.</p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm9793"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_GeomFromGeoHash('9qqj7nmxncgyy4d0dbxqz0'));
                                                        st_astext
--------------------------------------------------------------------------------------------------------------------------
 POLYGON((-115.172816 36.114646,-115.172816 36.114646,-115.172816 36.114646,-115.172816 36.114646,-115.172816 36.114646))

SELECT ST_AsText(ST_GeomFromGeoHash('9qqj7nmxncgyy4d0dbxqz0', 4));
                                                          st_astext
------------------------------------------------------------------------------------------------------------------------------
 POLYGON((-115.3125 36.03515625,-115.3125 36.2109375,-114.9609375 36.2109375,-114.9609375 36.03515625,-115.3125 36.03515625))

SELECT ST_AsText(ST_GeomFromGeoHash('9qqj7nmxncgyy4d0dbxqz0', 10));
                                                                                       st_astext
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 POLYGON((-115.17282128334 36.1146408319473,-115.17282128334 36.1146461963654,-115.172810554504 36.1146461963654,-115.172810554504 36.1146408319473,-115.17282128334 36.1146408319473))

                </pre></div><div class="refsection" id="idm9796"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeoHash" title="ST_GeoHash">ST_GeoHash</a>,<a class="xref" href="#ST_Box2dFromGeoHash" title="ST_Box2dFromGeoHash">ST_Box2dFromGeoHash</a>, <a class="xref" href="#ST_PointFromGeoHash" title="ST_PointFromGeoHash">ST_PointFromGeoHash</a></p></div></div><div class="refentry" id="ST_GeomFromGML"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromGML — Prend en paramètre une représentation GML d'une géométrie et renvoie un objet PostGIS de type geometry</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromGML</strong>(</code>text  <var class="pdparam">geomgml</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromGML</strong>(</code>text  <var class="pdparam">geomgml</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9823"><h2>Description</h2><p>Construit un objet PostGIS ST_Geometry à partir d'une représentation GML OGC.</p><p>La fonction ST_GeomFromGML fonctionne uniquement avec le fragment GML représentant la géométrie. Elle renvoie une error si un document GML complet est utilisé.</p><p>version OGC GML supportée : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>GML 3.2.1 Namespace</p></li><li class="listitem"><p>GML 3.1.1 Simple Features profile SF-2 (with GML 3.1.0 and 3.0.0 backward compatibility)</p></li><li class="listitem"><p>GML 2.1.2</p></li></ul></div><p> OGC GML standards, cf : <a class="link" href="http://www.opengeospatial.org/standards/gml" target="_top">http://www.opengeospatial.org/standards/gml</a> : </p><p class="availability">Disponibilité : 1.5, nécessite libxml2 1.6+</p><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN et surfaces polyédriques.</p><p class="enhanced">Amélioration : 2.0.0 paramètre optionnel de srid par défaut ajouté.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>Le format GML supporte des objets de dimensions différentes (2D et 3D dans la même MultiGeometry par exemple). PostGIS ne supportant pas cela, la fonction convertit toute la géometrie en 2D si une seule coordonnée Z manque.</p><p>Le format GML supporte des objets ayant des SRID différents dans la même MultiGeometry. PostGIS ne supportant pas cela, ST_GeomFromGML reprojète toutes les sous géométries dans le SRS du noeud racine. Si aucun attribut srsName n'est disponible pour le noeud racine GML, la fonction renvoie une erreur.</p><p>La fonction ST_GeomFromGML n'impose pas d'utiliser un espace de noms GML explicite. Pour les usages courants, il peut être ignoré. Il est en revanche nécessaire en cas d'utilisation de la fonctionnalité XLink dans le GML.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La fonction ST_GeomFromGML ne supporte pas les géométries de type SQL/MM courbes.</p></td></tr></table></div></div><div class="refsection" id="idm9856"><h2>Exemple : une géométrie unique avec srsName</h2><pre class="programlisting">
SELECT ST_GeomFromGML($$
    &lt;gml:LineString xmlns:gml="http://www.opengis.net/gml"
                        srsName="EPSG:4269"&gt;
        &lt;gml:coordinates&gt;
            -71.16028,42.258729 -71.160837,42.259112 -71.161143,42.25932
        &lt;/gml:coordinates&gt;
    &lt;/gml:LineString&gt;
$$);

                </pre></div><div class="refsection" id="idm9859"><h2>Exemple - utilisation de XLink</h2><pre class="programlisting">
SELECT ST_GeomFromGML($$
    &lt;gml:LineString xmlns:gml="http://www.opengis.net/gml"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            srsName="urn:ogc:def:crs:EPSG::4269"&gt;
        &lt;gml:pointProperty&gt;
            &lt;gml:Point gml:id="p1"
&gt;&lt;gml:pos
&gt;42.258729 -71.16028&lt;/gml:pos
&gt;&lt;/gml:Point&gt;
        &lt;/gml:pointProperty&gt;
        &lt;gml:pos
&gt;42.259112 -71.160837&lt;/gml:pos&gt;
        &lt;gml:pointProperty&gt;
            &lt;gml:Point xlink:type="simple" xlink:href="#p1"/&gt;
        &lt;/gml:pointProperty&gt;
    &lt;/gml:LineString&gt;
$$);

                </pre></div><div class="refsection" id="idm9862"><h2>Exemple - Surface Polyédrique</h2><pre class="programlisting">
SELECT ST_AsEWKT(ST_GeomFromGML('
&lt;gml:PolyhedralSurface xmlns:gml="http://www.opengis.net/gml"&gt;
&lt;gml:polygonPatches&gt;
  &lt;gml:PolygonPatch&gt;
    &lt;gml:exterior&gt;
      &lt;gml:LinearRing
&gt;&lt;gml:posList srsDimension="3"
&gt;0 0 0 0 0 1 0 1 1 0 1 0 0 0 0&lt;/gml:posList
&gt;&lt;/gml:LinearRing&gt;
    &lt;/gml:exterior&gt;
  &lt;/gml:PolygonPatch&gt;
  &lt;gml:PolygonPatch&gt;
    &lt;gml:exterior&gt;
        &lt;gml:LinearRing
&gt;&lt;gml:posList srsDimension="3"
&gt;0 0 0 0 1 0 1 1 0 1 0 0 0 0 0&lt;/gml:posList
&gt;&lt;/gml:LinearRing&gt;
    &lt;/gml:exterior&gt;
  &lt;/gml:PolygonPatch&gt;
  &lt;gml:PolygonPatch&gt;
    &lt;gml:exterior&gt;
        &lt;gml:LinearRing
&gt;&lt;gml:posList srsDimension="3"
&gt;0 0 0 1 0 0 1 0 1 0 0 1 0 0 0&lt;/gml:posList
&gt;&lt;/gml:LinearRing&gt;
    &lt;/gml:exterior&gt;
  &lt;/gml:PolygonPatch&gt;
  &lt;gml:PolygonPatch&gt;
    &lt;gml:exterior&gt;
        &lt;gml:LinearRing
&gt;&lt;gml:posList srsDimension="3"
&gt;1 1 0 1 1 1 1 0 1 1 0 0 1 1 0&lt;/gml:posList
&gt;&lt;/gml:LinearRing&gt;
    &lt;/gml:exterior&gt;
  &lt;/gml:PolygonPatch&gt;
  &lt;gml:PolygonPatch&gt;
    &lt;gml:exterior&gt;
        &lt;gml:LinearRing
&gt;&lt;gml:posList srsDimension="3"
&gt;0 1 0 0 1 1 1 1 1 1 1 0 0 1 0&lt;/gml:posList
&gt;&lt;/gml:LinearRing&gt;
    &lt;/gml:exterior&gt;
  &lt;/gml:PolygonPatch&gt;
  &lt;gml:PolygonPatch&gt;
    &lt;gml:exterior&gt;
        &lt;gml:LinearRing
&gt;&lt;gml:posList srsDimension="3"
&gt;0 0 1 1 0 1 1 1 1 0 1 1 0 0 1&lt;/gml:posList
&gt;&lt;/gml:LinearRing&gt;
    &lt;/gml:exterior&gt;
  &lt;/gml:PolygonPatch&gt;
&lt;/gml:polygonPatches&gt;
&lt;/gml:PolyhedralSurface
&gt;'));

-- result --
 POLYHEDRALSURFACE(((0 0 0,0 0 1,0 1 1,0 1 0,0 0 0)),
 ((0 0 0,0 1 0,1 1 0,1 0 0,0 0 0)),
 ((0 0 0,1 0 0,1 0 1,0 0 1,0 0 0)),
 ((1 1 0,1 1 1,1 0 1,1 0 0,1 1 0)),
 ((0 1 0,0 1 1,1 1 1,1 1 0,0 1 0)),
 ((0 0 1,1 0 1,1 1 1,0 1 1,0 0 1)))
                </pre></div><div class="refsection" id="idm9865"><h2>Voir aussi</h2><p><a class="xref" href="#installation_configuration" title="2.2.3. Configuration de la compilation">Section 2.2.3, “Configuration de la compilation”</a>, <a class="xref" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a>, <a class="xref" href="#ST_GMLToSQL" title="ST_GMLToSQL">ST_GMLToSQL</a></p></div></div><div class="refentry" id="ST_GeomFromGeoJSON"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromGeoJSON — Prend en entrée une géométrie au format geojson et renvoie un objet Postgis de type geometry</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromGeoJSON</strong>(</code>text  <var class="pdparam">geomjson</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromGeoJSON</strong>(</code>json  <var class="pdparam">geomjson</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromGeoJSON</strong>(</code>jsonb  <var class="pdparam">geomjson</var><code>)</code>;</p></div></div><div class="refsection" id="idm9895"><h2>Description</h2><p>Construit un objet Postgis de type geometry à partir d'une représentation GeoJSON.</p><p>La fonction ST_GeomFromGeoJSON fonctionne uniquement avec le fragment JSON représentant la géométrie. Elle renvoie une erreur si un document JSON complet est utilisé.</p><p class="enhanced">Amélioré : 3.0.0 La géométrie parsée prend par défaut la valeur SRID=4326 si elle n'est pas spécifiée autrement.</p><p class="enhanced">Amélioration : 2.5.0 peut maintenant accepter json et jsonb comme entrées.</p><p class="availability">Disponibilité : 2.0.0 nécessite JSON-C &gt;= 0.9</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si JSON-C n'est pas disponible sur le système, une erreur est renvoyée. Pour activer JSON-C, lancer configure --with-jsondir=/path/to/json-c. Cf. <a class="xref" href="#installation_configuration" title="2.2.3. Configuration de la compilation">Section 2.2.3, “Configuration de la compilation”</a> pour plus de détails.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm9909"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_GeomFromGeoJSON('{"type":"Point","coordinates":[-48.23456,20.12345]}')) As wkt;
wkt
------
POINT(-48.23456 20.12345)
</pre><pre class="programlisting">-- a 3D linestring
SELECT ST_AsText(ST_GeomFromGeoJSON('{"type":"LineString","coordinates":[[1,2,3],[4,5,6],[7,8,9]]}')) As wkt;

wkt
-------------------
LINESTRING(1 2,4 5,7 8)
</pre></div><div class="refsection" id="idm9913"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a>, <a class="xref" href="#installation_configuration" title="2.2.3. Configuration de la compilation">Section 2.2.3, “Configuration de la compilation”</a></p></div></div><div class="refentry" id="ST_GeomFromKML"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromKML — Prend en entrée une géométrie au format KML et renvoie un objet Postgis de type geometry</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromKML</strong>(</code>text  <var class="pdparam">geomkml</var><code>)</code>;</p></div></div><div class="refsection" id="idm9931"><h2>Description</h2><p>Construit un objet Postgis de type geometry à partir d'une représentation OGC KML.</p><p>La fonction ST_GeomFromKML fonctionne uniquement avec le fragment KML représentant la géométrie. Elle renvoie une erreur si un document KML complet est utilisé.</p><p>versions OGC KML supportées : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>KML 2.2.0 Namespace</p></li></ul></div><p> OGC KML standards, cf : <a class="link" href="http://www.opengeospatial.org/standards/kml" target="_top">http://www.opengeospatial.org/standards/kml</a> : </p><p class="availability">Disponibilité : 1.5, nécessite libxml2 2.6+</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La fonction ST_GeomFromGML ne supporte pas les géométries de type SQL/MM courbes.</p></td></tr></table></div></div><div class="refsection" id="idm9947"><h2>Exemple : une géométrie unique avec srsName</h2><pre class="programlisting">
SELECT ST_GeomFromKML($$
    &lt;LineString&gt;
        &lt;coordinates
&gt;-71.1663,42.2614
            -71.1667,42.2616&lt;/coordinates&gt;
    &lt;/LineString&gt;
$$);

        </pre></div><div class="refsection" id="idm9950"><h2>Voir aussi</h2><p><a class="xref" href="#installation_configuration" title="2.2.3. Configuration de la compilation">Section 2.2.3, “Configuration de la compilation”</a>, <a class="xref" href="#ST_AsKML" title="ST_AsKML">ST_AsKML</a></p></div></div><div class="refentry" id="ST_GeomFromTWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromTWKB — Crée une instance de geometry depuis une représentation de géométrie en TWKB ("<a class="link" href="https://github.com/TWKB/Specification/blob/master/twkb.md" target="_top">Tiny Well-Known Binary</a>").</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromTWKB</strong>(</code>bytea  <var class="pdparam">twkb</var><code>)</code>;</p></div></div><div class="refsection" id="idm9968"><h2>Description</h2><p>La fonction <code class="varname">ST_GeomFromTWKB</code> prend une représentation de géométrie TWKB ("<a class="link" href="https://github.com/TWKB/Specification/blob/master/twkb.md" target="_top">Tiny Well-Known Binary</a>") et crée une instance du type de géométrie approprié.</p></div><div class="refsection" id="idm9973"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_GeomFromTWKB(ST_AsTWKB('LINESTRING(126 34, 127 35)'::geometry)));

         st_astext
-----------------------------
 LINESTRING(126 34, 127 35)
(1 row)


SELECT ST_AsEWKT(
  ST_GeomFromTWKB(E'\\x620002f7f40dbce4040105')
);
                                          st_asewkt
------------------------------------------------------
LINESTRING(-113.98 39.198,-113.981 39.195)
(1 row)
</pre></div><div class="refsection" id="idm9976"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsTWKB" title="ST_AsTWKB">ST_AsTWKB</a></p></div></div><div class="refentry" id="ST_GMLToSQL"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GMLToSQL — Retourne un objet de type ST_Geometry à partir de sa représentation GML. Alias pour ST_GeomFromGML</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GMLToSQL</strong>(</code>text  <var class="pdparam">geomgml</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GMLToSQL</strong>(</code>text  <var class="pdparam">geomgml</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm10001"><h2>Description</h2><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.50 (sauf pour le support des courbes).</p><p class="availability">Disponibilité : 1.5, nécessite libxml2 1.6+</p><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN et surfaces polyédriques.</p><p class="enhanced">Amélioration : 2.0.0 paramètre optionnel de srid par défaut ajouté.</p></div><div class="refsection" id="idm10010"><h2>Voir aussi</h2><p><a class="xref" href="#installation_configuration" title="2.2.3. Configuration de la compilation">Section 2.2.3, “Configuration de la compilation”</a>, <a class="xref" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a>, <a class="xref" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a></p></div></div><div class="refentry" id="ST_LineFromEncodedPolyline"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineFromEncodedPolyline — Crée une LineString depuis une polyligne encodée ( "Encoded Polyline" ).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineFromEncodedPolyline</strong>(</code>text  <var class="pdparam">polyline</var>, integer  <var class="pdparam">precision=5</var><code>)</code>;</p></div></div><div class="refsection" id="idm10031"><h2>Description</h2><p>Crée une LineString à partir d'une chaîne de polyligne encodée ( "Encoded Polyline").</p><p>L'option <code class="varname">precision</code> spécifie le nombre de décimales qui seront préservées dans la polyligne encodée. La valeur doit être la même à l'encodage et au décodage, sinon les coordonnées seront incorrectes.</p><p>Voir http://developers.google.com/maps/documentation/utilities/polylinealgorithm</p><p class="availability">Disponibilité : 2.2.0</p></div><div class="refsection" id="idm10038"><h2>Exemples</h2><pre class="programlisting">-- Create a line string from a polyline
SELECT ST_AsEWKT(ST_LineFromEncodedPolyline('_p~iF~ps|U_ulLnnqC_mqNvxq`@'));
-- result --
SRID=4326;LINESTRING(-120.2 38.5,-120.95 40.7,-126.453 43.252)

-- Select different precision that was used for polyline encoding
SELECT ST_AsEWKT(ST_LineFromEncodedPolyline('_p~iF~ps|U_ulLnnqC_mqNvxq`@',6));
-- result --
SRID=4326;LINESTRING(-12.02 3.85,-12.095 4.07,-12.6453 4.3252)

    </pre></div><div class="refsection" id="idm10041"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsEncodedPolyline" title="ST_AsEncodedPolyline">ST_AsEncodedPolyline</a></p></div></div><div class="refentry" id="ST_PointFromGeoHash"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointFromGeoHash — Retourne un point à partir d'une chaîne GeoHash.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">point <strong class="fsfunc">ST_PointFromGeoHash</strong>(</code>text  <var class="pdparam">geohash</var>, integer  <var class="pdparam">precision=full_precision_of_geohash</var><code>)</code>;</p></div></div><div class="refsection" id="idm10060"><h2>Description</h2><p>Retourne une point à partir d'une chaîne GeoHash. Le point représente le centre du GeoHash.</p><p>Si aucune <code class="varname">precision</code> n'est spécifiée, ST_PointFromGeoHash retourne une un point basé sur la précision complète de la chaîne GeoHash en entrée.</p><p>Si <code class="varname">precision</code> est spécifié, ST_PointFromGeoHash utilise autant de caractère du GeoHash pour créer le point.</p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm10068"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_PointFromGeoHash('9qqj7nmxncgyy4d0dbxqz0'));
          st_astext
------------------------------
 POINT(-115.172816 36.114646)

SELECT ST_AsText(ST_PointFromGeoHash('9qqj7nmxncgyy4d0dbxqz0', 4));
             st_astext
-----------------------------------
 POINT(-115.13671875 36.123046875)

SELECT ST_AsText(ST_PointFromGeoHash('9qqj7nmxncgyy4d0dbxqz0', 10));
                 st_astext
-------------------------------------------
 POINT(-115.172815918922 36.1146435141563)

                </pre></div><div class="refsection" id="idm10071"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeoHash" title="ST_GeoHash">ST_GeoHash</a>, <a class="xref" href="#ST_Box2dFromGeoHash" title="ST_Box2dFromGeoHash">ST_Box2dFromGeoHash</a>, <a class="xref" href="#ST_GeomFromGeoHash" title="ST_GeomFromGeoHash">ST_GeomFromGeoHash</a></p></div></div><div class="refentry" id="ST_FromFlatGeobufToTable"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_FromFlatGeobufToTable — Crée une table basée sur la structure des données FlatGeobuf.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">void <strong class="fsfunc">ST_FromFlatGeobufToTable</strong>(</code>text  <var class="pdparam">schemaname</var>, text  <var class="pdparam">tablename</var>, bytea  <var class="pdparam">FlatGeobuf input data</var><code>)</code>;</p></div></div><div class="refsection" id="idm10095"><h2>Description</h2><p>Crée une table basée sur la structure des données FlatGeobuf. (<a class="link" href="http://flatgeobuf.org" target="_top">http://flatgeobuf.org</a>). </p><p><code class="varname">schema</code> Nom du schéma.</p><p><code class="varname">table</code> Nom de la table.</p><p><code class="varname">data</code> Données FlatGeobuf en entrée.</p><p class="availability">Disponibilité : 3.2.0</p></div></div><div class="refentry" id="ST_FromFlatGeobuf"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_FromFlatGeobuf — Lit les données FlatGeobuf.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof anyelement <strong class="fsfunc">ST_FromFlatGeobuf</strong>(</code>anyelement  <var class="pdparam">Table reference</var>, bytea  <var class="pdparam">FlatGeobuf input data</var><code>)</code>;</p></div></div><div class="refsection" id="idm10121"><h2>Description</h2><p>Lit les données FlatGeobuf (<a class="link" href="http://flatgeobuf.org" target="_top">http://flatgeobuf.org</a>). REMARQUE : les chaînes binaires de PostgreSQL ne peuvent pas dépasser 1 Go. </p><p><code class="varname">tabletype</code> référence à un type de table.</p><p><code class="varname">data</code> données d'entrée FlatGeobuf.</p><p class="availability">Disponibilité : 3.2.0</p></div></div></section></section><section class="section" id="Geometry_Outputs"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.9. Export de géométrie</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions convertissent les objets géométriques en divers formats textuels ou binaires.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#idm10135">7.9.1. Well-Known Text (WKT)</a></span></li><li><span class="section"><a href="#idm10303">7.9.2. Well-Known Binary (WKB)</a></span></li><li><span class="section"><a href="#idm10493">7.9.3. Autres formats</a></span></li></ul></div><section class="section" id="idm10135"><div class="titlepage"><div><div><h3 class="title">7.9.1. Well-Known Text (WKT)</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_AsEWKT">ST_AsEWKT</a></span><span class="refpurpose"> — Renvoie la représentation Well-Known Text (WKT) de la géométrie avec les métadonnées SRID.</span></li><li><span class="refentrytitle"><a href="#ST_AsText">ST_AsText</a></span><span class="refpurpose"> — Renvoie la représentation Well-Known Text (WKT) de la géométrie/geography sans métadonnées SRID.</span></li></ul></div><div class="refentry" id="ST_AsEWKT"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsEWKT — Renvoie la représentation Well-Known Text (WKT) de la géométrie avec les métadonnées SRID.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsEWKT</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsEWKT</strong>(</code>geometry  <var class="pdparam">g1</var>, integer  <var class="pdparam">maxdecimaldigits=15</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsEWKT</strong>(</code>geography  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsEWKT</strong>(</code>geography  <var class="pdparam">g1</var>, integer  <var class="pdparam">maxdecimaldigits=15</var><code>)</code>;</p></div></div><div class="refsection" id="idm10173"><h2>Description</h2><p>Renvoie la représentation Well-Known Text de la géométrie préfixée par le SRID. L'argument facultatif <em class="parameter"><code>maxdecimaldigits</code></em> peut être utilisé pour réduire le nombre maximal de chiffres décimaux après la virgule flottante utilisés dans la sortie (valeur par défaut : 15).</p><p>Pour effectuer la conversion inverse de la représentation EWKT en géométrie PostGIS, utilisez <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>.</p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'utilisation du paramètre <em class="parameter"><code>maxdecimaldigits</code></em> peut rendre la géométrie de sortie invalide. Pour éviter cela, utilisez d'abord <a class="xref" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a> avec une taille de grille appropriée. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La spécification WKT ne comprend pas le SRID. Pour obtenir le format WKT de l'OGC, utilisez <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>.</p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le format WKT ne maintient pas la précision. Pour éviter la troncature flottante, utilisez le format <a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> ou <a class="xref" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a> pour le transport.</p></td></tr></table></div><p class="enhanced">Amélioré : support du paramètre optionnel de précision dans la version 3.1.0.</p><p class="enhanced">Amélioration : la version 2.0.0 a introduit la prise en charge de la geography, des surfaces polyédriques, des triangles et des TIN.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm10208"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsEWKT('0103000020E61000000100000005000000000000
                        000000000000000000000000000000000000000000000000000000
                        F03F000000000000F03F000000000000F03F000000000000F03
                        F000000000000000000000000000000000000000000000000'::geometry);

                   st_asewkt
--------------------------------
SRID=4326;POLYGON((0 0,0 1,1 1,1 0,0 0))
(1 row)

SELECT ST_AsEWKT('0108000080030000000000000060E30A4100000000785C0241000000000000F03F0000000018
E20A4100000000485F024100000000000000400000000018
E20A4100000000305C02410000000000000840')

--st_asewkt---
CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)
</pre></div><div class="refsection" id="idm10211"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>, <a class="xref" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a></p></div></div><div class="refentry" id="ST_AsText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsText — Renvoie la représentation Well-Known Text (WKT) de la géométrie/geography sans métadonnées SRID.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsText</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsText</strong>(</code>geometry  <var class="pdparam">g1</var>, integer  <var class="pdparam">maxdecimaldigits = 15</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsText</strong>(</code>geography  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsText</strong>(</code>geography  <var class="pdparam">g1</var>, integer  <var class="pdparam">maxdecimaldigits = 15</var><code>)</code>;</p></div></div><div class="refsection" id="idm10254"><h2>Description</h2><p>Renvoie la représentation OGC <a class="link" href="#OpenGISWKBWKT" title="4.1.3. WKT et WKB">Well-Known Text</a> (WKT) de la géométrie/geography. L'argument facultatif <em class="parameter"><code>maxdecimaldigits</code></em> peut être utilisé pour limiter le nombre de chiffres après la virgule dans les ordonnées de sortie (valeur par défaut : 15).</p><p>Pour effectuer la conversion inverse de la représentation WKT en géométrie PostGIS, utilisez <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La représentation WKT standard de l'OGC n'inclut pas le SRID. Pour inclure le SRID dans la représentation de sortie, utilisez la fonction PostGIS non standard <a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a></p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La représentation textuelle des nombres en WKT peut ne pas maintenir une précision totale en virgule flottante. Pour garantir une précision totale pour le stockage ou le transport des données, il est préférable d'utiliser le format <a class="link" href="#OpenGISWKBWKT" title="4.1.3. WKT et WKB">Well-Known Binary</a> (WKB) (voir <a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> et <em class="parameter"><code>maxdecimaldigits</code></em>).</p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'utilisation du paramètre <em class="parameter"><code>maxdecimaldigits</code></em> peut rendre la géométrie de sortie invalide. Pour éviter cela, utilisez d'abord <a class="xref" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a> avec une taille de grille appropriée. </p></td></tr></table></div><p class="availability">Disponibilité : 1.5 - le support de la geography a été introduit.</p><p class="enhanced">Amélioration : 2.5 - introduction de la précision des paramètres optionnels.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.25</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm10288"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText('01030000000100000005000000000000000000
000000000000000000000000000000000000000000000000
F03F000000000000F03F000000000000F03F000000000000F03
F000000000000000000000000000000000000000000000000');

    st_astext
--------------------------------
 POLYGON((0 0,0 1,1 1,1 0,0 0))
</pre><p>La sortie de précision complète est la valeur par défaut.</p><pre class="programlisting">SELECT ST_AsText('POINT(111.1111111 1.1111111)'));
    st_astext
------------------------------
 POINT(111.1111111 1.1111111)
</pre><p>L'argument <em class="parameter"><code>maxdecimaldigits</code></em> peut être utilisé pour limiter la précision de la sortie.</p><pre class="programlisting">SELECT ST_AsText('POINT(111.1111111 1.1111111)'), 2);
    st_astext
--------------------
 POINT(111.11 1.11)
</pre></div><div class="refsection" id="idm10296"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>, <a class="xref" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a>, <a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div></section><section class="section" id="idm10303"><div class="titlepage"><div><div><h3 class="title">7.9.2. Well-Known Binary (WKB)</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_AsBinary">ST_AsBinary</a></span><span class="refpurpose"> — Renvoie la représentation OGC/ISO Well-Known Binary (WKB) de la géométrie/geography sans les métadonnées SRID.</span></li><li><span class="refentrytitle"><a href="#ST_AsEWKB">ST_AsEWKB</a></span><span class="refpurpose"> — Renvoie la représentation Extended Well-Known Binary (EWKB) de la géométrie avec les métadonnées SRID.</span></li><li><span class="refentrytitle"><a href="#ST_AsHEXEWKB">ST_AsHEXEWKB</a></span><span class="refpurpose"> — Renvoie une géométrie au format HEXEWKB (en tant que texte) en utilisant l'encodage little-endian (NDR) ou big-endian (XDR).</span></li></ul></div><div class="refentry" id="ST_AsBinary"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsBinary — Renvoie la représentation OGC/ISO Well-Known Binary (WKB) de la géométrie/geography sans les métadonnées SRID.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsBinary</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsBinary</strong>(</code>geometry  <var class="pdparam">g1</var>, text <var class="pdparam">NDR_or_XDR</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsBinary</strong>(</code>geography  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsBinary</strong>(</code>geography  <var class="pdparam">g1</var>, text <var class="pdparam">NDR_or_XDR</var><code>)</code>;</p></div></div><div class="refsection" id="idm10341"><h2>Description</h2><p>Renvoie la représentation OGC/ISO <a class="link" href="#OpenGISWKBWKT" title="4.1.3. WKT et WKB">Well-Known Binary</a> (WKB) de la géométrie. La première variante de fonction propose par défaut un encodage utilisant l'endian de la machine serveur. La deuxième variante de la fonction prend un argument texte spécifiant l'encodage endian, soit little-endian ('NDR') ou big-endian ('XDR').</p><p>Le format WKB est utile pour lire les données géométriques de la base de données et maintenir une précision numérique totale. Cela permet d'éviter les arrondis de précision qui peuvent se produire avec les formats texte tels que WKT.</p><p>Pour effectuer la conversion inverse de la géométrie WKB en géométrie PostGIS, utilisez <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le format WKB de l'OGC/ISO ne comprend pas le SRID. Pour obtenir le format EWKB qui inclut le SRID, utilisez <a class="xref" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a></p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le comportement par défaut dans PostgreSQL 9.0 a été modifié pour sortir bytea en encodage hexagonal. Si vos outils GUI nécessitent l'ancien comportement, alors SET bytea_output='escape' dans votre base de données.</p></td></tr></table></div><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p class="enhanced">Amélioration : 2.0.0 le support pour des dimensions de coordonnées plus élevées a été introduit.</p><p class="enhanced">Amélioration : 2.0.0 le support pour spécifier endian avec geography a été introduit.</p><p class="availability">Disponibilité : 1.5.0 Le support de la géographie a été introduit.</p><p class="changed">Modifié : 2.0.0 Les entrées de cette fonction ne peuvent pas être inconnues, elles doivent être des géométries. Des constructions telles que <code class="code">ST_AsBinary('POINT(1 2)')</code> ne sont plus valides et vous obtiendrez une erreur de type <code class="code">n st_asbinary(unknown) is not unique</code>. Un code comme celui-là doit être changé en <code class="code">ST_AsBinary('POINT(1 2)'::geometry);</code>. Si cela n'est pas possible, alors installez <code class="filename">legacy.sql</code>.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.37</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm10387"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsBinary(ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326));

                   st_asbinary
--------------------------------
\x01030000000100000005000000000000000000000000000000000000000000000000000000000000
000000f03f000000000000f03f000000000000f03f000000000000f03f0000000000000000000000
00000000000000000000000000
</pre><pre class="programlisting">SELECT ST_AsBinary(ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326), 'XDR');
                   st_asbinary
--------------------------------
\x000000000300000001000000050000000000000000000000000000000000000000000000003ff000
00000000003ff00000000000003ff00000000000003ff00000000000000000000000000000000000
00000000000000000000000000
</pre></div><div class="refsection" id="idm10391"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>, <a class="xref" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a>, <a class="xref" href="#ST_AsTWKB" title="ST_AsTWKB">ST_AsTWKB</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, </p></div></div><div class="refentry" id="ST_AsEWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsEWKB — Renvoie la représentation Extended Well-Known Binary (EWKB) de la géométrie avec les métadonnées SRID.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsEWKB</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsEWKB</strong>(</code>geometry  <var class="pdparam">g1</var>, text <var class="pdparam">NDR_or_XDR</var><code>)</code>;</p></div></div><div class="refsection" id="idm10419"><h2>Description</h2><p>Renvoie la représentation <a class="link" href="#EWKB_EWKT" title="4.2.1. PostGIS EWKB et EWKT">Extended Well-Known Binary</a> (EWKB) de la géométrie avec les métadonnées SRID. La première variante de la fonction utilise par défaut l'encodage endian de la machine du serveur. La deuxième variante de la fonction prend un argument texte spécifiant l'encodage endian, soit little-endian ('NDR') ou big-endian ('XDR').</p><p>Le format WKB est utile pour lire les données géométriques de la base de données et maintenir une précision numérique totale. Cela permet d'éviter les arrondis de précision qui peuvent se produire avec les formats texte tels que WKT.</p><p>Pour effectuer la conversion inverse de la géométrie EWKB en géométrie PostGIS, utilisez <a class="xref" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour obtenir le format OGC/ISO WKB, utilisez <a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>. Notez que le format OGC/ISO WKB ne comprend pas le SRID. </p></td></tr></table></div><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm10446"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsEWKB(ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326));

                   st_asewkb
--------------------------------
\x0103000020e610000001000000050000000000000000000000000000000000000000000000000000
00000000000000f03f000000000000f03f000000000000f03f000000000000f03f00000000000000
0000000000000000000000000000000000
</pre><pre class="programlisting">SELECT ST_AsEWKB(ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326), 'XDR');
                   st_asewkb
--------------------------------
\x0020000003000010e600000001000000050000000000000000000000000000000000000000000000
003ff00000000000003ff00000000000003ff00000000000003ff000000000000000000000000000
0000000000000000000000000000000000
                </pre></div><div class="refsection" id="idm10450"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>, <a class="xref" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_AsHEXEWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsHEXEWKB — Renvoie une géométrie au format HEXEWKB (en tant que texte) en utilisant l'encodage little-endian (NDR) ou big-endian (XDR).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsHEXEWKB</strong>(</code>geometry  <var class="pdparam">g1</var>, text  <var class="pdparam">NDRorXDR</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsHEXEWKB</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm10477"><h2>Description</h2><p>Renvoie une géométrie au format HEXEWKB (en tant que texte) en utilisant l'encodage little-endian (NDR) ou big-endian (XDR). Si aucun encodage n'est spécifié, NDR est utilisé.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="availability">Disponibilité : 1.2.2</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm10490"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsHEXEWKB(ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326));
                which gives same answer as

                SELECT ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326)::text;

                st_ashexewkb
                --------
                0103000020E6100000010000000500
                00000000000000000000000000000000
                00000000000000000000000000000000F03F
                000000000000F03F000000000000F03F000000000000F03
                F000000000000000000000000000000000000000000000000</pre></div></div></section><section class="section" id="idm10493"><div class="titlepage"><div><div><h3 class="title">7.9.3. Autres formats</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_AsEncodedPolyline">ST_AsEncodedPolyline</a></span><span class="refpurpose"> — Renvoie une polyligne encodée à partir d'une géométrie LineString.</span></li><li><span class="refentrytitle"><a href="#ST_AsFlatGeobuf">ST_AsFlatGeobuf</a></span><span class="refpurpose"> — Renvoie une représentation FlatGeobuf d'un ensemble de lignes.</span></li><li><span class="refentrytitle"><a href="#ST_AsGeobuf">ST_AsGeobuf</a></span><span class="refpurpose"> — Retourne une représentation Geobuf d'un ensemble de lignes.</span></li><li><span class="refentrytitle"><a href="#ST_AsGeoJSON">ST_AsGeoJSON</a></span><span class="refpurpose"> — Renvoyer une géométrie ou un élément au format GeoJSON.</span></li><li><span class="refentrytitle"><a href="#ST_AsGML">ST_AsGML</a></span><span class="refpurpose"> — Renvoyer la géométrie en tant qu'élément GML version 2 ou 3.</span></li><li><span class="refentrytitle"><a href="#ST_AsKML">ST_AsKML</a></span><span class="refpurpose"> — Renvoyer la géométrie sous forme d'élément KML.</span></li><li><span class="refentrytitle"><a href="#ST_AsLatLonText">ST_AsLatLonText</a></span><span class="refpurpose"> — Renvoie la représentation en degrés, minutes et secondes du point donné.</span></li><li><span class="refentrytitle"><a href="#ST_AsMARC21">ST_AsMARC21</a></span><span class="refpurpose"> — Renvoie la géométrie sous forme d'enregistrement MARC21/XML avec un champ de données géographiques (034).</span></li><li><span class="refentrytitle"><a href="#ST_AsMVTGeom">ST_AsMVTGeom</a></span><span class="refpurpose"> — Transforme une géométrie dans l'espace de coordonnées d'une tuile MVT.</span></li><li><span class="refentrytitle"><a href="#ST_AsMVT">ST_AsMVT</a></span><span class="refpurpose"> — Fonction d'agrégation renvoyant une représentation MVT d'un ensemble de lignes.</span></li><li><span class="refentrytitle"><a href="#ST_AsSVG">ST_AsSVG</a></span><span class="refpurpose"> — Renvoie les données de chemin SVG pour une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_AsTWKB">ST_AsTWKB</a></span><span class="refpurpose"> — Renvoie la géométrie sous forme de TWKB, diminutif de "Tiny Well-Known Binary"</span></li><li><span class="refentrytitle"><a href="#ST_AsX3D">ST_AsX3D</a></span><span class="refpurpose"> — Renvoie une géométrie au format X3D xml node element : ISO-IEC-19776-1.2-X3DEncodings-XML</span></li><li><span class="refentrytitle"><a href="#ST_GeoHash">ST_GeoHash</a></span><span class="refpurpose"> — Retourne une représentation GeoHash de la géométrie.</span></li></ul></div><div class="refentry" id="ST_AsEncodedPolyline"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsEncodedPolyline — Renvoie une polyligne encodée à partir d'une géométrie LineString.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsEncodedPolyline</strong>(</code>geometry <var class="pdparam">geom</var>, integer  <var class="pdparam">precision=5</var><code>)</code>;</p></div></div><div class="refsection" id="idm10510"><h2>Description</h2><p>Renvoie la géométrie sous forme de polyligne encodée. Ce format est utilisé par Google Maps avec précision=5 et par Open Source Routing Machine avec précision=5 et 6.</p><p>L'option <code class="varname">precision</code> spécifie le nombre de décimales qui seront préservées dans la polyligne encodée. La valeur doit être la même à l'encodage et au décodage, sinon les coordonnées seront incorrectes.</p><p class="availability">Disponibilité : 2.2.0</p></div><div class="refsection" id="idm10516"><h2>Exemples</h2><p>Base </p><pre class="programlisting">SELECT ST_AsEncodedPolyline(GeomFromEWKT('SRID=4326;LINESTRING(-120.2 38.5,-120.95 40.7,-126.453 43.252)'));
        --result--
        |_p~iF~ps|U_ulLnnqC_mqNvxq`@
        </pre><p>Utiliser en conjonction avec geography linestring et geography segmentize, et mettre sur google maps</p><pre class="programlisting">-- the SQL for Boston to San Francisco, segments every 100 KM
        SELECT ST_AsEncodedPolyline(
                ST_Segmentize(
                        ST_GeogFromText('LINESTRING(-71.0519 42.4935,-122.4483 37.64)'),
                                100000)::geometry) As encodedFlightPath;</pre><p>Le javascript ressemblera à quelque chose comme ceci où la variable $ est remplacée par le résultat de la requête</p><pre class="programlisting">
&lt;script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?libraries=geometry"
&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
         flightPath = new google.maps.Polyline({
                        path:  google.maps.geometry.encoding.decodePath("$encodedFlightPath"),
                        map: map,
                        strokeColor: '#0000CC',
                        strokeOpacity: 1.0,
                        strokeWeight: 4
                });
&lt;/script&gt;

</pre></div><div class="refsection" id="idm10524"><h2>Voir aussi</h2><p><a class="xref" href="#ST_LineFromEncodedPolyline" title="ST_LineFromEncodedPolyline">ST_LineFromEncodedPolyline</a>, <a class="xref" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a></p></div></div><div class="refentry" id="ST_AsFlatGeobuf"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsFlatGeobuf — Renvoie une représentation FlatGeobuf d'un ensemble de lignes.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsFlatGeobuf</strong>(</code>anyelement set  <var class="pdparam">row</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsFlatGeobuf</strong>(</code>anyelement  <var class="pdparam">row</var>, bool  <var class="pdparam">index</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsFlatGeobuf</strong>(</code>anyelement  <var class="pdparam">row</var>, bool  <var class="pdparam">index</var>, text  <var class="pdparam">geom_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm10562"><h2>Description</h2><p>Renvoie une représentation FlatGeobuf (<a class="link" href="http://flatgeobuf.org" target="_top">http://flatgeobuf.org</a>) d'un ensemble de lignes correspondant à une FeatureCollection. REMARQUE : les octets PostgreSQL ne peuvent pas dépasser 1 Go. </p><p><code class="varname">row</code> données de ligne avec au moins une colonne de géométrie.</p><p><code class="varname">index</code> basculer la création d'un index spatial. La valeur par défaut est false.</p><p><code class="varname">geom_name</code> est le nom de la colonne de géométrie dans les données de la ligne. Si elle est NULL, elle prendra par défaut la première colonne de géométrie trouvée.</p><p class="availability">Disponibilité : 3.2.0</p></div></div><div class="refentry" id="ST_AsGeobuf"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsGeobuf — Retourne une représentation Geobuf d'un ensemble de lignes.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsGeobuf</strong>(</code>anyelement set  <var class="pdparam">row</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsGeobuf</strong>(</code>anyelement  <var class="pdparam">row</var>, text  <var class="pdparam">geom_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm10594"><h2>Description</h2><p>Renvoie une représentation Geobuf (<a class="link" href="https://github.com/mapbox/geobuf" target="_top">https://github.com/mapbox/geobuf</a>) d'un ensemble de lignes correspondant à une FeatureCollection. Chaque géométrie en entrée est analysée afin de déterminer la précision maximale pour un stockage optimal. Notez que Geobuf dans sa forme actuelle ne peut pas être streamé, donc la sortie complète sera assemblée en mémoire. </p><p><code class="varname">row</code> données de ligne avec au moins une colonne de géométrie.</p><p><code class="varname">geom_name</code> est le nom de la colonne de géométrie dans les données de la ligne. Si elle est NULL, elle prendra par défaut la première colonne de géométrie trouvée.</p><p class="availability">Disponibilité : 2.4.0</p></div><div class="refsection" id="idm10603"><h2>Exemples</h2><pre class="programlisting">SELECT encode(ST_AsGeobuf(q, 'geom'), 'base64')
    FROM (SELECT ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))') AS geom) AS q;
 st_asgeobuf
----------------------------------
 GAAiEAoOCgwIBBoIAAAAAgIAAAE=


                </pre></div></div><div class="refentry" id="ST_AsGeoJSON"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsGeoJSON — Renvoyer une géométrie ou un élément au format GeoJSON.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsGeoJSON</strong>(</code>record  <var class="pdparam">feature</var>, text  <var class="pdparam">geom_column=""</var>, integer  <var class="pdparam">maxdecimaldigits=9</var>, boolean  <var class="pdparam">pretty_bool=false</var>, text  <var class="pdparam">id_column=''</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsGeoJSON</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">maxdecimaldigits=9</var>, integer  <var class="pdparam">options=8</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsGeoJSON</strong>(</code>geography  <var class="pdparam">geog</var>, integer  <var class="pdparam">maxdecimaldigits=9</var>, integer  <var class="pdparam">options=0</var><code>)</code>;</p></div></div><div class="refsection" id="idm10654"><h2>Description</h2><p>Renvoie une géométrie sous forme d'objet GeoJSON "geometry", ou une ligne sous forme d'objet GeoJSON "feature". </p><p>Les représentations de géométrie et d'entités GeoJSON résultantes sont conformes aux <a class="link" href="https://tools.ietf.org/html/rfc7946" target="_top">spécifications GeoJSON RFC 7946</a>, sauf lorsque les géométries analysées sont référencées avec un CRS autre que la longitude et la latitude WGS84 (<a class="link" href="https://epsg. io/4326" target="_top">EPSG:4326</a>, <a class="link" href="http://epsg.io/4326.gml" target="_top">urn:ogc:def:crs:OGC::CRS84</a>) ; l'objet géométrique GeoJSON aura alors un identifiant SRID CRS court attaché par défaut. Les géométries 2D et 3D sont toutes deux supportées. GeoJSON ne supporte que les types de géométrie SFS 1.1 (pas de support pour les courbes par exemple). </p><p>Le paramètre <code class="varname">geom_column</code> est utilisé pour faire la distinction entre plusieurs colonnes géométriques. S'il est omis, la première colonne géométrique de l'enregistrement sera déterminée. Inversement, l'utilisation de ce paramètre permet d'économiser les recherches sur le type de colonne. </p><p>L'argument <code class="varname">maxdecimaldigits</code> peut être utilisé pour réduire le nombre maximum de décimales utilisées dans la sortie (par défaut 9). Si vous utilisez EPSG:4326 et que vous sortez la géométrie uniquement pour l'affichage, <code class="varname">maxdecimaldigits</code>=6 peut être un bon choix pour de nombreuses cartes.</p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'utilisation du paramètre <em class="parameter"><code>maxdecimaldigits</code></em> peut rendre la géométrie de sortie invalide. Pour éviter cela, utilisez d'abord <a class="xref" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a> avec une taille de grille appropriée. </p></td></tr></table></div><p>L'argument <code class="varname">options</code> peut être utilisé pour ajouter BBOX ou CRS dans la sortie GeoJSON : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>0 : signifie aucune option</p></li><li class="listitem"><p>1 : GeoJSON BBOX</p></li><li class="listitem"><p>2 : GeoJSON Short CRS (e.g. EPSG:4326)</p></li><li class="listitem"><p>4 : GeoJSON Long CRS (e.g. urn:ogc:def:crs:EPSG::4326)</p></li><li class="listitem"><p>8 : GeoJSON Short CRS si pas EPSG:4326 (par défaut)</p></li></ul></div><p>
			</p><p>Le paramètre <code class="varname">id_column</code> est utilisé pour définir le membre "id" des caractéristiques GeoJSON renvoyées. Conformément à la RFC GeoJSON, ce paramètre DEVRAIT être utilisé chaque fois qu'un élément a un identifiant couramment utilisé, tel qu'une clé primaire. Si elle n'est pas spécifiée, les entités produites n'auront pas de membre "id" et toutes les colonnes autres que la géométrie, y compris les clés potentielles, se retrouveront dans le membre "properties" de l'entité.</p><p>La spécification GeoJSON indique que les polygones sont orientés selon la règle de la main droite, et certains clients exigent cette orientation. Ceci peut être assuré en utilisant <a class="xref" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a>. La spécification exige également que la géométrie soit dans le système de coordonnées WGS84 (SRID = 4326). Si nécessaire, la géométrie peut être projetée en WGS84 en utilisant <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a> : <code class="code">ST_Transform( geom, 4326 )</code>. </p><p>GeoJSON peut être testé et visualisé en ligne sur <a class="link" href="http://geojson.io/" target="_top">geojson.io</a> et <a class="link" href="http://geojson.io/" target="_top">geojsonlint.com</a>. Il est largement pris en charge par les frameworks de cartographie web : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="https://openlayers.org/en/latest/examples/geojson.html" target="_top">Exemple OpenLayers GeoJSON</a></p></li><li class="listitem"><p><a class="link" href="https://leafletjs.com/examples/geojson/" target="_top">Exemple Leaflet GeoJSON</a></p></li><li class="listitem"><p><a class="link" href="https://www.mapbox.com/mapbox-gl-js/example/multiple-geometries/" target="_top">Exemple Mapbox GL GeoJSON</a></p></li></ul></div><p>
            </p><p class="availability">Disponibilité : 1.3.4</p><p class="availability">Disponibilité : 1.5.0 Le support de la géographie a été introduit.</p><p class="changed">Modifié : 2.0.0 supporte les args par défaut et les args nommés.</p><p class="changed">Modifié : la version 3.0.0 prend en charge les enregistrements en tant que données d'entrée</p><p class="changed">Modifié : 3.0.0 SRID de sortie si ce n'est pas EPSG:4326.</p><p class="changed">Modifié : la version 3.5.0 permet de spécifier la colonne contenant l'identifiant de l'élément</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm10712"><h2>Exemples</h2><p>Générer une FeatureCollection :</p><pre class="programlisting">SELECT json_build_object(
    'type', 'FeatureCollection',
    'features', json_agg(ST_AsGeoJSON(t.*, id_column =
&gt; 'id')::json)
    )
FROM ( VALUES (1, 'one', 'POINT(1 1)'::geometry),
              (2, 'two', 'POINT(2 2)'),
              (3, 'three', 'POINT(3 3)')
     ) as t(id, name, geom);</pre><pre class="screen">{"type" : "FeatureCollection", "features" : [{"type": "Feature", "geometry": {"type":"Point","coordinates":[1,1]}, "id": 1, "properties": {"name": "one"}}, {"type": "Feature", "geometry": {"type":"Point","coordinates":[2,2]}, "id": 2, "properties": {"name": "two"}}, {"type": "Feature", "geometry": {"type":"Point","coordinates":[3,3]}, "id": 3, "properties": {"name": "three"}}]}</pre><p>Génère une Feature :</p><pre class="programlisting">SELECT ST_AsGeoJSON(t.*, id_column =
&gt; 'id')
FROM (VALUES (1, 'one', 'POINT(1 1)'::geometry)) AS t(id, name, geom);</pre><pre class="screen">st_asgeojson
-----------------------------------------------------------------------------------------------------------------
 {"type": "Feature", "geometry": {"type":"Point","coordinates":[1,1]}, "id": 1, "properties": {"name": "one"}}
</pre><p>N'oubliez pas de transformer vos données en longitude et latitude WGS84 pour vous conformer à la spécification GeoJSON :</p><pre class="programlisting">SELECT ST_AsGeoJSON(ST_Transform(geom,4326)) from fe_edges limit 1;</pre><pre class="screen">st_asgeojson
-----------------------------------------------------------------------------------------------------------

{"type":"MultiLineString","coordinates":[[[-89.734634999999997,31.492072000000000],
[-89.734955999999997,31.492237999999997]]]}
</pre><p>Les géométries 3D sont prises en charge :</p><pre class="programlisting">SELECT ST_AsGeoJSON('LINESTRING(1 2 3, 4 5 6)');</pre><pre class="screen">{"type":"LineString","coordinates":[[1,2,3],[4,5,6]]}</pre><p>Options argument can be used to add BBOX and CRS in GeoJSON output:</p><pre class="programlisting">SELECT ST_AsGeoJSON(ST_SetSRID('POINT(1 1)'::geometry, 4326), 9, 4|1);</pre><pre class="screen">{"type":"Point","crs":{"type":"name","properties":{"name":"urn:ogc:def:crs:EPSG::4326"}},"bbox":[1.000000000,1.000000000,1.000000000,1.000000000],"coordinates":[1,1]}
</pre></div><div class="refsection" id="idm10729"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromGeoJSON" title="ST_GeomFromGeoJSON">ST_GeomFromGeoJSON</a>, <a class="xref" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a> </p></div></div><div class="refentry" id="ST_AsGML"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsGML — Renvoyer la géométrie en tant qu'élément GML version 2 ou 3.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsGML</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">maxdecimaldigits=15</var>, integer  <var class="pdparam">options=0</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsGML</strong>(</code>geography  <var class="pdparam">geog</var>, integer  <var class="pdparam">maxdecimaldigits=15</var>, integer  <var class="pdparam">options=0</var>, text  <var class="pdparam">nprefix=null</var>, text  <var class="pdparam">id=null</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsGML</strong>(</code>integer  <var class="pdparam">version</var>, geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">maxdecimaldigits=15</var>, integer  <var class="pdparam">options=0</var>, text  <var class="pdparam">nprefix=null</var>, text  <var class="pdparam">id=null</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsGML</strong>(</code>integer  <var class="pdparam">version</var>, geography  <var class="pdparam">geog</var>, integer  <var class="pdparam">maxdecimaldigits=15</var>, integer  <var class="pdparam">options=0</var>, text  <var class="pdparam">nprefix=null</var>, text  <var class="pdparam">id=null</var><code>)</code>;</p></div></div><div class="refsection" id="idm10813"><h2>Description</h2><p>Renvoie la géométrie sous la forme d'un élément GML (Geography Markup Language). Le paramètre de version, s'il est spécifié, peut être 2 ou 3. Si aucun paramètre de version n'est spécifié, la valeur par défaut est 2. L'argument <code class="varname">maxdecimaldigits</code> peut être utilisé pour réduire le nombre maximum de décimales utilisées dans la sortie (15 par défaut).</p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'utilisation du paramètre <em class="parameter"><code>maxdecimaldigits</code></em> peut rendre la géométrie de sortie invalide. Pour éviter cela, utilisez d'abord <a class="xref" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a> avec une taille de grille appropriée. </p></td></tr></table></div><p>GML 2 fait référence à la version 2.1.2, GML 3 à la version 3.1.1</p><p>L'argument "options" est un champ de bits. Il peut être utilisé pour définir le type de sortie CRS dans la sortie GML, et pour déclarer les données comme lat/lon : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>0 : GML Short CRS (e.g. EPSG:4326), valeur par défaut</p></li><li class="listitem"><p>1: GML Long CRS (e.g urn:ogc:def:crs:EPSG::4326)</p></li><li class="listitem"><p>2 : Pour GML 3 uniquement, supprimer l'attribut srsDimension de la sortie.</p></li><li class="listitem"><p>4 : Pour GML 3 uniquement, utilisez la balise &lt;LineString&gt; plutôt que la balise &lt;Curve&gt; pour les lignes.</p></li><li class="listitem"><p>16 : Déclare que les données sont des lat/lon (par exemple srid=4326). Par défaut, on suppose que les données sont planaires. Cette option n'est utile que pour la sortie GML 3.1.1, en ce qui concerne l'ordre des axes. Ainsi, si vous la définissez, les coordonnées seront échangées pour que l'ordre soit lat lon au lieu de lon lat dans la base de données.</p></li><li class="listitem"><p>32 : Sortie de la boîte de la géométrie (enveloppe).</p></li></ul></div><p>
						</p><p>L'argument 'namespace prefix' peut être utilisé pour spécifier un préfixe d'espace de noms personnalisé ou aucun préfixe (s'il est vide). Si l'argument est nul ou omis, le préfixe 'gml' est utilisé</p><p class="availability">Disponibilité : 1.3.2</p><p class="availability">Disponibilité : 1.5.0 Le support de la géographie a été introduit.</p><p class="enhanced">Amélioration : la prise en charge du préfixe 2.0.0 a été introduite. L'option 4 pour GML3 a été introduite pour permettre l'utilisation de LineString au lieu de Curve tag pour les lignes. La prise en charge GML3 des surfaces polyédriques et des TINS a été introduite. L'option 32 a été introduite pour produire la boîte.</p><p class="changed">Modifié : 2.0.0 utiliser les args nommés par défaut</p><p class="enhanced">Amélioration : 2.1.0 La prise en charge des identifiants a été introduite pour GML 3.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Seule la version 3+ de ST_AsGML prend en charge les surfaces polyédriques et les TINS.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 17.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm10860"><h2>Exemples : Version 2</h2><pre class="programlisting">
SELECT ST_AsGML(ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326));
                st_asgml
                --------
                &lt;gml:Polygon srsName="EPSG:4326"
&gt;&lt;gml:outerBoundaryIs
&gt;&lt;gml:LinearRing
&gt;&lt;gml:coordinates
&gt;0,0 0,1 1,1 1,0 0,0&lt;/gml:coordinates
&gt;&lt;/gml:LinearRing
&gt;&lt;/gml:outerBoundaryIs
&gt;&lt;/gml:Polygon&gt;

</pre></div><div class="refsection" id="idm10863"><h2>Exemples : Version 3</h2><pre class="programlisting">
-- Flip coordinates and output extended EPSG (16 | 1)--
SELECT ST_AsGML(3, ST_GeomFromText('POINT(5.234234233242 6.34534534534)',4326), 5, 17);
                        st_asgml
                        --------
                &lt;gml:Point srsName="urn:ogc:def:crs:EPSG::4326"
&gt;&lt;gml:pos
&gt;6.34535 5.23423&lt;/gml:pos
&gt;&lt;/gml:Point&gt;

</pre><pre class="programlisting">
-- Output the envelope (32) --
SELECT ST_AsGML(3, ST_GeomFromText('LINESTRING(1 2, 3 4, 10 20)',4326), 5, 32);
                st_asgml
                --------
        &lt;gml:Envelope srsName="EPSG:4326"&gt;
                &lt;gml:lowerCorner
&gt;1 2&lt;/gml:lowerCorner&gt;
                &lt;gml:upperCorner
&gt;10 20&lt;/gml:upperCorner&gt;
        &lt;/gml:Envelope&gt;

</pre><pre class="programlisting">
-- Output the envelope (32) , reverse (lat lon instead of lon lat) (16), long srs (1)= 32 | 16 | 1 = 49 --
SELECT ST_AsGML(3, ST_GeomFromText('LINESTRING(1 2, 3 4, 10 20)',4326), 5, 49);
        st_asgml
        --------
&lt;gml:Envelope srsName="urn:ogc:def:crs:EPSG::4326"&gt;
        &lt;gml:lowerCorner
&gt;2 1&lt;/gml:lowerCorner&gt;
        &lt;gml:upperCorner
&gt;20 10&lt;/gml:upperCorner&gt;
&lt;/gml:Envelope&gt;

</pre><pre class="programlisting">
-- Polyhedral Example --
SELECT ST_AsGML(3, ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'));
        st_asgml
        --------
 &lt;gml:PolyhedralSurface&gt;
&lt;gml:polygonPatches&gt;
   &lt;gml:PolygonPatch&gt;
                &lt;gml:exterior&gt;
                          &lt;gml:LinearRing&gt;
                                   &lt;gml:posList srsDimension="3"
&gt;0 0 0 0 0 1 0 1 1 0 1 0 0 0 0&lt;/gml:posList&gt;
                          &lt;/gml:LinearRing&gt;
                &lt;/gml:exterior&gt;
   &lt;/gml:PolygonPatch&gt;
   &lt;gml:PolygonPatch&gt;
                &lt;gml:exterior&gt;
                          &lt;gml:LinearRing&gt;
                                   &lt;gml:posList srsDimension="3"
&gt;0 0 0 0 1 0 1 1 0 1 0 0 0 0 0&lt;/gml:posList&gt;
                          &lt;/gml:LinearRing&gt;
                &lt;/gml:exterior&gt;
   &lt;/gml:PolygonPatch&gt;
   &lt;gml:PolygonPatch&gt;
                &lt;gml:exterior&gt;
                          &lt;gml:LinearRing&gt;
                                   &lt;gml:posList srsDimension="3"
&gt;0 0 0 1 0 0 1 0 1 0 0 1 0 0 0&lt;/gml:posList&gt;
                          &lt;/gml:LinearRing&gt;
                &lt;/gml:exterior&gt;
   &lt;/gml:PolygonPatch&gt;
   &lt;gml:PolygonPatch&gt;
                &lt;gml:exterior&gt;
                          &lt;gml:LinearRing&gt;
                                   &lt;gml:posList srsDimension="3"
&gt;1 1 0 1 1 1 1 0 1 1 0 0 1 1 0&lt;/gml:posList&gt;
                          &lt;/gml:LinearRing&gt;
                &lt;/gml:exterior&gt;
   &lt;/gml:PolygonPatch&gt;
   &lt;gml:PolygonPatch&gt;
                &lt;gml:exterior&gt;
                          &lt;gml:LinearRing&gt;
                                   &lt;gml:posList srsDimension="3"
&gt;0 1 0 0 1 1 1 1 1 1 1 0 0 1 0&lt;/gml:posList&gt;
                          &lt;/gml:LinearRing&gt;
                &lt;/gml:exterior&gt;
   &lt;/gml:PolygonPatch&gt;
   &lt;gml:PolygonPatch&gt;
                &lt;gml:exterior&gt;
                          &lt;gml:LinearRing&gt;
                                   &lt;gml:posList srsDimension="3"
&gt;0 0 1 1 0 1 1 1 1 0 1 1 0 0 1&lt;/gml:posList&gt;
                          &lt;/gml:LinearRing&gt;
                &lt;/gml:exterior&gt;
   &lt;/gml:PolygonPatch&gt;
&lt;/gml:polygonPatches&gt;
&lt;/gml:PolyhedralSurface&gt;

</pre></div><div class="refsection" id="idm10869"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a></p></div></div><div class="refentry" id="ST_AsKML"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsKML — Renvoyer la géométrie sous forme d'élément KML.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsKML</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">maxdecimaldigits=15</var>, text  <var class="pdparam">nprefix=NULL</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsKML</strong>(</code>geography  <var class="pdparam">geog</var>, integer  <var class="pdparam">maxdecimaldigits=15</var>, text  <var class="pdparam">nprefix=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm10903"><h2>Description</h2><p>Renvoie la géométrie sous la forme d'un élément KML (Keyhole Markup Language). Le nombre maximal de décimales par défaut est de 15, la valeur par défaut du namespace est sans préfixe.</p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'utilisation du paramètre <em class="parameter"><code>maxdecimaldigits</code></em> peut rendre la géométrie de sortie invalide. Pour éviter cela, utilisez d'abord <a class="xref" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a> avec une taille de grille appropriée. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Exige que PostGIS soit compilé avec le support Proj. Utilisez <a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a> pour confirmer que vous avez compilé le support Proj.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="availability">Disponibilité : 1.2.2 - les variantes ultérieures qui incluent le paramétrage de la version sont disponibles dans la version 1.3.2</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Amélioré : 2.0.0 - Ajout d'un préfixe namespace, utilisation d'arguments par défaut et d'arguments nommés</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Modifié : 3.0.0 - Suppression de la signature de la variante "versioned"</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La sortie AsKML ne fonctionnera pas avec les géométries qui n'ont pas de SRID</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm10925"><h2>Exemples</h2><pre class="programlisting">
SELECT ST_AsKML(ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326));

                st_askml
                --------
                &lt;Polygon
&gt;&lt;outerBoundaryIs
&gt;&lt;LinearRing
&gt;&lt;coordinates
&gt;0,0 0,1 1,1 1,0 0,0&lt;/coordinates
&gt;&lt;/LinearRing
&gt;&lt;/outerBoundaryIs
&gt;&lt;/Polygon&gt;

                --3d linestring
                SELECT ST_AsKML('SRID=4326;LINESTRING(1 2 3, 4 5 6)');
                &lt;LineString
&gt;&lt;coordinates
&gt;1,2,3 4,5,6&lt;/coordinates
&gt;&lt;/LineString&gt;


</pre></div><div class="refsection" id="idm10928"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsSVG" title="ST_AsSVG">ST_AsSVG</a>, <a class="xref" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a></p></div></div><div class="refentry" id="ST_AsLatLonText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsLatLonText — Renvoie la représentation en degrés, minutes et secondes du point donné.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsLatLonText</strong>(</code>geometry  <var class="pdparam">pt</var>, text  <var class="pdparam">format=''</var><code>)</code>;</p></div></div><div class="refsection" id="idm10948"><h2>Description</h2><p>Renvoie la représentation en degrés, minutes et secondes du point.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>On suppose que le point se trouve dans une projection lat/lon. Les coordonnées X (lon) et Y (lat) sont normalisées dans la sortie à la plage "normale" (-180 à +180 pour lon, -90 à +90 pour lat).</p></td></tr></table></div><p>Le paramètre text est une chaîne de caractères contenant le format du texte résultant, similaire à une chaîne de caractères de date. Les symboles autorisés sont "D" pour les degrés, "M" pour les minutes, "S" pour les secondes et "C" pour la direction cardinale (NSEW). Les jetons DMS peuvent être répétés pour indiquer la largeur et la précision souhaitées ("SSS.SSSS" signifie "1,0023"). </p><p>Les lettres "M", "S" et "C" sont facultatives. Si "C" est omis, les degrés sont indiqués avec un signe "-" s'il s'agit du sud ou de l'ouest. Si "S" est omis, les minutes sont affichées sous forme décimale avec autant de chiffres de précision que vous le spécifiez. Si "M" est également omis, les degrés sont affichés sous forme décimale avec autant de chiffres de précision que vous le spécifiez. </p><p>Si la chaîne de caractères format est omise (ou de longueur nulle), un format par défaut sera utilisé. </p><p class="availability">Disponibilité : 2.0</p></div><div class="refsection" id="idm10957"><h2>Exemples</h2><p>Format par défaut.</p><pre class="programlisting">SELECT (ST_AsLatLonText('POINT (-3.2342342 -2.32498)'));
      st_aslatlontext
----------------------------
 2°19'29.928"S 3°14'3.243"W
</pre><p>Fournir un format (identique au format par défaut).</p><pre class="programlisting">SELECT (ST_AsLatLonText('POINT (-3.2342342 -2.32498)', 'D°M''S.SSS"C'));
      st_aslatlontext
----------------------------
 2°19'29.928"S 3°14'3.243"W
</pre><p>Les caractères autres que D, M, S, C et . ne sont pas pris en compte.</p><pre class="programlisting">SELECT (ST_AsLatLonText('POINT (-3.2342342 -2.32498)', 'D degrees, M minutes, S seconds to the C'));
                                   st_aslatlontext
--------------------------------------------------------------------------------------
 2 degrees, 19 minutes, 30 seconds to the S 3 degrees, 14 minutes, 3 seconds to the W
</pre><p>Les degrés signés au lieu des directions cardinales.</p><pre class="programlisting">SELECT (ST_AsLatLonText('POINT (-3.2342342 -2.32498)', 'D°M''S.SSS"'));
      st_aslatlontext
----------------------------
 -2°19'29.928" -3°14'3.243"
</pre><p>Degrés décimaux.</p><pre class="programlisting">SELECT (ST_AsLatLonText('POINT (-3.2342342 -2.32498)', 'D.DDDD degrees C'));
          st_aslatlontext
-----------------------------------
 2.3250 degrees S 3.2342 degrees W
</pre><p>Les valeurs trop importantes sont normalisées.</p><pre class="programlisting">SELECT (ST_AsLatLonText('POINT (-302.2342342 -792.32498)'));
        st_aslatlontext
-------------------------------
 72°19'29.928"S 57°45'56.757"E
</pre></div></div><div class="refentry" id="ST_AsMARC21"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsMARC21 — Renvoie la géométrie sous forme d'enregistrement MARC21/XML avec un champ de données géographiques (034).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef"> text <strong class="fsfunc">ST_AsMARC21</strong> (</code> geometry  <var class="pdparam">geom</var> ,  text  <var class="pdparam">format='hdddmmss'</var> <code>)</code>;</p></div></div><div class="refsection" id="idm10986"><h2>Description</h2><p>Cette fonction renvoie un enregistrement MARC21/XML avec <a class="link" href="https://www.loc.gov/marc/bibliographic/bd034.html" target="_top">Coded Cartographic Mathematical Data</a> représentant la boîte de délimitation d'une géométrie donnée. Le paramètre <code class="varname">format</code> permet de coder les coordonnées dans les sous-champs <code class="varname">$d</code>,<code class="varname">$e</code>,<code class="varname">$f</code> et <code class="varname">$g</code> dans tous les formats pris en charge par la norme MARC21/XML. Les formats valides sont les suivants :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>la direction cardinale, en degrés, minutes et secondes (par défaut) : <code class="varname">hdddmmss</code></p></li><li class="listitem"><p>degrés décimaux avec la direction cardinale : <code class="varname">hddd.dddddd</code></p></li><li class="listitem"><p>degrés décimaux sans direction cardinale : <code class="varname">ddd.dddddd</code></p></li><li class="listitem"><p>minutes décimales avec la direction cardinale : <code class="varname">hdddmm.mmmm</code></p></li><li class="listitem"><p>minutes décimales sans direction cardinale : <code class="varname">dddmm.mmmm</code></p></li><li class="listitem"><p>secondes décimales avec la direction cardinale : <code class="varname">hdddmmss.sss</code></p></li></ul></div><p>Le signe décimal peut également être une virgule, par exemple <code class="varname">hdddmm,mmmm</code>.</p><p>La précision des formats décimaux peut être limitée par le nombre de caractères après le signe décimal, par exemple <code class="varname">hdddmm.mm</code> pour des minutes décimales avec une précision de deux décimales.</p><p>Cette fonction ignore les dimensions Z et M.</p><p>Prise en charge des versions LOC MARC21/XML : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="https://www.loc.gov/standards/marcxml/" target="_top">MARC21/XML 1.1</a></p></li></ul></div><p>
            </p><p class="availability">Disponibilité : 3.3.0 </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction ne prend pas en charge les géométries non lon/lat, car elles ne sont pas prises en charge par la norme MARC21/XML (Coded Cartographic Mathematical Data).</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La norme MARC21/XML ne prévoit aucun moyen d'annoter le système de référence spatiale pour les données mathématiques cartographiques codées, ce qui signifie que cette information sera perdue après la conversion au format MARC21/XML. </p></td></tr></table></div></div><div class="refsection" id="idm11029"><h2>Exemples</h2><p>Conversion d'un <code class="varname">POINT</code> en MARC21/XML au format hdddmmss (par défaut)</p><pre class="programlisting">


                SELECT ST_AsMARC21('SRID=4326;POINT(-4.504289 54.253312)'::geometry);

                                st_asmarc21
                -------------------------------------------------
                &lt;record xmlns="http://www.loc.gov/MARC21/slim"&gt;
                    &lt;datafield tag="034" ind1="1" ind2=" "&gt;
                        &lt;subfield code="a"
&gt;a&lt;/subfield&gt;
                        &lt;subfield code="d"
&gt;W0043015&lt;/subfield&gt;
                        &lt;subfield code="e"
&gt;W0043015&lt;/subfield&gt;
                        &lt;subfield code="f"
&gt;N0541512&lt;/subfield&gt;
                        &lt;subfield code="g"
&gt;N0541512&lt;/subfield&gt;
                    &lt;/datafield&gt;
                &lt;/record&gt;



</pre><p>Conversion d'un <code class="varname">POLYGON</code> en MARC21/XML formaté en degrés décimaux</p><pre class="programlisting">


                SELECT ST_AsMARC21('SRID=4326;POLYGON((-4.5792388916015625 54.18172660239091,-4.56756591796875 54.196993557130355,-4.546623229980469 54.18313300502024,-4.5792388916015625 54.18172660239091))'::geometry,'hddd.dddd');

                &lt;record xmlns="http://www.loc.gov/MARC21/slim"&gt;
                    &lt;datafield tag="034" ind1="1" ind2=" "&gt;
                        &lt;subfield code="a"
&gt;a&lt;/subfield&gt;
                        &lt;subfield code="d"
&gt;W004.5792&lt;/subfield&gt;
                        &lt;subfield code="e"
&gt;W004.5466&lt;/subfield&gt;
                        &lt;subfield code="f"
&gt;N054.1970&lt;/subfield&gt;
                        &lt;subfield code="g"
&gt;N054.1817&lt;/subfield&gt;
                    &lt;/datafield&gt;
                &lt;/record&gt;



</pre><p>Conversion d'une <code class="varname">GEOMETRYCOLLECTION</code> en MARC21/XML en minutes décimales. L'ordre des géométries dans la sortie MARC21/XML correspond à leur ordre dans la collection.</p><pre class="programlisting">


                SELECT ST_AsMARC21('SRID=4326;GEOMETRYCOLLECTION(POLYGON((13.1 52.65,13.516666666666667 52.65,13.516666666666667 52.38333333333333,13.1 52.38333333333333,13.1 52.65)),POINT(-4.5 54.25))'::geometry,'hdddmm.mmmm');

                                st_asmarc21
                -------------------------------------------------
                &lt;record xmlns="http://www.loc.gov/MARC21/slim"&gt;
                    &lt;datafield tag="034" ind1="1" ind2=" "&gt;
                        &lt;subfield code="a"
&gt;a&lt;/subfield&gt;
                        &lt;subfield code="d"
&gt;E01307.0000&lt;/subfield&gt;
                        &lt;subfield code="e"
&gt;E01331.0000&lt;/subfield&gt;
                        &lt;subfield code="f"
&gt;N05240.0000&lt;/subfield&gt;
                        &lt;subfield code="g"
&gt;N05224.0000&lt;/subfield&gt;
                    &lt;/datafield&gt;
                    &lt;datafield tag="034" ind1="1" ind2=" "&gt;
                        &lt;subfield code="a"
&gt;a&lt;/subfield&gt;
                        &lt;subfield code="d"
&gt;W00430.0000&lt;/subfield&gt;
                        &lt;subfield code="e"
&gt;W00430.0000&lt;/subfield&gt;
                        &lt;subfield code="f"
&gt;N05415.0000&lt;/subfield&gt;
                        &lt;subfield code="g"
&gt;N05415.0000&lt;/subfield&gt;
                    &lt;/datafield&gt;
                &lt;/record&gt;



</pre></div><div class="refsection" id="idm11040"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromMARC21" title="ST_GeomFromMARC21">ST_GeomFromMARC21</a></p></div></div><div class="refentry" id="ST_AsMVTGeom"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsMVTGeom — Transforme une géométrie dans l'espace de coordonnées d'une tuile MVT.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_AsMVTGeom</strong>(</code>geometry  <var class="pdparam">geom</var>, box2d  <var class="pdparam">bounds</var>, integer  <var class="pdparam">extent=4096</var>, integer  <var class="pdparam">buffer=256</var>, boolean  <var class="pdparam">clip_geom=true</var><code>)</code>;</p></div></div><div class="refsection" id="idm11068"><h2>Description</h2><p>Transforme une géométrie dans l'espace de coordonnées d'une tuile MVT (<a class="link" href="https://www.mapbox.com/vector-tiles/" target="_top">Mapbox Vector Tile</a>), en l'ajustant aux limites de la tuile si nécessaire. La géométrie doit être dans le système de coordonnées de la carte cible (en utilisant <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a> si nécessaire). Il s'agit généralement de <a class="link" href="https://en.wikipedia.org/wiki/Web_Mercator_projection" target="_top">Web Mercator</a> (SRID:3857). </p><p>La fonction tente de préserver la validité de la géométrie et la corrige si nécessaire. Cela peut entraîner l'effondrement de la géométrie résultante à une dimension inférieure. </p><p>Les limites rectangulaires de la tuile dans l'espace de coordonnées de la carte cible doivent être fournies, afin que la géométrie puisse être transformée et coupée si nécessaire. Les limites peuvent être générées à l'aide de <a class="xref" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a>. </p><p>Cette fonction est utilisée pour convertir la géométrie dans l'espace de coordonnées de la tuile requis par <a class="xref" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a>. </p><p><code class="varname">geom</code> est la géométrie à transformer, dans le système de coordonnées de la carte cible.</p><p><code class="varname">bounds</code> est la limite rectangulaire de la tuile dans l'espace de coordonnées de la carte, sans tampon.</p><p><code class="varname">extent</code> est la taille de l'étendue de la tuile dans l'espace de coordonnées de la tuile tel que défini par la <a class="link" href="https://www.mapbox.com/vector-tiles/specification/" target="_top">spécification MVT</a>. La valeur par défaut est 4096.</p><p><code class="varname">buffer</code> est la taille du tampon dans l'espace de coordonnées de la tuile pour le découpage de la géométrie. La valeur par défaut est 256.</p><p><code class="varname">clip_geom</code> est un booléen qui contrôle si les géométries sont découpées ou encodées telles quelles. La valeur par défaut est true.</p><p class="availability">Disponibilité : 2.4.0</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A partir de la version 3.0, Wagyu peut être choisi au moment de la configuration pour découper et valider les polygones MVT. Cette bibliothèque est plus rapide et produit des résultats plus corrects que la bibliothèque par défaut de GEOS, mais elle peut mettre de côté de petits polygones.</p></td></tr></table></div></div><div class="refsection" id="idm11093"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_AsMVTGeom(
        ST_GeomFromText('POLYGON ((0 0, 10 0, 10 5, 0 -5, 0 0))'),
        ST_MakeBox2D(ST_Point(0, 0), ST_Point(4096, 4096)),
        4096, 0, false));
                              st_astext
--------------------------------------------------------------------
 MULTIPOLYGON(((5 4096,10 4091,10 4096,5 4096)),((5 4096,0 4101,0 4096,5 4096)))
                </pre><p>Canonical example for a Web Mercator tile using a computed tile bounds to query and clip geometry. This assumes the data.geom column has srid of 4326. </p><pre class="programlisting">

SELECT ST_AsMVTGeom(
            ST_Transform( geom, 3857 ),
            ST_TileEnvelope(12, 513, 412), extent =
&gt; 4096, buffer =
&gt; 64) AS geom
  FROM data
  WHERE geom &amp;&amp; ST_Transform(ST_TileEnvelope(12, 513, 412, margin =
&gt; (64.0 / 4096)),4326)


</pre></div><div class="refsection" id="idm11098"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a>, <a class="xref" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a>, <a class="xref" href="#PostGIS_Wagyu_Version" title="PostGIS_Wagyu_Version">PostGIS_Wagyu_Version</a> </p></div></div><div class="refentry" id="ST_AsMVT"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsMVT — Fonction d'agrégation renvoyant une représentation MVT d'un ensemble de lignes.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsMVT</strong>(</code>anyelement set  <var class="pdparam">row</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsMVT</strong>(</code>anyelement  <var class="pdparam">row</var>, text  <var class="pdparam">name</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsMVT</strong>(</code>anyelement  <var class="pdparam">row</var>, text  <var class="pdparam">name</var>, integer  <var class="pdparam">extent</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsMVT</strong>(</code>anyelement  <var class="pdparam">row</var>, text  <var class="pdparam">name</var>, integer  <var class="pdparam">extent</var>, text  <var class="pdparam">geom_name</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsMVT</strong>(</code>anyelement  <var class="pdparam">row</var>, text  <var class="pdparam">name</var>, integer  <var class="pdparam">extent</var>, text  <var class="pdparam">geom_name</var>, text  <var class="pdparam">feature_id_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm11170"><h2>Description</h2><p>Une fonction agrégée qui renvoie une représentation binaire <a class="link" href="https://www.mapbox.com/vector-tiles/" target="_top">Mapbox Vector Tile</a> d'un ensemble de lignes correspondant à une couche de tuiles. Les lignes doivent contenir une colonne de géométrie qui sera encodée comme une géométrie d'élément. La géométrie doit être dans l'espace de coordonnées de la tuile et valide conformément à la <a class="link" href="https://www.mapbox.com/vector-tiles/specification/" target="_top">spécification MVT</a>. <a class="xref" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a> peut être utilisé pour transformer la géométrie dans l'espace de coordonnées des tuiles. Les autres colonnes de la ligne sont encodées en tant qu'attributs de caractéristiques. </p><p>Le format <a class="link" href="https://www.mapbox.com/vector-tiles/" target="_top">Mapbox Vector Tile</a> peut stocker des éléments avec différents ensembles d'attributs. Pour utiliser cette fonctionnalité, il convient de fournir une colonne JSONB dans les données de la ligne contenant des objets Json à un niveau de profondeur. Les clés et les valeurs des valeurs JSONB seront encodées en tant qu'attributs d'entités. </p><p>Les tuiles à couches multiples peuvent être créées en concaténant plusieurs appels à cette fonction en utilisant <code class="varname">||</code> ou <code class="varname">STRING_AGG</code>. </p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Ne pas appeler avec un <code class="varname">GEOMETRYCOLLECTION</code> comme élément de la ligne. Cependant, vous pouvez utiliser <a class="xref" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a> pour préparer une collection de géométrie à inclure.</p></td></tr></table></div><p><code class="varname">row</code> données de ligne avec au moins une colonne de géométrie.</p><p><code class="varname">name</code> est le nom de la couche. La valeur par défaut est la chaîne de caractères "default".</p><p><code class="varname">extent</code> est l'étendue de la tuile dans l'espace de l'écran tel que défini par la spécification. La valeur par défaut est 4096.</p><p><code class="varname">geom_name</code> est le nom de la colonne géométrique dans les données de la ligne. La valeur par défaut est la première colonne géométrique. Notez que PostgreSQL, par défaut, <a class="link" href="https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS" target="_top">plie automatiquement les identifiants non cités en minuscules</a>, ce qui signifie qu'à moins que la colonne géométrique ne soit citée, par exemple <code class="varname">"MyMVTGeom"</code>, ce paramètre doit être fourni en minuscules.</p><p><code class="varname">feature_id_name</code> est le nom de la colonne Feature ID dans les données de la ligne. S'il est NULL ou négatif, l'identifiant de la caractéristique n'est pas défini. La première colonne correspondant au nom et au type valide (smallint, integer, bigint) sera utilisée comme Feature ID, et toute colonne suivante sera ajoutée en tant que propriété. Les propriétés JSON ne sont pas prises en charge.</p><p class="enhanced">Amélioration : 3.0 - ajout de la prise en charge du Feature ID.</p><p class="enhanced">Amélioration : 2.5.0 - ajout de la prise en charge des requêtes parallèles.</p><p class="availability">Disponibilité : 2.4.0</p></div><div class="refsection" id="idm11200"><h2>Exemples</h2><pre class="programlisting">
WITH mvtgeom AS
(
  SELECT ST_AsMVTGeom(geom, ST_TileEnvelope(12, 513, 412), extent =
&gt; 4096, buffer =
&gt; 64) AS geom, name, description
  FROM points_of_interest
  WHERE geom &amp;&amp; ST_TileEnvelope(12, 513, 412, margin =
&gt; (64.0 / 4096))
)
SELECT ST_AsMVT(mvtgeom.*)
FROM mvtgeom;


        </pre></div><div class="refsection" id="idm11203"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a>, <a class="xref" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a> </p></div></div><div class="refentry" id="ST_AsSVG"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsSVG — Renvoie les données de chemin SVG pour une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsSVG</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">rel=0</var>, integer  <var class="pdparam">maxdecimaldigits=15</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsSVG</strong>(</code>geography  <var class="pdparam">geog</var>, integer  <var class="pdparam">rel=0</var>, integer  <var class="pdparam">maxdecimaldigits=15</var><code>)</code>;</p></div></div><div class="refsection" id="idm11238"><h2>Description</h2><p>Renvoie la géométrie sous forme de données de chemin SVG (Scalar Vector Graphics). Utilisez 1 comme deuxième argument pour que les données de chemin soient implémentées en termes de déplacements relatifs, la valeur par défaut (ou 0) utilise des déplacements absolus. Le troisième argument peut être utilisé pour réduire le nombre maximal de chiffres décimaux utilisés dans la sortie (15 par défaut). Les géométries ponctuelles seront rendues sous la forme cx/cy lorsque l'argument 'rel' est 0, x/y lorsque 'rel' est 1. Les géométries multipoints sont délimitées par des virgules (","), les géométries GeometryCollection sont délimitées par des points-virgules (" ;").</p><p>Pour travailler avec les graphiques PostGIS SVG, consultez la bibliothèque <a class="link" href="https://github.com/dr-jts/pg_svg" target="_top">pg_svg</a> qui fournit des fonctions plpgsql pour travailler avec les résultats de ST_AsSVG.</p><p class="enhanced">Amélioration : 3.4.0 pour prendre en charge tous les types de courbes</p><p class="changed">Modifié : 2.0.0 pour utiliser les args par défaut et supporter les args nommés</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="availability">Disponibilité : 1.2.2. Disponibilité : 1.4.0 Modifié dans PostGIS 1.4.0 pour inclure la commande L dans le chemin absolu afin de se conformer à <a class="link" href="http://www.w3.org/TR/SVG/paths.html#PathDataBNF" target="_top">http://www.w3.org/TR/SVG/paths.html#PathDataBNF</a></p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm11252"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsSVG('POLYGON((0 0,0 1,1 1,1 0,0 0))'::geometry);

st_assvg
--------
M 0 0 L 0 -1 1 -1 1 0 Z</pre><p>Circular string</p><pre class="programlisting">SELECT ST_AsSVG( ST_GeomFromText('CIRCULARSTRING(-2 0,0 2,2 0,0 2,2 4)') );

st_assvg
--------
M -2 0 A 2 2 0 0 1 2 0 A 2 2 0 0 1 2 -4</pre><p>Multi-curve</p><pre class="programlisting">SELECT ST_AsSVG('MULTICURVE((5 5,3 5,3 3,0 3),
 CIRCULARSTRING(0 0,2 1,2 2))'::geometry, 0, 0);
 st_assvg
------------------------------------------------
 M 5 -5 L 3 -5 3 -3 0 -3 M 0 0 A 2 2 0 0 0 2 -2
 </pre><p>Multi-surface</p><pre class="programlisting">SELECT ST_AsSVG('MULTISURFACE(
CURVEPOLYGON(CIRCULARSTRING(-2 0,-1 -1,0 0,1 -1,2 0,0 2,-2 0),
    (-1 0,0 0.5,1 0,0 1,-1 0)),
((7 8,10 10,6 14,4 11,7 8)))'::geometry, 0, 2);

st_assvg
---------------------------------------------------------
M -2 0 A 1 1 0 0 0 0 0 A 1 1 0 0 0 2 0 A 2 2 0 0 0 -2 0 Z
M -1 0 L 0 -0.5 1 0 0 -1 -1 0 Z
M 7 -8 L 10 -10 6 -14 4 -11 Z
 </pre></div></div><div class="refentry" id="ST_AsTWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsTWKB — Renvoie la géométrie sous forme de TWKB, diminutif de "Tiny Well-Known Binary"</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsTWKB</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">prec=0</var>, integer  <var class="pdparam">prec_z=0</var>, integer  <var class="pdparam">prec_m=0</var>, boolean  <var class="pdparam">with_sizes=false</var>, boolean  <var class="pdparam">with_boxes=false</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsTWKB</strong>(</code>geometry[]  <var class="pdparam">geom</var>, bigint[]  <var class="pdparam">ids</var>, integer  <var class="pdparam">prec=0</var>, integer  <var class="pdparam">prec_z=0</var>, integer  <var class="pdparam">prec_m=0</var>, boolean  <var class="pdparam">with_sizes=false</var>, boolean  <var class="pdparam">with_boxes=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm11312"><h2>Description</h2><p>Renvoie la géométrie au format TWKB (Tiny Well-Known Binary). TWKB est un <a class="link" href="https://github.com/TWKB/Specification/blob/master/twkb.md" target="_top">format binaire compressé</a> dont l'objectif est de minimiser la taille de la sortie. </p><p>Les paramètres relatifs aux chiffres décimaux déterminent le degré de précision stocké dans la sortie. Par défaut, les valeurs sont arrondies à l'unité la plus proche avant l'encodage. Si vous souhaitez transférer plus de précision, augmentez le nombre. Par exemple, une valeur de 1 implique que le premier chiffre à droite du point décimal sera préservé.</p><p>Les paramètres "sizes" et "bounding boxes" déterminent si les informations optionnelles concernant la longueur encodée de l'objet et les limites de l'objet sont incluses dans la sortie. Par défaut, elles ne le sont pas. Ne les activez pas à moins que votre logiciel client n'en ait l'utilité, car ils ne font qu'utiliser de l'espace (et économiser de l'espace est l'objectif de TWKB).</p><p>La forme tableau de la fonction est utilisée pour convertir une collection de géométries et d'identifiants uniques en une collection TWKB qui préserve les identifiants. Cette fonction est utile pour les clients qui souhaitent décompresser une collection et accéder ensuite à d'autres informations sur les objets qu'elle contient. Vous pouvez créer les tableaux à l'aide de la fonction <a class="link" href="https://www.postgresql.org/docs/current/functions-aggregate.html" target="_top">array_agg</a>. Les autres paramètres sont les mêmes que pour la forme simple de la fonction.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La spécification du format est disponible en ligne à l'adresse <a class="link" href="https://github.com/TWKB/Specification" target="_top">https://github.com/TWKB/Specification</a>, et le code permettant de créer un client JavaScript est disponible à l'adresse <a class="link" href="https://github.com/TWKB/twkb.js" target="_top">https://github.com/TWKB/twkb.js</a>.</p></td></tr></table></div><p class="enhanced">Amélioration : 2.4.0 amélioration de la mémoire et de la vitesse.</p><p class="availability">Disponibilité : 2.2.0</p></div><div class="refsection" id="idm11326"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsTWKB('LINESTRING(1 1,5 5)'::geometry);
                 st_astwkb
--------------------------------------------
\x02000202020808

</pre><p>Pour créer un objet TWKB agrégé comprenant des identifiants, il faut d'abord agréger les géométries et les objets souhaités en utilisant "array_agg()", puis appeler la fonction TWKB appropriée. </p><pre class="programlisting">SELECT ST_AsTWKB(array_agg(geom), array_agg(gid)) FROM mytable;
                 st_astwkb
--------------------------------------------
\x040402020400000202
</pre></div><div class="refsection" id="idm11331"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromTWKB" title="ST_GeomFromTWKB">ST_GeomFromTWKB</a>, <a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>, <a class="xref" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a>, <a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_AsX3D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsX3D — Renvoie une géométrie au format X3D xml node element : ISO-IEC-19776-1.2-X3DEncodings-XML</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsX3D</strong>(</code>geometry  <var class="pdparam">g1</var>, integer  <var class="pdparam">maxdecimaldigits=15</var>, integer  <var class="pdparam">options=0</var><code>)</code>;</p></div></div><div class="refsection" id="idm11357"><h2>Description</h2><p>Renvoie une géométrie sous la forme d'un élément de nœud X3D xml formaté <a class="link" href="http://www.web3d.org/standards/number/19776-1" target="_top">http://www.web3d.org/standards/number/19776-1</a>. Si <code class="varname">maxdecimaldigits</code> (précision) n'est pas spécifié, la valeur par défaut est 15. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Il existe plusieurs options pour traduire les géométries PostGIS en X3D, car les types de géométrie X3D ne correspondent pas directement aux types de géométrie PostGIS, et nous avons évité certains types X3D plus récents qui pourraient constituer de meilleures correspondances, car la plupart des outils de rendu ne les prennent pas en charge actuellement. Ce sont les correspondances que nous avons choisies. N'hésitez pas à poster un ticket de bug si vous avez des idées sur l'idée ou sur la façon dont nous pouvons permettre aux gens de dénoter leurs correspondances préférées.</p><p>Voici comment nous faisons actuellement correspondre les types 2D/3D de PostGIS aux types X3D</p></td></tr></table></div><p>L'argument 'options' est un champ de bits. Pour PostGIS 2.2+, il est utilisé pour indiquer si les coordonnées doivent être représentées avec le nœud géospatial X3D GeoCoordinates et si l'axe x/y doit être inversé. Par défaut, <code class="code">ST_AsX3D</code> produit les données sous forme de base de données (long,lat ou X,Y), mais la valeur par défaut de lat/lon, y/x de X3D peut être préférée.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>0 : X/Y dans l'ordre de la base de données (par exemple long/lat = X,Y est l'ordre standard de la base de données), valeur par défaut, et coordonnées non spatiales (juste un bon vieux Coordinate tag).</p></li><li class="listitem"><p>1 : Inverser X et Y. Si cette option est utilisée en conjonction avec l'option GeoCoordinate, la sortie sera par défaut "latitude_first" et les coordonnées seront également inversées.</p></li><li class="listitem"><p>2 : Sortie des coordonnées enGeoSpatial GeoCoordinates. Cette option génère une erreur si les géométries ne sont pas en WGS 84 long lat (srid : 4326). C'est actuellement le seul type de GeoCoordinate pris en charge. <a class="link" href="http://www.web3d.org/documents/specifications/19775-1/V3.2/Part01/components/geodata.html#Specifyingaspatialreference" target="_top">Référence aux spécifications X3D spécifiant un système de référence spatiale.</a>. La sortie par défaut sera <code class="code">GeoCoordinate geoSystem='"GD" "WE" "longitude_first"'</code>. Si vous préférez la sortie par défaut X3D de <code class="code">GeoCoordinate geoSystem='"GD" "WE" "latitude_first"'</code>, utilisez <code class="code">(2 + 1)</code> = <code class="code">3</code> </p></li></ul></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Type PostGIS</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Type 2D X3D</th><th style="border-bottom: 1px solid ; ">Type 3D X3D</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">LINESTRING</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">pas encore implémenté - sera PolyLine2D</td><td style="border-bottom: 1px solid ; ">LineSet</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">MULTILINESTRING</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">pas encore implémenté - sera PolyLine2D</td><td style="border-bottom: 1px solid ; ">IndexedLineSet</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">MULTIPOINT</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Polypoint2D</td><td style="border-bottom: 1px solid ; ">PointSet</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">POINT</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">produit les coordonnées délimitées par l'espace</td><td style="border-bottom: 1px solid ; ">produit les coordonnées délimitées par l'espace</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">(MULTI) POLYGON, POLYHEDRALSURFACE</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Balises X3D non valides</td><td style="border-bottom: 1px solid ; ">IndexedFaceSet (les anneaux intérieurs sont actuellement édités sous la forme d'un autre jeu de faces)</td></tr><tr><td style="border-right: 1px solid ; ">TIN</td><td style="border-right: 1px solid ; ">TriangleSet2D (Pas encore implémenté)</td><td>IndexedTriangleSet</td></tr></tbody></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La prise en charge de la géométrie 2D n'est pas encore terminée. Les anneaux intérieurs sont actuellement dessinés comme des polygones séparés. Nous y travaillons.</p></td></tr></table></div><p>De nombreuses avancées ont lieu dans l'espace 3D, en particulier avec <a class="link" href="https://www.web3d.org/wiki/index.php/X3D_and_HTML5" target="_top">X3D Integration with HTML5</a></p><p>Il existe également une visionneuse X3D open source que vous pouvez utiliser pour visualiser les géométries rendues. Des binaires Wrl <a class="link" href="http://freewrl.sourceforge.net/" target="_top">http://freewrl.sourceforge.net/</a> gratuits sont disponibles pour Mac, Linux et Windows. Utilisez le FreeWRL_Launcher pour visualiser les géométries.</p><p>Consultez également <a class="link" href="https://git.osgeo.org/gitea/robe/postgis_x3d_viewer" target="_top">PostGIS minimalist X3D viewer</a> qui utilise cette fonction et <a class="link" href="http://www.x3dom.org/" target="_top">x3dDom html/js open source toolkit</a>.</p><p class="availability">Disponibilité : 2.0.0: ISO-IEC-19776-1.2-X3DEncodings-XML</p><p class="enhanced">Amélioration : 2.2.0 : Prise en charge des coordonnées géographiques et de l'inversion des axes (x/y, long/lat). Voir les options pour plus de détails.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm11434"><h2>Exemple : Créer un document X3D entièrement fonctionnel - Cela permet de générer un cube qui peut être visualisé dans FreeWrl et d'autres visionneuses X3D.</h2><pre class="programlisting">
SELECT '&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE X3D PUBLIC "ISO//Web3D//DTD X3D 3.0//EN" "http://www.web3d.org/specifications/x3d-3.0.dtd"&gt;
&lt;X3D&gt;
  &lt;Scene&gt;
    &lt;Transform&gt;
      &lt;Shape&gt;
       &lt;Appearance&gt;
            &lt;Material emissiveColor=''0 0 1''/&gt;
       &lt;/Appearance
&gt; ' ||
       ST_AsX3D( ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )')) ||
      '&lt;/Shape&gt;
    &lt;/Transform&gt;
  &lt;/Scene&gt;
&lt;/X3D
&gt;' As x3ddoc;

                x3ddoc
                --------
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE X3D PUBLIC "ISO//Web3D//DTD X3D 3.0//EN" "http://www.web3d.org/specifications/x3d-3.0.dtd"&gt;
&lt;X3D&gt;
  &lt;Scene&gt;
    &lt;Transform&gt;
      &lt;Shape&gt;
       &lt;Appearance&gt;
            &lt;Material emissiveColor='0 0 1'/&gt;
       &lt;/Appearance&gt;
       &lt;IndexedFaceSet  coordIndex='0 1 2 3 -1 4 5 6 7 -1 8 9 10 11 -1 12 13 14 15 -1 16 17 18 19 -1 20 21 22 23'&gt;
            &lt;Coordinate point='0 0 0 0 0 1 0 1 1 0 1 0 0 0 0 0 1 0 1 1 0 1 0 0 0 0 0 1 0 0 1 0 1 0 0 1 1 1 0 1 1 1 1 0 1 1 0 0 0 1 0 0 1 1 1 1 1 1 1 0 0 0 1 1 0 1 1 1 1 0 1 1' /&gt;
      &lt;/IndexedFaceSet&gt;
      &lt;/Shape&gt;
    &lt;/Transform&gt;
  &lt;/Scene&gt;
&lt;/X3D&gt;
</pre></div><div class="refsection" id="idm11437"><h2>Bâtiments PostGIS</h2><p>Copiez et collez le résultat de cette requête dans <a class="link" href="http://postgis.net/docs/support/viewers/x3d_viewer.htm" target="_top">x3d scene viewer</a> et cliquez sur Show </p><pre class="programlisting">
SELECT string_agg('&lt;Shape
&gt;' || ST_AsX3D(ST_Extrude(geom, 0,0, i*0.5)) ||
    '&lt;Appearance&gt;
          &lt;Material diffuseColor="' || (0.01*i)::text || ' 0.8 0.2" specularColor="' || (0.05*i)::text || ' 0 0.5"/&gt;
        &lt;/Appearance&gt;
    &lt;/Shape
&gt;', '')
FROM ST_Subdivide(ST_Letters('PostGIS'),20) WITH ORDINALITY AS f(geom,i);
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_asx3d01.png"/><div class="caption"><p>Bâtiments formés par subdivision PostGIS et extrusion</p></div></div></div></div><div class="refsection" id="idm11448"><h2>Exemple : Un octogone élevé à 3 unités et une précision décimale de 6</h2><pre class="programlisting">
SELECT ST_AsX3D(
ST_Translate(
    ST_Force_3d(
        ST_Buffer(ST_Point(10,10),5, 'quad_segs=2')), 0,0,
    3)
  ,6) As x3dfrag;

x3dfrag
--------
&lt;IndexedFaceSet coordIndex="0 1 2 3 4 5 6 7"&gt;
    &lt;Coordinate point="15 10 3 13.535534 6.464466 3 10 5 3 6.464466 6.464466 3 5 10 3 6.464466 13.535534 3 10 15 3 13.535534 13.535534 3 " /&gt;
&lt;/IndexedFaceSet&gt;
</pre></div><div class="refsection" id="idm11451"><h2>Exemple : TIN</h2><pre class="programlisting">
SELECT ST_AsX3D(ST_GeomFromEWKT('TIN (((
                0 0 0,
                0 0 1,
                0 1 0,
                0 0 0
            )), ((
                0 0 0,
                0 1 0,
                1 1 0,
                0 0 0
            ))
            )')) As x3dfrag;

                x3dfrag
                --------
&lt;IndexedTriangleSet  index='0 1 2 3 4 5'
&gt;&lt;Coordinate point='0 0 0 0 0 1 0 1 0 0 0 0 0 1 0 1 1 0'/&gt;&lt;/IndexedTriangleSet&gt;
</pre></div><div class="refsection" id="idm11454"><h2>Exemple : multiligne fermée (la limite d'un polygone avec des trous)</h2><pre class="programlisting">
SELECT ST_AsX3D(
                    ST_GeomFromEWKT('MULTILINESTRING((20 0 10,16 -12 10,0 -16 10,-12 -12 10,-20 0 10,-12 16 10,0 24 10,16 16 10,20 0 10),
  (12 0 10,8 8 10,0 12 10,-8 8 10,-8 0 10,-8 -4 10,0 -8 10,8 -4 10,12 0 10))')
) As x3dfrag;

                x3dfrag
                --------
&lt;IndexedLineSet  coordIndex='0 1 2 3 4 5 6 7 0 -1 8 9 10 11 12 13 14 15 8'&gt;
    &lt;Coordinate point='20 0 10 16 -12 10 0 -16 10 -12 -12 10 -20 0 10 -12 16 10 0 24 10 16 16 10 12 0 10 8 8 10 0 12 10 -8 8 10 -8 0 10 -8 -4 10 0 -8 10 8 -4 10 ' /&gt;
 &lt;/IndexedLineSet&gt;
</pre></div></div><div class="refentry" id="ST_GeoHash"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeoHash — Retourne une représentation GeoHash de la géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_GeoHash</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">maxchars=full_precision_of_point</var><code>)</code>;</p></div></div><div class="refsection" id="idm11472"><h2>Description</h2><p>Calcule une représentation <a class="link" href="http://en.wikipedia.org/wiki/Geohash" target="_top">GeoHash</a> d'une géométrie. Un GeoHash encode un point géographique sous forme de texte qui peut être trié et recherché en fonction du préfixe. Un GeoHash plus court est une représentation moins précise d'un point. Il peut être considéré comme une boîte qui contient le point. </p><p>Les valeurs géométriques non ponctuelles dont l'étendue n'est pas nulle peuvent également être mises en correspondance avec des codes GeoHash. La précision du code dépend de l'étendue géographique de la géométrie. </p><p>Si <code class="varname">maxchars</code> n'est pas spécifié, le code GeoHash renvoyé correspond à la plus petite cellule contenant la géométrie d'entrée. Les points renvoient un GeoHash avec 20 caractères de précision (ce qui est suffisant pour contenir la double précision de l'entrée). D'autres types géométriques peuvent renvoyer un GeoHash avec moins de précision, en fonction de l'étendue de la géométrie. Les géométries plus grandes sont représentées avec moins de précision, les plus petites avec plus de précision. La boîte déterminée par le code GeoHash contient toujours l'élément d'entrée.</p><p>Si <code class="varname">maxchars</code> est spécifié, le code GeoHash renvoyé comporte au maximum ce nombre de caractères. Il correspond à une représentation (éventuellement) de moindre précision de la géométrie d'entrée. Pour les non-points, le point de départ du calcul est le centre de la boîte de délimitation de la géométrie.</p><p class="availability">Disponibilité : 1.4.0</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_GeoHash exige que la géométrie d'entrée soit en coordonnées géographiques (lon/lat).</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm11488"><h2>Exemples</h2><pre class="programlisting">SELECT ST_GeoHash( ST_Point(-126,48) );

         st_geohash
----------------------
 c0w3hf1s70w3hf1s70w3

SELECT ST_GeoHash( ST_Point(-126,48), 5);

 st_geohash
------------
 c0w3h

-- This line contains the point, so the GeoHash is a prefix of the point code
SELECT ST_GeoHash('LINESTRING(-126 48, -126.1 48.1)'::geometry);

 st_geohash
------------
 c0w3

                </pre></div><div class="refsection" id="idm11491"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromGeoHash" title="ST_GeomFromGeoHash">ST_GeomFromGeoHash</a>, <a class="xref" href="#ST_PointFromGeoHash" title="ST_PointFromGeoHash">ST_PointFromGeoHash</a>, <a class="xref" href="#ST_Box2dFromGeoHash" title="ST_Box2dFromGeoHash">ST_Box2dFromGeoHash</a></p></div></div></section></section><section class="section" id="Operators"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.10. Opérateurs</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#operators-bbox">7.10.1. Opérateurs de Bounding Box</a></span></li><li><span class="section"><a href="#operators-distance">7.10.2. Opérateurs de distance</a></span></li></ul></div><section class="section" id="operators-bbox"><div class="titlepage"><div><div><h3 class="title">7.10.1. Opérateurs de Bounding Box</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#geometry_overlaps">&amp;&amp;</a></span><span class="refpurpose"> — Renvoi <code class="varname">VRAI</code> si la boite englobante 2D de A intersecte la boite englobante 2D de B.</span></li><li><span class="refentrytitle"><a href="#overlaps_geometry_box2df">&amp;&amp;(geometry,box2df)</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation 2D (en cache) d'une géométrie intersecte une boîte de délimitation 2D de précision flottante (BOX2DF).</span></li><li><span class="refentrytitle"><a href="#overlaps_box2df_geometry">&amp;&amp;(box2df,geometry)</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si une boîte de délimitation 2D de précision flottante (BOX2DF) intersecte la boîte de délimitation 2D (mise en cache) d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#overlaps_box2df_box2df">&amp;&amp;(box2df,box2df)</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si deux boîtes de délimitation 2D à précision flottante (BOX2DF) se croisent.</span></li><li><span class="refentrytitle"><a href="#geometry_overlaps_nd">&amp;&amp;&amp;</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation n-D de A intersecte la boîte de délimitation n-D de B.</span></li><li><span class="refentrytitle"><a href="#overlaps_nd_geometry_gidx">&amp;&amp;&amp;(geometry,gidx)</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation n-D (en cache) d'une géométrie intersecte une boîte de délimitation de précision flottante n-D (GIDX).</span></li><li><span class="refentrytitle"><a href="#overlaps_nd_gidx_geometry">&amp;&amp;&amp;(gidx,geometry)</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si une boîte de délimitation de précision flottante n-D (GIDX) intersecte la boîte de délimitation n-D (mise en cache) d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#overlaps_nd_gidx_gidx">&amp;&amp;&amp;(gidx,gidx)</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si deux boîtes de délimitation (GIDX) de précision flottante n-D se croisent.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Overleft">&amp;&lt;</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte englobante de A chevauche ou est à gauche de celle de B.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Overbelow">&amp;&lt;|</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte englobante de A chevauche ou est inférieure à celle de B.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Overright">&amp;&gt;</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A chevauche ou est à droite de celle de B.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Left">&lt;&lt;</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A est strictement à gauche de celle de B.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Below">&lt;&lt;|</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A est strictement inférieure à celle de B.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_EQ">=</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si les coordonnées et l'ordre des coordonnées de la géométrie/géographie A sont les mêmes que les coordonnées et l'ordre des coordonnées de la géométrie/géographie B.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Right">&gt;&gt;</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A est strictement à droite de celle de B.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Contained">@</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A est contenue par celle de B.</span></li><li><span class="refentrytitle"><a href="#is_contained_geometry_box2df">@(geometry,box2df)</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation 2D d'une géométrie est contenue dans une boîte de délimitation 2D à précision flottante (BOX2DF).</span></li><li><span class="refentrytitle"><a href="#is_contained_box2df_geometry">@(box2df,geometry)</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si une boîte de délimitation de précision flottante 2D (BOX2DF) est contenue dans la boîte de délimitation 2D d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#is_contained_box2df_box2df">@(box2df,box2df)</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si une boîte de délimitation de précision flottante 2D (BOX2DF) est contenue dans une autre boîte de délimitation de précision flottante 2D.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Overabove">|&amp;&gt;</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A chevauche ou est au-dessus de celle de B.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Above">|&gt;&gt;</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A est strictement au-dessus de celle de B.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Contain">~</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A contient celle de B.</span></li><li><span class="refentrytitle"><a href="#contains_geometry_box2df">~(geometry,box2df)</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation 2D d'une géométrie contient une boîte de délimitation de précision flottante 2D (GIDX).</span></li><li><span class="refentrytitle"><a href="#contains_box2df_geometry">~(box2df,geometry)</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si une boîte de délimitation de précision flottante 2D (BOX2DF) contient la boîte de délimitation 2D d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#contains_box2df_box2df">~(box2df,box2df)</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si une boîte de délimitation de précision flottante 2D (BOX2DF) contient une autre boîte de délimitation de précision flottante 2D (BOX2DF).</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Same">~=</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A est la même que celle de B.</span></li></ul></div><div class="refentry" id="geometry_overlaps"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp; — Renvoi <code class="varname">VRAI</code> si la boite englobante 2D de A intersecte la boite englobante 2D de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> geography  <var class="pdparam">A</var> ,  geography  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11526"><h2>Description</h2><p>L'opérateur <code class="varname">&amp;&amp;</code> renvoi <code class="varname">VRAI</code> si la boite englobante 2D de la géométrie A intersecte la boite englobante 2D de la géométrie B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette opérande utilisera tous les index qui peuvent être disponibles sur les géométries.</p></td></tr></table></div><p class="enhanced">Amélioration : 2.0.0 introduction du support des surfaces polyédriques.</p><p class="availability">Disponibilité : 1.5.0 le support de la géographie a été introduit.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm11543"><h2>Exemples</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &amp;&amp; tbl2.column2 AS overlaps
FROM ( VALUES
        (1, 'LINESTRING(0 0, 3 3)'::geometry),
        (2, 'LINESTRING(0 1, 0 5)'::geometry)) AS tbl1,
( VALUES
        (3, 'LINESTRING(1 2, 4 6)'::geometry)) AS tbl2;

 column1 | column1 | overlaps
---------+---------+----------
           1 |       3 | t
           2 |       3 | f
(2 rows)
</pre></div><div class="refsection" id="idm11546"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Extent" title="ST_Extent">ST_Extent</a>, <a class="xref" href="#ST_Geometry_Overabove" title="|&amp;&gt;">|&amp;&gt;</a>, <a class="xref" href="#ST_Geometry_Overright" title="&amp;&gt;">&amp;&gt;</a>, <a class="xref" href="#ST_Geometry_Overbelow" title="&amp;&lt;|">&amp;&lt;|</a>, <a class="xref" href="#ST_Geometry_Overleft" title="&amp;&lt;">&amp;&lt;</a>, <a class="xref" href="#ST_Geometry_Contain" title="~">~</a>, <a class="xref" href="#ST_Geometry_Contained" title="@">@</a> </p></div></div><div class="refentry" id="overlaps_geometry_box2df"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp;(geometry,box2df) — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation 2D (en cache) d'une géométrie intersecte une boîte de délimitation 2D de précision flottante (BOX2DF).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> geometry  <var class="pdparam">A</var> ,  box2df <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11573"><h2>Description</h2><p>L'opérateur <code class="varname">&amp;&amp;</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation 2D mise en cache de la géométrie A intersecte la boîte de délimitation 2D B, en utilisant la précision float. Cela signifie que si B est un box2d (double précision), il sera converti en interne en une boîte de délimitation 2D à précision flottante (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande est destiné à être utilisé en interne par les index BRIN, plus que par les utilisateurs.</p></td></tr></table></div><p class="availability">Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm11589"><h2>Exemples</h2><pre class="programlisting">
SELECT ST_Point(1,1) &amp;&amp; ST_MakeBox2D(ST_Point(0,0), ST_Point(2,2)) AS overlaps;

 overlaps
----------
 t
(1 row)
</pre></div><div class="refsection" id="idm11592"><h2>Voir aussi</h2><p><a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="overlaps_box2df_geometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp;(box2df,geometry) — Renvoie <code class="varname">TRUE</code> si une boîte de délimitation 2D de précision flottante (BOX2DF) intersecte la boîte de délimitation 2D (mise en cache) d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> box2df  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11619"><h2>Description</h2><p>L'opérateur <code class="varname">&amp;&amp;</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation 2D A intersecte la boîte de délimitation 2D mise en cache de la géométrie B, en utilisant la précision float. Cela signifie que si A est un box2d (double précision), il sera converti en interne en une boîte de délimitation 2D à précision flottante (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande est destiné à être utilisé en interne par les index BRIN, plus que par les utilisateurs.</p></td></tr></table></div><p class="availability">Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm11635"><h2>Exemples</h2><pre class="programlisting">
SELECT ST_MakeBox2D(ST_Point(0,0), ST_Point(2,2)) &amp;&amp; ST_Point(1,1) AS overlaps;

 overlaps
----------
 t
(1 row)
</pre></div><div class="refsection" id="idm11638"><h2>Voir aussi</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="overlaps_box2df_box2df"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp;(box2df,box2df) — Renvoie <code class="varname">TRUE</code> si deux boîtes de délimitation 2D à précision flottante (BOX2DF) se croisent.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> box2df  <var class="pdparam">A</var> ,  box2df  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11665"><h2>Description</h2><p>L'opérateur <code class="varname">&amp;&amp;</code> renvoie <code class="varname">TRUE</code> si deux boîtes de délimitation 2D A et B se croisent, en utilisant la précision float. Cela signifie que si A (ou B) est un box2d (double précision), il sera converti en interne en une boîte de délimitation 2D de précision flottante (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérateur est destiné à être utilisé en interne par les index BRIN, plus que par les utilisateurs.</p></td></tr></table></div><p class="availability">Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm11681"><h2>Exemples</h2><pre class="programlisting">
SELECT ST_MakeBox2D(ST_Point(0,0), ST_Point(2,2)) &amp;&amp; ST_MakeBox2D(ST_Point(1,1), ST_Point(3,3)) AS overlaps;

 overlaps
----------
 t
(1 row)
</pre></div><div class="refsection" id="idm11684"><h2>Voir aussi</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="geometry_overlaps_nd"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp;&amp; — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation n-D de A intersecte la boîte de délimitation n-D de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;&amp;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11711"><h2>Description</h2><p>L'opérateur <code class="varname">&amp;&amp;&amp;</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation n-D de la géométrie A intersecte la boîte de délimitation n-D de la géométrie B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette opérande utilisera tous les index qui peuvent être disponibles sur les géométries.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm11735"><h2>Exemples : LineStrings 3D</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &amp;&amp;&amp; tbl2.column2 AS overlaps_3d,
                                    tbl1.column2 &amp;&amp; tbl2.column2 AS overlaps_2d
FROM ( VALUES
        (1, 'LINESTRING Z(0 0 1, 3 3 2)'::geometry),
        (2, 'LINESTRING Z(1 2 0, 0 5 -1)'::geometry)) AS tbl1,
( VALUES
        (3, 'LINESTRING Z(1 2 1, 4 6 1)'::geometry)) AS tbl2;

 column1 | column1 | overlaps_3d | overlaps_2d
---------+---------+-------------+-------------
       1 |       3 | t           | t
       2 |       3 | f           | t

</pre></div><div class="refsection" id="idm11738"><h2>Exemples : LineStrings 3M</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &amp;&amp;&amp; tbl2.column2 AS overlaps_3zm,
                                    tbl1.column2 &amp;&amp; tbl2.column2 AS overlaps_2d
FROM ( VALUES
        (1, 'LINESTRING M(0 0 1, 3 3 2)'::geometry),
        (2, 'LINESTRING M(1 2 0, 0 5 -1)'::geometry)) AS tbl1,
( VALUES
        (3, 'LINESTRING M(1 2 1, 4 6 1)'::geometry)) AS tbl2;

 column1 | column1 | overlaps_3zm | overlaps_2d
---------+---------+-------------+-------------
       1 |       3 | t           | t
       2 |       3 | f           | t

</pre></div><div class="refsection" id="idm11741"><h2>Voir aussi</h2><p><a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a></p></div></div><div class="refentry" id="overlaps_nd_geometry_gidx"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp;&amp;(geometry,gidx) — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation n-D (en cache) d'une géométrie intersecte une boîte de délimitation de précision flottante n-D (GIDX).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;&amp;</strong>(</code> geometry  <var class="pdparam">A</var> ,  gidx  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11761"><h2>Description</h2><p>L'opérateur <code class="varname">&amp;&amp;&amp;</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation n-D mise en cache de la géométrie A intersecte la boîte de délimitation n-D B, en utilisant la précision float. Cela signifie que si B est un box3d (double précision), il sera converti en interne en une boîte de délimitation 3D de précision flottante (GIDX)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérateur est destiné à être utilisé en interne par les index BRIN, plus que par les utilisateurs.</p></td></tr></table></div><p class="availability">Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm11785"><h2>Exemples</h2><pre class="programlisting">
SELECT ST_MakePoint(1,1,1) &amp;&amp;&amp; ST_3DMakeBox(ST_MakePoint(0,0,0), ST_MakePoint(2,2,2)) AS overlaps;

 overlaps
----------
 t
(1 row)
</pre></div><div class="refsection" id="idm11788"><h2>Voir aussi</h2><p><a class="xref" href="#overlaps_nd_gidx_geometry" title="&amp;&amp;&amp;(gidx,geometry)">&amp;&amp;&amp;(gidx,geometry)</a>, <a class="xref" href="#overlaps_nd_gidx_gidx" title="&amp;&amp;&amp;(gidx,gidx)">&amp;&amp;&amp;(gidx,gidx)</a></p></div></div><div class="refentry" id="overlaps_nd_gidx_geometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp;&amp;(gidx,geometry) — Renvoie <code class="varname">TRUE</code> si une boîte de délimitation de précision flottante n-D (GIDX) intersecte la boîte de délimitation n-D (mise en cache) d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;&amp;</strong>(</code> gidx  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11809"><h2>Description</h2><p>L'opérateur <code class="varname">&amp;&amp;&amp;</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation n-D A intersecte la boîte de délimitation n-D mise en cache de la géométrie B, en utilisant la précision float. Cela signifie que si A est un box3d (à double précision), il sera converti en interne en une boîte de délimitation 3D à précision flottante (GIDX)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérateur est destiné à être utilisé en interne par les index BRIN, plus que par les utilisateurs.</p></td></tr></table></div><p class="availability">Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm11833"><h2>Exemples</h2><pre class="programlisting">
SELECT ST_3DMakeBox(ST_MakePoint(0,0,0), ST_MakePoint(2,2,2)) &amp;&amp;&amp; ST_MakePoint(1,1,1) AS overlaps;

 overlaps
----------
 t
(1 row)
</pre></div><div class="refsection" id="idm11836"><h2>Voir aussi</h2><p><a class="xref" href="#overlaps_nd_geometry_gidx" title="&amp;&amp;&amp;(geometry,gidx)">&amp;&amp;&amp;(geometry,gidx)</a>, <a class="xref" href="#overlaps_nd_gidx_gidx" title="&amp;&amp;&amp;(gidx,gidx)">&amp;&amp;&amp;(gidx,gidx)</a></p></div></div><div class="refentry" id="overlaps_nd_gidx_gidx"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp;&amp;(gidx,gidx) — Renvoie <code class="varname">TRUE</code> si deux boîtes de délimitation (GIDX) de précision flottante n-D se croisent.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;&amp;</strong>(</code> gidx  <var class="pdparam">A</var> ,  gidx  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11857"><h2>Description</h2><p>L'opérateur <code class="varname">&amp;&amp;&amp;</code> renvoie <code class="varname">TRUE</code> si deux boîtes de délimitation n-D A et B se croisent, en utilisant la précision float. Cela signifie que si A (ou B) est un box3d (double précision), il sera converti en interne en une boîte de délimitation 3D de précision flottante (GIDX)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérateur est destiné à être utilisé en interne par les index BRIN, plus que par les utilisateurs.</p></td></tr></table></div><p class="availability">Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm11881"><h2>Exemples</h2><pre class="programlisting">
SELECT ST_3DMakeBox(ST_MakePoint(0,0,0), ST_MakePoint(2,2,2)) &amp;&amp;&amp; ST_3DMakeBox(ST_MakePoint(1,1,1), ST_MakePoint(3,3,3)) AS overlaps;

 overlaps
----------
 t
(1 row)
</pre></div><div class="refsection" id="idm11884"><h2>Voir aussi</h2><p><a class="xref" href="#overlaps_nd_geometry_gidx" title="&amp;&amp;&amp;(geometry,gidx)">&amp;&amp;&amp;(geometry,gidx)</a>, <a class="xref" href="#overlaps_nd_gidx_geometry" title="&amp;&amp;&amp;(gidx,geometry)">&amp;&amp;&amp;(gidx,geometry)</a></p></div></div><div class="refentry" id="ST_Geometry_Overleft"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&lt; — Renvoie <code class="varname">TRUE</code> si la boîte englobante de A chevauche ou est à gauche de celle de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&lt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11905"><h2>Description</h2><p>L'opérateur <code class="varname">&amp;&lt;</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation de la géométrie A chevauche ou est à gauche de la boîte de délimitation de la géométrie B, ou plus exactement, chevauche ou n'est PAS à droite de la boîte de délimitation de la géométrie B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette opérande utilisera tous les index qui peuvent être disponibles sur les géométries.</p></td></tr></table></div></div><div class="refsection" id="idm11912"><h2>Exemples</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &amp;&lt; tbl2.column2 AS overleft
FROM
  ( VALUES
        (1, 'LINESTRING(1 2, 4 6)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING(0 0, 3 3)'::geometry),
        (3, 'LINESTRING(0 1, 0 5)'::geometry),
        (4, 'LINESTRING(6 0, 6 1)'::geometry)) AS tbl2;

 column1 | column1 | overleft
---------+---------+----------
           1 |       2 | f
           1 |       3 | f
           1 |       4 | t
(3 rows)
</pre></div><div class="refsection" id="idm11915"><h2>Voir aussi</h2><p><a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a>, <a class="xref" href="#ST_Geometry_Overabove" title="|&amp;&gt;">|&amp;&gt;</a>, <a class="xref" href="#ST_Geometry_Overright" title="&amp;&gt;">&amp;&gt;</a>, <a class="xref" href="#ST_Geometry_Overbelow" title="&amp;&lt;|">&amp;&lt;|</a></p></div></div><div class="refentry" id="ST_Geometry_Overbelow"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&lt;| — Renvoie <code class="varname">TRUE</code> si la boîte englobante de A chevauche ou est inférieure à celle de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&lt;|</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11938"><h2>Description</h2><p>L'opérateur <code class="varname">&amp;&lt;|</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation de la géométrie A chevauche ou est en dessous de la boîte de délimitation de la géométrie B, ou plus exactement, chevauche ou n'est PAS au-dessus de la boîte de délimitation de la géométrie B.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette opérande utilisera tous les index qui peuvent être disponibles sur les géométries.</p></td></tr></table></div></div><div class="refsection" id="idm11953"><h2>Exemples</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &amp;&lt;| tbl2.column2 AS overbelow
FROM
  ( VALUES
        (1, 'LINESTRING(6 0, 6 4)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING(0 0, 3 3)'::geometry),
        (3, 'LINESTRING(0 1, 0 5)'::geometry),
        (4, 'LINESTRING(1 2, 4 6)'::geometry)) AS tbl2;

 column1 | column1 | overbelow
---------+---------+-----------
           1 |       2 | f
           1 |       3 | t
           1 |       4 | t
(3 rows)
</pre></div><div class="refsection" id="idm11956"><h2>Voir aussi</h2><p><a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a>, <a class="xref" href="#ST_Geometry_Overabove" title="|&amp;&gt;">|&amp;&gt;</a>, <a class="xref" href="#ST_Geometry_Overright" title="&amp;&gt;">&amp;&gt;</a>, <a class="xref" href="#ST_Geometry_Overleft" title="&amp;&lt;">&amp;&lt;</a></p></div></div><div class="refentry" id="ST_Geometry_Overright"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&gt; — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A chevauche ou est à droite de celle de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&gt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11979"><h2>Description</h2><p>L'opérateur <code class="varname">&amp;&gt;</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation de la géométrie A chevauche ou est à droite de la boîte de délimitation de la géométrie B, ou plus exactement, chevauche ou n'est PAS à gauche de la boîte de délimitation de la géométrie B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette opérande utilisera tous les index qui peuvent être disponibles sur les géométries.</p></td></tr></table></div></div><div class="refsection" id="idm11986"><h2>Exemples</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &amp;
&gt; tbl2.column2 AS overright
FROM
  ( VALUES
        (1, 'LINESTRING(1 2, 4 6)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING(0 0, 3 3)'::geometry),
        (3, 'LINESTRING(0 1, 0 5)'::geometry),
        (4, 'LINESTRING(6 0, 6 1)'::geometry)) AS tbl2;

 column1 | column1 | overright
---------+---------+-----------
           1 |       2 | t
           1 |       3 | t
           1 |       4 | f
(3 rows)
</pre></div><div class="refsection" id="idm11989"><h2>Voir aussi</h2><p><a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a>, <a class="xref" href="#ST_Geometry_Overabove" title="|&amp;&gt;">|&amp;&gt;</a>, <a class="xref" href="#ST_Geometry_Overbelow" title="&amp;&lt;|">&amp;&lt;|</a>, <a class="xref" href="#ST_Geometry_Overleft" title="&amp;&lt;">&amp;&lt;</a></p></div></div><div class="refentry" id="ST_Geometry_Left"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&lt;&lt; — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A est strictement à gauche de celle de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&lt;&lt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12012"><h2>Description</h2><p>L'opérateur <code class="varname">&lt;&lt;</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation de la géométrie A est strictement à gauche de la boîte de délimitation de la géométrie B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette opérande utilisera tous les index qui peuvent être disponibles sur les géométries.</p></td></tr></table></div></div><div class="refsection" id="idm12019"><h2>Exemples</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &lt;&lt; tbl2.column2 AS left
FROM
  ( VALUES
        (1, 'LINESTRING (1 2, 1 5)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING (0 0, 4 3)'::geometry),
        (3, 'LINESTRING (6 0, 6 5)'::geometry),
        (4, 'LINESTRING (2 2, 5 6)'::geometry)) AS tbl2;

 column1 | column1 | left
---------+---------+------
           1 |       2 | f
           1 |       3 | t
           1 |       4 | t
(3 rows)
</pre></div><div class="refsection" id="idm12022"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Geometry_Right" title="&gt;&gt;">&gt;&gt;</a>, <a class="xref" href="#ST_Geometry_Above" title="|&gt;&gt;">|&gt;&gt;</a>, <a class="xref" href="#ST_Geometry_Below" title="&lt;&lt;|">&lt;&lt;|</a></p></div></div><div class="refentry" id="ST_Geometry_Below"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&lt;&lt;| — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A est strictement inférieure à celle de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&lt;&lt;|</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12044"><h2>Description</h2><p>L'opérateur <code class="varname">&lt;&lt;|</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation de la géométrie A est strictement inférieure à la boîte de délimitation de la géométrie B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette opérande utilisera tous les index qui peuvent être disponibles sur les géométries.</p></td></tr></table></div></div><div class="refsection" id="idm12051"><h2>Exemples</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &lt;&lt;| tbl2.column2 AS below
FROM
  ( VALUES
        (1, 'LINESTRING (0 0, 4 3)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING (1 4, 1 7)'::geometry),
        (3, 'LINESTRING (6 1, 6 5)'::geometry),
        (4, 'LINESTRING (2 3, 5 6)'::geometry)) AS tbl2;

 column1 | column1 | below
---------+---------+-------
           1 |       2 | t
           1 |       3 | f
           1 |       4 | f
(3 rows)
</pre></div><div class="refsection" id="idm12054"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Geometry_Left" title="&lt;&lt;">&lt;&lt;</a>, <a class="xref" href="#ST_Geometry_Right" title="&gt;&gt;">&gt;&gt;</a>, <a class="xref" href="#ST_Geometry_Above" title="|&gt;&gt;">|&gt;&gt;</a></p></div></div><div class="refentry" id="ST_Geometry_EQ"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>= — Renvoie <code class="varname">TRUE</code> si les coordonnées et l'ordre des coordonnées de la géométrie/géographie A sont les mêmes que les coordonnées et l'ordre des coordonnées de la géométrie/géographie B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">=</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">=</strong>(</code> geography  <var class="pdparam">A</var> ,  geography  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12085"><h2>Description</h2><p>L'opérateur <code class="varname">=</code> renvoie <code class="varname">TRUE</code> si les coordonnées et l'ordre des coordonnées de la géométrie/géographie A sont les mêmes que les coordonnées et l'ordre des coordonnées de la géométrie/géographie B. PostgreSQL utilise les opérateurs =, &lt;, et &gt; définis pour les géométries pour effectuer des classements internes et des comparaisons de géométries (c'est-à-dire dans une clause GROUP BY ou ORDER BY).</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Seules les géométries/géographies qui sont exactement égales à tous égards, avec les mêmes coordonnées, dans le même ordre, sont considérées comme égales par cet opérateur. Pour une "égalité spatiale", qui ignore des choses comme l'ordre des coordonnées, et peut détecter des caractéristiques qui couvrent la même zone spatiale avec des représentations différentes, utilisez <a class="xref" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a> ou <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a></p></td></tr></table></div><div class="caution"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Caution]" src="images/caution.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande n'utilisera PAS les index qui peuvent être disponibles sur les géométries. Pour un test d'égalité exact assisté par index, combinez = avec &amp;&amp;.</p></td></tr></table></div><p class="changed">Modifié : 2.4.0, dans les versions précédentes, il s'agissait d'une égalité de boîte de délimitation et non d'une égalité géométrique. Si vous avez besoin d'une égalité de boîte de délimitation, utilisez <a class="xref" href="#ST_Geometry_Same" title="~=">~=</a> à la place.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm12106"><h2>Exemples</h2><pre class="programlisting">
SELECT 'LINESTRING(0 0, 0 1, 1 0)'::geometry = 'LINESTRING(1 1, 0 0)'::geometry;
 ?column?
----------
 f
(1 row)

SELECT ST_AsText(column1)
FROM ( VALUES
        ('LINESTRING(0 0, 1 1)'::geometry),
        ('LINESTRING(1 1, 0 0)'::geometry)) AS foo;
          st_astext
---------------------
 LINESTRING(0 0,1 1)
 LINESTRING(1 1,0 0)
(2 rows)

-- Note: the GROUP BY uses the "=" to compare for geometry equivalency.
SELECT ST_AsText(column1)
FROM ( VALUES
        ('LINESTRING(0 0, 1 1)'::geometry),
        ('LINESTRING(1 1, 0 0)'::geometry)) AS foo
GROUP BY column1;
      st_astext
---------------------
 LINESTRING(0 0,1 1)
 LINESTRING(1 1,0 0)
(2 rows)

-- In versions prior to 2.0, this used to return true --
 SELECT ST_GeomFromText('POINT(1707296.37 4820536.77)') =
        ST_GeomFromText('POINT(1707296.27 4820536.87)') As pt_intersect;

--pt_intersect --
f

</pre></div><div class="refsection" id="idm12109"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a>, <a class="xref" href="#ST_Geometry_Same" title="~=">~=</a> </p></div></div><div class="refentry" id="ST_Geometry_Right"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&gt;&gt; — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A est strictement à droite de celle de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&gt;&gt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12131"><h2>Description</h2><p>L'opérateur <code class="varname">&gt;&gt;</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation de la géométrie A est strictement à droite de la boîte de délimitation de la géométrie B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette opérande utilisera tous les index qui peuvent être disponibles sur les géométries.</p></td></tr></table></div></div><div class="refsection" id="idm12138"><h2>Exemples</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 
&gt;
&gt; tbl2.column2 AS right
FROM
  ( VALUES
        (1, 'LINESTRING (2 3, 5 6)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING (1 4, 1 7)'::geometry),
        (3, 'LINESTRING (6 1, 6 5)'::geometry),
        (4, 'LINESTRING (0 0, 4 3)'::geometry)) AS tbl2;

 column1 | column1 | right
---------+---------+-------
           1 |       2 | t
           1 |       3 | f
           1 |       4 | f
(3 rows)
</pre></div><div class="refsection" id="idm12141"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Geometry_Left" title="&lt;&lt;">&lt;&lt;</a>, <a class="xref" href="#ST_Geometry_Above" title="|&gt;&gt;">|&gt;&gt;</a>, <a class="xref" href="#ST_Geometry_Below" title="&lt;&lt;|">&lt;&lt;|</a></p></div></div><div class="refentry" id="ST_Geometry_Contained"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>@ — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A est contenue par celle de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">@</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12163"><h2>Description</h2><p>L'opérateur <code class="varname">@</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation de la géométrie A est complètement contenue par la boîte de délimitation de la géométrie B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette opérande utilisera tous les index qui peuvent être disponibles sur les géométries.</p></td></tr></table></div></div><div class="refsection" id="idm12170"><h2>Exemples</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 @ tbl2.column2 AS contained
FROM
  ( VALUES
        (1, 'LINESTRING (1 1, 3 3)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING (0 0, 4 4)'::geometry),
        (3, 'LINESTRING (2 2, 4 4)'::geometry),
        (4, 'LINESTRING (1 1, 3 3)'::geometry)) AS tbl2;

 column1 | column1 | contained
---------+---------+-----------
           1 |       2 | t
           1 |       3 | f
           1 |       4 | t
(3 rows)
</pre></div><div class="refsection" id="idm12173"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Geometry_Contain" title="~">~</a>, <a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a></p></div></div><div class="refentry" id="is_contained_geometry_box2df"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>@(geometry,box2df) — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation 2D d'une géométrie est contenue dans une boîte de délimitation 2D à précision flottante (BOX2DF).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">@</strong>(</code> geometry  <var class="pdparam">A</var> ,  box2df  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12194"><h2>Description</h2><p>L'opérateur <code class="varname">@</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation 2D de la géométrie A est contenue dans la boîte de délimitation 2D B, en utilisant la précision float. Cela signifie que si B est un box2d (double précision), il sera converti en interne en une boîte de délimitation 2D de précision flottante (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande est destiné à être utilisé en interne par les index BRIN, plus que par les utilisateurs.</p></td></tr></table></div><p class="availability">Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm12210"><h2>Exemples</h2><pre class="programlisting">SELECT ST_Buffer(ST_GeomFromText('POINT(2 2)'), 1) @ ST_MakeBox2D(ST_Point(0,0), ST_Point(5,5)) AS is_contained;

 is_contained
--------------
 t
(1 row)</pre></div><div class="refsection" id="idm12213"><h2>Voir aussi</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="is_contained_box2df_geometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>@(box2df,geometry) — Renvoie <code class="varname">TRUE</code> si une boîte de délimitation de précision flottante 2D (BOX2DF) est contenue dans la boîte de délimitation 2D d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">@</strong>(</code> box2df  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12240"><h2>Description</h2><p>L'opérateur <code class="varname">@</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation 2D A est contenue dans la boîte de délimitation 2D de la géométrie B, en utilisant la précision float. Cela signifie que si B est un box2d (double précision), il sera converti en interne en une boîte de délimitation 2D de précision flottante (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande est destiné à être utilisé en interne par les index BRIN, plus que par les utilisateurs.</p></td></tr></table></div><p class="availability">Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm12256"><h2>Exemples</h2><pre class="programlisting">SELECT ST_MakeBox2D(ST_Point(2,2), ST_Point(3,3)) @ ST_Buffer(ST_GeomFromText('POINT(1 1)'), 10) AS is_contained;

 is_contained
--------------
 t
(1 row)</pre></div><div class="refsection" id="idm12259"><h2>Voir aussi</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="is_contained_box2df_box2df"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>@(box2df,box2df) — Renvoie <code class="varname">TRUE</code> si une boîte de délimitation de précision flottante 2D (BOX2DF) est contenue dans une autre boîte de délimitation de précision flottante 2D.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">@</strong>(</code> box2df  <var class="pdparam">A</var> ,  box2df  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12286"><h2>Description</h2><p>L'opérateur <code class="varname">@</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation 2D A est contenue dans la boîte de délimitation 2D B, en utilisant la précision float. Cela signifie que si A (ou B) est un box2d (double précision), il sera converti en interne en une boîte de délimitation 2D à précision flottante (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande est destiné à être utilisé en interne par les index BRIN, plus que par les utilisateurs.</p></td></tr></table></div><p class="availability">Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm12302"><h2>Exemples</h2><pre class="programlisting">SELECT ST_MakeBox2D(ST_Point(2,2), ST_Point(3,3)) @ ST_MakeBox2D(ST_Point(0,0), ST_Point(5,5)) AS is_contained;

 is_contained
--------------
 t
(1 row)</pre></div><div class="refsection" id="idm12305"><h2>Voir aussi</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a></p></div></div><div class="refentry" id="ST_Geometry_Overabove"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>|&amp;&gt; — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A chevauche ou est au-dessus de celle de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">|&amp;&gt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12332"><h2>Description</h2><p>L'opérateur <code class="varname">|&amp;&gt;</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation de la géométrie A chevauche ou est au-dessus de la boîte de délimitation de la géométrie B, ou plus exactement, chevauche ou n'est PAS au-dessous de la boîte de délimitation de la géométrie B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette opérande utilisera tous les index qui peuvent être disponibles sur les géométries.</p></td></tr></table></div></div><div class="refsection" id="idm12339"><h2>Exemples</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 |&amp;
&gt; tbl2.column2 AS overabove
FROM
  ( VALUES
        (1, 'LINESTRING(6 0, 6 4)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING(0 0, 3 3)'::geometry),
        (3, 'LINESTRING(0 1, 0 5)'::geometry),
        (4, 'LINESTRING(1 2, 4 6)'::geometry)) AS tbl2;

 column1 | column1 | overabove
---------+---------+-----------
           1 |       2 | t
           1 |       3 | f
           1 |       4 | f
(3 rows)
</pre></div><div class="refsection" id="idm12342"><h2>Voir aussi</h2><p><a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a>, <a class="xref" href="#ST_Geometry_Overright" title="&amp;&gt;">&amp;&gt;</a>, <a class="xref" href="#ST_Geometry_Overbelow" title="&amp;&lt;|">&amp;&lt;|</a>, <a class="xref" href="#ST_Geometry_Overleft" title="&amp;&lt;">&amp;&lt;</a></p></div></div><div class="refentry" id="ST_Geometry_Above"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>|&gt;&gt; — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A est strictement au-dessus de celle de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">|&gt;&gt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12365"><h2>Description</h2><p>L'opérateur <code class="varname">|&gt;&gt;</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation de la géométrie A est strictement au-dessus de la boîte de délimitation de la géométrie B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette opérande utilisera tous les index qui peuvent être disponibles sur les géométries.</p></td></tr></table></div></div><div class="refsection" id="idm12372"><h2>Exemples</h2><pre class="programlisting">SELECT tbl1.column1, tbl2.column1, tbl1.column2 |&gt;&gt; tbl2.column2 AS above
FROM
  ( VALUES
        (1, 'LINESTRING (1 4, 1 7)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING (0 0, 4 2)'::geometry),
        (3, 'LINESTRING (6 1, 6 5)'::geometry),
        (4, 'LINESTRING (2 3, 5 6)'::geometry)) AS tbl2;

 column1 | column1 | above
---------+---------+-------
           1 |       2 | t
           1 |       3 | f
           1 |       4 | f
(3 rows)</pre></div><div class="refsection" id="idm12375"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Geometry_Left" title="&lt;&lt;">&lt;&lt;</a>, <a class="xref" href="#ST_Geometry_Right" title="&gt;&gt;">&gt;&gt;</a>, <a class="xref" href="#ST_Geometry_Below" title="&lt;&lt;|">&lt;&lt;|</a></p></div></div><div class="refentry" id="ST_Geometry_Contain"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>~ — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A contient celle de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">~</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12397"><h2>Description</h2><p>L'opérateur <code class="varname">~</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation de la géométrie A contient complètement la boîte de délimitation de la géométrie B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette opérande utilisera tous les index qui peuvent être disponibles sur les géométries.</p></td></tr></table></div></div><div class="refsection" id="idm12404"><h2>Exemples</h2><pre class="programlisting">SELECT tbl1.column1, tbl2.column1, tbl1.column2 ~ tbl2.column2 AS contains
FROM
  ( VALUES
        (1, 'LINESTRING (0 0, 3 3)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING (0 0, 4 4)'::geometry),
        (3, 'LINESTRING (1 1, 2 2)'::geometry),
        (4, 'LINESTRING (0 0, 3 3)'::geometry)) AS tbl2;

 column1 | column1 | contains
---------+---------+----------
           1 |       2 | f
           1 |       3 | t
           1 |       4 | t
(3 rows)</pre></div><div class="refsection" id="idm12407"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Geometry_Contained" title="@">@</a>, <a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a></p></div></div><div class="refentry" id="contains_geometry_box2df"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>~(geometry,box2df) — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation 2D d'une géométrie contient une boîte de délimitation de précision flottante 2D (GIDX).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">~</strong>(</code> geometry  <var class="pdparam">A</var> ,  box2df  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12428"><h2>Description</h2><p>L'opérateur <code class="varname">~</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation 2D d'une géométrie A contient la boîte de délimitation 2D B, en utilisant la précision float. Cela signifie que si B est un box2d (double précision), il sera converti en interne en une boîte de délimitation 2D de précision flottante (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande est destiné à être utilisé en interne par les index BRIN, plus que par les utilisateurs.</p></td></tr></table></div><p class="availability">Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm12444"><h2>Exemples</h2><pre class="programlisting">SELECT ST_Buffer(ST_GeomFromText('POINT(1 1)'), 10) ~ ST_MakeBox2D(ST_Point(0,0), ST_Point(2,2)) AS contains;

 contains
----------
 t
(1 row)</pre></div><div class="refsection" id="idm12447"><h2>Voir aussi</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="contains_box2df_geometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>~(box2df,geometry) — Renvoie <code class="varname">TRUE</code> si une boîte de délimitation de précision flottante 2D (BOX2DF) contient la boîte de délimitation 2D d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">~</strong>(</code> box2df  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12474"><h2>Description</h2><p>L'opérateur <code class="varname">~</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation 2D A contient la boîte de délimitation de la géométrie B, en utilisant la précision float. Cela signifie que si A est un box2d (double précision), il sera converti en interne en une boîte de délimitation 2D de précision flottante (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande est destiné à être utilisé en interne par les index BRIN, plus que par les utilisateurs.</p></td></tr></table></div><p class="availability">Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm12490"><h2>Exemples</h2><pre class="programlisting">SELECT ST_MakeBox2D(ST_Point(0,0), ST_Point(5,5)) ~ ST_Buffer(ST_GeomFromText('POINT(2 2)'), 1) AS contains;

 contains
----------
 t
(1 row)</pre></div><div class="refsection" id="idm12493"><h2>Voir aussi</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="contains_box2df_box2df"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>~(box2df,box2df) — Renvoie <code class="varname">TRUE</code> si une boîte de délimitation de précision flottante 2D (BOX2DF) contient une autre boîte de délimitation de précision flottante 2D (BOX2DF).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">~</strong>(</code> box2df  <var class="pdparam">A</var> ,  box2df  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12520"><h2>Description</h2><p>L'opérateur <code class="varname">~</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation 2D A contient la boîte de délimitation 2D B, en utilisant la précision float. Cela signifie que si A est un box2d (double précision), il sera converti en interne en une boîte de délimitation 2D de précision flottante (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande est destiné à être utilisé en interne par les index BRIN, plus que par les utilisateurs.</p></td></tr></table></div><p class="availability">Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm12536"><h2>Exemples</h2><pre class="programlisting">SELECT ST_MakeBox2D(ST_Point(0,0), ST_Point(5,5)) ~ ST_MakeBox2D(ST_Point(2,2), ST_Point(3,3)) AS contains;

 contains
----------
 t
(1 row)</pre></div><div class="refsection" id="idm12539"><h2>Voir aussi</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="ST_Geometry_Same"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>~= — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A est la même que celle de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">~=</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12566"><h2>Description</h2><p>L'opérateur <code class="varname">~=</code> renvoie <code class="varname">TRUE</code> si la boîte de délimitation de la géométrie/géographie A est la même que la boîte de délimitation de la géométrie/géographie B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette opérande utilisera tous les index qui peuvent être disponibles sur les géométries.</p></td></tr></table></div><p class="availability">Disponibilité : 1.5.0 comportement changé</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérateur a changé de comportement dans PostGIS 1.5, passant de la vérification de l'égalité géométrique réelle à la vérification de l'égalité du rectangle de délimitation. Pour compliquer les choses, le comportement de votre base de données dépend également du type de mise à niveau (hard ou soft) que vous avez effectué. Pour savoir quel est le comportement de votre base de données, vous pouvez exécuter la requête ci-dessous. Pour vérifier l'égalité réelle, utilisez <a class="xref" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a> ou <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>.</p></td></tr></table></div></div><div class="refsection" id="idm12582"><h2>Exemples</h2><pre class="programlisting">select 'LINESTRING(0 0, 1 1)'::geometry ~= 'LINESTRING(0 1, 1 0)'::geometry as equality;
 equality   |
-----------------+
          t    |
                        </pre></div><div class="refsection" id="idm12585"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a>, <a class="xref" href="#ST_Geometry_EQ" title="=">=</a></p></div></div></section><section class="section" id="operators-distance"><div class="titlepage"><div><div><h3 class="title">7.10.2. Opérateurs de distance</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#geometry_distance_knn">&lt;-&gt;</a></span><span class="refpurpose"> — Renvoie la distance en 2D entre A et B. </span></li><li><span class="refentrytitle"><a href="#geometry_distance_cpa">|=|</a></span><span class="refpurpose"> — Renvoie la distance entre les trajectoires A et B à leur point d'approche le plus proche. </span></li><li><span class="refentrytitle"><a href="#geometry_distance_box">&lt;#&gt;</a></span><span class="refpurpose"> — Renvoie la distance 2D entre les boîtes de délimitation A et B. </span></li><li><span class="refentrytitle"><a href="#geometry_distance_centroid_nd">&lt;&lt;-&gt;&gt;</a></span><span class="refpurpose"> — Renvoie la distance n-D entre les géométries A et B ou les boîtes englobantes </span></li></ul></div><div class="refentry" id="geometry_distance_knn"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&lt;-&gt; — Renvoie la distance en 2D entre A et B. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">&lt;-&gt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">&lt;-&gt;</strong>(</code> geography  <var class="pdparam">A</var> ,  geography  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12617"><h2>Description</h2><p>L'opérateur <code class="varname">&lt;-&gt;</code> renvoie la distance 2D entre deux géométries. Utilisé dans la clause "ORDER BY" fournit des ensembles de résultats de plus proches voisins assistés par index. Pour PostgreSQL inférieur à 9.5, donne uniquement la distance centroïde des boîtes englobantes et pour PostgreSQL 9.5+, fait une vraie recherche de distance KNN donnant la vraie distance entre les géométries, et la sphère de distance pour les géographies. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande utilise les index 2D GiST qui peuvent être disponibles sur les géométries. Il est différent des autres opérateurs qui utilisent des index spatiaux en ce sens que l'index spatial n'est utilisé que lorsque l'opérateur est dans la clause ORDER BY.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'index n'intervient que si l'une des géométries est une constante (pas dans une sous-requête/cte). Par exemple, 'SRID=3005;POINT(1011102 450541)'::geometry au lieu de a.geom</p></td></tr></table></div><p>Reportez-vous à <a class="link" href="https://postgis.net/workshops/postgis-intro/knn.html" target="_top">l'atelier PostGIS : La recherche du plus proche voisin</a> pour un exemple détaillé.</p><p class="enhanced">Amélioré : 2.2.0 -- Comportement KNN ("K nearest neighbor") réel pour la géométrie et la géographie pour PostgreSQL 9.5+. Note : pour la géographie, KNN est basé sur la sphère plutôt que sur le sphéroïde. Pour PostgreSQL 9.4 et moins, le support de la géographie est nouveau mais ne supporte que le centroïde de la boîte de délimitation.</p><p class="changed">Modifié : 2.2.0 -- Pour les utilisateurs de PostgreSQL 9.5, l'ancienne syntaxe Hybrid peut être plus lente, donc vous voudrez vous débarrasser de ce hack si vous exécutez votre code uniquement sur PostGIS 2.2+ 9.5+. Voir les exemples ci-dessous.</p><p class="availability">Disponibilité : 2.0.0 -- Le KNN fournit des voisins les plus proches basés sur les distances entre les centroïdes géométriques au lieu des distances réelles. Résultats exacts pour les points, inexacts pour tous les autres types. Disponible pour PostgreSQL 9.1+</p></div><div class="refsection" id="idm12630"><h2>Exemples</h2><pre class="programlisting">SELECT ST_Distance(geom, 'SRID=3005;POINT(1011102 450541)'::geometry) as d,edabbr, vaabbr
FROM va2005
ORDER BY d limit 10;

        d         | edabbr | vaabbr
------------------+--------+--------
                0 | ALQ    | 128
 5541.57712511724 | ALQ    | 129A
 5579.67450712005 | ALQ    | 001
  6083.4207708641 | ALQ    | 131
  7691.2205404848 | ALQ    | 003
 7900.75451037313 | ALQ    | 122
 8694.20710669982 | ALQ    | 129B
 9564.24289057111 | ALQ    | 130
  12089.665931705 | ALQ    | 127
 18472.5531479404 | ALQ    | 002
(10 rows)
</pre><p>Puis la réponse brute KNN : </p><pre class="programlisting">
SELECT st_distance(geom, 'SRID=3005;POINT(1011102 450541)'::geometry) as d,edabbr, vaabbr
FROM va2005
ORDER BY geom &lt;-&gt; 'SRID=3005;POINT(1011102 450541)'::geometry limit 10;

        d         | edabbr | vaabbr
------------------+--------+--------
                0 | ALQ    | 128
 5541.57712511724 | ALQ    | 129A
 5579.67450712005 | ALQ    | 001
  6083.4207708641 | ALQ    | 131
  7691.2205404848 | ALQ    | 003
 7900.75451037313 | ALQ    | 122
 8694.20710669982 | ALQ    | 129B
 9564.24289057111 | ALQ    | 130
  12089.665931705 | ALQ    | 127
 18472.5531479404 | ALQ    | 002
(10 rows)

</pre><p>Si vous exécutez "EXPLAIN ANALYZE" sur les deux requêtes, vous constaterez une amélioration des performances pour la seconde. </p><p>Pour les utilisateurs utilisant PostgreSQL &lt; 9.5, utilisez une requête hybride pour trouver les vrais plus proches voisins. D'abord une requête CTE utilisant le KNN assisté par index, puis une requête exacte pour obtenir l'ordre correct : </p><pre class="programlisting">
WITH index_query AS (
  SELECT ST_Distance(geom, 'SRID=3005;POINT(1011102 450541)'::geometry) as d,edabbr, vaabbr
        FROM va2005
  ORDER BY geom &lt;-&gt; 'SRID=3005;POINT(1011102 450541)'::geometry LIMIT 100)
  SELECT *
        FROM index_query
  ORDER BY d limit 10;

        d         | edabbr | vaabbr
------------------+--------+--------
                0 | ALQ    | 128
 5541.57712511724 | ALQ    | 129A
 5579.67450712005 | ALQ    | 001
  6083.4207708641 | ALQ    | 131
  7691.2205404848 | ALQ    | 003
 7900.75451037313 | ALQ    | 122
 8694.20710669982 | ALQ    | 129B
 9564.24289057111 | ALQ    | 130
  12089.665931705 | ALQ    | 127
 18472.5531479404 | ALQ    | 002
(10 rows)


</pre></div><div class="refsection" id="idm12638"><h2>Voir aussi</h2><p><a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#geometry_distance_box" title="&lt;#&gt;">&lt;#&gt;</a></p></div></div><div class="refentry" id="geometry_distance_cpa"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>|=| — Renvoie la distance entre les trajectoires A et B à leur point d'approche le plus proche. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">|=|</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12659"><h2>Description</h2><p>L'opérateur <code class="varname">|=|</code> renvoie la distance 3D entre deux trajectoires (Voir <a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>). C'est la même chose que <a class="xref" href="#ST_DistanceCPA" title="ST_DistanceCPA">ST_DistanceCPA</a> mais en tant qu'opérateur, il peut être utilisé pour effectuer des recherches du plus proche voisin en utilisant un index à N dimensions (nécessite PostgreSQL 9.5.0 ou plus). </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande utilisera les index ND GiST qui peuvent être disponibles sur les géométries. Il est différent des autres opérateurs qui utilisent des index spatiaux en ce sens que l'index spatial n'est utilisé que lorsque l'opérateur est dans la clause ORDER BY.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'index n'intervient que si l'une des géométries est une constante (pas dans une sous-requête/cte). Par exemple, 'SRID=3005;LINESTRINGM(0 0 0,0 0 1)'::geometry au lieu de a.geom</p></td></tr></table></div><p class="availability">Disponibilité : 2.2.0. La prise en charge des index est disponible uniquement pour PostgreSQL 9.5+</p></div><div class="refsection" id="idm12670"><h2>Exemples</h2><pre class="programlisting">-- Save a literal query trajectory in a psql variable...
\set qt 'ST_AddMeasure(ST_MakeLine(ST_MakePointM(-350,300,0),ST_MakePointM(-410,490,0)),10,20)'
-- Run the query !
SELECT track_id, dist FROM (
  SELECT track_id, ST_DistanceCPA(tr,:qt) dist
  FROM trajectories
  ORDER BY tr |=| :qt
  LIMIT 5
) foo;
 track_id        dist
----------+-------------------
      395 | 0.576496831518066
      380 |  5.06797130410151
      390 |  7.72262293958322
      385 |   9.8004461358071
      405 |  10.9534397988433
(5 rows)
</pre></div><div class="refsection" id="idm12673"><h2>Voir aussi</h2><p><a class="xref" href="#ST_DistanceCPA" title="ST_DistanceCPA">ST_DistanceCPA</a>, <a class="xref" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a>, <a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a> </p></div></div><div class="refentry" id="geometry_distance_box"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&lt;#&gt; — Renvoie la distance 2D entre les boîtes de délimitation A et B. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">&lt;#&gt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12694"><h2>Description</h2><p>L'opérateur <code class="varname">&lt;#&gt;</code> renvoie la distance entre deux boîtes de délimitation en virgule flottante, en les lisant éventuellement à partir d'un index spatial (PostgreSQL 9.1+ requis). Utile pour effectuer un ordonnancement par distance du plus proche voisin <span class="strong"><strong>approximate</strong></span>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande utilisera tous les index qui peuvent être disponibles sur les géométries. Il est différent des autres opérateurs qui utilisent des index spatiaux en ce sens que l'index spatial n'est utilisé que lorsque l'opérateur est dans la clause ORDER BY.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'index n'intervient que si l'une des géométries est une constante, par exemple ORDER BY (ST_GeomFromText('POINT(1 2)') &lt;#&gt; geom) au lieu de g1.geom &lt;#&gt;.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0 -- KNN disponible uniquement pour PostgreSQL 9.1+</p></div><div class="refsection" id="idm12704"><h2>Exemples</h2><pre class="programlisting">
SELECT *
FROM (
SELECT b.tlid, b.mtfcc,
        b.geom &lt;#
&gt; ST_GeomFromText('LINESTRING(746149 2948672,745954 2948576,
                745787 2948499,745740 2948468,745712 2948438,
                745690 2948384,745677 2948319)',2249) As b_dist,
                ST_Distance(b.geom, ST_GeomFromText('LINESTRING(746149 2948672,745954 2948576,
                745787 2948499,745740 2948468,745712 2948438,
                745690 2948384,745677 2948319)',2249)) As act_dist
    FROM bos_roads As b
    ORDER BY b_dist, b.tlid
    LIMIT 100) As foo
    ORDER BY act_dist, tlid LIMIT 10;

   tlid    | mtfcc |      b_dist      |     act_dist
-----------+-------+------------------+------------------
  85732027 | S1400 |                0 |                0
  85732029 | S1400 |                0 |                0
  85732031 | S1400 |                0 |                0
  85734335 | S1400 |                0 |                0
  85736037 | S1400 |                0 |                0
 624683742 | S1400 |                0 | 128.528874268666
  85719343 | S1400 | 260.839270432962 | 260.839270432962
  85741826 | S1400 | 164.759294123275 | 260.839270432962
  85732032 | S1400 |           277.75 | 311.830282365264
  85735592 | S1400 |           222.25 | 311.830282365264
(10 rows)

</pre></div><div class="refsection" id="idm12707"><h2>Voir aussi</h2><p><a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a></p></div></div><div class="refentry" id="geometry_distance_centroid_nd"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&lt;&lt;-&gt;&gt; — Renvoie la distance n-D entre les géométries A et B ou les boîtes englobantes </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">&lt;&lt;-&gt;&gt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12728"><h2>Description</h2><p>L'opérateur <code class="varname">&lt;&lt;-&gt;&gt;</code> renvoie la distance n-D (euclidienne) entre les centroïdes des boîtes englobantes de deux géométries. Utile pour effectuer le classement par distance du plus proche voisin <span class="strong"><strong>approximate</strong></span>. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande utilise les index GiST n-D qui peuvent être disponibles sur les géométries. Il est différent des autres opérateurs qui utilisent des index spatiaux en ce sens que l'index spatial n'est utilisé que lorsque l'opérateur est dans la clause ORDER BY. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'index n'intervient que si l'une des géométries est une constante (pas dans une sous-requête/cte). Par exemple, 'SRID=3005;POINT(1011102 450541)'::geometry au lieu de a.geom </p></td></tr></table></div><p class="availability">Disponibilité : 2.2.0 -- KNN disponible uniquement pour PostgreSQL 9.1+</p></div><div class="refsection" id="idm12738"><h2>Voir aussi</h2><p>
<a class="xref" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a>
      </p></div></div></section></section><section class="section" id="Spatial_Relationships"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.11. Relations spatiales</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions déterminent les relations spatiales entre les géométries.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#idm12747">7.11.1. Relations topologiques</a></span></li><li><span class="section"><a href="#idm14025">7.11.2. Relations de distance</a></span></li></ul></div><section class="section" id="idm12747"><div class="titlepage"><div><div><h3 class="title">7.11.1. Relations topologiques</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_3DIntersects">ST_3DIntersects</a></span><span class="refpurpose"> — Teste si deux géométries se croisent dans l'espace en 3D - uniquement pour les points, les lignes, les polygones, les surfaces polyédriques (aire) </span></li><li><span class="refentrytitle"><a href="#ST_Contains">ST_Contains</a></span><span class="refpurpose"> — Tests si chaque point de B est situé dans A, et que leurs intérieurs ont un point commun</span></li><li><span class="refentrytitle"><a href="#ST_ContainsProperly">ST_ContainsProperly</a></span><span class="refpurpose"> — Tests si chaque point de B se trouve à l'intérieur de A</span></li><li><span class="refentrytitle"><a href="#ST_CoveredBy">ST_CoveredBy</a></span><span class="refpurpose"> — Tests si chaque point de A se trouve dans B</span></li><li><span class="refentrytitle"><a href="#ST_Covers">ST_Covers</a></span><span class="refpurpose"> — Tests si chaque point de B est situé dans A</span></li><li><span class="refentrytitle"><a href="#ST_Crosses">ST_Crosses</a></span><span class="refpurpose"> — Teste si deux géométries ont en commun certains points intérieurs, mais pas tous</span></li><li><span class="refentrytitle"><a href="#ST_Disjoint">ST_Disjoint</a></span><span class="refpurpose"> — Teste si deux géométries n'ont pas de points communs </span></li><li><span class="refentrytitle"><a href="#ST_Equals">ST_Equals</a></span><span class="refpurpose"> — Teste si deux géométries comprennent le même ensemble de points</span></li><li><span class="refentrytitle"><a href="#ST_Intersects">ST_Intersects</a></span><span class="refpurpose"> — Teste si deux géométries se croisent (elles ont au moins un point en commun)</span></li><li><span class="refentrytitle"><a href="#ST_LineCrossingDirection">ST_LineCrossingDirection</a></span><span class="refpurpose"> — Renvoie un nombre indiquant le comportement de croisement de deux LineStrings</span></li><li><span class="refentrytitle"><a href="#ST_OrderingEquals">ST_OrderingEquals</a></span><span class="refpurpose"> — Teste si deux géométries représentent la même géométrie et ont des points dans le même ordre directionnel</span></li><li><span class="refentrytitle"><a href="#ST_Overlaps">ST_Overlaps</a></span><span class="refpurpose"> — Teste si deux géométries ont la même dimension et se croisent, mais si chacune a au moins un point qui n'est pas dans l'autre</span></li><li><span class="refentrytitle"><a href="#ST_Relate">ST_Relate</a></span><span class="refpurpose"> — Teste si deux géométries ont une relation topologique correspondant à un modèle de matrice d'intersection, ou calcule leur matrice d'intersection </span></li><li><span class="refentrytitle"><a href="#ST_RelateMatch">ST_RelateMatch</a></span><span class="refpurpose"> — Teste si une matrice d'intersection DE-9IM correspond à un modèle de matrice d'intersection </span></li><li><span class="refentrytitle"><a href="#ST_Touches">ST_Touches</a></span><span class="refpurpose"> — Teste si deux géométries ont au moins un point en commun, mais que leurs intérieurs ne se croisent pas</span></li><li><span class="refentrytitle"><a href="#ST_Within">ST_Within</a></span><span class="refpurpose"> — Tests si chaque point de A se trouve dans B, et que leurs intérieurs ont un point commun</span></li></ul></div><div class="refentry" id="ST_3DIntersects"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DIntersects — Teste si deux géométries se croisent dans l'espace en 3D - uniquement pour les points, les lignes, les polygones, les surfaces polyédriques (aire) </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_3DIntersects</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12764"><h2>Description</h2><p>Overlaps, Touches, Within impliquent tous une intersection spatiale. Si l'un des éléments susmentionnés renvoie un résultat positif, les géométries se recoupent également dans l'espace. Disjoint implique faux pour l'intersection spatiale.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction inclut une comparaison de la boîte englobante qui utilise tous les index disponibles sur les géométries. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>En raison des défaillances de la robustesse flottante, les géométries ne se croisent pas toujours comme on s'y attendrait après le traitement géométrique. Par exemple, le point le plus proche d'une géométrie sur une ligne peut ne pas se trouver sur la ligne. Pour ce type de problèmes, lorsqu'une distance d'un centimètre est considérée comme une intersection, utilisez <a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a>.</p></td></tr></table></div><p class="changed">Modifié : 3.0.0 SFCGAL backend supprimé, GEOS backend supporte les TINs.</p><p class="availability">Disponibilité : 2.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 5.1</p></div><div class="refsection" id="idm12790"><h2>Exemples de géométrie</h2><pre class="programlisting">SELECT ST_3DIntersects(pt, line), ST_Intersects(pt, line)
  FROM (SELECT 'POINT(0 0 2)'::geometry As pt, 'LINESTRING (0 0 1, 0 2 3)'::geometry As line) As foo;
 st_3dintersects | st_intersects
-----------------+---------------
 f               | t
(1 row)
    </pre></div><div class="refsection" id="idm12793"><h2>Exemples TIN</h2><pre class="programlisting">SELECT ST_3DIntersects('TIN(((0 0 0,1 0 0,0 1 0,0 0 0)))'::geometry, 'POINT(.1 .1 0)'::geometry);
 st_3dintersects
-----------------
 t</pre></div><div class="refsection" id="idm12796"><h2>Voir aussi</h2><p><a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a></p></div></div><div class="refentry" id="ST_Contains"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Contains — Tests si chaque point de B est situé dans A, et que leurs intérieurs ont un point commun</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Contains</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var><code>)</code>;</p></div></div><div class="refsection" id="idm12816"><h2>Description</h2><p>Renvoie TRUE si la géométrie A contient la géométrie B. A contient B si et seulement si tous les points de B se trouvent à l'intérieur (c'est-à-dire à l'intérieur ou à la limite) de A (ou, de manière équivalente, si aucun point de B ne se trouve à l'extérieur de A), et si les intérieurs de A et de B ont au moins un point en commun. </p><p>En termes mathématiques : <span class="emphasis"><em>ST_Contains(A, B) ⇔ (A ⋂ B = B) ∧ (Int(A) ⋂ Int(B) ≠ ∅). </em></span></p><p>La relation contains est réflexive : toute géométrie se contient elle-même. (En revanche, dans le prédicat <a class="xref" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>, une géométrie ne se contient<span class="emphasis"><em>pas</em></span> elle-même correctement). La relation est antisymétrique : si <code class="code">ST_Contains(A,B) = true</code> et <code class="code">ST_Contains(B,A) = true</code>, alors les deux géométries doivent être topologiquement égales (<code class="code">ST_Equals(A,B) = true</code>). </p><p>ST_Contains est le contraire de <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a>. Ainsi, <code class="code">ST_Contains(A,B) = ST_Within(B,A)</code>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Comme les intérieurs doivent avoir un point commun, une subtilité de la définition est que les polygones et les lignes ne contiennent <span class="emphasis"><em>pas</em></span> de lignes et de points se trouvant entièrement dans leur limite. Pour plus de détails, voir <a class="link" href="http://lin-ear-th-inking.blogspot.com/2007/06/subtleties-of-ogc-covers-spatial.html" target="_top">Subtleties of OGC Covers, Contains, Within</a>. Le prédicat <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a> fournit une relation plus inclusive. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction inclut une comparaison de la boîte englobante qui utilise tous les index disponibles sur les géométries.  Pour éviter l'utilisation d'un index, utilisez la fonction <code class="function">_ST_Contains</code>.</p></td></tr></table></div><p>Effectué par le module GEOS</p><p class="enhanced">Amélioré : 2.3.0 Amélioration du court-circuit PIP étendu à la prise en charge des multipoints avec peu de points. Les versions précédentes ne prenaient en charge que les points dans les polygones.</p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Amélioration : 3.0.0 a permis la prise en charge de <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>N'utilisez pas cette fonction avec des géométries non valides. Vous obtiendrez des résultats inattendus.</p></td></tr></table></div><p>NOTE : il s'agit de la version "autorisée" qui renvoie un booléen et non un entier.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2 // s2.1.13.3 - identique à within(geometry B, geometry A)</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 5.1.31</p></div><div class="refsection" id="idm12855"><h2>Exemples</h2><p><code class="function">ST_Contains</code> renvoie <code class="varname">TRUE</code> dans les situations suivantes :</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains01.png"/><div class="caption"><p><code class="varname">LINESTRING</code> / <code class="varname">MULTIPOINT</code></p></div></div></div></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains02.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">POINT</code></p></div></div></div></td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains03.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">LINESTRING</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains04.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">POLYGON</code></p></div></div></div></td></tr></tbody></table></div><p>La <code class="function">ST_Contains</code> renvoie <code class="varname">FALSE</code> dans les situations suivantes :</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains05.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">MULTIPOINT</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains06.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">LINESTRING</code></p></div></div></div></td></tr></tbody></table></div><p>En raison de la condition d'intersection intérieure, la <code class="function">ST_Contains</code> renvoie <code class="varname">FALSE</code> dans les situations suivantes (alors que la <code class="function">ST_Covers</code> renvoie <code class="varname">TRUE</code>) :</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains07.png"/><div class="caption"><p><code class="varname">LINESTRING</code> / <code class="varname">POINT</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains08.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">LINESTRING</code></p></div></div></div></td></tr></tbody></table></div><pre class="programlisting">-- A circle within a circle
SELECT ST_Contains(smallc, bigc) As smallcontainsbig,
     ST_Contains(bigc,smallc) As bigcontainssmall,
     ST_Contains(bigc, ST_Union(smallc, bigc)) as bigcontainsunion,
     ST_Equals(bigc, ST_Union(smallc, bigc)) as bigisunion,
     ST_Covers(bigc, ST_ExteriorRing(bigc)) As bigcoversexterior,
     ST_Contains(bigc, ST_ExteriorRing(bigc)) As bigcontainsexterior
FROM (SELECT ST_Buffer(ST_GeomFromText('POINT(1 2)'), 10) As smallc,
       ST_Buffer(ST_GeomFromText('POINT(1 2)'), 20) As bigc) As foo;

-- Result
  smallcontainsbig | bigcontainssmall | bigcontainsunion | bigisunion | bigcoversexterior | bigcontainsexterior
------------------+------------------+------------------+------------+-------------------+---------------------
 f                | t                | t                | t          | t        | f

-- Example demonstrating difference between contains and contains properly
SELECT ST_GeometryType(geomA) As geomtype, ST_Contains(geomA,geomA) AS acontainsa, ST_ContainsProperly(geomA, geomA) AS acontainspropa,
   ST_Contains(geomA, ST_Boundary(geomA)) As acontainsba, ST_ContainsProperly(geomA, ST_Boundary(geomA)) As acontainspropba
FROM (VALUES ( ST_Buffer(ST_Point(1,1), 5,1) ),
       ( ST_MakeLine(ST_Point(1,1), ST_Point(-1,-1) ) ),
       ( ST_Point(1,1) )
    ) As foo(geomA);

  geomtype    | acontainsa | acontainspropa | acontainsba | acontainspropba
--------------+------------+----------------+-------------+-----------------
ST_Polygon    | t          | f              | f           | f
ST_LineString | t          | f              | f           | f
ST_Point      | t          | t              | f           | f

 </pre></div><div class="refsection" id="idm12962"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a>, <a class="xref" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>, <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a></p></div></div><div class="refentry" id="ST_ContainsProperly"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ContainsProperly — Tests si chaque point de B se trouve à l'intérieur de A</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_ContainsProperly</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var><code>)</code>;</p></div></div><div class="refsection" id="idm12986"><h2>Description</h2><p>Retourne <code class="varname">vrai</code> si chaque point de B se trouve à l'intérieur de A (ou, de façon équivalente, si aucun point de B ne se trouve à la limite ou à l'extérieur de A).</p><p>En termes mathématiques : <span class="emphasis"><em>ST_ContainsProperly(A, B) ⇔ Int(A) ⋂ B = B </em></span></p><p>A contient B correctement si la matrice d'intersection DE-9IM pour les deux géométries correspond à [T**FF*FF*]</p><p>A ne se contient pas proprement, mais se contient.</p><p>Ce prédicat peut être utilisé pour calculer les intersections d'un ensemble de géométries avec une grande géométrie polygonale. L'intersection étant une opération assez lente, il peut être plus efficace d'utiliser containsProperly pour filtrer les géométries de test qui se trouvent entièrement à l'intérieur de la zone. Dans ce cas, on sait a priori que l'intersection correspond exactement à la géométrie d'essai originale. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction inclut une comparaison de la boîte englobante qui utilise tous les index disponibles sur les géométries.  Pour éviter l'utilisation d'un index, utilisez la fonction <code class="function">_ST_ContainsProperly</code>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'avantage de ce prédicat par rapport à <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a> et <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> est qu'il peut être calculé plus efficacement, sans qu'il soit nécessaire de calculer la topologie en des points individuels.</p></td></tr></table></div><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 1.4.0</p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Amélioration : 3.0.0 a permis la prise en charge de <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>N'utilisez pas cette fonction avec des géométries non valides. Vous obtiendrez des résultats inattendus.</p></td></tr></table></div></div><div class="refsection" id="idm13009"><h2>Exemples</h2><pre class="programlisting">--a circle within a circle
  SELECT ST_ContainsProperly(smallc, bigc) As smallcontainspropbig,
  ST_ContainsProperly(bigc,smallc) As bigcontainspropsmall,
  ST_ContainsProperly(bigc, ST_Union(smallc, bigc)) as bigcontainspropunion,
  ST_Equals(bigc, ST_Union(smallc, bigc)) as bigisunion,
  ST_Covers(bigc, ST_ExteriorRing(bigc)) As bigcoversexterior,
  ST_ContainsProperly(bigc, ST_ExteriorRing(bigc)) As bigcontainsexterior
  FROM (SELECT ST_Buffer(ST_GeomFromText('POINT(1 2)'), 10) As smallc,
  ST_Buffer(ST_GeomFromText('POINT(1 2)'), 20) As bigc) As foo;
  --Result
  smallcontainspropbig | bigcontainspropsmall | bigcontainspropunion | bigisunion | bigcoversexterior | bigcontainsexterior
------------------+------------------+------------------+------------+-------------------+---------------------
 f                     | t                    | f                    | t          | t                 | f

 --example demonstrating difference between contains and contains properly
 SELECT ST_GeometryType(geomA) As geomtype, ST_Contains(geomA,geomA) AS acontainsa, ST_ContainsProperly(geomA, geomA) AS acontainspropa,
 ST_Contains(geomA, ST_Boundary(geomA)) As acontainsba, ST_ContainsProperly(geomA, ST_Boundary(geomA)) As acontainspropba
 FROM (VALUES ( ST_Buffer(ST_Point(1,1), 5,1) ),
      ( ST_MakeLine(ST_Point(1,1), ST_Point(-1,-1) ) ),
      ( ST_Point(1,1) )
  ) As foo(geomA);

  geomtype    | acontainsa | acontainspropa | acontainsba | acontainspropba
--------------+------------+----------------+-------------+-----------------
ST_Polygon    | t          | f              | f           | f
ST_LineString | t          | f              | f           | f
ST_Point      | t          | t              | f           | f
 </pre></div><div class="refsection" id="idm13012"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a>, <a class="xref" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a>, <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_Relate" title="ST_Relate">ST_Relate</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a></p></div></div><div class="refentry" id="ST_CoveredBy"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CoveredBy — Tests si chaque point de A se trouve dans B</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_CoveredBy</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_CoveredBy</strong>(</code>geography  <var class="pdparam">geogA</var>, geography  <var class="pdparam">geogB</var><code>)</code>;</p></div></div><div class="refsection" id="idm13047"><h2>Description</h2><p>Renvoie <code class="varname">true</code> si chaque point de la geometry/geography A se trouve à l'intérieur (c'est-à-dire coupe l'intérieur ou la limite) de la geometry/geography B. De manière équivalente, teste qu'aucun point de A ne se trouve à l'extérieur (dans l'extérieur) de B. </p><p>En termes mathématiques : <span class="emphasis"><em>ST_CoveredBy(A, B) ⇔ A ⋂ B = A </em></span></p><p>ST_CoveredBy est le contraire de <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>. Ainsi, <code class="code">ST_CoveredBy(A,B) = ST_Covers(B,A)</code>.</p><p>En général, cette fonction devrait être utilisée à la place de <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a>, car elle a une définition plus simple qui n'a pas la particularité que "les limites ne sont pas à l'intérieur de leur géométrie".</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction inclut une comparaison de la boîte englobante qui utilise tous les index disponibles sur les géométries.  Pour éviter l'utilisation d'un index, utilisez la fonction <code class="function">_ST_CoveredBy</code>.</p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Amélioration : 3.0.0 a permis la prise en charge de <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>N'utilisez pas cette fonction avec des géométries non valides. Vous obtiendrez des résultats inattendus.</p></td></tr></table></div><p>Effectué par le module GEOS</p><p class="availability">Disponibilité : 1.2.2</p><p>NOTE : il s'agit de la version "autorisée" qui renvoie un booléen et non un entier.</p><p>Il ne s'agit pas d'une norme de l'OGC, mais Oracle l'a également.</p></div><div class="refsection" id="idm13070"><h2>Exemples</h2><pre class="programlisting">--a circle coveredby a circle
SELECT ST_CoveredBy(smallc,smallc) As smallinsmall,
  ST_CoveredBy(smallc, bigc) As smallcoveredbybig,
  ST_CoveredBy(ST_ExteriorRing(bigc), bigc) As exteriorcoveredbybig,
  ST_Within(ST_ExteriorRing(bigc),bigc) As exeriorwithinbig
FROM (SELECT ST_Buffer(ST_GeomFromText('POINT(1 2)'), 10) As smallc,
  ST_Buffer(ST_GeomFromText('POINT(1 2)'), 20) As bigc) As foo;
  --Result
 smallinsmall | smallcoveredbybig | exteriorcoveredbybig | exeriorwithinbig
--------------+-------------------+----------------------+------------------
 t            | t                 | t                    | f
(1 row) </pre></div><div class="refsection" id="idm13073"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>, <a class="xref" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a></p></div></div><div class="refentry" id="ST_Covers"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Covers — Tests si chaque point de B est situé dans A</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Covers</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Covers</strong>(</code>geography  <var class="pdparam">geogpolyA</var>, geography  <var class="pdparam">geogpointB</var><code>)</code>;</p></div></div><div class="refsection" id="idm13104"><h2>Description</h2><p>Renvoie <code class="varname">true</code> si chaque point de la geometry/geography B se trouve à l'intérieur (c'est-à-dire qu'il coupe l'intérieur ou la limite) de la geometry/geography A. De façon équivalente, teste qu'aucun point de B ne se trouve à l'extérieur (dans l'extérieur) de A. </p><p>En termes mathématiques : <span class="emphasis"><em>ST_Covers(A, B) ⇔ A ⋂ B = B </em></span></p><p>ST_Covers est le contraire de <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>. Ainsi, <code class="code">ST_Covers(A,B) = ST_CoveredBy(B,A)</code>.</p><p>En général, cette fonction devrait être utilisée à la place de <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, car elle a une définition plus simple qui n'a pas la particularité que "les géométries ne contiennent pas leur frontière".</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction inclut une comparaison de la boîte englobante qui utilise tous les index disponibles sur les géométries.  Pour éviter l'utilisation d'un index, utilisez la fonction <code class="function">_ST_Covers</code>.</p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Amélioration : 3.0.0 a permis la prise en charge de <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>N'utilisez pas cette fonction avec des géométries non valides. Vous obtiendrez des résultats inattendus.</p></td></tr></table></div><p>Effectué par le module GEOS</p><p class="enhanced">Amélioration : 2.4.0 Ajout de la prise en charge des polygones dans les polygones et des lignes dans les polygones pour le type geography</p><p class="enhanced">Amélioration : 2.3.0 Amélioration du court-circuit PIP pour la géométrie étendue à la prise en charge des multipoints avec peu de points. Les versions précédentes ne prenaient en charge que les points dans les polygones.</p><p class="availability">Disponibilité : 1.5 - le support de la geography a été introduit. </p><p class="availability">Disponibilité : 1.2.2</p><p>NOTE : il s'agit de la version "autorisée" qui renvoie un booléen et non un entier.</p><p>Il ne s'agit pas d'une norme de l'OGC, mais Oracle l'a également.</p></div><div class="refsection" id="idm13130"><h2>Exemples</h2><p>Exemple géométrique </p><pre class="programlisting">--a circle covering a circle
SELECT ST_Covers(smallc,smallc) As smallinsmall,
  ST_Covers(smallc, bigc) As smallcoversbig,
  ST_Covers(bigc, ST_ExteriorRing(bigc)) As bigcoversexterior,
  ST_Contains(bigc, ST_ExteriorRing(bigc)) As bigcontainsexterior
FROM (SELECT ST_Buffer(ST_GeomFromText('POINT(1 2)'), 10) As smallc,
  ST_Buffer(ST_GeomFromText('POINT(1 2)'), 20) As bigc) As foo;
  --Result
 smallinsmall | smallcoversbig | bigcoversexterior | bigcontainsexterior
--------------+----------------+-------------------+---------------------
 t            | f              | t                 | f
(1 row) </pre><p>Exemple géographique</p><pre class="programlisting">-- a point with a 300 meter buffer compared to a point, a point and its 10 meter buffer
SELECT ST_Covers(geog_poly, geog_pt) As poly_covers_pt,
  ST_Covers(ST_Buffer(geog_pt,10), geog_pt) As buff_10m_covers_cent
  FROM (SELECT ST_Buffer(ST_GeogFromText('SRID=4326;POINT(-99.327 31.4821)'), 300) As geog_poly,
        ST_GeogFromText('SRID=4326;POINT(-99.33 31.483)') As geog_pt ) As foo;

 poly_covers_pt | buff_10m_covers_cent
----------------+------------------
 f              | t
    </pre></div><div class="refsection" id="idm13136"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a></p></div></div><div class="refentry" id="ST_Crosses"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Crosses — Teste si deux géométries ont en commun certains points intérieurs, mais pas tous</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Crosses</strong>(</code>geometry <var class="pdparam">g1</var>, geometry <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm13157"><h2>Description</h2><p>Compare deux objets géométriques et renvoie <code class="varname">true</code> si leur intersection "se croise spatialement", c'est-à-dire que les géométries ont certains points intérieurs en commun, mais pas tous. L'intersection des intérieurs des géométries doit être non vide et doit avoir une dimension inférieure à la dimension maximale des deux géométries d'entrée, et l'intersection des deux géométries ne doit pas être égale à l'une ou l'autre géométrie. Sinon, il renvoie <code class="varname">false</code>. La relation entre les croix est symétrique et irréflexive.</p><p>En termes mathématiques : <span class="emphasis"><em>ST_Crosses(A, B) ⇔ (dim( Int(A) ⋂ Int(B) ) &lt; max( dim( Int(A) ), dim( Int(B) ) )) ∧ (A ⋂ B ≠ A) ∧ (A ⋂ B ≠ B) </em></span></p><p>Les géométries se croisent si leur matrice d'intersection DE-9IM correspond :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">T*T******</code> pour les situations point/ligne, point/zone et ligne/zone</p></li><li class="listitem"><p><code class="code">T*****T**</code> pour les situations Ligne/Point, Zone/Point et Zone/Ligne</p></li><li class="listitem"><p><code class="code">0********</code> pour les situations ligne/ligne</p></li><li class="listitem"><p>le résultat est <code class="varname">false</code> pour les situations Point/Point et Area/Area </p></li></ul></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La spécification OpenGIS Simple Features définit ce prédicat uniquement pour les situations Point/Ligne, Point/Zone, Ligne/Ligne et Ligne/Zone. Le STC / GEOS étend la définition pour qu'elle s'applique également aux situations Ligne/Point, Zone/Point et Zone/Ligne. Cela rend la relation symétrique.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction inclut une comparaison de la boîte englobante qui utilise tous les index disponibles sur les géométries. </p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Amélioration : 3.0.0 a permis la prise en charge de <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.13.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 5.1.29</p></div><div class="refsection" id="idm13194"><h2>Exemples</h2><p>Les situations suivantes renvoient toutes <code class="varname">true</code>.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_crosses01.png"/><div class="caption"><p><code class="varname">MULTIPOINT</code> / <code class="varname">LINESTRING</code></p></div></div></div></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_crosses02.png"/><div class="caption"><p><code class="varname">MULTIPOINT</code> / <code class="varname">POLYGON</code></p></div></div></div></td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_crosses03.png"/><div class="caption"><p><code class="varname">LINESTRING</code> / <code class="varname">POLYGON</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_crosses04.png"/><div class="caption"><p><code class="varname">LINESTRING</code> / <code class="varname">LINESTRING</code></p></div></div></div></td></tr></tbody></table></div><p>Prenons le cas d'un utilisateur qui dispose de deux tables : une table de routes et une table d'autoroutes.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p> </p><div class="informalexample"><pre class="programlisting">CREATE TABLE roads (
  id serial NOT NULL,
  geom geometry,
  CONSTRAINT roads_pkey PRIMARY KEY (road_id)
);</pre></div><p> </p></td><td><p> </p><div class="informalexample"><pre class="programlisting">CREATE TABLE highways (
  id serial NOT NULL,
  the_gem geometry,
  CONSTRAINT roads_pkey PRIMARY KEY (road_id)
);</pre></div><p> </p></td></tr></tbody></table></div><p>Pour obtenir une liste des routes qui traversent une autoroute, utilisez une requête similaire à :</p><div class="informalexample"><pre class="programlisting">SELECT roads.id
FROM roads, highways
WHERE ST_Crosses(roads.geom, highways.geom);</pre></div></div><div class="refsection" id="idm13260"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a></p></div></div><div class="refentry" id="ST_Disjoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Disjoint — Teste si deux géométries n'ont pas de points communs </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Disjoint</strong>(</code> geometry <var class="pdparam">A</var> ,  geometry <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm13280"><h2>Description</h2><p>Renvoie <code class="varname">true</code> si deux géométries sont disjointes. Les géométries sont disjointes si elles n'ont aucun point en commun. </p><p>Si une autre relation spatiale est vraie pour une paire de géométries, celles-ci ne sont pas disjointes. La disjonction implique que <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> est fausse. </p><p>En termes mathématiques : <span class="emphasis"><em>ST_Disjoint(A, B) ⇔ A ⋂ B = ∅ </em></span></p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Amélioration : 3.0.0 a permis la prise en charge de <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><p>Effectué par le module GEOS</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet appel de fonction n'utilise pas d'index. Un prédicat négatif <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> peut être utilisé comme une alternative plus performante qui utilise des index : <code class="code">ST_Disjoint(A,B) = NOT ST_Intersects(A,B)</code></p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE : il s'agit de la version "autorisée" qui renvoie un booléen et non un entier.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2 //s2.1.13.3 - a.Relate(b, 'FF*FF****')</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 5.1.26</p></div><div class="refsection" id="idm13307"><h2>Exemples</h2><pre class="programlisting">SELECT ST_Disjoint('POINT(0 0)'::geometry, 'LINESTRING ( 2 0, 0 2 )'::geometry);
 st_disjoint
---------------
 t
(1 row)
SELECT ST_Disjoint('POINT(0 0)'::geometry, 'LINESTRING ( 0 0, 0 2 )'::geometry);
 st_disjoint
---------------
 f
(1 row)
    </pre></div><div class="refsection" id="idm13310"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a></p></div></div><div class="refentry" id="ST_Equals"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Equals — Teste si deux géométries comprennent le même ensemble de points</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Equals</strong>(</code>geometry  <var class="pdparam">A</var>, geometry  <var class="pdparam">B</var><code>)</code>;</p></div></div><div class="refsection" id="idm13329"><h2>Description</h2><p>Renvoie <code class="varname">true</code> si les géométries données sont "topologiquement égales". Utilisez ceci pour une "meilleure" réponse que "=". L'égalité topologique signifie que les géométries ont la même dimension et que leurs ensembles de points occupent le même espace. Cela signifie que l'ordre des sommets peut être différent dans des géométries topologiquement égales. Pour vérifier que l'ordre des points est cohérent, utilisez <a class="xref" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a> (il convient de noter que ST_OrderingEquals est un peu plus strict que la simple vérification de l'ordre des points).</p><p>En termes mathématiques : <span class="emphasis"><em>ST_Equals(A, B) ⇔ A = B </em></span></p><p>La relation suivante est valable : <span class="emphasis"><em>ST_Equals(A, B) ⇔ ST_Within(A,B) ∧ ST_Within(B,A) </em></span></p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Amélioration : 3.0.0 a permis la prise en charge de <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 5.1.24</p><p class="changed">Modifié : 2.2.0 Retourne vrai même pour les géométries invalides si elles sont binairement égales</p></div><div class="refsection" id="idm13351"><h2>Exemples</h2><pre class="programlisting">SELECT ST_Equals(ST_GeomFromText('LINESTRING(0 0, 10 10)'),
    ST_GeomFromText('LINESTRING(0 0, 5 5, 10 10)'));
 st_equals
-----------
 t
(1 row)

SELECT ST_Equals(ST_Reverse(ST_GeomFromText('LINESTRING(0 0, 10 10)')),
    ST_GeomFromText('LINESTRING(0 0, 5 5, 10 10)'));
 st_equals
-----------
 t
(1 row)
</pre></div><div class="refsection" id="idm13354"><h2>Voir aussi</h2><p><a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a>, <a class="xref" href="#ST_Reverse" title="ST_Reverse">ST_Reverse</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a></p></div></div><div class="refentry" id="ST_Intersects"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Intersects — Teste si deux géométries se croisent (elles ont au moins un point en commun)</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Intersects</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Intersects</strong>(</code> geography <var class="pdparam">geogA</var> ,  geography <var class="pdparam">geogB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm13385"><h2>Description</h2><p>Renvoie <code class="varname">true</code> si deux géométries se croisent. Les géométries se croisent si elles ont un point commun. </p><p>Pour les objets de type geography, une tolérance de distance de 0,00001 mètre est utilisée (les points très proches sont donc considérés comme se croisant).</p><p>En termes mathématiques : <span class="emphasis"><em>ST_Intersects(A, B) ⇔ A ⋂ B ≠ ∅ </em></span></p><p>Les géométries se croisent si leur matrice d'intersection DE-9IM correspond à l'un des éléments suivants : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">T********</code></p></li><li class="listitem"><p><code class="code">*T*******</code></p></li><li class="listitem"><p><code class="code">***T*****</code></p></li><li class="listitem"><p><code class="code">****T****</code></p></li></ul></div><p>L'intersection spatiale est impliquée par tous les autres tests de relations spatiales, à l'exception de <a class="xref" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a>, qui teste que les géométries ne se croisent PAS.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction inclut une comparaison de la boîte englobante qui utilise tous les index disponibles sur les géométries. </p></td></tr></table></div><p class="changed">Modifié : 3.0.0 La version SFCGAL a été supprimée et la prise en charge native des TINS 2D a été ajoutée.</p><p class="enhanced">Amélioré : 2.5.0 Supporte GEOMETRYCOLLECTION.</p><p class="enhanced">Amélioré : 2.3.0 Amélioration du court-circuit PIP étendu à la prise en charge des multipoints avec peu de points. Les versions précédentes ne prenaient en charge que les points dans les polygones.</p><p>Effectuée par le module GEOS (pour geometry), la geography est native</p><p class="availability">Disponibilité : la version 1.5 a introduit la prise en charge du type geography.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour geography, cette fonction a une tolérance de distance d'environ 0,00001 mètre et utilise la sphère plutôt que le calcul du sphéroïde.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE : il s'agit de la version "autorisée" qui renvoie un booléen et non un entier.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2 //s2.1.13.3 - ST_Intersects(g1, g2 ) --&gt; Not (ST_Disjoint(g1, g2 )) </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 5.1.27</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm13436"><h2>Exemples de géométrie</h2><pre class="programlisting">SELECT ST_Intersects('POINT(0 0)'::geometry, 'LINESTRING ( 2 0, 0 2 )'::geometry);
 st_intersects
---------------
 f
(1 row)
SELECT ST_Intersects('POINT(0 0)'::geometry, 'LINESTRING ( 0 0, 0 2 )'::geometry);
 st_intersects
---------------
 t
(1 row)

-- Look up in table. Make sure table has a GiST index on geometry column for faster lookup.
SELECT id, name FROM cities WHERE ST_Intersects(geom, 'SRID=4326;POLYGON((28 53,27.707 52.293,27 52,26.293 52.293,26 53,26.293 53.707,27 54,27.707 53.707,28 53))');
 id | name
----+-------
  2 | Minsk
(1 row)
</pre></div><div class="refsection" id="idm13439"><h2>Exemples géographiques</h2><pre class="programlisting">SELECT ST_Intersects(
    'SRID=4326;LINESTRING(-43.23456 72.4567,-43.23456 72.4568)'::geography,
    'SRID=4326;POINT(-43.23456 72.4567772)'::geography
    );

 st_intersects
---------------
t
</pre></div><div class="refsection" id="idm13442"><h2>Voir aussi</h2><p><a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a>, <a class="xref" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a>, <a class="xref" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a></p></div></div><div class="refentry" id="ST_LineCrossingDirection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineCrossingDirection — Renvoie un nombre indiquant le comportement de croisement de deux LineStrings</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_LineCrossingDirection</strong>(</code>geometry  <var class="pdparam">linestringA</var>, geometry  <var class="pdparam">linestringB</var><code>)</code>;</p></div></div><div class="refsection" id="idm13463"><h2>Description</h2><p>En ayant 2 lignes en entrée, renvoie un nombre entier entre -3 et 3 indiquant le type de croisement qui existe entre elles. 0 indique qu'il n'y a pas de croisement. Cette fonction n'est prise en charge que pour les <code class="varname">LINESTRING</code>s. </p><p>Le numéro de croisement a la signification suivante : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>0 : LIGNE SANS CROISEMENT</p></li><li class="listitem"><p>-1 : LIGNE CROISÉE À GAUCHE</p></li><li class="listitem"><p>-1 : LIGNE CROISÉE À DROITE</p></li><li class="listitem"><p>-2 : LIGNE MULTICROISEMENT EXTRÉMITÉ GAUCHE</p></li><li class="listitem"><p>-2 : LIGNE MULTICROISEMENT EXTRÉMITÉ DROITE</p></li><li class="listitem"><p>-3 : LIGNE MULTICROISEMENT FIN IDENTIQUE AU PREMIER GAUCHE</p></li><li class="listitem"><p>-3 : LIGNE MULTICROISEMENT FIN IDENTIQUE AU PREMIER DROITE</p></li></ul></div><p>
    </p><p class="availability">Disponibilité : 1.4</p></div><div class="refsection" id="idm13484"><h2>Exemples</h2><p><span class="bold"><strong>Exemple:</strong></span> LIGNE CROISEE A GAUCHE et LIGNE CROISEE A DROITE </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_linecrossingdirection03.png"/><div class="caption"><p>Bleu : Ligne A ; Vert : Ligne B</p></div></div></div><pre class="programlisting">SELECT ST_LineCrossingDirection(lineA, lineB) As A_cross_B,
       ST_LineCrossingDirection(lineB, lineA) As B_cross_A
FROM (SELECT
  ST_GeomFromText('LINESTRING(25 169,89 114,40 70,86 43)') As lineA,
  ST_GeomFromText('LINESTRING (20 140, 71 74, 161 53)') As lineB
  ) As foo;

 A_cross_B | B_cross_A
-----------+-----------
        -1 |         1
</pre><p><span class="bold"><strong>Exemple:</strong></span> LIGNE MULTICROISEMENT FIN IDENTIQUE AU PREMIER GAUCHE et LIGNE MULTICROISEMENT FIN IDENTIQUE AU PREMIER DROITE </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_linecrossingdirection01.png"/><div class="caption"><p>Bleu : Ligne A ; Vert : Ligne B</p></div></div></div><pre class="programlisting">SELECT ST_LineCrossingDirection(lineA, lineB) As A_cross_B,
       ST_LineCrossingDirection(lineB, lineA) As B_cross_A
FROM (SELECT
 ST_GeomFromText('LINESTRING(25 169,89 114,40 70,86 43)') As lineA,
 ST_GeomFromText('LINESTRING(171 154,20 140,71 74,161 53)') As lineB
  ) As foo;

 A_cross_B | B_cross_A
-----------+-----------
         3 |        -3
</pre><p><span class="bold"><strong>Exemple:</strong></span> LIGNE MULTICROISEMENT EXTRÉMITÉ GAUCHE et LIGNE MULTICROISEMENT EXTRÉMITÉ DROITE </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_linecrossingdirection04.png"/><div class="caption"><p>Bleu : Ligne A ; Vert : Ligne B</p></div></div></div><pre class="programlisting">SELECT ST_LineCrossingDirection(lineA, lineB) As A_cross_B,
       ST_LineCrossingDirection(lineB, lineA) As B_cross_A
FROM (SELECT
  ST_GeomFromText('LINESTRING(25 169,89 114,40 70,86 43)') As lineA,
  ST_GeomFromText('LINESTRING(5 90, 71 74, 20 140, 171 154)') As lineB
  ) As foo;

 A_cross_B | B_cross_A
-----------+-----------
        -2 |         2
</pre><p><span class="bold"><strong>Exemple:</strong></span> Trouve toutes les rues qui se croisent </p><pre class="programlisting">

SELECT s1.gid, s2.gid, ST_LineCrossingDirection(s1.geom, s2.geom)
  FROM streets s1 CROSS JOIN streets s2
         ON (s1.gid != s2.gid AND s1.geom &amp;&amp; s2.geom )
WHERE ST_LineCrossingDirection(s1.geom, s2.geom) 
&gt; 0;

</pre></div><div class="refsection" id="idm13516"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a></p></div></div><div class="refentry" id="ST_OrderingEquals"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_OrderingEquals — Teste si deux géométries représentent la même géométrie et ont des points dans le même ordre directionnel</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_OrderingEquals</strong>(</code>geometry  <var class="pdparam">A</var>, geometry  <var class="pdparam">B</var><code>)</code>;</p></div></div><div class="refsection" id="idm13535"><h2>Description</h2><p>ST_OrderingEquals compare deux géométries et renvoie t (TRUE) si les géométries sont égales et si les coordonnées sont dans le même ordre ; sinon, il renvoie f (FALSE).</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction est mise en œuvre conformément à la spécification SQL d'ArcSDE plutôt que SQL-MM. http://edndoc.esri.com/arcsde/9.1/sql_api/sqlapi3.htm#ST_OrderingEquals</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 5.1.43</p></div><div class="refsection" id="idm13544"><h2>Exemples</h2><pre class="programlisting">SELECT ST_OrderingEquals(ST_GeomFromText('LINESTRING(0 0, 10 10)'),
    ST_GeomFromText('LINESTRING(0 0, 5 5, 10 10)'));
 st_orderingequals
-----------
 f
(1 row)

SELECT ST_OrderingEquals(ST_GeomFromText('LINESTRING(0 0, 10 10)'),
    ST_GeomFromText('LINESTRING(0 0, 0 0, 10 10)'));
 st_orderingequals
-----------
 t
(1 row)

SELECT ST_OrderingEquals(ST_Reverse(ST_GeomFromText('LINESTRING(0 0, 10 10)')),
    ST_GeomFromText('LINESTRING(0 0, 0 0, 10 10)'));
 st_orderingequals
-----------
 f
(1 row)
</pre></div><div class="refsection" id="idm13547"><h2>Voir aussi</h2><p><a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_Reverse" title="ST_Reverse">ST_Reverse</a></p></div></div><div class="refentry" id="ST_Overlaps"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Overlaps — Teste si deux géométries ont la même dimension et se croisent, mais si chacune a au moins un point qui n'est pas dans l'autre</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Overlaps</strong>(</code>geometry  <var class="pdparam">A</var>, geometry  <var class="pdparam">B</var><code>)</code>;</p></div></div><div class="refsection" id="idm13568"><h2>Description</h2><p>Renvoie TRUE si les géométries A et B se "chevauchent spatialement". Deux géométries se chevauchent si elles ont la même dimension, si leurs intérieurs se croisent dans cette dimension et si chacune a au moins un point à l'intérieur de l'autre (ou, de manière équivalente, si aucune des deux ne recouvre l'autre). La relation de chevauchement est symétrique et irréflexive. </p><p>En termes mathématiques : <span class="emphasis"><em>ST_Overlaps(A, B) ⇔ ( dim(A) = dim(B) = dim( Int(A) ⋂ Int(B) )). ∧ (A ⋂ B ≠ A) ∧ (A ⋂ B ≠ B) </em></span></p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction inclut une comparaison de la boîte englobante qui utilise tous les index disponibles sur les géométries.  Pour éviter l'utilisation d'un index, utilisez la fonction <code class="function">_ST_Overlaps</code>.</p></td></tr></table></div><p>Effectué par le module GEOS</p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Amélioration : 3.0.0 a permis la prise en charge de <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><p>NOTE : il s'agit de la version "autorisée" qui renvoie un booléen et non un entier.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2 // s2.1.13.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 5.1.32</p></div><div class="refsection" id="idm13590"><h2>Exemples</h2><p><code class="function">ST_Overlaps</code> renvoie <code class="varname">TRUE</code> dans les situations suivantes :</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_overlaps01.png"/><div class="caption"><p><code class="varname">MULTIPOINT</code> / <code class="varname">MULTIPOINT</code></p></div></div></div></td><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_overlaps02.png"/><div class="caption"><p><code class="varname">LINESTRING</code> / <code class="varname">LINESTRING</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_overlaps03.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">POLYGON</code></p></div></div></div></td></tr></tbody></table></div><div class="informalfigure"><div class="mediaobject"><img src="images/st_overlaps04.png"/></div></div><p>Un point sur une LineString est contenu, mais comme il a une dimension inférieure, il ne se chevauche pas et ne se croise pas.</p><pre class="programlisting">SELECT ST_Overlaps(a,b) AS overlaps,       ST_Crosses(a,b) AS crosses,
       ST_Intersects(a, b) AS intersects,  ST_Contains(b,a) AS b_contains_a
FROM (SELECT ST_GeomFromText('POINT (100 100)') As a,
             ST_GeomFromText('LINESTRING (30 50, 40 160, 160 40, 180 160)')  AS b) AS t

overlaps | crosses | intersects | b_contains_a
---------+----------------------+--------------
f        | f       | t          | t
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_overlaps05.png"/></div></div><p>Une chaîne de lignes qui recouvre partiellement un polygone l'intersecte et le traverse, mais ne se chevauche pas car elle a des dimensions différentes.</p><pre class="programlisting">SELECT ST_Overlaps(a,b) AS overlaps,        ST_Crosses(a,b) AS crosses,
       ST_Intersects(a, b) AS intersects,   ST_Contains(a,b) AS contains
FROM (SELECT ST_GeomFromText('POLYGON ((40 170, 90 30, 180 100, 40 170))') AS a,
             ST_GeomFromText('LINESTRING(10 10, 190 190)') AS b) AS t;

 overlap | crosses | intersects | contains
---------+---------+------------+--------------
 f       | t       | t          | f
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_overlaps06.png"/></div></div><p>Deux polygones qui se croisent mais dont aucun n'est contenu par l'autre se chevauchent, mais ne se croisent pas car leur intersection a la même dimension.</p><pre class="programlisting">SELECT ST_Overlaps(a,b) AS overlaps,       ST_Crosses(a,b) AS crosses,
       ST_Intersects(a, b) AS intersects,  ST_Contains(b, a) AS b_contains_a,
       ST_Dimension(a) AS dim_a, ST_Dimension(b) AS dim_b,
       ST_Dimension(ST_Intersection(a,b)) AS dim_int
FROM (SELECT ST_GeomFromText('POLYGON ((40 170, 90 30, 180 100, 40 170))') AS a,
             ST_GeomFromText('POLYGON ((110 180, 20 60, 130 90, 110 180))') AS b) As t;

 overlaps | crosses | intersects | b_contains_a | dim_a | dim_b | dim_int
----------+---------+------------+--------------+-------+-------+-----------
 t        | f       | t          | f            |     2 |     2 |       2
</pre></div><div class="refsection" id="idm13647"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a>, <a class="xref" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a></p></div></div><div class="refentry" id="ST_Relate"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Relate — Teste si deux géométries ont une relation topologique correspondant à un modèle de matrice d'intersection, ou calcule leur matrice d'intersection </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Relate</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var>, text  <var class="pdparam">intersectionMatrixPattern</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_Relate</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_Relate</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var>, integer  <var class="pdparam">boundaryNodeRule</var><code>)</code>;</p></div></div><div class="refsection" id="idm13693"><h2>Description</h2><p>Ces fonctions permettent de tester et d'évaluer la relation spatiale (topologique) entre deux géométries, telle que définie par le <a class="link" href="http://en.wikipedia.org/wiki/DE-9IM" target="_top">Dimensionally Extended 9-Intersection Model</a> (DE-9IM). </p><p>Le DE-9IM est une matrice à 9 éléments indiquant la dimension des intersections entre l'intérieur, la frontière et l'extérieur de deux géométries. Elle est représentée par une chaîne de texte de 9 caractères utilisant les symboles "F", "0", "1", "2" (par exemple, <code class="code">'FF1FF0102'</code>). </p><p>Un type spécifique de relation spatiale peut être testé en faisant correspondre la matrice d'intersection à un <span class="emphasis"><em>motif de matrice d'intersection</em></span>. Les motifs peuvent inclure les symboles supplémentaires "T" (signifiant "l'intersection est non vide") et "*" (signifiant "n'importe quelle valeur"). Les relations spatiales communes sont fournies par les fonctions nommées <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>, <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, <a class="xref" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a>, <a class="xref" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a>, <a class="xref" href="#ST_Touches" title="ST_Touches">ST_Touches</a>, et <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a>. L'utilisation d'un modèle explicite permet de tester plusieurs conditions d'intersection, de croisement, etc. en une seule étape. Elle permet également de tester des relations spatiales qui n'ont pas de fonction de relation spatiale nommée. Par exemple, la relation "Interior-Intersects" possède le motif DE-9IM <code class="code">T********</code>, qui n'est évalué par aucun prédicat nommé. </p><p>Pour plus d'informations, voir <a class="xref" href="#eval_spatial_rel" title="5.1. Déterminer les relations spatiales">Section 5.1, “Déterminer les relations spatiales”</a>. </p><p><span class="bold"><strong>Variante 1:</strong></span> Teste si deux géométries sont spatialement liées selon le <code class="varname">intersectionMatrixPattern</code> donné. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Contrairement à la plupart des prédicats de relations spatiales nommées, ce prédicat n'inclut PAS automatiquement un appel d'index. La raison en est que certaines relations sont vraies pour des géométries qui ne s'intersectent PAS (par exemple Disjoint). Si vous utilisez un modèle de relation qui nécessite une intersection, incluez l'appel à l'index &amp;&amp;. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Il est préférable d'utiliser une fonction de relation nommée si elle est disponible, car elle utilise automatiquement un index spatial lorsqu'il existe. En outre, elles peuvent mettre en œuvre des optimisations de performance qui ne sont pas disponibles avec l'évaluation de la relation complète. </p></td></tr></table></div><p><span class="bold"><strong>Variante 2:</strong></span> Renvoie la chaîne matricielle DE-9IM pour la relation spatiale entre les deux géométries d'entrée. La chaîne matricielle peut être testée pour vérifier si elle correspond à un modèle DE-9IM en utilisant <a class="xref" href="#ST_RelateMatch" title="ST_RelateMatch">ST_RelateMatch</a>. </p><p><span class="bold"><strong>Variante 3:</strong></span> Comme la variante 2, mais permet de spécifier une <span class="bold"><strong>Boundary Node Rule</strong></span>. Une boundary node rule permet de contrôler plus finement si les extrémités des multilignes sont considérées comme se situant à l'intérieur ou à la limite du DE-9IM. Les valeurs de <code class="varname">boundaryNodeRule</code> sont les suivantes : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">1</code> : <span class="bold"><strong>OGC-Mod2</strong></span> - les extrémités des lignes sont dans la frontière si elles apparaissent un nombre impair de fois. C'est la règle définie par la norme SFS de l'OGC, et c'est la valeur par défaut de la <code class="function">ST_Relate</code>. </p></li><li class="listitem"><p><code class="code">2</code> : <span class="bold"><strong>Endpoint</strong></span> - tous les points d'extrémité sont dans la frontière. </p></li><li class="listitem"><p><code class="code">3</code> : <span class="bold"><strong>MultivalentEndpoint</strong></span> - les points d'extrémité sont dans la frontière s'ils apparaissent plus d'une fois. En d'autres termes, la frontière est constituée de tous les points d'extrémité "attachés" ou "internes" (mais pas des points d'extrémité "non attachés/externes"). </p></li><li class="listitem"><p><code class="code">4</code> : <span class="bold"><strong>MonovalentEndpoint</strong></span> - les points d'extrémité sont dans la frontière s'ils n'apparaissent qu'une seule fois. En d'autres termes, la frontière est constituée de tous les points d'extrémité "non attachés" ou "extérieurs". </p></li></ul></div><p>Cette fonction ne figure pas dans la spécification de l'OGC, mais elle est implicite. voir s2.1.13.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2 // s2.1.13.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.25</p><p>Effectué par le module GEOS</p><p class="enhanced">Amélioration : 2.0.0 - ajout de la prise en charge de la spécification de boundary node rule.</p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Amélioration : 3.0.0 a permis la prise en charge de <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div></div><div class="refsection" id="idm13762"><h2>Exemples</h2><p>Utilisation de la fonction booléenne pour tester les relations spatiales.</p><pre class="programlisting">SELECT ST_Relate('POINT(1 2)', ST_Buffer( 'POINT(1 2)', 2), '0FFFFF212');
st_relate
-----------
t

SELECT ST_Relate(POINT(1 2)', ST_Buffer( 'POINT(1 2)', 2), '*FF*FF212');
st_relate
-----------
t
</pre><p>Test d'un modèle de relation spatiale personnalisé comme condition de requête, avec <code class="code">&amp;&amp;</code> pour permettre l'utilisation d'un index spatial.</p><pre class="programlisting">-- Find compounds that properly intersect (not just touch) a poly (Interior Intersects)

SELECT c.* , p.name As poly_name
    FROM polys AS p
    INNER JOIN compounds As c
          ON c.geom &amp;&amp; p.geom
             AND ST_Relate(p.geom, c.geom,'T********');
</pre><p>Calcul de la matrice d'intersection pour les relations spatiales.</p><pre class="programlisting">SELECT ST_Relate( 'POINT(1 2)',
                  ST_Buffer( 'POINT(1 2)', 2));
-----------
0FFFFF212

SELECT ST_Relate( 'LINESTRING(1 2, 3 4)',
                  'LINESTRING(5 6, 7 8)' );
-----------
FF1FF0102
</pre><p>Utilisation de différentes Boundary Node Rules pour calculer la relation spatiale entre une LineString et une MultiLineString avec une extrémité dupliquée <code class="code">(3 3)</code> : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>En utilisant la règle <span class="bold"><strong>OGC-Mod2</strong></span> (1), l'extrémité dupliquée se trouve dans l' <span class="bold"><strong>intérieur</strong></span> de la MultiLineString, de sorte que l'entrée de la matrice DE-9IM [aB:bI] est <code class="code">0</code> et [aB:bB] est <code class="code">F</code>. </p></li><li class="listitem"><p>En utilisant la règle <span class="bold"><strong>Endpoint</strong></span> (2), l'extrémité dupliquée se trouve dans la <span class="bold"><strong>limite</strong></span> de la MultiLineString, de sorte que l'entrée de la matrice DE-9IM [aB:bI] est <code class="code">F</code> et [aB:bB] est <code class="code">0</code>. </p></li></ul></div><pre class="programlisting">WITH data AS (SELECT
  'LINESTRING(1 1, 3 3)'::geometry AS a_line,
  'MULTILINESTRING((3 3, 3 5), (3 3, 5 3))':: geometry AS b_multiline
)
SELECT ST_Relate( a_line, b_multiline, 1) AS bnr_mod2,
       ST_Relate( a_line, b_multiline, 2) AS bnr_endpoint
    FROM data;

 bnr_mod2  | bnr_endpoint
-----------+--------------
 FF10F0102 | FF1F00102
</pre></div><div class="refsection" id="idm13787"><h2>Voir aussi</h2><p><a class="xref" href="#eval_spatial_rel" title="5.1. Déterminer les relations spatiales">Section 5.1, “Déterminer les relations spatiales”</a>, <a class="xref" href="#ST_RelateMatch" title="ST_RelateMatch">ST_RelateMatch</a>, <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>, <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, <a class="xref" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a>, <a class="xref" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a>, <a class="xref" href="#ST_Touches" title="ST_Touches">ST_Touches</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a> </p></div></div><div class="refentry" id="ST_RelateMatch"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RelateMatch — Teste si une matrice d'intersection DE-9IM correspond à un modèle de matrice d'intersection </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_RelateMatch</strong>(</code>text  <var class="pdparam">intersectionMatrix</var>, text  <var class="pdparam">intersectionMatrixPattern</var><code>)</code>;</p></div></div><div class="refsection" id="idm13818"><h2>Description</h2><p>Teste si une <a class="link" href="http://en.wikipedia.org/wiki/DE-9IM" target="_top">Dimensionally Extended 9-Intersection Model</a> (DE-9IM) <code class="varname">intersectionMatrix</code> satisfait un <code class="varname">intersectionMatrixPattern</code>. Les valeurs de la matrice d'intersection peuvent être calculées par <a class="xref" href="#ST_Relate" title="ST_Relate">ST_Relate</a>. </p><p>Pour plus d'informations, voir <a class="xref" href="#eval_spatial_rel" title="5.1. Déterminer les relations spatiales">Section 5.1, “Déterminer les relations spatiales”</a>. </p><p>Effectué par le module GEOS</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm13829"><h2>Exemples</h2><pre class="programlisting">SELECT ST_RelateMatch('101202FFF', 'TTTTTTFFF') ;
-- result --
t
</pre><p>Modèles de relations spatiales communes mis en correspondance avec les valeurs de la matrice d'intersection, pour une ligne dans différentes positions par rapport à un polygone</p><pre class="programlisting">SELECT pat.name AS relationship, pat.val AS pattern,
       mat.name AS position, mat.val AS matrix,
       ST_RelateMatch(mat.val, pat.val) AS match
    FROM (VALUES ( 'Equality', 'T1FF1FFF1' ),
                 ( 'Overlaps', 'T*T***T**' ),
                 ( 'Within',   'T*F**F***' ),
                 ( 'Disjoint', 'FF*FF****' )) AS pat(name,val)
    CROSS JOIN
        (VALUES  ('non-intersecting', 'FF1FF0212'),
                 ('overlapping',      '1010F0212'),
                 ('inside',           '1FF0FF212')) AS mat(name,val);

 relationship |  pattern  |     position     |  matrix   | match
--------------+-----------+------------------+-----------+-------
 Equality     | T1FF1FFF1 | non-intersecting | FF1FF0212 | f
 Equality     | T1FF1FFF1 | overlapping      | 1010F0212 | f
 Equality     | T1FF1FFF1 | inside           | 1FF0FF212 | f
 Overlaps     | T*T***T** | non-intersecting | FF1FF0212 | f
 Overlaps     | T*T***T** | overlapping      | 1010F0212 | t
 Overlaps     | T*T***T** | inside           | 1FF0FF212 | f
 Within       | T*F**F*** | non-intersecting | FF1FF0212 | f
 Within       | T*F**F*** | overlapping      | 1010F0212 | f
 Within       | T*F**F*** | inside           | 1FF0FF212 | t
 Disjoint     | FF*FF**** | non-intersecting | FF1FF0212 | t
 Disjoint     | FF*FF**** | overlapping      | 1010F0212 | f
 Disjoint     | FF*FF**** | inside           | 1FF0FF212 | f
</pre></div><div class="refsection" id="idm13834"><h2>Voir aussi</h2><p><a class="xref" href="#eval_spatial_rel" title="5.1. Déterminer les relations spatiales">Section 5.1, “Déterminer les relations spatiales”</a>, <a class="xref" href="#ST_Relate" title="ST_Relate">ST_Relate</a></p></div></div><div class="refentry" id="ST_Touches"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Touches — Teste si deux géométries ont au moins un point en commun, mais que leurs intérieurs ne se croisent pas</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Touches</strong>(</code>geometry  <var class="pdparam">A</var>, geometry  <var class="pdparam">B</var><code>)</code>;</p></div></div><div class="refsection" id="idm13854"><h2>Description</h2><p>Retourne <code class="varname">TRUE</code> si A et B se croisent, mais que leurs intérieurs ne se croisent pas. De manière équivalente, A et B ont au moins un point en commun, et les points communs se situent dans au moins une frontière. Pour les entrées point/point, la relation est toujours <code class="varname">FALSE</code>, puisque les points n'ont pas de frontière.</p><p>In mathematical terms: <span class="emphasis"><em>ST_Touches(A, B) ⇔ (Int(A) ⋂ Int(B) = ∅) ∧ (A ⋂ B ≠ ∅) </em></span></p><p>Cette relation est valable si la matrice d'intersection DE-9IM pour les deux géométries correspond à l'une d'entre elles :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="markup">FT*******</span></p></li><li class="listitem"><p><span class="markup">F**T*****</span></p></li><li class="listitem"><p><span class="markup">F***T****</span></p></li></ul></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction inclut une comparaison de la boîte englobante qui utilise tous les index disponibles sur les géométries.  Pour éviter d'utiliser un index, utilisez plutôt la <code class="function">_ST_Touches</code>.</p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Amélioration : 3.0.0 a permis la prise en charge de <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2 // s2.1.13.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 5.1.28</p></div><div class="refsection" id="idm13887"><h2>Exemples</h2><p>Le prédicat <code class="function">ST_Touches</code> renvoie <code class="varname">TRUE</code> dans les exemples suivants.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_touches01.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">POLYGON</code></p></div></div></div></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_touches02.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">POLYGON</code></p></div></div></div></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_touches03.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">LINESTRING</code></p></div></div></div></td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_touches04.png"/><div class="caption"><p><code class="varname">LINESTRING</code> / <code class="varname">LINESTRING</code></p></div></div></div></td><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_touches05.png"/><div class="caption"><p><code class="varname">LINESTRING</code> / <code class="varname">LINESTRING</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_touches06.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">POINT</code></p></div></div></div></td></tr></tbody></table></div><pre class="programlisting">SELECT ST_Touches('LINESTRING(0 0, 1 1, 0 2)'::geometry, 'POINT(1 1)'::geometry);
 st_touches
------------
 f
(1 row)

SELECT ST_Touches('LINESTRING(0 0, 1 1, 0 2)'::geometry, 'POINT(0 2)'::geometry);
 st_touches
------------
 t
(1 row)</pre></div></div><div class="refentry" id="ST_Within"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Within — Tests si chaque point de A se trouve dans B, et que leurs intérieurs ont un point commun</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Within</strong>(</code>geometry  <var class="pdparam">A</var>, geometry  <var class="pdparam">B</var><code>)</code>;</p></div></div><div class="refsection" id="idm13973"><h2>Description</h2><p>Renvoie TRUE si la géométrie A est à l'intérieur de la géométrie B. A est à l'intérieur de B si et seulement si tous les points de A se trouvent à l'intérieur (c'est-à-dire à l'intérieur ou à la limite) de B (ou de manière équivalente, aucun point de A ne se trouve à l'extérieur de B), et si les intérieurs de A et de B ont au moins un point en commun. </p><p>Pour que cette fonction ait un sens, les géométries sources doivent toutes deux avoir la même projection de coordonnées et le même SRID. </p><p>En termes mathématiques : <span class="emphasis"><em>ST_Within(A, B) ⇔ (A ⋂ B = A) ∧ (Int(A) ⋂ Int(B) ≠ ∅). </em></span></p><p>La relation within est réflexive : toute géométrie est à l'intérieur d'elle-même. La relation est antisymétrique : si <code class="code">ST_Within(A,B) = true</code> et <code class="code">ST_Within(B,A) = true</code>, alors les deux géométries doivent être topologiquement égales (<code class="code">ST_Equals(A,B) = true</code>).</p><p>ST_Within est le contraire de <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>. Ainsi, <code class="code">ST_Within(A,B) = ST_Contains(B,A)</code>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Comme les intérieurs doivent avoir un point commun, une subtilité de la définition est que les lignes et les points situés entièrement dans la limite des polygones ou des lignes ne sont <span class="emphasis"><em>pas</em></span> à l'intérieur de la géométrie. Pour plus de détails, voir <a class="link" href="http://lin-ear-th-inking.blogspot.com/2007/06/subtleties-of-ogc-covers-spatial.html" target="_top">Subtleties of OGC Covers, Contains, Within</a>. Le prédicat <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a> fournit une relation plus inclusive. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction inclut une comparaison de la boîte englobante qui utilise tous les index disponibles sur les géométries.  Pour éviter l'utilisation d'un index, utilisez la fonction <code class="function">_ST_Within</code>.</p></td></tr></table></div><p>Effectué par le module GEOS</p><p class="enhanced">Amélioration : 2.3.0 Amélioration du court-circuit PIP pour la géométrie étendue à la prise en charge des multipoints avec peu de points. Les versions précédentes ne prenaient en charge que les points dans les polygones.</p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Amélioration : 3.0.0 a permis la prise en charge de <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>N'utilisez pas cette fonction avec des géométries non valides. Vous obtiendrez des résultats inattendus.</p></td></tr></table></div><p>NOTE : il s'agit de la version "autorisée" qui renvoie un booléen et non un entier.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2 // s2.1.13.3 - a.Relate(b, 'T*F**F***') </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 5.1.30</p></div><div class="refsection" id="idm14011"><h2>Exemples</h2><pre class="programlisting">--a circle within a circle
SELECT ST_Within(smallc,smallc) As smallinsmall,
  ST_Within(smallc, bigc) As smallinbig,
  ST_Within(bigc,smallc) As biginsmall,
  ST_Within(ST_Union(smallc, bigc), bigc) as unioninbig,
  ST_Within(bigc, ST_Union(smallc, bigc)) as biginunion,
  ST_Equals(bigc, ST_Union(smallc, bigc)) as bigisunion
FROM
(
SELECT ST_Buffer(ST_GeomFromText('POINT(50 50)'), 20) As smallc,
  ST_Buffer(ST_GeomFromText('POINT(50 50)'), 40) As bigc) As foo;
--Result
 smallinsmall | smallinbig | biginsmall | unioninbig | biginunion | bigisunion
--------------+------------+------------+------------+------------+------------
 t            | t          | f          | t          | t          | t
(1 row)
    </pre><p><span class="inlinemediaobject"><img src="images/st_within01.png"/></span> </p></div><div class="refsection" id="idm14018"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a></p></div></div></section><section class="section" id="idm14025"><div class="titlepage"><div><div><h3 class="title">7.11.2. Relations de distance</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_3DDWithin">ST_3DDWithin</a></span><span class="refpurpose"> — Teste si deux géométries 3D se trouvent à une distance 3D donnée</span></li><li><span class="refentrytitle"><a href="#ST_3DDFullyWithin">ST_3DDFullyWithin</a></span><span class="refpurpose"> — Teste si deux géométries 3D sont entièrement comprises dans une distance 3D donnée</span></li><li><span class="refentrytitle"><a href="#ST_DFullyWithin">ST_DFullyWithin</a></span><span class="refpurpose"> — Teste si une géométrie se trouve entièrement à une distance d'une autre géométrie</span></li><li><span class="refentrytitle"><a href="#ST_DWithin">ST_DWithin</a></span><span class="refpurpose"> — Teste si deux géométries se trouvent à une distance donnée</span></li><li><span class="refentrytitle"><a href="#ST_PointInsideCircle">ST_PointInsideCircle</a></span><span class="refpurpose"> — Teste si un point géométrique se trouve à l'intérieur d'un cercle défini par un centre et un rayon</span></li></ul></div><div class="refentry" id="ST_3DDWithin"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DDWithin — Teste si deux géométries 3D se trouvent à une distance 3D donnée</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_3DDWithin</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var>, double precision  <var class="pdparam">distance_of_srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm14045"><h2>Description</h2><p>Renvoie true si la distance 3D entre deux valeurs géométriques n'est pas supérieure à la distance <code class="varname">distance_of_srid</code>. La distance est spécifiée en unités définies par le système de référence spatial des géométries. Pour que cette fonction ait un sens, les géométries sources doivent se trouver dans le même système de coordonnées (avoir le même SRID). </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction inclut une comparaison de la boîte englobante qui utilise tous les index disponibles sur les géométries. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM ?</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm14064"><h2>Exemples</h2><pre class="programlisting">-- Geometry example - units in meters (SRID: 2163 US National Atlas Equal area) (3D point and line compared 2D point and line)
-- Note: currently no vertical datum support so Z is not transformed and assumed to be same units as final.
SELECT ST_3DDWithin(
      ST_Transform(ST_GeomFromEWKT('SRID=4326;POINT(-72.1235 42.3521 4)'),2163),
      ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-72.1260 42.45 15, -72.123 42.1546 20)'),2163),
      126.8
    ) As within_dist_3d,
ST_DWithin(
      ST_Transform(ST_GeomFromEWKT('SRID=4326;POINT(-72.1235 42.3521 4)'),2163),
      ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-72.1260 42.45 15, -72.123 42.1546 20)'),2163),
      126.8
    ) As within_dist_2d;

 within_dist_3d | within_dist_2d
----------------+----------------
 f              | t
</pre></div><div class="refsection" id="idm14067"><h2>Voir aussi</h2><p><a class="xref" href="#ST_3DDFullyWithin" title="ST_3DDFullyWithin">ST_3DDFullyWithin</a>, <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a>, <a class="xref" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a>, <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="ST_3DDFullyWithin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DDFullyWithin — Teste si deux géométries 3D sont entièrement comprises dans une distance 3D donnée</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_3DDFullyWithin</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var>, double precision  <var class="pdparam">distance</var><code>)</code>;</p></div></div><div class="refsection" id="idm14095"><h2>Description</h2><p>Renvoie true si les géométries 3D se trouvent à la distance spécifiée l'une de l'autre. La distance est spécifiée en unités définies par le système de référence spatiale des géométries. Pour que cette fonction ait un sens, les géométries sources doivent toutes deux avoir la même projection de coordonnées et le même SRID.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction inclut une comparaison de la boîte englobante qui utilise tous les index disponibles sur les géométries. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm14109"><h2>Exemples</h2><pre class="programlisting">-- This compares the difference between fully within and distance within as well
    -- as the distance fully within for the 2D footprint of the line/point vs. the 3d fully within
    SELECT ST_3DDFullyWithin(geom_a, geom_b, 10) as D3DFullyWithin10, ST_3DDWithin(geom_a, geom_b, 10) as D3DWithin10,
  ST_DFullyWithin(geom_a, geom_b, 20) as D2DFullyWithin20,
  ST_3DDFullyWithin(geom_a, geom_b, 20) as D3DFullyWithin20 from
    (select ST_GeomFromEWKT('POINT(1 1 2)') as geom_a,
    ST_GeomFromEWKT('LINESTRING(1 5 2, 2 7 20, 1 9 100, 14 12 3)') as geom_b) t1;
 d3dfullywithin10 | d3dwithin10 | d2dfullywithin20 | d3dfullywithin20
------------------+-------------+------------------+------------------
 f                | t           | t                | f </pre></div><div class="refsection" id="idm14112"><h2>Voir aussi</h2><p><a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a>, <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a>, <a class="xref" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a></p></div></div><div class="refentry" id="ST_DFullyWithin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DFullyWithin — Teste si une géométrie se trouve entièrement à une distance d'une autre géométrie</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_DFullyWithin</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var>, double precision  <var class="pdparam">distance</var><code>)</code>;</p></div></div><div class="refsection" id="idm14137"><h2>Description</h2><p>Retourne vrai si <code class="code">g2</code> se trouve entièrement à une distance <code class="code">distance</code> de <code class="code">g1</code>. Visuellement, la condition est vraie si <code class="code">g2</code> est contenu dans un tampon de <code class="code">distance</code> de <code class="code">g1</code>. La distance est spécifiée en unités définies par le système de référence spatial des géométries.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction inclut une comparaison de la boîte englobante qui utilise tous les index disponibles sur les géométries. </p></td></tr></table></div><p class="availability">Disponibilité : 1.5.0</p><p class="changed">Modifié : 3.5.0 : la logique implémentée utilise désormais un test de confinement dans un tampon, plutôt que l'algorithme ST_MaxDistance. Les résultats seront différents de ceux des versions précédentes, mais devraient être plus proches des attentes de l'utilisateur.</p></div><div class="refsection" id="idm14150"><h2>Exemples</h2><pre class="programlisting">SELECT
    ST_DFullyWithin(geom_a, geom_b, 10) AS DFullyWithin10,
    ST_DWithin(geom_a, geom_b, 10) AS DWithin10,
    ST_DFullyWithin(geom_a, geom_b, 20) AS DFullyWithin20
FROM (VALUES
    ('POINT(1 1)', 'LINESTRING(1 5, 2 7, 1 9, 14 12)')
    ) AS v(geom_a, geom_b)

 dfullywithin10 | dwithin10 | dfullywithin20
----------------+-----------+----------------
 f              | t         | t
</pre></div><div class="refsection" id="idm14153"><h2>Voir aussi</h2><p><a class="xref" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a>, <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a>, <a class="xref" href="#ST_3DDFullyWithin" title="ST_3DDFullyWithin">ST_3DDFullyWithin</a></p></div></div><div class="refentry" id="ST_DWithin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DWithin — Teste si deux géométries se trouvent à une distance donnée</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_DWithin</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var>, double precision  <var class="pdparam">distance_of_srid</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_DWithin</strong>(</code>geography  <var class="pdparam">gg1</var>, geography  <var class="pdparam">gg2</var>, double precision  <var class="pdparam">distance_meters</var>, boolean  <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm14193"><h2>Description</h2><p>Renvoie true si les géométries se trouvent à une distance donnée</p><p>Pour le type <span class="type">geometry</span> : la distance est spécifiée en unités définies par le système de référence spatiale des géométries. Pour que cette fonction ait un sens, les géométries sources doivent se trouver dans le même système de coordonnées (avoir le même SRID).</p><p>Pour le type <span class="type">geography</span> : les unités sont en mètres et la mesure de la distance est par défaut <code class="varname">use_spheroid = true</code>. Pour une évaluation plus rapide, utilisez <code class="varname">use_spheroid = false</code> pour mesurer sur la sphère. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Utilisez <a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a> pour les géométries 3D.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet appel de fonction inclut une comparaison de la boîte de délimitation qui utilise tous les index disponibles sur les géométries.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p class="availability">Disponibilité : la prise en charge du type geography a été introduite dans la version 1.5.0</p><p class="enhanced">Amélioration : la version 2.1.0 a amélioré la vitesse de la géographie. Voir <a class="link" href="http://blog.opengeo.org/2012/07/12/making-geography-faster/" target="_top">Making Geography faster</a> pour plus de détails.</p><p class="enhanced">Amélioration : la prise en charge des géométries courbes a été introduite dans la version 2.1.0.</p><p>Avant la version 1.3, <a class="xref" href="#ST_Expand" title="ST_Expand">ST_Expand</a> était couramment utilisé en conjonction avec &amp;&amp; et ST_Distance pour tester la distance, et avant la version 1.3.4, cette fonction utilisait cette logique. À partir de la version 1.3.4, ST_DWithin utilise une fonction de distance de court-circuit plus rapide.</p></div><div class="refsection" id="idm14218"><h2>Exemples</h2><pre class="programlisting">-- Find the nearest hospital to each school
-- that is within 3000 units of the school.
--  We do an ST_DWithin search to utilize indexes to limit our search list
--  that the non-indexable ST_Distance needs to process
-- If the units of the spatial reference is meters then units would be meters
SELECT DISTINCT ON (s.gid) s.gid, s.school_name, s.geom, h.hospital_name
  FROM schools s
    LEFT JOIN hospitals h ON ST_DWithin(s.geom, h.geom, 3000)
  ORDER BY s.gid, ST_Distance(s.geom, h.geom);

-- The schools with no close hospitals
-- Find all schools with no hospital within 3000 units
-- away from the school.  Units is in units of spatial ref (e.g. meters, feet, degrees)
SELECT s.gid, s.school_name
  FROM schools s
    LEFT JOIN hospitals h ON ST_DWithin(s.geom, h.geom, 3000)
  WHERE h.gid IS NULL;

-- Find broadcasting towers that receiver with limited range can receive.
-- Data is geometry in Spherical Mercator (SRID=3857), ranges are approximate.

-- Create geometry index that will check proximity limit of user to tower
CREATE INDEX ON broadcasting_towers using gist (geom);

-- Create geometry index that will check proximity limit of tower to user
CREATE INDEX ON broadcasting_towers using gist (ST_Expand(geom, sending_range));

-- Query towers that 4-kilometer receiver in Minsk Hackerspace can get
-- Note: two conditions, because shorter LEAST(b.sending_range, 4000) will not use index.
SELECT b.tower_id, b.geom
  FROM broadcasting_towers b
  WHERE ST_DWithin(b.geom, 'SRID=3857;POINT(3072163.4 7159374.1)', 4000)
    AND ST_DWithin(b.geom, 'SRID=3857;POINT(3072163.4 7159374.1)', b.sending_range);

        </pre></div><div class="refsection" id="idm14221"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a></p></div></div><div class="refentry" id="ST_PointInsideCircle"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointInsideCircle — Teste si un point géométrique se trouve à l'intérieur d'un cercle défini par un centre et un rayon</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_PointInsideCircle</strong>(</code>geometry  <var class="pdparam">a_point</var>, float  <var class="pdparam">center_x</var>, float  <var class="pdparam">center_y</var>, float  <var class="pdparam">radius</var><code>)</code>;</p></div></div><div class="refsection" id="idm14247"><h2>Description</h2><p>Retourne true si la géométrie est un point et se trouve à l'intérieur du cercle de centre <code class="varname">center_x</code>,<code class="varname">center_y</code> et de rayon <code class="varname">radius</code>. </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>N'utilise pas les index spatiaux. Utilisez plutôt <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>.</p></td></tr></table></div><p class="availability">Disponibilité : 1.2</p><p class="changed">Modifié : 2.2.0 Dans les versions précédentes, cette fonction était appelée ST_Point_Inside_Circle</p></div><div class="refsection" id="idm14258"><h2>Exemples</h2><pre class="programlisting">SELECT ST_PointInsideCircle(ST_Point(1,2), 0.5, 2, 3);
 st_pointinsidecircle
------------------------
 t
</pre></div><div class="refsection" id="idm14261"><h2>Voir aussi</h2><p><a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a></p></div></div></section></section><section class="section" id="Measurement_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.12. Fonctions de mesure</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions permettent de calculer des mesures de distance, de surface et d'angle. Il existe également des fonctions permettant de calculer les valeurs géométriques déterminées par les mesures.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_Area">ST_Area</a></span><span class="refpurpose"> — Renvoie l'aire d'une géométrie polygonale. </span></li><li><span class="refentrytitle"><a href="#ST_Azimuth">ST_Azimuth</a></span><span class="refpurpose"> — Renvoie l'azimut basé sur le nord d'une ligne entre deux points.</span></li><li><span class="refentrytitle"><a href="#ST_Angle">ST_Angle</a></span><span class="refpurpose"> — Renvoie l'angle entre deux vecteurs définis par 3 ou 4 points, ou 2 lignes.</span></li><li><span class="refentrytitle"><a href="#ST_ClosestPoint">ST_ClosestPoint</a></span><span class="refpurpose"> — Renvoie le point 2D sur g1 qui est le plus proche de g2. Il s'agit du premier point de la ligne la plus courte d'une géométrie à l'autre.</span></li><li><span class="refentrytitle"><a href="#ST_3DClosestPoint">ST_3DClosestPoint</a></span><span class="refpurpose"> — Renvoie le point 3D sur g1 qui est le plus proche de g2. Il s'agit du premier point de la ligne 3D la plus courte. </span></li><li><span class="refentrytitle"><a href="#ST_Distance">ST_Distance</a></span><span class="refpurpose"> — Renvoie la distance entre deux valeurs de geometry ou geography.</span></li><li><span class="refentrytitle"><a href="#ST_3DDistance">ST_3DDistance</a></span><span class="refpurpose"> — Renvoie la distance cartésienne minimale en 3D (basée sur la référence spatiale) entre deux géométries en unités projetées. </span></li><li><span class="refentrytitle"><a href="#ST_DistanceSphere">ST_DistanceSphere</a></span><span class="refpurpose"> — Renvoie la distance minimale en mètres entre deux géométries lon/lat en utilisant un modèle de terre sphérique. </span></li><li><span class="refentrytitle"><a href="#ST_Distance_Spheroid">ST_DistanceSpheroid</a></span><span class="refpurpose"> — Renvoie la distance minimale entre deux géométries lon/lat en utilisant un modèle de terre sphéroïdale.</span></li><li><span class="refentrytitle"><a href="#ST_FrechetDistance">ST_FrechetDistance</a></span><span class="refpurpose"> — Renvoie la distance de Fréchet entre deux géométries.</span></li><li><span class="refentrytitle"><a href="#ST_HausdorffDistance">ST_HausdorffDistance</a></span><span class="refpurpose"> — Renvoie la distance de Hausdorff entre deux géométries. </span></li><li><span class="refentrytitle"><a href="#ST_Length">ST_Length</a></span><span class="refpurpose"> — Renvoie la longueur 2D d'une géométrie linéaire.</span></li><li><span class="refentrytitle"><a href="#ST_Length2D">ST_Length2D</a></span><span class="refpurpose"> — Renvoie la longueur 2D d'une géométrie linéaire. Alias de <code class="varname">ST_Length</code></span></li><li><span class="refentrytitle"><a href="#ST_3DLength">ST_3DLength</a></span><span class="refpurpose"> — Renvoie la longueur 3D d'une géométrie linéaire.</span></li><li><span class="refentrytitle"><a href="#ST_Length_Spheroid">ST_LengthSpheroid</a></span><span class="refpurpose"> — Renvoie la longueur/périmètre 2D ou 3D d'une géométrie lon/lat sur un sphéroïde.</span></li><li><span class="refentrytitle"><a href="#ST_LongestLine">ST_LongestLine</a></span><span class="refpurpose"> — Renvoie la ligne 2D la plus longue entre deux géométries. </span></li><li><span class="refentrytitle"><a href="#ST_3DLongestLine">ST_3DLongestLine</a></span><span class="refpurpose"> — Renvoie la ligne 3D la plus longue entre deux géométries</span></li><li><span class="refentrytitle"><a href="#ST_MaxDistance">ST_MaxDistance</a></span><span class="refpurpose"> — Renvoie la plus grande distance 2D entre deux géométries en unités projetées.</span></li><li><span class="refentrytitle"><a href="#ST_3DMaxDistance">ST_3DMaxDistance</a></span><span class="refpurpose"> — Renvoie la distance maximale cartésienne 3D (basée sur la référence spatiale) entre deux géométries en unités projetées. </span></li><li><span class="refentrytitle"><a href="#ST_MinimumClearance">ST_MinimumClearance</a></span><span class="refpurpose"> — Renvoie la clearance (le dégagement) d'une géométrie, une mesure de la robustesse d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_MinimumClearanceLine">ST_MinimumClearanceLine</a></span><span class="refpurpose"> — Renvoie la chaîne de lignes à deux points couvrant le dégagement (clearance) minimum d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_Perimeter">ST_Perimeter</a></span><span class="refpurpose"> — Renvoie la longueur de la limite d'une géométrie polygonale ou d'une géographie.</span></li><li><span class="refentrytitle"><a href="#ST_Perimeter2D">ST_Perimeter2D</a></span><span class="refpurpose"> — Renvoie le périmètre 2D d'une géométrie polygonale. Alias de <code class="varname">ST_Perimeter</code>.</span></li><li><span class="refentrytitle"><a href="#ST_3DPerimeter">ST_3DPerimeter</a></span><span class="refpurpose"> — Renvoie le périmètre 3D d'une géométrie polygonale.</span></li><li><span class="refentrytitle"><a href="#ST_ShortestLine">ST_ShortestLine</a></span><span class="refpurpose"> — Renvoie la ligne 2D la plus courte entre deux géométries</span></li><li><span class="refentrytitle"><a href="#ST_3DShortestLine">ST_3DShortestLine</a></span><span class="refpurpose"> — Renvoie la ligne 3D la plus courte entre deux géométries</span></li></ul></div><div class="refentry" id="ST_Area"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Area — Renvoie l'aire d'une géométrie polygonale. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Area</strong>(</code>geometry <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">float <strong class="fsfunc">ST_Area</strong>(</code>geography <var class="pdparam">geog</var>, boolean <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm14291"><h2>Description</h2><p>Renvoie l'aire d'une géométrie polygonale. Pour les types geometry, une surface cartésienne 2D (planaire) est calculée, avec des unités spécifiées par le SRID. Pour les types geography, la surface est déterminée par défaut sur un sphéroïde avec des unités en mètres carrés. Pour calculer la surface en utilisant le modèle sphérique, plus rapide mais moins précis, utilisez <code class="varname">ST_Area(geog,false)</code>. </p><p class="enhanced">Amélioration : 2.0.0 - la prise en charge des surfaces polyédriques 2D a été introduite.</p><p class="enhanced">Amélioration : 2.2.0 - mesure sur sphéroïde effectuée avec GeographicLib pour une meilleure précision et robustesse. Nécessite PROJ &gt;= 4.9.0 pour profiter de la nouvelle fonctionnalité.</p><p class="changed">Modifié : 3.0.0 - ne dépend plus de SFCGAL.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 8.1.2, 9.5.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour les surfaces polyédriques, ne prend en charge que les surfaces polyédriques 2D (pas 2.5D). Pour les surfaces 2.5D, la réponse peut être différente de zéro, mais uniquement pour les faces qui se trouvent entièrement dans le plan XY.</p></td></tr></table></div></div><div class="refsection" id="idm14313"><h2>Exemples</h2><p>Retourne la superficie en pieds carrés d'un terrain du Massachusetts et multipliez par la conversion pour obtenir des mètres carrés. Notez que la surface est exprimée en pieds carrés, car EPSG:2249 correspond aux pieds de plan de l'État du Massachusetts </p><pre class="programlisting">select ST_Area(geom) sqft,
    ST_Area(geom) * 0.3048 ^ 2 sqm
from (
         select 'SRID=2249;POLYGON((743238 2967416,743238 2967450,
                                 743265 2967450,743265.625 2967416,743238 2967416))' :: geometry geom
     ) subquery;
┌─────────┬─────────────┐
│  sqft   │     sqm     │
├─────────┼─────────────┤
│ 928.625 │ 86.27208552 │
└─────────┴─────────────┘
</pre><p>Retourne la surface en pieds carrés et transformez-la en mètres du plan de l'État du Massachusetts (EPSG:26986) pour obtenir des mètres carrés. Notez qu'il s'agit de pieds carrés car 2249 est le plan de l'État du Massachusetts en pieds et que la surface transformée est en mètres carrés car EPSG:26986 est le plan de l'État du Massachusetts en mètres </p><pre class="programlisting">select ST_Area(geom) sqft,
    ST_Area(ST_Transform(geom, 26986)) As sqm
from (
         select
             'SRID=2249;POLYGON((743238 2967416,743238 2967450,
             743265 2967450,743265.625 2967416,743238 2967416))' :: geometry geom
     ) subquery;
┌─────────┬─────────────────┐
│  sqft   │       sqm       │
├─────────┼─────────────────┤
│ 928.625 │ 86.272430607008 │
└─────────┴─────────────────┘
</pre><p>Retourne la surface en pieds carrés et en mètres carrés en utilisant le type de données geography. Notez que nous transformons notre geometry en geography (avant de pouvoir le faire, assurez-vous que votre géométrie est en WGS 84 long lat 4326). La geography se mesure toujours en mètres. Il s'agit d'une démonstration à des fins de comparaison. Normalement, votre table sera déjà stockée dans le type de données geography.</p><pre class="programlisting">select ST_Area(geog) / 0.3048 ^ 2 sqft_spheroid,
    ST_Area(geog, false) / 0.3048 ^ 2 sqft_sphere,
    ST_Area(geog) sqm_spheroid
from (
         select ST_Transform(
                    'SRID=2249;POLYGON((743238 2967416,743238 2967450,743265 2967450,743265.625 2967416,743238 2967416))'::geometry,
                    4326
             ) :: geography geog
     ) as subquery;
┌──────────────────┬──────────────────┬──────────────────┐
│  sqft_spheroid   │   sqft_sphere    │   sqm_spheroid   │
├──────────────────┼──────────────────┼──────────────────┤
│ 928.684405784452 │ 927.049336105925 │ 86.2776044979692 │
└──────────────────┴──────────────────┴──────────────────┘
</pre><p>Si vos données sont déjà dans le type geography :</p><pre class="programlisting">select ST_Area(geog) / 0.3048 ^ 2 sqft,
    ST_Area(the_geog) sqm
from somegeogtable;</pre></div><div class="refsection" id="idm14323"><h2>Voir aussi</h2><p><a class="xref" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_GeographyFromText" title="ST_GeographyFromText">ST_GeographyFromText</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="ST_Azimuth"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Azimuth — Renvoie l'azimut basé sur le nord d'une ligne entre deux points.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Azimuth</strong>(</code>geometry <var class="pdparam">origin</var>, geometry <var class="pdparam">target</var><code>)</code>;</p><p><code class="funcdef">float <strong class="fsfunc">ST_Azimuth</strong>(</code>geography <var class="pdparam">origin</var>, geography <var class="pdparam">target</var><code>)</code>;</p></div></div><div class="refsection" id="idm14355"><h2>Description</h2><p>Renvoie l'azimut en radians du point cible par rapport au point d'origine, ou NULL si les deux points coïncident. L'angle d'azimut est un angle positif dans le sens des aiguilles d'une montre, référencé à partir de l'axe Y positif (geometry) ou du méridien Nord (geography) : North = 0; Northeast = π/4; East = π/2; Southeast = 3π/4; South = π; Southwest 5π/4; West = 3π/2; Northwest = 7π/4.</p><p>Pour le type geography, la solution azimutale est connue sous le nom de <a class="link" href="https://en.wikipedia.org/wiki/Geodesics_on_an_ellipsoid" target="_top">inverse geodesic problem</a>.</p><p>L'azimut est un concept mathématique défini comme l'angle entre un vecteur de référence et un point, avec des unités angulaires en radians. La valeur du résultat en radians peut être convertie en degrés à l'aide de la fonction PostgreSQL <code class="varname">degrees()</code>.</p><p>L'azimut peut être utilisé conjointement avec <a class="xref" href="#ST_Translate" title="ST_Translate">ST_Translate</a> pour déplacer un objet le long de son axe perpendiculaire. Voir la fonction <code class="varname">upgis_lineshift()</code> dans le <a class="link" href="http://trac.osgeo.org/postgis/wiki/UsersWikiplpgsqlfunctions" target="_top">PostGIS wiki</a> pour une implémentation de ceci.</p><p class="availability">Disponibilité : 1.1.0</p><p class="enhanced">Amélioration : la prise en charge du type geography a été introduite dans la version 2.0.0.</p><p class="enhanced">Amélioration : 2.2.0 mesure sur sphéroïde effectuée avec GeographicLib pour améliorer la précision et la robustesse. Nécessite PROJ &gt;= 4.9.0 pour profiter de la nouvelle fonctionnalité.</p></div><div class="refsection" id="idm14369"><h2>Exemples</h2><p>Geometry Azimut en degrés </p><pre class="programlisting">SELECT degrees(ST_Azimuth( ST_Point(25, 45),  ST_Point(75, 100))) AS degA_B,
       degrees(ST_Azimuth( ST_Point(75, 100), ST_Point(25, 45) )) AS degB_A;

      dega_b       |     degb_a
------------------+------------------
 42.2736890060937 | 222.273689006094
</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_azimuth01.png"/><div class="caption"><p>Bleu : origine Point(25,45) ; Vert : cible Point(75, 100) ; Jaune : axe Y ou Nord ; Rouge : angle d'azimut.</p></div></div></div><p>
				</p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_azimuth02.png"/><div class="caption"><p>Bleu : origine Point(75, 100) ; Vert : cible Point(25, 45) ; Jaune : axe Y ou Nord ; Rouge : angle d'azimut.</p></div></div></div><p>
				</p></td></tr></tbody></table></div></div><div class="refsection" id="idm14393"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Angle" title="ST_Angle">ST_Angle</a>, <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_Translate" title="ST_Translate">ST_Translate</a>, <a class="xref" href="#ST_Project" title="ST_Project">ST_Project</a>, <a class="link" href="http://www.postgresql.org/docs/current/interactive/functions-math.html" target="_top">PostgreSQL Math Functions</a></p></div></div><div class="refentry" id="ST_Angle"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Angle — Renvoie l'angle entre deux vecteurs définis par 3 ou 4 points, ou 2 lignes.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Angle</strong>(</code>geometry <var class="pdparam">point1</var>, geometry <var class="pdparam">point2</var>, geometry <var class="pdparam">point3</var>, geometry <var class="pdparam">point4</var><code>)</code>;</p><p><code class="funcdef">float <strong class="fsfunc">ST_Angle</strong>(</code>geometry <var class="pdparam">line1</var>, geometry <var class="pdparam">line2</var><code>)</code>;</p></div></div><div class="refsection" id="idm14431"><h2>Description</h2><p>Calcule l'angle dans le sens des aiguilles d'une montre entre deux vecteurs. </p><p><span class="bold"><strong>Variante 1:</strong></span> calcule l'angle formé par les points P1-P2-P3. Si un quatrième point est fourni, elle calcule l'angle formé par les points P1-P2 et P3-P4</p><p><span class="bold"><strong>Variante 2:</strong></span> calcule l'angle entre deux vecteurs S1-E1 et S2-E2, définis par les points de départ et d'arrivée des lignes d'entrée </p><p>Le résultat est un angle positif compris entre 0 et 2π radians. Le résultat en radians peut être converti en degrés à l'aide de la fonction PostgreSQL <code class="varname">degrees()</code>. </p><p>Notez que <code class="varname">ST_Angle(P1,P2,P3) = ST_Angle(P2,P1,P2,P3)</code>.</p><p class="availability">Disponibilité : 2.5.0</p></div><div class="refsection" id="idm14443"><h2>Exemples</h2><p>Angle entre trois points</p><pre class="programlisting">SELECT degrees( ST_Angle('POINT(0 0)', 'POINT(10 10)', 'POINT(20 0)') );

 degrees
---------
     270
</pre><p>Angle entre les vecteurs définis par quatre points</p><pre class="programlisting">SELECT degrees( ST_Angle('POINT (10 10)', 'POINT (0 0)', 'POINT(90 90)', 'POINT (100 80)') );

      degrees
-------------------
 269.9999999999999
</pre><p>Angle entre les vecteurs définis par les points de départ et d'arrivée des lignes</p><pre class="programlisting">SELECT degrees( ST_Angle('LINESTRING(0 0, 0.3 0.7, 1 1)', 'LINESTRING(0 0, 0.2 0.5, 1 0)') );

      degrees
--------------
           45
</pre></div><div class="refsection" id="idm14451"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Azimuth" title="ST_Azimuth">ST_Azimuth</a></p></div></div><div class="refentry" id="ST_ClosestPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClosestPoint — Renvoie le point 2D sur g1 qui est le plus proche de g2. Il s'agit du premier point de la ligne la plus courte d'une géométrie à l'autre.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ClosestPoint</strong>(</code>geometry  <var class="pdparam">geom1</var>, geometry  <var class="pdparam">geom2</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_ClosestPoint</strong>(</code>geography  <var class="pdparam">geom1</var>, geography  <var class="pdparam">geom2</var>, boolean  <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm14482"><h2>Description</h2><p>Renvoie le point bidimensionnel sur <code class="varname">geom1</code> qui est le plus proche de <code class="varname">geom2</code>. Il s'agit du premier point de la ligne la plus courte entre les géométries (telle que calculée par <a class="xref" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a>). </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous avez une géométrie 3D, vous préférerez peut-être utiliser <a class="xref" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a>.</p></td></tr></table></div><p class="enhanced">Amélioré : 3.4.0 - Prise en charge de la geography.</p><p class="availability">Disponibilité : 1.5.0</p></div><div class="refsection" id="idm14493"><h2>Exemples</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_closestpoint01.png"/><div class="caption"><p>Le point le plus proche d'un point et d'une LineString est le point lui-même. Le point le plus proche d'une LineString et d'un Point est un point de la ligne.</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText( ST_ClosestPoint(pt,line)) AS cp_pt_line,
       ST_AsText( ST_ClosestPoint(line,pt)) AS cp_line_pt
    FROM (SELECT 'POINT (160 40)'::geometry AS pt,
                 'LINESTRING (10 30, 50 50, 30 110, 70 90, 180 140, 130 190)'::geometry AS line ) AS t;

   cp_pt_line   |                cp_line_pt
----------------+------------------------------------------
 POINT(160 40)  | POINT(125.75342465753425 115.34246575342466)
</pre><p>
	</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_closestpoint02.png"/><div class="caption"><p>Le point du polygone A le plus proche du polygone B</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText( ST_ClosestPoint(
                'POLYGON ((190 150, 20 10, 160 70, 190 150))',
                ST_Buffer('POINT(80 160)', 30)        )) As ptwkt;
------------------------------------------
 POINT(131.59149149528952 101.89887534906197)
</pre><p>
	</p></div><div class="refsection" id="idm14511"><h2>Voir aussi</h2><p><a class="xref" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a>, <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>, <a class="xref" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a>, <a class="xref" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a></p></div></div><div class="refentry" id="ST_3DClosestPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DClosestPoint — Renvoie le point 3D sur g1 qui est le plus proche de g2. Il s'agit du premier point de la ligne 3D la plus courte. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DClosestPoint</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm14534"><h2>Description</h2><p>Renvoie le point tridimensionnel de g1 le plus proche de g2. Il s'agit du premier point de la ligne 3D la plus courte. La longueur 3D de la ligne 3D la plus courte est la distance 3D. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p class="availability">Disponibilité : 2.0.0</p><p class="changed">Modifié : 2.2.0 - si 2 géométries 2D sont saisies, un point 2D est renvoyé (au lieu de l'ancien comportement supposant 0 pour Z manquant). Dans le cas de 2D et 3D, Z n'est plus supposé être 0 pour Z manquant.</p></div><div class="refsection" id="idm14547"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td style="border-bottom: 1px solid ; "><p>ligne et point -- point le plus proche en 3d et 2d </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DClosestPoint(line,pt)) AS cp3d_line_pt,
                ST_AsEWKT(ST_ClosestPoint(line,pt)) As cp2d_line_pt
        FROM (SELECT 'POINT(100 100 30)'::geometry As pt,
                        'LINESTRING (20 80 20, 98 190 1, 110 180 3, 50 75 1000)'::geometry As line
                ) As foo;


 cp3d_line_pt                                                |               cp2d_line_pt
-----------------------------------------------------------+------------------------------------------
 POINT(54.6993798867619 128.935022917228 11.5475869506606) | POINT(73.0769230769231 115.384615384615)
                                        </pre><p>
							  </p></td></tr><tr><td style="border-bottom: 1px solid ; "><p>ligne et multipoint - point le plus proche en 3d et en 2d </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DClosestPoint(line,pt)) AS cp3d_line_pt,
                ST_AsEWKT(ST_ClosestPoint(line,pt)) As cp2d_line_pt
        FROM (SELECT 'MULTIPOINT(100 100 30, 50 74 1000)'::geometry As pt,
                        'LINESTRING (20 80 20, 98 190 1, 110 180 3, 50 75 900)'::geometry As line
                ) As foo;


                       cp3d_line_pt                        | cp2d_line_pt
-----------------------------------------------------------+--------------
 POINT(54.6993798867619 128.935022917228 11.5475869506606) | POINT(50 75)
                                        </pre><p>
							  </p></td></tr><tr><td><p>Multilignes et polygones en 3d et 2d point le plus proche </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DClosestPoint(poly, mline)) As cp3d,
    ST_AsEWKT(ST_ClosestPoint(poly, mline)) As cp2d
        FROM (SELECT  ST_GeomFromEWKT('POLYGON((175 150 5, 20 40 5, 35 45 5, 50 60 5, 100 100 5, 175 150 5))') As poly,
                ST_GeomFromEWKT('MULTILINESTRING((175 155 2, 20 40 20, 50 60 -2, 125 100 1, 175 155 1),
                (1 10 2, 5 20 1))') As mline ) As foo;
                   cp3d                    |     cp2d
-------------------------------------------+--------------
 POINT(39.993580415989 54.1889925532825 5) | POINT(20 40)
             </pre><p>
							  </p></td></tr></tbody></table></div></div><div class="refsection" id="idm14564"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_ClosestPoint" title="ST_ClosestPoint">ST_ClosestPoint</a>, <a class="xref" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a>, <a class="xref" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a></p></div></div><div class="refentry" id="ST_Distance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Distance — Renvoie la distance entre deux valeurs de geometry ou geography.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Distance</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p><p><code class="funcdef">float <strong class="fsfunc">ST_Distance</strong>(</code>geography  <var class="pdparam">geog1</var>, geography  <var class="pdparam">geog2</var>, boolean  <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm14598"><h2>Description</h2><p>Pour les types <a class="xref" href="#geometry" title="geometry">geometry</a>, renvoie la distance cartésienne (planaire) minimale en 2D entre deux géométries, en unités projetées (unités de référence spatiales). </p><p>Pour les types <a class="xref" href="#geography" title="geography">geography</a>, la valeur par défaut est la distance géodésique minimale entre deux géographies en mètres, calculée sur le sphéroïde déterminé par le SRID. Si <code class="varname">use_spheroid</code> est faux, un calcul sphérique plus rapide est utilisé.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 5.1.23</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p class="availability">Disponibilité : 1.5.0 La prise en charge du type geography a été introduite dans la version 1.5. Amélioration de la vitesse pour les géométries planaires afin de mieux gérer les géométries de grande taille ou à nombreux sommets</p><p class="enhanced">Amélioration : la version 2.1.0 a amélioré la vitesse pour le type geography. Voir <a class="link" href="http://boundlessgeo.com/2012/07/making-geography-faster/" target="_top">Making Geography faster</a> pour plus de détails.</p><p class="enhanced">Amélioration : 2.1.0 - la prise en charge des géométries courbes a été introduite.</p><p class="enhanced">Amélioration : 2.2.0 - mesure sur sphéroïde effectuée avec GeographicLib pour une meilleure précision et robustesse. Nécessite PROJ &gt;= 4.9.0 pour profiter de la nouvelle fonctionnalité.</p><p class="changed">Modifié : 3.0.0 - ne dépend plus de SFCGAL.</p></div><div class="refsection" id="idm14624"><h2>Exemples de géométrie</h2><p>Exemple de géométrie - unités en degrés planaires 4326 est le long lat WGS 84, les unités sont des degrés.</p><pre class="programlisting">SELECT ST_Distance(
    'SRID=4326;POINT(-72.1235 42.3521)'::geometry,
    'SRID=4326;LINESTRING(-72.1260 42.45, -72.123 42.1546)'::geometry );
-----------------
0.00150567726382282</pre><p>Exemple de géométrie - unités en mètres (SRID : 3857, proportionnel aux pixels sur les cartes web populaires). Bien que la valeur soit erronée, les valeurs proches peuvent être comparées correctement, ce qui en fait un bon choix pour des algorithmes tels que KNN ou KMeans.</p><pre class="programlisting">SELECT ST_Distance(
    ST_Transform('SRID=4326;POINT(-72.1235 42.3521)'::geometry, 3857),
    ST_Transform('SRID=4326;LINESTRING(-72.1260 42.45, -72.123 42.1546)'::geometry, 3857) );
-----------------
167.441410065196</pre><p>Exemple de géométrie - unités en mètres (SRID : 3857 comme ci-dessus, mais corrigé par cos(lat) pour tenir compte de la distorsion)</p><pre class="programlisting">SELECT ST_Distance(
    ST_Transform('SRID=4326;POINT(-72.1235 42.3521)'::geometry, 3857),
    ST_Transform('SRID=4326;LINESTRING(-72.1260 42.45, -72.123 42.1546)'::geometry, 3857)
                ) * cosd(42.3521);
-----------------
123.742351254151</pre><p>Exemple de géométrie - unités en mètres (SRID : 26986 Massachusetts state plane meters) (plus précis pour le Massachusetts)</p><pre class="programlisting">SELECT ST_Distance(
    ST_Transform('SRID=4326;POINT(-72.1235 42.3521)'::geometry, 26986),
    ST_Transform('SRID=4326;LINESTRING(-72.1260 42.45, -72.123 42.1546)'::geometry, 26986) );
-----------------
123.797937878454</pre><p>Exemple de géométrie - unités en mètres (SRID : 2163 US National Atlas Equal area) (moins précis) </p><pre class="programlisting">SELECT ST_Distance(
    ST_Transform('SRID=4326;POINT(-72.1235 42.3521)'::geometry, 2163),
    ST_Transform('SRID=4326;LINESTRING(-72.1260 42.45, -72.123 42.1546)'::geometry, 2163) );
------------------
126.664256056812</pre></div><div class="refsection" id="idm14636"><h2>Exemples géographiques</h2><p>Identique à l'exemple du type geometry, mais avec des unités en mètres - utiliser la sphère pour un calcul légèrement plus rapide et moins précis.</p><pre class="programlisting">SELECT ST_Distance(gg1, gg2) As spheroid_dist, ST_Distance(gg1, gg2, false) As sphere_dist
FROM (SELECT
    'SRID=4326;POINT(-72.1235 42.3521)'::geography as gg1,
    'SRID=4326;LINESTRING(-72.1260 42.45, -72.123 42.1546)'::geography as gg2
        ) As foo  ;

  spheroid_dist   |   sphere_dist
------------------+------------------
 123.802076746848 | 123.475736916397</pre></div><div class="refsection" id="idm14640"><h2>Voir aussi</h2><p><a class="xref" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a>, <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_DistanceSphere" title="ST_DistanceSphere">ST_DistanceSphere</a>, <a class="xref" href="#ST_Distance_Spheroid" title="ST_DistanceSpheroid">ST_DistanceSpheroid</a>, <a class="xref" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a>, <a class="xref" href="#ST_HausdorffDistance" title="ST_HausdorffDistance">ST_HausdorffDistance</a>, <a class="xref" href="#ST_FrechetDistance" title="ST_FrechetDistance">ST_FrechetDistance</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="ST_3DDistance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DDistance — Renvoie la distance cartésienne minimale en 3D (basée sur la référence spatiale) entre deux géométries en unités projetées. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_3DDistance</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm14666"><h2>Description</h2><p>Renvoie la distance cartésienne minimale tridimensionnelle entre deux géométries en unités projetées (unités de référence spatiales).</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM ISO/IEC 13249-3</p><p class="availability">Disponibilité : 2.0.0</p><p class="changed">Modifié : 2.2.0 - Dans le cas de la 2D et de la 3D, Z n'est plus considéré comme égal à 0 en cas de Z manquant.</p><p class="changed">Modifié : 3.0.0 - Version SFCGAL supprimée</p></div><div class="refsection" id="idm14684"><h2>Exemples</h2><pre class="programlisting">-- Geometry example - units in meters (SRID: 2163 US National Atlas Equal area) (3D point and line compared 2D point and line)
-- Note: currently no vertical datum support so Z is not transformed and assumed to be same units as final.
SELECT ST_3DDistance(
                        ST_Transform('SRID=4326;POINT(-72.1235 42.3521 4)'::geometry,2163),
                        ST_Transform('SRID=4326;LINESTRING(-72.1260 42.45 15, -72.123 42.1546 20)'::geometry,2163)
                ) As dist_3d,
                ST_Distance(
                        ST_Transform('SRID=4326;POINT(-72.1235 42.3521)'::geometry,2163),
                        ST_Transform('SRID=4326;LINESTRING(-72.1260 42.45, -72.123 42.1546)'::geometry,2163)
                ) As dist_2d;

     dist_3d      |     dist_2d
------------------+-----------------
 127.295059324629 | 126.66425605671
</pre><pre class="programlisting">-- Multilinestring and polygon both 3d and 2d distance
-- Same example as 3D closest point example
SELECT ST_3DDistance(poly, mline) As dist3d,
    ST_Distance(poly, mline) As dist2d
        FROM (SELECT  'POLYGON((175 150 5, 20 40 5, 35 45 5, 50 60 5, 100 100 5, 175 150 5))'::geometry as poly,
               'MULTILINESTRING((175 155 2, 20 40 20, 50 60 -2, 125 100 1, 175 155 1), (1 10 2, 5 20 1))'::geometry as mline) as foo;
      dist3d       | dist2d
-------------------+--------
 0.716635696066337 |      0
</pre></div><div class="refsection" id="idm14688"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a>, <a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a>, <a class="xref" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a>, <a class="xref" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="ST_DistanceSphere"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DistanceSphere — Renvoie la distance minimale en mètres entre deux géométries lon/lat en utilisant un modèle de terre sphérique. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_DistanceSphere</strong>(</code>geometry  <var class="pdparam">geomlonlatA</var>, geometry  <var class="pdparam">geomlonlatB</var>, float8  <var class="pdparam">radius=6371008</var><code>)</code>;</p></div></div><div class="refsection" id="idm14715"><h2>Description</h2><p>Renvoie la distance minimale en mètres entre deux points lon/lat. Utilise une terre sphérique et un rayon dérivé du sphéroïde défini par le SRID. Plus rapide que <a class="xref" href="#ST_Distance_Spheroid" title="ST_DistanceSpheroid">ST_DistanceSpheroid</a>, mais moins précis. PostGIS Versions antérieures à la version 1.5 uniquement pour les points.</p><p class="availability">Disponibilité : 1.5 - la prise en charge d'autres types de géométrie que les points a été introduite. Les versions précédentes ne fonctionnaient qu'avec des points.</p><p class="changed">Modifié : 2.2.0 Dans les versions antérieures, cette fonction s'appelait ST_Distance_Sphere</p></div><div class="refsection" id="idm14721"><h2>Exemples</h2><pre class="programlisting">SELECT round(CAST(ST_DistanceSphere(ST_Centroid(geom), ST_GeomFromText('POINT(-118 38)',4326)) As numeric),2) As dist_meters,
round(CAST(ST_Distance(ST_Transform(ST_Centroid(geom),32611),
                ST_Transform(ST_GeomFromText('POINT(-118 38)', 4326),32611)) As numeric),2) As dist_utm11_meters,
round(CAST(ST_Distance(ST_Centroid(geom), ST_GeomFromText('POINT(-118 38)', 4326)) As numeric),5) As dist_degrees,
round(CAST(ST_Distance(ST_Transform(geom,32611),
                ST_Transform(ST_GeomFromText('POINT(-118 38)', 4326),32611)) As numeric),2) As min_dist_line_point_meters
FROM
        (SELECT ST_GeomFromText('LINESTRING(-118.584 38.374,-118.583 38.5)', 4326) As geom) as foo;
         dist_meters | dist_utm11_meters | dist_degrees | min_dist_line_point_meters
        -------------+-------------------+--------------+----------------------------
                70424.47 |          70438.00 |      0.72900 |                   65871.18

        </pre></div><div class="refsection" id="idm14724"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_Distance_Spheroid" title="ST_DistanceSpheroid">ST_DistanceSpheroid</a></p></div></div><div class="refentry" id="ST_Distance_Spheroid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DistanceSpheroid — Renvoie la distance minimale entre deux géométries lon/lat en utilisant un modèle de terre sphéroïdale.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_DistanceSpheroid</strong>(</code>geometry  <var class="pdparam">geomlonlatA</var>, geometry  <var class="pdparam">geomlonlatB</var>, spheroid <var class="pdparam">measurement_spheroid=WGS84</var><code>)</code>;</p></div></div><div class="refsection" id="idm14747"><h2>Description</h2><p>Renvoie la distance minimale en mètres entre deux géométries lon/lat pour un sphéroïde donné. Voir l'explication des sphéroïdes donnée pour <a class="xref" href="#ST_Length_Spheroid" title="ST_LengthSpheroid">ST_LengthSpheroid</a>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction ne prend pas en compte le SRID de la géométrie. Elle suppose que les coordonnées de la géométrie sont basées sur le sphéroïde fourni. </p></td></tr></table></div><p class="availability">Disponibilité : 1.5 - la prise en charge d'autres types de géométrie que les points a été introduite. Les versions précédentes ne fonctionnaient qu'avec des points.</p><p class="changed">Modifié : 2.2.0 Dans les versions précédentes, cette fonction était appelée ST_Distance_Sphéroïde</p></div><div class="refsection" id="idm14755"><h2>Exemples</h2><pre class="programlisting">SELECT round(CAST(
                ST_DistanceSpheroid(ST_Centroid(geom), ST_GeomFromText('POINT(-118 38)',4326), 'SPHEROID["WGS 84",6378137,298.257223563]')
                        As numeric),2) As dist_meters_spheroid,
                round(CAST(ST_DistanceSphere(ST_Centroid(geom), ST_GeomFromText('POINT(-118 38)',4326)) As numeric),2) As dist_meters_sphere,
round(CAST(ST_Distance(ST_Transform(ST_Centroid(geom),32611),
                ST_Transform(ST_GeomFromText('POINT(-118 38)', 4326),32611)) As numeric),2) As dist_utm11_meters
FROM
        (SELECT ST_GeomFromText('LINESTRING(-118.584 38.374,-118.583 38.5)', 4326) As geom) as foo;
 dist_meters_spheroid | dist_meters_sphere | dist_utm11_meters
----------------------+--------------------+-------------------
                         70454.92 |           70424.47 |          70438.00

        </pre></div><div class="refsection" id="idm14758"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_DistanceSphere" title="ST_DistanceSphere">ST_DistanceSphere</a></p></div></div><div class="refentry" id="ST_FrechetDistance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_FrechetDistance — Renvoie la distance de Fréchet entre deux géométries.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_FrechetDistance</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var>, float <var class="pdparam">densifyFrac = -1</var><code>)</code>;</p></div></div><div class="refsection" id="idm14781"><h2>Description</h2><p>Implémente l'algorithme de calcul de la distance de Fréchet limitée aux points discrets pour les deux géométries, basé sur <a class="link" href="http://www.kr.tuwien.ac.at/staff/eiter/et-archive/cdtr9464.pdf" target="_top">Computing Discrete Fréchet Distance</a>. La distance de Fréchet est une mesure de similarité entre les courbes qui tient compte de l'emplacement et de l'ordre des points le long des courbes. Elle est donc souvent meilleure que la distance de Hausdorff. </p><p>Lorsque le paramètre optionnel densifyFrac est spécifié, cette fonction effectue une densification des segments avant de calculer la distance de Fréchet discrète. Le paramètre densifyFrac définit la fraction par laquelle chaque segment doit être densifié. Chaque segment sera divisé en un certain nombre de sous-segments de longueur égale, dont la fraction de la longueur totale est la plus proche de la fraction donnée. </p><p>Les unités sont celles du système de référence spatiale des géométries. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'implémentation actuelle ne prend en charge que les sommets en tant qu'emplacements discrets. Elle pourrait être étendue pour permettre l'utilisation d'une densité arbitraire de points. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Plus la valeur de densifyFrac spécifiée est petite, plus la distance de Fréchet est précise. Mais le temps de calcul et l'utilisation de la mémoire augmentent avec le carré du nombre de sous-segments. </p></td></tr></table></div><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 2.4.0 - nécessite GEOS &gt;= 3.7.0</p></div><div class="refsection" id="idm14793"><h2>Exemples</h2><pre class="programlisting">postgres=# SELECT st_frechetdistance('LINESTRING (0 0, 100 0)'::geometry, 'LINESTRING (0 0, 50 50, 100 0)'::geometry);
 st_frechetdistance
--------------------
   70.7106781186548
(1 row)
                        </pre><pre class="programlisting">SELECT st_frechetdistance('LINESTRING (0 0, 100 0)'::geometry, 'LINESTRING (0 0, 50 50, 100 0)'::geometry, 0.5);
 st_frechetdistance
--------------------
                 50
(1 row)
                        </pre></div><div class="refsection" id="idm14797"><h2>Voir aussi</h2><p><a class="xref" href="#ST_HausdorffDistance" title="ST_HausdorffDistance">ST_HausdorffDistance</a></p></div></div><div class="refentry" id="ST_HausdorffDistance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_HausdorffDistance — Renvoie la distance de Hausdorff entre deux géométries. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_HausdorffDistance</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p><p><code class="funcdef">float <strong class="fsfunc">ST_HausdorffDistance</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var>, float <var class="pdparam">densifyFrac</var><code>)</code>;</p></div></div><div class="refsection" id="idm14828"><h2>Description</h2><p>Renvoie la <a class="link" href="http://en.wikipedia.org/wiki/Hausdorff_distance" target="_top">distance de Hausdorff</a> entre deux géométries. La distance de Hausdorff est une mesure de la similarité ou de la dissemblance de deux géométries. </p><p>La fonction calcule en fait la "Discrete Hausdorff Distance". Il s'agit de la distance de Hausdorff calculée en des points discrets des géométries. Le paramètre <em class="parameter"><code>densifyFrac</code></em> peut être spécifié pour fournir une réponse plus précise en densifiant les segments avant de calculer la distance discrète de Hausdorff. Chaque segment est divisé en un certain nombre de sous-segments de longueur égale dont la fraction de la longueur du segment est la plus proche de la fraction donnée. </p><p>Les unités sont celles du système de référence spatiale des géométries. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet algorithme n'est PAS équivalent à la distance standard de Hausdorff. Cependant, il calcule une approximation qui est correcte pour un large sous-ensemble de cas utiles. Un cas important est celui des lignes qui sont à peu près parallèles les unes aux autres et dont la longueur est à peu près égale. Il s'agit d'une métrique utile pour l'appariement des lignes. </p></td></tr></table></div><p class="availability">Disponibilité : 1.5.0</p></div><div class="refsection" id="idm14838"><h2>Exemples</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_hausdorffdistance01.png"/><div class="caption"><p>Distance de Hausdorff (rouge) et distance (jaune) entre deux lignes </p></div></div></div><pre class="programlisting">SELECT ST_HausdorffDistance(geomA, geomB),
       ST_Distance(geomA, geomB)
    FROM (SELECT 'LINESTRING (20 70, 70 60, 110 70, 170 70)'::geometry AS geomA,
                 'LINESTRING (20 90, 130 90, 60 100, 190 100)'::geometry AS geomB) AS t;
 st_hausdorffdistance | st_distance
----------------------+-------------
    37.26206567625497 |          20
</pre><p><span class="bold"><strong>Exemple:</strong></span> Distance de Hausdorff avec densification.</p><pre class="programlisting">SELECT ST_HausdorffDistance(
            'LINESTRING (130 0, 0 0, 0 150)'::geometry,
            'LINESTRING (10 10, 10 150, 130 10)'::geometry,
            0.5);
 ----------------------
          70
</pre><p><span class="bold"><strong>Exemple:</strong></span> Pour chaque bâtiment, trouvez la parcelle qui le représente le mieux. Tout d'abord, nous exigeons que la parcelle intersecte la géométrie du bâtiment. <code class="code">DISTINCT ON</code> garantit que chaque bâtiment ne sera listé qu'une seule fois. <code class="code">ORDER BY .. ST_HausdorffDistance</code> sélectionne la parcelle qui est la plus similaire au bâtiment.</p><pre class="programlisting">SELECT DISTINCT ON (buildings.gid) buildings.gid, parcels.parcel_id
   FROM buildings
       INNER JOIN parcels
       ON ST_Intersects(buildings.geom, parcels.geom)
   ORDER BY buildings.gid, ST_HausdorffDistance(buildings.geom, parcels.geom);
</pre></div><div class="refsection" id="idm14855"><h2>Voir aussi</h2><p><a class="xref" href="#ST_FrechetDistance" title="ST_FrechetDistance">ST_FrechetDistance</a></p></div></div><div class="refentry" id="ST_Length"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Length — Renvoie la longueur 2D d'une géométrie linéaire.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Length</strong>(</code>geometry <var class="pdparam">a_2dlinestring</var><code>)</code>;</p><p><code class="funcdef">float <strong class="fsfunc">ST_Length</strong>(</code>geography <var class="pdparam">geog</var>, boolean <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm14880"><h2>Description</h2><p>Pour les types geometry : renvoie la longueur cartésienne 2D de la géométrie s'il s'agit d'une LineString, MultiLineString, ST_Curve, ST_MultiCurve. Pour les géométries aréolaires, 0 est renvoyé ; utilisez <a class="xref" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a> à la place. Les unités de longueur sont déterminées par le système de référence spatial de la géométrie.</p><p>Pour les types geography : le calcul est effectué en utilisant le calcul géodésique inverse. Les unités de longueur sont exprimées en mètres. Si PostGIS est compilé avec PROJ version 4.8.0 ou ultérieure, le sphéroïde est spécifié par le SRID, sinon il est exclusif à WGS84. Si <code class="varname">use_spheroid = false</code>, le calcul est basé sur une sphère au lieu d'un sphéroïde. </p><p>Actuellement, pour la géométrie, il s'agit d'un alias de ST_Length2D, mais cela pourrait changer pour prendre en charge des dimensions plus élevées.</p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Modifié : 2.0.0 Rupture -- dans les versions précédentes, appliquer ceci à un MULTI/POLYGONE de type geography donnait le périmètre du POLYGONE/MULTIPOLYGONE. Dans la version 2.0.0, cette fonction a été modifiée pour retourner 0 afin d'être en ligne avec le comportement de la géométrie. Veuillez utiliser ST_Perimeter si vous souhaitez obtenir le périmètre d'un polygone</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour geography, le calcul utilise par défaut un modèle sphéroïdal. Pour utiliser le calcul sphérique, plus rapide mais moins précis, utilisez ST_Length(gg,false) ;</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 7.1.2, 9.3.4</p><p class="availability">Disponibilité : 1.5.0 La prise en charge du type geography a été introduite dans la version 1.5.</p></div><div class="refsection" id="idm14901"><h2>Exemples de géométrie</h2><p>Renvoie la longueur en pieds de la ligne. Notez que cette longueur est exprimée en pieds car EPSG:2249 correspond aux pieds du plan de l'État du Massachusetts</p><pre class="programlisting">SELECT ST_Length(ST_GeomFromText('LINESTRING(743238 2967416,743238 2967450,743265 2967450,
743265.625 2967416,743238 2967416)',2249));

st_length
---------
 122.630744000095


--Transforming WGS 84 LineString to Massachusetts state plane meters
SELECT ST_Length(
        ST_Transform(
                ST_GeomFromEWKT('SRID=4326;LINESTRING(-72.1260 42.45, -72.1240 42.45666, -72.123 42.1546)'),
                26986
        )
);

st_length
---------
34309.4563576191
                        </pre></div><div class="refsection" id="idm14905"><h2>Exemples géographiques</h2><p>Retourne la longueur d'une ligne de type geography avec le SRID WGS 84</p><pre class="programlisting">-- the default calculation uses a spheroid
SELECT ST_Length(the_geog) As length_spheroid,  ST_Length(the_geog,false) As length_sphere
FROM (SELECT ST_GeographyFromText(
'SRID=4326;LINESTRING(-72.1260 42.45, -72.1240 42.45666, -72.123 42.1546)') As the_geog)
 As foo;

 length_spheroid  |  length_sphere
------------------+------------------
 34310.5703627288 | 34346.2060960742
                        </pre></div><div class="refsection" id="idm14909"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeographyFromText" title="ST_GeographyFromText">ST_GeographyFromText</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_Length_Spheroid" title="ST_LengthSpheroid">ST_LengthSpheroid</a>, <a class="xref" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="ST_Length2D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Length2D — Renvoie la longueur 2D d'une géométrie linéaire. Alias de <code class="varname">ST_Length</code></p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Length2D</strong>(</code>geometry  <var class="pdparam">a_2dlinestring</var><code>)</code>;</p></div></div><div class="refsection" id="idm14930"><h2>Description</h2><p>Renvoie la longueur 2D de la géométrie s'il s'agit d'une ligne ou d'une multiligne. C'est un alias de <code class="varname">ST_Length</code></p></div><div class="refsection" id="idm14934"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Length" title="ST_Length">ST_Length</a>, <a class="xref" href="#ST_3DLength" title="ST_3DLength">ST_3DLength</a></p></div></div><div class="refentry" id="ST_3DLength"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DLength — Renvoie la longueur 3D d'une géométrie linéaire.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_3DLength</strong>(</code>geometry  <var class="pdparam">a_3dlinestring</var><code>)</code>;</p></div></div><div class="refsection" id="idm14951"><h2>Description</h2><p>Renvoie la longueur tridimensionnelle ou bidimensionnelle de la géométrie s'il s'agit d'une LineString ou d'une MultiLineString. Pour les lignes à 2 dimensions, la longueur à 2 dimensions est renvoyée (comme ST_Length et ST_Length2D)</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 7.1, 10.3</p><p class="changed">Modifié : 2.0.0 Dans les versions précédentes, cette fonction était appelée ST_Length3D</p></div><div class="refsection" id="idm14963"><h2>Exemples</h2><p>Longueur de retour en pieds pour un câble 3D. Notez que cette longueur est exprimée en pieds car EPSG:2249 correspond aux pieds du plan de l'État du Massachusetts</p><pre class="programlisting">SELECT ST_3DLength(ST_GeomFromText('LINESTRING(743238 2967416 1,743238 2967450 1,743265 2967450 3,
743265.625 2967416 3,743238 2967416 3)',2249));
ST_3DLength
-----------
122.704716741457
                </pre></div><div class="refsection" id="idm14967"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Length" title="ST_Length">ST_Length</a>, <a class="xref" href="#ST_Length2D" title="ST_Length2D">ST_Length2D</a></p></div></div><div class="refentry" id="ST_Length_Spheroid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LengthSpheroid — Renvoie la longueur/périmètre 2D ou 3D d'une géométrie lon/lat sur un sphéroïde.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_LengthSpheroid</strong>(</code>geometry  <var class="pdparam">a_geometry</var>, spheroid  <var class="pdparam">a_spheroid</var><code>)</code>;</p></div></div><div class="refsection" id="idm14987"><h2>Description</h2><p>Calcule la longueur ou le périmètre d'une géométrie sur un ellipsoïde. Ceci est utile si les coordonnées de la géométrie sont en longitude/latitude et qu'une longueur est souhaitée sans reprojection. Le sphéroïde est spécifié par une valeur textuelle comme suit :</p><div class="literallayout"><p><br/>
SPHEROID[&lt;NAME<br/>
&gt;,&lt;SEMI-MAJOR AXIS<br/>
&gt;,&lt;INVERSE FLATTENING<br/>
&gt;]<br/>
 </p></div><p>Par exemple :</p><div class="literallayout"><p>SPHEROID["GRS_1980",6378137,298.257222101]</p></div><p class="availability">Disponibilité : 1.2.2</p><p class="changed">Modifié : 2.2.0 Dans les versions précédentes, cette fonction s'appelait ST_Length_Spheroid et avait l'alias ST_3DLength_Spheroid</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm14999"><h2>Exemples</h2><pre class="programlisting">SELECT ST_LengthSpheroid( geometry_column,
                          'SPHEROID["GRS_1980",6378137,298.257222101]' )
                          FROM geometry_table;

SELECT ST_LengthSpheroid( geom, sph_m ) As tot_len,
ST_LengthSpheroid(ST_GeometryN(geom,1), sph_m) As len_line1,
ST_LengthSpheroid(ST_GeometryN(geom,2), sph_m) As len_line2
                          FROM (SELECT ST_GeomFromText('MULTILINESTRING((-118.584 38.374,-118.583 38.5),
        (-71.05957 42.3589 , -71.061 43))') As geom,
CAST('SPHEROID["GRS_1980",6378137,298.257222101]' As spheroid) As sph_m)  as foo;
        tot_len      |    len_line1     |    len_line2
------------------+------------------+------------------
 85204.5207562955 | 13986.8725229309 | 71217.6482333646

 --3D
SELECT ST_LengthSpheroid( geom, sph_m ) As tot_len,
ST_LengthSpheroid(ST_GeometryN(geom,1), sph_m) As len_line1,
ST_LengthSpheroid(ST_GeometryN(geom,2), sph_m) As len_line2
                          FROM (SELECT ST_GeomFromEWKT('MULTILINESTRING((-118.584 38.374 20,-118.583 38.5 30),
        (-71.05957 42.3589 75, -71.061 43 90))') As geom,
CAST('SPHEROID["GRS_1980",6378137,298.257222101]' As spheroid) As sph_m)  as foo;

         tot_len      |    len_line1    |    len_line2
------------------+-----------------+------------------
 85204.5259107402 | 13986.876097711 | 71217.6498130292

</pre></div><div class="refsection" id="idm15002"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a>, <a class="xref" href="#ST_Length" title="ST_Length">ST_Length</a></p></div></div><div class="refentry" id="ST_LongestLine"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LongestLine — Renvoie la ligne 2D la plus longue entre deux géométries. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LongestLine</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm15022"><h2>Description</h2><p>Renvoie la plus longue ligne bidimensionnelle entre les points de deux géométries. La ligne renvoyée commence sur <code class="varname">g1</code> et se termine sur <code class="varname">g2</code>. </p><p>La ligne la plus longue se trouve toujours entre deux sommets. La fonction renvoie la première ligne la plus longue si plusieurs sont trouvées. La longueur de la ligne est égale à la distance renvoyée par <a class="xref" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a>. </p><p>Si g1 et g2 sont la même géométrie, renvoie la ligne entre les deux sommets les plus éloignés l'un de l'autre dans la géométrie. Les extrémités de la ligne se trouvent sur le cercle calculé par <a class="xref" href="#ST_MinimumBoundingCircle" title="ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a>. </p><p class="availability">Disponibilité : 1.5.0</p></div><div class="refsection" id="idm15032"><h2>Exemples</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_longestline01.png"/><div class="caption"><p>Ligne la plus longue entre un point et une ligne</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText( ST_LongestLine(
        'POINT (160 40)',
        'LINESTRING (10 30, 50 50, 30 110, 70 90, 180 140, 130 190)' )
        ) AS lline;
-----------------
LINESTRING(160 40,130 190)
</pre><p>
	</p><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_longestline02.png"/><div class="caption"><p>Ligne la plus longue entre deux polygones</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText( ST_LongestLine(
        'POLYGON ((190 150, 20 10, 160 70, 190 150))',
        ST_Buffer('POINT(80 160)', 30)
            ) ) AS llinewkt;
-----------------
LINESTRING(20 10,105.3073372946034 186.95518130045156)
</pre><p>
	</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_longestline03.png"/><div class="caption"><p>Ligne la plus longue traversant une seule géométrie. La longueur de la ligne est égale à la distance maximale. Les extrémités de la ligne sont situées sur le cercle de délimitation minimal.</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText( ST_LongestLine( geom, geom)) AS llinewkt,
                  ST_MaxDistance( geom, geom) AS max_dist,
                  ST_Length( ST_LongestLine(geom, geom)) AS lenll
FROM (SELECT 'POLYGON ((40 180, 110 160, 180 180, 180 120, 140 90, 160 40, 80 10, 70 40, 20 50, 40 180),
              (60 140, 99 77.5, 90 140, 60 140))'::geometry AS geom) AS t;

         llinewkt          |      max_dist      |       lenll
---------------------------+--------------------+--------------------
 LINESTRING(20 50,180 180) | 206.15528128088303 | 206.15528128088303
</pre><p>
	</p></div><div class="refsection" id="idm15058"><h2>Voir aussi</h2><p><a class="xref" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a>, <a class="xref" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a>, <a class="xref" href="#ST_3DLongestLine" title="ST_3DLongestLine">ST_3DLongestLine</a>, <a class="xref" href="#ST_MinimumBoundingCircle" title="ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a></p></div></div><div class="refentry" id="ST_3DLongestLine"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DLongestLine — Renvoie la ligne 3D la plus longue entre deux géométries</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DLongestLine</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm15080"><h2>Description</h2><p>Renvoie la ligne tridimensionnelle la plus longue entre deux géométries. La fonction renvoie la première ligne la plus longue s'il y en a plusieurs. La ligne retournée commence en g1 et se termine en g2. La longueur 3D de la ligne est égale à la distance renvoyée par <a class="xref" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a>. </p><p class="availability">Disponibilité : 2.0.0</p><p class="changed">Modifié : 2.2.0 - si 2 géométries 2D sont saisies, un point 2D est renvoyé (au lieu de l'ancien comportement supposant 0 pour Z manquant). Dans le cas de 2D et 3D, Z n'est plus supposé être 0 pour Z manquant.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm15094"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td style="border-bottom: 1px solid ; "><p>linestring et point -- ligne la plus longue 3d et 2d </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DLongestLine(line,pt)) AS lol3d_line_pt,
                ST_AsEWKT(ST_LongestLine(line,pt)) As lol2d_line_pt
        FROM (SELECT 'POINT(100 100 30)'::geometry As pt,
                        'LINESTRING (20 80 20, 98 190 1, 110 180 3, 50 75 1000)'::geometry As line
                ) As foo;


           lol3d_line_pt           |       lol2d_line_pt
-----------------------------------+----------------------------
 LINESTRING(50 75 1000,100 100 30) | LINESTRING(98 190,100 100)
                                        </pre><p>
							  </p></td></tr><tr><td style="border-bottom: 1px solid ; "><p>ligne et multipoint - ligne la plus longue en 3d et 2d </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DLongestLine(line,pt)) AS lol3d_line_pt,
                ST_AsEWKT(ST_LongestLine(line,pt)) As lol2d_line_pt
        FROM (SELECT 'MULTIPOINT(100 100 30, 50 74 1000)'::geometry As pt,
                        'LINESTRING (20 80 20, 98 190 1, 110 180 3, 50 75 900)'::geometry As line
                ) As foo;


          lol3d_line_pt          |      lol2d_line_pt
---------------------------------+--------------------------
 LINESTRING(98 190 1,50 74 1000) | LINESTRING(98 190,50 74)
                                        </pre><p>
							  </p></td></tr><tr><td><p>MultiLineString et Polygon ligne la plus longue 3d et 2d </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DLongestLine(poly, mline)) As lol3d,
    ST_AsEWKT(ST_LongestLine(poly, mline)) As lol2d
        FROM (SELECT  ST_GeomFromEWKT('POLYGON((175 150 5, 20 40 5, 35 45 5, 50 60 5, 100 100 5, 175 150 5))') As poly,
                ST_GeomFromEWKT('MULTILINESTRING((175 155 2, 20 40 20, 50 60 -2, 125 100 1, 175 155 1),
                (1 10 2, 5 20 1))') As mline ) As foo;
            lol3d             |          lol2d
------------------------------+--------------------------
 LINESTRING(175 150 5,1 10 2) | LINESTRING(175 150,1 10)
             </pre><p>
							  </p></td></tr></tbody></table></div></div><div class="refsection" id="idm15111"><h2>Voir aussi</h2><p><a class="xref" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a>, <a class="xref" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a>, <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>, <a class="xref" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a>, <a class="xref" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a></p></div></div><div class="refentry" id="ST_MaxDistance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MaxDistance — Renvoie la plus grande distance 2D entre deux géométries en unités projetées.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_MaxDistance</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm15134"><h2>Description</h2><p>Renvoie la distance maximale en 2D entre deux géométries, en unités projetées. La distance maximale se situe toujours entre deux sommets. C'est la longueur de la ligne renvoyée par <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>. </p><p>Si g1 et g2 sont la même géométrie, renvoie la distance entre les deux sommets les plus éloignés dans cette géométrie. </p><p class="availability">Disponibilité : 1.5.0</p></div><div class="refsection" id="idm15140"><h2>Exemples</h2><p>Distance maximale entre un point et des lignes.</p><pre class="programlisting">SELECT ST_MaxDistance('POINT(0 0)'::geometry, 'LINESTRING ( 2 0, 0 2 )'::geometry);
-----------------
 2

SELECT ST_MaxDistance('POINT(0 0)'::geometry, 'LINESTRING ( 2 2, 2 2 )'::geometry);
------------------
 2.82842712474619
</pre><p>Distance maximale entre les sommets d'une même géométrie.</p><pre class="programlisting">SELECT ST_MaxDistance('POLYGON ((10 10, 10 0, 0 0, 10 10))'::geometry,
                      'POLYGON ((10 10, 10 0, 0 0, 10 10))'::geometry);
------------------
 14.142135623730951
</pre></div><div class="refsection" id="idm15146"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>, <a class="xref" href="#ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a></p></div></div><div class="refentry" id="ST_3DMaxDistance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DMaxDistance — Renvoie la distance maximale cartésienne 3D (basée sur la référence spatiale) entre deux géométries en unités projetées. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_3DMaxDistance</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm15167"><h2>Description</h2><p>Renvoie la distance cartésienne maximale tridimensionnelle entre deux géométries en unités projetées (unités de référence spatiales). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p class="availability">Disponibilité : 2.0.0</p><p class="changed">Modifié : 2.2.0 - Dans le cas de la 2D et de la 3D, Z n'est plus considéré comme égal à 0 en cas de Z manquant.</p></div><div class="refsection" id="idm15180"><h2>Exemples</h2><pre class="programlisting">-- Geometry example - units in meters (SRID: 2163 US National Atlas Equal area) (3D point and line compared 2D point and line)
-- Note: currently no vertical datum support so Z is not transformed and assumed to be same units as final.
SELECT ST_3DMaxDistance(
                        ST_Transform(ST_GeomFromEWKT('SRID=4326;POINT(-72.1235 42.3521 10000)'),2163),
                        ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-72.1260 42.45 15, -72.123 42.1546 20)'),2163)
                ) As dist_3d,
                ST_MaxDistance(
                        ST_Transform(ST_GeomFromEWKT('SRID=4326;POINT(-72.1235 42.3521 10000)'),2163),
                        ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-72.1260 42.45 15, -72.123 42.1546 20)'),2163)
                ) As dist_2d;

     dist_3d      |     dist_2d
------------------+------------------
 24383.7467488441 | 22247.8472107251
</pre></div><div class="refsection" id="idm15183"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a>, <a class="xref" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="ST_MinimumClearance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinimumClearance — Renvoie la clearance (le dégagement) d'une géométrie, une mesure de la robustesse d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_MinimumClearance</strong>(</code>geometry <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm15202"><h2>Description</h2><p>Il est possible qu'une géométrie réponde aux critères de validité selon <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a> (polygones) ou <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a> (lignes), mais qu'elle devienne invalide si l'un de ses sommets est déplacé d'une petite distance. Cela peut se produire en raison d'une perte de précision lors de la conversion vers des formats texte (tels que WKT, KML, GML, GeoJSON) ou des formats binaires qui n'utilisent pas de coordonnées en virgule flottante à double précision (par exemple, MapInfo TAB). </p><p>La clearance (le dégagement) minimum est une mesure quantitative de la résistance d'une géométrie aux changements de précision des coordonnées. Il s'agit de la plus grande distance à laquelle les sommets de la géométrie peuvent être déplacés sans créer une géométrie invalide. Des valeurs plus élevées de l'espace libre minimum indiquent une plus grande robustesse. </p><p>Si une géométrie a un dégagement minimal de <code class="varname">e</code>, alors.. : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Aucun des deux sommets distincts de la géométrie n'est plus proche que la distance <code class="varname">e</code>. </p></li><li class="listitem"><p>Aucun sommet n'est plus proche que <code class="varname">e</code> d'un segment de ligne dont il n'est pas l'extrémité. </p></li></ul></div><p>
		</p><p>S'il n'existe pas de dégagement minimum pour une géométrie (par exemple un point unique ou un MultiPoint dont les points sont identiques), la valeur de retour est <code class="varname">Infinity</code>. </p><p>Pour éviter les problèmes de validité causés par la perte de précision, <a class="xref" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a> peut réduire la précision des coordonnées tout en s'assurant que la géométrie polygonale reste valide. </p><p class="availability">Disponibilité : 2.3.0</p></div><div class="refsection" id="idm15222"><h2>Exemples</h2><pre class="programlisting">SELECT ST_MinimumClearance('POLYGON ((0 0, 1 0, 1 1, 0.5 3.2e-4, 0 0))');
 st_minimumclearance
---------------------
             0.00032
     </pre></div><div class="refsection" id="idm15225"><h2>Voir aussi</h2><p><a class="xref" href="#ST_MinimumClearanceLine" title="ST_MinimumClearanceLine">ST_MinimumClearanceLine</a>, <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>, <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a> </p></div></div><div class="refentry" id="ST_MinimumClearanceLine"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinimumClearanceLine — Renvoie la chaîne de lignes à deux points couvrant le dégagement (clearance) minimum d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">Geometry <strong class="fsfunc">ST_MinimumClearanceLine</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm15244"><h2>Description</h2><p>Renvoie les 2 points d'une LineString couvrant le dégagement (clearance) minimum d'une géométrie. Si la géométrie n'a pas de dégagement (clearance) minimum, <code class="varname">LINESTRING EMPTY</code> est retourné. </p><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 2.3.0 - nécessite GEOS &gt;= 3.6.0</p></div><div class="refsection" id="idm15250"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_MinimumClearanceLine('POLYGON ((0 0, 1 0, 1 1, 0.5 3.2e-4, 0 0))'));
-------------------------------
LINESTRING(0.5 0.00032,0.5 0)
                  </pre></div><div class="refsection" id="idm15253"><h2>Voir aussi</h2><p><a class="xref" href="#ST_MinimumClearance" title="ST_MinimumClearance">ST_MinimumClearance</a></p></div></div><div class="refentry" id="ST_Perimeter"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Perimeter — Renvoie la longueur de la limite d'une géométrie polygonale ou d'une géographie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Perimeter</strong>(</code>geometry <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">float <strong class="fsfunc">ST_Perimeter</strong>(</code>geography <var class="pdparam">geog</var>, boolean <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm15278"><h2>Description</h2><p>Renvoie le périmètre 2D d'une geometry/geography s'il s'agit d'une ST_Surface, ST_MultiSurface (Polygone, MultiPolygone). 0 est retourné pour les géométries non réelles. Pour les géométries linéaires, utiliser <a class="xref" href="#ST_Length" title="ST_Length">ST_Length</a>. Pour les types geometry, les unités de mesure du périmètre sont spécifiées par le système de référence spatiale de la géométrie.</p><p>Pour les types geography, les calculs sont effectués en utilisant le problème géodésique inverse, où les unités de périmètre sont en mètres. Si PostGIS est compilé avec PROJ version 4.8.0 ou ultérieure, le sphéroïde est spécifié par le SRID, sinon il est exclusif à WGS84. Si <code class="varname">use_spheroid = false</code>, les calculs approcheront une sphère au lieu d'un sphéroïde.</p><p>Il s'agit actuellement d'un alias de ST_Perimeter2D, mais cela pourrait changer pour prendre en charge des dimensions plus élevées.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 8.1.3, 9.5.4</p><p class="availability">Disponibilité 2.0.0 : La prise en charge du type geography a été introduite</p></div><div class="refsection" id="idm15295"><h2>Exemple : Géométrie</h2><p>Retourne le périmètre en pieds pour les polygones et les multi-polygones. Notez que ce périmètre est en pieds car EPSG:2249 est le plan de l'État du Massachusetts en pieds</p><pre class="programlisting">SELECT ST_Perimeter(ST_GeomFromText('POLYGON((743238 2967416,743238 2967450,743265 2967450,
743265.625 2967416,743238 2967416))', 2249));
st_perimeter
---------
 122.630744000095
(1 row)

SELECT ST_Perimeter(ST_GeomFromText('MULTIPOLYGON(((763104.471273676 2949418.44119003,
763104.477769673 2949418.42538203,
763104.189609677 2949418.22343004,763104.471273676 2949418.44119003)),
((763104.471273676 2949418.44119003,763095.804579742 2949436.33850239,
763086.132105649 2949451.46730207,763078.452329651 2949462.11549407,
763075.354136904 2949466.17407812,763064.362142565 2949477.64291974,
763059.953961626 2949481.28983009,762994.637609571 2949532.04103014,
762990.568508415 2949535.06640477,762986.710889563 2949539.61421415,
763117.237897679 2949709.50493431,763235.236617789 2949617.95619822,
763287.718121842 2949562.20592617,763111.553321674 2949423.91664605,
763104.471273676 2949418.44119003)))', 2249));
st_perimeter
---------
 845.227713366825
(1 row)
                        </pre></div><div class="refsection" id="idm15299"><h2>Exemples : Géographie</h2><p>Renvoie le périmètre en mètres et en pieds pour les polygones et les multi-polygones. Notez qu'il s'agit de geography (WGS 84 long lat)</p><pre class="programlisting">SELECT  ST_Perimeter(geog) As per_meters, ST_Perimeter(geog)/0.3048 As per_ft
FROM ST_GeogFromText('POLYGON((-71.1776848522251 42.3902896512902,-71.1776843766326 42.3903829478009,
-71.1775844305465 42.3903826677917,-71.1775825927231 42.3902893647987,-71.1776848522251 42.3902896512902))') As geog;

   per_meters    |      per_ft
-----------------+------------------
37.3790462565251 | 122.634666195949


-- MultiPolygon example --
SELECT  ST_Perimeter(geog) As per_meters, ST_Perimeter(geog,false) As per_sphere_meters,  ST_Perimeter(geog)/0.3048 As per_ft
FROM ST_GeogFromText('MULTIPOLYGON(((-71.1044543107478 42.340674480411,-71.1044542869917 42.3406744369506,
-71.1044553562977 42.340673886454,-71.1044543107478 42.340674480411)),
((-71.1044543107478 42.340674480411,-71.1044860600303 42.3407237015564,-71.1045215770124 42.3407653385914,
-71.1045498002983 42.3407946553165,-71.1045611902745 42.3408058316308,-71.1046016507427 42.340837442371,
-71.104617893173 42.3408475056957,-71.1048586153981 42.3409875993595,-71.1048736143677 42.3409959528211,
-71.1048878050242 42.3410084812078,-71.1044020965803 42.3414730072048,
-71.1039672113619 42.3412202916693,-71.1037740497748 42.3410666421308,
-71.1044280218456 42.3406894151355,-71.1044543107478 42.340674480411)))') As geog;

    per_meters    | per_sphere_meters |      per_ft
------------------+-------------------+------------------
 257.634283683311 |  257.412311446337 | 845.256836231335
                        </pre></div><div class="refsection" id="idm15303"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeogFromText" title="ST_GeogFromText">ST_GeogFromText</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_Length" title="ST_Length">ST_Length</a></p></div></div><div class="refentry" id="ST_Perimeter2D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Perimeter2D — Renvoie le périmètre 2D d'une géométrie polygonale. Alias de <code class="varname">ST_Perimeter</code>.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Perimeter2D</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm15322"><h2>Description</h2><p>Renvoie le périmètre bidimensionnel d'une géométrie polygonale. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Il s'agit actuellement d'un alias de ST_Perimeter. Dans les versions futures, ST_Perimeter pourrait renvoyer le périmètre de la dimension la plus élevée pour une géométrie. Cette possibilité est encore à l'étude</p></td></tr></table></div></div><div class="refsection" id="idm15327"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a></p></div></div><div class="refentry" id="ST_3DPerimeter"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DPerimeter — Renvoie le périmètre 3D d'une géométrie polygonale.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_3DPerimeter</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm15343"><h2>Description</h2><p>Renvoie le périmètre tridimensionnel de la géométrie, s'il s'agit d'un polygone ou d'un multi-polygone. Si la géométrie est bidimensionnelle, le périmètre bidimensionnel est renvoyé. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM ISO/IEC 13249-3: 8.1, 10.5</p><p class="changed">Modifié : 2.0.0 Dans les versions antérieures, il s'appelait ST_Perimeter3D</p></div><div class="refsection" id="idm15355"><h2>Exemples</h2><p>Périmètre d'un polygone légèrement surélevé en l'air dans l'état du Massachusetts, en pieds de plan</p><pre class="programlisting">SELECT ST_3DPerimeter(geom), ST_Perimeter2d(geom), ST_Perimeter(geom) FROM
                        (SELECT ST_GeomFromEWKT('SRID=2249;POLYGON((743238 2967416 2,743238 2967450 1,
743265.625 2967416 1,743238 2967416 2))') As geom) As foo;

  ST_3DPerimeter  |  st_perimeter2d  |   st_perimeter
------------------+------------------+------------------
 105.465793597674 | 105.432997272188 | 105.432997272188

</pre></div><div class="refsection" id="idm15359"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a>, <a class="xref" href="#ST_Perimeter2D" title="ST_Perimeter2D">ST_Perimeter2D</a></p></div></div><div class="refentry" id="ST_ShortestLine"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ShortestLine — Renvoie la ligne 2D la plus courte entre deux géométries</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ShortestLine</strong>(</code>geometry  <var class="pdparam">geom1</var>, geometry  <var class="pdparam">geom2</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_ShortestLine</strong>(</code>geography  <var class="pdparam">geom1</var>, geography  <var class="pdparam">geom2</var>, boolean <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm15392"><h2>Description</h2><p>Renvoie la ligne bidimensionnelle la plus courte entre deux géométries. La ligne renvoyée commence dans <code class="varname">geom1</code> et se termine dans <code class="varname">geom2</code>. Si <code class="varname">geom1</code> et <code class="varname">geom2</code> se croisent, le résultat est une ligne dont le début et la fin se situent à un point d'intersection. La longueur de la ligne est la même que celle que <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a> renvoie pour g1 et g2. </p><p class="enhanced">Amélioré : 3.4.0 - Prise en charge de la geography.</p><p class="availability">Disponibilité : 1.5.0</p></div><div class="refsection" id="idm15402"><h2>Exemples</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_shortestline01.png"/><div class="caption"><p>Ligne la plus courte entre un point et une ligne</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText(  ST_ShortestLine(
        'POINT (160 40)',
        'LINESTRING (10 30, 50 50, 30 110, 70 90, 180 140, 130 190)')
        ) As sline;
---------------------------------------------------------
 LINESTRING(160 40,125.75342465753425 115.34246575342466)
</pre><p>
		</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_shortestline02.png"/><div class="caption"><p>Ligne la plus courte entre les polygones</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText( ST_ShortestLine(
         'POLYGON ((190 150, 20 10, 160 70, 190 150))',
         ST_Buffer('POINT(80 160)', 30)
              ) ) AS llinewkt;
-----------------
LINESTRING(131.59149149528952 101.89887534906197,101.21320343559644 138.78679656440357)
</pre><p>
		</p></div><div class="refsection" id="idm15420"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ClosestPoint" title="ST_ClosestPoint">ST_ClosestPoint</a>, <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>, <a class="xref" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a></p></div></div><div class="refentry" id="ST_3DShortestLine"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DShortestLine — Renvoie la ligne 3D la plus courte entre deux géométries</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DShortestLine</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm15442"><h2>Description</h2><p>Renvoie la ligne tridimensionnelle la plus courte entre deux géométries. La fonction ne renvoie que la première ligne la plus courte, si la fonction en trouve plusieurs. Si g1 et g2 se croisent en un seul point, la fonction renvoie une ligne dont le début et la fin se trouvent à ce point d'intersection. Si g1 et g2 se croisent en plus d'un point, la fonction renvoie une ligne dont le début et la fin se situent au même point, mais qui peut être n'importe lequel des points d'intersection. La ligne renvoyée commencera toujours en g1 et se terminera en g2. La longueur 3D de la ligne renvoyée par cette fonction sera toujours la même que <a class="xref" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a> renvoie pour g1 et g2. </p><p class="availability">Disponibilité : 2.0.0</p><p class="changed">Modifié : 2.2.0 - si 2 géométries 2D sont saisies, un point 2D est renvoyé (au lieu de l'ancien comportement supposant 0 pour Z manquant). Dans le cas de 2D et 3D, Z n'est plus supposé être 0 pour Z manquant.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p></div><div class="refsection" id="idm15456"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td style="border-bottom: 1px solid ; "><p>ligne et point -- ligne la plus courte 3d et 2d </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DShortestLine(line,pt)) AS shl3d_line_pt,
                ST_AsEWKT(ST_ShortestLine(line,pt)) As shl2d_line_pt
        FROM (SELECT 'POINT(100 100 30)'::geometry As pt,
                        'LINESTRING (20 80 20, 98 190 1, 110 180 3, 50 75 1000)'::geometry As line
                ) As foo;


 shl3d_line_pt                                                                 |               shl2d_line_pt
----------------------------------------------------------------------------+------------------------------------------------------
 LINESTRING(54.6993798867619 128.935022917228 11.5475869506606,100 100 30)  | LINESTRING(73.0769230769231 115.384615384615,100 100)
                                        </pre><p>
							  </p></td></tr><tr><td style="border-bottom: 1px solid ; "><p>ligne et multipoint -- ligne la plus courte en 3d et 2d </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DShortestLine(line,pt)) AS shl3d_line_pt,
                ST_AsEWKT(ST_ShortestLine(line,pt)) As shl2d_line_pt
        FROM (SELECT 'MULTIPOINT(100 100 30, 50 74 1000)'::geometry As pt,
                        'LINESTRING (20 80 20, 98 190 1, 110 180 3, 50 75 900)'::geometry As line
                ) As foo;


                       shl3d_line_pt                                       | shl2d_line_pt
---------------------------------------------------------------------------+------------------------
 LINESTRING(54.6993798867619 128.935022917228 11.5475869506606,100 100 30) | LINESTRING(50 75,50 74)
                                        </pre><p>
							  </p></td></tr><tr><td><p>MultiLineString et polygone -- ligne la plus courte 3d et 2d </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DShortestLine(poly, mline)) As shl3d,
    ST_AsEWKT(ST_ShortestLine(poly, mline)) As shl2d
        FROM (SELECT  ST_GeomFromEWKT('POLYGON((175 150 5, 20 40 5, 35 45 5, 50 60 5, 100 100 5, 175 150 5))') As poly,
                ST_GeomFromEWKT('MULTILINESTRING((175 155 2, 20 40 20, 50 60 -2, 125 100 1, 175 155 1),
                (1 10 2, 5 20 1))') As mline ) As foo;
                   shl3d                                                                           |     shl2d
---------------------------------------------------------------------------------------------------+------------------------
 LINESTRING(39.993580415989 54.1889925532825 5,40.4078575708294 53.6052383805529 5.03423778139177) | LINESTRING(20 40,20 40)
             </pre><p>
							  </p></td></tr></tbody></table></div></div><div class="refsection" id="idm15473"><h2>Voir aussi</h2><p><a class="xref" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a>, <a class="xref" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a>, <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>, <a class="xref" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a>, <a class="xref" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a></p></div></div></section><section class="section" id="Overlay_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.13. Fonctions de superposition</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions calculent les résultats découlant de la superposition de deux géométries. Elles sont également connues sous le nom d'opérations booléennes de la théorie des ensembles de points. Certaines fonctions connexes sont également fournies. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_ClipByBox2D">ST_ClipByBox2D</a></span><span class="refpurpose"> — Calcule la partie d'une géométrie située à l'intérieur d'un rectangle.</span></li><li><span class="refentrytitle"><a href="#ST_Difference">ST_Difference</a></span><span class="refpurpose"> — Calcule une géométrie représentant la partie de la géométrie A qui n'intersecte pas la géométrie B.</span></li><li><span class="refentrytitle"><a href="#ST_Intersection">ST_Intersection</a></span><span class="refpurpose"> — Calcule une géométrie représentant la partie partagée des géométries A et B. </span></li><li><span class="refentrytitle"><a href="#ST_MemUnion">ST_MemUnion</a></span><span class="refpurpose"> — Fonction d'agrégation qui fusionne les géométries d'une manière efficace sur le plan de la mémoire mais plus lente</span></li><li><span class="refentrytitle"><a href="#ST_Node">ST_Node</a></span><span class="refpurpose"> — Nœuds d'une collection de lignes. </span></li><li><span class="refentrytitle"><a href="#ST_Split">ST_Split</a></span><span class="refpurpose"> — Renvoie une collection de géométries créées en divisant une géométrie par une autre géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_Subdivide">ST_Subdivide</a></span><span class="refpurpose"> — Calcule une subdivision rectiligne d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_SymDifference">ST_SymDifference</a></span><span class="refpurpose"> — Calcule une géométrie représentant les parties des géométries A et B qui ne s'intersectent pas.</span></li><li><span class="refentrytitle"><a href="#ST_UnaryUnion">ST_UnaryUnion</a></span><span class="refpurpose"> — Calcule l'union des composantes d'une seule géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_Union">ST_Union</a></span><span class="refpurpose"> — Calcule une géométrie représentant l'union des ensembles de points des géométries d'entrée.</span></li></ul></div><div class="refentry" id="ST_ClipByBox2D"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClipByBox2D — Calcule la partie d'une géométrie située à l'intérieur d'un rectangle.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ClipByBox2D</strong>(</code>geometry <var class="pdparam">geom</var>, box2d <var class="pdparam">box</var><code>)</code>;</p></div></div><div class="refsection" id="idm15501"><h2>Description</h2><p>Coupe une géométrie par une boîte 2D d'une manière rapide et tolérante, mais qui peut être invalide. Les géométries d'entrée topologiquement invalides n'entraînent pas la levée d'exceptions. La géométrie de sortie n'est pas garantie valide (en particulier, des auto-intersections pour un polygone peuvent être introduites). </p><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 2.2.0</p></div><div class="refsection" id="idm15506"><h2>Exemples</h2><pre class="programlisting">-- Rely on implicit cast from geometry to box2d for the second parameter
SELECT ST_ClipByBox2D(geom, ST_MakeEnvelope(0,0,10,10)) FROM mytab;
      </pre></div><div class="refsection" id="idm15509"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>, <a class="xref" href="#ST_MakeBox2D" title="ST_MakeBox2D">ST_MakeBox2D</a>, <a class="xref" href="#ST_MakeEnvelope" title="ST_MakeEnvelope">ST_MakeEnvelope</a> </p></div></div><div class="refentry" id="ST_Difference"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Difference — Calcule une géométrie représentant la partie de la géométrie A qui n'intersecte pas la géométrie B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Difference</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var>, float8  <var class="pdparam">gridSize = -1</var><code>)</code>;</p></div></div><div class="refsection" id="idm15533"><h2>Description</h2><p>Renvoie une géométrie représentant la partie de la géométrie A qui n'intersecte pas la géométrie B. Ceci est équivalent à <code class="code">A - ST_Intersection(A,B)</code>. Si A est entièrement contenue dans B, une géométrie atomique vide du type approprié est renvoyée.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Il s'agit de la seule fonction de superposition pour laquelle l'ordre d'entrée est important. ST_Difference(A, B) renvoie toujours une partie de A.</p></td></tr></table></div><p>Si l'argument optionnel <code class="code">gridSize</code> est fourni, les entrées sont placées sur une grille de la taille donnée, et les sommets du résultat sont calculés sur cette même grille. (Nécessite GEOS-3.9.0 ou plus) </p><p>Effectué par le module GEOS</p><p class="enhanced">Amélioration : 3.1.0 accepte un paramètre gridSize.</p><p class="geos_requirement">Nécessite GEOS &gt;= 3.9.0 pour utiliser le paramètre gridSize.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 5.1.20</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z.  Cependant, le résultat est calculé en utilisant uniquement XY. Les valeurs Z résultantes sont copiées, moyennées ou interpolées.</p></div><div class="refsection" id="idm15557"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                        <p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_symdifference01.png"/><div class="caption"><p>Les lignes en entrée </p></div></div></div><p>
                        </p>
                    </td><td>
                        <div class="informalfigure"><div class="mediaobject"><img src="images/st_difference01.png"/><div class="caption"><p>La différence entre les deux lignes</p></div></div></div><p>
                    </p>
                </td></tr></tbody></table></div><p>La différence entre les lignes 2D.</p><pre class="programlisting">SELECT ST_AsText(
    ST_Difference(
            'LINESTRING(50 100, 50 200)'::geometry,
            'LINESTRING(50 50, 50 150)'::geometry
        )
    );

st_astext
---------
LINESTRING(50 150,50 200)
</pre><p>La différence entre les points 3D.</p><pre class="programlisting">SELECT ST_AsEWKT( ST_Difference(
                   'MULTIPOINT(-118.58 38.38 5,-118.60 38.329 6,-118.614 38.281 7)' :: geometry,
                   'POINT(-118.614 38.281 5)' :: geometry
                  ) );

st_asewkt
---------
MULTIPOINT(-118.6 38.329 6,-118.58 38.38 5)
</pre></div><div class="refsection" id="idm15583"><h2>Voir aussi</h2><p><a class="xref" href="#ST_SymDifference" title="ST_SymDifference">ST_SymDifference</a>, <a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a></p></div></div><div class="refentry" id="ST_Intersection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Intersection — Calcule une géométrie représentant la partie partagée des géométries A et B. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Intersection</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> ,  float8 <var class="pdparam">gridSize = -1</var> <code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_Intersection</strong>(</code> geography <var class="pdparam">geogA</var> ,  geography <var class="pdparam">geogB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm15616"><h2>Description</h2><p>Renvoie une géométrie représentant l'intersection des points de deux géométries. En d'autres termes, la partie de la géométrie A et de la géométrie B qui est partagée entre les deux géométries.</p><p>Si les géométries n'ont aucun point commun (c'est-à-dire qu'elles sont disjointes), une géométrie atomique vide du type approprié est renvoyée.</p><p>Si l'argument optionnel <code class="code">gridSize</code> est fourni, les entrées sont placées sur une grille de la taille donnée, et les sommets du résultat sont calculés sur cette même grille. (Nécessite GEOS-3.9.0 ou plus) </p><p>ST_Intersection en conjonction avec <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> est utile pour découper les géométries, comme dans les requêtes sur les boîtes de délimitation, les tampons ou les régions, lorsque vous n'avez besoin que de la partie d'une géométrie qui se trouve à l'intérieur d'un pays ou d'une région d'intérêt.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>
            <span class="inlinemediaobject"><img src="images/matrix_transform.png"/></span> Pour le type geography, il s'agit d'un fin wrapper autour de l'implémentation de la géométrie.  Il détermine d'abord le meilleur SRID qui correspond à la boîte de délimitation des 2 objets géographiques (si les objets géographiques sont dans une demi-zone UTM mais pas le même UTM choisira l'un d'eux) (en favorisant UTM ou Lambert Azimuthal Equal Area (LAEA) pôle nord/sud, et en se rabattant sur mercator dans le pire des cas) et ensuite l'intersection dans ce ref spatial planaire le mieux adapté et retransforme à nouveau à la géographie WGS84.</p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction abandonne les valeurs de coordonnées M si elles sont présentes.</p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous travaillez avec des géométries 3D, vous pouvez utiliser la fonction <a class="xref" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a> basée sur SFGCAL qui réalise une intersection 3D correcte pour les géométries 3D. Bien que cette fonction fonctionne avec la coordonnée Z, elle effectue une moyenne de la coordonnée Z.</p></td></tr></table></div><p>Effectué par le module GEOS</p><p class="enhanced">Amélioration : 3.1.0 accepte un paramètre gridSize</p><p class="geos_requirement">Nécessite GEOS &gt;= 3.9.0 pour utiliser le paramètre gridSize</p><p class="changed">Modifié : 3.0.0 ne dépend pas de SFCGAL.</p><p class="availability">Disponibilité : La version 1.5 a introduit la prise en charge du type de données geography.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 5.1.18</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z.  Cependant, le résultat est calculé en utilisant uniquement XY. Les valeurs Z résultantes sont copiées, moyennées ou interpolées.</p></div><div class="refsection" id="idm15652"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_Intersection('POINT(0 0)'::geometry, 'LINESTRING ( 2 0, 0 2 )'::geometry));
 st_astext
---------------
GEOMETRYCOLLECTION EMPTY

SELECT ST_AsText(ST_Intersection('POINT(0 0)'::geometry, 'LINESTRING ( 0 0, 0 2 )'::geometry));
 st_astext
---------------
POINT(0 0)</pre><p>Découper toutes les lignes (pistes) par pays. Nous supposons ici que les géométries des pays sont des POLYGONES ou des MULTIPOLYGONES. NOTE : nous ne gardons que les intersections qui résultent en un LINESTRING ou MULTILINESTRING car nous ne nous soucions pas des tracés qui partagent juste un point. Le dump est nécessaire pour étendre une collection géométrique en parties individuelles MULT*. La méthode ci-dessous est assez générique et fonctionnera pour les polys, etc. en changeant simplement la clause where.</p><pre class="programlisting">select clipped.gid, clipped.f_name, clipped_geom
from (
         select trails.gid, trails.f_name,
             (ST_Dump(ST_Intersection(country.geom, trails.geom))).geom clipped_geom
         from country
              inner join trails on ST_Intersects(country.geom, trails.geom)
     ) as clipped
where ST_Dimension(clipped.clipped_geom) = 1;</pre><p>Pour les polys, par exemple les repères polygonaux, vous pouvez également utiliser la méthode parfois plus rapide qui consiste à mettre en mémoire tampon tout ce qui a une valeur de 0,0, à l'exception d'un polygone, afin d'obtenir une collection géométrique vide. (Ainsi, une collection géométrique contenant des polygones, des lignes et des points mis en mémoire tampon par 0.0 ne laisserait que les polygones et dissoudrait l'enveloppe de la collection.)</p><pre class="programlisting">select poly.gid,
    ST_Multi(
        ST_Buffer(
            ST_Intersection(country.geom, poly.geom),
            0.0
        )
    ) clipped_geom
from country
     inner join poly on ST_Intersects(country.geom, poly.geom)
where not ST_IsEmpty(ST_Buffer(ST_Intersection(country.geom, poly.geom), 0.0));</pre></div><div class="refsection" id="idm15659"><h2>Exemples : 2.5Dish</h2><p>Notez qu'il ne s'agit pas d'une véritable intersection, comparez avec le même exemple en utilisant <a class="xref" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a>.</p><pre class="programlisting">select ST_AsText(ST_Intersection(linestring, polygon)) As wkt
from  ST_GeomFromText('LINESTRING Z (2 2 6,1.5 1.5 7,1 1 8,0.5 0.5 8,0 0 10)') AS linestring
 CROSS JOIN ST_GeomFromText('POLYGON((0 0 8, 0 1 8, 1 1 8, 1 0 8, 0 0 8))') AS polygon;

               st_astext
---------------------------------------
 LINESTRING Z (1 1 8,0.5 0.5 8,0 0 10)
        </pre></div><div class="refsection" id="idm15664"><h2>Voir aussi</h2><p><a class="xref" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a>, <a class="xref" href="#ST_Difference" title="ST_Difference">ST_Difference</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a>, <a class="xref" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>, <a class="xref" href="#ST_SymDifference" title="ST_SymDifference">ST_SymDifference</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Multi" title="ST_Multi">ST_Multi</a></p></div></div><div class="refentry" id="ST_MemUnion"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MemUnion — Fonction d'agrégation qui fusionne les géométries d'une manière efficace sur le plan de la mémoire mais plus lente</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MemUnion</strong>(</code>geometry set <var class="pdparam">geomfield</var><code>)</code>;</p></div></div><div class="refsection" id="idm15688"><h2>Description</h2><p>Une fonction d'agrégation qui fusionne les géométries en entrée, en les fusionnant pour produire une géométrie de résultat sans chevauchement. Le résultat peut être une géométrie unique, une MultiGéométrie ou une Collection de Géométries. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Produit le même résultat que <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a>, mais utilise moins de mémoire et plus de temps processeur. Cette fonction d'agrégation fonctionne par l'union des géométries de manière incrémentale, contrairement à l'agrégation ST_Union qui accumule d'abord un tableau et en unit ensuite le contenu à l'aide d'un algorithme rapide.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z.  Cependant, le résultat est calculé en utilisant uniquement XY. Les valeurs Z résultantes sont copiées, moyennées ou interpolées.</p></div><div class="refsection" id="idm15698"><h2>Exemples</h2><pre class="programlisting">SELECT id,
       ST_MemUnion(geom) as singlegeom
FROM sometable f
GROUP BY id;
</pre></div><div class="refsection" id="idm15701"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a></p></div></div><div class="refentry" id="ST_Node"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Node — Nœuds d'une collection de lignes. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Node</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm15717"><h2>Description</h2><p>Renvoie une (Multi)LineString représentant la version entièrement "nodée" d'une collection de lignes. Le "noding" préserve tous les nœuds d'entrée et introduit le plus petit nombre possible de nouveaux nœuds. La ligne résultante est dissoute (les lignes en double sont supprimées). </p><p>Il s'agit d'un bon moyen de créer des lignes entièrement "nodées" pouvant être utilisées dans <a class="xref" href="#ST_Polygonize" title="ST_Polygonize">ST_Polygonize</a>.</p><p><a class="xref" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a> peut également être utilisé pour créer des nœuds et dissoudre des lignes. Il est possible de spécifier une taille de grille, ce qui permet d'obtenir des résultats plus simples et plus robustes. Voir aussi <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a> pour une variante agrégée. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 2.0.0</p><p class="changed">Modifié : 2.4.0 cette fonction utilise GEOSNode en interne au lieu de GEOSUnaryUnion. Cela peut entraîner un ordre et une direction différents des lignes résultantes par rapport à PostGIS &lt; 2.4. </p></div><div class="refsection" id="idm15732"><h2>Exemples</h2><p>"Noding" d'une LineString 3D qui s'auto-intersecte</p><pre class="programlisting">SELECT ST_AsText(
        ST_Node('LINESTRINGZ(0 0 0, 10 10 10, 0 10 5, 10 0 3)'::geometry)
    ) As  output;
output
-----------
MULTILINESTRING Z ((0 0 0,5 5 4.5),(5 5 4.5,10 10 10,0 10 5,5 5 4.5),(5 5 4.5,10 0 3))
        </pre><p>"Noding" de deux lignes qui partagent une structure linéaire commune. Notez que la ligne de résultat est dissoute.</p><pre class="programlisting">SELECT ST_AsText(
        ST_Node('MULTILINESTRING ((2 5, 2 1, 7 1), (6 1, 4 1, 2 3, 2 5))'::geometry)
    ) As  output;
output
-----------
MULTILINESTRING((2 5,2 3),(2 3,2 1,4 1),(4 1,2 3),(4 1,6 1),(6 1,7 1))
        </pre></div><div class="refsection" id="idm15738"><h2>Voir aussi</h2><p><a class="xref" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a> </p></div></div><div class="refentry" id="ST_Split"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Split — Renvoie une collection de géométries créées en divisant une géométrie par une autre géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Split</strong>(</code>geometry <var class="pdparam">input</var>, geometry <var class="pdparam">blade</var><code>)</code>;</p></div></div><div class="refsection" id="idm15758"><h2>Description</h2><p>Cette fonction permet de diviser une ligne par un (Multi)Point, une (Multi)Ligne ou un (Multi)Polygone, ou un (Multi)Polygone par une ligne. Lorsqu'un (Multi)Polygone est utilisé, ses composantes linéaires (la frontière) sont utilisées pour diviser l'entrée. La géométrie résultante est toujours une collection. </p><p>Cette fonction est en quelque sorte l'inverse de <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a>. L'application de ST_Union à la collection retournée devrait théoriquement donner la géométrie originale (bien qu'en raison de l'arrondi numérique, cela puisse ne pas être exactement le cas). </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si l'entrée et la "lame" ne se croisent pas en raison de problèmes de précision numérique, l'entrée peut ne pas être divisée comme prévu. Pour éviter cette situation, il peut être nécessaire d'accrocher d'abord l'entrée à la "lame", en utilisant <a class="xref" href="#ST_Snap" title="ST_Snap">ST_Snap</a> avec une petite tolérance. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0 nécessite GEOS</p><p class="enhanced">Amélioration : la version 2.2.0 prend en charge la division d'une ligne par une limite multiligne, multipoint ou (multi)polygone.</p><p class="enhanced">Amélioration : la prise en charge de la division d'un polygone par une ligne multiple a été introduite dans la version 2.5.0.</p></div><div class="refsection" id="idm15769"><h2>Exemples</h2><p>Diviser un polygone par une ligne.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                               <p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_split01.png"/><div class="caption"><p>Avant la division</p></div></div></div><p>
                                               </p>
                        </td><td>
                                               <p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_split02.png"/><div class="caption"><p>Après la division</p></div></div></div><p>
                                              </p>
                        </td></tr></tbody></table></div><pre class="programlisting">SELECT ST_AsText( ST_Split(
                ST_Buffer(ST_GeomFromText('POINT(100 90)'), 50), -- circle
                ST_MakeLine(ST_Point(10, 10),ST_Point(190, 190)) -- line
    ));

-- result --
 GEOMETRYCOLLECTION(
            POLYGON((150 90,149.039264020162 80.2454838991936,146.193976625564 70.8658283817455,..),
            POLYGON(..))
)
            </pre><p>Divise une MultiLineString par un point, où le point se trouve exactement sur les deux éléments de la LineString.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                               <p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_split03.png"/><div class="caption"><p>Avant la division</p></div></div></div><p>
                                               </p>
                        </td><td>
                                               <p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_split04.png"/><div class="caption"><p>Après la division</p></div></div></div><p>
                                               </p>
                        </td></tr></tbody></table></div><pre class="programlisting">SELECT ST_AsText(ST_Split(
    'MULTILINESTRING((10 10, 190 190), (15 15, 30 30, 100 90))',
    ST_Point(30,30))) As split;

split
------
GEOMETRYCOLLECTION(
    LINESTRING(10 10,30 30),
    LINESTRING(30 30,190 190),
    LINESTRING(15 15,30 30),
    LINESTRING(30 30,100 90)
)
            </pre><p>Diviser une ligne par un point, lorsque le point ne se trouve pas exactement sur la ligne. Montre l'utilisation de <a class="xref" href="#ST_Snap" title="ST_Snap">ST_Snap</a> pour accrocher la ligne au point afin de permettre son découpage. </p><pre class="programlisting">WITH data AS (SELECT
  'LINESTRING(0 0, 100 100)'::geometry AS line,
  'POINT(51 50)':: geometry AS point
)
SELECT ST_AsText( ST_Split( ST_Snap(line, point, 1), point)) AS snapped_split,
       ST_AsText( ST_Split(line, point)) AS not_snapped_not_split
       FROM data;

                            snapped_split                            |            not_snapped_not_split
---------------------------------------------------------------------+---------------------------------------------
 GEOMETRYCOLLECTION(LINESTRING(0 0,51 50),LINESTRING(51 50,100 100)) | GEOMETRYCOLLECTION(LINESTRING(0 0,100 100))
</pre></div><div class="refsection" id="idm15818"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Snap" title="ST_Snap">ST_Snap</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a> </p></div></div><div class="refentry" id="ST_Subdivide"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Subdivide — Calcule une subdivision rectiligne d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof geometry <strong class="fsfunc">ST_Subdivide</strong>(</code>geometry <var class="pdparam">geom</var>, integer <var class="pdparam">max_vertices=256</var>, float8 <var class="pdparam">gridSize = -1</var><code>)</code>;</p></div></div><div class="refsection" id="idm15841"><h2>Description</h2><p>Renvoie un ensemble de géométries résultant de la division de <code class="varname">geom</code> en parties à l'aide de lignes rectilignes, chaque partie ne contenant pas plus de <code class="code">max_vertices</code>. </p><p><code class="code">max_vertices</code> doit être égal ou supérieur à 5, car 5 points sont nécessaires pour représenter une boîte fermée. <code class="code">gridSize</code> peut être spécifié pour que la subdivision fonctionne dans un espace de précision fixe (nécessite GEOS-3.9.0+). </p><p>Les opérations "point dans polygone" et autres opérations spatiales sont normalement plus rapides pour les ensembles de données subdivisés et indexés. Étant donné que les boîtes de délimitation des parties couvrent généralement une zone plus petite que la boîte b de la géométrie d'origine, les requêtes d'index produisent moins de cas "hit". Les cas "hit" sont plus rapides car les opérations spatiales exécutées par la revérification de l'index traitent moins de points. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Il s'agit d'une <a class="link" href="https://www.postgresql.org/docs/current/queries-table-expressions.html#QUERIES-TABLEFUNCTIONS" target="_top">fonction de retour d'ensemble</a> (SRF) qui renvoie un ensemble de lignes contenant des valeurs de géométrie uniques. Elle peut être utilisée dans une liste SELECT ou une clause FROM pour produire un ensemble de résultats avec un enregistrement pour chaque géométrie de résultat. </p></td></tr></table></div><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 2.2.0</p><p class="enhanced">Amélioration : 2.5.0 réutilise les points existants lors de la division d'un polygone, le nombre de vertex est réduit de 8 à 5.</p><p class="enhanced">Amélioration : 3.1.0 accepte un paramètre gridSize.</p><p class="geos_requirement">Nécessite GEOS &gt;= 3.9.0 pour utiliser le paramètre gridSize</p></div><div class="refsection" id="idm15858"><h2>Exemples</h2><p><span class="bold"><strong>Exemple:</strong></span> Subdivisez un polygone en parties ne comportant pas plus de 10 sommets et attribuez à chaque partie un identifiant unique. </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_subdivide01.png"/><div class="caption"><p>Subdivisé en un maximum de 10 sommets</p></div></div></div><pre class="programlisting">SELECT row_number() OVER() As rn, ST_AsText(geom) As wkt
    FROM (SELECT ST_SubDivide(
        'POLYGON((132 10,119 23,85 35,68 29,66 28,49 42,32 56,22 64,32 110,40 119,36 150,
        57 158,75 171,92 182,114 184,132 186,146 178,176 184,179 162,184 141,190 122,
        190 100,185 79,186 56,186 52,178 34,168 18,147 13,132 10))'::geometry,10))  AS f(geom);
</pre><pre class="screen">rn │                                                      wkt
────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────────
  1 │ POLYGON((119 23,85 35,68 29,66 28,32 56,22 64,29.8260869565217 100,119 100,119 23))
  2 │ POLYGON((132 10,119 23,119 56,186 56,186 52,178 34,168 18,147 13,132 10))
  3 │ POLYGON((119 56,119 100,190 100,185 79,186 56,119 56))
  4 │ POLYGON((29.8260869565217 100,32 110,40 119,36 150,57 158,75 171,92 182,114 184,114 100,29.8260869565217 100))
  5 │ POLYGON((114 184,132 186,146 178,176 184,179 162,184 141,190 122,190 100,114 100,114 184))
  </pre><p><span class="bold"><strong>Exemple:</strong></span> Densifier une longue ligne de type geography en utilisant ST_Segmentize(geography, distance), et utiliser ST_Subdivide pour diviser la ligne résultante en sous-lignes de 8 sommets. </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_subdivide02.png"/><div class="caption"><p>Les lignes densifiées et divisées.</p></div></div></div><pre class="programlisting">SELECT ST_AsText( ST_Subdivide(
            ST_Segmentize('LINESTRING(0 0, 85 85)'::geography,
                          1200000)::geometry,    8));
</pre><pre class="screen">LINESTRING(0 0,0.487578359029357 5.57659056746196,0.984542144675897 11.1527721155093,1.50101059639722 16.7281035483571,1.94532113630331 21.25)
LINESTRING(1.94532113630331 21.25,2.04869538062779 22.3020741387339,2.64204641967673 27.8740533545155,3.29994062412787 33.443216802941,4.04836719489742 39.0084282520239,4.59890468420694 42.5)
LINESTRING(4.59890468420694 42.5,4.92498503922732 44.5680389206321,5.98737409390639 50.1195229244701,7.3290919767674 55.6587646879025,8.79638749938413 60.1969505994924)
LINESTRING(8.79638749938413 60.1969505994924,9.11375579533779 61.1785363177625,11.6558166691368 66.6648504160202,15.642041247655 72.0867690601745,22.8716627200212 77.3609628116894,24.6991785131552 77.8939011989848)
LINESTRING(24.6991785131552 77.8939011989848,39.4046096622744 82.1822848017636,44.7994523421035 82.5156766227011)
LINESTRING(44.7994523421035 82.5156766227011,85 85)
</pre><p><span class="bold"><strong>Exemple:</strong></span> Subdiviser les géométries complexes d'une table existante. Les enregistrements de la géométrie d'origine sont supprimés de la table source et de nouveaux enregistrements sont insérés pour chaque géométrie de résultat subdivisée. </p><pre class="programlisting">

WITH complex_areas_to_subdivide AS (
    DELETE from polygons_table
    WHERE ST_NPoints(geom) 
&gt; 255
    RETURNING id, column1, column2, column3, geom
)
INSERT INTO polygons_table (fid, column1, column2, column3, geom)
    SELECT fid, column1, column2, column3,
           ST_Subdivide(geom, 255) as geom
    FROM complex_areas_to_subdivide;

</pre><p><span class="bold"><strong>Exemple:</strong></span> Créer une nouvelle table contenant les géométries subdivisées, en conservant la clé de la géométrie d'origine afin que la nouvelle table puisse être jointe à la table source. Étant donné que ST_Subdivide est une fonction (tableau) qui renvoie un ensemble de lignes à valeur unique, cette syntaxe produit automatiquement un tableau avec une ligne pour chaque partie du résultat. </p><pre class="programlisting">CREATE TABLE subdivided_geoms AS
    SELECT pkey, ST_Subdivide(geom) AS geom
    FROM original_geoms;
</pre></div><div class="refsection" id="idm15886"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ClipByBox2D" title="ST_ClipByBox2D">ST_ClipByBox2D</a>, <a class="xref" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a>, <a class="xref" href="#ST_Split" title="ST_Split">ST_Split</a>, <a class="xref" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a> </p></div></div><div class="refentry" id="ST_SymDifference"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SymDifference — Calcule une géométrie représentant les parties des géométries A et B qui ne s'intersectent pas.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SymDifference</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var>, float8  <var class="pdparam">gridSize = -1</var><code>)</code>;</p></div></div><div class="refsection" id="idm15911"><h2>Description</h2><p>Renvoie une géométrie représentant les parties des géométries A et B qui ne s'intersectent pas. Ceci est équivalent à <code class="code">ST_Union(A,B) - ST_Intersection(A,B)</code>. On parle de différence symétrique car <code class="code">ST_SymDifférence(A,B) = ST_SymDifférence(B,A)</code>. </p><p>Si l'argument optionnel <code class="code">gridSize</code> est fourni, les entrées sont placées sur une grille de la taille donnée, et les sommets du résultat sont calculés sur cette même grille. (Nécessite GEOS-3.9.0 ou plus) </p><p>Effectué par le module GEOS</p><p class="enhanced">Amélioration : 3.1.0 accepte un paramètre gridSize.</p><p class="geos_requirement">Nécessite GEOS &gt;= 3.9.0 pour utiliser le paramètre gridSize</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 5.1.21</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z.  Cependant, le résultat est calculé en utilisant uniquement XY. Les valeurs Z résultantes sont copiées, moyennées ou interpolées.</p></div><div class="refsection" id="idm15934"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                        <p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_symdifference01.png"/><div class="caption"><p>Les lignes originales présentées ensemble</p></div></div></div><p>
                        </p>
                    </td><td>
                        <div class="informalfigure"><div class="mediaobject"><img src="images/st_symdifference02.png"/><div class="caption"><p>La différence symétrique des deux lignes</p></div></div></div><p>
                    </p>
                </td></tr></tbody></table></div><pre class="programlisting">--Safe for 2d - symmetric difference of 2 linestrings
SELECT ST_AsText(
    ST_SymDifference(
        ST_GeomFromText('LINESTRING(50 100, 50 200)'),
        ST_GeomFromText('LINESTRING(50 50, 50 150)')
    )
);

st_astext
---------
MULTILINESTRING((50 150,50 200),(50 50,50 100))
</pre><pre class="programlisting">--When used in 3d doesn't quite do the right thing
SELECT ST_AsEWKT(ST_SymDifference(ST_GeomFromEWKT('LINESTRING(1 2 1, 1 4 2)'),
    ST_GeomFromEWKT('LINESTRING(1 1 3, 1 3 4)')))

st_astext
------------
MULTILINESTRING((1 3 2.75,1 4 2),(1 1 3,1 2 2.25))
        </pre></div><div class="refsection" id="idm15958"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Difference" title="ST_Difference">ST_Difference</a>, <a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a></p></div></div><div class="refentry" id="ST_UnaryUnion"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_UnaryUnion — Calcule l'union des composantes d'une seule géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_UnaryUnion</strong>(</code>geometry  <var class="pdparam">geom</var>, float8  <var class="pdparam">gridSize = -1</var><code>)</code>;</p></div></div><div class="refsection" id="idm15979"><h2>Description</h2><p>Variante à entrée unique de <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a>. L'entrée peut être une géométrie unique, une MultiGeometry ou une GeometryCollection. L'union est appliquée aux éléments individuels de l'entrée. </p><p>Cette fonction peut être utilisée pour corriger les MultiPolygones qui ne sont pas valides en raison du chevauchement de leurs composants. Toutefois, les composants d'entrée doivent tous être valides. Un composant d'entrée non valide, tel qu'un polygone en nœud papillon, peut provoquer une erreur. Pour cette raison, il peut être préférable d'utiliser <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a>. </p><p>Une autre utilisation de cette fonction est de nouer et de dissoudre une collection de lignes qui se croisent ou se chevauchent pour les rendre <a class="link" href="#Simple_Geometry" title="4.4.1. Géométrie simple">simple</a>. (<a class="xref" href="#ST_Node" title="ST_Node">ST_Node</a> fait également cela, mais ne fournit pas l'option <code class="code">gridSize</code>.) </p><p>Il est possible de combiner ST_UnaryUnion avec <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a> pour affiner le nombre de géométries à unir en une seule fois. Cela permet de faire un compromis entre l'utilisation de la mémoire et le temps de calcul, en trouvant un équilibre entre ST_Union et <a class="xref" href="#ST_MemUnion" title="ST_MemUnion">ST_MemUnion</a>. </p><p>Si l'argument optionnel <code class="code">gridSize</code> est fourni, les entrées sont placées sur une grille de la taille donnée, et les sommets du résultat sont calculés sur cette même grille. (Nécessite GEOS-3.9.0 ou plus) </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z.  Cependant, le résultat est calculé en utilisant uniquement XY. Les valeurs Z résultantes sont copiées, moyennées ou interpolées.</p><p class="enhanced">Amélioration : 3.1.0 accepte un paramètre gridSize.</p><p class="geos_requirement">Nécessite GEOS &gt;= 3.9.0 pour utiliser le paramètre gridSize</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm16001"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a>, <a class="xref" href="#ST_MemUnion" title="ST_MemUnion">ST_MemUnion</a>, <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a>, <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_Node" title="ST_Node">ST_Node</a> </p></div></div><div class="refentry" id="ST_Union"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Union — Calcule une géométrie représentant l'union des ensembles de points des géométries d'entrée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Union</strong>(</code>geometry <var class="pdparam">g1</var>, geometry <var class="pdparam">g2</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Union</strong>(</code>geometry <var class="pdparam">g1</var>, geometry <var class="pdparam">g2</var>, float8 <var class="pdparam">gridSize</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Union</strong>(</code>geometry[] <var class="pdparam">g1_array</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Union</strong>(</code>geometry set <var class="pdparam">g1field</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Union</strong>(</code>geometry set <var class="pdparam">g1field</var>, float8 <var class="pdparam">gridSize</var><code>)</code>;</p></div></div><div class="refsection" id="idm16057"><h2>Description</h2><p>Unifie les géométries d'entrée, fusionne les géométries pour produire une géométrie de résultat sans chevauchement. Le résultat peut être une géométrie atomique, une MultiGeometry ou une Geometry Collection. Il existe plusieurs variantes :</p><p><span class="bold"><strong>Variante à deux entrées:</strong></span> renvoie une géométrie qui est l'union de deux géométries d'entrée. Si l'une des entrées est NULL, NULL est renvoyé. </p><p><span class="bold"><strong>Variante tableau:</strong></span> renvoie une géométrie qui est l'union d'un tableau de géométries. </p><p><span class="bold"><strong>Variante agrégée:</strong></span> renvoie une géométrie qui est l'union d'un ensemble de géométries. La fonction ST_Union() est une fonction "agrégée" dans la terminologie de PostgreSQL. Cela signifie qu'elle opère sur des lignes de données, de la même manière que les fonctions SUM() et AVG() et, comme la plupart des agrégats, elle ignore les géométries NULL.</p><p>Voir <a class="xref" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a> pour une variante non agrégée, à entrée unique.</p><p>Le tableau ST_Union et ses variantes utilisent l'algorithme rapide d'union en cascade décrit dans <a class="link" href="http://blog.cleverelephant.ca/2009/01/must-faster-unions-in-postgis-14.html" target="_top">http://blog.cleverelephant.ca/2009/01/must-faster-unions-in-postgis-14.html</a> </p><p>Un <code class="code">gridSize</code> peut être spécifiée pour travailler dans un espace de précision fixe. Les entrées sont placées sur une grille de la taille donnée, et les sommets du résultat sont calculés sur cette même grille. (Nécessite GEOS-3.9.0 ou plus) </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a> peut parfois être utilisé à la place de ST_Union, si le résultat n'a pas besoin d'être non chevauchant. ST_Collect est généralement plus rapide que ST_Union car il n'effectue aucun traitement sur les géométries collectées. </p></td></tr></table></div><p>Effectué par le module GEOS.</p><p>ST_Union crée une MultiLineString et ne fusionne pas les LineStrings en une seule LineString. Utilisez <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a> pour fusionner les LineStrings.</p><p>NOTE : cette fonction s'appelait auparavant GeomUnion(), qui a été renommée "Union" car UNION est un mot réservé de SQL.</p><p class="enhanced">Amélioration : 3.1.0 accepte un paramètre gridSize.</p><p class="geos_requirement">Nécessite GEOS &gt;= 3.9.0 pour utiliser le paramètre gridSize</p><p class="changed">Modifié : 3.0.0 ne dépend pas de SFCGAL.</p><p class="availability">Disponibilité : 1.4.0 - ST_Union a été amélioré. ST_Union(geomarray) a été introduit ainsi qu'une collecte d'agrégats plus rapide dans PostgreSQL.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.3</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La version agrégée n'est pas explicitement définie dans l'OGC SPEC.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 : 5.1.19 l'indice z (élévation) lorsque des polygones sont impliqués.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z.  Cependant, le résultat est calculé en utilisant uniquement XY. Les valeurs Z résultantes sont copiées, moyennées ou interpolées.</p></div><div class="refsection" id="idm16098"><h2>Exemples</h2><p>Exemple d'agrégat</p><pre class="programlisting">SELECT id,
       ST_Union(geom) as singlegeom
FROM sometable f
GROUP BY id;
              </pre><p>Exemple non agrégé</p><pre class="programlisting">select ST_AsText(ST_Union('POINT(1 2)' :: geometry, 'POINT(-2 3)' :: geometry))

st_astext
----------
MULTIPOINT(-2 3,1 2)

select ST_AsText(ST_Union('POINT(1 2)' :: geometry, 'POINT(1 2)' :: geometry))

st_astext
----------
POINT(1 2)</pre><p>Exemple 3D - en quelque sorte des supports 3D (et avec des dimensions mixtes !)</p><pre class="programlisting">select ST_AsEWKT(ST_Union(geom))
from (
         select 'POLYGON((-7 4.2,-7.1 4.2,-7.1 4.3, -7 4.2))'::geometry geom
         union all
         select 'POINT(5 5 5)'::geometry geom
         union all
         select 'POINT(-2 3 1)'::geometry geom
         union all
         select 'LINESTRING(5 5 5, 10 10 10)'::geometry geom
     ) as foo;

st_asewkt
---------
GEOMETRYCOLLECTION(POINT(-2 3 1),LINESTRING(5 5 5,10 10 10),POLYGON((-7 4.2 5,-7.1 4.2 5,-7.1 4.3 5,-7 4.2 5)));
</pre><p>Exemple en 3D ne mélangeant pas les dimensions</p><pre class="programlisting">select ST_AsEWKT(ST_Union(geom))
from (
         select 'POLYGON((-7 4.2 2,-7.1 4.2 3,-7.1 4.3 2, -7 4.2 2))'::geometry geom
         union all
         select 'POINT(5 5 5)'::geometry geom
         union all
         select 'POINT(-2 3 1)'::geometry geom
         union all
         select 'LINESTRING(5 5 5, 10 10 10)'::geometry geom
     ) as foo;

st_asewkt
---------
GEOMETRYCOLLECTION(POINT(-2 3 1),LINESTRING(5 5 5,10 10 10),POLYGON((-7 4.2 2,-7.1 4.2 3,-7.1 4.3 2,-7 4.2 2)))

--Examples using new Array construct
SELECT ST_Union(ARRAY(SELECT geom FROM sometable));

SELECT ST_AsText(ST_Union(ARRAY[ST_GeomFromText('LINESTRING(1 2, 3 4)'),
            ST_GeomFromText('LINESTRING(3 4, 4 5)')])) As wktunion;

--wktunion---
MULTILINESTRING((3 4,4 5),(1 2,3 4))

              </pre></div><div class="refsection" id="idm16108"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a>, <a class="xref" href="#ST_MemUnion" title="ST_MemUnion">ST_MemUnion</a>, <a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>, <a class="xref" href="#ST_Difference" title="ST_Difference">ST_Difference</a>, <a class="xref" href="#ST_SymDifference" title="ST_SymDifference">ST_SymDifference</a> </p></div></div></section><section class="section" id="Geometry_Processing"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.14. Traitement des géométries</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions permettent de calculer des constructions géométriques ou de modifier la taille ou la forme d'une géométrie. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_Buffer">ST_Buffer</a></span><span class="refpurpose"> — Calcule une géométrie couvrant tous les points situés à une distance donnée d'une géométrie. </span></li><li><span class="refentrytitle"><a href="#ST_BuildArea">ST_BuildArea</a></span><span class="refpurpose"> — Crée une géométrie polygonale formée par le tracé d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_Centroid">ST_Centroid</a></span><span class="refpurpose"> — Renvoie le centre géométrique d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_ChaikinSmoothing">ST_ChaikinSmoothing</a></span><span class="refpurpose"> — Renvoie une version lissée d'une géométrie, en utilisant l'algorithme Chaikin</span></li><li><span class="refentrytitle"><a href="#ST_ConcaveHull">ST_ConcaveHull</a></span><span class="refpurpose"> — Calcule une géométrie éventuellement concave qui contient tous les sommets de la géométrie d'entrée</span></li><li><span class="refentrytitle"><a href="#ST_ConvexHull">ST_ConvexHull</a></span><span class="refpurpose"> — Calcule l'enveloppe convexe d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_DelaunayTriangles">ST_DelaunayTriangles</a></span><span class="refpurpose"> — Renvoie la triangulation de Delaunay des sommets d'une géométrie. </span></li><li><span class="refentrytitle"><a href="#ST_FilterByM">ST_FilterByM</a></span><span class="refpurpose"> — Supprime les vertices en fonction de leur valeur M</span></li><li><span class="refentrytitle"><a href="#ST_GeneratePoints">ST_GeneratePoints</a></span><span class="refpurpose"> — Génère un multipoint de points aléatoires contenus dans un polygone ou un multipolygone.</span></li><li><span class="refentrytitle"><a href="#ST_GeometricMedian">ST_GeometricMedian </a></span><span class="refpurpose"> — Renvoie la médiane géométrique d'un MultiPoint. </span></li><li><span class="refentrytitle"><a href="#ST_LineMerge">ST_LineMerge</a></span><span class="refpurpose"> — Renvoie les lignes formées par la couture d'une MultiLineString.</span></li><li><span class="refentrytitle"><a href="#ST_MaximumInscribedCircle">ST_MaximumInscribedCircle</a></span><span class="refpurpose"> — Calcule le plus grand cercle contenu dans une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_LargestEmptyCircle">ST_LargestEmptyCircle</a></span><span class="refpurpose"> — Calcule le plus grand cercle ne recouvrant pas une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a></span><span class="refpurpose"> — Retourne le plus petit cercle polygonal qui contient une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_MinimumBoundingRadius">ST_MinimumBoundingRadius</a></span><span class="refpurpose"> — Renvoie le point central et le rayon du plus petit cercle contenant une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_OrientedEnvelope">ST_OrientedEnvelope</a></span><span class="refpurpose"> — Renvoie un rectangle de surface minimale contenant une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_OffsetCurve">ST_OffsetCurve</a></span><span class="refpurpose"> — Renvoie une ligne décalée par rapport à une distance et un côté donnés à partir d'une ligne en entrée. </span></li><li><span class="refentrytitle"><a href="#ST_PointOnSurface">ST_PointOnSurface</a></span><span class="refpurpose"> — Calcule un point dont on garantit qu'il se trouve dans un polygone ou sur une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_Polygonize">ST_Polygonize</a></span><span class="refpurpose"> — Calcule une collection de polygones formés à partir du tracé d'un ensemble de géométries. </span></li><li><span class="refentrytitle"><a href="#ST_ReducePrecision">ST_ReducePrecision</a></span><span class="refpurpose"> — Renvoie une géométrie valide dont les points sont arrondis en fonction de la tolérance de la grille.</span></li><li><span class="refentrytitle"><a href="#ST_SharedPaths">ST_SharedPaths</a></span><span class="refpurpose"> — Renvoie une collection contenant les chemins partagés par les deux lignes/multilignes en entrée.</span></li><li><span class="refentrytitle"><a href="#ST_Simplify">ST_Simplify</a></span><span class="refpurpose"> — Renvoie une représentation simplifiée d'une géométrie, en utilisant l'algorithme de Douglas-Peucker.</span></li><li><span class="refentrytitle"><a href="#ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a></span><span class="refpurpose"> — Renvoie une représentation simplifiée et valide d'une géométrie, en utilisant l'algorithme de Douglas-Peucker.</span></li><li><span class="refentrytitle"><a href="#ST_SimplifyPolygonHull">ST_SimplifyPolygonHull</a></span><span class="refpurpose"> — Calcule une enveloppe extérieure ou intérieure simplifiée préservant la topologie d'une géométrie polygonale.</span></li><li><span class="refentrytitle"><a href="#ST_SimplifyVW">ST_SimplifyVW</a></span><span class="refpurpose"> — Renvoie une représentation simplifiée d'une géométrie, en utilisant l'algorithme de Visvalingam-Whyatt</span></li><li><span class="refentrytitle"><a href="#ST_SetEffectiveArea">ST_SetEffectiveArea</a></span><span class="refpurpose"> — Définit la surface effective de chaque sommet, en utilisant l'algorithme Visvalingam-Whyatt. </span></li><li><span class="refentrytitle"><a href="#ST_TriangulatePolygon">ST_TriangulatePolygon</a></span><span class="refpurpose"> — Calcule la triangulation de Delaunay contrainte des polygones</span></li><li><span class="refentrytitle"><a href="#ST_VoronoiLines">ST_VoronoiLines</a></span><span class="refpurpose"> — Renvoie les limites des polygones de Voronoï des sommets d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_VoronoiPolygons">ST_VoronoiPolygons</a></span><span class="refpurpose"> — Renvoie les cellules de la représentation de Voronoï des sommets d'une géométrie.</span></li></ul></div><div class="refentry" id="ST_Buffer"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Buffer — Calcule une géométrie couvrant tous les points situés à une distance donnée d'une géométrie. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Buffer</strong>(</code>geometry  <var class="pdparam">g1</var>, float  <var class="pdparam">radius_of_buffer</var>, text  <var class="pdparam">buffer_style_parameters = ''</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Buffer</strong>(</code>geometry  <var class="pdparam">g1</var>, float  <var class="pdparam">radius_of_buffer</var>, integer  <var class="pdparam">num_seg_quarter_circle</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_Buffer</strong>(</code>geography  <var class="pdparam">g1</var>, float  <var class="pdparam">radius_of_buffer</var>, text  <var class="pdparam">buffer_style_parameters</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_Buffer</strong>(</code>geography  <var class="pdparam">g1</var>, float  <var class="pdparam">radius_of_buffer</var>, integer  <var class="pdparam">num_seg_quarter_circle</var><code>)</code>;</p></div></div><div class="refsection" id="idm16176"><h2>Description</h2><p>Calcule un POLYGONE ou un MULTIPOLYGONE représentant tous les points dont la distance par rapport à une geometry/geography est inférieure ou égale à une distance donnée. Une distance négative rétrécit la géométrie au lieu de l'étendre. Une distance négative peut réduire complètement un polygone, auquel cas POLYGON EMPTY est renvoyé. Pour les points et les lignes, les distances négatives renvoient toujours des résultats vides. </p><p>Pour les types geometry, la distance est spécifiée dans les unités du système de référence spatiale de la géométrie. Pour les types geography, la distance est spécifiée en mètres.</p><p>Le troisième paramètre facultatif contrôle la précision et le style du tampon. La précision des arcs de cercle dans le tampon est spécifiée en tant que nombre de segments de ligne utilisés pour approximer un quart de cercle (la valeur par défaut est de 8). Le style du tampon peut être spécifié en fournissant une liste de paires clé=valeur séparées par des blancs, comme suit : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>'quad_segs=#' : nombre de segments de ligne utilisés pour approximer un quart de cercle (8 par défaut).</p></li><li class="listitem"><p>'endcap=round|flat|square' : style d'endcap (la valeur par défaut est "round"). 'butt' est accepté comme synonyme de 'flat'.</p></li><li class="listitem"><p>'join=round|mitre|bevel' : style de jointure (la valeur par défaut est "round"). 'miter' est accepté comme synonyme de 'mitre'.</p></li><li class="listitem"><p>'mitre_limit=#.#' : limite du rapport d'angle (n'affecte que le style d'assemblage en angle). 'miter_limit' est accepté comme synonyme de 'mitre_limit'.</p></li><li class="listitem"><p>side=both|left|right' : 'left' ou 'right' effectue une mise en mémoire tampon unilatérale sur la géométrie, le côté mis en mémoire tampon étant relatif à la direction de la ligne. Ceci ne s'applique qu'à la géométrie LINESTRING et n'affecte pas les géométries POINT ou POLYGONE. Par défaut, les embouts sont carrés.</p></li></ul></div><p>
                </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>
            <span class="inlinemediaobject"><img src="images/matrix_transform.png"/></span> Pour le type geography, il s'agit d'un fin wrapper autour de l'implémentation de la géométrie.  Il détermine un système de référence spatiale planaire qui correspond le mieux à la boîte de délimitation de l'objet géographique (en essayant UTM, le pôle Nord/Sud de Lambert Azimuthal Equal Area (LAEA), et enfin Mercator). Le tampon est calculé dans l'espace planaire, puis retransformé en WGS84. Cela peut ne pas produire le comportement souhaité si l'objet d'entrée est beaucoup plus grand qu'une zone UTM ou s'il traverse la ligne de changement de date </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La sortie du tampon est toujours une géométrie polygonale valide. La mémoire tampon peut gérer des entrées non valides, de sorte que la mise en mémoire tampon par la distance 0 est parfois utilisée comme moyen de réparer les polygones non valides. <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> peut également être utilisé à cette fin. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La mise en mémoire tampon est parfois utilisée pour effectuer une recherche à l'intérieur de la distance. Dans ce cas, il est plus efficace d'utiliser <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction ignore la dimension Z. Elle donne toujours un résultat en 2D, même lorsqu'elle est utilisée sur une géométrie en 3D.</p></td></tr></table></div><p class="enhanced">Amélioration : 2.5.0 - La prise en charge de la géométrie ST_Buffer a été améliorée pour permettre la spécification de la mise en mémoire tampon latérale <code class="code">side=both|left|right</code>.</p><p class="availability">Disponibilité : 1.5 - ST_Buffer a été amélioré pour prendre en charge différents types de terminaisons et de jointures. Ceux-ci sont utiles, par exemple, pour convertir les lignes de route en routes polygonales avec des bords plats ou carrés au lieu de bords arrondis. Un petit wrapper pour la geography a été ajouté. </p><p>Effectué par le module GEOS.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 5.1.30</p></div><div class="refsection" id="idm16218"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer01.png"/><div class="caption"><p>quad_segs=8 (par défaut)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText('POINT(100 90)'),
 50, 'quad_segs=8');
                </pre><p>
                          </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer02.png"/><div class="caption"><p>quad_segs=2 (faible)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText('POINT(100 90)'),
 50, 'quad_segs=2');
                </pre><p>
                        </p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer03.png"/><div class="caption"><p>endcap=round join=round (par défaut)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'endcap=round join=round');
                </pre><p>
                         </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer04.png"/><div class="caption"><p>endcap=square</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'endcap=square join=round');
                </pre><p>
                          </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer05.png"/><div class="caption"><p>endcap=flat</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'endcap=flat join=round');
                </pre><p>
                          </p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer07.png"/><div class="caption"><p>join=bevel</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'join=bevel');
                </pre><p>
                          </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer06.png"/><div class="caption"><p>join=mitre mitre_limit=5.0 (limite de mitre par défaut)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'join=mitre mitre_limit=5.0');
                </pre><p>
                          </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer08.png"/><div class="caption"><p>join=mitre mitre_limit=1</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'join=mitre mitre_limit=1.0');
                </pre><p>
                          </p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer09.png"/><div class="caption"><p>side=left</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'side=left');
                </pre><p>
                          </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer10.png"/><div class="caption"><p>side=right</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'side=right');
                </pre><p>
                          </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer11.png"/><div class="caption"><p>side=left join=mitre</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'side=left join=mitre');
                </pre><p>
                          </p></td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer12.png"/><div class="caption"><p>enroulement à droite, limite du polygone side=left</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
ST_ForceRHR(
ST_Boundary(
 ST_GeomFromText(
'POLYGON ((50 50, 50 150, 150 150, 150 50, 50 50))'))),
 ), 20, 'side=left');
                </pre><p>
                          </p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer13.png"/><div class="caption"><p>enroulement à droite, limite du polygone side=right</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
ST_ForceRHR(
ST_Boundary(
 ST_GeomFromText(
'POLYGON ((50 50, 50 150, 150 150, 150 50, 50 50))'))
), 20,'side=right')
                </pre><p>
                </p></td></tr></tbody></table></div><pre class="programlisting">--A buffered point approximates a circle
-- A buffered point forcing approximation of (see diagram)
-- 2 points per quarter circle is poly with 8 sides (see diagram)
SELECT ST_NPoints(ST_Buffer(ST_GeomFromText('POINT(100 90)'), 50)) As promisingcircle_pcount,
ST_NPoints(ST_Buffer(ST_GeomFromText('POINT(100 90)'), 50, 2)) As lamecircle_pcount;

promisingcircle_pcount | lamecircle_pcount
------------------------+-------------------
             33 |                9

--A lighter but lamer circle
-- only 2 points per quarter circle is an octagon
--Below is a 100 meter octagon
-- Note coordinates are in NAD 83 long lat which we transform
to Mass state plane meter and then buffer to get measurements in meters;
SELECT ST_AsText(ST_Buffer(
ST_Transform(
ST_SetSRID(ST_Point(-71.063526, 42.35785),4269), 26986)
,100,2)) As octagon;
----------------------
POLYGON((236057.59057465 900908.759918696,236028.301252769 900838.049240578,235
957.59057465 900808.759918696,235886.879896532 900838.049240578,235857.59057465
900908.759918696,235886.879896532 900979.470596815,235957.59057465 901008.759918
696,236028.301252769 900979.470596815,236057.59057465 900908.759918696))
        </pre></div><div class="refsection" id="idm16346"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a>, <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a></p></div></div><div class="refentry" id="ST_BuildArea"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BuildArea — Crée une géométrie polygonale formée par le tracé d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_BuildArea</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm16367"><h2>Description</h2><p>Crée une géométrie aréolaire formée par les lignes constitutives de la géométrie d'entrée. L'entrée peut être une LineString, MultiLineString, Polygon, MultiPolygon ou une GeometryCollection. Le résultat est un Polygone ou un MultiPolygone, en fonction de l'entrée. Si la ligne d'entrée ne forme pas de polygone, NULL est renvoyé. </p><p>Contrairement à <a class="xref" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a>, cette fonction accepte les anneaux formés par plusieurs lignes et peut former un nombre quelconque de polygones. </p><p>Cette fonction convertit les anneaux intérieurs en trous. Pour transformer les anneaux intérieurs en polygones, utilisez <a class="xref" href="#ST_Polygonize" title="ST_Polygonize">ST_Polygonize</a>. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les lignes d'entrée doivent être correctement nouées pour que cette fonction fonctionne correctement. <a class="xref" href="#ST_Node" title="ST_Node">ST_Node</a> peut être utilisé pour nouer des lignes. </p><p>Si le réseau de lignes d'entrée est croisé, cette fonction produira des polygones non valides. <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> peut être utilisé pour s'assurer que la sortie est valide. </p></td></tr></table></div><p class="availability">Disponibilité : 1.1.0</p></div><div class="refsection" id="idm16380"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_buildarea02.png"/><div class="caption"><p>Lignes en entrée</p></div></div></div><p>
        </p></td><td><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_buildarea03.png"/><div class="caption"><p>Résultat de la zone</p></div></div></div><p>
        </p></td></tr></tbody></table></div><pre class="programlisting">WITH data(geom) AS (VALUES
   ('LINESTRING (180 40, 30 20, 20 90)'::geometry)
  ,('LINESTRING (180 40, 160 160)'::geometry)
  ,('LINESTRING (160 160, 80 190, 80 120, 20 90)'::geometry)
  ,('LINESTRING (80 60, 120 130, 150 80)'::geometry)
  ,('LINESTRING (80 60, 150 80)'::geometry)
)
SELECT ST_AsText( ST_BuildArea( ST_Collect( geom )))
    FROM data;

------------------------------------------------------------------------------------------
POLYGON((180 40,30 20,20 90,80 120,80 190,160 160,180 40),(150 80,120 130,80 60,150 80))
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_buildarea01.png"/><div class="caption"><p>Créer un donut à partir de deux polygones circulaires</p></div></div></div><pre class="programlisting">SELECT ST_BuildArea(ST_Collect(inring,outring))
FROM (SELECT
    ST_Buffer('POINT(100 90)', 25) As inring,
    ST_Buffer('POINT(100 90)', 50) As outring) As t;
</pre></div><div class="refsection" id="idm16410"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a>, <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a>, <a class="xref" href="#ST_Node" title="ST_Node">ST_Node</a>, <a class="xref" href="#ST_Polygonize" title="ST_Polygonize">ST_Polygonize</a>, <a class="xref" href="#ST_BdPolyFromText" title="ST_BdPolyFromText">ST_BdPolyFromText</a>, <a class="xref" href="#ST_BdMPolyFromText" title="ST_BdMPolyFromText">ST_BdMPolyFromText</a> (wrappers de cette fonction avec l'interface standard de l'OGC)</p></div></div><div class="refentry" id="ST_Centroid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Centroid — Renvoie le centre géométrique d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Centroid</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_Centroid</strong>(</code>geography  <var class="pdparam">g1</var>, boolean  <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm16441"><h2>Description</h2><p>Calcule un point qui est le centre de masse géométrique d'une géométrie. Pour [<code class="varname">MULTI</code>]<code class="varname">POINT</code>s, le centroïde est la moyenne arithmétique des coordonnées entrées. Pour les [<code class="varname">MULTI</code>]<code class="varname">LINESTRING</code>s, le centroïde est calculé en utilisant la longueur pondérée de chaque segment de ligne. Pour les [<code class="varname">MULTI</code>]<code class="varname">POLYGON</code>s, le centroïde est calculé en termes de surface. Si une géométrie vide est fournie, une <code class="varname">GEOMETRYCOLLECTION</code> vide est renvoyée. Si <code class="varname">NULL</code> est fourni, <code class="varname">NULL</code> est renvoyé. Si <code class="varname">CIRCULARSTRING</code> ou <code class="varname">COMPOUNDCURVE</code> sont fournis, ils sont convertis en linestring avec CurveToLine d'abord, puis de la même manière que pour <code class="varname">LINESTRING</code> </p><p>Pour les entrées de dimensions mixtes, le résultat est égal au centroïde de la composante Géométries de la dimension la plus élevée (puisque les géométries de dimension inférieure n'apportent aucun "poids" au centroïde).</p><p>Notez que pour les géométries polygonales, le centroïde n'est pas nécessairement situé à l'intérieur du polygone. Par exemple, voir le diagramme ci-dessous du centroïde d'un polygone en forme de C. Pour construire un point garanti à l'intérieur d'un polygone, utilisez <a class="xref" href="#ST_PointOnSurface" title="ST_PointOnSurface">ST_PointOnSurface</a>. </p><p>Nouveau dans la version 2.3.0 : prend en charge <code class="varname">CIRCULARSTRING</code> et <code class="varname">COMPOUNDCURVE</code> (en utilisant CurveToLine)</p><p class="availability">Disponibilité : la prise en charge du type geography a été introduite dans la version 2.4.0.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 8.1.4, 9.5.5</p></div><div class="refsection" id="idm16472"><h2>Exemples</h2><p>Dans les illustrations suivantes, le point rouge est le centroïde de la géométrie de la source.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_centroid01.png"/><div class="caption"><p>Centroïde d'un <code class="varname">MULTIPOINT</code></p></div></div></div></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_centroid02.png"/><div class="caption"><p>Centroïde d'une <code class="varname">LINESTRING</code></p></div></div></div></td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_centroid03.png"/><div class="caption"><p>Centroïde d'un <code class="varname">POLYGON</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_centroid04.png"/><div class="caption"><p>Centroïde d'une <code class="varname">GEOMETRYCOLLECTION</code></p></div></div></div></td></tr></tbody></table></div><pre class="programlisting">SELECT ST_AsText(ST_Centroid('MULTIPOINT ( -1 0, -1 2, -1 3, -1 4, -1 7, 0 1, 0 3, 1 1, 2 0, 6 0, 7 8, 9 8, 10 6 )'));
                st_astext
------------------------------------------
 POINT(2.30769230769231 3.30769230769231)
(1 row)

SELECT ST_AsText(ST_centroid(g))
FROM  ST_GeomFromText('CIRCULARSTRING(0 2, -1 1,0 0, 0.5 0, 1 0, 2 1, 1 2, 0.5 2, 0 2)')  AS g ;
------------------------------------------
POINT(0.5 1)


SELECT ST_AsText(ST_centroid(g))
FROM  ST_GeomFromText('COMPOUNDCURVE(CIRCULARSTRING(0 2, -1 1,0 0),(0 0, 0.5 0, 1 0),CIRCULARSTRING( 1 0, 2 1, 1 2),(1 2, 0.5 2, 0 2))' ) AS g;
------------------------------------------
POINT(0.5 1)

</pre></div><div class="refsection" id="idm16517"><h2>Voir aussi</h2><p><a class="xref" href="#ST_PointOnSurface" title="ST_PointOnSurface">ST_PointOnSurface</a>, <a class="xref" href="#ST_GeometricMedian" title="ST_GeometricMedian">ST_GeometricMedian </a></p></div></div><div class="refentry" id="ST_ChaikinSmoothing"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ChaikinSmoothing — Renvoie une version lissée d'une géométrie, en utilisant l'algorithme Chaikin</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ChaikinSmoothing</strong>(</code>geometry <var class="pdparam">geom</var>, integer <var class="pdparam">nIterations = 1</var>, boolean <var class="pdparam">preserveEndPoints = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm16540"><h2>Description</h2><p>Lisse une géométrie linéaire ou polygonale en utilisant <a class="link" href="http://www.idav.ucdavis.edu/education/CAGDNotes/Chaikins-Algorithm/Chaikins-Algorithm.html" target="_top">Chaikin's algorithm</a>. Le degré de lissage est contrôlé par le paramètre <code class="varname">nIterations</code>. À chaque itération, chaque sommet intérieur est remplacé par deux sommets situés à 1/4 de la longueur des segments de ligne précédant et suivant le sommet. Un degré raisonnable de lissage est fourni par 3 itérations ; le maximum est limité à 5. </p><p>Si <code class="varname">preserveEndPoints</code> est égal à true, les extrémités des anneaux de polygone ne sont pas lissées. Les extrémités des lignes sont toujours préservées. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le nombre de sommets double à chaque itération, de sorte que la géométrie résultante peut comporter beaucoup plus de points que la géométrie d'entrée. Pour réduire le nombre de points, utilisez une fonction de simplification sur le résultat (voir <a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>, <a class="xref" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a> et <a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a>). </p></td></tr></table></div><p>Le résultat comporte des valeurs interpolées pour les dimensions Z et M lorsqu'elles sont présentes.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p class="availability">Disponibilité : 2.5.0</p></div><div class="refsection" id="idm16558"><h2>Exemples</h2><p>Lissage d'un triangle :</p><pre class="programlisting">SELECT ST_AsText(ST_ChaikinSmoothing(geom)) smoothed
FROM (SELECT  'POLYGON((0 0, 8 8, 0 16, 0 0))'::geometry geom) AS foo;

                 smoothed
───────────────────────────────────────────
 POLYGON((2 2,6 6,6 10,2 14,0 12,0 4,2 2))
</pre><p>Lissage d'un polygone en utilisant 1, 2 et 3 itérations :</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_chaikinsmoothing01.png"/><div class="caption"><p>nIterations = 1</p></div></div></div></td><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_chaikinsmoothing02.png"/><div class="caption"><p>nIterations = 2</p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_chaikinsmoothing03.png"/><div class="caption"><p>nIterations = 3</p></div></div></div></td></tr></tbody></table></div><pre class="programlisting">SELECT ST_ChaikinSmoothing(
            'POLYGON ((20 20, 60 90, 10 150, 100 190, 190 160, 130 120, 190 50, 140 70, 120 10, 90 60, 20 20))',
            generate_series(1, 3) );
</pre><p>Lissage d'une LineString en utilisant 1, 2 et 3 itérations :</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_chaikinsmoothing04.png"/><div class="caption"><p>nIterations = 1</p></div></div></div></td><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_chaikinsmoothing05.png"/><div class="caption"><p>nIterations = 2</p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_chaikinsmoothing06.png"/><div class="caption"><p>nIterations = 3</p></div></div></div></td></tr></tbody></table></div><pre class="programlisting">SELECT ST_ChaikinSmoothing(
            'LINESTRING (10 140, 80 130, 100 190, 190 150, 140 20, 120 120, 50 30, 30 100)',
            generate_series(1, 3) );
</pre></div><div class="refsection" id="idm16622"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>, <a class="xref" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a>, <a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a></p></div></div><div class="refentry" id="ST_ConcaveHull"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ConcaveHull — Calcule une géométrie éventuellement concave qui contient tous les sommets de la géométrie d'entrée</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ConcaveHull</strong>(</code>geometry  <var class="pdparam">param_geom</var>, float  <var class="pdparam">param_pctconvex</var>, boolean  <var class="pdparam">param_allow_holes = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm16646"><h2>Description</h2><p>Une enveloppe concave est une géométrie (généralement) concave qui contient l'entrée et dont les sommets sont un sous-ensemble des sommets de l'entrée. Dans le cas général, l'enveloppe concave est un polygone. L'enveloppe concave de deux ou plusieurs points colinéaires est une ligne à deux points. L'enveloppe concave d'un ou plusieurs points identiques est un Point. Le polygone ne contiendra pas de trous à moins que l'argument facultatif <code class="varname">param_allow_holes</code> ne soit spécifié comme vrai. </p><p>On peut considérer qu'une enveloppe concave "rétrécit" un ensemble de points. Cela diffère de la <a class="link" href="#ST_ConvexHull" title="ST_ConvexHull">convex hull</a>, qui revient à enrouler un élastique autour des points. Une enveloppe concave a généralement une surface plus petite et représente une limite plus naturelle pour les points d'entrée. </p><p>La <code class="varname">param_pctconvex</code> contrôle la concavité de l'enveloppe calculée. Une valeur de 1 produit une enveloppe convexe. Les valeurs comprises entre 1 et 0 produisent des enveloppes de concavité croissante. Une valeur de 0 produit une enveloppe avec une concavité maximale (mais toujours un polygone unique). Le choix d'une valeur appropriée dépend de la nature des données d'entrée, mais des valeurs comprises entre 0,3 et 0,1 produisent souvent des résultats raisonnables. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Techniquement, la <code class="varname">param_pctconvex</code> détermine une longueur comme une fraction de la différence entre les arêtes les plus longues et les plus courtes dans la triangulation de Delaunay des points d'entrée. Les arêtes plus longues que cette longueur sont "érodées" de la triangulation. Les triangles restants forment l'enveloppe concave. </p></td></tr></table></div><p>Pour les entrées ponctuelles et linéaires, l'enveloppe englobe tous les points de l'entrée. Pour les entrées polygonales, l'enveloppe englobera tous les points de l'entrée <span class="emphasis"><em>et aussi</em></span> toutes les zones couvertes par l'entrée. Si vous souhaitez obtenir une enveloppe ponctuelle d'une entrée polygonale, convertissez-la d'abord en points à l'aide de <a class="xref" href="#ST_Points" title="ST_Points">ST_Points</a>.</p><p>Il ne s'agit pas d'une fonction d'agrégation. Pour calculer l'enveloppe concave d'un ensemble de géométries, utilisez <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a> (par exemple <code class="code">ST_ConcaveHull( ST_Collect( geom ), 0.80)</code>.</p><p class="availability">Disponibilité : 2.0.0</p><p class="enhanced">Amélioré : 3.3.0, implémentation native de GEOS activée pour GEOS 3.11+</p></div><div class="refsection" id="idm16665"><h2>Exemples</h2><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_concavehull01.png"/><div class="caption"><p>Enveloppe concave d'un MultiPoint</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_AsText( ST_ConcaveHull(
        'MULTIPOINT ((10 72), (53 76), (56 66), (63 58), (71 51), (81 48), (91 46), (101 45), (111 46), (121 47), (131 50), (140 55), (145 64), (144 74), (135 80), (125 83), (115 85), (105 87), (95 89), (85 91), (75 93), (65 95), (55 98), (45 102), (37 107), (29 114), (22 122), (19 132), (18 142), (21 151), (27 160), (35 167), (44 172), (54 175), (64 178), (74 180), (84 181), (94 181), (104 181), (114 181), (124 181), (134 179), (144 177), (153 173), (162 168), (171 162), (177 154), (182 145), (184 135), (139 132), (136 142), (128 149), (119 153), (109 155), (99 155), (89 155), (79 153), (69 150), (61 144), (63 134), (72 128), (82 125), (92 123), (102 121), (112 119), (122 118), (132 116), (142 113), (151 110), (161 106), (170 102), (178 96), (185 88), (189 78), (190 68), (189 58), (185 49), (179 41), (171 34), (162 29), (153 25), (143 23), (133 21), (123 19), (113 19), (102 19), (92 19), (82 19), (72 21), (62 22), (52 25), (43 29), (33 34), (25 41), (19 49), (14 58), (21 73), (31 74), (42 74), (173 134), (161 134), (150 133), (97 104), (52 117), (157 156), (94 171), (112 106), (169 73), (58 165), (149 40), (70 33), (147 157), (48 153), (140 96), (47 129), (173 55), (144 86), (159 67), (150 146), (38 136), (111 170), (124 94), (26 59), (60 41), (71 162), (41 64), (88 110), (122 34), (151 97), (157 56), (39 146), (88 33), (159 45), (47 56), (138 40), (129 165), (33 48), (106 31), (169 147), (37 122), (71 109), (163 89), (37 156), (82 170), (180 72), (29 142), (46 41), (59 155), (124 106), (157 80), (175 82), (56 50), (62 116), (113 95), (144 167))',
         0.1 ) );
---st_astext--
POLYGON ((18 142, 21 151, 27 160, 35 167, 44 172, 54 175, 64 178, 74 180, 84 181, 94 181, 104 181, 114 181, 124 181, 134 179, 144 177, 153 173, 162 168, 171 162, 177 154, 182 145, 184 135, 173 134, 161 134, 150 133, 139 132, 136 142, 128 149, 119 153, 109 155, 99 155, 89 155, 79 153, 69 150, 61 144, 63 134, 72 128, 82 125, 92 123, 102 121, 112 119, 122 118, 132 116, 142 113, 151 110, 161 106, 170 102, 178 96, 185 88, 189 78, 190 68, 189 58, 185 49, 179 41, 171 34, 162 29, 153 25, 143 23, 133 21, 123 19, 113 19, 102 19, 92 19, 82 19, 72 21, 62 22, 52 25, 43 29, 33 34, 25 41, 19 49, 14 58, 10 72, 21 73, 31 74, 42 74, 53 76, 56 66, 63 58, 71 51, 81 48, 91 46, 101 45, 111 46, 121 47, 131 50, 140 55, 145 64, 144 74, 135 80, 125 83, 115 85, 105 87, 95 89, 85 91, 75 93, 65 95, 55 98, 45 102, 37 107, 29 114, 22 122, 19 132, 18 142))
    </pre><p>
</p><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_concavehull02.png"/><div class="caption"><p>Enveloppe concave d'un MultiPoint, autorisant des trous</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_AsText( ST_ConcaveHull(
        'MULTIPOINT ((132 64), (114 64), (99 64), (81 64), (63 64), (57 49), (52 36), (46 20), (37 20), (26 20), (32 36), (39 55), (43 69), (50 84), (57 100), (63 118), (68 133), (74 149), (81 164), (88 180), (101 180), (112 180), (119 164), (126 149), (132 131), (139 113), (143 100), (150 84), (157 69), (163 51), (168 36), (174 20), (163 20), (150 20), (143 36), (139 49), (132 64), (99 151), (92 138), (88 124), (81 109), (74 93), (70 82), (83 82), (99 82), (112 82), (126 82), (121 96), (114 109), (110 122), (103 138), (99 151), (34 27), (43 31), (48 44), (46 58), (52 73), (63 73), (61 84), (72 71), (90 69), (101 76), (123 71), (141 62), (166 27), (150 33), (159 36), (146 44), (154 53), (152 62), (146 73), (134 76), (143 82), (141 91), (130 98), (126 104), (132 113), (128 127), (117 122), (112 133), (119 144), (108 147), (119 153), (110 171), (103 164), (92 171), (86 160), (88 142), (79 140), (72 124), (83 131), (79 118), (68 113), (63 102), (68 93), (35 45))',
         0.15, true ) );
---st_astext--
POLYGON ((43 69, 50 84, 57 100, 63 118, 68 133, 74 149, 81 164, 88 180, 101 180, 112 180, 119 164, 126 149, 132 131, 139 113, 143 100, 150 84, 157 69, 163 51, 168 36, 174 20, 163 20, 150 20, 143 36, 139 49, 132 64, 114 64, 99 64, 81 64, 63 64, 57 49, 52 36, 46 20, 37 20, 26 20, 32 36, 35 45, 39 55, 43 69), (88 124, 81 109, 74 93, 83 82, 99 82, 112 82, 121 96, 114 109, 110 122, 103 138, 92 138, 88 124))
    </pre><p>
</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_concavehull03.png"/><div class="caption"><p><code class="varname">polygon_hull</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_concavehull04.png"/><div class="caption"><p><code class="varname">points_hull</code></p></div></div></div></td></tr></tbody></table></div><p>Comparaison entre l'enveloppe concave d'un polygone et l'enveloppe concave des points qui le composent. L'enveloppe respecte les limites du polygone, ce qui n'est pas le cas de l'enveloppe basée sur les points. </p><pre class="programlisting">WITH data(geom) AS (VALUES
   ('POLYGON ((10 90, 39 85, 61 79, 50 90, 80 80, 95 55, 25 60, 90 45, 70 16, 63 38, 60 10, 50 30, 43 27, 30 10, 20 20, 10 90))'::geometry)
)
SELECT  ST_ConcaveHull( geom,            0.1) AS polygon_hull,
        ST_ConcaveHull( ST_Points(geom), 0.1) AS points_hull
    FROM data;
</pre><p>Utilisation avec ST_Collect pour calculer l'enveloppe concave d'un ensemble géométrique.</p><pre class="programlisting">-- Compute estimate of infected area based on point observations
SELECT disease_type,
    ST_ConcaveHull( ST_Collect(obs_pnt), 0.3 ) AS geom
  FROM disease_obs
  GROUP BY disease_type;
</pre></div><div class="refsection" id="idm16709"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>, <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_AlphaShape" title="ST_AlphaShape">ST_AlphaShape</a>, <a class="xref" href="#ST_OptimalAlphaShape" title="ST_OptimalAlphaShape">ST_OptimalAlphaShape</a></p></div></div><div class="refentry" id="ST_ConvexHull"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ConvexHull — Calcule l'enveloppe convexe d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ConvexHull</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm16728"><h2>Description</h2><p>Calcule l'enveloppe convexe d'une géométrie. L'enveloppe convexe est la plus petite géométrie convexe qui englobe toutes les géométries de l'entrée.</p><p>On peut considérer l'enveloppe convexe comme la géométrie obtenue en enroulant un élastique autour d'un ensemble de géométries. Ceci est différent d'une <a class="link" href="#ST_ConcaveHull" title="ST_ConcaveHull">concave hull</a> qui est analogue à un "rétrécissement" des géométries. Une enveloppe convexe est souvent utilisée pour déterminer une zone affectée sur la base d'un ensemble d'observations ponctuelles.</p><p>Dans le cas général, l'enveloppe convexe est un polygone. L'enveloppe convexe de deux ou plusieurs points colinéaires est une LineString à deux points. L'enveloppe convexe d'un ou plusieurs points identiques est un Point.</p><p>Il ne s'agit pas d'une fonction d'agrégation. Pour calculer l'enveloppe convexe d'un ensemble de géométries, utilisez <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a> pour les agréger dans une collection de géométries (par exemple <code class="code">ST_ConvexHull(ST_Collect(geom))</code>.</p><p>Effectué par le module GEOS</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 5.1.16</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm16751"><h2>Exemples</h2><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_convexhull01.png"/><div class="caption"><p>Enveloppe convexe d'une MultiLinestring et d'un MultiPoint</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_AsText(ST_ConvexHull(
    ST_Collect(
        ST_GeomFromText('MULTILINESTRING((100 190,10 8),(150 10, 20 30))'),
            ST_GeomFromText('MULTIPOINT(50 5, 150 30, 50 10, 10 10)')
            )) );
---st_astext--
POLYGON((50 5,10 8,10 10,100 190,150 30,150 10,50 5))
    </pre><p>
</p><p>Utilisation avec ST_Collect pour calculer les enveloppes convexes des ensembles géométriques.</p><pre class="programlisting">--Get estimate of infected area based on point observations
SELECT d.disease_type,
    ST_ConvexHull(ST_Collect(d.geom)) As geom
    FROM disease_obs As d
    GROUP BY d.disease_type;
</pre></div><div class="refsection" id="idm16763"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>, <a class="xref" href="#ST_MinimumBoundingCircle" title="ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a></p></div></div><div class="refentry" id="ST_DelaunayTriangles"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DelaunayTriangles — Renvoie la triangulation de Delaunay des sommets d'une géométrie. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_DelaunayTriangles</strong>(</code>geometry  <var class="pdparam">g1</var>, float  <var class="pdparam">tolerance = 0.0</var>, int4  <var class="pdparam">flags = 0</var><code>)</code>;</p></div></div><div class="refsection" id="idm16787"><h2>Description</h2><p>Calcule la <a class="link" href="http://en.wikipedia.org/wiki/Delaunay_triangulation" target="_top"> Delaunay triangulation</a> des sommets de la géométrie d'entrée. La <code class="varname">tolerance</code> optionnelle peut être utilisée pour regrouper les sommets proches, ce qui améliore la robustesse dans certaines situations. La géométrie résultante est délimitée par l'enveloppe convexe des sommets de la géométrie d'entrée. La représentation de la géométrie résultante est déterminée par le code <code class="varname">flags</code> : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">0</code> - une collection de géométries de POLYGONES triangulaires (par défaut) </p></li><li class="listitem"><p><code class="code">1</code> - une MULTILINESTRING des arêtes de la triangulation </p></li><li class="listitem"><p><code class="code">2</code> - Un TIN de la triangulation </p></li></ul></div><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm16813"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_delaunaytriangles01.png"/><div class="caption"><p>Polygones d'origine</p></div></div></div>
<pre class="programlisting"><em class="lineannotation"><span class="lineannotation">our original geometry</span></em>
    ST_Union(ST_GeomFromText('POLYGON((175 150, 20 40,
            50 60, 125 100, 175 150))'),
        ST_Buffer(ST_GeomFromText('POINT(110 170)'), 20)
        )</pre></td></tr><tr><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_delaunaytriangles03.png"/><div class="caption"><p>ST_DelaunayTriangles de 2 polygones : polygones de triangle delaunay, chaque triangle est thématisé dans une couleur différente</p></div></div></div><p>
                </p><pre class="programlisting"><em class="lineannotation"><span class="lineannotation">
geometries overlaid multilinestring triangles
</span></em>
SELECT
    ST_DelaunayTriangles(
        ST_Union(ST_GeomFromText('POLYGON((175 150, 20 40,
            50 60, 125 100, 175 150))'),
        ST_Buffer(ST_GeomFromText('POINT(110 170)'), 20)
        ))
     As  dtriag;
                </pre><p>
                          </p></td></tr><tr><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_delaunaytriangles02.png"/><div class="caption"><p>-- triangles de delaunay en tant que multilignes</p></div></div></div><p>
                </p><pre class="programlisting">SELECT
    ST_DelaunayTriangles(
        ST_Union(ST_GeomFromText('POLYGON((175 150, 20 40,
            50 60, 125 100, 175 150))'),
        ST_Buffer(ST_GeomFromText('POINT(110 170)'), 20)
        ),0.001,1)
     As  dtriag;</pre><p>
                        </p></td></tr><tr><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_delaunaytriangles04.png"/><div class="caption"><p>-- triangles de delaunay de 45 points sous forme de 55 polygones triangulaires</p></div></div></div><p>
                </p><pre class="programlisting"><em class="lineannotation"><span class="lineannotation">
this produces a table of 42 points that form an L shape
</span></em>
SELECT (ST_DumpPoints(ST_GeomFromText(
'MULTIPOINT(14 14,34 14,54 14,74 14,94 14,114 14,134 14,
150 14,154 14,154 6,134 6,114 6,94 6,74 6,54 6,34 6,
14 6,10 6,8 6,7 7,6 8,6 10,6 30,6 50,6 70,6 90,6 110,6 130,
6 150,6 170,6 190,6 194,14 194,14 174,14 154,14 134,14 114,
14 94,14 74,14 54,14 34,14 14)'))).geom
    INTO TABLE l_shape;
<em class="lineannotation"><span class="lineannotation">
output as individual polygon triangles
</span></em>
SELECT ST_AsText((ST_Dump(geom)).geom) As wkt
FROM ( SELECT ST_DelaunayTriangles(ST_Collect(geom)) As geom
FROM l_shape) As foo;

<em class="lineannotation"><span class="lineannotation">
wkt
</span></em>
POLYGON((6 194,6 190,14 194,6 194))
POLYGON((14 194,6 190,14 174,14 194))
POLYGON((14 194,14 174,154 14,14 194))
POLYGON((154 14,14 174,14 154,154 14))
POLYGON((154 14,14 154,150 14,154 14))
POLYGON((154 14,150 14,154 6,154 14))
</pre><p>
                        </p></td></tr></tbody></table></div><p>Exemple utilisant des sommets avec des valeurs Z.</p><pre class="programlisting"><em class="lineannotation"><span class="lineannotation">
3D multipoint
</span></em>
SELECT ST_AsText(ST_DelaunayTriangles(ST_GeomFromText(
         'MULTIPOINT Z(14 14 10, 150 14 100,34 6 25, 20 10 150)'))) As wkt;

<em class="lineannotation"><span class="lineannotation">
wkt
</span></em>
GEOMETRYCOLLECTION Z (POLYGON Z ((14 14 10,20 10 150,34 6 25,14 14 10))
 ,POLYGON Z ((14 14 10,34 6 25,150 14 100,14 14 10)))</pre></div><div class="refsection" id="idm16867"><h2>Voir aussi</h2><p><a class="xref" href="#ST_VoronoiPolygons" title="ST_VoronoiPolygons">ST_VoronoiPolygons</a>, <a class="xref" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a>, <a class="xref" href="#ST_ConstrainedDelaunayTriangles" title="ST_ConstrainedDelaunayTriangles">ST_ConstrainedDelaunayTriangles</a>, <a class="xref" href="#ST_VoronoiLines" title="ST_VoronoiLines">ST_VoronoiLines</a>, <a class="xref" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a> </p></div></div><div class="refentry" id="ST_FilterByM"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_FilterByM — Supprime les vertices en fonction de leur valeur M</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_FilterByM</strong>(</code>geometry <var class="pdparam">geom</var>, double precision <var class="pdparam">min</var>, double precision <var class="pdparam">max = null</var>, boolean <var class="pdparam">returnM = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm16896"><h2>Description</h2><p>Filtre les points de sommet en fonction de leur valeur M. Renvoie une géométrie contenant uniquement les points de sommet dont la valeur M est supérieure ou égale à la valeur min et inférieure ou égale à la valeur max. Si l'argument max-value est omis, seule la valeur min est prise en compte. Si le quatrième argument est omis, la valeur m ne figurera pas dans la géométrie résultante. Si la géométrie résultante a trop peu de points de vertex pour son type de géométrie, une géométrie vide sera renvoyée. Dans une collection de géométries, les géométries qui n'ont pas assez de points seront simplement éliminées silencieusement.</p><p>Cette fonction est principalement destinée à être utilisée en conjonction avec ST_SetEffectiveArea. ST_EffectiveArea définit la surface effective d'un sommet dans sa valeur m. Avec ST_FilterByM, il est possible d'obtenir une version simplifiée de la géométrie sans aucun calcul, simplement en filtrant</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Il existe une différence entre ST_SimplifyVW et ST_FilterByM en ce qui concerne la géométrie renvoyée lorsque le nombre de points répondant aux critères n'est pas suffisant. ST_SimplifyVW renvoie la géométrie avec suffisamment de points alors que ST_FilterByM renvoie une géométrie vide</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Notez que la géométrie renvoyée peut être invalide</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction renvoie toutes les dimensions, y compris les valeurs Z et M</p></td></tr></table></div><p class="availability">Disponibilité : 2.5.0</p></div><div class="refsection" id="idm16907"><h2>Exemples</h2><p>Une ligne est filtrée</p><pre class="programlisting">SELECT ST_AsText(ST_FilterByM(geom,30)) simplified
FROM (SELECT  ST_SetEffectiveArea('LINESTRING(5 2, 3 8, 6 20, 7 25, 10 10)'::geometry) geom) As foo;
<em class="lineannotation"><span class="lineannotation">
result
</span></em>
         simplified
----------------------------
 LINESTRING(5 2,7 25,10 10)
                </pre></div><div class="refsection" id="idm16912"><h2>Voir aussi</h2><p><a class="xref" href="#ST_SetEffectiveArea" title="ST_SetEffectiveArea">ST_SetEffectiveArea</a>, <a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a></p></div></div><div class="refentry" id="ST_GeneratePoints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeneratePoints — Génère un multipoint de points aléatoires contenus dans un polygone ou un multipolygone.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeneratePoints</strong>(</code>geometry <var class="pdparam">g</var>, integer <var class="pdparam">npoints</var>, integer <var class="pdparam">seed = 0</var><code>)</code>;</p></div></div><div class="refsection" id="idm16935"><h2>Description</h2><p>ST_GeneratePoints génère un multipoint composé d'un nombre donné de points pseudo-aléatoires situés dans la zone d'entrée. Le paramètre facultatif <code class="varname">seed</code> est utilisé pour régénérer une séquence déterministe de points et doit être supérieur à zéro. </p><p class="availability">Disponibilité : 2.3.0</p><p class="enhanced">Amélioration : 3.0.0, ajout du paramètre seed</p></div><div class="refsection" id="idm16941"><h2>Exemples</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_generatepoints01.png"/><div class="caption"><p>Génération d'un multipoint composé de 12 points superposés au polygone d'origine en utilisant une valeur de départ aléatoire 1996</p></div></div></div><p>
                        </p><pre class="programlisting">SELECT ST_GeneratePoints(geom, 12, 1996)
FROM (
    SELECT ST_Buffer(
        ST_GeomFromText(
        'LINESTRING(50 50,150 150,150 50)'),
        10, 'endcap=round join=round') AS geom
) AS s;</pre><p>
            </p><p>Etant donné un tableau de polygones s, retourner 12 points individuels par polygone. Les résultats seront différents à chaque exécution.</p><pre class="programlisting">SELECT s.id, dp.path[1] AS pt_id, dp.geom
FROM s, ST_DumpPoints(ST_GeneratePoints(s.geom,12)) AS dp;</pre></div><div class="refsection" id="idm16953"><h2>Voir aussi</h2><p><a class="xref" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a></p></div></div><div class="refentry" id="ST_GeometricMedian"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeometricMedian  — Renvoie la médiane géométrique d'un MultiPoint. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeometricMedian</strong> (</code> geometry <var class="pdparam">geom</var>, float8 <var class="pdparam">tolerance = NULL</var>, int <var class="pdparam">max_iter = 10000</var>, boolean <var class="pdparam">fail_if_not_converged = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm16978"><h2>Description</h2><p>Calcule la médiane géométrique approximative d'une géométrie MultiPoint à l'aide de l'algorithme de Weiszfeld. La médiane géométrique est le point qui minimise la somme des distances aux points d'entrée. Elle fournit une mesure de centralité moins sensible aux points aberrants que le centroïde (centre de masse). </p><p>L'algorithme itère jusqu'à ce que la variation de la distance entre les itérations successives soit inférieure au paramètre <code class="varname">tolerance</code> fourni. Si cette condition n'est pas remplie après <code class="varname">max_iterations</code> itérations, la fonction produit une erreur et se termine, à moins que <code class="varname">fail_fif_not_converged</code> ne soit fixé à <code class="code">false</code> (par défaut). </p><p>Si l'argument <code class="varname">tolerance</code> n'est pas fourni, la valeur de la tolérance est calculée sur la base de l'étendue de la géométrie d'entrée. </p><p>Si elle est présente, les valeurs M des points d'entrée sont interprétées comme leurs poids relatifs. </p><p class="availability">Disponibilité : 2.3.0</p><p class="enhanced">Amélioré : 2.5.0 Ajout de la prise en charge de M comme poids des points.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les coordonnées M. </p></div><div class="refsection" id="idm16999"><h2>Exemples</h2><p>
          </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_geometricmedian01.png"/><div class="caption"><p>Comparaison de la médiane géométrique (rouge) et du centroïde (turquoise) d'un MultiPoint. </p></div></div></div><p>
      </p><pre class="programlisting">WITH test AS (
SELECT 'MULTIPOINT((10 10), (10 40), (40 10), (190 190))'::geometry geom)
SELECT
  ST_AsText(ST_Centroid(geom)) centroid,
  ST_AsText(ST_GeometricMedian(geom)) median
FROM test;

      centroid      |                 median
--------------------+----------------------------------------
   POINT(62.5 62.5) | POINT(25.01778421249728 25.01778421249728)
(1 row)
      </pre></div><div class="refsection" id="idm17009"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a></p></div></div><div class="refentry" id="ST_LineMerge"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineMerge — Renvoie les lignes formées par la couture d'une MultiLineString.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineMerge</strong>(</code>geometry  <var class="pdparam">amultilinestring</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineMerge</strong>(</code>geometry  <var class="pdparam">amultilinestring</var>, boolean  <var class="pdparam">directed</var><code>)</code>;</p></div></div><div class="refsection" id="idm17034"><h2>Description</h2><p>Renvoie une LineString ou une MultiLineString formée par l'assemblage des éléments de ligne d'une MultiLineString. Les lignes sont jointes à leurs extrémités aux intersections à 2 voies. Les lignes ne sont pas jointes aux intersections à 3 voies ou plus. </p><p>Si <span class="bold"><strong>directed</strong></span> est TRUE, ST_LineMerge ne modifiera pas l'ordre des points dans les LineStrings, de sorte que les lignes ayant des directions opposées ne seront pas fusionnées</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A n'utiliser qu'avec les MultiLineString/LineStrings. Les autres types de géométrie renvoient une GeometryCollection vide</p></td></tr></table></div><p>Effectué par le module GEOS.</p><p class="enhanced">Amélioration : 3.3.0 accepte un paramètre direct.</p><p class="geos_requirement">GEOS &gt;= 3.11.0 est nécessaire pour utiliser le paramètre direct.</p><p class="availability">Disponibilité : 1.1.0</p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction supprime la dimension M.</p></td></tr></table></div></div><div class="refsection" id="idm17047"><h2>Exemples</h2><p>
          </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_linemerge01.png"/><div class="caption"><p>Fusionner des lignes d'orientation différente. </p></div></div></div><p>
      </p><pre class="programlisting">SELECT ST_AsText(ST_LineMerge(
'MULTILINESTRING((10 160, 60 120), (120 140, 60 120), (120 140, 180 120))'
                ));
--------------------------------------------
 LINESTRING(10 160,60 120,120 140,180 120)
</pre><p>
          </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_linemerge02.png"/><div class="caption"><p>Les lignes ne sont pas fusionnées aux intersections de degré &gt; 2. </p></div></div></div><p>
      </p><pre class="programlisting">SELECT ST_AsText(ST_LineMerge(
'MULTILINESTRING((10 160, 60 120), (120 140, 60 120), (120 140, 180 120), (100 180, 120 140))'
                ));
--------------------------------------------
 MULTILINESTRING((10 160,60 120,120 140),(100 180,120 140),(120 140,180 120))
</pre><p>Si la fusion n'est pas possible en raison de lignes qui ne se touchent pas, la MultiLineString d'origine est renvoyée.</p><pre class="programlisting">SELECT ST_AsText(ST_LineMerge(
'MULTILINESTRING((-29 -27,-30 -29.7,-36 -31,-45 -33),(-45.2 -33.2,-46 -32))'
));
----------------
MULTILINESTRING((-45.2 -33.2,-46 -32),(-29 -27,-30 -29.7,-36 -31,-45 -33))
</pre><p>
	</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_linemerge03.png"/><div class="caption"><p>Les lignes de directions opposées ne sont pas fusionnées si directed = TRUE.</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText(ST_LineMerge(
'MULTILINESTRING((60 30, 10 70), (120 50, 60 30), (120 50, 180 30))',
TRUE));
-------------------------------------------------------
 MULTILINESTRING((120 50,60 30,10 70),(120 50,180 30))
</pre><p>Exemple de traitement de la dimension Z.</p><pre class="programlisting">SELECT ST_AsText(ST_LineMerge(
      'MULTILINESTRING((-29 -27 11,-30 -29.7 10,-36 -31 5,-45 -33 6), (-29 -27 12,-30 -29.7 5), (-45 -33 1,-46 -32 11))'
        ));
--------------------------------------------------------------------------------------------------
LINESTRING Z (-30 -29.7 5,-29 -27 11,-30 -29.7 10,-36 -31 5,-45 -33 1,-46 -32 11)
</pre></div><div class="refsection" id="idm17077"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a>, <a class="xref" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a></p></div></div><div class="refentry" id="ST_MaximumInscribedCircle"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MaximumInscribedCircle — Calcule le plus grand cercle contenu dans une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">(geometry, geometry, double precision) <strong class="fsfunc">ST_MaximumInscribedCircle</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm17094"><h2>Description</h2><p>Trouve le plus grand cercle contenu dans un (multi)polygone, ou qui ne chevauche aucune ligne ni aucun point. Renvoie un enregistrement avec des champs : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">center</code> - point central du cercle </p></li><li class="listitem"><p><code class="varname">nearest</code> - un point de la géométrie le plus proche du centre </p></li><li class="listitem"><p><code class="varname">radius</code> - rayon du cercle </p></li></ul></div><p>Pour les entrées polygonales, le cercle est inscrit dans les anneaux de délimitation, en utilisant les anneaux internes comme limites. Pour les entrées linéaires et ponctuelles, le cercle est inscrit dans l'enveloppe convexe de l'entrée, en utilisant les lignes et les points de l'entrée comme autres limites.</p><p class="availability">Disponibilité : 3.1.0.</p><p class="geos_requirement">Nécessite GEOS &gt;= 3.9.0.</p></div><div class="refsection" id="idm17110"><h2>Exemples</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_maximuminscribedcircle01.png"/><div class="caption"><p>Cercle inscrit maximal d'un polygone. Le centre, le point le plus proche et le rayon sont renvoyés.</p></div></div></div><pre class="programlisting">SELECT radius, ST_AsText(center) AS center, ST_AsText(nearest) AS nearest
    FROM ST_MaximumInscribedCircle(
        'POLYGON ((40 180, 110 160, 180 180, 180 120, 140 90, 160 40, 80 10, 70 40, 20 50, 40 180),
        (60 140, 50 90, 90 140, 60 140))');

     radius      |           center           |    nearest
-----------------+----------------------------+---------------
 45.165845650018 | POINT(96.953125 76.328125) | POINT(140 90)
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_maximuminscribedcircle02.png"/><div class="caption"><p>Cercle inscrit maximal d'une multiligne. Le centre, le point le plus proche et le rayon sont renvoyés.</p></div></div></div></div><div class="refsection" id="idm17125"><h2>Voir aussi</h2><p><a class="xref" href="#ST_MinimumBoundingRadius" title="ST_MinimumBoundingRadius">ST_MinimumBoundingRadius</a>, <a class="xref" href="#ST_LargestEmptyCircle" title="ST_LargestEmptyCircle">ST_LargestEmptyCircle</a></p></div></div><div class="refentry" id="ST_LargestEmptyCircle"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LargestEmptyCircle — Calcule le plus grand cercle ne recouvrant pas une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">(geometry, geometry, double precision) <strong class="fsfunc">ST_LargestEmptyCircle</strong>(</code>geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">tolerance=0.0</var>, geometry  <var class="pdparam">boundary=POINT EMPTY</var><code>)</code>;</p></div></div><div class="refsection" id="idm17148"><h2>Description</h2><p>Trouve le plus grand cercle qui ne chevauche pas un ensemble d'obstacles de points et de lignes. (Les géométries polygonales peuvent être incluses en tant qu'obstacles, mais seules leurs lignes de démarcation sont utilisées). Le centre du cercle est contraint de se situer à l'intérieur d'une limite polygonale, qui par défaut est l'enveloppe convexe de la géométrie d'entrée. Le centre du cercle est le point à l'intérieur de la frontière qui est le plus éloigné des obstacles. Le cercle lui-même est fourni par le point central et un point le plus proche situé sur un obstacle déterminant le rayon du cercle.</p><p>Le centre du cercle est déterminé avec une précision donnée, spécifiée par une tolérance de distance, à l'aide d'un algorithme itératif. Si la distance de précision n'est pas spécifiée, une valeur par défaut raisonnable est utilisée.</p><p>Renvoie un enregistrement avec des champs :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">center</code> - point central du cercle </p></li><li class="listitem"><p><code class="varname">nearest</code> - un point de la géométrie le plus proche du centre </p></li><li class="listitem"><p><code class="varname">radius</code> - rayon du cercle </p></li></ul></div><p>Pour trouver le plus grand cercle vide à l'intérieur d'un polygone, voir <a class="xref" href="#ST_MaximumInscribedCircle" title="ST_MaximumInscribedCircle">ST_MaximumInscribedCircle</a>.</p><p class="availability">Disponibilité : 3.4.0.</p><p class="geos_requirement">Nécessite GEOS &gt;= 3.9.0.</p></div><div class="refsection" id="idm17167"><h2>Exemples</h2><pre class="programlisting">SELECT radius,
      center,
      nearest
  FROM ST_LargestEmptyCircle(
        'MULTILINESTRING (
          (10 100, 60 180, 130 150, 190 160),
          (20 50, 70 70, 90 20, 110 40),
          (160 30, 100 100, 180 100))');</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_largestemptycircle01.png"/><div class="caption"><p>Le plus grand cercle vide à l'intérieur d'un ensemble de lignes.</p></div></div></div><pre class="programlisting">SELECT radius,
       center,
       nearest
  FROM ST_LargestEmptyCircle(
         ST_Collect(
           'MULTIPOINT ((70 50), (60 130), (130 150), (80 90))'::geometry,
           'POLYGON ((90 190, 10 100, 60 10, 190 40, 120 100, 190 180, 90 190))'::geometry),
           0,
         'POLYGON ((90 190, 10 100, 60 10, 190 40, 120 100, 190 180, 90 190))'::geometry
       );</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_largestemptycircle02.png"/><div class="caption"><p>Le plus grand cercle vide à l'intérieur d'un ensemble de points, contraint à se situer dans un polygone. La limite du polygone de contrainte doit être incluse en tant qu'obstacle et spécifiée en tant que contrainte pour le centre du cercle. </p></div></div></div></div><div class="refsection" id="idm17183"><h2>Voir aussi</h2><p><a class="xref" href="#ST_MinimumBoundingRadius" title="ST_MinimumBoundingRadius">ST_MinimumBoundingRadius</a></p></div></div><div class="refentry" id="ST_MinimumBoundingCircle"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinimumBoundingCircle — Retourne le plus petit cercle polygonal qui contient une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MinimumBoundingCircle</strong>(</code>geometry  <var class="pdparam">geomA</var>, integer  <var class="pdparam">num_segs_per_qt_circ=48</var><code>)</code>;</p></div></div><div class="refsection" id="idm17202"><h2>Description</h2><p>Retourne le plus petit cercle polygonal qui contient une géométrie. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le cercle de délimitation est approximé par un polygone avec une valeur par défaut de 48 segments par quart de cercle. Le polygone étant une approximation du cercle de délimitation minimal, certains points de la géométrie d'entrée peuvent ne pas être contenus dans le polygone. L'approximation peut être améliorée en augmentant le nombre de segments. Pour les applications où une approximation ne convient pas, on peut utiliser <a class="xref" href="#ST_MinimumBoundingRadius" title="ST_MinimumBoundingRadius">ST_MinimumBoundingRadius</a>.</p></td></tr></table></div><p>A utiliser avec <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a> pour obtenir le cercle minimal de délimitation d'un ensemble de géométries.</p><p>Pour calculer deux points situés sur le cercle minimum (le "diamètre maximum"), utilisez <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>. </p><p>Le rapport de la surface d'un polygone divisée par la surface de son cercle circonscrit minimal est appelé <span class="emphasis"><em>Score de compacité de Reock</em></span>.</p><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 1.4.0</p></div><div class="refsection" id="idm17216"><h2>Exemples</h2><pre class="programlisting">SELECT d.disease_type,
    ST_MinimumBoundingCircle(ST_Collect(d.geom)) As geom
    FROM disease_obs As d
    GROUP BY d.disease_type;
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_minimumboundingcircle01.png"/><div class="caption"><p>Cercle minimal de délimitation d'un point et d'une ligne de démarcation. Utilisation de 8 segments pour approximer un quart de cercle</p></div></div></div><pre class="programlisting">SELECT ST_AsText(ST_MinimumBoundingCircle(
        ST_Collect(
            ST_GeomFromText('LINESTRING(55 75,125 150)'),
                ST_Point(20, 80)), 8
                )) As wktmbc;
wktmbc
-----------
POLYGON((135.59714732062 115,134.384753327498 102.690357210921,130.79416296937 90.8537670908995,124.963360620072 79.9451031602111,117.116420743937 70.3835792560632,107.554896839789 62.5366393799277,96.6462329091006 56.70583703063,84.8096427890789 53.115246672502,72.5000000000001 51.9028526793802,60.1903572109213 53.1152466725019,48.3537670908996 56.7058370306299,37.4451031602112 62.5366393799276,27.8835792560632 70.383579256063,20.0366393799278 79.9451031602109,14.20583703063 90.8537670908993,10.615246672502 102.690357210921,9.40285267938019 115,10.6152466725019 127.309642789079,14.2058370306299 139.1462329091,20.0366393799275 150.054896839789,27.883579256063 159.616420743937,
37.4451031602108 167.463360620072,48.3537670908992 173.29416296937,60.190357210921 176.884753327498,
72.4999999999998 178.09714732062,84.8096427890786 176.884753327498,96.6462329091003 173.29416296937,107.554896839789 167.463360620072,
117.116420743937 159.616420743937,124.963360620072 150.054896839789,130.79416296937 139.146232909101,134.384753327498 127.309642789079,135.59714732062 115))
                </pre></div><div class="refsection" id="idm17226"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_MinimumBoundingRadius" title="ST_MinimumBoundingRadius">ST_MinimumBoundingRadius</a>, <a class="xref" href="#ST_LargestEmptyCircle" title="ST_LargestEmptyCircle">ST_LargestEmptyCircle</a>, <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a> </p></div></div><div class="refentry" id="ST_MinimumBoundingRadius"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinimumBoundingRadius — Renvoie le point central et le rayon du plus petit cercle contenant une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">(geometry, double precision) <strong class="fsfunc">ST_MinimumBoundingRadius</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm17245"><h2>Description</h2><p>Calcule le point central et le rayon du plus petit cercle contenant une géométrie. Retourne un enregistrement avec des champs : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">center</code> - point central du cercle </p></li><li class="listitem"><p><code class="varname">radius</code> - rayon du cercle </p></li></ul></div><p>A utiliser avec <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a> pour obtenir le cercle minimal de délimitation d'un ensemble de géométries.</p><p>Pour calculer deux points situés sur le cercle minimum (le "diamètre maximum"), utilisez <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>. </p><p class="availability">Disponibilité - 2.3.0</p></div><div class="refsection" id="idm17260"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(center), radius FROM ST_MinimumBoundingRadius('POLYGON((26426 65078,26531 65242,26075 65136,26096 65427,26426 65078))');

                st_astext                 |      radius
------------------------------------------+------------------
 POINT(26284.8418027133 65267.1145090825) | 247.436045591407
</pre></div><div class="refsection" id="idm17263"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_MinimumBoundingCircle" title="ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a>, <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a></p></div></div><div class="refentry" id="ST_OrientedEnvelope"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_OrientedEnvelope — Renvoie un rectangle de surface minimale contenant une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_OrientedEnvelope</strong>(</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm17281"><h2>Description</h2><p>Renvoie le rectangle rotatif de surface minimale entourant une géométrie. Notez qu'il peut exister plus d'un rectangle de ce type. Peut renvoyer un point ou une ligne dans le cas d'entrées dégénérées. </p><p class="availability">Disponibilité : 2.5.0. </p><p class="geos_requirement">Nécessite GEOS &gt;= 3.6.0.</p></div><div class="refsection" id="idm17286"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_OrientedEnvelope('MULTIPOINT ((0 0), (-1 -1), (3 2))'));

                st_astext
                ------------------------------------------------
                POLYGON((3 2,2.88 2.16,-1.12 -0.84,-1 -1,3 2))
            </pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_orientedenvelope01.png"/><div class="caption"><p>Enveloppe orientée d'un point et d'une ligne.</p></div></div></div><pre class="programlisting">SELECT ST_AsText(ST_OrientedEnvelope(
        ST_Collect(
            ST_GeomFromText('LINESTRING(55 75,125 150)'),
                ST_Point(20, 80))
                )) As wktenv;
wktenv
-----------
POLYGON((19.9999999999997 79.9999999999999,33.0769230769229 60.3846153846152,138.076923076924 130.384615384616,125.000000000001 150.000000000001,19.9999999999997 79.9999999999999))
</pre></div><div class="refsection" id="idm17296"><h2>Voir aussi</h2><p>
                <a class="xref" href="#ST_Envelope" title="ST_Envelope">ST_Envelope</a>
                <a class="xref" href="#ST_MinimumBoundingCircle" title="ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a>
            </p></div></div><div class="refentry" id="ST_OffsetCurve"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_OffsetCurve — Renvoie une ligne décalée par rapport à une distance et un côté donnés à partir d'une ligne en entrée. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_OffsetCurve</strong>(</code>geometry  <var class="pdparam">line</var>, float  <var class="pdparam">signed_distance</var>, text  <var class="pdparam">style_parameters=''</var><code>)</code>;</p></div></div><div class="refsection" id="idm17319"><h2>Description</h2><p>Renvoie une ligne décalée par rapport à une distance et un côté donnés à partir d'une ligne en entrée. Tous les points des géométries renvoyées ne sont pas plus éloignés que la distance donnée de la géométrie d'entrée. Utile pour calculer des lignes parallèles autour d'une ligne centrale. </p><p>Pour une distance positive, le décalage se situe à gauche de la ligne d'entrée et conserve la même direction. Pour une distance négative, il se trouve sur le côté droit et dans la direction opposée. </p><p>Les unités de distance sont mesurées en unités du système de référence spatiale. </p><p>Notez que la sortie peut être un MULTILINESTRING ou un EMPTY pour certaines géométries d'entrée en forme de puzzle. </p><p>Le troisième paramètre facultatif permet de spécifier une liste de paires clé/valeur séparées par des blancs afin de modifier les opérations comme suit : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>'quad_segs=#' : nombre de segments utilisés pour approximer un quart de cercle (8 par défaut).</p></li><li class="listitem"><p>'join=round|mitre|bevel' : style de jointure (la valeur par défaut est "round"). 'miter' est également accepté comme synonyme de 'mitre'.</p></li><li class="listitem"><p>'mitre_limit=#.#' : limite du rapport de "mitre" (n'affecte que le style d'assemblage "mitred"). 'miter_limit' est également accepté comme synonyme de 'mitre_limit'.</p></li></ul></div><p>
                </p><p>Effectué par le module GEOS.</p><p class="changed">Behavior changed in GEOS 3.11 so offset curves now have the same direction as the input line, for both positive and negative offsets.</p><p class="availability">Disponibilité : 2.0</p><p class="enhanced">Amélioration : 2.5 - ajout de la prise en charge de GEOMETRYCOLLECTION et MULTILINESTRING</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction ignore la dimension Z. Elle donne toujours un résultat en 2D, même lorsqu'elle est utilisée sur une géométrie en 3D.</p></td></tr></table></div></div><div class="refsection" id="idm17339"><h2>Exemples</h2><p>Calculer une zone tampon ouverte autour des routes</p><pre class="programlisting">SELECT ST_Union(
 ST_OffsetCurve(f.geom,  f.width/2, 'quad_segs=4 join=round'),
 ST_OffsetCurve(f.geom, -f.width/2, 'quad_segs=4 join=round')
) as track
FROM someroadstable;

                </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_offsetcurve01.png"/><div class="caption"><p>15, 'quad_segs=4 join=round' ligne originale et son décalage de 15 unités.</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(ST_OffsetCurve(ST_GeomFromText(
'LINESTRING(164 16,144 16,124 16,104 16,84 16,64 16,
    44 16,24 16,20 16,18 16,17 17,
    16 18,16 20,16 40,16 60,16 80,16 100,
    16 120,16 140,16 160,16 180,16 195)'),
    15, 'quad_segs=4 join=round'));
<em class="lineannotation"><span class="lineannotation">
output
</span></em>
LINESTRING(164 1,18 1,12.2597485145237 2.1418070123307,
    7.39339828220179 5.39339828220179,
    5.39339828220179 7.39339828220179,
    2.14180701233067 12.2597485145237,1 18,1 195)
                </pre><p>
                          </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_offsetcurve02.png"/><div class="caption"><p>-15, 'quad_segs=4 join=round' ligne originale et son décalage de -15 unités </p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(ST_OffsetCurve(geom,
    -15, 'quad_segs=4 join=round')) As notsocurvy
    FROM ST_GeomFromText(
'LINESTRING(164 16,144 16,124 16,104 16,84 16,64 16,
    44 16,24 16,20 16,18 16,17 17,
    16 18,16 20,16 40,16 60,16 80,16 100,
    16 120,16 140,16 160,16 180,16 195)') As geom;
<em class="lineannotation"><span class="lineannotation">
notsocurvy
</span></em>
LINESTRING(31 195,31 31,164 31)
                </pre><p>
                        </p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_offsetcurve05.png"/><div class="caption"><p>double décalage pour obtenir plus de courbes, notez que le premier inverse la direction, donc -30 + 15 = -15</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(ST_OffsetCurve(ST_OffsetCurve(geom,
    -30, 'quad_segs=4 join=round'), -15, 'quad_segs=4 join=round')) As morecurvy
    FROM ST_GeomFromText(
'LINESTRING(164 16,144 16,124 16,104 16,84 16,64 16,
    44 16,24 16,20 16,18 16,17 17,
    16 18,16 20,16 40,16 60,16 80,16 100,
    16 120,16 140,16 160,16 180,16 195)') As geom;
<em class="lineannotation"><span class="lineannotation">
morecurvy
</span></em>
LINESTRING(164 31,46 31,40.2597485145236 32.1418070123307,
35.3933982822018 35.3933982822018,
32.1418070123307 40.2597485145237,31 46,31 195)
                </pre><p>
                        </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_offsetcurve06.png"/><div class="caption"><p>Double décalage pour obtenir des courbes plus prononcées, combiné avec le décalage régulier 15 pour obtenir des lignes parallèles. Superposition avec l'original.</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(ST_Collect(
    ST_OffsetCurve(geom, 15, 'quad_segs=4 join=round'),
    ST_OffsetCurve(ST_OffsetCurve(geom,
    -30, 'quad_segs=4 join=round'), -15, 'quad_segs=4 join=round')
    )
) As parallel_curves
    FROM ST_GeomFromText(
'LINESTRING(164 16,144 16,124 16,104 16,84 16,64 16,
    44 16,24 16,20 16,18 16,17 17,
    16 18,16 20,16 40,16 60,16 80,16 100,
    16 120,16 140,16 160,16 180,16 195)') As geom;
<em class="lineannotation"><span class="lineannotation">
parallel curves
</span></em>
MULTILINESTRING((164 1,18 1,12.2597485145237 2.1418070123307,
7.39339828220179 5.39339828220179,5.39339828220179 7.39339828220179,
2.14180701233067 12.2597485145237,1 18,1 195),
(164 31,46 31,40.2597485145236 32.1418070123307,35.3933982822018 35.3933982822018,
32.1418070123307 40.2597485145237,31 46,31 195))
                </pre><p>
                        </p></td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_offsetcurve03.png"/><div class="caption"><p>15, "quad_segs=4 join=bevel" montré avec la ligne originale</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(ST_OffsetCurve(ST_GeomFromText(
'LINESTRING(164 16,144 16,124 16,104 16,84 16,64 16,
    44 16,24 16,20 16,18 16,17 17,
    16 18,16 20,16 40,16 60,16 80,16 100,
    16 120,16 140,16 160,16 180,16 195)'),
        15, 'quad_segs=4 join=bevel'));
<em class="lineannotation"><span class="lineannotation">
output
</span></em>
LINESTRING(164 1,18 1,7.39339828220179 5.39339828220179,
    5.39339828220179 7.39339828220179,1 18,1 195)
                </pre><p>
                         </p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_offsetcurve04.png"/><div class="caption"><p>15,-15 collecté, join=mitre mitre_limit=2.1</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(ST_Collect(
    ST_OffsetCurve(geom, 15, 'quad_segs=4 join=mitre mitre_limit=2.2'),
    ST_OffsetCurve(geom, -15, 'quad_segs=4 join=mitre mitre_limit=2.2')
    ) )
    FROM ST_GeomFromText(
'LINESTRING(164 16,144 16,124 16,104 16,84 16,64 16,
    44 16,24 16,20 16,18 16,17 17,
    16 18,16 20,16 40,16 60,16 80,16 100,
    16 120,16 140,16 160,16 180,16 195)') As geom;
<em class="lineannotation"><span class="lineannotation">
output
</span></em>
MULTILINESTRING((164 1,11.7867965644036 1,1 11.7867965644036,1 195),
    (31 195,31 31,164 31))
                </pre><p>
                          </p></td></tr></tbody></table></div></div><div class="refsection" id="idm17409"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a></p></div></div><div class="refentry" id="ST_PointOnSurface"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointOnSurface — Calcule un point dont on garantit qu'il se trouve dans un polygone ou sur une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PointOnSurface</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm17425"><h2>Description</h2><p>Renvoie un <code class="varname">POINT</code> qui est garanti de se trouver à l'intérieur d'une surface (<code class="varname">POLYGON</code>, <code class="varname">MULTIPOLYGON</code>, et <code class="varname">CURVEPOLYGON</code>). Dans PostGIS, cette fonction fonctionne également pour les géométries de lignes et de points. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.14.2 // s3.2.18.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 8.1.5, 9.5.6. Les spécifications définissent ST_PointOnSurface pour les géométries de surface uniquement. PostGIS étend la fonction pour prendre en charge tous les types de géométrie courants. D'autres bases de données (Oracle, DB2, ArcSDE) semblent ne prendre en charge cette fonction que pour les surfaces. SQL Server 2008 prend en charge tous les types de géométrie courants.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm17445"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_pointonsurface01.png"/><div class="caption"><p>Point sur la surface d'un <code class="varname">MULTIPOINT</code></p></div></div></div></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_pointonsurface02.png"/><div class="caption"><p>Point sur la surface d'une <code class="varname">LINESTRING</code></p></div></div></div></td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_pointonsurface03.png"/><div class="caption"><p>Point sur la surface d'un <code class="varname">POLYGON</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_pointonsurface04.png"/><div class="caption"><p>Point sur la surface d'une <code class="varname">GEOMETRYCOLLECTION</code></p></div></div></div></td></tr></tbody></table></div><pre class="programlisting">SELECT ST_AsText(ST_PointOnSurface('POINT(0 5)'::geometry));
------------
 POINT(0 5)

SELECT ST_AsText(ST_PointOnSurface('LINESTRING(0 5, 0 10)'::geometry));
------------
 POINT(0 5)

SELECT ST_AsText(ST_PointOnSurface('POLYGON((0 0, 0 5, 5 5, 5 0, 0 0))'::geometry));
----------------
 POINT(2.5 2.5)

SELECT ST_AsEWKT(ST_PointOnSurface(ST_GeomFromEWKT('LINESTRING(0 5 1, 0 0 1, 0 10 2)')));
----------------
 POINT(0 0 1)
</pre><p><span class="bold"><strong>Exemple:</strong></span> Le résultat de ST_PointOnSurface est garanti à l'intérieur des polygones, alors que le point calculé par <a class="xref" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a> peut se trouver à l'extérieur. </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_pointonsurface.png"/><div class="caption"><p>Rouge : point sur la surface ; Vert : centroïde</p></div></div></div><pre class="programlisting">SELECT ST_AsText(ST_PointOnSurface(geom)) AS pt_on_surf,
       ST_AsText(ST_Centroid(geom)) AS centroid
    FROM (SELECT 'POLYGON ((130 120, 120 190, 30 140, 50 20, 190 20,
                      170 100, 90 60, 90 130, 130 120))'::geometry AS geom) AS t;

   pt_on_surf    |                  centroid
-----------------+---------------------------------------------
 POINT(62.5 110) | POINT(100.18264840182648 85.11415525114155)
</pre></div><div class="refsection" id="idm17499"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a>, <a class="xref" href="#ST_MaximumInscribedCircle" title="ST_MaximumInscribedCircle">ST_MaximumInscribedCircle</a></p></div></div><div class="refentry" id="ST_Polygonize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Polygonize — Calcule une collection de polygones formés à partir du tracé d'un ensemble de géométries. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Polygonize</strong>(</code>geometry set <var class="pdparam">geomfield</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Polygonize</strong>(</code>geometry[] <var class="pdparam">geom_array</var><code>)</code>;</p></div></div><div class="refsection" id="idm17522"><h2>Description</h2><p>Crée une GeometryCollection contenant les polygones formés par le tracé d'un ensemble de géométries. Si le tracé en entrée ne forme aucun polygone, une GeometryCollection vide est renvoyée. </p><p>Cette fonction crée des polygones couvrant toutes les zones délimitées. Si le résultat est destiné à former une géométrie polygonale valide, utilisez <a class="xref" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea</a> pour éviter que des trous ne soient remplis. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La géométrie d'entrée doit être correctement nouée pour que cette fonction fonctionne correctement. Pour s'assurer que l'entrée est nouée, utilisez <a class="xref" href="#ST_Node" title="ST_Node">ST_Node</a> sur la géométrie d'entrée avant de la polygoniser. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les collections de géométries peuvent être difficiles à manipuler avec des outils externes. Utilisez <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a> pour convertir le résultat polygonisé en polygones séparés.</p></td></tr></table></div><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 1.0.0RC1</p></div><div class="refsection" id="idm17535"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_polygonize01.png"/><div class="caption"><p>Lignes en entrée</p></div></div></div><p>
        </p></td><td><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_polygonize02.png"/><div class="caption"><p>Résultat polygonisé</p></div></div></div><p>
        </p></td></tr></tbody></table></div><pre class="programlisting">WITH data(geom) AS (VALUES
   ('LINESTRING (180 40, 30 20, 20 90)'::geometry)
  ,('LINESTRING (180 40, 160 160)'::geometry)
  ,('LINESTRING (80 60, 120 130, 150 80)'::geometry)
  ,('LINESTRING (80 60, 150 80)'::geometry)
  ,('LINESTRING (20 90, 70 70, 80 130)'::geometry)
  ,('LINESTRING (80 130, 160 160)'::geometry)
  ,('LINESTRING (20 90, 20 160, 70 190)'::geometry)
  ,('LINESTRING (70 190, 80 130)'::geometry)
  ,('LINESTRING (70 190, 160 160)'::geometry)
)
SELECT ST_AsText( ST_Polygonize( geom ))
    FROM data;

------------------------------------------------------------------------------------------
GEOMETRYCOLLECTION (POLYGON ((180 40, 30 20, 20 90, 70 70, 80 130, 160 160, 180 40), (150 80, 120 130, 80 60, 150 80)),
                    POLYGON ((20 90, 20 160, 70 190, 80 130, 70 70, 20 90)),
                    POLYGON ((160 160, 80 130, 70 190, 160 160)),
                    POLYGON ((80 60, 120 130, 150 80, 80 60)))

</pre><p>Polygonisation d'une table de lignes :</p><pre class="programlisting">SELECT ST_AsEWKT(ST_Polygonize(geom_4269)) As geomtextrep
FROM (SELECT geom_4269 FROM ma.suffolk_edges) As foo;

-------------------------------------
 SRID=4269;GEOMETRYCOLLECTION(POLYGON((-71.040878 42.285678,-71.040943 42.2856,-71.04096 42.285752,-71.040878 42.285678)),
 POLYGON((-71.17166 42.353675,-71.172026 42.354044,-71.17239 42.354358,-71.171794 42.354971,-71.170511 42.354855,
 -71.17112 42.354238,-71.17166 42.353675)))

--Use ST_Dump to dump out the polygonize geoms into individual polygons
SELECT ST_AsEWKT((ST_Dump(t.polycoll)).geom) AS geomtextrep
FROM (SELECT ST_Polygonize(geom_4269) AS polycoll
    FROM (SELECT geom_4269 FROM ma.suffolk_edges)
        As foo) AS t;

------------------------
 SRID=4269;POLYGON((-71.040878 42.285678,-71.040943 42.2856,-71.04096 42.285752,
-71.040878 42.285678))
 SRID=4269;POLYGON((-71.17166 42.353675,-71.172026 42.354044,-71.17239 42.354358
,-71.171794 42.354971,-71.170511 42.354855,-71.17112 42.354238,-71.17166 42.353675))
</pre></div><div class="refsection" id="idm17560"><h2>Voir aussi</h2><p><a class="xref" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_Node" title="ST_Node">ST_Node</a> </p></div></div><div class="refentry" id="ST_ReducePrecision"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ReducePrecision — Renvoie une géométrie valide dont les points sont arrondis en fonction de la tolérance de la grille.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ReducePrecision</strong>(</code>geometry  <var class="pdparam">g</var>, float8  <var class="pdparam">gridsize</var><code>)</code>;</p></div></div><div class="refsection" id="idm17581"><h2>Description</h2><p>Renvoie une géométrie valide dont tous les points sont arrondis à la tolérance de grille fournie, et dont les caractéristiques inférieures à la tolérance sont supprimées.</p><p>Contrairement à <a class="xref" href="#ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a>, la géométrie renvoyée sera valide, sans auto-intersections d'anneaux ni composants réduits.</p><p>La réduction de précision peut être utilisée pour : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>faire correspondre la précision des coordonnées à la précision des données </p></li><li class="listitem"><p>réduire le nombre de coordonnées nécessaires pour représenter une géométrie </p></li><li class="listitem"><p>garantir une sortie géométrique valide vers des formats qui utilisent une précision moindre (par exemple, des formats de texte tels que WKT, GeoJSON ou KML lorsque le nombre de décimales de sortie est limité). </p></li><li class="listitem"><p>exporter une géométrie valide vers des systèmes qui utilisent une précision plus faible ou limitée (par exemple, SDE, valeur de tolérance Oracle) </p></li></ul></div><p>
		</p><p class="availability">Disponibilité : 3.1.0.</p><p class="geos_requirement">Nécessite GEOS &gt;= 3.9.0.</p></div><div class="refsection" id="idm17598"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_ReducePrecision('POINT(1.412 19.323)', 0.1));
    st_astext
-----------------
 POINT(1.4 19.3)

SELECT ST_AsText(ST_ReducePrecision('POINT(1.412 19.323)', 1.0));
  st_astext
-------------
 POINT(1 19)

SELECT ST_AsText(ST_ReducePrecision('POINT(1.412 19.323)', 10));
  st_astext
-------------
 POINT(0 20)
</pre><p>La réduction de la précision permet de réduire le nombre de sommets</p><pre class="programlisting">SELECT ST_AsText(ST_ReducePrecision('LINESTRING (10 10, 19.6 30.1, 20 30, 20.3 30, 40 40)', 1));
  st_astext
-------------
 LINESTRING (10 10, 20 30, 40 40)
</pre><p>La réduction de la précision divise les polygones si nécessaire pour garantir la validité</p><pre class="programlisting">SELECT ST_AsText(ST_ReducePrecision('POLYGON ((10 10, 60 60.1, 70 30, 40 40, 50 10, 10 10))', 10));
  st_astext
-------------
 MULTIPOLYGON (((60 60, 70 30, 40 40, 60 60)), ((40 40, 50 10, 10 10, 40 40)))
</pre></div><div class="refsection" id="idm17605"><h2>Voir aussi</h2><p><a class="xref" href="#ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a>, <a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>, <a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a></p></div></div><div class="refentry" id="ST_SharedPaths"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SharedPaths — Renvoie une collection contenant les chemins partagés par les deux lignes/multilignes en entrée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SharedPaths</strong>(</code>geometry <var class="pdparam">lineal1</var>, geometry <var class="pdparam">lineal2</var><code>)</code>;</p></div></div><div class="refsection" id="idm17626"><h2>Description</h2><p>Renvoie une collection contenant les chemins partagés par les deux géométries d'entrée. Ceux qui vont dans la même direction sont dans le premier élément de la collection, ceux qui vont dans la direction opposée sont dans le deuxième élément. Les chemins eux-mêmes sont donnés dans la direction de la première géométrie. </p><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm17631"><h2>Exemples : Trouver des chemins communs</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_sharedpaths01.png"/><div class="caption"><p>Une multiligne et une ligne</p></div></div></div>
               </td></tr><tr><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_sharedpaths02.png"/><div class="caption"><p>Le chemin partagé de la multiligne et de la ligne superposé aux géométries originales.</p></div></div></div><p>
                  </p><pre class="programlisting">SELECT ST_AsText(
  ST_SharedPaths(
    ST_GeomFromText('MULTILINESTRING((26 125,26 200,126 200,126 125,26 125),
       (51 150,101 150,76 175,51 150))'),
    ST_GeomFromText('LINESTRING(151 100,126 156.25,126 125,90 161, 76 175)')
    )
  ) As wkt

                                wkt
-------------------------------------------------------------
GEOMETRYCOLLECTION(MULTILINESTRING((126 156.25,126 125),
 (101 150,90 161),(90 161,76 175)),MULTILINESTRING EMPTY)
              </pre><p>
            </p>
            </td></tr><tr><td><p>
                  </p><pre class="programlisting"><em class="lineannotation"><span class="lineannotation">
same example but linestring orientation flipped
</span></em>
SELECT ST_AsText(
  ST_SharedPaths(
   ST_GeomFromText('LINESTRING(76 175,90 161,126 125,126 156.25,151 100)'),
   ST_GeomFromText('MULTILINESTRING((26 125,26 200,126 200,126 125,26 125),
       (51 150,101 150,76 175,51 150))')
    )
  ) As wkt

                                wkt
-------------------------------------------------------------
GEOMETRYCOLLECTION(MULTILINESTRING EMPTY,
MULTILINESTRING((76 175,90 161),(90 161,101 150),(126 125,126 156.25)))
              </pre><p>
            </p>
            </td></tr></tbody></table></div></div><div class="refsection" id="idm17660"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a>, <a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> </p></div></div><div class="refentry" id="ST_Simplify"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Simplify — Renvoie une représentation simplifiée d'une géométrie, en utilisant l'algorithme de Douglas-Peucker.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Simplify</strong>(</code>geometry <var class="pdparam">geom</var>, float <var class="pdparam">tolerance</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Simplify</strong>(</code>geometry <var class="pdparam">geom</var>, float <var class="pdparam">tolerance</var>, boolean <var class="pdparam">preserveCollapsed</var><code>)</code>;</p></div></div><div class="refsection" id="idm17693"><h2>Description</h2><p>Calcule une représentation simplifiée d'une géométrie en utilisant l'algorithme <a class="link" href="https://fr.wikipedia.org/wiki/Algorithme_de_Douglas-Peucker" target="_top">Douglas-Peucker</a>. La variable <code class="varname">tolerance</code> de simplification est une valeur de distance, dans les unités du SRS d'entrée. La simplification supprime les sommets dont la distance au réseau simplifié est inférieure à la distance de tolérance. Le résultat peut ne pas être valide même si l'entrée l'est. </p><p>La fonction peut être appelée avec n'importe quel type de géométrie (y compris les GeometryCollections), mais seuls les lignes et polygones sont simplifiés. Les extrémités des lignes sont préservées. </p><p>L'indicateur <code class="varname">preserveCollapsed</code> permet de conserver les petites géométries qui seraient autrement supprimées à la tolérance donnée. Par exemple, si une ligne de 1 m de long est simplifiée avec une tolérance de 10 m, lorsque <code class="varname">preserveCollapsed</code> est vrai, la ligne ne disparaîtra pas. Cette option est utile pour le rendu, afin d'éviter que de très petits éléments ne disparaissent de la carte.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La géométrie renvoyée peut perdre sa simplicité (voir <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>), la topologie peut ne pas être préservée et les résultats polygonaux peuvent être invalides (voir <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>). Utilisez <a class="xref" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a> pour préserver la topologie et garantir la validité.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction ne préserve pas les limites partagées entre les polygones. Utilisez <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> si cela est nécessaire.</p></td></tr></table></div><p class="availability">Disponibilité : 1.2.2</p></div><div class="refsection" id="idm17711"><h2>Exemples</h2><p>Un cercle trop simplifié devient un triangle, moyennement un octogone, </p><pre class="programlisting">SELECT ST_Npoints(geom) AS np_before,
       ST_NPoints(ST_Simplify(geom, 0.1)) AS np01_notbadcircle,
       ST_NPoints(ST_Simplify(geom, 0.5)) AS np05_notquitecircle,
       ST_NPoints(ST_Simplify(geom, 1)) AS np1_octagon,
       ST_NPoints(ST_Simplify(geom, 10)) AS np10_triangle,
       (ST_Simplify(geom, 100) is null) AS  np100_geometrygoesaway
  FROM (SELECT ST_Buffer('POINT(1 3)', 10,12) As geom) AS t;

 np_before | np01_notbadcircle | np05_notquitecircle | np1_octagon | np10_triangle | np100_geometrygoesaway
-----------+-------------------+---------------------+-------------+---------------+------------------------
        49 |                33 |                  17 |           9 |             4 | t
</pre><p>Simplification d'un ensemble de lignes. Les lignes peuvent s'intersecter après simplification.</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplify01.png"/></div></div><pre class="programlisting">SELECT ST_Simplify(
  'MULTILINESTRING ((20 180, 20 150, 50 150, 50 100, 110 150, 150 140, 170 120), (20 10, 80 30, 90 120), (90 120, 130 130), (130 130, 130 70, 160 40, 180 60, 180 90, 140 80), (50 40, 70 40, 80 70, 70 60, 60 60, 50 50, 50 40))',
    40);
</pre><p>Simplification d'un polygone multiple. Les résultats polygonaux peuvent être invalides.</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplify02.png"/></div></div><pre class="programlisting">SELECT ST_Simplify(
  'MULTIPOLYGON (((90 110, 80 180, 50 160, 10 170, 10 140, 20 110, 90 110)), ((40 80, 100 100, 120 160, 170 180, 190 70, 140 10, 110 40, 60 40, 40 80), (180 70, 170 110, 142.5 128.5, 128.5 77.5, 90 60, 180 70)))',
    40);
</pre></div><div class="refsection" id="idm17727"><h2>Voir aussi</h2><p><a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>, <a class="xref" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a>, <a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a>, <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a>, Topologie <a class="xref" href="#TP_ST_Simplify" title="ST_Simplify">ST_Simplify</a></p></div></div><div class="refentry" id="ST_SimplifyPreserveTopology"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SimplifyPreserveTopology — Renvoie une représentation simplifiée et valide d'une géométrie, en utilisant l'algorithme de Douglas-Peucker.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SimplifyPreserveTopology</strong>(</code>geometry <var class="pdparam">geom</var>, float <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm17750"><h2>Description</h2><p>Calcule une représentation simplifiée d'une géométrie en utilisant une variante de l'algorithme <a class="link" href="https://fr.wikipedia.org/wiki/Algorithme_de_Douglas-Peucker" target="_top">Douglas-Peucker</a> qui limite la simplification pour garantir que le résultat a la même topologie que l'entrée. Le paramètre de <code class="varname">tolerance</code> de simplification est une valeur de distance, dans les unités du SRS d'entrée. La simplification supprime les sommets dont la distance au réseau simplifiée est inférieure à la distance de tolérance, tant que la topologie est préservée. Le résultat sera valide et simple si l'entrée est. </p><p>La fonction peut être appelée avec n'importe quel type de géométrie (y compris les GeometryCollections), mais seuls les éléments linéaires et polygonaux sont simplifiés. Pour les éléments polygonaux, le résultat aura le même nombre d'anneaux (coquilles et trous), et les anneaux ne se croiseront pas. Les extrémités des anneaux peuvent être simplifiées. Pour les entrées linéaires, le résultat aura le même nombre de lignes et les lignes ne se croiseront pas si elles ne le faisaient pas dans la géométrie d'origine. Les extrémités de la géométrie linéaire sont préservées. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction ne préserve pas les limites partagées entre les polygones. Utilisez <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> si cela est nécessaire.</p></td></tr></table></div><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 1.3.3</p></div><div class="refsection" id="idm17761"><h2>Exemples</h2><p>Pour le même exemple que <a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>, ST_SimplifyPreserveTopology empêche toute simplification excessive. Le cercle peut au maximum devenir un carré.</p><pre class="programlisting">SELECT  ST_Npoints(geom) AS np_before, 
        ST_NPoints(ST_SimplifyPreserveTopology(geom, 0.1)) AS np01_notbadcircle, 
        ST_NPoints(ST_SimplifyPreserveTopology(geom, 0.5)) AS np05_notquitecircle,
        ST_NPoints(ST_SimplifyPreserveTopology(geom, 1))   AS np1_octagon, 
        ST_NPoints(ST_SimplifyPreserveTopology(geom, 10))  AS np10_square,
        ST_NPoints(ST_SimplifyPreserveTopology(geom, 100)) AS np100_stillsquare
FROM (SELECT ST_Buffer('POINT(1 3)', 10,12) AS geom) AS t;

 np_before | np01_notbadcircle | np05_notquitecircle | np1_octagon | np10_square | np100_stillsquare
-----------+-------------------+---------------------+-------------+-------------+-------------------
        49 |                33 |                  17 |           9 |           5 |                 5
</pre><p>Simplification d'un ensemble de lignes, en préservant la topologie des lignes qui ne se croisent pas.</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplifypreservetopology01.png"/></div></div><pre class="programlisting">SELECT ST_SimplifyPreserveTopology(
  'MULTILINESTRING ((20 180, 20 150, 50 150, 50 100, 110 150, 150 140, 170 120), (20 10, 80 30, 90 120), (90 120, 130 130), (130 130, 130 70, 160 40, 180 60, 180 90, 140 80), (50 40, 70 40, 80 70, 70 60, 60 60, 50 50, 50 40))',
    40);
</pre><p>Simplification d'un multipolygone, en préservant la topologie des coquilles et des trous.</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplifypreservetopology02.png"/></div></div><pre class="programlisting">SELECT ST_SimplifyPreserveTopology(
  'MULTIPOLYGON (((90 110, 80 180, 50 160, 10 170, 10 140, 20 110, 90 110)), ((40 80, 100 100, 120 160, 170 180, 190 70, 140 10, 110 40, 60 40, 40 80), (180 70, 170 110, 142.5 128.5, 128.5 77.5, 90 60, 180 70)))',
    40);
</pre></div><div class="refsection" id="idm17778"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>, <a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a>, <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a></p></div></div><div class="refentry" id="ST_SimplifyPolygonHull"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SimplifyPolygonHull — Calcule une enveloppe extérieure ou intérieure simplifiée préservant la topologie d'une géométrie polygonale.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SimplifyPolygonHull</strong>(</code>geometry  <var class="pdparam">param_geom</var>, float  <var class="pdparam">vertex_fraction</var>, boolean  <var class="pdparam">is_outer = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm17802"><h2>Description</h2><p>Calcule une enveloppe extérieure ou intérieure simplifiée préservant la topologie d'une géométrie polygonale. Une enveloppe extérieure couvre complètement la géométrie d'entrée. Une enveloppe intérieure est entièrement couverte par la géométrie d'entrée. Le résultat est une géométrie polygonale formée par un sous-ensemble de sommets d'entrée. Les multipolygones et les trous sont gérés et produisent un résultat ayant la même structure que la géométrie d'entrée. </p><p>La réduction du nombre de sommets est contrôlée par le paramètre <code class="varname">vertex_fraction</code>, qui est un nombre compris entre 0 et 1. Les valeurs inférieures produisent des résultats plus simples, avec un nombre de vertex plus faible et une concavité moindre. Pour les enveloppes extérieures et intérieures, une fraction de sommet de 1,0 produit la géométrie originale. Pour les enveloppes extérieures, une valeur de 0,0 produit l'enveloppe convexe (pour un polygone unique) ; pour les enveloppes intérieures, elle produit un triangle.</p><p>Le processus de simplification consiste à supprimer progressivement les angles concaves qui contiennent le moins de surface, jusqu'à ce que l'objectif de nombre de vertex soit atteint. Il empêche les arêtes de se croiser, de sorte que le résultat est toujours une géométrie polygonale valide. </p><p>Pour obtenir de meilleurs résultats avec des géométries contenant des segments de ligne relativement longs, il peut être nécessaire de "segmenter" l'entrée, comme indiqué ci-dessous.</p><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 3.3.0.</p><p class="geos_requirement">Nécessite GEOS &gt;= 3.11.0.</p></div><div class="refsection" id="idm17812"><h2>Exemples</h2><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplifypolygonhull02.png"/><div class="caption"><p>Enveloppe extérieure d'un polygone</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_SimplifyPolygonHull(
  'POLYGON ((131 158, 136 163, 161 165, 173 156, 179 148, 169 140, 186 144, 190 137, 185 131, 174 128, 174 124, 166 119, 158 121, 158 115, 165 107, 161 97, 166 88, 166 79, 158 57, 145 57, 112 53, 111 47, 93 43, 90 48, 88 40, 80 39, 68 32, 51 33, 40 31, 39 34, 49 38, 34 38, 25 34, 28 39, 36 40, 44 46, 24 41, 17 41, 14 46, 19 50, 33 54, 21 55, 13 52, 11 57, 22 60, 34 59, 41 68, 75 72, 62 77, 56 70, 46 72, 31 69, 46 76, 52 82, 47 84, 56 90, 66 90, 64 94, 56 91, 33 97, 36 100, 23 100, 22 107, 29 106, 31 112, 46 116, 36 118, 28 131, 53 132, 59 127, 62 131, 76 130, 80 135, 89 137, 87 143, 73 145, 80 150, 88 150, 85 157, 99 162, 116 158, 115 165, 123 165, 122 170, 134 164, 131 158))',
    0.3);
</pre><p>
    </p><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplifypolygonhull03.png"/><div class="caption"><p>Enveloppe intérieure d'un polygone</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_SimplifyPolygonHull(
  'POLYGON ((131 158, 136 163, 161 165, 173 156, 179 148, 169 140, 186 144, 190 137, 185 131, 174 128, 174 124, 166 119, 158 121, 158 115, 165 107, 161 97, 166 88, 166 79, 158 57, 145 57, 112 53, 111 47, 93 43, 90 48, 88 40, 80 39, 68 32, 51 33, 40 31, 39 34, 49 38, 34 38, 25 34, 28 39, 36 40, 44 46, 24 41, 17 41, 14 46, 19 50, 33 54, 21 55, 13 52, 11 57, 22 60, 34 59, 41 68, 75 72, 62 77, 56 70, 46 72, 31 69, 46 76, 52 82, 47 84, 56 90, 66 90, 64 94, 56 91, 33 97, 36 100, 23 100, 22 107, 29 106, 31 112, 46 116, 36 118, 28 131, 53 132, 59 127, 62 131, 76 130, 80 135, 89 137, 87 143, 73 145, 80 150, 88 150, 85 157, 99 162, 116 158, 115 165, 123 165, 122 170, 134 164, 131 158))',
    0.3, false);
</pre><p>
    </p><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplifypolygonhull01.png"/><div class="caption"><p>Simplification de l'enveloppe extérieure d'un MultiPolygone, avec segmentation</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_SimplifyPolygonHull(
  ST_Segmentize(ST_Letters('xt'), 2.0),
    0.1);
</pre><p>
    </p></div><div class="refsection" id="idm17838"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>, <a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a>, <a class="xref" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>, <a class="xref" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a></p></div></div><div class="refentry" id="ST_SimplifyVW"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SimplifyVW — Renvoie une représentation simplifiée d'une géométrie, en utilisant l'algorithme de Visvalingam-Whyatt</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SimplifyVW</strong>(</code>geometry <var class="pdparam">geom</var>, float <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm17860"><h2>Description</h2><p>Renvoie une représentation simplifiée d'une géométrie à l'aide de l'algorithme <a class="link" href="https://en.wikipedia.org/wiki/Visvalingam%E2%80%93Whyatt_algorithm" target="_top">Visvalingam-Whyatt</a>. La <code class="varname">tolérance</code> de simplification est une valeur de surface, dans les unités du SRS d'entrée. La simplification supprime les sommets qui forment des "coins" dont la surface est inférieure à la tolérance. Le résultat peut ne pas être valide même si l'entrée l'est. </p><p>La fonction peut être appelée avec n'importe quel type de géométrie (y compris les GeometryCollections), mais seuls les lignes et polygones sont simplifiés. Les extrémités des lignes sont préservées. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La géométrie renvoyée peut perdre sa simplicité (voir <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>), la topologie peut ne pas être préservée et les résultats polygonaux peuvent être invalides (voir <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>). Utilisez <a class="xref" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a> pour préserver la topologie et garantir la validité. <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> préserve également la topologie et la validité. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction ne préserve pas les limites partagées entre les polygones. Utilisez <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> si cela est nécessaire.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction gère la 3D et la troisième dimension affectera le résultat.</p></td></tr></table></div><p class="availability">Disponibilité : 2.2.0</p></div><div class="refsection" id="idm17878"><h2>Exemples</h2><p>Une LineString est simplifiée avec une tolérance de surface minimale de 30.</p><pre class="programlisting">SELECT ST_AsText(ST_SimplifyVW(geom,30)) simplified
  FROM (SELECT 'LINESTRING(5 2, 3 8, 6 20, 7 25, 10 10)'::geometry AS geom) AS t;

 simplified
------------------------------
LINESTRING(5 2,7 25,10 10)
</pre><p>Simplification d'une ligne.</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplifyvw01.png"/></div></div><pre class="programlisting">SELECT ST_SimplifyVW(
  'LINESTRING (10 10, 50 40, 30 70, 50 60, 70 80, 50 110, 100 100, 90 140, 100 180, 150 170, 170 140, 190 90, 180 40, 110 40, 150 20)',
    1600);
</pre><p>Simplification d'un polygone.</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplifyvw02.png"/></div></div><pre class="programlisting">SELECT ST_SimplifyVW(
  'MULTIPOLYGON (((90 110, 80 180, 50 160, 10 170, 10 140, 20 110, 90 110)), ((40 80, 100 100, 120 160, 170 180, 190 70, 140 10, 110 40, 60 40, 40 80), (180 70, 170 110, 142.5 128.5, 128.5 77.5, 90 60, 180 70)))',
    40);
</pre></div><div class="refsection" id="idm17894"><h2>Voir aussi</h2><p><a class="xref" href="#ST_SetEffectiveArea" title="ST_SetEffectiveArea">ST_SetEffectiveArea</a>, <a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>, <a class="xref" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a>, <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a>, Topologie <a class="xref" href="#TP_ST_Simplify" title="ST_Simplify">ST_Simplify</a></p></div></div><div class="refentry" id="ST_SetEffectiveArea"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetEffectiveArea — Définit la surface effective de chaque sommet, en utilisant l'algorithme Visvalingam-Whyatt. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SetEffectiveArea</strong>(</code>geometry <var class="pdparam">geom</var>, float <var class="pdparam">threshold = 0</var>, integer <var class="pdparam">set_area = 1</var><code>)</code>;</p></div></div><div class="refsection" id="idm17920"><h2>Description</h2><p>Définit la surface effective de chaque sommet, en utilisant l'algorithme Visvalingam-Whyatt. La surface effective est stockée comme la valeur M du sommet. Si le paramètre optionnel "threshold" est utilisé, une géométrie simplifiée sera renvoyée, contenant uniquement les sommets dont la surface effective est supérieure ou égale à la valeur seuil. </p><p>Cette fonction peut être utilisée pour la simplification côté serveur lorsqu'un seuil est spécifié. Une autre option consiste à utiliser une valeur seuil de zéro. Dans ce cas, la géométrie complète sera renvoyée avec les surfaces effectives sous forme de valeurs M, qui peuvent être utilisées par le client pour simplifier très rapidement. </p><p>Cette fonction n'agit qu'avec des (multi)lignes et des (multi)polygones, mais vous pouvez l'appeler en toute sécurité avec n'importe quel type de géométrie. Comme la simplification se produit objet par objet, vous pouvez également utiliser une collection de géométries dans cette fonction. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Notez que la géométrie retournée peut perdre sa simplicité (voir <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>)</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Notez que la topologie peut ne pas être préservée et donner lieu à des géométries non valides. Utilisez (voir <a class="xref" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a>) pour préserver la topologie.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La géométrie de sortie perdra toutes les informations précédentes concernant les valeurs M</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction gère la 3D et la troisième dimension affecte la surface effective</p></td></tr></table></div><p class="availability">Disponibilité : 2.2.0</p></div><div class="refsection" id="idm17936"><h2>Exemples</h2><p>Calcul de la surface effective d'une LineString. Comme nous utilisons une valeur seuil de zéro, tous les sommets de la géométrie d'entrée sont renvoyés. </p><pre class="programlisting">select ST_AsText(ST_SetEffectiveArea(geom)) all_pts, ST_AsText(ST_SetEffectiveArea(geom,30) ) thrshld_30
FROM (SELECT  'LINESTRING(5 2, 3 8, 6 20, 7 25, 10 10)'::geometry geom) As foo;
-result
 all_pts | thrshld_30
-----------+-------------------+
LINESTRING M (5 2 3.40282346638529e+38,3 8 29,6 20 1.5,7 25 49.5,10 10 3.40282346638529e+38) | LINESTRING M (5 2 3.40282346638529e+38,7 25 49.5,10 10 3.40282346638529e+38)

                </pre></div><div class="refsection" id="idm17940"><h2>Voir aussi</h2><p><a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a></p></div></div><div class="refentry" id="ST_TriangulatePolygon"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_TriangulatePolygon — Calcule la triangulation de Delaunay contrainte des polygones</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_TriangulatePolygon</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm17956"><h2>Description</h2><p>Calcule la triangulation de Delaunay contrainte des polygones. Les trous et les multipolygones sont pris en charge. </p><p>La "constrained Delaunay triangulation" d'un polygone est un ensemble de triangles formés à partir des sommets du polygone et le couvrant exactement, avec l'angle intérieur total maximal parmi toutes les triangulations possibles. Elle constitue la triangulation de "meilleure qualité" du polygone.</p><p class="availability">Disponibilité : 3.3.0.</p><p class="geos_requirement">Nécessite GEOS &gt;= 3.11.0.</p></div><div class="refsection" id="idm17962"><h2>Exemple</h2><p>Triangulation d'un carré.</p><pre class="programlisting">SELECT ST_AsText(
    ST_TriangulatePolygon('POLYGON((0 0, 0 1, 1 1, 1 0, 0 0))'));

                                 st_astext
---------------------------------------------------------------------------
 GEOMETRYCOLLECTION(POLYGON((0 0,0 1,1 1,0 0)),POLYGON((1 1,1 0,0 0,1 1)))
                </pre></div><div class="refsection" id="idm17966"><h2>Exemple</h2><p>Triangulation de la lettre P.</p><pre class="programlisting">SELECT ST_AsText(ST_TriangulatePolygon(
    'POLYGON ((26 17, 31 19, 34 21, 37 24, 38 29, 39 43, 39 161, 38 172, 36 176, 34 179, 30 181, 25 183, 10 185, 10 190, 100 190, 121 189, 139 187, 154 182, 167 177, 177 169, 184 161, 189 152, 190 141, 188 128, 186 123, 184 117, 180 113, 176 108, 170 104, 164 101, 151 96, 136 92, 119 89, 100 89, 86 89, 73 89, 73 39, 74 32, 75 27, 77 23, 79 20, 83 18, 89 17, 106 15, 106 10, 10 10, 10 15, 26 17), (152 147, 151 152, 149 157, 146 162, 142 166, 137 169, 132 172, 126 175, 118 177, 109 179, 99 180, 89 180, 80 179, 76 178, 74 176, 73 171, 73 100, 85 99, 91 99, 102 99, 112 100, 121 102, 128 104, 134 107, 139 110, 143 114, 147 118, 149 123, 151 128, 153 141, 152 147))'
    ));
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_triangulatepolygon01.png"/><div class="caption"><p>Triangulation de polygone</p></div></div></div></div><div class="refsection" id="idm17976"><h2>Même exemple que ST_Tesselate</h2><pre class="programlisting">SELECT ST_TriangulatePolygon(
                'POLYGON (( 10 190, 10 70, 80 70, 80 130, 50 160, 120 160, 120 190, 10 190 ))'::geometry
                );</pre><p>Sortie ST_AsText</p><pre class="screen">GEOMETRYCOLLECTION(POLYGON((50 160,120 190,120 160,50 160))
    ,POLYGON((10 70,80 130,80 70,10 70))
    ,POLYGON((50 160,10 70,10 190,50 160))
    ,POLYGON((120 190,50 160,10 190,120 190))
    ,POLYGON((80 130,10 70,50 160,80 130)))</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
                      </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_tesselate03.png"/><div class="caption"><p>Polygone d'origine</p></div></div></div>
                      </td><td>
                      <div class="informalfigure"><div class="mediaobject"><img src="images/st_triangulatepolygon02.png"/><div class="caption"><p>Polygone triangulé</p></div></div></div>
                      </td></tr></tbody></table></div></div><div class="refsection" id="idm18001"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ConstrainedDelaunayTriangles" title="ST_ConstrainedDelaunayTriangles">ST_ConstrainedDelaunayTriangles</a>, <a class="xref" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a>, <a class="xref" href="#ST_Tesselate" title="ST_Tesselate">ST_Tesselate</a> </p></div></div><div class="refentry" id="ST_VoronoiLines"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_VoronoiLines — Renvoie les limites des polygones de Voronoï des sommets d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_VoronoiLines</strong>(</code> geometry <var class="pdparam">geom</var> ,  float8 <var class="pdparam">tolerance = 0.0</var> ,  geometry <var class="pdparam">extend_to = NULL</var> <code>)</code>;</p></div></div><div class="refsection" id="idm18025"><h2>Description</h2><p>Calcule un <a class="link" href="https://en.wikipedia.org/wiki/Voronoi_diagram" target="_top">Voronoi diagram</a> bidimensionnel à partir des sommets de la géométrie fournie et renvoie les limites entre les cellules de la représentation sous la forme d'une MultiLineString. Renvoie null si la géométrie d'entrée est null. Renvoie une collection de géométries vide si la géométrie d'entrée ne contient qu'un seul sommet. Renvoie une collection de géométries vide si l'enveloppe <code class="varname">extend_to</code> a une surface nulle. </p><p>Paramètres optionnels : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">tolerance</code> : distance à laquelle les sommets seront considérés comme équivalents. La robustesse de l'algorithme peut être améliorée en fournissant une distance de tolérance non nulle. (par défaut = 0.0)</p></li><li class="listitem"><p><code class="varname">extend_to</code> : S'il est présent, la représentation est étendue pour couvrir l'enveloppe de la géométrie fournie, à moins qu'elle ne soit plus petite que l'enveloppe par défaut (default = NULL, l'enveloppe par défaut est la boîte de délimitation de l'entrée élargie d'environ 50 %). </p></li></ul></div><p>
        </p><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 2.3.0</p></div><div class="refsection" id="idm18040"><h2>Exemples</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_voronoi03.png"/><div class="caption"><p>Lignes de la représentation de Voronoï, avec une tolérance de 30 unités</p></div></div></div><pre class="programlisting">SELECT ST_VoronoiLines(
            'MULTIPOINT (50 30, 60 30, 100 100,10 150, 110 120)'::geometry,
            30) AS geom;
</pre><pre class="screen"><em class="lineannotation"><span class="lineannotation">ST_AsText output</span></em>
MULTILINESTRING((135.555555555556 270,36.8181818181818 92.2727272727273),(36.8181818181818 92.2727272727273,-110 43.3333333333333),(230 -45.7142857142858,36.8181818181818 92.2727272727273))
</pre></div><div class="refsection" id="idm18051"><h2>Voir aussi</h2><p><a class="xref" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a>, <a class="xref" href="#ST_VoronoiPolygons" title="ST_VoronoiPolygons">ST_VoronoiPolygons</a> </p></div></div><div class="refentry" id="ST_VoronoiPolygons"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_VoronoiPolygons — Renvoie les cellules de la représentation de Voronoï des sommets d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_VoronoiPolygons</strong>(</code> geometry <var class="pdparam">geom</var> ,  float8 <var class="pdparam">tolerance = 0.0</var> ,  geometry <var class="pdparam">extend_to = NULL</var> <code>)</code>;</p></div></div><div class="refsection" id="idm18074"><h2>Description</h2><p>Calcule un <a class="link" href="https://en.wikipedia.org/wiki/Voronoi_diagram" target="_top">diagramme de Voronoï</a> bidimensionnel à partir des sommets de la géométrie fournie. Le résultat est une GEOMETRYCOLLECTION de POLYGONES qui couvre une enveloppe plus grande que l'étendue des sommets d'entrée. Renvoie null si la géométrie d'entrée est null. Renvoie une collection de géométries vide si la géométrie d'entrée ne contient qu'un seul sommet. Renvoie une collection de géométries vide si l'enveloppe <code class="varname">extend_to</code> a une surface nulle. </p><p>Paramètres optionnels : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">tolerance</code> : distance à laquelle les sommets seront considérés comme équivalents. La robustesse de l'algorithme peut être améliorée en fournissant une distance de tolérance non nulle. (par défaut = 0.0) </p></li><li class="listitem"><p><code class="varname">extend_to</code> : S'il est présent, la représentation est étendue pour couvrir l'enveloppe de la géométrie fournie, à moins qu'elle ne soit plus petite que l'enveloppe par défaut (default = NULL, l'enveloppe par défaut est la boîte de délimitation de l'entrée élargie d'environ 50 %). </p></li></ul></div><p>
        </p><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 2.3.0</p></div><div class="refsection" id="idm18089"><h2>Exemples</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_voronoi01.png"/><div class="caption"><p>Points superposés à la représentation de Voronoï</p></div></div></div><pre class="programlisting">SELECT ST_VoronoiPolygons(
                'MULTIPOINT (50 30, 60 30, 100 100,10 150, 110 120)'::geometry
            ) AS geom;
</pre><pre class="screen"><em class="lineannotation"><span class="lineannotation">ST_AsText output</span></em>
GEOMETRYCOLLECTION(POLYGON((-110 43.3333333333333,-110 270,100.5 270,59.3478260869565 132.826086956522,36.8181818181818 92.2727272727273,-110 43.3333333333333)),
POLYGON((55 -90,-110 -90,-110 43.3333333333333,36.8181818181818 92.2727272727273,55 79.2857142857143,55 -90)),
POLYGON((230 47.5,230 -20.7142857142857,55 79.2857142857143,36.8181818181818 92.2727272727273,59.3478260869565 132.826086956522,230 47.5)),POLYGON((230 -20.7142857142857,230 -90,55 -90,55 79.2857142857143,230 -20.7142857142857)),
POLYGON((100.5 270,230 270,230 47.5,59.3478260869565 132.826086956522,100.5 270)))
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_voronoi02.png"/><div class="caption"><p>Représentation de Voronoï, avec une tolérance de 30 unités</p></div></div></div><pre class="programlisting">SELECT ST_VoronoiPolygons(
            'MULTIPOINT (50 30, 60 30, 100 100,10 150, 110 120)'::geometry,
            30) AS geom;
</pre><pre class="screen"><em class="lineannotation"><span class="lineannotation">ST_AsText output</span></em>
GEOMETRYCOLLECTION(POLYGON((-110 43.3333333333333,-110 270,100.5 270,59.3478260869565 132.826086956522,36.8181818181818 92.2727272727273,-110 43.3333333333333)),
POLYGON((230 47.5,230 -45.7142857142858,36.8181818181818 92.2727272727273,59.3478260869565 132.826086956522,230 47.5)),POLYGON((230 -45.7142857142858,230 -90,-110 -90,-110 43.3333333333333,36.8181818181818 92.2727272727273,230 -45.7142857142858)),
POLYGON((100.5 270,230 270,230 47.5,59.3478260869565 132.826086956522,100.5 270)))
</pre></div><div class="refsection" id="idm18109"><h2>Voir aussi</h2><p><a class="xref" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a>, <a class="xref" href="#ST_VoronoiLines" title="ST_VoronoiLines">ST_VoronoiLines</a> </p></div></div></section><section class="section" id="Coverage"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.15. Couvertures</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions opèrent sur des ensembles de géométries polygonales qui forment des "couvertures implicites". Pour former une couverture valide, les polygones ne doivent pas se chevaucher et les sommets des arêtes adjacentes doivent correspondre exactement. Les couvertures sont rapides à traiter et peuvent être exploitées avec des fonctions window, qui conservent la topologie de la couverture à l'intérieur de la partition de la fenêtre tout en modifiant les arêtes.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a></span><span class="refpurpose"> — Fonction window qui trouve les endroits où les polygones ne forment pas une couverture valide.</span></li><li><span class="refentrytitle"><a href="#ST_CoverageSimplify">ST_CoverageSimplify</a></span><span class="refpurpose"> — Fonction window qui simplifie les bords d'une couverture polygonale.</span></li><li><span class="refentrytitle"><a href="#ST_CoverageUnion">ST_CoverageUnion</a></span><span class="refpurpose"> — Calcule l'union d'un ensemble de polygones formant une couverture en supprimant les arêtes communes.</span></li></ul></div><div class="refentry" id="ST_CoverageInvalidEdges"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CoverageInvalidEdges — Fonction window qui trouve les endroits où les polygones ne forment pas une couverture valide.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CoverageInvalidEdges</strong>(</code>geometry winset  <var class="pdparam">geom</var>, float8  <var class="pdparam">tolerance = 0</var><code>)</code>;</p></div></div><div class="refsection" id="idm18134"><h2>Description</h2><p>Une fonction window qui vérifie si les polygones de la partition window forment une couverture polygonale valide. Elle renvoie des indicateurs linéaires indiquant l'emplacement des arêtes non valides (le cas échéant) dans chaque polygone. </p><p>Un ensemble de polygones valides est une couverture valide si les conditions suivantes sont remplies : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>Non-overlapping</strong></span> - les polygones ne se chevauchent pas (leurs intérieurs ne s'intersectent pas) </p></li><li class="listitem"><p><span class="bold"><strong>Edge-Matched</strong></span> - les sommets situés le long d'arêtes communes sont identiques </p></li></ul></div><p>En tant que fonction window, une valeur est renvoyée pour chaque polygone d'entrée. Pour les polygones qui ne respectent pas une ou plusieurs des conditions de validité, la valeur renvoyée est un MULTILINESTRING contenant les arêtes problématiques. Les polygones valides du point de vue de la couverture renvoient la valeur NULL. Les géométries non polygonales ou vides produisent également des valeurs NULL.</p><p>Les conditions permettent à une couverture valide de contenir des trous (espaces entre les polygones), pour autant que les polygones environnants soient adaptés aux bords. Toutefois, des espaces très étroits ne sont souvent pas souhaitables. Si le paramètre <em class="parameter"><code>tolérance</code></em> est spécifié avec une distance non nulle, les arêtes formant des espaces plus étroits seront également renvoyées comme non valides. </p><p>Les polygones dont la validité de la couverture est vérifiée doivent également être des géométries valides. Ceci peut être vérifié avec <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>. </p><p class="availability">Disponibilité : 3.4.0</p><p class="geos_requirement">Nécessite GEOS &gt;= 3.12.0</p></div><div class="refsection" id="idm18152"><h2>Exemples</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_coverageinvalidedges01.png"/><div class="caption"><p>Arêtes non valides dues au chevauchement et à la non-concordance des sommets</p></div></div></div><pre class="programlisting">WITH coverage(id, geom) AS (VALUES
  (1, 'POLYGON ((10 190, 30 160, 40 110, 100 70, 120 10, 10 10, 10 190))'::geometry),
  (2, 'POLYGON ((100 190, 10 190, 30 160, 40 110, 50 80, 74 110.5, 100 130, 140 120, 140 160, 100 190))'::geometry),
  (3, 'POLYGON ((140 190, 190 190, 190 80, 140 80, 140 190))'::geometry),
  (4, 'POLYGON ((180 40, 120 10, 100 70, 140 80, 190 80, 180 40))'::geometry)
)
SELECT id, ST_AsText(ST_CoverageInvalidEdges(geom) OVER ())
  FROM coverage;

 id |               st_astext
----+---------------------------------------
  1 | LINESTRING (40 110, 100 70)
  2 | MULTILINESTRING ((100 130, 140 120, 140 160, 100 190), (40 110, 50 80, 74 110.5))
  3 | LINESTRING (140 80, 140 190)
  4 | null
      </pre><pre class="programlisting">-- Test entire table for coverage validity
SELECT true = ALL (
    SELECT ST_CoverageInvalidEdges(geom) OVER () IS NULL
    FROM coverage
    );
      </pre></div><div class="refsection" id="idm18162"><h2>Voir aussi</h2><p><a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_CoverageUnion" title="ST_CoverageUnion">ST_CoverageUnion</a>, <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> </p></div></div><div class="refentry" id="ST_CoverageSimplify"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CoverageSimplify — Fonction window qui simplifie les bords d'une couverture polygonale.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CoverageSimplify</strong>(</code>geometry winset  <var class="pdparam">geom</var>, float8  <var class="pdparam">tolerance</var>, boolean  <var class="pdparam">simplifyBoundary = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm18186"><h2>Description</h2><p>Une fonction window qui simplifie les bords des polygones dans une couverture polygonale. La simplification préserve la topologie de la couverture. Cela signifie que les polygones de sortie simplifiés sont cohérents le long des arêtes communes et forment toujours une couverture valide. </p><p>La simplification utilise une variante de l'algorithme <a class="link" href="https://en.wikipedia.org/wiki/Visvalingam%E2%80%93Whyatt_algorithm" target="_top">Visvalingam-Whyatt</a>. Le paramètre <em class="parameter"><code>tolérance</code></em> a des unités de distance et est approximativement égal à la racine carrée des zones triangulaires à simplifier. </p><p>Pour simplifier uniquement les bords "internes" de la couverture (ceux qui sont partagés par deux polygones), définissez le paramètre <em class="parameter"><code>simplifyBoundary</code></em> à false.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si l'entrée n'est pas une couverture valide, il peut y avoir des artefacts inattendus dans la sortie (tels que des intersections de frontières, ou des frontières séparées qui semblaient être partagées). Utilisez <a class="xref" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a> pour déterminer si une couverture est valide. </p></td></tr></table></div><p class="availability">Disponibilité : 3.4.0</p><p class="geos_requirement">Nécessite GEOS &gt;= 3.12.0</p></div><div class="refsection" id="idm18199"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_coveragesimplify01.png"/><div class="caption"><p>Couverture d'entrée</p></div></div></div><p>
        </p></td><td><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_coveragesimplify02.png"/><div class="caption"><p>Couverture simplifiée</p></div></div></div><p>
        </p></td></tr></tbody></table></div><pre class="programlisting">WITH coverage(id, geom) AS (VALUES
  (1, 'POLYGON ((160 150, 110 130, 90 100, 90 70, 60 60, 50 10, 30 30, 40 50, 25 40, 10 60, 30 100, 30 120, 20 170, 60 180, 90 190, 130 180, 130 160, 160 150), (40 160, 50 140, 66 125, 60 100, 80 140, 90 170, 60 160, 40 160))'::geometry),
  (2, 'POLYGON ((40 160, 60 160, 90 170, 80 140, 60 100, 66 125, 50 140, 40 160))'::geometry),
  (3, 'POLYGON ((110 130, 160 50, 140 50, 120 33, 90 30, 50 10, 60 60, 90 70, 90 100, 110 130))'::geometry),
  (4, 'POLYGON ((160 150, 150 120, 160 90, 160 50, 110 130, 160 150))'::geometry)
)
SELECT id, ST_AsText(ST_CoverageSimplify(geom, 30) OVER ())
  FROM coverage;

 id |               st_astext
----+---------------------------------------
  1 | POLYGON ((160 150, 110 130, 50 10, 10 60, 20 170, 90 190, 160 150), (40 160, 66 125, 90 170, 40 160))
  2 | POLYGON ((40 160, 66 125, 90 170, 40 160))
  3 | POLYGON ((110 130, 160 50, 50 10, 110 130))
  4 | POLYGON ((160 150, 160 50, 110 130, 160 150))
      </pre></div><div class="refsection" id="idm18222"><h2>Voir aussi</h2><p>
        <a class="xref" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a>
      </p></div></div><div class="refentry" id="ST_CoverageUnion"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CoverageUnion — Calcule l'union d'un ensemble de polygones formant une couverture en supprimant les arêtes communes.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CoverageUnion</strong>(</code>geometry set <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm18238"><h2>Description</h2><p>Une fonction agrégée qui réunit un ensemble de polygones formant une couverture polygonale. Le résultat est une géométrie polygonale couvrant la même zone que la couverture. Cette fonction produit le même résultat que <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a>, mais utilise la structure de la couverture pour calculer l'union beaucoup plus rapidement. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si l'entrée n'est pas une couverture valide, il peut y avoir des artefacts inattendus dans la sortie (tels que des polygones non fusionnés ou se chevauchant). Utilisez <a class="xref" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a> pour déterminer si une couverture est valide. </p></td></tr></table></div><p class="availability">Disponibilité : 3.4.0 - nécessite GEOS &gt;= 3.8.0</p></div><div class="refsection" id="idm18246"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_coverageunion01.png"/><div class="caption"><p>Couverture d'entrée</p></div></div></div><p>
        </p></td><td><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_coverageunion02.png"/><div class="caption"><p>Résultat de l'union</p></div></div></div><p>
        </p></td></tr></tbody></table></div><pre class="programlisting">WITH coverage(id, geom) AS (VALUES
  (1, 'POLYGON ((10 10, 10 150, 80 190, 110 150, 90 110, 40 110, 50 60, 10 10))'::geometry),
  (2, 'POLYGON ((120 10, 10 10, 50 60, 100 70, 120 10))'::geometry),
  (3, 'POLYGON ((140 80, 120 10, 100 70, 40 110, 90 110, 110 150, 140 80))'::geometry),
  (4, 'POLYGON ((140 190, 120 170, 140 130, 160 150, 140 190))'::geometry),
  (5, 'POLYGON ((180 160, 170 140, 140 130, 160 150, 140 190, 180 160))'::geometry)
)
SELECT ST_AsText(ST_CoverageUnion(geom))
  FROM coverage;

--------------------------------------
MULTIPOLYGON (((10 150, 80 190, 110 150, 140 80, 120 10, 10 10, 10 150), (50 60, 100 70, 40 110, 50 60)), ((120 170, 140 190, 180 160, 170 140, 140 130, 120 170)))
      </pre></div><div class="refsection" id="idm18269"><h2>Voir aussi</h2><p><a class="xref" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a> </p></div></div></section><section class="section" id="Affine_Transformation"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.16. Transformations affines</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions modifient la position et la forme des géométries à l'aide de <a class="link" href="https://en.wikipedia.org/wiki/Affine_transformation" target="_top">transformations affines</a>.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_Affine">ST_Affine</a></span><span class="refpurpose"> — Appliquer une transformation affine 3D à une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_Rotate">ST_Rotate</a></span><span class="refpurpose"> — Fait pivoter une géométrie autour d'un point d'origine.</span></li><li><span class="refentrytitle"><a href="#ST_RotateX">ST_RotateX</a></span><span class="refpurpose"> — Fait pivoter une géométrie autour de l'axe X.</span></li><li><span class="refentrytitle"><a href="#ST_RotateY">ST_RotateY</a></span><span class="refpurpose"> — Fait pivoter une géométrie autour de l'axe Y.</span></li><li><span class="refentrytitle"><a href="#ST_RotateZ">ST_RotateZ</a></span><span class="refpurpose"> — Fait pivoter une géométrie autour de l'axe Z.</span></li><li><span class="refentrytitle"><a href="#ST_Scale">ST_Scale</a></span><span class="refpurpose"> — Met à l'échelle une géométrie en fonction de facteurs donnés.</span></li><li><span class="refentrytitle"><a href="#ST_Translate">ST_Translate</a></span><span class="refpurpose"> — Traduit une géométrie en fonction de décalages donnés.</span></li><li><span class="refentrytitle"><a href="#ST_TransScale">ST_TransScale</a></span><span class="refpurpose"> — Traduit et met à l'échelle une géométrie en fonction des paramètres offset et factor spécifiés.</span></li></ul></div><div class="refentry" id="ST_Affine"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Affine — Appliquer une transformation affine 3D à une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Affine</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">a</var>, float  <var class="pdparam">b</var>, float  <var class="pdparam">c</var>, float  <var class="pdparam">d</var>, float  <var class="pdparam">e</var>, float  <var class="pdparam">f</var>, float  <var class="pdparam">g</var>, float  <var class="pdparam">h</var>, float  <var class="pdparam">i</var>, float  <var class="pdparam">xoff</var>, float  <var class="pdparam">yoff</var>, float  <var class="pdparam">zoff</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Affine</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">a</var>, float  <var class="pdparam">b</var>, float  <var class="pdparam">d</var>, float  <var class="pdparam">e</var>, float  <var class="pdparam">xoff</var>, float  <var class="pdparam">yoff</var><code>)</code>;</p></div></div><div class="refsection" id="idm18352"><h2>Description</h2><p>Applique une transformation affine 3D à la géométrie pour effectuer des opérations telles que la translation, la rotation et la mise à l'échelle en une seule étape.</p><p>Version 1: L'appel </p><pre class="programlisting">ST_Affine(geom, a, b, c, d, e, f, g, h, i, xoff, yoff, zoff) </pre><p> représente la matrice de transformation </p><pre class="programlisting">/ a  b  c  xoff \
| d  e  f  yoff |
| g  h  i  zoff |
\ 0  0  0     1 /</pre><p> et les sommets sont transformés comme suit : </p><pre class="programlisting">x' = a*x + b*y + c*z + xoff
y' = d*x + e*y + f*z + yoff
z' = g*x + h*y + i*z + zoff</pre><p> Toutes les fonctions de translation / mise à l'échelle ci-dessous sont exprimées par une telle transformation affine.</p><p>Version 2: Applique une transformation affine 2d à la géométrie. L'appel </p><pre class="programlisting">ST_Affine(geom, a, b, d, e, xoff, yoff)</pre><p> représente la matrice de transformation </p><pre class="programlisting">/  a  b  0  xoff  \       /  a  b  xoff  \
|  d  e  0  yoff  | rsp.  |  d  e  yoff  |
|  0  0  1     0  |       \  0  0     1  /
\  0  0  0     1  /</pre><p> et les sommets sont transformés comme suit : </p><pre class="programlisting">x' = a*x + b*y + xoff
y' = d*x + e*y + yoff
z' = z </pre><p> Cette méthode est un sous-cas de la méthode 3D ci-dessus.</p><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p class="availability">Disponibilité : 1.1.2. Le nom a été changé de Affine à ST_Affine dans la version 1.2.2</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Avant la version 1.3.4, cette fonction se bloquait si elle était utilisée avec des géométries contenant des CURVES. Ce problème est corrigé dans la version 1.3.4+</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm18383"><h2>Exemples</h2><pre class="programlisting">--Rotate a 3d line 180 degrees about the z axis.  Note this is long-hand for doing ST_Rotate();
 SELECT ST_AsEWKT(ST_Affine(geom,  cos(pi()), -sin(pi()), 0,  sin(pi()), cos(pi()), 0,  0, 0, 1,  0, 0, 0)) As using_affine,
         ST_AsEWKT(ST_Rotate(geom, pi())) As using_rotate
        FROM (SELECT ST_GeomFromEWKT('LINESTRING(1 2 3, 1 4 3)') As geom) As foo;
        using_affine         |        using_rotate
-----------------------------+-----------------------------
 LINESTRING(-1 -2 3,-1 -4 3) | LINESTRING(-1 -2 3,-1 -4 3)
(1 row)

--Rotate a 3d line 180 degrees in both the x and z axis
SELECT ST_AsEWKT(ST_Affine(geom, cos(pi()), -sin(pi()), 0, sin(pi()), cos(pi()), -sin(pi()), 0, sin(pi()), cos(pi()), 0, 0, 0))
        FROM (SELECT ST_GeomFromEWKT('LINESTRING(1 2 3, 1 4 3)') As geom) As foo;
           st_asewkt
-------------------------------
 LINESTRING(-1 -2 -3,-1 -4 -3)
(1 row)
                </pre></div><div class="refsection" id="idm18386"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Rotate" title="ST_Rotate">ST_Rotate</a>, <a class="xref" href="#ST_Scale" title="ST_Scale">ST_Scale</a>, <a class="xref" href="#ST_Translate" title="ST_Translate">ST_Translate</a>, <a class="xref" href="#ST_TransScale" title="ST_TransScale">ST_TransScale</a></p></div></div><div class="refentry" id="ST_Rotate"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Rotate — Fait pivoter une géométrie autour d'un point d'origine.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Rotate</strong>(</code>geometry <var class="pdparam">geomA</var>, float <var class="pdparam">rotRadians</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Rotate</strong>(</code>geometry <var class="pdparam">geomA</var>, float <var class="pdparam">rotRadians</var>, float <var class="pdparam">x0</var>, float <var class="pdparam">y0</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Rotate</strong>(</code>geometry <var class="pdparam">geomA</var>, float <var class="pdparam">rotRadians</var>, geometry <var class="pdparam">pointOrigin</var><code>)</code>;</p></div></div><div class="refsection" id="idm18435"><h2>Description</h2><p>Fait pivoter la géométrie rotRadians dans le sens inverse des aiguilles d'une montre autour du point d'origine. Le point d'origine de la rotation peut être spécifié sous la forme d'une géométrie POINT, ou sous la forme de coordonnées x et y. Si l'origine n'est pas spécifiée, la géométrie est tournée autour de POINT(0 0).</p><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p class="enhanced">Amélioration : 2.0.0 des paramètres supplémentaires ont été ajoutés pour spécifier l'origine de la rotation.</p><p class="availability">Disponibilité : 1.1.2. Nom modifié de Rotate en ST_Rotate dans la version 1.2.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm18457"><h2>Exemples</h2><pre class="programlisting">--Rotate 180 degrees
SELECT ST_AsEWKT(ST_Rotate('LINESTRING (50 160, 50 50, 100 50)', pi()));
               st_asewkt
---------------------------------------
 LINESTRING(-50 -160,-50 -50,-100 -50)
(1 row)

--Rotate 30 degrees counter-clockwise at x=50, y=160
SELECT ST_AsEWKT(ST_Rotate('LINESTRING (50 160, 50 50, 100 50)', pi()/6, 50, 160));
                                 st_asewkt
---------------------------------------------------------------------------
 LINESTRING(50 160,105 64.7372055837117,148.301270189222 89.7372055837117)
(1 row)

--Rotate 60 degrees clockwise from centroid
SELECT ST_AsEWKT(ST_Rotate(geom, -pi()/3, ST_Centroid(geom)))
FROM (SELECT 'LINESTRING (50 160, 50 50, 100 50)'::geometry AS geom) AS foo;
                           st_asewkt
--------------------------------------------------------------
 LINESTRING(116.4225 130.6721,21.1597 75.6721,46.1597 32.3708)
(1 row)
                </pre></div><div class="refsection" id="idm18460"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Affine" title="ST_Affine">ST_Affine</a>, <a class="xref" href="#ST_RotateX" title="ST_RotateX">ST_RotateX</a>, <a class="xref" href="#ST_RotateY" title="ST_RotateY">ST_RotateY</a>, <a class="xref" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a></p></div></div><div class="refentry" id="ST_RotateX"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RotateX — Fait pivoter une géométrie autour de l'axe X.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_RotateX</strong>(</code>geometry <var class="pdparam">geomA</var>, float <var class="pdparam">rotRadians</var><code>)</code>;</p></div></div><div class="refsection" id="idm18482"><h2>Description</h2><p>Fait pivoter une géométrie geomA - rotRadians autour de l'axe X.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><code class="code">ST_RotateX(geomA, rotRadians)</code> est un raccourci pour <code class="code">ST_Affine(geomA, 1, 0, 0, 0, cos(rotRadians), -sin(rotRadians), 0, sin(rotRadians), cos(rotRadians), 0, 0, 0)</code>.</p></td></tr></table></div><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p class="availability">Disponibilité : 1.1.2. Nom modifié de RotateX en ST_RotateX dans la version 1.2.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm18503"><h2>Exemples</h2><pre class="programlisting">--Rotate a line 90 degrees along x-axis
SELECT ST_AsEWKT(ST_RotateX(ST_GeomFromEWKT('LINESTRING(1 2 3, 1 1 1)'), pi()/2));
                 st_asewkt
---------------------------
 LINESTRING(1 -3 2,1 -1 1)
</pre></div><div class="refsection" id="idm18506"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Affine" title="ST_Affine">ST_Affine</a>, <a class="xref" href="#ST_RotateY" title="ST_RotateY">ST_RotateY</a>, <a class="xref" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a></p></div></div><div class="refentry" id="ST_RotateY"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RotateY — Fait pivoter une géométrie autour de l'axe Y.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_RotateY</strong>(</code>geometry <var class="pdparam">geomA</var>, float <var class="pdparam">rotRadians</var><code>)</code>;</p></div></div><div class="refsection" id="idm18527"><h2>Description</h2><p>Fait pivoter une géométrie geomA - rotRadians autour de l'axe y.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><code class="code">ST_RotateY(geomA, rotRadians)</code> est un raccourci pour <code class="code">ST_Affine(geomA, cos(rotRadians), 0, sin(rotRadians), 0, 1, 0, -sin(rotRadians), 0, cos(rotRadians), 0, 0, 0)</code>.</p></td></tr></table></div><p class="availability">Disponibilité : 1.1.2. Nom modifié de RotateY en ST_RotateY dans la version 1.2.2</p><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm18548"><h2>Exemples</h2><pre class="programlisting">--Rotate a line 90 degrees along y-axis
 SELECT ST_AsEWKT(ST_RotateY(ST_GeomFromEWKT('LINESTRING(1 2 3, 1 1 1)'), pi()/2));
                 st_asewkt
---------------------------
 LINESTRING(3 2 -1,1 1 -1)
</pre></div><div class="refsection" id="idm18551"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Affine" title="ST_Affine">ST_Affine</a>, <a class="xref" href="#ST_RotateX" title="ST_RotateX">ST_RotateX</a>, <a class="xref" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a></p></div></div><div class="refentry" id="ST_RotateZ"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RotateZ — Fait pivoter une géométrie autour de l'axe Z.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_RotateZ</strong>(</code>geometry <var class="pdparam">geomA</var>, float <var class="pdparam">rotRadians</var><code>)</code>;</p></div></div><div class="refsection" id="idm18572"><h2>Description</h2><p>Fait pivoter une géométrie geomA - rotRadians autour de l'axe Z.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>C'est un synonyme de ST_Rotate</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><code class="code">ST_RotateZ(geomA, rotRadians)</code> est un raccourci <code class="code">SELECT ST_Affine(geomA, cos(rotRadians), -sin(rotRadians), 0, sin(rotRadians), cos(rotRadians), 0, 0, 0, 1, 0, 0, 0)</code>.</p></td></tr></table></div><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p class="availability">Disponibilité : 1.1.2. Nom modifié de RotateZ en ST_RotateZ dans la version 1.2.2</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Avant la version 1.3.4, cette fonction se bloquait si elle était utilisée avec des géométries contenant des CURVES. Ce problème est corrigé dans la version 1.3.4+</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm18601"><h2>Exemples</h2><pre class="programlisting">--Rotate a line 90 degrees along z-axis
SELECT ST_AsEWKT(ST_RotateZ(ST_GeomFromEWKT('LINESTRING(1 2 3, 1 1 1)'), pi()/2));
                 st_asewkt
---------------------------
 LINESTRING(-2 1 3,-1 1 1)

 --Rotate a curved circle around z-axis
SELECT ST_AsEWKT(ST_RotateZ(geom, pi()/2))
FROM (SELECT ST_LineToCurve(ST_Buffer(ST_GeomFromText('POINT(234 567)'), 3)) As geom) As foo;

                                                                                                           st_asewkt
----------------------------------------------------------------------------------------------------------------------------
 CURVEPOLYGON(CIRCULARSTRING(-567 237,-564.87867965644 236.12132034356,-564 234,-569.12132034356 231.87867965644,-567 237))

</pre></div><div class="refsection" id="idm18604"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Affine" title="ST_Affine">ST_Affine</a>, <a class="xref" href="#ST_RotateX" title="ST_RotateX">ST_RotateX</a>, <a class="xref" href="#ST_RotateY" title="ST_RotateY">ST_RotateY</a></p></div></div><div class="refentry" id="ST_Scale"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Scale — Met à l'échelle une géométrie en fonction de facteurs donnés.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Scale</strong>(</code>geometry  <var class="pdparam">geomA</var>, float <var class="pdparam">XFactor</var>, float <var class="pdparam">YFactor</var>, float <var class="pdparam">ZFactor</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Scale</strong>(</code>geometry  <var class="pdparam">geomA</var>, float <var class="pdparam">XFactor</var>, float <var class="pdparam">YFactor</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Scale</strong>(</code>geometry  <var class="pdparam">geom</var>, geometry <var class="pdparam">factor</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Scale</strong>(</code>geometry  <var class="pdparam">geom</var>, geometry <var class="pdparam">factor</var>, geometry <var class="pdparam">origin</var><code>)</code>;</p></div></div><div class="refsection" id="idm18664"><h2>Description</h2><p>Met la géométrie à l'échelle en multipliant les ordonnées par les paramètres factor correspondants. </p><p>La version prenant une géométrie comme paramètre <code class="varname">factor</code> permet de passer un point 2d, 3dm, 3dz ou 4d pour définir le facteur d'échelle pour toutes les dimensions prises en charge. Les dimensions manquantes dans le point <code class="varname">factor</code> sont équivalentes à l'absence de mise à l'échelle de la dimension correspondante. </p><p>La variante à trois géométries permet de transmettre une "fausse origine" pour la mise à l'échelle. Cela permet une "mise à l'échelle sur place", par exemple en utilisant le centroïde de la géométrie comme fausse origine. Sans fausse origine, la mise à l'échelle s'effectue par rapport à l'origine réelle, de sorte que toutes les coordonnées sont simplement multipliées par le facteur d'échelle. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Avant la version 1.3.4, cette fonction se bloquait si elle était utilisée avec des géométries contenant des CURVES. Ce problème est corrigé dans la version 1.3.4+</p></td></tr></table></div><p class="availability">Disponibilité : 1.1.0.</p><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p class="enhanced">Amélioration : La prise en charge de la mise à l'échelle de toutes les dimensions (paramètre <code class="varname">factor</code>) a été introduite dans la version 2.2.0.</p><p class="enhanced">Amélioration : la prise en charge de la mise à l'échelle par rapport à une origine locale (paramètre <code class="varname">origin</code>) a été introduite dans la version 2.5.0.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les coordonnées M. </p></div><div class="refsection" id="idm18699"><h2>Exemples</h2><pre class="programlisting">--Version 1: scale X, Y, Z
SELECT ST_AsEWKT(ST_Scale(ST_GeomFromEWKT('LINESTRING(1 2 3, 1 1 1)'), 0.5, 0.75, 0.8));
                          st_asewkt
--------------------------------------
 LINESTRING(0.5 1.5 2.4,0.5 0.75 0.8)

--Version 2: Scale X Y
 SELECT ST_AsEWKT(ST_Scale(ST_GeomFromEWKT('LINESTRING(1 2 3, 1 1 1)'), 0.5, 0.75));
                        st_asewkt
----------------------------------
 LINESTRING(0.5 1.5 3,0.5 0.75 1)

--Version 3: Scale X Y Z M
 SELECT ST_AsEWKT(ST_Scale(ST_GeomFromEWKT('LINESTRING(1 2 3 4, 1 1 1 1)'),
   ST_MakePoint(0.5, 0.75, 2, -1)));
                               st_asewkt
----------------------------------------
 LINESTRING(0.5 1.5 6 -4,0.5 0.75 2 -1)

--Version 4: Scale X Y using false origin
SELECT ST_AsText(ST_Scale('LINESTRING(1 1, 2 2)', 'POINT(2 2)', 'POINT(1 1)'::geometry));
      st_astext
---------------------
 LINESTRING(1 1,3 3)

</pre></div><div class="refsection" id="idm18702"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Affine" title="ST_Affine">ST_Affine</a>, <a class="xref" href="#ST_TransScale" title="ST_TransScale">ST_TransScale</a></p></div></div><div class="refentry" id="ST_Translate"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Translate — Traduit une géométrie en fonction de décalages donnés.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Translate</strong>(</code>geometry  <var class="pdparam">g1</var>, float  <var class="pdparam">deltax</var>, float  <var class="pdparam">deltay</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Translate</strong>(</code>geometry  <var class="pdparam">g1</var>, float  <var class="pdparam">deltax</var>, float  <var class="pdparam">deltay</var>, float  <var class="pdparam">deltaz</var><code>)</code>;</p></div></div><div class="refsection" id="idm18740"><h2>Description</h2><p>Renvoie une nouvelle géométrie dont les coordonnées sont des unités de translation delta x,delta y,delta z. Les unités sont basées sur les unités définies dans la référence spatiale (SRID) pour cette géométrie. Les unités sont basées sur les unités définies dans la référence spatiale (SRID) pour cette géométrie.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Avant la version 1.3.4, cette fonction se bloquait si elle était utilisée avec des géométries contenant des CURVES. Ce problème est corrigé dans la version 1.3.4+</p></td></tr></table></div><p class="availability">Disponibilité : 1.2.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm18754"><h2>Exemples</h2><p>Déplacer un point de 1 degré de longitude</p><pre class="programlisting">SELECT ST_AsText(ST_Translate(ST_GeomFromText('POINT(-71.01 42.37)',4326),1,0)) As wgs_transgeomtxt;

        wgs_transgeomtxt
        ---------------------
        POINT(-70.01 42.37)
                </pre><p>Déplacer une ligne d'un degré de longitude et d'un demi-degré de latitude</p><pre class="programlisting">SELECT ST_AsText(ST_Translate(ST_GeomFromText('LINESTRING(-71.01 42.37,-71.11 42.38)',4326),1,0.5)) As wgs_transgeomtxt;
                   wgs_transgeomtxt
        ---------------------------------------
        LINESTRING(-70.01 42.87,-70.11 42.88)
                </pre><p>Déplacer un point 3D</p><pre class="programlisting">SELECT ST_AsEWKT(ST_Translate(CAST('POINT(0 0 0)' As geometry), 5, 12,3));
        st_asewkt
        ---------
        POINT(5 12 3)
                </pre><p>Déplacer une courbe et un point</p><pre class="programlisting">SELECT ST_AsText(ST_Translate(ST_Collect('CURVEPOLYGON(CIRCULARSTRING(4 3,3.12 0.878,1 0,-1.121 5.1213,6 7, 8 9,4 3))','POINT(1 3)'),1,2));
                                                                                                                 st_astext
------------------------------------------------------------------------------------------------------------
 GEOMETRYCOLLECTION(CURVEPOLYGON(CIRCULARSTRING(5 5,4.12 2.878,2 2,-0.121 7.1213,7 9,9 11,5 5)),POINT(2 5))
</pre></div><div class="refsection" id="idm18764"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Affine" title="ST_Affine">ST_Affine</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_TransScale"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_TransScale — Traduit et met à l'échelle une géométrie en fonction des paramètres offset et factor spécifiés.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_TransScale</strong>(</code>geometry  <var class="pdparam">geomA</var>, float <var class="pdparam">deltaX</var>, float <var class="pdparam">deltaY</var>, float <var class="pdparam">XFactor</var>, float <var class="pdparam">YFactor</var><code>)</code>;</p></div></div><div class="refsection" id="idm18794"><h2>Description</h2><p>Traduit la géométrie à l'aide des paramètres deltaX et deltaY, puis la met à l'échelle à l'aide des paramètres XFactor et YFactor, uniquement en 2D.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><code class="code">ST_TransScale(geomA, deltaX, deltaY, XFactor, YFactor)</code> est un raccourci pour <code class="code">ST_Affine(geomA, XFactor, 0, 0, 0, YFactor, 0, 0, 0, 1, deltaX*XFactor, deltaY*YFactor, 0)</code>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Avant la version 1.3.4, cette fonction se bloquait si elle était utilisée avec des géométries contenant des CURVES. Ce problème est corrigé dans la version 1.3.4+</p></td></tr></table></div><p class="availability">Disponibilité : 1.1.0.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm18812"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsEWKT(ST_TransScale(ST_GeomFromEWKT('LINESTRING(1 2 3, 1 1 1)'), 0.5, 1, 1, 2));
                  st_asewkt
-----------------------------
 LINESTRING(1.5 6 3,1.5 4 1)


--Buffer a point to get an approximation of a circle, convert to curve and then translate 1,2 and scale it 3,4
  SELECT ST_AsText(ST_Transscale(ST_LineToCurve(ST_Buffer('POINT(234 567)', 3)),1,2,3,4));
                                                                                                                  st_astext
------------------------------------------------------------------------------------------------------------------------------
 CURVEPOLYGON(CIRCULARSTRING(714 2276,711.363961030679 2267.51471862576,705 2264,698.636038969321 2284.48528137424,714 2276))

</pre></div><div class="refsection" id="idm18815"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Affine" title="ST_Affine">ST_Affine</a>, <a class="xref" href="#ST_Translate" title="ST_Translate">ST_Translate</a></p></div></div></section><section class="section" id="Clustering_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.17. Fonctions de clustering</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions mettent en œuvre des algorithmes de regroupement pour des ensembles de géométries.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_ClusterDBSCAN">ST_ClusterDBSCAN</a></span><span class="refpurpose"> — Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie d'entrée en utilisant l'algorithme DBSCAN.</span></li><li><span class="refentrytitle"><a href="#ST_ClusterIntersecting">ST_ClusterIntersecting</a></span><span class="refpurpose"> — Fonction d'agrégation qui regroupe les géométries en entrée en ensembles connectés.</span></li><li><span class="refentrytitle"><a href="#ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a></span><span class="refpurpose"> — Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée, en regroupant les géométries en entrée en ensembles connectés.</span></li><li><span class="refentrytitle"><a href="#ST_ClusterKMeans">ST_ClusterKMeans</a></span><span class="refpurpose"> — Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée en utilisant l'algorithme K-means.</span></li><li><span class="refentrytitle"><a href="#ST_ClusterWithin">ST_ClusterWithin</a></span><span class="refpurpose"> — Fonction agrégée qui regroupe les géométries en fonction de la distance de séparation.</span></li><li><span class="refentrytitle"><a href="#ST_ClusterWithinWin">ST_ClusterWithinWin</a></span><span class="refpurpose"> — Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée, regroupement en utilisant la distance de séparation.</span></li></ul></div><div class="refentry" id="ST_ClusterDBSCAN"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClusterDBSCAN — Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie d'entrée en utilisant l'algorithme DBSCAN.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_ClusterDBSCAN</strong>(</code>geometry winset  <var class="pdparam">geom</var>, float8  <var class="pdparam">eps</var>, integer  <var class="pdparam">minpoints</var><code>)</code>;</p></div></div><div class="refsection" id="idm18843"><h2>Description</h2><p>Une fonction window qui renvoie un numéro de cluster pour chaque géométrie d'entrée, en utilisant l'algorithme 2D <a class="link" href="https://en.wikipedia.org/wiki/DBSCAN" target="_top">Density-based spatial clustering of applications with noise (DBSCAN)</a>. Contrairement à <a class="xref" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a>, elle ne nécessite pas la spécification du nombre de clusters, mais utilise les paramètres de <a class="link" href="#ST_Distance" title="ST_Distance">distance</a> (<code class="varname">eps</code>) et de densité (<code class="varname">minpoints</code>) pour déterminer chaque cluster. </p><p>Une géométrie d'entrée est ajoutée à un cluster si elle est l'une ou l'autre : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Une géométrie "core", qui se trouve à <code class="varname">eps</code> <a class="link" href="#ST_Distance" title="ST_Distance">distance</a> d'au moins <code class="varname">minpoints</code> géométries d'entrée (y compris la sienne) ; ou </p></li><li class="listitem"><p>Une géométrie "en bordure", qui se trouve dans <code class="varname">eps</code> <a class="link" href="#ST_Distance" title="ST_Distance">distance</a> d'une géométrie centrale. </p></li></ul></div><p>
		</p><p>Notez que les géométries situés en bordure peuvent se trouver à <code class="varname">eps</code> distance des géométries centrales dans plus d'un cluster. L'une ou l'autre assignation serait correcte, de sorte que la géométrie de bordure sera arbitrairement assignée à l'un des clusters disponibles. Dans cette situation, il est possible qu'un cluster correct soit généré avec moins de géométries <code class="varname">minpoints</code>. Pour garantir une affectation déterministe des géométries de bordure (de sorte que des appels répétés à ST_ClusterDBSCAN produisent des résultats identiques), utilisez une clause <code class="code">ORDER BY</code> dans la définition de la fonction window. Les affectations de clusters ambigus peuvent différer d'autres implémentations DBSCAN. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les géométries qui ne répondent pas aux critères d'appartenance à un cluster se voient attribuer un numéro de cluster NULL. </p></td></tr></table></div><p class="availability">Disponibilité : 2.3.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm18873"><h2>Exemples</h2><p>Regroupement des polygones à moins de 50 mètres les uns des autres, et nécessité d'avoir au moins 2 polygones par cluster. </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_clusterdbscan01.png"/><div class="caption"><p>Clusters dans un rayon de 50 mètres avec au moins 2 éléments par cluster. Les singletons ont NULL pour cid</p></div></div></div><p>
  </p><pre class="programlisting">
SELECT name, ST_ClusterDBSCAN(geom, eps =
&gt; 50, minpoints =
&gt; 2) over () AS cid
FROM boston_polys
WHERE name 
&gt; '' AND building 
&gt; ''
        AND ST_DWithin(geom,
        ST_Transform(
            ST_GeomFromText('POINT(-71.04054 42.35141)', 4326), 26986),
           500);
</pre><p>
						  </p></td><td><pre class="screen">
                name                 | bucket
-------------------------------------+--------
 Manulife Tower                      |      0
 Park Lane Seaport I                 |      0
 Park Lane Seaport II                |      0
 Renaissance Boston Waterfront Hotel |      0
 Seaport Boston Hotel                |      0
 Seaport Hotel &amp; World Trade Center  |      0
 Waterside Place                     |      0
 World Trade Center East             |      0
 100 Northern Avenue                 |      1
 100 Pier 4                          |      1
 The Institute of Contemporary Art   |      1
 101 Seaport                         |      2
 District Hall                       |      2
 One Marina Park Drive               |      2
 Twenty Two Liberty                  |      2
 Vertex                              |      2
 Vertex                              |      2
 Watermark Seaport                   |      2
 Blue Hills Bank Pavilion            |   NULL
 World Trade Center West             |   NULL
(20 rows)
</pre>
				</td></tr></tbody></table></div><p>Un exemple montrant la combinaison de parcelles ayant le même numéro de cluster dans des collections géométriques. </p><pre class="programlisting">SELECT cid, ST_Collect(geom) AS cluster_geom, array_agg(parcel_id) AS ids_in_cluster FROM (
    SELECT parcel_id, ST_ClusterDBSCAN(geom, eps =&gt; 0.5, minpoints =&gt; 5) over () AS cid, geom
    FROM parcels) sq
GROUP BY cid;
    </pre></div><div class="refsection" id="idm18894"><h2>Voir aussi</h2><p><a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a>, <a class="xref" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a>, <a class="xref" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a>, <a class="xref" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a>, <a class="xref" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a> </p></div></div><div class="refentry" id="ST_ClusterIntersecting"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClusterIntersecting — Fonction d'agrégation qui regroupe les géométries en entrée en ensembles connectés.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry[] <strong class="fsfunc">ST_ClusterIntersecting</strong>(</code>geometry set <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm18915"><h2>Description</h2><p>Une fonction agrégée qui renvoie un tableau de GeometryCollections partitionnant les géométries d'entrée en clusters connectés et disjoints. Chaque géométrie d'un cluster intersecte au moins une autre géométrie du cluster et n'intersecte aucune géométrie d'autre cluster. </p><p class="availability">Disponibilité : 2.2.0</p></div><div class="refsection" id="idm18919"><h2>Exemples</h2><pre class="programlisting">WITH testdata AS
  (SELECT unnest(ARRAY['LINESTRING (0 0, 1 1)'::geometry,
           'LINESTRING (5 5, 4 4)'::geometry,
           'LINESTRING (6 6, 7 7)'::geometry,
           'LINESTRING (0 0, -1 -1)'::geometry,
           'POLYGON ((0 0, 4 0, 4 4, 0 4, 0 0))'::geometry]) AS geom)

SELECT ST_AsText(unnest(ST_ClusterIntersecting(geom))) FROM testdata;

--result

st_astext
---------
GEOMETRYCOLLECTION(LINESTRING(0 0,1 1),LINESTRING(5 5,4 4),LINESTRING(0 0,-1 -1),POLYGON((0 0,4 0,4 4,0 4,0 0)))
GEOMETRYCOLLECTION(LINESTRING(6 6,7 7))
        </pre></div><div class="refsection" id="idm18922"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a>, <a class="xref" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a>, <a class="xref" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a> </p></div></div><div class="refentry" id="ST_ClusterIntersectingWin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClusterIntersectingWin — Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée, en regroupant les géométries en entrée en ensembles connectés.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_ClusterIntersectingWin</strong>(</code>geometry winset  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm18940"><h2>Description</h2><p>Une fonction window qui construit des clusters connectés de géométries qui se croisent. Il est possible de parcourir toutes les géométries d'un cluster sans quitter le cluster. La valeur de retour est le numéro du cluster à laquelle participe l'argument géométrie, ou null pour les entrées nulles.</p><p class="availability">Disponibilité : 3.4.0</p></div><div class="refsection" id="idm18944"><h2>Exemples</h2><pre class="programlisting">WITH testdata AS (
  SELECT id, geom::geometry FROM (
  VALUES  (1, 'LINESTRING (0 0, 1 1)'),
          (2, 'LINESTRING (5 5, 4 4)'),
          (3, 'LINESTRING (6 6, 7 7)'),
          (4, 'LINESTRING (0 0, -1 -1)'),
          (5, 'POLYGON ((0 0, 4 0, 4 4, 0 4, 0 0))')) AS t(id, geom)
)
SELECT id,
  ST_AsText(geom),
  ST_ClusterIntersectingWin(geom) OVER () AS cluster
FROM testdata;

 id |           st_astext            | cluster
----+--------------------------------+---------
  1 | LINESTRING(0 0,1 1)            |       0
  2 | LINESTRING(5 5,4 4)            |       0
  3 | LINESTRING(6 6,7 7)            |       1
  4 | LINESTRING(0 0,-1 -1)          |       0
  5 | POLYGON((0 0,4 0,4 4,0 4,0 0)) |       0

        </pre></div><div class="refsection" id="idm18947"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a>, <a class="xref" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a>, <a class="xref" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a> </p></div></div><div class="refentry" id="ST_ClusterKMeans"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClusterKMeans — Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée en utilisant l'algorithme K-means.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_ClusterKMeans</strong>(</code>geometry winset  <var class="pdparam">geom</var>, integer  <var class="pdparam">number_of_clusters</var>, float  <var class="pdparam">max_radius</var><code>)</code>;</p></div></div><div class="refsection" id="idm18971"><h2>Description</h2><p>Renvoie le numéro de cluster <a class="link" href="https://en.wikipedia.org/wiki/K-means_clustering" target="_top">K-means</a> pour chaque géométrie en entrée. La distance utilisée pour le clustering est la distance entre les centroïdes pour les géométries 2D, et la distance entre les centres des boîtes de délimitation pour les géométries 3D. Pour les entrées POINT, la coordonnée M sera traitée comme le poids de l'entrée et doit être supérieure à 0. </p><p><code class="varname">max_radius</code>, si elle est définie, fera en sorte que ST_ClusterKMeans génère plus de clusters que <code class="varname">k</code> en s'assurant qu'aucun cluster en sortie n'a un rayon plus grand que <code class="varname">max_radius</code>. Ceci est utile dans l'analyse d'accessibilité. </p><p class="enhanced">Amélioré : 3.2.0 Support pour <code class="varname">max_radius</code></p><p class="enhanced">Amélioration : 3.1.0 Prise en charge des géométries et des poids en 3D</p><p class="availability">Disponibilité : 2.3.0</p></div><div class="refsection" id="idm18983"><h2>Exemples</h2><p>Générer un ensemble de parcelles fictives pour les exemples :</p><pre class="programlisting">CREATE TABLE parcels AS
SELECT lpad((row_number() over())::text,3,'0') As parcel_id, geom,
('{residential, commercial}'::text[])[1 + mod(row_number()OVER(),2)] As type
FROM
    ST_Subdivide(ST_Buffer('SRID=3857;LINESTRING(40 100, 98 100, 100 150, 60 90)'::geometry,
    40, 'endcap=square'),12) As geom;
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_clusterkmeans02.png"/><div class="caption"><p>Parcelles codées en couleur par numéro de cluster (cid)</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_ClusterKMeans(geom, 3) OVER() AS cid, parcel_id, geom
    FROM parcels;</pre><p>
</p><pre class="screen">cid | parcel_id |   geom
-----+-----------+---------------
   0 | 001       | 0103000000...
   0 | 002       | 0103000000...
   1 | 003       | 0103000000...
   0 | 004       | 0103000000...
   1 | 005       | 0103000000...
   2 | 006       | 0103000000...
   2 | 007       | 0103000000...
</pre><p>
        </p><p>Partitionnement des clusters de parcelles par type :</p><pre class="programlisting">SELECT ST_ClusterKMeans(geom, 3) over (PARTITION BY type) AS cid, parcel_id, type
    FROM parcels;</pre><pre class="screen">cid | parcel_id |    type
-----+-----------+-------------
   1 | 005       | commercial
   1 | 003       | commercial
   2 | 007       | commercial
   0 | 001       | commercial
   1 | 004       | residential
   0 | 002       | residential
   2 | 006       | residential
</pre><p>Exemple : Regroupement d'un ensemble de données de population préagrégées à l'échelle planétaire en utilisant le clusering 3D et la pondération. Identifiez au moins 20 régions basées sur <a class="link" href="https://data.humdata.org/dataset/kontur-population-dataset" target="_top">Kontur Population Data</a> qui ne s'étendent pas à plus de 3000 km de leur centre :</p><pre class="programlisting">create table kontur_population_3000km_clusters as
select
    geom,
    ST_ClusterKMeans(
        ST_Force4D(
            ST_Transform(ST_Force3D(geom), 4978), -- cluster in 3D XYZ CRS
            mvalue =&gt; population -- set clustering to be weighed by population
        ),
        20,                      -- aim to generate at least 20 clusters
        max_radius =&gt; 3000000    -- but generate more to make each under 3000 km radius
    ) over () as cid
from
    kontur_population;
    </pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_clusterkmeans03.png"/><div class="caption"><p>La population mondiale regroupée selon les spécifications ci-dessus produit 46 clusters. Les clusters sont centrés sur des régions bien peuplées (New York, Moscou). Le Groenland est un cluster. Il y a des groupes d'îles qui s'étendent sur l'antiméridien. Les bords des clusters suivent la courbure de la Terre.</p></div></div></div><p>
    </p></div><div class="refsection" id="idm19009"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a>, <a class="xref" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a>, <a class="xref" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a>, <a class="xref" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a>, <a class="xref" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a>, <a class="xref" href="#ST_Subdivide" title="ST_Subdivide">ST_Subdivide</a>, <a class="xref" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a>, <a class="xref" href="#ST_Force_4D" title="ST_Force4D">ST_Force4D</a>, </p></div></div><div class="refentry" id="ST_ClusterWithin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClusterWithin — Fonction agrégée qui regroupe les géométries en fonction de la distance de séparation.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry[] <strong class="fsfunc">ST_ClusterWithin</strong>(</code>geometry set  <var class="pdparam">g</var>, float8  <var class="pdparam">distance</var><code>)</code>;</p></div></div><div class="refsection" id="idm19035"><h2>Description</h2><p>Une fonction agrégée qui renvoie un tableau de GeometryCollections, où chaque collection est un cluster contenant certaines géométries d'entrée. Le regroupement partitionne les géométries d'entrée en ensembles dans lesquels chaque géométrie se trouve dans la <em class="parameter"><code>distance</code></em> spécifiée d'au moins une autre géométrie dans le même cluster. Les distances sont des distances cartésiennes dans les unités de l'ISDR. </p><p>ST_ClusterWithin est équivalent à l'exécution de <a class="xref" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a> avec <code class="code">minpoints =&gt; 0</code>.</p><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm19047"><h2>Exemples</h2><pre class="programlisting">WITH testdata AS
  (SELECT unnest(ARRAY['LINESTRING (0 0, 1 1)'::geometry,
                       'LINESTRING (5 5, 4 4)'::geometry,
                       'LINESTRING (6 6, 7 7)'::geometry,
                       'LINESTRING (0 0, -1 -1)'::geometry,
                       'POLYGON ((0 0, 4 0, 4 4, 0 4, 0 0))'::geometry]) AS geom)

SELECT ST_AsText(unnest(ST_ClusterWithin(geom, 1.4))) FROM testdata;

--result

st_astext
---------
GEOMETRYCOLLECTION(LINESTRING(0 0,1 1),LINESTRING(5 5,4 4),LINESTRING(0 0,-1 -1),POLYGON((0 0,4 0,4 4,0 4,0 0)))
GEOMETRYCOLLECTION(LINESTRING(6 6,7 7))
        </pre></div><div class="refsection" id="idm19050"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a>, <a class="xref" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a>, <a class="xref" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a>, <a class="xref" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a> </p></div></div><div class="refentry" id="ST_ClusterWithinWin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClusterWithinWin — Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée, regroupement en utilisant la distance de séparation.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_ClusterWithinWin</strong>(</code>geometry winset  <var class="pdparam">geom</var>, float8  <var class="pdparam">distance</var><code>)</code>;</p></div></div><div class="refsection" id="idm19072"><h2>Description</h2><p>Une fonction window qui renvoie un numéro de cluster pour chaque géométrie d'entrée. Le regroupement partitionne les géométries en ensembles dans lesquels chaque géométrie se trouve dans la <code class="varname">distance</code> spécifiée d'au moins une autre géométrie dans le même groupe. Les distances sont des distances cartésiennes dans les unités du SRID. </p><p>ST_ClusterWithinWin est équivalent à l'exécution de <a class="xref" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a> avec <code class="code">minpoints =&gt; 0</code>.</p><p class="availability">Disponibilité : 3.4.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm19084"><h2>Exemples</h2><pre class="programlisting">WITH testdata AS (
  SELECT id, geom::geometry FROM (
  VALUES  (1, 'LINESTRING (0 0, 1 1)'),
          (2, 'LINESTRING (5 5, 4 4)'),
          (3, 'LINESTRING (6 6, 7 7)'),
          (4, 'LINESTRING (0 0, -1 -1)'),
          (5, 'POLYGON ((0 0, 4 0, 4 4, 0 4, 0 0))')) AS t(id, geom)
)
SELECT id,
  ST_AsText(geom),
  ST_ClusterWithinWin(geom, 1.4) OVER () AS cluster
FROM testdata;


 id |           st_astext            | cluster
----+--------------------------------+---------
  1 | LINESTRING(0 0,1 1)            |       0
  2 | LINESTRING(5 5,4 4)            |       0
  3 | LINESTRING(6 6,7 7)            |       1
  4 | LINESTRING(0 0,-1 -1)          |       0
  5 | POLYGON((0 0,4 0,4 4,0 4,0 0)) |       0

        </pre></div><div class="refsection" id="idm19087"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a>, <a class="xref" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a>, <a class="xref" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a>, <a class="xref" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a>, </p></div></div></section><section class="section" id="BBox_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.18. Fonctions des boîtes de délimitation</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions produisent ou utilisent des boîtes de délimitation. Elles peuvent également fournir et accepter des valeurs géométriques, en utilisant des transformations automatiques ou explicites. </p><p>Voir aussi <a class="xref" href="#PostGIS_BoxFunctions" title="13.7. Fonctions Box de PostGIS">Section 13.7, “Fonctions Box de PostGIS”</a>.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#Box2D">Box2D</a></span><span class="refpurpose"> — Renvoie une BOX2D représentant l'étendue 2D d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#Box3D">Box3D</a></span><span class="refpurpose"> — Renvoie une BOX3D représentant l'étendue 3D d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_EstimatedExtent">ST_EstimatedExtent</a></span><span class="refpurpose"> — Renvoie l'étendue estimée d'une table spatiale.</span></li><li><span class="refentrytitle"><a href="#ST_Expand">ST_Expand</a></span><span class="refpurpose"> — Renvoie une boîte de délimitation développée à partir d'une autre boîte de délimitation ou d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_Extent">ST_Extent</a></span><span class="refpurpose"> — Fonction agrégée qui renvoie la boîte de délimitation des géométries.</span></li><li><span class="refentrytitle"><a href="#ST_3DExtent">ST_3DExtent</a></span><span class="refpurpose"> — Fonction d'agrégation qui renvoie la boîte de délimitation 3D des géométries.</span></li><li><span class="refentrytitle"><a href="#ST_MakeBox2D">ST_MakeBox2D</a></span><span class="refpurpose"> — Crée un BOX2D défini par deux géométries de points 2D.</span></li><li><span class="refentrytitle"><a href="#ST_3DMakeBox">ST_3DMakeBox</a></span><span class="refpurpose"> — Crée un BOX3D défini par deux géométries de points 3D.</span></li><li><span class="refentrytitle"><a href="#ST_XMax">ST_XMax</a></span><span class="refpurpose"> — Retourne les maxima X d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_XMin">ST_XMin</a></span><span class="refpurpose"> — Retourne les minima X d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_YMax">ST_YMax</a></span><span class="refpurpose"> — Retourne les maxima Y d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_YMin">ST_YMin</a></span><span class="refpurpose"> — Retourne les minima Y d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_ZMax">ST_ZMax</a></span><span class="refpurpose"> — Retourne les maxima Z d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_ZMin">ST_ZMin</a></span><span class="refpurpose"> — Retourne les minima Z d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</span></li></ul></div><div class="refentry" id="Box2D"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Box2D — Renvoie une BOX2D représentant l'étendue 2D d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box2d <strong class="fsfunc">Box2D</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm19113"><h2>Description</h2><p>Renvoie une <a class="xref" href="#box2d_type" title="box2d">box2d</a> représentant l'étendue 2D de la géométrie.</p><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm19130"><h2>Exemples</h2><pre class="programlisting">SELECT Box2D(ST_GeomFromText('LINESTRING(1 2, 3 4, 5 6)'));

box2d
---------
BOX(1 2,5 6)
</pre><pre class="programlisting">SELECT Box2D(ST_GeomFromText('CIRCULARSTRING(220268 150415,220227 150505,220227 150406)'));

box2d
--------
BOX(220186.984375 150406,220288.25 150506.140625)
</pre></div><div class="refsection" id="idm19134"><h2>Voir aussi</h2><p><a class="xref" href="#Box3D" title="Box3D">Box3D</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="Box3D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Box3D — Renvoie une BOX3D représentant l'étendue 3D d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box3d <strong class="fsfunc">Box3D</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm19151"><h2>Description</h2><p>Renvoie une <a class="xref" href="#box3d_type" title="box3d">box3d</a> représentant l'étendue 3D de la géométrie.</p><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm19172"><h2>Exemples</h2><pre class="programlisting">SELECT Box3D(ST_GeomFromEWKT('LINESTRING(1 2 3, 3 4 5, 5 6 5)'));

Box3d
---------
BOX3D(1 2 3,5 6 5)
</pre><pre class="programlisting">SELECT Box3D(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 1,220227 150406 1)'));

Box3d
--------
BOX3D(220227 150406 1,220268 150415 1)
</pre></div><div class="refsection" id="idm19176"><h2>Voir aussi</h2><p><a class="xref" href="#Box2D" title="Box2D">Box2D</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a></p></div></div><div class="refentry" id="ST_EstimatedExtent"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_EstimatedExtent — Renvoie l'étendue estimée d'une table spatiale.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box2d <strong class="fsfunc">ST_EstimatedExtent</strong>(</code>text  <var class="pdparam">schema_name</var>, text  <var class="pdparam">table_name</var>, text  <var class="pdparam">geocolumn_name</var>, boolean  <var class="pdparam">parent_only</var><code>)</code>;</p><p><code class="funcdef">box2d <strong class="fsfunc">ST_EstimatedExtent</strong>(</code>text  <var class="pdparam">schema_name</var>, text  <var class="pdparam">table_name</var>, text  <var class="pdparam">geocolumn_name</var><code>)</code>;</p><p><code class="funcdef">box2d <strong class="fsfunc">ST_EstimatedExtent</strong>(</code>text  <var class="pdparam">table_name</var>, text  <var class="pdparam">geocolumn_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm19223"><h2>Description</h2><p>Renvoie l'étendue estimée d'une table spatiale sous la forme d'une <a class="xref" href="#box2d_type" title="box2d">box2d</a>. Le schéma actuel est utilisé s'il n'est pas spécifié. L'étendue estimée est tirée des statistiques de la colonne géométrique. Cette méthode est généralement plus rapide que le calcul de l'étendue exacte de la table à l'aide de <a class="xref" href="#ST_Extent" title="ST_Extent">ST_Extent</a> ou <a class="xref" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a>. </p><p>Le comportement par défaut est d'utiliser également les statistiques collectées à partir des tables enfants (tables avec INHERITS) si elles sont disponibles. Si <code class="varname">parent_only</code> est défini à VRAI, seules les statistiques de la table donnée sont utilisées et les tables enfants sont ignorées. </p><p>Pour PostgreSQL &gt;= 8.0.0 les statistiques sont collectées par VACUUM ANALYZE et l'étendue du résultat sera d'environ 95% de l'étendue réelle. Pour PostgreSQL &lt; 8.0.0 les statistiques sont collectées en exécutant <code class="code">update_geometry_stats()</code> et l'étendue du résultat sera exacte. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>En l'absence de statistiques (table vide ou pas d'ANALYZE), cette fonction renvoie NULL. Avant la version 1.5.4, une exception était levée. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Escaping names for tables and/or namespaces that include special characters and quotes may require special handling. A user notes: "For schemas and tables, use identifier escaping rules to produce a double-quoted string, and afterwards remove the first and last double-quote character. For geometry column pass as is." </p></td></tr></table></div><p class="availability">Disponibilité : 1.0.0</p><p class="changed">Modifié : 2.1.0. Jusqu'à la version 2.0.x, cette fonction était appelée ST_Estimated_Extent.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm19243"><h2>Exemples</h2><pre class="programlisting">SELECT ST_EstimatedExtent('ny', 'edges', 'geom');
--result--
BOX(-8877653 4912316,-8010225.5 5589284)

SELECT ST_EstimatedExtent('feature_poly', 'geom');
--result--
BOX(-124.659652709961 24.6830825805664,-67.7798080444336 49.0012092590332)
                </pre></div><div class="refsection" id="idm19246"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Extent" title="ST_Extent">ST_Extent</a>, <a class="xref" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a></p></div></div><div class="refentry" id="ST_Expand"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Expand — Renvoie une boîte de délimitation développée à partir d'une autre boîte de délimitation ou d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Expand</strong>(</code>geometry  <var class="pdparam">geom</var>, float <var class="pdparam">units_to_expand</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Expand</strong>(</code>geometry  <var class="pdparam">geom</var>, float <var class="pdparam">dx</var>, float <var class="pdparam">dy</var>, float <var class="pdparam">dz=0</var>, float <var class="pdparam">dm=0</var><code>)</code>;</p><p><code class="funcdef">box2d <strong class="fsfunc">ST_Expand</strong>(</code>box2d  <var class="pdparam">box</var>, float <var class="pdparam">units_to_expand</var><code>)</code>;</p><p><code class="funcdef">box2d <strong class="fsfunc">ST_Expand</strong>(</code>box2d  <var class="pdparam">box</var>, float <var class="pdparam">dx</var>, float <var class="pdparam">dy</var><code>)</code>;</p><p><code class="funcdef">box3d <strong class="fsfunc">ST_Expand</strong>(</code>box3d  <var class="pdparam">box</var>, float <var class="pdparam">units_to_expand</var><code>)</code>;</p><p><code class="funcdef">box3d <strong class="fsfunc">ST_Expand</strong>(</code>box3d  <var class="pdparam">box</var>, float <var class="pdparam">dx</var>, float <var class="pdparam">dy</var>, float <var class="pdparam">dz=0</var><code>)</code>;</p></div></div><div class="refsection" id="idm19329"><h2>Description</h2><p>Renvoie une boîte de délimitation développée à partir de la boîte de délimitation de l'entrée, soit en spécifiant une distance unique avec laquelle la boîte doit être développée sur les deux axes, soit en spécifiant une distance de développement pour chaque axe. Utilise la double précision. Peut être utilisé pour les requêtes de distance, ou pour ajouter un filtre de boîte de délimitation à une requête afin de tirer parti d'un index spatial.</p><p>Outre la version de ST_Expand acceptant et renvoyant une géométrie, des variantes sont fournies qui acceptent et renvoient des types de données <a class="xref" href="#box2d_type" title="box2d">box2d</a> et <a class="xref" href="#box3d_type" title="box3d">box3d</a>. </p><p>Les distances sont exprimées dans les unités du système de référence spatiale de l'entrée.</p><p>ST_Expand est similaire à <a class="xref" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a>, mais alors que la mise en mémoire tampon étend une géométrie dans toutes les directions, ST_Expand étend la boîte de délimitation le long de chaque axe.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Avant la version 1.3, ST_Expand était utilisé en conjonction avec <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a> pour effectuer des requêtes de distance indexables. Par exemple, <code class="code">geom &amp;&amp; ST_Expand('POINT(10 20)', 10) AND ST_Distance(geom, 'POINT(10 20)') &lt; 10</code>. Cette fonction a été remplacée par la fonction <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, plus simple et plus efficace.</p></td></tr></table></div><p class="availability">Disponibilité : 1.5.0 comportement modifié pour afficher les coordonnées en double précision au lieu des coordonnées float4.</p><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p class="enhanced">Amélioration : 2.3.0 : prise en charge de l'expansion d'une boîte par différentes quantités dans différentes dimensions.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm19354"><h2>Exemples</h2><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les exemples ci-dessous utilisent l'Atlas national américain Equal Area (SRID=2163) qui est une projection en mètres</p></td></tr></table></div><pre class="programlisting">
--10 meter expanded box around bbox of a linestring
SELECT CAST(ST_Expand(ST_GeomFromText('LINESTRING(2312980 110676,2312923 110701,2312892 110714)', 2163),10) As box2d);
                                         st_expand
------------------------------------
 BOX(2312882 110666,2312990 110724)

--10 meter expanded 3D box of a 3D box
SELECT ST_Expand(CAST('BOX3D(778783 2951741 1,794875 2970042.61545891 10)' As box3d),10)
                                                          st_expand
-----------------------------------------------------
 BOX3D(778773 2951731 -9,794885 2970052.61545891 20)

 --10 meter geometry astext rep of a expand box around a point geometry
 SELECT ST_AsEWKT(ST_Expand(ST_GeomFromEWKT('SRID=2163;POINT(2312980 110676)'),10));
                                                                                        st_asewkt
-------------------------------------------------------------------------------------------------
 SRID=2163;POLYGON((2312970 110666,2312970 110686,2312990 110686,2312990 110666,2312970 110666))

                </pre></div><div class="refsection" id="idm19359"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a>, <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_Extent"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Extent — Fonction agrégée qui renvoie la boîte de délimitation des géométries.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box2d <strong class="fsfunc">ST_Extent</strong>(</code>geometry set <var class="pdparam">geomfield</var><code>)</code>;</p></div></div><div class="refsection" id="idm19377"><h2>Description</h2><p>Une fonction agrégée qui renvoie une <a class="xref" href="#box2d_type" title="box2d">box2d</a> boîte de délimitation qui délimite un ensemble de géométries. </p><p>Les coordonnées de la boîte de délimitation sont dans le système de référence spatiale des géométries d'entrée.</p><p>Le concept de ST_Extent est similaire à celui de SDO_AGGR_MBR d'Oracle Spatial/Locator.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_Extent renvoie des boîtes avec seulement les coordonnées X et Y, même avec des géométries 3D. Pour renvoyer les coordonnées XYZ, utilisez <a class="xref" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La valeur <code class="code">box3d</code> renvoyée ne contient pas de SRID. Utilisez <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> pour la convertir en une géométrie avec des métadonnées SRID. Le SRID est le même que celui des géométries d'entrée.</p></td></tr></table></div><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm19399"><h2>Exemples</h2><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les exemples ci-dessous utilisent le plan de l'État du Massachusetts (SRID=2249)</p></td></tr></table></div><pre class="programlisting">SELECT ST_Extent(geom) as bextent FROM sometable;
                                         st_bextent
------------------------------------
BOX(739651.875 2908247.25,794875.8125 2970042.75)


--Return extent of each category of geometries
SELECT ST_Extent(geom) as bextent
FROM sometable
GROUP BY category ORDER BY category;

                                          bextent                       |         name
----------------------------------------------------+----------------
 BOX(778783.5625 2951741.25,794875.8125 2970042.75) | A
 BOX(751315.8125 2919164.75,765202.6875 2935417.25) | B
 BOX(739651.875 2917394.75,756688.375 2935866)      | C

 --Force back into a geometry
 -- and render the extended text representation of that geometry
SELECT ST_SetSRID(ST_Extent(geom),2249) as bextent FROM sometable;

                                bextent
--------------------------------------------------------------------------------
 SRID=2249;POLYGON((739651.875 2908247.25,739651.875 2970042.75,794875.8125 2970042.75,
 794875.8125 2908247.25,739651.875 2908247.25))
                </pre></div><div class="refsection" id="idm19404"><h2>Voir aussi</h2><p><a class="xref" href="#ST_EstimatedExtent" title="ST_EstimatedExtent">ST_EstimatedExtent</a>, <a class="xref" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> </p></div></div><div class="refentry" id="ST_3DExtent"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DExtent — Fonction d'agrégation qui renvoie la boîte de délimitation 3D des géométries.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box3d <strong class="fsfunc">ST_3DExtent</strong>(</code>geometry set <var class="pdparam">geomfield</var><code>)</code>;</p></div></div><div class="refsection" id="idm19422"><h2>Description</h2><p>Une fonction d'agrégation qui renvoie une <a class="xref" href="#box3d_type" title="box3d">box3d</a> (y compris l'ordonnée Z) qui délimite un ensemble de géométries. </p><p>Les coordonnées de la boîte de délimitation sont dans le système de référence spatiale des géométries d'entrée.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La valeur <code class="code">box3d</code> renvoyée ne contient pas de SRID. Utilisez <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> pour la convertir en une géométrie avec des métadonnées SRID. Le SRID est le même que celui des géométries d'entrée.</p></td></tr></table></div><p class="enhanced">Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques.</p><p class="changed">Modifié : 2.0.0 Dans les versions précédentes, cette fonction était appelée ST_Extent3D</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm19449"><h2>Exemples</h2><pre class="programlisting">SELECT ST_3DExtent(foo.geom) As b3extent
FROM (SELECT ST_MakePoint(x,y,z) As geom
        FROM generate_series(1,3) As x
                CROSS JOIN generate_series(1,2) As y
                CROSS JOIN generate_series(0,2) As Z) As foo;
          b3extent
--------------------
 BOX3D(1 1 0,3 2 2)

--Get the extent of various elevated circular strings
SELECT ST_3DExtent(foo.geom) As b3extent
FROM (SELECT ST_Translate(ST_Force_3DZ(ST_LineToCurve(ST_Buffer(ST_Point(x,y),1))),0,0,z) As geom
        FROM generate_series(1,3) As x
                CROSS JOIN generate_series(1,2) As y
                CROSS JOIN generate_series(0,2) As Z) As foo;

        b3extent
--------------------
 BOX3D(1 0 0,4 2 2)
                </pre></div><div class="refsection" id="idm19452"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Extent" title="ST_Extent">ST_Extent</a>, <a class="xref" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a></p></div></div><div class="refentry" id="ST_MakeBox2D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakeBox2D — Crée un BOX2D défini par deux géométries de points 2D.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box2d <strong class="fsfunc">ST_MakeBox2D</strong>(</code>geometry  <var class="pdparam">pointLowLeft</var>, geometry  <var class="pdparam">pointUpRight</var><code>)</code>;</p></div></div><div class="refsection" id="idm19473"><h2>Description</h2><p>Crée une <a class="xref" href="#box2d_type" title="box2d">box2d</a> définie par deux géométries de points. Ceci est utile pour effectuer des requêtes sur des intervalles.</p></div><div class="refsection" id="idm19477"><h2>Exemples</h2><pre class="programlisting">

--Return all features that fall reside or partly reside in a US national atlas coordinate bounding box
--It is assumed here that the geometries are stored with SRID = 2163 (US National atlas equal area)
SELECT feature_id, feature_name, geom
FROM features
WHERE geom &amp;&amp; ST_SetSRID(ST_MakeBox2D(ST_Point(-989502.1875, 528439.5625),
        ST_Point(-987121.375 ,529933.1875)),2163)
</pre></div><div class="refsection" id="idm19480"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_3DMakeBox"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DMakeBox — Crée un BOX3D défini par deux géométries de points 3D.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box3d <strong class="fsfunc">ST_3DMakeBox</strong>(</code>geometry  <var class="pdparam">point3DLowLeftBottom</var>, geometry  <var class="pdparam">point3DUpRightTop</var><code>)</code>;</p></div></div><div class="refsection" id="idm19501"><h2>Description</h2><p>Crée une <a class="xref" href="#box3d_type" title="box3d">box3d</a> définie par deux géométries de points 3D. </p><p><span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z.</p><p class="changed">Modifié : 2.0.0 Dans les versions précédentes, cette fonction s'appelait ST_MakeBox3D</p></div><div class="refsection" id="idm19510"><h2>Exemples</h2><pre class="programlisting">SELECT ST_3DMakeBox(ST_MakePoint(-989502.1875, 528439.5625, 10),
        ST_MakePoint(-987121.375 ,529933.1875, 10)) As abb3d

--bb3d--
--------
BOX3D(-989502.1875 528439.5625 10,-987121.375 529933.1875 10)
        </pre></div><div class="refsection" id="idm19513"><h2>Voir aussi</h2><p><a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_XMax"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_XMax — Retourne les maxima X d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_XMax</strong>(</code>box3d  <var class="pdparam">aGeomorBox2DorBox3D</var><code>)</code>;</p></div></div><div class="refsection" id="idm19531"><h2>Description</h2><p>Retourne les maxima X d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Bien que cette fonction ne soit définie que pour box3d, elle fonctionne également pour box2d et les valeurs géométriques en raison du moulage automatique. Cependant, elle n'acceptera pas de représentation textuelle de la géométrie ou de la box2d, car ces dernières ne sont pas soumises à la conversion automatique.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm19544"><h2>Exemples</h2><pre class="programlisting">SELECT ST_XMax('BOX3D(1 2 3, 4 5 6)');
st_xmax
-------
4

SELECT ST_XMax(ST_GeomFromText('LINESTRING(1 3 4, 5 6 7)'));
st_xmax
-------
5

SELECT ST_XMax(CAST('BOX(-3 2, 3 4)' As box2d));
st_xmax
-------
3
--Observe THIS DOES NOT WORK because it will try to auto-cast the string representation to a BOX3D
SELECT ST_XMax('LINESTRING(1 3, 5 6)');

--ERROR:  BOX3D parser - doesn't start with BOX3D(

SELECT ST_XMax(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)'));
st_xmax
--------
220288.248780547
                </pre></div><div class="refsection" id="idm19547"><h2>Voir aussi</h2><p><a class="xref" href="#ST_XMin" title="ST_XMin">ST_XMin</a>, <a class="xref" href="#ST_YMax" title="ST_YMax">ST_YMax</a>, <a class="xref" href="#ST_YMin" title="ST_YMin">ST_YMin</a>, <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a>, <a class="xref" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a></p></div></div><div class="refentry" id="ST_XMin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_XMin — Retourne les minima X d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_XMin</strong>(</code>box3d  <var class="pdparam">aGeomorBox2DorBox3D</var><code>)</code>;</p></div></div><div class="refsection" id="idm19567"><h2>Description</h2><p>Retourne les minima X d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Bien que cette fonction ne soit définie que pour box3d, elle fonctionne également pour box2d et les valeurs géométriques en raison du moulage automatique. Cependant, elle n'acceptera pas de représentation textuelle de la géométrie ou de la box2d, car celles-ci ne sont pas coulées automatiquement.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm19580"><h2>Exemples</h2><pre class="programlisting">SELECT ST_XMin('BOX3D(1 2 3, 4 5 6)');
st_xmin
-------
1

SELECT ST_XMin(ST_GeomFromText('LINESTRING(1 3 4, 5 6 7)'));
st_xmin
-------
1

SELECT ST_XMin(CAST('BOX(-3 2, 3 4)' As box2d));
st_xmin
-------
-3
--Observe THIS DOES NOT WORK because it will try to auto-cast the string representation to a BOX3D
SELECT ST_XMin('LINESTRING(1 3, 5 6)');

--ERROR:  BOX3D parser - doesn't start with BOX3D(

SELECT ST_XMin(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)'));
st_xmin
--------
220186.995121892
                </pre></div><div class="refsection" id="idm19583"><h2>Voir aussi</h2><p><a class="xref" href="#ST_XMax" title="ST_XMax">ST_XMax</a>, <a class="xref" href="#ST_YMax" title="ST_YMax">ST_YMax</a>, <a class="xref" href="#ST_YMin" title="ST_YMin">ST_YMin</a>, <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a>, <a class="xref" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a></p></div></div><div class="refentry" id="ST_YMax"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_YMax — Retourne les maxima Y d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_YMax</strong>(</code>box3d  <var class="pdparam">aGeomorBox2DorBox3D</var><code>)</code>;</p></div></div><div class="refsection" id="idm19603"><h2>Description</h2><p>Retourne les maxima Y d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Bien que cette fonction ne soit définie que pour box3d, elle fonctionne également pour box2d et les valeurs géométriques en raison du moulage automatique. Cependant, elle n'acceptera pas de représentation textuelle de la géométrie ou de la box2d, car celles-ci ne sont pas coulées automatiquement.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm19616"><h2>Exemples</h2><pre class="programlisting">SELECT ST_YMax('BOX3D(1 2 3, 4 5 6)');
st_ymax
-------
5

SELECT ST_YMax(ST_GeomFromText('LINESTRING(1 3 4, 5 6 7)'));
st_ymax
-------
6

SELECT ST_YMax(CAST('BOX(-3 2, 3 4)' As box2d));
st_ymax
-------
4
--Observe THIS DOES NOT WORK because it will try to auto-cast the string representation to a BOX3D
SELECT ST_YMax('LINESTRING(1 3, 5 6)');

--ERROR:  BOX3D parser - doesn't start with BOX3D(

SELECT ST_YMax(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)'));
st_ymax
--------
150506.126829327
                </pre></div><div class="refsection" id="idm19619"><h2>Voir aussi</h2><p><a class="xref" href="#ST_XMin" title="ST_XMin">ST_XMin</a>, <a class="xref" href="#ST_XMax" title="ST_XMax">ST_XMax</a>, <a class="xref" href="#ST_YMin" title="ST_YMin">ST_YMin</a>, <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a>, <a class="xref" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a></p></div></div><div class="refentry" id="ST_YMin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_YMin — Retourne les minima Y d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_YMin</strong>(</code>box3d  <var class="pdparam">aGeomorBox2DorBox3D</var><code>)</code>;</p></div></div><div class="refsection" id="idm19639"><h2>Description</h2><p>Retourne les minima Y d'une boîte englobante 2D ou 3D ou d'une géométrie.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Bien que cette fonction ne soit définie que pour box3d, elle fonctionne également pour box2d et les valeurs géométriques en raison du moulage automatique. Cependant, elle n'acceptera pas de représentation textuelle de la géométrie ou de la box2d, car celles-ci ne sont pas coulées automatiquement.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm19652"><h2>Exemples</h2><pre class="programlisting">SELECT ST_YMin('BOX3D(1 2 3, 4 5 6)');
st_ymin
-------
2

SELECT ST_YMin(ST_GeomFromText('LINESTRING(1 3 4, 5 6 7)'));
st_ymin
-------
3

SELECT ST_YMin(CAST('BOX(-3 2, 3 4)' As box2d));
st_ymin
-------
2
--Observe THIS DOES NOT WORK because it will try to auto-cast the string representation to a BOX3D
SELECT ST_YMin('LINESTRING(1 3, 5 6)');

--ERROR:  BOX3D parser - doesn't start with BOX3D(

SELECT ST_YMin(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)'));
st_ymin
--------
150406
                </pre></div><div class="refsection" id="idm19655"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_XMin" title="ST_XMin">ST_XMin</a>, <a class="xref" href="#ST_XMax" title="ST_XMax">ST_XMax</a>, <a class="xref" href="#ST_YMax" title="ST_YMax">ST_YMax</a>, <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a>, <a class="xref" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a></p></div></div><div class="refentry" id="ST_ZMax"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ZMax — Retourne les maxima Z d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_ZMax</strong>(</code>box3d  <var class="pdparam">aGeomorBox2DorBox3D</var><code>)</code>;</p></div></div><div class="refsection" id="idm19676"><h2>Description</h2><p>Retourne les maxima Z d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Bien que cette fonction ne soit définie que pour box3d, elle fonctionne également pour box2d et les valeurs géométriques en raison du moulage automatique. Cependant, elle n'acceptera pas de représentation textuelle de la géométrie ou de la box2d, car celles-ci ne sont pas coulées automatiquement.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm19689"><h2>Exemples</h2><pre class="programlisting">SELECT ST_ZMax('BOX3D(1 2 3, 4 5 6)');
st_zmax
-------
6

SELECT ST_ZMax(ST_GeomFromEWKT('LINESTRING(1 3 4, 5 6 7)'));
st_zmax
-------
7

SELECT ST_ZMax('BOX3D(-3 2 1, 3 4 1)' );
st_zmax
-------
1
--Observe THIS DOES NOT WORK because it will try to auto-cast the string representation to a BOX3D
SELECT ST_ZMax('LINESTRING(1 3 4, 5 6 7)');

--ERROR:  BOX3D parser - doesn't start with BOX3D(

SELECT ST_ZMax(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)'));
st_zmax
--------
3
                </pre></div><div class="refsection" id="idm19692"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_XMin" title="ST_XMin">ST_XMin</a>, <a class="xref" href="#ST_XMax" title="ST_XMax">ST_XMax</a>, <a class="xref" href="#ST_YMax" title="ST_YMax">ST_YMax</a>, <a class="xref" href="#ST_YMin" title="ST_YMin">ST_YMin</a>, <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a></p></div></div><div class="refentry" id="ST_ZMin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ZMin — Retourne les minima Z d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_ZMin</strong>(</code>box3d  <var class="pdparam">aGeomorBox2DorBox3D</var><code>)</code>;</p></div></div><div class="refsection" id="idm19713"><h2>Description</h2><p>Retourne les minima Z d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Bien que cette fonction ne soit définie que pour box3d, elle fonctionne également pour box2d et les valeurs géométriques en raison du moulage automatique. Cependant, elle n'acceptera pas de représentation textuelle de la géométrie ou de la box2d, car celles-ci ne sont pas coulées automatiquement.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm19726"><h2>Exemples</h2><pre class="programlisting">SELECT ST_ZMin('BOX3D(1 2 3, 4 5 6)');
st_zmin
-------
3

SELECT ST_ZMin(ST_GeomFromEWKT('LINESTRING(1 3 4, 5 6 7)'));
st_zmin
-------
4

SELECT ST_ZMin('BOX3D(-3 2 1, 3 4 1)' );
st_zmin
-------
1
--Observe THIS DOES NOT WORK because it will try to auto-cast the string representation to a BOX3D
SELECT ST_ZMin('LINESTRING(1 3 4, 5 6 7)');

--ERROR:  BOX3D parser - doesn't start with BOX3D(

SELECT ST_ZMin(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)'));
st_zmin
--------
1
                </pre></div><div class="refsection" id="idm19729"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_XMin" title="ST_XMin">ST_XMin</a>, <a class="xref" href="#ST_XMax" title="ST_XMax">ST_XMax</a>, <a class="xref" href="#ST_YMax" title="ST_YMax">ST_YMax</a>, <a class="xref" href="#ST_YMin" title="ST_YMin">ST_YMin</a>, <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a></p></div></div></section><section class="section" id="Linear_Referencing"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.19. Référencement linéaire</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_LineInterpolatePoint">ST_LineInterpolatePoint</a></span><span class="refpurpose"> — Renvoie un point interpolé le long d'une ligne à un emplacement fractionnaire.</span></li><li><span class="refentrytitle"><a href="#ST_3DLineInterpolatePoint">ST_3DLineInterpolatePoint</a></span><span class="refpurpose"> — Renvoie un point interpolé le long d'une ligne 3D à un emplacement fractionnaire.</span></li><li><span class="refentrytitle"><a href="#ST_LineInterpolatePoints">ST_LineInterpolatePoints</a></span><span class="refpurpose"> — Renvoie des points interpolés le long d'une ligne à un intervalle fractionnaire. </span></li><li><span class="refentrytitle"><a href="#ST_LineLocatePoint">ST_LineLocatePoint</a></span><span class="refpurpose"> — Renvoie l'emplacement fractionnaire du point le plus proche d'un point sur une ligne.</span></li><li><span class="refentrytitle"><a href="#ST_LineSubstring">ST_LineSubstring</a></span><span class="refpurpose"> — Renvoie la partie d'une ligne située entre deux emplacements fractionnaires.</span></li><li><span class="refentrytitle"><a href="#ST_LocateAlong">ST_LocateAlong</a></span><span class="refpurpose"> — Renvoie le(s) point(s) d'une géométrie qui correspond(ent) à une valeur de mesure.</span></li><li><span class="refentrytitle"><a href="#ST_LocateBetween">ST_LocateBetween</a></span><span class="refpurpose"> — Renvoie les parties d'une géométrie qui correspondent à un intervalle de mesure.</span></li><li><span class="refentrytitle"><a href="#ST_LocateBetweenElevations">ST_LocateBetweenElevations</a></span><span class="refpurpose"> — Renvoie les parties d'une géométrie qui se trouvent dans un intervalle d'élévation (Z).</span></li><li><span class="refentrytitle"><a href="#ST_InterpolatePoint">ST_InterpolatePoint</a></span><span class="refpurpose"> — Renvoie la mesure interpolée d'une géométrie la plus proche d'un point.</span></li><li><span class="refentrytitle"><a href="#ST_AddMeasure">ST_AddMeasure</a></span><span class="refpurpose"> — Interpole les mesures le long d'une géométrie linéaire.</span></li></ul></div><div class="refentry" id="ST_LineInterpolatePoint"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineInterpolatePoint — Renvoie un point interpolé le long d'une ligne à un emplacement fractionnaire.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineInterpolatePoint</strong>(</code>geometry  <var class="pdparam">a_linestring</var>, float8  <var class="pdparam">a_fraction</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_LineInterpolatePoint</strong>(</code>geography  <var class="pdparam">a_linestring</var>, float8  <var class="pdparam">a_fraction</var>, boolean <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm19768"><h2>Description</h2><p>Retourne un point interpolé sur une ligne. Le premier argument doit être une LINESTRING. Le second argument est un float8 entre 0 et 1 représentant la fraction de la longueur totale de la ligne où le point doit être situé. </p><p>Voir <a class="xref" href="#ST_LineLocatePoint" title="ST_LineLocatePoint">ST_LineLocatePoint</a> pour calculer l'emplacement de la ligne la plus proche d'un point.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction calcule des points en 2D et interpole ensuite les valeurs de Z et M, tandis que <a class="xref" href="#ST_3DLineInterpolatePoint" title="ST_3DLineInterpolatePoint">ST_3DLineInterpolatePoint</a> calcule des points en 3D et n'interpole que la valeur M.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Depuis la version 1.1.1 cette fonction interpole aussi les valeurs M et Z (lorsqu'elles sont présentes), les versions précédentes renvoient des valeurs M et Z à 0.0.</p></td></tr></table></div><p class="availability">Disponibilité : 0.8.2, support de Z et M ajouté en 1.1.1</p><p class="changed">Modifié : 2.1.0. Jusqu'à la version 2.0.x, cette fonction était appelée ST_Line_Interpolate_Point.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm19784"><h2>Exemples</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_line_interpolate_point01.png"/><div class="caption"><p>Une ligne avec le point interpolé à la position 20% (0.20) </p></div></div></div><pre class="programlisting">-- The point 20% along a line

SELECT ST_AsEWKT(  ST_LineInterpolatePoint(
        'LINESTRING(25 50, 100 125, 150 190)',
        0.2 ));
----------------
 POINT(51.5974135047432 76.5974135047432)
</pre><p>Le point central d'une ligne 3D :</p><pre class="programlisting">SELECT ST_AsEWKT(  ST_LineInterpolatePoint('
        LINESTRING(1 2 3, 4 5 6, 6 7 8)',
        0.5 ));
--------------------
 POINT(3.5 4.5 5.5)
</pre><p>Le point le plus proche d'un point sur une ligne :</p><pre class="programlisting">SELECT ST_AsText( ST_LineInterpolatePoint( line.geom,
                      ST_LineLocatePoint( line.geom, 'POINT(4 3)')))
FROM (SELECT ST_GeomFromText('LINESTRING(1 2, 4 5, 6 7)') As geom) AS line;
------------
 POINT(3 4)
</pre></div><div class="refsection" id="idm19797"><h2>Voir aussi</h2><p><a class="xref" href="#ST_LineInterpolatePoints" title="ST_LineInterpolatePoints">ST_LineInterpolatePoints</a>, <a class="xref" href="#ST_3DLineInterpolatePoint" title="ST_3DLineInterpolatePoint">ST_3DLineInterpolatePoint</a>, <a class="xref" href="#ST_LineLocatePoint" title="ST_LineLocatePoint">ST_LineLocatePoint</a> </p></div></div><div class="refentry" id="ST_3DLineInterpolatePoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DLineInterpolatePoint — Renvoie un point interpolé le long d'une ligne 3D à un emplacement fractionnaire.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DLineInterpolatePoint</strong>(</code>geometry  <var class="pdparam">a_linestring</var>, float8  <var class="pdparam">a_fraction</var><code>)</code>;</p></div></div><div class="refsection" id="idm19818"><h2>Description</h2><p>Retourne un point interpolé sur une ligne. Le premier argument doit être une LINESTRING. Le second argument est un float8 entre 0 et 1 représentant la fraction de la longueur totale de la ligne où le point doit être situé. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a> calcule des points en 2D et interpole ensuite les valeurs de Z et M, alors que cette fonction calcule des points en 3D et n'interpole que la valeur M.</p></td></tr></table></div><p class="availability">Disponibilité : 3.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm19829"><h2>Exemples</h2><p>Point de retour 20% le long de la ligne 3D</p><pre class="programlisting">SELECT ST_AsText(
    ST_3DLineInterpolatePoint('LINESTRING(25 50 70, 100 125 90, 150 190 200)',
        0.20));

   st_asetext
----------------
 POINT Z (59.0675892910822 84.0675892910822 79.0846904776219)
</pre></div><div class="refsection" id="idm19833"><h2>Voir aussi</h2><p><a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>, <a class="xref" href="#ST_LineInterpolatePoints" title="ST_LineInterpolatePoints">ST_LineInterpolatePoints</a>, <a class="xref" href="#ST_LineLocatePoint" title="ST_LineLocatePoint">ST_LineLocatePoint</a> </p></div></div><div class="refentry" id="ST_LineInterpolatePoints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineInterpolatePoints — Renvoie des points interpolés le long d'une ligne à un intervalle fractionnaire. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineInterpolatePoints</strong>(</code>geometry  <var class="pdparam">a_linestring</var>, float8  <var class="pdparam">a_fraction</var>, boolean  <var class="pdparam">repeat</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_LineInterpolatePoints</strong>(</code>geography  <var class="pdparam">a_linestring</var>, float8  <var class="pdparam">a_fraction</var>, boolean <var class="pdparam">use_spheroid = true</var>, boolean  <var class="pdparam">repeat = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm19872"><h2>Description</h2><p>Renvoie un ou plusieurs points interpolés le long d'une ligne à un intervalle fractionnaire. Le premier argument doit être une LINESTRING. Le second argument est un float8 entre 0 et 1 représentant l'espacement entre les points en tant que fraction de la longueur de la ligne. Si le troisième argument est faux, un seul point sera construit (ce qui est équivalent à <a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>.) </p><p>Si le résultat a zéro ou un point, il est retourné sous forme de POINT. S'il a deux points ou plus, il est retourné sous la forme d'un MULTIPOINT. </p><p class="availability">Disponibilité : 2.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les coordonnées M. </p></div><div class="refsection" id="idm19886"><h2>Exemples</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_line_interpolate_points01.png"/><div class="caption"><p>Une ligne avec des points interpolés tous les 20 % </p></div></div></div><pre class="programlisting">--Return points each 20% along a 2D line
SELECT ST_AsText(ST_LineInterpolatePoints('LINESTRING(25 50, 100 125, 150 190)', 0.20))
----------------
 MULTIPOINT((51.5974135047432 76.5974135047432),(78.1948270094864 103.194827009486),(104.132163186446 130.37181214238),(127.066081593223 160.18590607119),(150 190))
</pre></div><div class="refsection" id="idm19895"><h2>Voir aussi</h2><p><a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>, <a class="xref" href="#ST_LineLocatePoint" title="ST_LineLocatePoint">ST_LineLocatePoint</a> </p></div></div><div class="refentry" id="ST_LineLocatePoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineLocatePoint — Renvoie l'emplacement fractionnaire du point le plus proche d'un point sur une ligne.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_LineLocatePoint</strong>(</code>geometry  <var class="pdparam">a_linestring</var>, geometry  <var class="pdparam">a_point</var><code>)</code>;</p><p><code class="funcdef">float8 <strong class="fsfunc">ST_LineLocatePoint</strong>(</code>geography  <var class="pdparam">a_linestring</var>, geography  <var class="pdparam">a_point</var>, boolean <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm19927"><h2>Description</h2><p>Renvoie un flottant compris entre 0 et 1 représentant l'emplacement du point le plus proche du point donné sur une LineString, en tant que fraction de la <a class="link" href="#ST_Length2D" title="ST_Length2D">ligne 2D</a> longueur.</p><p>Vous pouvez utiliser l'emplacement renvoyé pour extraire un point (<a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>) ou une sous-ligne (<a class="xref" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a>).</p><p>Cette méthode est utile pour calculer approximativement le nombre d'adresses</p><p class="availability">Disponibilité : 1.1.0</p><p class="changed">Modifié : 2.1.0. Jusqu'à la version 2.0.x, cette fonction était appelée ST_Line_Locate_Point.</p></div><div class="refsection" id="idm19937"><h2>Exemples</h2><pre class="programlisting">--Rough approximation of finding the street number of a point along the street
--Note the whole foo thing is just to generate dummy data that looks
--like house centroids and street
--We use ST_DWithin to exclude
--houses too far away from the street to be considered on the street
SELECT ST_AsText(house_loc) As as_text_house_loc,
        startstreet_num +
                CAST( (endstreet_num - startstreet_num)
                        * ST_LineLocatePoint(street_line, house_loc) As integer) As street_num
FROM
(SELECT ST_GeomFromText('LINESTRING(1 2, 3 4)') As street_line,
        ST_Point(x*1.01,y*1.03) As house_loc, 10 As startstreet_num,
                20 As endstreet_num
FROM generate_series(1,3) x CROSS JOIN generate_series(2,4) As y)
As foo
WHERE ST_DWithin(street_line, house_loc, 0.2);

 as_text_house_loc | street_num
-------------------+------------
 POINT(1.01 2.06)  |         10
 POINT(2.02 3.09)  |         15
 POINT(3.03 4.12)  |         20

 --find closest point on a line to a point or other geometry
 SELECT ST_AsText(ST_LineInterpolatePoint(foo.the_line, ST_LineLocatePoint(foo.the_line, ST_GeomFromText('POINT(4 3)'))))
FROM (SELECT ST_GeomFromText('LINESTRING(1 2, 4 5, 6 7)') As the_line) As foo;
   st_astext
----------------
 POINT(3 4)

</pre></div><div class="refsection" id="idm19940"><h2>Voir aussi</h2><p><a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_Length2D" title="ST_Length2D">ST_Length2D</a>, <a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>, <a class="xref" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a></p></div></div><div class="refentry" id="ST_LineSubstring"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineSubstring — Renvoie la partie d'une ligne située entre deux emplacements fractionnaires.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineSubstring</strong>(</code>geometry  <var class="pdparam">a_linestring</var>, float8  <var class="pdparam">startfraction</var>, float8  <var class="pdparam">endfraction</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_LineSubstring</strong>(</code>geography  <var class="pdparam">a_linestring</var>, float8  <var class="pdparam">startfraction</var>, float8  <var class="pdparam">endfraction</var><code>)</code>;</p></div></div><div class="refsection" id="idm19977"><h2>Description</h2><p>Calcule la ligne qui est la section de la ligne d'entrée commençant et se terminant aux emplacements fractionnaires donnés. Le premier argument doit être un LINESTRING. Les deuxième et troisième arguments sont des valeurs dans l'intervalle [0, 1] représentant les emplacements de début et de fin en tant que fractions de la longueur de la ligne. Les valeurs Z et M sont interpolées pour les points d'extrémité ajoutés, le cas échéant. </p><p>Si <code class="varname">startfraction</code> et <code class="varname">endfraction</code> ont la même valeur, cela équivaut à <a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette méthode ne fonctionne qu'avec les LINESTRING. Pour l'utiliser sur des MULTILINESTRINGs contigues, il faut d'abord les joindre avec <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Depuis la version 1.1.1, cette fonction interpole les valeurs de M et Z. Les versions précédentes fixent Z et M à des valeurs non spécifiées.</p></td></tr></table></div><p class="enhanced">Amélioration : 3.4.0 - La prise en charge de la géographie a été introduite.</p><p class="changed">Modifié : 2.1.0. Jusqu'à la version 2.0.x, cette fonction était appelée ST_Line_Substring.</p><p class="availability">Disponibilité : 1.1.0, prise en charge des Z et M ajoutée dans la 1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm19996"><h2>Exemples</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_line_substring01.png"/><div class="caption"><p>Une LineString vue avec un intervalle tous les 1/3 (0.333, 0.666) </p></div></div></div><pre class="programlisting">SELECT ST_AsText(ST_LineSubstring( 'LINESTRING (20 180, 50 20, 90 80, 120 40, 180 150)', 0.333, 0.666));
------------------------------------------------------------------------------------------------
LINESTRING (45.17311810399485 45.74337011202746, 50 20, 90 80, 112.97593050157862 49.36542599789519)
</pre><p>Si les points de départ et d'arrivée sont identiques, le résultat est un POINT. </p><pre class="programlisting">SELECT ST_AsText(ST_LineSubstring( 'LINESTRING(25 50, 100 125, 150 190)', 0.333, 0.333));
------------------------------------------
 POINT(69.2846934853974 94.2846934853974)
</pre><p>Une requête pour découper une LineString en sections de longueur 100 ou moins. Elle utilise <code class="varname">generate_series()</code> avec un CROSS JOIN LATERAL pour produire l'équivalent d'une boucle FOR. </p><pre class="programlisting">

WITH data(id, geom) AS (VALUES
        ( 'A', 'LINESTRING( 0 0, 200 0)'::geometry ),
        ( 'B', 'LINESTRING( 0 100, 350 100)'::geometry ),
        ( 'C', 'LINESTRING( 0 200, 50 200)'::geometry )
    )
SELECT id, i,
       ST_AsText( ST_LineSubstring( geom, startfrac, LEAST( endfrac, 1 )) ) AS geom
FROM (
    SELECT id, geom, ST_Length(geom) len, 100 sublen FROM data
    ) AS d
CROSS JOIN LATERAL (
    SELECT i, (sublen * i) / len AS startfrac,
              (sublen * (i+1)) / len AS endfrac
    FROM generate_series(0, floor( len / sublen )::integer ) AS t(i)
    -- skip last i if line length is exact multiple of sublen
    WHERE (sublen * i) / len &lt;
&gt; 1.0
    ) AS d2;

 id | i |            geom
----+---+-----------------------------
 A  | 0 | LINESTRING(0 0,100 0)
 A  | 1 | LINESTRING(100 0,200 0)
 B  | 0 | LINESTRING(0 100,100 100)
 B  | 1 | LINESTRING(100 100,200 100)
 B  | 2 | LINESTRING(200 100,300 100)
 B  | 3 | LINESTRING(300 100,350 100)
 C  | 0 | LINESTRING(0 200,50 200)

</pre><p>Mesures de mise en œuvre de la geography le long d'un sphéroïde, geometry le long d'une ligne</p><pre class="programlisting">SELECT ST_AsText(ST_LineSubstring( 'LINESTRING(-118.2436 34.0522, -71.0570 42.3611)'::geography, 0.333, 0.666),6) AS geog_sub
 , ST_AsText(ST_LineSubstring('LINESTRING(-118.2436 34.0522, -71.0570 42.3611)'::geometry, 0.333, 0.666),6) AS geom_sub;
---------------------------------------------------------------
geog_sub | LINESTRING(-104.167064 38.854691,-87.674646 41.849854)
geom_sub | LINESTRING(-102.530462 36.819064,-86.817324 39.585927)
</pre></div><div class="refsection" id="idm20012"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Length" title="ST_Length">ST_Length</a>, <a class="xref" href="#ST_LineExtend" title="ST_LineExtend">ST_LineExtend</a>, <a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>, <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a></p></div></div><div class="refentry" id="ST_LocateAlong"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LocateAlong — Renvoie le(s) point(s) d'une géométrie qui correspond(ent) à une valeur de mesure.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LocateAlong</strong>(</code>geometry  <var class="pdparam">geom_with_measure</var>, float8  <var class="pdparam">measure</var>, float8  <var class="pdparam">offset = 0</var><code>)</code>;</p></div></div><div class="refsection" id="idm20037"><h2>Description</h2><p>Renvoie le(s) emplacement(s) le long d'une géométrie mesurée qui possède(nt) les valeurs de mesure données. Le résultat est un point ou un multipoint. Les entrées polygonales ne sont pas prises en charge.</p><p>Si <code class="varname">offset</code> est fourni, le résultat est décalé à gauche ou à droite de la ligne d'entrée de la distance spécifiée. Un décalage positif se fera vers la gauche, et un décalage négatif vers la droite.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction n'est utilisée que pour les géométries linéaires avec une composante M</p></td></tr></table></div><p>La sémantique est spécifiée par la norme <span class="emphasis"><em>ISO/IEC 13249-3 SQL/MM Spatial</em></span>.</p><p class="availability">Disponibilité : 1.1.0 sous l'ancien nom ST_Locate_Along_Measure. </p><p class="changed">Modifié : 2.0.0 dans les versions précédentes, cette fonction était appelée ST_Locate_Along_Measure.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les coordonnées M. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 5.1.13</p></div><div class="refsection" id="idm20056"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(
  ST_LocateAlong(
    'MULTILINESTRINGM((1 2 3, 3 4 2, 9 4 3),(1 2 3, 5 4 5))'::geometry,
    3 ));

----------------------------------
 MULTIPOINT M ((1 2 3),(9 4 3),(1 2 3))
</pre></div><div class="refsection" id="idm20059"><h2>Voir aussi</h2><p><a class="xref" href="#ST_LocateBetween" title="ST_LocateBetween">ST_LocateBetween</a>, <a class="xref" href="#ST_LocateBetweenElevations" title="ST_LocateBetweenElevations">ST_LocateBetweenElevations</a>, <a class="xref" href="#ST_InterpolatePoint" title="ST_InterpolatePoint">ST_InterpolatePoint</a> </p></div></div><div class="refentry" id="ST_LocateBetween"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LocateBetween — Renvoie les parties d'une géométrie qui correspondent à un intervalle de mesure.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LocateBetween</strong>(</code>geometry  <var class="pdparam">geom</var>, float8  <var class="pdparam">measure_start</var>, float8  <var class="pdparam">measure_end</var>, float8  <var class="pdparam">offset = 0</var><code>)</code>;</p></div></div><div class="refsection" id="idm20086"><h2>Description</h2><p>Renvoie une géométrie (collection) contenant les parties de la géométrie mesurée en entrée qui correspondent à l'intervalle de mesure spécifié (inclusivement).</p><p>Si le <code class="varname">offset</code> est fourni, le résultat est décalé à gauche ou à droite de la ligne d'entrée de la distance spécifiée. Un décalage positif se fera vers la gauche, et un décalage négatif vers la droite.</p><p>Couper un POLYGONE non convexe peut produire une géométrie non valide.</p><p>La sémantique est spécifiée par la norme <span class="emphasis"><em>ISO/IEC 13249-3 SQL/MM Spatial</em></span>.</p><p class="availability">Disponibilité : 1.1.0 sous l'ancien nom ST_Locate_Between_Measures. </p><p class="changed">Modifié : 2.0.0 - dans les versions précédentes, cette fonction s'appelait ST_Locate_Between_Measures.</p><p class="enhanced">Amélioration : 3.0.0 - ajout de la prise en charge du POLYGONE, du TIN et du TRIANGLE.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les coordonnées M. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 5.1</p></div><div class="refsection" id="idm20105"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(
  ST_LocateBetween(
       'MULTILINESTRING M ((1 2 3, 3 4 2, 9 4 3),(1 2 3, 5 4 5))':: geometry,
       1.5, 3 ));
------------------------------------------------------------------------
 GEOMETRYCOLLECTION M (LINESTRING M (1 2 3,3 4 2,9 4 3),POINT M (1 2 3))
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_locatebetween01.png"/><div class="caption"><p>Une LineString avec la section entre les mesures 2 et 8, décalée vers la gauche </p></div></div></div><pre class="programlisting">SELECT ST_AsText( ST_LocateBetween(
  ST_AddMeasure('LINESTRING (20 180, 50 20, 100 120, 180 20)', 0, 10),
  2, 8,
  20
));
------------------------------------------------------------------------
MULTILINESTRING((54.49835019899045 104.53426957938231,58.70056060327303 82.12248075654186,69.16695286779743 103.05526528559065,82.11145618000168 128.94427190999915,84.24893681714357 132.32493442618113,87.01636951231555 135.21267035596549,90.30307285299679 137.49198684843182,93.97759758337769 139.07172433557758,97.89298381958797 139.8887023914453,101.89263860095893 139.9102465862721,105.81659870902816 139.13549527600819,109.50792827749828 137.5954340631298,112.81899532549731 135.351656550512,115.6173761888606 132.49390095108848,145.31017306064817 95.37790486135405))
</pre></div><div class="refsection" id="idm20115"><h2>Voir aussi</h2><p><a class="xref" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a>, <a class="xref" href="#ST_LocateBetweenElevations" title="ST_LocateBetweenElevations">ST_LocateBetweenElevations</a></p></div></div><div class="refentry" id="ST_LocateBetweenElevations"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LocateBetweenElevations — Renvoie les parties d'une géométrie qui se trouvent dans un intervalle d'élévation (Z).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LocateBetweenElevations</strong>(</code>geometry  <var class="pdparam">geom</var>, float8  <var class="pdparam">elevation_start</var>, float8  <var class="pdparam">elevation_end</var><code>)</code>;</p></div></div><div class="refsection" id="idm20138"><h2>Description</h2><p>Renvoie une géométrie (collection) contenant les parties d'une géométrie qui se trouvent dans une plage d'élévation (Z).</p><p>Couper un POLYGONE non convexe peut produire une géométrie non valide.</p><p class="availability">Disponibilité : 1.4.0</p><p class="enhanced">Amélioration : 3.0.0 - ajout de la prise en charge du POLYGONE, du TIN et du TRIANGLE.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm20148"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(
  ST_LocateBetweenElevations(
    'LINESTRING(1 2 3, 4 5 6)'::geometry,
    2, 4 ));

             st_astext
-----------------------------------
 MULTILINESTRING Z ((1 2 3,2 3 4))

SELECT ST_AsText(
    ST_LocateBetweenElevations(
      'LINESTRING(1 2 6, 4 5 -1, 7 8 9)',
      6, 9)) As ewelev;

                                ewelev
-----------------------------------------------------------------------
 GEOMETRYCOLLECTION Z (POINT Z (1 2 6),LINESTRING Z (6.1 7.1 6,7 8 9))
</pre></div><div class="refsection" id="idm20151"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_LocateBetween" title="ST_LocateBetween">ST_LocateBetween</a></p></div></div><div class="refentry" id="ST_InterpolatePoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_InterpolatePoint — Renvoie la mesure interpolée d'une géométrie la plus proche d'un point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_InterpolatePoint</strong>(</code>geometry  <var class="pdparam">linear_geom_with_measure</var>, geometry  <var class="pdparam">point</var><code>)</code>;</p></div></div><div class="refsection" id="idm20171"><h2>Description</h2><p>Renvoie une valeur de mesure interpolée d'une géométrie linéaire mesurée à l'emplacement le plus proche du point donné.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction n'est utilisée que pour les géométries linéaires avec une composante M</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm20181"><h2>Exemples</h2><pre class="programlisting">SELECT ST_InterpolatePoint('LINESTRING M (0 0 0, 10 0 20)', 'POINT(5 5)');
 ---------------------
         10
        </pre></div><div class="refsection" id="idm20184"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AddMeasure" title="ST_AddMeasure">ST_AddMeasure</a>, <a class="xref" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a>, <a class="xref" href="#ST_LocateBetween" title="ST_LocateBetween">ST_LocateBetween</a></p></div></div><div class="refentry" id="ST_AddMeasure"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AddMeasure — Interpole les mesures le long d'une géométrie linéaire.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_AddMeasure</strong>(</code>geometry  <var class="pdparam">geom_mline</var>, float8  <var class="pdparam">measure_start</var>, float8  <var class="pdparam">measure_end</var><code>)</code>;</p></div></div><div class="refsection" id="idm20208"><h2>Description</h2><p>Renvoie une géométrie dérivée avec des valeurs de mesure interpolées linéairement entre les points de départ et d'arrivée. Si la géométrie n'a pas de dimension de mesure, une dimension est ajoutée. Si la géométrie a une dimension de mesure, elle est remplacée par de nouvelles valeurs. Seuls les LINESTRINGS et MULTILINESTRINGS sont pris en charge.</p><p class="availability">Disponibilité : 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm20216"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_AddMeasure(
ST_GeomFromEWKT('LINESTRING(1 0, 2 0, 4 0)'),1,4)) As ewelev;
           ewelev
--------------------------------
 LINESTRINGM(1 0 1,2 0 2,4 0 4)

SELECT ST_AsText(ST_AddMeasure(
ST_GeomFromEWKT('LINESTRING(1 0 4, 2 0 4, 4 0 4)'),10,40)) As ewelev;
                 ewelev
----------------------------------------
 LINESTRING(1 0 4 10,2 0 4 20,4 0 4 40)

SELECT ST_AsText(ST_AddMeasure(
ST_GeomFromEWKT('LINESTRINGM(1 0 4, 2 0 4, 4 0 4)'),10,40)) As ewelev;
                 ewelev
----------------------------------------
 LINESTRINGM(1 0 10,2 0 20,4 0 40)

SELECT ST_AsText(ST_AddMeasure(
ST_GeomFromEWKT('MULTILINESTRINGM((1 0 4, 2 0 4, 4 0 4),(1 0 4, 2 0 4, 4 0 4))'),10,70)) As ewelev;
                             ewelev
-----------------------------------------------------------------
 MULTILINESTRINGM((1 0 10,2 0 20,4 0 40),(1 0 40,2 0 50,4 0 70))
</pre></div></div></section><section class="section" id="Temporal"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.20. Fonctions de trajectoire</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions permettent de travailler avec des trajectoires. Une trajectoire est une géométrie linéaire avec des mesures croissantes (valeur M) sur chaque coordonnée. Les données spatio-temporelles peuvent être modélisées en utilisant des temps relatifs (comme l'époque) comme valeurs de mesure. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_IsValidTrajectory">ST_IsValidTrajectory</a></span><span class="refpurpose"> — Teste si la géométrie est une trajectoire valide.</span></li><li><span class="refentrytitle"><a href="#ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a></span><span class="refpurpose"> — Renvoie une mesure au point d'approche le plus proche de deux trajectoires. </span></li><li><span class="refentrytitle"><a href="#ST_DistanceCPA">ST_DistanceCPA</a></span><span class="refpurpose"> — Renvoie la distance entre le point d'approche le plus proche de deux trajectoires. </span></li><li><span class="refentrytitle"><a href="#ST_CPAWithin">ST_CPAWithin</a></span><span class="refpurpose"> — Teste si le point d'approche le plus proche de deux trajectoires se trouve dans la distance spécifiée. </span></li></ul></div><div class="refentry" id="ST_IsValidTrajectory"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsValidTrajectory — Teste si la géométrie est une trajectoire valide.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsValidTrajectory</strong>(</code>geometry  <var class="pdparam">line</var><code>)</code>;</p></div></div><div class="refsection" id="idm20236"><h2>Description</h2><p>Teste si une géométrie encode une trajectoire valide. Une trajectoire valide est représentée comme une <code class="varname">LINESTRING</code> avec des mesures (valeurs M). Les valeurs de mesure doivent augmenter de chaque sommet au suivant. </p><p>Les trajectoires valides sont attendues comme entrées pour des fonctions spatio-temporelles telles que <a class="xref" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a> </p><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm20247"><h2>Exemples</h2><pre class="programlisting">-- A valid trajectory
SELECT ST_IsValidTrajectory(ST_MakeLine(
  ST_MakePointM(0,0,1),
  ST_MakePointM(0,1,2))
);
 t

-- An invalid trajectory
SELECT ST_IsValidTrajectory(ST_MakeLine(ST_MakePointM(0,0,1), ST_MakePointM(0,1,0)));
NOTICE:  Measure of vertex 1 (0) not bigger than measure of vertex 0 (1)
 st_isvalidtrajectory
----------------------
 f
</pre></div><div class="refsection" id="idm20250"><h2>Voir aussi</h2><p>
<a class="xref" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a>
			</p></div></div><div class="refentry" id="ST_ClosestPointOfApproach"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClosestPointOfApproach — Renvoie une mesure au point d'approche le plus proche de deux trajectoires. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_ClosestPointOfApproach</strong>(</code>geometry  <var class="pdparam">track1</var>, geometry  <var class="pdparam">track2</var><code>)</code>;</p></div></div><div class="refsection" id="idm20269"><h2>Description</h2><p>Renvoie la plus petite mesure pour laquelle les points interpolés le long des trajectoires données sont les moins éloignés les uns des autres. </p><p>Les entrées doivent être des trajectoires valides comme vérifié par <a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>. Null est retourné si les trajectoires ne se chevauchent pas dans leurs plages M. </p><p>Pour obtenir les points réels à la mesure calculée, utilisez <a class="xref" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a> . </p><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm20281"><h2>Exemples</h2><pre class="programlisting">-- Return the time in which two objects moving between 10:00 and 11:00
-- are closest to each other and their distance at that point
WITH inp AS ( SELECT
  ST_AddMeasure('LINESTRING Z (0 0 0, 10 0 5)'::geometry,
    extract(epoch from '2015-05-26 10:00'::timestamptz),
    extract(epoch from '2015-05-26 11:00'::timestamptz)
  ) a,
  ST_AddMeasure('LINESTRING Z (0 2 10, 12 1 2)'::geometry,
    extract(epoch from '2015-05-26 10:00'::timestamptz),
    extract(epoch from '2015-05-26 11:00'::timestamptz)
  ) b
), cpa AS (
  SELECT ST_ClosestPointOfApproach(a,b) m FROM inp
), points AS (
  SELECT ST_GeometryN(ST_LocateAlong(a,m),1) pa,
         ST_GeometryN(ST_LocateAlong(b,m),1) pb
  FROM inp, cpa
)
SELECT to_timestamp(m) t,
       ST_Distance(pa,pb) distance,
       ST_AsText(pa, 2) AS pa, ST_AsText(pb, 2) AS pb
FROM points, cpa;

               t               |      distance      |                  pa                  |                   pb                   
-------------------------------+--------------------+--------------------------------------+----------------------------------------
 2015-05-26 10:45:31.034483-07 | 1.9603683315139542 | POINT ZM (7.59 0 3.79 1432662331.03) | POINT ZM (9.1 1.24 3.93 1432662331.03)
 </pre></div><div class="refsection" id="idm20284"><h2>Voir aussi</h2><p><a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>, <a class="xref" href="#ST_DistanceCPA" title="ST_DistanceCPA">ST_DistanceCPA</a>, <a class="xref" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a>, <a class="xref" href="#ST_AddMeasure" title="ST_AddMeasure">ST_AddMeasure</a> </p></div></div><div class="refentry" id="ST_DistanceCPA"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DistanceCPA — Renvoie la distance entre le point d'approche le plus proche de deux trajectoires. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_DistanceCPA</strong>(</code>geometry  <var class="pdparam">track1</var>, geometry  <var class="pdparam">track2</var><code>)</code>;</p></div></div><div class="refsection" id="idm20306"><h2>Description</h2><p>Renvoie la distance (en 2D) entre deux trajectoires à leur point d'approche le plus proche. </p><p>Les entrées doivent être des trajectoires valides comme vérifié par <a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>. Null est retourné si les trajectoires ne se chevauchent pas dans leurs plages M. </p><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm20316"><h2>Exemples</h2><pre class="programlisting">-- Return the minimum distance of two objects moving between 10:00 and 11:00
WITH inp AS ( SELECT
  ST_AddMeasure('LINESTRING Z (0 0 0, 10 0 5)'::geometry,
    extract(epoch from '2015-05-26 10:00'::timestamptz),
    extract(epoch from '2015-05-26 11:00'::timestamptz)
  ) a,
  ST_AddMeasure('LINESTRING Z (0 2 10, 12 1 2)'::geometry,
    extract(epoch from '2015-05-26 10:00'::timestamptz),
    extract(epoch from '2015-05-26 11:00'::timestamptz)
  ) b
)
SELECT ST_DistanceCPA(a,b) distance FROM inp;

     distance
------------------
 1.96036833151395
</pre></div><div class="refsection" id="idm20319"><h2>Voir aussi</h2><p><a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>, <a class="xref" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a>, <a class="xref" href="#ST_AddMeasure" title="ST_AddMeasure">ST_AddMeasure</a>, <a class="xref" href="#geometry_distance_cpa" title="|=|">|=|</a> </p></div></div><div class="refentry" id="ST_CPAWithin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CPAWithin — Teste si le point d'approche le plus proche de deux trajectoires se trouve dans la distance spécifiée. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_CPAWithin</strong>(</code>geometry  <var class="pdparam">track1</var>, geometry  <var class="pdparam">track2</var>, float8  <var class="pdparam">dist</var><code>)</code>;</p></div></div><div class="refsection" id="idm20344"><h2>Description</h2><p>Teste si deux objets en mouvement ont déjà été plus proches que la distance spécifiée. </p><p>Les entrées doivent être des trajectoires valides comme vérifié par <a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>. False est retourné si les trajectoires ne se chevauchent pas dans leurs plages M. </p><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm20354"><h2>Exemples</h2><pre class="programlisting">WITH inp AS ( SELECT
  ST_AddMeasure('LINESTRING Z (0 0 0, 10 0 5)'::geometry,
    extract(epoch from '2015-05-26 10:00'::timestamptz),
    extract(epoch from '2015-05-26 11:00'::timestamptz)
  ) a,
  ST_AddMeasure('LINESTRING Z (0 2 10, 12 1 2)'::geometry,
    extract(epoch from '2015-05-26 10:00'::timestamptz),
    extract(epoch from '2015-05-26 11:00'::timestamptz)
  ) b
)
SELECT ST_CPAWithin(a,b,2), ST_DistanceCPA(a,b) distance FROM inp;

 st_cpawithin |     distance
--------------+------------------
 t            | 1.96521473776207
</pre></div><div class="refsection" id="idm20357"><h2>Voir aussi</h2><p><a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>, <a class="xref" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a>, <a class="xref" href="#ST_DistanceCPA" title="ST_DistanceCPA">ST_DistanceCPA</a>, <a class="xref" href="#geometry_distance_cpa" title="|=|">|=|</a> </p></div></div></section><section class="section" id="Version_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.21. Fonctions de version</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions permettent de signaler et de mettre à jour les versions de PostGIS. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#PostGIS_Extensions_Upgrade">PostGIS_Extensions_Upgrade</a></span><span class="refpurpose"> — Packages et mises à jour des extensions PostGIS (par exemple postgis_raster, postgis_topology, postgis_sfcgal) vers la version donnée ou la plus récente. </span></li><li><span class="refentrytitle"><a href="#PostGIS_Full_Version">PostGIS_Full_Version</a></span><span class="refpurpose"> — Donne des informations complètes sur la version de PostGIS et la configuration du packaging.</span></li><li><span class="refentrytitle"><a href="#PostGIS_GEOS_Version">PostGIS_GEOS_Version</a></span><span class="refpurpose"> — Renvoie le numéro de version de la librairie GEOS.</span></li><li><span class="refentrytitle"><a href="#PostGIS_GEOS_Compiled_Version">PostGIS_GEOS_Compiled_Version</a></span><span class="refpurpose"> — Renvoie le numéro de version de la librairie GEOS avec laquelle PostGIS a été construit.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Liblwgeom_Version">PostGIS_Liblwgeom_Version</a></span><span class="refpurpose"> — Renvoie le numéro de version de la librairie liblwgeom. Cela devrait correspondre à la version de PostGIS.</span></li><li><span class="refentrytitle"><a href="#PostGIS_LibXML_Version">PostGIS_LibXML_Version</a></span><span class="refpurpose"> — Renvoie le numéro de version de la librairie libxml2.</span></li><li><span class="refentrytitle"><a href="#PostGIS_LibJSON_Version">PostGIS_LibJSON_Version</a></span><span class="refpurpose"> — Returns the version number of the libjson-c library.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Lib_Build_Date">PostGIS_Lib_Build_Date</a></span><span class="refpurpose"> — Retourne la date de packaging de l'extension PostGIS.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Lib_Version">PostGIS_Lib_Version</a></span><span class="refpurpose"> — Retourne le numéro de version de l'extension PostGIS.</span></li><li><span class="refentrytitle"><a href="#PostGIS_PROJ_Version">PostGIS_PROJ_Version</a></span><span class="refpurpose"> — Renvoie le numéro de version de la librairie PROJ4.</span></li><li><span class="refentrytitle"><a href="#PostGIS_PROJ_Compiled_Version">PostGIS_PROJ_Compiled_Version</a></span><span class="refpurpose"> — Returns the version number of the PROJ library against which PostGIS was built.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Wagyu_Version">PostGIS_Wagyu_Version</a></span><span class="refpurpose"> — Renvoie le numéro de version de la librairie interne de Wagyu.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Scripts_Build_Date">PostGIS_Scripts_Build_Date</a></span><span class="refpurpose"> — Retourne la date de packaging des scripts PostGIS.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Scripts_Installed">PostGIS_Scripts_Installed</a></span><span class="refpurpose"> — Retourne la version des scripts PostGIS installés dans cette base de données.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Scripts_Released">PostGIS_Scripts_Released</a></span><span class="refpurpose"> — Retourne le numéro de version du script postgis.sql publié avec la librairie PostGIS installée.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Version">PostGIS_Version</a></span><span class="refpurpose"> — Retourne le numéro de version de PostGIS et les options de compilation.</span></li></ul></div><div class="refentry" id="PostGIS_Extensions_Upgrade"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Extensions_Upgrade — Packages et mises à jour des extensions PostGIS (par exemple postgis_raster, postgis_topology, postgis_sfcgal) vers la version donnée ou la plus récente. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Extensions_Upgrade</strong>(</code>text <var class="pdparam">target_version=null</var><code>)</code>;</p></div></div><div class="refsection" id="idm20381"><h2>Description</h2><p>Packages et mises à jour des extensions PostGIS vers la version donnée ou la plus récente. Seules les extensions que vous avez installées dans la base de données seront packagées et mises à jour si nécessaire. Rapporte la version complète de PostGIS et les informations sur la configuration de la compilation. C'est un raccourci pour faire plusieurs CREATE EXTENSION ... FROM non packagée et ALTER EXTENSION ... UPDATE pour chaque extension PostGIS. Actuellement, il n'essaie de mettre à jour que les extensions postgis, postgis_raster, postgis_sfcgal, postgis_topology, et postgis_tiger_geocoder.</p><p class="availability">Disponibilité : 2.5.0</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Modifié : 3.4.0 pour ajouter l'argument target_version.</p><p class="changed">Modifié : 3.3.0 support pour les mises à jour à partir de n'importe quelle version de PostGIS. Ne fonctionne pas sur tous les systèmes.</p><p class="changed">Modifié : 3.0.0 pour repackager les extensions libres et supporter postgis_raster.</p></td></tr></table></div></div><div class="refsection" id="idm20389"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_Extensions_Upgrade();</pre><pre class="screen">NOTICE:  Packaging extension postgis
NOTICE:  Packaging extension postgis_raster
NOTICE:  Packaging extension postgis_sfcgal
NOTICE:  Extension postgis_topology is not available or not packagable for some reason
NOTICE:  Extension postgis_tiger_geocoder is not available or not packagable for some reason

                    postgis_extensions_upgrade
-------------------------------------------------------------------
 Upgrade completed, run SELECT postgis_full_version(); for details
(1 row)</pre></div><div class="refsection" id="idm20393"><h2>Voir aussi</h2><p><a class="xref" href="#upgrading" title="3.4. Mise à jour des bases de données spatiales">Section 3.4, “Mise à jour des bases de données spatiales”</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a> </p></div></div><div class="refentry" id="PostGIS_Full_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Full_Version — Donne des informations complètes sur la version de PostGIS et la configuration du packaging.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Full_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20412"><h2>Description</h2><p>Donne des informations complètes sur la version de PostGIS et la configuration du packaging. Il fournit également des informations sur la synchronisation entre les bibliothèques et les scripts, suggérant des mises à niveau si nécessaire.</p><p class="enhanced">Amélioration : 3.4.0 inclut désormais les configurations supplémentaires PROJ NETWORK_ENABLED, URL_ENDPOINT et DATABASE_PATH pour l'emplacement proj.db </p></div><div class="refsection" id="idm20416"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_Full_Version();
                                                           postgis_full_version
----------------------------------------------------------------------------------
POSTGIS="3.4.0dev 3.3.0rc2-993-g61bdf43a7" [EXTENSION] PGSQL="160" GEOS="3.12.0dev-CAPI-1.18.0" SFCGAL="1.3.8" PROJ="7.2.1 NETWORK_ENABLED=OFF URL_ENDPOINT=https://cdn.proj.org USER_WRITABLE_DIRECTORY=/tmp/proj DATABASE_PATH=/usr/share/proj/proj.db" GDAL="GDAL 3.2.2, released 2021/03/05" LIBXML="2.9.10" LIBJSON="0.15" LIBPROTOBUF="1.3.3" WAGYU="0.5.0 (Internal)" TOPOLOGY RASTER
(1 row)
</pre></div><div class="refsection" id="idm20419"><h2>Voir aussi</h2><p><a class="xref" href="#upgrading" title="3.4. Mise à jour des bases de données spatiales">Section 3.4, “Mise à jour des bases de données spatiales”</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_Wagyu_Version" title="PostGIS_Wagyu_Version">PostGIS_Wagyu_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a> </p></div></div><div class="refentry" id="PostGIS_GEOS_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_GEOS_Version — Renvoie le numéro de version de la librairie GEOS.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_GEOS_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20439"><h2>Description</h2><p>Renvoie le numéro de version de la librairie GEOS, ou <code class="varname">NULL</code> si le support GEOS n'est pas activé.</p></div><div class="refsection" id="idm20443"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_GEOS_Version();
 postgis_geos_version
----------------------
3.12.0dev-CAPI-1.18.0
(1 row)</pre></div><div class="refsection" id="idm20446"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_GEOS_Compiled_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_GEOS_Compiled_Version — Renvoie le numéro de version de la librairie GEOS avec laquelle PostGIS a été construit.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_GEOS_Compiled_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20464"><h2>Description</h2><p>Renvoie le numéro de version de la librairie GEOS, ou par rapport à laquelle PostGIS a été construit.</p><p class="availability">Disponibilité : 3.4.0</p></div><div class="refsection" id="idm20468"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_GEOS_Compiled_Version();
 postgis_geos_compiled_version
-------------------------------
 3.12.0
(1 row)</pre></div><div class="refsection" id="idm20471"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a> </p></div></div><div class="refentry" id="PostGIS_Liblwgeom_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Liblwgeom_Version — Renvoie le numéro de version de la librairie liblwgeom. Cela devrait correspondre à la version de PostGIS.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Liblwgeom_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20486"><h2>Description</h2><p>Renvoie le numéro de version de la librairie liblwgeom</p></div><div class="refsection" id="idm20489"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_Liblwgeom_Version();
postgis_liblwgeom_version
--------------------------
3.4.0dev 3.3.0rc2-993-g61bdf43a7
(1 row)</pre></div><div class="refsection" id="idm20492"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_LibXML_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_LibXML_Version — Renvoie le numéro de version de la librairie libxml2.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_LibXML_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20510"><h2>Description</h2><p>Renvoie le numéro de version de la librairie LibXML2.</p><p class="availability">Disponibilité : 1.5</p></div><div class="refsection" id="idm20514"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_LibXML_Version();
 postgis_libxml_version
----------------------
 2.9.10
(1 row)</pre></div><div class="refsection" id="idm20517"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_LibJSON_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_LibJSON_Version — Returns the version number of the libjson-c library.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_LibJSON_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20535"><h2>Description</h2><p>Returns the version number of the LibJSON-C library.</p></div><div class="refsection" id="idm20538"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_LibJSON_Version();
 postgis_libjson_version
-------------------------
 0.17</pre></div><div class="refsection" id="idm20541"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_Lib_Build_Date"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Lib_Build_Date — Retourne la date de packaging de l'extension PostGIS.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Lib_Build_Date</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20559"><h2>Description</h2><p>Retourne la date de packaging de l'extension PostGIS.</p></div><div class="refsection" id="idm20562"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_Lib_Build_Date();
 postgis_lib_build_date
------------------------
 2023-06-22 03:56:11
(1 row)</pre></div></div><div class="refentry" id="PostGIS_Lib_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Lib_Version — Retourne le numéro de version de l'extension PostGIS.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Lib_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20575"><h2>Description</h2><p>Retourne le numéro de version de l'extension PostGIS.</p></div><div class="refsection" id="idm20578"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_Lib_Version();
 postgis_lib_version
---------------------
 3.4.0dev
(1 row)</pre></div><div class="refsection" id="idm20581"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_PROJ_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_PROJ_Version — Renvoie le numéro de version de la librairie PROJ4.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_PROJ_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20599"><h2>Description</h2><p>Retourne le numéro de version de la bibliothèque PROJ et certaines options de configuration de proj.</p><p class="enhanced">Amélioration : 3.4.0 inclut désormais PROJ NETWORK_ENABLED, URL_ENDPOINT et DATABASE_PATH pour l'emplacement proj.db </p></div><div class="refsection" id="idm20603"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_PROJ_Version();
  postgis_proj_version
-------------------------
7.2.1 NETWORK_ENABLED=OFF URL_ENDPOINT=https://cdn.proj.org USER_WRITABLE_DIRECTORY=/tmp/proj DATABASE_PATH=/usr/share/proj/proj.db
(1 row)</pre></div><div class="refsection" id="idm20606"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_PROJ_Compiled_Version" title="PostGIS_PROJ_Compiled_Version">PostGIS_PROJ_Compiled_Version</a>, <a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_PROJ_Compiled_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_PROJ_Compiled_Version — Returns the version number of the PROJ library against which PostGIS was built.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_PROJ_Compiled_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20625"><h2>Description</h2><p>Returns the version number of the PROJ library, or against which PostGIS was built.</p><p class="availability">Disponibilité : 3.5.0</p></div><div class="refsection" id="idm20629"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_PROJ_Compiled_Version();
 postgis_proj_compiled_version
-------------------------------
 9.1.1
(1 row)</pre></div><div class="refsection" id="idm20632"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a> </p></div></div><div class="refentry" id="PostGIS_Wagyu_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Wagyu_Version — Renvoie le numéro de version de la librairie interne de Wagyu.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Wagyu_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20647"><h2>Description</h2><p>Renvoie le numéro de version de la librairie interne Wagyu, ou <code class="varname">NULL</code> si le support Wagyu n'est pas activé.</p></div><div class="refsection" id="idm20651"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_Wagyu_Version();
 postgis_wagyu_version
-----------------------
 0.5.0 (Internal)
(1 row)</pre></div><div class="refsection" id="idm20654"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_Scripts_Build_Date"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Scripts_Build_Date — Retourne la date de packaging des scripts PostGIS.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Scripts_Build_Date</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20673"><h2>Description</h2><p>Retourne la date de packaging des scripts PostGIS.</p><p class="availability">Disponibilité : 1.0.0RC1</p></div><div class="refsection" id="idm20677"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_Scripts_Build_Date();
  postgis_scripts_build_date
-------------------------
 2023-06-22 03:56:11
(1 row)</pre></div><div class="refsection" id="idm20680"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_Scripts_Installed"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Scripts_Installed — Retourne la version des scripts PostGIS installés dans cette base de données.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Scripts_Installed</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20698"><h2>Description</h2><p>Retourne la version des scripts PostGIS installés dans cette base de données.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si la sortie de cette fonction ne correspond pas à la sortie de <a class="xref" href="#PostGIS_Scripts_Released" title="PostGIS_Scripts_Released">PostGIS_Scripts_Released</a>, vous avez probablement manqué de mettre correctement à niveau une base de données existante. Consultez la section <a class="link" href="#upgrading" title="3.4. Mise à jour des bases de données spatiales">Upgrading</a> pour plus d'informations.</p></td></tr></table></div><p class="availability">Disponibilité : 0.9.0</p></div><div class="refsection" id="idm20706"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_Scripts_Installed();
  postgis_scripts_installed
-------------------------
 3.4.0dev 3.3.0rc2-993-g61bdf43a7
(1 row)</pre></div><div class="refsection" id="idm20709"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_Scripts_Released" title="PostGIS_Scripts_Released">PostGIS_Scripts_Released</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_Scripts_Released"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Scripts_Released — Retourne le numéro de version du script postgis.sql publié avec la librairie PostGIS installée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Scripts_Released</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20725"><h2>Description</h2><p>Retourne le numéro de version du script postgis.sql publié avec la librairie PostGIS installée.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>À partir de la version 1.1.0, cette fonction renvoie la même valeur de <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>. Conservée pour des raisons de rétrocompatibilité.</p></td></tr></table></div><p class="availability">Disponibilité : 0.9.0</p></div><div class="refsection" id="idm20732"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_Scripts_Released();
  postgis_scripts_released
-------------------------
 3.4.0dev 3.3.0rc2-993-g61bdf43a7
(1 row)</pre></div><div class="refsection" id="idm20735"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_Scripts_Installed" title="PostGIS_Scripts_Installed">PostGIS_Scripts_Installed</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a></p></div></div><div class="refentry" id="PostGIS_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Version — Retourne le numéro de version de PostGIS et les options de compilation.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20751"><h2>Description</h2><p>Retourne le numéro de version de PostGIS et les options de compilation.</p></div><div class="refsection" id="idm20754"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_Version();
                        postgis_version
---------------------------------------
 3.4 USE_GEOS=1 USE_PROJ=1 USE_STATS=1
(1 row)</pre></div><div class="refsection" id="idm20757"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a></p></div></div></section><section class="section" id="PostGIS_GUC"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.22. Variables PostGIS GUC (Grand Unified Custom Variables)</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section liste les variables globales spécifiques de PostGIS appelées GUC : Grand Unified Custom Variables. Elles peuvent être réglées globalement, par base de données, par session ou par transaction. Il est préférable de les régler au niveau global ou au niveau de la base de donnée.</p><p>For more examples of usage refer to <a class="link" href="https://www.postgresql.org/docs/current/sql-set.html" target="_top">SQL SET</a> and <a class="link" href="https://www.postgresql.org/docs/current/sql-altersystem.html" target="_top">SQL ALTER SYSTEM</a></p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#postgis_backend">postgis.backend</a></span><span class="refpurpose"> — Le backend qui sera utilisé par les fonctions lorsque GEOS et SFCGAL se recouvrent. Options : geos ou sfcgal. Valeur par défaut geos.</span></li><li><span class="refentrytitle"><a href="#postgis_gdal_datapath">postgis.gdal_datapath</a></span><span class="refpurpose"> — Une option de configuration pour régler la valeur de l'option GDAL_DATA de GDAL. Si elle n'est pas assignée, la valeur de la variable d'environnement GDAL_DATA est utilisée. </span></li><li><span class="refentrytitle"><a href="#postgis_gdal_enabled_drivers">postgis.gdal_enabled_drivers</a></span><span class="refpurpose"> — Option de configuration permettant de définir les drivers GDAL activés dans l'environnement PostGIS. Affecte la variable de configuration GDAL GDAL_SKIP. </span></li><li><span class="refentrytitle"><a href="#postgis_enable_outdb_rasters">postgis.enable_outdb_rasters</a></span><span class="refpurpose"> — Une option de configuration booléenne pour permettre l'accès aux bandes matricielles de out-db. </span></li><li><span class="refentrytitle"><a href="#postgis_gdal_vsi_options">postgis.gdal_vsi_options</a></span><span class="refpurpose"> — Une chaîne de configuration pour définir les options utilisées lors de l'utilisation d'un raster out-db. </span></li></ul></div><div class="refentry" id="postgis_backend"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis.backend — Le backend qui sera utilisé par les fonctions lorsque GEOS et SFCGAL se recouvrent. Options : geos ou sfcgal. Valeur par défaut geos.</p></div><div class="refsection" id="idm20777"><h2>Description</h2><p>Cette GUC n'a de sens que si vous avez compilé PostGIS avec le support SFCGAL. Par défaut le backend <code class="varname">geos</code> est utilisé pour les fonctions proposées à la fois par GEOS et SFCGAL (même nom). Cette variable permet de surcharger la valeur par défaut et d'utiliser sfcgal comme backend pour effectuer la requête.</p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm20782"><h2>Exemples</h2><p>Régler le backend juste pour le temps de la connexion</p><pre class="programlisting">set postgis.backend = sfcgal;</pre><p>Régler le backend pour les nouvelles connexions à une base de données</p><pre class="programlisting">ALTER DATABASE mygisdb SET postgis.backend = sfcgal;</pre></div><div class="refsection" id="idm20788"><h2>Voir aussi</h2><p><a class="xref" href="#reference_sfcgal" title="Chapter 8. Référence des fonctions SFCGAL">Chapter 8, <em>Référence des fonctions SFCGAL</em></a></p></div></div><div class="refentry" id="postgis_gdal_datapath"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis.gdal_datapath — Une option de configuration pour régler la valeur de l'option GDAL_DATA de GDAL. Si elle n'est pas assignée, la valeur de la variable d'environnement GDAL_DATA est utilisée. </p></div><div class="refsection" id="idm20796"><h2>Description</h2><p>Une variable GUC PostgreSQL pour régler la valeur de l'option GDAL_DATA de GDAL. La valeur <code class="varname">postgis.gdal_datapath</code> devrait être le chemin physique complet vers les fichiers de données de GDAL. </p><p>Cette option de configuration est principalement destinée aux plateformes Windows où le chemin des fichiers de données de GDAL n'est pas codé en dur. Cette option devrait aussi être réglée lorsque les fichiers de données GDAL ne sont pas situés dans le chemin attendu par GDAL. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette option peut être réglée dans le fichier de configuration postgresql.conf de PostgreSQL. Elle peut aussi être réglée par connexion ou par transaction. </p></td></tr></table></div><p class="availability">Disponibilité : 2.2.0</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Des informations complémentaires sur GDAL_DATA sont disponibles dans la description des <a class="link" href="http://trac.osgeo.org/gdal/wiki/ConfigOptions" target="_top">Options de configuration</a>. </p></td></tr></table></div></div><div class="refsection" id="idm20807"><h2>Exemples</h2><p>Régler et remettre à la valeur par défaut <code class="varname">postgis.gdal_datapath</code></p><pre class="programlisting">SET postgis.gdal_datapath TO '/usr/local/share/gdal.hidden';
SET postgis.gdal_datapath TO default;
                </pre><p>Réglage pour une base de données spécifique, sous Windows</p><pre class="programlisting">ALTER DATABASE gisdb
SET postgis.gdal_datapath = 'C:/Program Files/PostgreSQL/9.3/gdal-data';</pre></div><div class="refsection" id="idm20814"><h2>Voir aussi</h2><p><a class="xref" href="#RT_PostGIS_GDAL_Version" title="PostGIS_GDAL_Version">PostGIS_GDAL_Version</a>, <a class="xref" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a> </p></div></div><div class="refentry" id="postgis_gdal_enabled_drivers"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis.gdal_enabled_drivers — Option de configuration permettant de définir les drivers GDAL activés dans l'environnement PostGIS. Affecte la variable de configuration GDAL GDAL_SKIP. </p></div><div class="refsection" id="idm20823"><h2>Description</h2><p>Option de configuration permettant de définir les drivers GDAL activés dans l'environnement PostGIS. Affecte la variable de configuration GDAL GDAL_SKIP. Cette option peut être définie dans le fichier de configuration de PostgreSQL : postgresql.conf. Elle peut également être définie par connexion ou transaction. </p><p>La valeur initiale de <code class="varname">postgis.gdal_enabled_drivers</code> peut aussi être définie en passant la variable d'environnement <code class="varname">POSTGIS_GDAL_ENABLED_DRIVERS</code> avec la liste des drivers activés au processus de démarrage de PostgreSQL. </p><p>Les drivers GDAL activés peuvent être spécifiés par leur nom abrégé ou leur code. Les noms courts ou les codes des drivers sont disponibles sur <a class="link" href="http://www.gdal.org/formats_list.html" target="_top">GDAL Raster Formats</a>. Il est possible de spécifier plusieurs drivers en insérant un espace entre chacun d'eux. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Trois codes spéciaux sont disponibles pour <code class="varname">postgis.gdal_enabled_drivers</code>. Les codes sont sensibles à la casse. </p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p><code class="varname">DISABLE_ALL</code> désactive tous les drivers GDAL. S'il est présent, <code class="varname">DISABLE_ALL</code> remplace toutes les autres valeurs de <code class="varname">postgis.gdal_enabled_drivers</code>.</p></li><li class="listitem"><p><code class="varname">ENABLE_ALL</code> active tous les drivers GDAL.</p></li><li class="listitem"><p><code class="varname">VSICURL</code> active le système de fichiers virtuels <code class="varname">/vsicurl/</code> de GDAL.</p></li></ul></div><p>
                    </p><p>Lorsque <code class="varname">postgis.gdal_enabled_drivers</code> est défini sur DISABLE_ALL, les tentatives d'utilisation des rasters out-db, ST_FromGDALRaster(), ST_AsGDALRaster(), ST_AsTIFF(), ST_AsJPEG() et ST_AsPNG() se traduisent par des messages d'erreur. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Dans l'installation standard de PostGIS, <code class="varname">postgis.gdal_enabled_drivers</code> est défini sur DISABLE_ALL. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Des informations supplémentaires sur GDAL_SKIP sont disponibles sur le site GDAL <a class="link" href="http://trac.osgeo.org/gdal/wiki/ConfigOptions" target="_top">Configuration Options</a>. </p></td></tr></table></div><p class="availability">Disponibilité : 2.2.0</p></div><div class="refsection" id="idm20856"><h2>Exemples</h2><p>To set and reset <code class="varname">postgis.gdal_enabled_drivers</code> for current session</p><pre class="programlisting">SET postgis.gdal_enabled_drivers = 'ENABLE_ALL';
SET postgis.gdal_enabled_drivers = default;
                </pre><p>Set for all new connections to a specific database to specific drivers</p><pre class="programlisting">ALTER DATABASE mygisdb SET postgis.gdal_enabled_drivers TO 'GTiff PNG JPEG';</pre><p>Setting for whole database cluster to enable all drivers. Requires super user access. Also note that database, session, and user settings override this.</p><pre class="programlisting">--writes to postgres.auto.conf
ALTER SYSTEM SET postgis.gdal_enabled_drivers TO 'ENABLE_ALL';
 --Reloads postgres conf
SELECT pg_reload_conf();
                </pre></div><div class="refsection" id="idm20865"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_FromGDALRaster" title="ST_FromGDALRaster">ST_FromGDALRaster</a>, <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>, <a class="xref" href="#RT_ST_AsTIFF" title="ST_AsTIFF">ST_AsTIFF</a>, <a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>, <a class="xref" href="#RT_ST_AsJPEG" title="ST_AsJPEG">ST_AsJPEG</a>, <a class="xref" href="#postgis_enable_outdb_rasters" title="postgis.enable_outdb_rasters">postgis.enable_outdb_rasters</a> </p></div></div><div class="refentry" id="postgis_enable_outdb_rasters"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis.enable_outdb_rasters — Une option de configuration booléenne pour permettre l'accès aux bandes matricielles de out-db. </p></div><div class="refsection" id="idm20878"><h2>Description</h2><p>Une option de configuration booléenne pour permettre l'accès aux bandes matricielles de out-db. Cette option peut être définie dans le fichier de configuration de PostgreSQL : postgresql.conf. Elle peut également être définie par connexion ou transaction. </p><p>La valeur initiale de <code class="varname">postgis.enable_outdb_rasters</code> peut également être définie en passant la variable d'environnement <code class="varname">POSTGIS_ENABLE_OUTDB_RASTERS</code> avec une valeur non nulle au processus de démarrage de PostgreSQL. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Même si <code class="varname">postgis.enable_outdb_rasters</code> est True, le GUC <code class="varname">postgis.gdal_enabled_drivers</code> détermine les formats raster accessibles. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Dans l'installation standard de PostGIS, <code class="varname">postgis.enable_outdb_rasters</code> est défini sur False. </p></td></tr></table></div><p class="availability">Disponibilité : 2.2.0</p></div><div class="refsection" id="idm20892"><h2>Exemples</h2><p>Définir et réinitialiser <code class="varname">postgis.enable_outdb_rasters</code> pour la session actuelle</p><pre class="programlisting">SET postgis.enable_outdb_rasters TO True;
SET postgis.enable_outdb_rasters = default;
SET postgis.enable_outdb_rasters = True;
SET postgis.enable_outdb_rasters = False;
                </pre><p>Set for all new connections to a specific database</p><pre class="programlisting">ALTER DATABASE gisdb SET postgis.enable_outdb_rasters = true;
                </pre><p>Setting for whole database cluster. Requires super user access. Also note that database, session, and user settings override this.</p><pre class="programlisting">--writes to postgres.auto.conf
ALTER SYSTEM SET postgis.enable_outdb_rasters = true;
 --Reloads postgres conf
SELECT pg_reload_conf();
                </pre></div><div class="refsection" id="idm20901"><h2>Voir aussi</h2><p>
                    <a class="xref" href="#postgis_gdal_enabled_drivers" title="postgis.gdal_enabled_drivers">postgis.gdal_enabled_drivers</a>
                    <a class="xref" href="#postgis_gdal_vsi_options" title="postgis.gdal_vsi_options">postgis.gdal_vsi_options</a>
                </p></div></div><div class="refentry" id="postgis_gdal_vsi_options"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis.gdal_vsi_options — Une chaîne de configuration pour définir les options utilisées lors de l'utilisation d'un raster out-db. </p></div><div class="refsection" id="idm20910"><h2>Description</h2><p>Une chaîne de configuration pour définir les options utilisées lors de l'utilisation d'un raster out-db. <a class="link" href="http://trac.osgeo.org/gdal/wiki/ConfigOptions" target="_top">Les options de configuration</a> contrôlent des éléments tels que l'espace alloué par GDAL au cache des données locales, la lecture ou non des aperçus et les clés d'accès à utiliser pour les sources de données out-db distantes. </p><p class="availability">Disponibilité : 3.2.0</p></div><div class="refsection" id="idm20915"><h2>Exemples</h2><p>Définit <code class="varname">postgis.gdal_vsi_options</code> pour la session actuelle :</p><pre class="programlisting">SET postgis.gdal_vsi_options = 'AWS_ACCESS_KEY_ID=xxxxxxxxxxxxxxx AWS_SECRET_ACCESS_KEY=yyyyyyyyyyyyyyyyyyyyyyyyyy';
                </pre><p>Définissez <code class="varname">postgis.gdal_vsi_options</code> uniquement pour la <span class="emphasis"><em>transaction courante</em></span> en utilisant le mot clé <code class="varname">LOCAL</code> :</p><pre class="programlisting">SET LOCAL postgis.gdal_vsi_options = 'AWS_ACCESS_KEY_ID=xxxxxxxxxxxxxxx AWS_SECRET_ACCESS_KEY=yyyyyyyyyyyyyyyyyyyyyyyyyy';
                </pre></div><div class="refsection" id="idm20925"><h2>Voir aussi</h2><p>
                    <a class="xref" href="#postgis_enable_outdb_rasters" title="postgis.enable_outdb_rasters">postgis.enable_outdb_rasters</a>
                    <a class="xref" href="#postgis_gdal_enabled_drivers" title="postgis.gdal_enabled_drivers">postgis.gdal_enabled_drivers</a>
                </p></div></div></section><section class="section" id="Troubleshooting_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.23. Fonctions de dépannage</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions sont des utilitaires de dépannage et de réparation des données géométriques. Elles ne sont nécessaires que si les données géométriques sont corrompues d'une manière ou d'une autre, ce qui ne devrait jamais se produire dans des circonstances normales.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#PostGIS_AddBBox">PostGIS_AddBBox</a></span><span class="refpurpose"> — Ajoute une bounding box à la géométrie.</span></li><li><span class="refentrytitle"><a href="#PostGIS_DropBBox">PostGIS_DropBBox</a></span><span class="refpurpose"> — Supprime le cache de la boîte de délimitation de la géométrie.</span></li><li><span class="refentrytitle"><a href="#PostGIS_HasBBox">PostGIS_HasBBox</a></span><span class="refpurpose"> — Renvoie TRUE si la bbox de cette géométrie est en cache, sinon FALSE.</span></li></ul></div><div class="refentry" id="PostGIS_AddBBox"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_AddBBox — Ajoute une bounding box à la géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">PostGIS_AddBBox</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm20947"><h2>Description</h2><p>Ajouter une boîte de délimitation à la géométrie. Cela rendrait les requêtes basées sur la boîte de délimitation plus rapides, mais augmenterait la taille de la géométrie.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les boîtes de délimitation sont automatiquement ajoutées aux géométries, de sorte qu'en général, cela n'est pas nécessaire, à moins que la boîte de délimitation générée ne soit corrompue d'une manière ou d'une autre ou que vous ayez une ancienne installation qui ne contient pas les boîtes de délimitation. Dans ce cas, vous devez supprimer l'ancienne et ajouter la nouvelle.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm20956"><h2>Exemples</h2><pre class="programlisting">UPDATE sometable
 SET geom =  PostGIS_AddBBox(geom)
 WHERE PostGIS_HasBBox(geom) = false;</pre></div><div class="refsection" id="idm20959"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_DropBBox" title="PostGIS_DropBBox">PostGIS_DropBBox</a>, <a class="xref" href="#PostGIS_HasBBox" title="PostGIS_HasBBox">PostGIS_HasBBox</a></p></div></div><div class="refentry" id="PostGIS_DropBBox"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_DropBBox — Supprime le cache de la boîte de délimitation de la géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">PostGIS_DropBBox</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm20976"><h2>Description</h2><p>Supprime le cache de la boîte de délimitation de la géométrie. Cela réduit la taille de la géométrie, mais rend les requêtes basées sur les boîtes de délimitation plus lentes. Elle est également utilisée pour supprimer une boîte de délimitation corrompue. Un signe révélateur d'une boîte de délimitation corrompue dans le cache est lorsque vos ST_Intersects et autres requêtes de relations laissent de côté des géométries qui devraient légitimement renvoyer un résultat vrai.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les boîtes de délimitation sont automatiquement ajoutées aux géométries et améliorent la vitesse des requêtes. En général, cela n'est donc pas nécessaire, sauf si le boîte de délimitation générée est corrompue d'une manière ou d'une autre ou si vous avez une ancienne installation qui ne contient pas de boîtes de délimitation. Dans ce cas, il est nécessaire de supprimer l'ancienne installation et de la remplacer par une nouvelle. Ce type de corruption a été observé dans les séries 8.3-8.3.6 où les bboxes mises en cache n'étaient pas toujours recalculées lorsqu'une géométrie changeait et lors des mises à jour vers une version plus récente où le dump non rechargé ne corrigeait pas les bboxes déjà corrompues. La mise à jour vers une version plus récente sans rechargement du dump ne corrigera pas les boîtes déjà corrompues. Il est donc possible de corriger manuellement en utilisant la méthode ci-dessous et de lire la bbox ou de recharger le dump.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm20985"><h2>Exemples</h2><pre class="programlisting">--This example drops bounding boxes where the cached box is not correct
                        --The force to ST_AsBinary before applying Box2D forces a recalculation of the box, and Box2D applied to the table geometry always
                        -- returns the cached bounding box.
                        UPDATE sometable
 SET geom =  PostGIS_DropBBox(geom)
 WHERE Not (Box2D(ST_AsBinary(geom)) = Box2D(geom));

        UPDATE sometable
 SET geom =  PostGIS_AddBBox(geom)
 WHERE Not PostGIS_HasBBOX(geom);


 </pre></div><div class="refsection" id="idm20988"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_AddBBox" title="PostGIS_AddBBox">PostGIS_AddBBox</a>, <a class="xref" href="#PostGIS_HasBBox" title="PostGIS_HasBBox">PostGIS_HasBBox</a>, <a class="xref" href="#Box2D" title="Box2D">Box2D</a></p></div></div><div class="refentry" id="PostGIS_HasBBox"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_HasBBox — Renvoie TRUE si la bbox de cette géométrie est en cache, sinon FALSE.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">PostGIS_HasBBox</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm21006"><h2>Description</h2><p>Renvoie TRUE si la boîte de délimitation de cette géométrie est mise en cache, FALSE dans le cas contraire. Utilisez <a class="xref" href="#PostGIS_AddBBox" title="PostGIS_AddBBox">PostGIS_AddBBox</a> et <a class="xref" href="#PostGIS_DropBBox" title="PostGIS_DropBBox">PostGIS_DropBBox</a> pour contrôler la mise en cache.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode prend en charge les types Circular String et Curve. </p></div><div class="refsection" id="idm21015"><h2>Exemples</h2><pre class="programlisting">SELECT geom
FROM sometable WHERE PostGIS_HasBBox(geom) = false;</pre></div><div class="refsection" id="idm21018"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_AddBBox" title="PostGIS_AddBBox">PostGIS_AddBBox</a>, <a class="xref" href="#PostGIS_DropBBox" title="PostGIS_DropBBox">PostGIS_DropBBox</a></p></div></div></section></section><section class="chapter" id="reference_sfcgal"><div class="titlepage"><div><div><h1 class="title">Chapter 8. Référence des fonctions SFCGAL</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#sfcgal_management">8.1. Fonctions de gestion de SFCGAL</a></span></li><li><span class="section"><a href="#sfcgal_accessors">8.2. Fonctions d'accès et de modifications SFCGAL</a></span></li><li><span class="section"><a href="#sfcgal_processing">8.3. Fonctions de traitement et de relation SFCGAL</a></span></li></ul></div><p>SFCGAL est une bibliothèque C++ autour de CGAL qui fournit des fonctions spatiales avancées en 2D et 3D. Pour des raisons de robustesse, les coordonnées géométriques sont représentées par des nombres rationnels exacts. </p><p>Les instructions d'installation de la bibliothèque se trouvent sur la page d'accueil de SFCGAL (<a class="link" href="http://www.sfcgal.org" target="_top">http://www.sfcgal.org</a>). Pour activer les fonctions, utilisez <code class="code">create extension postgis_sfcgal</code>. </p><section class="section" id="sfcgal_management"><div class="titlepage"><div><div><h2 class="title" style="clear: both">8.1. Fonctions de gestion de SFCGAL</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section énumère les fonctions permettant de déterminer la version de SFCGAL et les dépendances de la bibliothèque que vous utilisez.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#postgis_sfcgal_version">postgis_sfcgal_version</a></span><span class="refpurpose"> — Retourne la version de SFCGAL utilisée</span></li><li><span class="refentrytitle"><a href="#postgis_sfcgal_full_version">postgis_sfcgal_full_version</a></span><span class="refpurpose"> — Retourne la version complète de SFCGAL en cours d'utilisation, y compris les versions CGAL et Boost</span></li></ul></div><div class="refentry" id="postgis_sfcgal_version"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis_sfcgal_version — Retourne la version de SFCGAL utilisée</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">postgis_sfcgal_version</strong>(</code><code>void)</code>;</p></div></div><div class="refsection" id="idm21044"><h2>Description</h2><p>Retourne la version de SFCGAL utilisée</p><p class="availability">Disponibilité : 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div><div class="refsection" id="idm21052"><h2>Voir aussi</h2><p><a class="xref" href="#postgis_sfcgal_full_version" title="postgis_sfcgal_full_version">postgis_sfcgal_full_version</a></p></div></div><div class="refentry" id="postgis_sfcgal_full_version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis_sfcgal_full_version — Retourne la version complète de SFCGAL en cours d'utilisation, y compris les versions CGAL et Boost</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">postgis_sfcgal_full_version</strong>(</code><code>void)</code>;</p></div></div><div class="refsection" id="idm21066"><h2>Description</h2><p>Retourne la version complète de SFCGAL utilisée, y compris les versions CGAL et Boost</p><p class="availability">Disponibilité : 3.3.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div><div class="refsection" id="idm21074"><h2>Voir aussi</h2><p><a class="xref" href="#postgis_sfcgal_version" title="postgis_sfcgal_version">postgis_sfcgal_version</a></p></div></div></section><section class="section" id="sfcgal_accessors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">8.2. Fonctions d'accès et de modifications SFCGAL</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Ces fonctions permettent d'accéder aux propriétés des géométries ou de les définir. Les géométries principalement prises en charge par ces fonctions sont les TINS et les surfaces polyédriques.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#CG_ForceLHR">CG_ForceLHR</a></span><span class="refpurpose"> — Force l'orientation LHR d'un objet</span></li><li><span class="refentrytitle"><a href="#CG_IsPlanar">CG_IsPlanar</a></span><span class="refpurpose"> — Vérifie si une surface est planaire ou non</span></li><li><span class="refentrytitle"><a href="#CG_IsSolid">CG_IsSolid</a></span><span class="refpurpose"> — Teste si la géométrie est un solide. Aucun contrôle de validité n'est effectué.</span></li><li><span class="refentrytitle"><a href="#CG_MakeSolid">CG_MakeSolid</a></span><span class="refpurpose"> — Transformer la géométrie dans un solide. Aucune vérification n'est effectuée. Pour obtenir un solide valide, la géométrie d'entrée doit être une surface polyédrique fermée ou un TIN fermé.</span></li><li><span class="refentrytitle"><a href="#CG_Orientation">CG_Orientation</a></span><span class="refpurpose"> — Détermine l'orientation d'une surface</span></li><li><span class="refentrytitle"><a href="#CG_Area">CG_Area</a></span><span class="refpurpose"> — Calcule la surface d'une géométrie</span></li><li><span class="refentrytitle"><a href="#CG_3DArea">CG_3DArea</a></span><span class="refpurpose"> — Calcule la surface des géométries de surface 3D. Retourne 0 pour les solides.</span></li><li><span class="refentrytitle"><a href="#CG_Volume">CG_Volume</a></span><span class="refpurpose"> — Calcule le volume d'un solide 3D. S'il est appliqué à des géométries de surface (même fermées), il renvoie 0.</span></li><li><span class="refentrytitle"><a href="#ST_ForceLHR">ST_ForceLHR</a></span><span class="refpurpose"> — Force l'orientation LHR d'un objet</span></li><li><span class="refentrytitle"><a href="#ST_IsPlanar">ST_IsPlanar</a></span><span class="refpurpose"> — Vérifie si une surface est planaire ou non</span></li><li><span class="refentrytitle"><a href="#ST_IsSolid">ST_IsSolid</a></span><span class="refpurpose"> — Teste si la géométrie est un solide. Aucun contrôle de validité n'est effectué.</span></li><li><span class="refentrytitle"><a href="#ST_MakeSolid">ST_MakeSolid</a></span><span class="refpurpose"> — Transformer la géométrie dans un solide. Aucune vérification n'est effectuée. Pour obtenir un solide valide, la géométrie d'entrée doit être une surface polyédrique fermée ou un TIN fermé.</span></li><li><span class="refentrytitle"><a href="#ST_Orientation">ST_Orientation</a></span><span class="refpurpose"> — Détermine l'orientation d'une surface</span></li><li><span class="refentrytitle"><a href="#ST_3DArea">ST_3DArea</a></span><span class="refpurpose"> — Calcule la surface des géométries de surface 3D. Retourne 0 pour les solides.</span></li><li><span class="refentrytitle"><a href="#ST_Volume">ST_Volume</a></span><span class="refpurpose"> — Calcule le volume d'un solide 3D. S'il est appliqué à des géométries de surface (même fermées), il renvoie 0.</span></li></ul></div><div class="refentry" id="CG_ForceLHR"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_ForceLHR — Force l'orientation LHR d'un objet</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_ForceLHR</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm21095"><h2>Description</h2><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div></div><div class="refentry" id="CG_IsPlanar"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_IsPlanar — Vérifie si une surface est planaire ou non</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">CG_IsPlanar</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm21126"><h2>Description</h2><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div></div><div class="refentry" id="CG_IsSolid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_IsSolid — Teste si la géométrie est un solide. Aucun contrôle de validité n'est effectué.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">CG_IsSolid</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21157"><h2>Description</h2><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div></div><div class="refentry" id="CG_MakeSolid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_MakeSolid — Transformer la géométrie dans un solide. Aucune vérification n'est effectuée. Pour obtenir un solide valide, la géométrie d'entrée doit être une surface polyédrique fermée ou un TIN fermé.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_MakeSolid</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21188"><h2>Description</h2><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div></div><div class="refentry" id="CG_Orientation"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Orientation — Détermine l'orientation d'une surface</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">CG_Orientation</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm21219"><h2>Description</h2><p>Cette fonction ne s'applique qu'aux polygones. Elle renvoie -1 si le polygone est orienté dans le sens inverse des aiguilles d'une montre et 1 s'il est orienté dans le sens des aiguilles d'une montre.</p><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div></div><div class="refentry" id="CG_Area"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Area — Calcule la surface d'une géométrie</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">CG_Area</strong>(</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm21243"><h2>Description</h2><p>Calcule la surface d'une géométrie.</p><p>Réalisé par le module SFCGAL</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE : cette fonction renvoie une valeur en double précision représentant la surface.</p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div><div class="refsection" id="idm21254"><h2>Exemples de géométrie</h2><pre class="programlisting">SELECT CG_Area('Polygon ((0 0, 0 5, 5 5, 5 0, 0 0), (1 1, 2 1, 2 2, 1 2, 1 1), (3 3, 4 3, 4 4, 3 4, 3 3))');
                cg_area
                --------
                25
                (1 row)</pre></div><div class="refsection" id="idm21257"><h2>Voir aussi</h2><p><a class="xref" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a>, <a class="xref" href="#ST_Area" title="ST_Area">ST_Area</a></p></div></div><div class="refentry" id="CG_3DArea"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_3DArea — Calcule la surface des géométries de surface 3D. Retourne 0 pour les solides.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float<strong class="fsfunc">CG_3DArea</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21274"><h2>Description</h2><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 8.1, 10.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm21297"><h2>Exemples</h2><p>Remarque : par défaut, une PolyhedralSurface construite à partir de WKT est une géométrie de surface, et non un solide. Elle possède donc une surface. Une fois convertie en solide, elle n'a plus de surface.</p><pre class="programlisting">SELECT CG_3DArea(geom) As cube_surface_area,
            CG_3DArea(CG_MakeSolid(geom)) As solid_surface_area
            FROM (SELECT 'POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
            ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)),
            ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
            ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
            ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),
            ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'::geometry) As f(geom);

            cube_surface_area | solid_surface_area
            -------------------+--------------------
            6 |                  0    </pre></div><div class="refsection" id="idm21301"><h2>Voir aussi</h2><p><a class="xref" href="#CG_Area" title="CG_Area">CG_Area</a>, <a class="xref" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a>, <a class="xref" href="#CG_IsSolid" title="CG_IsSolid">CG_IsSolid</a>, <a class="xref" href="#CG_Area" title="CG_Area">CG_Area</a></p></div></div><div class="refentry" id="CG_Volume"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Volume — Calcule le volume d'un solide 3D. S'il est appliqué à des géométries de surface (même fermées), il renvoie 0.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">CG_Volume</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21320"><h2>Description</h2><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 9.1 (same as CG_3DVolume)</p></div><div class="refsection" id="idm21343"><h2>Exemple</h2><p>When closed surfaces are created with WKT, they are treated as areal rather than solid. To make them solid, you need to use <a class="xref" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a>. Areal geometries have no volume. Here is an example to demonstrate.</p><pre class="programlisting">SELECT CG_Volume(geom) As cube_surface_vol,
    CG_Volume(CG_MakeSolid(geom)) As solid_surface_vol
    FROM (SELECT 'POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
    ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)),
    ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
    ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
    ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),
    ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'::geometry) As f(geom);

    cube_surface_vol | solid_surface_vol
    ------------------+-------------------
    0 |                 1
</pre></div><div class="refsection" id="idm21348"><h2>Voir aussi</h2><p><a class="xref" href="#CG_3DArea" title="CG_3DArea">CG_3DArea</a>, <a class="xref" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a>, <a class="xref" href="#CG_IsSolid" title="CG_IsSolid">CG_IsSolid</a></p></div></div><div class="refentry" id="ST_ForceLHR"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ForceLHR — Force l'orientation LHR d'un objet</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ForceLHR</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm21366"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_ForceLHR" title="ST_ForceLHR">ST_ForceLHR</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_ForceLHR" title="CG_ForceLHR">CG_ForceLHR</a> instead. </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div></div><div class="refentry" id="ST_IsPlanar"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsPlanar — Vérifie si une surface est planaire ou non</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsPlanar</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm21401"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_IsPlanar" title="ST_IsPlanar">ST_IsPlanar</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_IsPlanar" title="CG_IsPlanar">CG_IsPlanar</a> instead. </p></td></tr></table></div><p class="availability">Disponibilité : 2.2.0 : Ce point était documenté dans la version 2.1.0 mais a été accidentellement omis dans la version 2.1.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div></div><div class="refentry" id="ST_IsSolid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsSolid — Teste si la géométrie est un solide. Aucun contrôle de validité n'est effectué.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsSolid</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21436"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_IsSolid" title="ST_IsSolid">ST_IsSolid</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_IsSolid" title="CG_IsSolid">CG_IsSolid</a> instead. </p></td></tr></table></div><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div></div><div class="refentry" id="ST_MakeSolid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakeSolid — Transformer la géométrie dans un solide. Aucune vérification n'est effectuée. Pour obtenir un solide valide, la géométrie d'entrée doit être une surface polyédrique fermée ou un TIN fermé.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakeSolid</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21471"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a> instead. </p></td></tr></table></div><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div></div><div class="refentry" id="ST_Orientation"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Orientation — Détermine l'orientation d'une surface</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_Orientation</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm21506"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_Orientation" title="ST_Orientation">ST_Orientation</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_Orientation" title="CG_Orientation">CG_Orientation</a> instead. </p></td></tr></table></div><p>Cette fonction ne s'applique qu'aux polygones. Elle renvoie -1 si le polygone est orienté dans le sens inverse des aiguilles d'une montre et 1 s'il est orienté dans le sens des aiguilles d'une montre.</p><p class="availability">Disponibilité : 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div></div><div class="refentry" id="ST_3DArea"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DArea — Calcule la surface des géométries de surface 3D. Retourne 0 pour les solides.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float<strong class="fsfunc">ST_3DArea</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21534"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_3DArea" title="CG_3DArea">CG_3DArea</a> instead. </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 8.1, 10.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm21561"><h2>Exemples</h2><p>Remarque : par défaut, une PolyhedralSurface construite à partir de WKT est une géométrie de surface, et non un solide. Elle possède donc une surface. Une fois convertie en solide, elle n'a plus de surface.</p><pre class="programlisting">SELECT ST_3DArea(geom) As cube_surface_area,
            ST_3DArea(ST_MakeSolid(geom)) As solid_surface_area
            FROM (SELECT 'POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
            ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)),
            ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
            ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
            ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),
            ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'::geometry) As f(geom);

            cube_surface_area | solid_surface_area
            -------------------+--------------------
            6 |                  0    </pre></div><div class="refsection" id="idm21565"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Area" title="ST_Area">ST_Area</a>, <a class="xref" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a>, <a class="xref" href="#ST_IsSolid" title="ST_IsSolid">ST_IsSolid</a>, <a class="xref" href="#ST_Area" title="ST_Area">ST_Area</a></p></div></div><div class="refentry" id="ST_Volume"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Volume — Calcule le volume d'un solide 3D. S'il est appliqué à des géométries de surface (même fermées), il renvoie 0.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Volume</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21584"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_Volume" title="ST_Volume">ST_Volume</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_Volume" title="CG_Volume">CG_Volume</a> instead. </p></td></tr></table></div><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3 : 9.1 (identique à ST_3DVolume)</p></div><div class="refsection" id="idm21611"><h2>Exemple</h2><p>Lorsque des surfaces fermées sont créées avec WKT, elles sont traitées comme des surfaces aréolaires plutôt que comme des surfaces solides. Pour les rendre solides, vous devez utiliser <a class="xref" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a>. Les géométries aréolaires n'ont pas de volume. Voici un exemple pour le démontrer.</p><pre class="programlisting">SELECT ST_Volume(geom) As cube_surface_vol,
    ST_Volume(ST_MakeSolid(geom)) As solid_surface_vol
    FROM (SELECT 'POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
    ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)),
    ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
    ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
    ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),
    ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'::geometry) As f(geom);

    cube_surface_vol | solid_surface_vol
    ------------------+-------------------
    0 |                 1
</pre></div><div class="refsection" id="idm21616"><h2>Voir aussi</h2><p><a class="xref" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a>, <a class="xref" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a>, <a class="xref" href="#ST_IsSolid" title="ST_IsSolid">ST_IsSolid</a></p></div></div></section><section class="section" id="sfcgal_processing"><div class="titlepage"><div><div><h2 class="title" style="clear: both">8.3. Fonctions de traitement et de relation SFCGAL</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#CG_Intersection">CG_Intersection</a></span><span class="refpurpose"> — Calcul l'intersection de deux géométries</span></li><li><span class="refentrytitle"><a href="#CG_Intersects">CG_Intersects</a></span><span class="refpurpose"> — Teste si deux géométries se croisent (elles ont au moins un point en commun)</span></li><li><span class="refentrytitle"><a href="#CG_3DIntersects">CG_3DIntersects</a></span><span class="refpurpose"> — Teste si deux géométries 3D intersectent</span></li><li><span class="refentrytitle"><a href="#CG_Difference">CG_Difference</a></span><span class="refpurpose"> — Calcul la différence géométrique entre deux géométries</span></li><li><span class="refentrytitle"><a href="#ST_3DDifference">ST_3DDifference</a></span><span class="refpurpose"> — Effectuer une différence 3D</span></li><li><span class="refentrytitle"><a href="#CG_3DDifference">CG_3DDifference</a></span><span class="refpurpose"> — Effectuer une différence 3D</span></li><li><span class="refentrytitle"><a href="#CG_Distance">CG_Distance</a></span><span class="refpurpose"> — Calcule la distance minimale entre deux géométries</span></li><li><span class="refentrytitle"><a href="#CG_3DDistance">CG_3DDistance</a></span><span class="refpurpose"> — Calcule la distance 3D minimale entre deux géométries</span></li><li><span class="refentrytitle"><a href="#ST_3DConvexHull">ST_3DConvexHull</a></span><span class="refpurpose"> — Calcule l'enveloppe convexe 3D d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#CG_3DConvexHull">CG_3DConvexHull</a></span><span class="refpurpose"> — Calcule l'enveloppe convexe 3D d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#ST_3DIntersection">ST_3DIntersection</a></span><span class="refpurpose"> — Réaliser une intersection 3D</span></li><li><span class="refentrytitle"><a href="#CG_3DIntersection">CG_3DIntersection</a></span><span class="refpurpose"> — Réaliser une intersection 3D</span></li><li><span class="refentrytitle"><a href="#CG_Union">CG_Union</a></span><span class="refpurpose"> — Calcule l'union de deux géométries</span></li><li><span class="refentrytitle"><a href="#ST_3DUnion">ST_3DUnion</a></span><span class="refpurpose"> — Effectuer l'union 3D.</span></li><li><span class="refentrytitle"><a href="#CG_3DUnion">CG_3DUnion</a></span><span class="refpurpose"> — Perform 3D union using postgis_sfcgal.</span></li><li><span class="refentrytitle"><a href="#ST_AlphaShape">ST_AlphaShape</a></span><span class="refpurpose"> — Calcul d'une forme Alpha entourant une géométrie</span></li><li><span class="refentrytitle"><a href="#CG_AlphaShape">CG_AlphaShape</a></span><span class="refpurpose"> — Calcul d'une forme Alpha entourant une géométrie</span></li><li><span class="refentrytitle"><a href="#CG_ApproxConvexPartition">CG_ApproxConvexPartition</a></span><span class="refpurpose"> — Calcul de la partition convexe approximative de la géométrie du polygone</span></li><li><span class="refentrytitle"><a href="#ST_ApproximateMedialAxis">ST_ApproximateMedialAxis</a></span><span class="refpurpose"> — Calculer l'axe médian approximatif d'une géométrie aréolaire.</span></li><li><span class="refentrytitle"><a href="#CG_ApproximateMedialAxis">CG_ApproximateMedialAxis</a></span><span class="refpurpose"> — Calculer l'axe médian approximatif d'une géométrie aréolaire.</span></li><li><span class="refentrytitle"><a href="#ST_ConstrainedDelaunayTriangles">ST_ConstrainedDelaunayTriangles</a></span><span class="refpurpose"> — Renvoie une triangulation de Delaunay contrainte autour de la géométrie d'entrée donnée. </span></li><li><span class="refentrytitle"><a href="#CG_ConstrainedDelaunayTriangles">CG_ConstrainedDelaunayTriangles</a></span><span class="refpurpose"> — Renvoie une triangulation de Delaunay contrainte autour de la géométrie d'entrée donnée. </span></li><li><span class="refentrytitle"><a href="#ST_Extrude">ST_Extrude</a></span><span class="refpurpose"> — Extruder une surface vers un volume</span></li><li><span class="refentrytitle"><a href="#CG_Extrude">CG_Extrude</a></span><span class="refpurpose"> — Extruder une surface vers un volume</span></li><li><span class="refentrytitle"><a href="#CG_ExtrudeStraightSkeleton">CG_ExtrudeStraightSkeleton</a></span><span class="refpurpose"> — Extrusion de squelette droit</span></li><li><span class="refentrytitle"><a href="#CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a></span><span class="refpurpose"> — Calcul de la partition convexe approximative de la géométrie du polygone</span></li><li><span class="refentrytitle"><a href="#ST_MinkowskiSum">ST_MinkowskiSum</a></span><span class="refpurpose"> — Effectue la somme de Minkowski</span></li><li><span class="refentrytitle"><a href="#CG_MinkowskiSum">CG_MinkowskiSum</a></span><span class="refpurpose"> — Effectue la somme de Minkowski</span></li><li><span class="refentrytitle"><a href="#ST_OptimalAlphaShape">ST_OptimalAlphaShape</a></span><span class="refpurpose"> — Calcule une forme alpha entourant une géométrie en utilisant une valeur alpha "optimale".</span></li><li><span class="refentrytitle"><a href="#CG_OptimalAlphaShape">CG_OptimalAlphaShape</a></span><span class="refpurpose"> — Calcule une forme alpha entourant une géométrie en utilisant une valeur alpha "optimale".</span></li><li><span class="refentrytitle"><a href="#CG_OptimalConvexPartition">CG_OptimalConvexPartition</a></span><span class="refpurpose"> — Calcul d'une partition convexe optimale de la géométrie du polygone</span></li><li><span class="refentrytitle"><a href="#CG_StraightSkeleton">CG_StraightSkeleton</a></span><span class="refpurpose"> — Calcule un squelette (straight skeleton) à partir d'une géométrie</span></li><li><span class="refentrytitle"><a href="#ST_StraightSkeleton">ST_StraightSkeleton</a></span><span class="refpurpose"> — Calcule un squelette (straight skeleton) à partir d'une géométrie</span></li><li><span class="refentrytitle"><a href="#ST_Tesselate">ST_Tesselate</a></span><span class="refpurpose"> — Effectue la tessellation de la surface d'un polygone ou d'une surface polyédrique et renvoie un TIN ou une collection de TINS</span></li><li><span class="refentrytitle"><a href="#CG_Tesselate">CG_Tesselate</a></span><span class="refpurpose"> — Effectue la tessellation de la surface d'un polygone ou d'une surface polyédrique et renvoie un TIN ou une collection de TINS</span></li><li><span class="refentrytitle"><a href="#CG_Triangulate">CG_Triangulate</a></span><span class="refpurpose"> — Triangule une géométrie polygonale</span></li><li><span class="refentrytitle"><a href="#CG_Visibility">CG_Visibility</a></span><span class="refpurpose"> — Calculer un polygone de visibilité à partir d'un point ou d'un segment dans une géométrie polygonale</span></li><li><span class="refentrytitle"><a href="#CG_YMonotonePartition">CG_YMonotonePartition</a></span><span class="refpurpose"> — Calcul de la partition y-monotone de la géométrie du polygone</span></li></ul></div><div class="refentry" id="CG_Intersection"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Intersection — Calcul l'intersection de deux géométries</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_Intersection</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm21639"><h2>Description</h2><p>Calcule l'intersection de deux géométries.</p><p>Réalisé par le module SFCGAL</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE : cette fonction renvoie une géométrie représentant l'intersection.</p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div><div class="refsection" id="idm21650"><h2>Exemples de géométrie</h2><pre class="programlisting">SELECT ST_AsText(CG_Intersection('LINESTRING(0 0, 5 5)', 'LINESTRING(5 0, 0 5)'));
                cg_intersection
                -----------------
                POINT(2.5 2.5)
                (1 row)</pre></div><div class="refsection" id="idm21653"><h2>Voir aussi</h2><p><a class="xref" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a>, <a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a></p></div></div><div class="refentry" id="CG_Intersects"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Intersects — Teste si deux géométries se croisent (elles ont au moins un point en commun)</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">CG_Intersects</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm21673"><h2>Description</h2><p>Renvoie <code class="varname">true</code> si deux géométries se croisent. Les géométries se croisent si elles ont un point commun. </p><p>Réalisé par le module SFCGAL</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE : il s'agit de la version "autorisée" qui renvoie un booléen et non un entier.</p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm21689"><h2>Exemples de géométrie</h2><pre class="programlisting">SELECT CG_Intersects('POINT(0 0)'::geometry, 'LINESTRING ( 2 0, 0 2 )'::geometry);
    cg_intersects
    ---------------
    f
    (1 row)
    SELECT CG_Intersects('POINT(0 0)'::geometry, 'LINESTRING ( 0 0, 0 2 )'::geometry);
    cg_intersects
    ---------------
    t
    (1 row)
</pre></div><div class="refsection" id="idm21692"><h2>Voir aussi</h2><p><a class="xref" href="#CG_3DIntersects" title="CG_3DIntersects">CG_3DIntersects</a>, <a class="xref" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a></p></div></div><div class="refentry" id="CG_3DIntersects"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_3DIntersects — Teste si deux géométries 3D intersectent</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">CG_3DIntersects</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm21714"><h2>Description</h2><p>Teste si deux géométries 3D intersectent. Les géométries 3D intersectent si elles ont au moins un point commun dans l'espace tridimensionnel.</p><p>Réalisé par le module SFCGAL</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE : il s'agit de la version "autorisée" qui renvoie un booléen et non un entier.</p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm21729"><h2>Exemples de géométrie</h2><pre class="programlisting">SELECT CG_3DIntersects('POINT(1.2 0.1 0)','POLYHEDRALSURFACE(((0 0 0,0.5 0.5 0,1 0 0,1 1 0,0 1 0,0 0 0)),((1 0 0,2 0 0,2 1 0,1 1 0,1 0 0),(1.2 0.2 0,1.2 0.8 0,1.8 0.8 0,1.8 0.2 0,1.2 0.2 0)))');
        cg_3dintersects
        ---------------
        t
        (1 row)
    </pre></div><div class="refsection" id="idm21732"><h2>Voir aussi</h2><p><a class="xref" href="#CG_Intersects" title="CG_Intersects">CG_Intersects</a>, <a class="xref" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a></p></div></div><div class="refentry" id="CG_Difference"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Difference — Calcul la différence géométrique entre deux géométries</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_Difference</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm21754"><h2>Description</h2><p>Calcule la différence géométrique entre deux géométries. La géométrie résultante est un ensemble de points présents dans la géométrie A mais pas dans la géométrie B.</p><p>Réalisé par le module SFCGAL</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE : cette fonction renvoie une géométrie.</p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm21769"><h2>Exemples de géométrie</h2><pre class="programlisting">SELECT ST_AsText(CG_Difference('POLYGON((0 0, 0 1, 1 1, 1 0, 0 0))'::geometry, 'LINESTRING(0 0, 2 2)'::geometry));
    cg_difference
    ---------------
    POLYGON((0 0,1 0,1 1,0 1,0 0))
    (1 row)</pre></div><div class="refsection" id="idm21772"><h2>Voir aussi</h2><p><a class="xref" href="#ST_3DDifference" title="ST_3DDifference">ST_3DDifference</a>, <a class="xref" href="#ST_Difference" title="ST_Difference">ST_Difference</a></p></div></div><div class="refentry" id="ST_3DDifference"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DDifference — Effectuer une différence 3D</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DDifference</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p></div></div><div class="refsection" id="idm21792"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_3DDifference" title="ST_3DDifference">ST_3DDifference</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_3DDifference" title="CG_3DDifference">CG_3DDifference</a> instead. </p></td></tr></table></div><p>Renvoie la partie de geom1 qui ne fait pas partie de geom2.</p><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div></div><div class="refentry" id="CG_3DDifference"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_3DDifference — Effectuer une différence 3D</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_3DDifference</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p></div></div><div class="refsection" id="idm21835"><h2>Description</h2><p>Renvoie la partie de geom1 qui ne fait pas partie de geom2.</p><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm21859"><h2>Exemples</h2><p>Les images 3D ont été générées à l'aide de PostGIS <a class="xref" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a> et rendues en HTML à l'aide de <a class="link" href="http://www.x3dom.org" target="_top">X3Dom HTML Javascript rendering library</a>.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
                                </p><pre class="programlisting">SELECT CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                                50, 'quad_segs=2'),0,0,30) AS geom1,
                                CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(80 80)'),
                                50, 'quad_segs=1'),0,0,30) AS geom2;
                            </pre><p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_3ddifference01.png"/><div class="caption"><p>Géométries 3D originales superposées. geom2 est la partie qui sera retirée.</p></div></div></div>
                    </td><td><p>
                            </p><pre class="programlisting">SELECT CG_3DDifference(geom1,geom2)
                            FROM ( SELECT CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                            50, 'quad_segs=2'),0,0,30) AS geom1,
                            CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(80 80)'),
                            50, 'quad_segs=1'),0,0,30) AS geom2 ) As t;</pre><p>
                        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_3ddifference02.png"/><div class="caption"><p>Ce qui reste après la suppression de geom2</p></div></div></div>
                </td></tr></tbody></table></div></div><div class="refsection" id="idm21886"><h2>Voir aussi</h2><p><a class="xref" href="#CG_Extrude" title="CG_Extrude">CG_Extrude</a>, <a class="xref" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a>, <a class="xref" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a> <a class="xref" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a> </p></div></div><div class="refentry" id="CG_Distance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Distance — Calcule la distance minimale entre deux géométries</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">CG_Distance</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm21908"><h2>Description</h2><p>Calcule la distance minimale entre deux géométries.</p><p>Réalisé par le module SFCGAL</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE : cette fonction renvoie une valeur double précision représentant la distance.</p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm21923"><h2>Exemples de géométrie</h2><pre class="programlisting">SELECT CG_Distance('LINESTRING(0.0 0.0,-1.0 -1.0)', 'LINESTRING(3.0 4.0,4.0 5.0)');
        cg_distance
        -------------
        2.0
        (1 row)</pre></div><div class="refsection" id="idm21926"><h2>Voir aussi</h2><p><a class="xref" href="#CG_3DDistance" title="CG_3DDistance">CG_3DDistance</a>, <a class="xref" href="#CG_Distance" title="CG_Distance">CG_Distance</a></p></div></div><div class="refentry" id="CG_3DDistance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_3DDistance — Calcule la distance 3D minimale entre deux géométries</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">CG_3DDistance</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm21946"><h2>Description</h2><p>Calcule la distance 3D minimale entre deux géométries.</p><p>Réalisé par le module SFCGAL</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE : cette fonction renvoie une valeur double précision représentant la distance 3D.</p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm21961"><h2>Exemples de géométrie</h2><pre class="programlisting">SELECT CG_3DDistance('LINESTRING(-1.0 0.0 2.0,1.0 0.0 3.0)', 'TRIANGLE((-4.0 0.0 1.0,4.0 0.0 1.0,0.0 4.0 1.0,-4.0 0.0 1.0))');
        cg_3ddistance
        ----------------
        1
        (1 row)</pre></div><div class="refsection" id="idm21964"><h2>Voir aussi</h2><p><a class="xref" href="#CG_Distance" title="CG_Distance">CG_Distance</a>, <a class="xref" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a></p></div></div><div class="refentry" id="ST_3DConvexHull"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DConvexHull — Calcule l'enveloppe convexe 3D d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DConvexHull</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21981"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_3DConvexHull" title="ST_3DConvexHull">ST_3DConvexHull</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_3DConvexHull" title="CG_3DConvexHull">CG_3DConvexHull</a> instead. </p></td></tr></table></div><p class="availability">Disponibilité : 3.3.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div></div><div class="refentry" id="CG_3DConvexHull"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_3DConvexHull — Calcule l'enveloppe convexe 3D d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_3DConvexHull</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm22016"><h2>Description</h2><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm22035"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(CG_3DConvexHull('LINESTRING Z(0 0 5, 1 5 3, 5 7 6, 9 5 3 , 5 7 5, 6 3 5)'::geometry));</pre><pre class="screen">POLYHEDRALSURFACE Z (((1 5 3,9 5 3,0 0 5,1 5 3)),((1 5 3,0 0 5,5 7 6,1 5 3)),((5 7 6,5 7 5,1 5 3,5 7 6)),((0 0 5,6 3 5,5 7 6,0 0 5)),((6 3 5,9 5 3,5 7 6,6 3 5)),((0 0 5,9 5 3,6 3 5,0 0 5)),((9 5 3,5 7 5,5 7 6,9 5 3)),((1 5 3,5 7 5,9 5 3,1 5 3)))</pre><pre class="programlisting">WITH f AS (SELECT i, CG_Extrude(geom, 0,0, i ) AS geom
        FROM ST_Subdivide(ST_Letters('CH'),5) WITH ORDINALITY AS sd(geom,i)
        )
        SELECT CG_3DConvexHull(ST_Collect(f.geom) )
        FROM f;</pre><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_3dconvexhull.png"/><div class="caption"><p>Géométrie originale superposée à l'enveloppe convexe 3D</p></div></div></div><p>
    </p></div><div class="refsection" id="idm22047"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Letters" title="ST_Letters">ST_Letters</a>, <a class="xref" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a></p></div></div><div class="refentry" id="ST_3DIntersection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DIntersection — Réaliser une intersection 3D</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DIntersection</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p></div></div><div class="refsection" id="idm22067"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a> instead. </p></td></tr></table></div><p>Renvoie une géométrie qui est la partie partagée entre geom1 et geom2.</p><p class="availability">Disponibilité : 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div></div><div class="refentry" id="CG_3DIntersection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_3DIntersection — Réaliser une intersection 3D</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_3DIntersection</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p></div></div><div class="refsection" id="idm22110"><h2>Description</h2><p>Renvoie une géométrie qui est la partie partagée entre geom1 et geom2.</p><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm22134"><h2>Exemples</h2><p>Les images 3D ont été générées à l'aide de PostGIS <a class="xref" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a> et rendues en HTML à l'aide de <a class="link" href="http://www.x3dom.org" target="_top">X3Dom HTML Javascript rendering library</a>.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
                                    </p><pre class="programlisting">SELECT CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                                    50, 'quad_segs=2'),0,0,30) AS geom1,
                                    CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(80 80)'),
                                    50, 'quad_segs=1'),0,0,30) AS geom2;
                                </pre><p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_3ddifference01.png"/><div class="caption"><p>Géométries 3D originales superposées. geom2 est représentée en semi-transparence</p></div></div></div>
                        </td><td><p>
                                </p><pre class="programlisting">SELECT CG_3DIntersection(geom1,geom2)
                                FROM ( SELECT CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                                50, 'quad_segs=2'),0,0,30) AS geom1,
                                CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(80 80)'),
                                50, 'quad_segs=1'),0,0,30) AS geom2 ) As t;</pre><p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_3dintersection01.png"/><div class="caption"><p>Intersection de geom1 et geom2</p></div></div></div>
                    </td></tr></tbody></table></div><p>Lignes et polygones en 3D</p><pre class="programlisting">SELECT ST_AsText(CG_3DIntersection(linestring, polygon)) As wkt
    FROM  ST_GeomFromText('LINESTRING Z (2 2 6,1.5 1.5 7,1 1 8,0.5 0.5 8,0 0 10)') AS linestring
    CROSS JOIN ST_GeomFromText('POLYGON((0 0 8, 0 1 8, 1 1 8, 1 0 8, 0 0 8))') AS polygon;

    wkt
    --------------------------------
    LINESTRING Z (1 1 8,0.5 0.5 8)
</pre><p>Cube (surface polyédrique fermée) et polygone Z</p><pre class="programlisting">SELECT ST_AsText(CG_3DIntersection(
ST_GeomFromText('POLYHEDRALSURFACE Z( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'),
'POLYGON Z ((0 0 0, 0 0 0.5, 0 0.5 0.5, 0 0.5 0, 0 0 0))'::geometry))</pre><pre class="screen">TIN Z (((0 0 0,0 0 0.5,0 0.5 0.5,0 0 0)),((0 0.5 0,0 0 0,0 0.5 0.5,0 0.5 0)))</pre><p>L'intersection de 2 solides qui résulte en une intersection volumétrique est également un solide (ST_Dimension renvoie 3)</p><pre class="programlisting">SELECT ST_AsText(CG_3DIntersection( CG_Extrude(ST_Buffer('POINT(10 20)'::geometry,10,1),0,0,30),
            CG_Extrude(ST_Buffer('POINT(10 20)'::geometry,10,1),2,0,10) ));</pre><pre class="screen">POLYHEDRALSURFACE Z (((13.3333333333333 13.3333333333333 10,20 20 0,20 20 10,13.3333333333333 13.3333333333333 10)),
        ((20 20 10,16.6666666666667 23.3333333333333 10,13.3333333333333 13.3333333333333 10,20 20 10)),
        ((20 20 0,16.6666666666667 23.3333333333333 10,20 20 10,20 20 0)),
        ((13.3333333333333 13.3333333333333 10,10 10 0,20 20 0,13.3333333333333 13.3333333333333 10)),
        ((16.6666666666667 23.3333333333333 10,12 28 10,13.3333333333333 13.3333333333333 10,16.6666666666667 23.3333333333333 10)),
        ((20 20 0,9.99999999999995 30 0,16.6666666666667 23.3333333333333 10,20 20 0)),
        ((10 10 0,9.99999999999995 30 0,20 20 0,10 10 0)),((13.3333333333333 13.3333333333333 10,12 12 10,10 10 0,13.3333333333333 13.3333333333333 10)),
        ((12 28 10,12 12 10,13.3333333333333 13.3333333333333 10,12 28 10)),
        ((16.6666666666667 23.3333333333333 10,9.99999999999995 30 0,12 28 10,16.6666666666667 23.3333333333333 10)),
        ((10 10 0,0 20 0,9.99999999999995 30 0,10 10 0)),
        ((12 12 10,11 11 10,10 10 0,12 12 10)),((12 28 10,11 11 10,12 12 10,12 28 10)),
        ((9.99999999999995 30 0,11 29 10,12 28 10,9.99999999999995 30 0)),((0 20 0,2 20 10,9.99999999999995 30 0,0 20 0)),
        ((10 10 0,2 20 10,0 20 0,10 10 0)),((11 11 10,2 20 10,10 10 0,11 11 10)),((12 28 10,11 29 10,11 11 10,12 28 10)),
        ((9.99999999999995 30 0,2 20 10,11 29 10,9.99999999999995 30 0)),((11 11 10,11 29 10,2 20 10,11 11 10)))</pre></div></div><div class="refentry" id="CG_Union"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Union — Calcule l'union de deux géométries</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_Union</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm22184"><h2>Description</h2><p>Calcule l'union de deux géométries.</p><p>Réalisé par le module SFCGAL</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE : cette fonction renvoie une géométrie représentant l'union.</p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div><div class="refsection" id="idm22195"><h2>Exemples de géométrie</h2><pre class="programlisting">SELECT CG_Union('POINT(.5 0)', 'LINESTRING(-1 0,1 0)');
                cg_union
                -----------
                LINESTRING(-1 0,0.5 0,1 0)
                (1 row)</pre></div><div class="refsection" id="idm22198"><h2>Voir aussi</h2><p><a class="xref" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a></p></div></div><div class="refentry" id="ST_3DUnion"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DUnion — Effectuer l'union 3D.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DUnion</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DUnion</strong>(</code>geometry set <var class="pdparam">g1field</var><code>)</code>;</p></div></div><div class="refsection" id="idm22224"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a> instead. </p></td></tr></table></div><p class="availability">Disponibilité : 2.2.0</p><p class="availability">Disponibilité : 3.3.0 la variante agrégée a été ajoutée</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p><span class="bold"><strong>Variante agrégée:</strong></span> renvoie une géométrie qui est l'union 3D d'un ensemble de géométries. La fonction ST_3DUnion() est une fonction "agrégée" dans la terminologie de PostgreSQL. Cela signifie qu'elle opère sur des lignes de données, de la même manière que les fonctions SUM() et AVG() et, comme la plupart des agrégats, elle ignore les géométries NULL. </p></div></div><div class="refentry" id="CG_3DUnion"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_3DUnion — Perform 3D union using postgis_sfcgal.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_3DUnion</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">CG_3DUnion</strong>(</code>geometry set <var class="pdparam">g1field</var><code>)</code>;</p></div></div><div class="refsection" id="idm22275"><h2>Description</h2><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM IEC 13249-3: 5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p><p><span class="bold"><strong>Aggregate variant:</strong></span> returns a geometry that is the 3D union of a rowset of geometries. The CG_3DUnion() function is an "aggregate" function in the terminology of PostgreSQL. That means that it operates on rows of data, in the same way the SUM() and AVG() functions do and like most aggregates, it also ignores NULL geometries. </p></div><div class="refsection" id="idm22300"><h2>Exemples</h2><p>Les images 3D ont été générées à l'aide de PostGIS <a class="xref" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a> et rendues en HTML à l'aide de <a class="link" href="http://www.x3dom.org" target="_top">X3Dom HTML Javascript rendering library</a>.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
                                    </p><pre class="programlisting">SELECT CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                                    50, 'quad_segs=2'),0,0,30) AS geom1,
                                    CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(80 80)'),
                                    50, 'quad_segs=1'),0,0,30) AS geom2;
                                </pre><p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_3ddifference01.png"/><div class="caption"><p>Géométries 3D originales superposées. geom2 est celle qui est transparente.</p></div></div></div>
                        </td><td><p>
                                </p><pre class="programlisting">SELECT CG_3DUnion(geom1,geom2)
                                FROM ( SELECT CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                                50, 'quad_segs=2'),0,0,30) AS geom1,
                                CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(80 80)'),
                                50, 'quad_segs=1'),0,0,30) AS geom2 ) As t;</pre><p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_3dunion01.png"/><div class="caption"><p>Union de geom1 et geom2</p></div></div></div>
                    </td></tr></tbody></table></div></div><div class="refsection" id="idm22327"><h2>Voir aussi</h2><p><a class="xref" href="#CG_Extrude" title="CG_Extrude">CG_Extrude</a>, <a class="xref" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a>, <a class="xref" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a> <a class="xref" href="#CG_3DDifference" title="CG_3DDifference">CG_3DDifference</a> </p></div></div><div class="refentry" id="ST_AlphaShape"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AlphaShape — Calcul d'une forme Alpha entourant une géométrie</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_AlphaShape</strong>(</code>geometry <var class="pdparam">geom</var>, float  <var class="pdparam">alpha</var>, boolean  <var class="pdparam">allow_holes = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm22352"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_AlphaShape" title="ST_AlphaShape">ST_AlphaShape</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_AlphaShape" title="CG_AlphaShape">CG_AlphaShape</a> instead. </p></td></tr></table></div><p>Calcule la <a class="link" href="https://en.wikipedia.org/wiki/Alpha_shape" target="_top">forme alpha</a> des points d'une géométrie. Une forme alpha est une géométrie polygonale (généralement) concave qui contient tous les sommets de l'entrée et dont les sommets sont un sous-ensemble des sommets de l'entrée. Une forme alpha permet de se rapprocher davantage de la forme de l'entrée que la forme produite par l' <a class="link" href="#ST_ConvexHull" title="ST_ConvexHull">enveloppe convexe</a>. </p></div></div><div class="refentry" id="CG_AlphaShape"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_AlphaShape — Calcul d'une forme Alpha entourant une géométrie</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_AlphaShape</strong>(</code>geometry <var class="pdparam">geom</var>, float  <var class="pdparam">alpha</var>, boolean  <var class="pdparam">allow_holes = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm22379"><h2>Description</h2><p>Calcule la <a class="link" href="https://en.wikipedia.org/wiki/Alpha_shape" target="_top">forme alpha</a> des points d'une géométrie. Une forme alpha est une géométrie polygonale (généralement) concave qui contient tous les sommets de l'entrée et dont les sommets sont un sous-ensemble des sommets de l'entrée. Une forme alpha permet de se rapprocher davantage de la forme de l'entrée que la forme produite par l' <a class="link" href="#ST_ConvexHull" title="ST_ConvexHull">enveloppe convexe</a>. </p><p>La "proximité de l'ajustement" est contrôlée par le paramètre <code class="varname">alpha</code>, qui peut prendre des valeurs comprises entre 0 et l'infini. Des valeurs alpha plus petites produisent des résultats plus concaves. Les valeurs alpha supérieures à une certaine valeur dépendant des données produisent l'enveloppe convexe de l'entrée. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Conformément à l'implémentation du CGAL, la valeur alpha est le <span class="emphasis"><em>carré</em></span> du rayon du disque utilisé dans l'algorithme Alpha-Shape pour "éroder" la triangulation de Delaunay des points d'entrée. Voir <a class="link" href="https://doc.cgal.org/latest/Alpha_shapes_2/index.html#Chapter_2D_Alpha_Shapes" target="_top">CGAL Alpha-Shapes</a> pour plus d'informations. Cela diffère de la définition originale des formes alpha, qui définit alpha comme le rayon du disque d'érosion. </p></td></tr></table></div><p>La forme calculée ne contient pas de trous, sauf si l'argument facultatif <code class="varname">allow_holes</code> est spécifié comme true. </p><p>Cette fonction calcule effectivement une enveloppe concave d'une géométrie d'une manière similaire à <a class="xref" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>, mais utilise CGAL et un algorithme différent. </p><p class="availability">Availability: 3.5.0 - requires SFCGAL &gt;= 1.4.1.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div><div class="refsection" id="idm22399"><h2>Exemples</h2><p>
            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_alphashape01.png"/><div class="caption"><p>Alpha-shape of a MultiPoint (same example As <a class="xref" href="#CG_OptimalAlphaShape" title="CG_OptimalAlphaShape">CG_OptimalAlphaShape</a>)</p></div></div></div><p>
            </p><pre class="programlisting">SELECT ST_AsText(CG_AlphaShape('MULTIPOINT((63 84),(76 88),(68 73),(53 18),(91 50),(81 70),
            (88 29),(24 82),(32 51),(37 23),(27 54),(84 19),(75 87),(44 42),(77 67),(90 30),(36 61),(32 65),
            (81 47),(88 58),(68 73),(49 95),(81 60),(87 50),
            (78 16),(79 21),(30 22),(78 43),(26 85),(48 34),(35 35),(36 40),(31 79),(83 29),(27 84),(52 98),(72 95),(85 71),
            (75 84),(75 77),(81 29),(77 73),(41 42),(83 72),(23 36),(89 53),(27 57),(57 97),(27 77),(39 88),(60 81),
            (80 72),(54 32),(55 26),(62 22),(70 20),(76 27),(84 35),(87 42),(82 54),(83 64),(69 86),(60 90),(50 86),(43 80),(36 73),
            (36 68),(40 75),(24 67),(23 60),(26 44),(28 33),(40 32),(43 19),(65 16),(73 16),(38 46),(31 59),(34 86),(45 90),(64 97))'::geometry,80.2));</pre><p>
        </p><pre class="screen">POLYGON((89 53,91 50,87 42,90 30,88 29,84 19,78 16,73 16,65 16,53 18,43 19,
        37 23,30 22,28 33,23 36,26 44,27 54,23 60,24 67,27 77,
        24 82,26 85,34 86,39 88,45 90,49 95,52 98,57 97,
        64 97,72 95,76 88,75 84,83 72,85 71,88 58,89 53))</pre><p>
</p><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_alphashape02.png"/><div class="caption"><p>Alpha-shape of a MultiPoint, allowing holes (same example as <a class="xref" href="#CG_OptimalAlphaShape" title="CG_OptimalAlphaShape">CG_OptimalAlphaShape</a>)</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_AsText(CG_AlphaShape('MULTIPOINT((63 84),(76 88),(68 73),(53 18),(91 50),(81 70),(88 29),(24 82),(32 51),(37 23),(27 54),(84 19),(75 87),(44 42),(77 67),(90 30),(36 61),(32 65),(81 47),(88 58),(68 73),(49 95),(81 60),(87 50),
    (78 16),(79 21),(30 22),(78 43),(26 85),(48 34),(35 35),(36 40),(31 79),(83 29),(27 84),(52 98),(72 95),(85 71),
    (75 84),(75 77),(81 29),(77 73),(41 42),(83 72),(23 36),(89 53),(27 57),(57 97),(27 77),(39 88),(60 81),
    (80 72),(54 32),(55 26),(62 22),(70 20),(76 27),(84 35),(87 42),(82 54),(83 64),(69 86),(60 90),(50 86),(43 80),(36 73),
    (36 68),(40 75),(24 67),(23 60),(26 44),(28 33),(40 32),(43 19),(65 16),(73 16),(38 46),(31 59),(34 86),(45 90),(64 97))'::geometry, 100.1,true))</pre><p>
</p><pre class="screen">POLYGON((89 53,91 50,87 42,90 30,84 19,78 16,73 16,65 16,53 18,43 19,30 22,28 33,23 36,
26 44,27 54,23 60,24 67,27 77,24 82,26 85,34 86,39 88,45 90,49 95,52 98,57 97,64 97,72 95,
76 88,75 84,83 72,85 71,88 58,89 53),(36 61,36 68,40 75,43 80,60 81,68 73,77 67,
81 60,82 54,81 47,78 43,76 27,62 22,54 32,44 42,38 46,36 61))</pre><p>
            </p><p>
                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_alphashape03.png"/><div class="caption"><p>Forme alpha d'un MultiPoint, autorisant les trous (même exemple que <a class="xref" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(CG_AlphaShape(
                'MULTIPOINT ((132 64), (114 64), (99 64), (81 64), (63 64), (57 49), (52 36), (46 20), (37 20), (26 20), (32 36), (39 55), (43 69), (50 84), (57 100), (63 118), (68 133), (74 149), (81 164), (88 180), (101 180), (112 180), (119 164), (126 149), (132 131), (139 113), (143 100), (150 84), (157 69), (163 51), (168 36), (174 20), (163 20), (150 20), (143 36), (139 49), (132 64), (99 151), (92 138), (88 124), (81 109), (74 93), (70 82), (83 82), (99 82), (112 82), (126 82), (121 96), (114 109), (110 122), (103 138), (99 151), (34 27), (43 31), (48 44), (46 58), (52 73), (63 73), (61 84), (72 71), (90 69), (101 76), (123 71), (141 62), (166 27), (150 33), (159 36), (146 44), (154 53), (152 62), (146 73), (134 76), (143 82), (141 91), (130 98), (126 104), (132 113), (128 127), (117 122), (112 133), (119 144), (108 147), (119 153), (110 171), (103 164), (92 171), (86 160), (88 142), (79 140), (72 124), (83 131), (79 118), (68 113), (63 102), (68 93), (35 45))'::geometry,102.2, true));</pre><p>
            </p><pre class="screen">POLYGON((26 20,32 36,35 45,39 55,43 69,50 84,57 100,63 118,68 133,74 149,81 164,88 180,
            101 180,112 180,119 164,126 149,132 131,139 113,143 100,150 84,157 69,163 51,168 36,
            174 20,163 20,150 20,143 36,139 49,132 64,114 64,99 64,90 69,81 64,63 64,57 49,52 36,46 20,37 20,26 20),
            (74 93,81 109,88 124,92 138,103 138,110 122,114 109,121 96,112 82,99 82,83 82,74 93))</pre><p>
    </p></div><div class="refsection" id="idm22431"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>, <a class="xref" href="#CG_OptimalAlphaShape" title="CG_OptimalAlphaShape">CG_OptimalAlphaShape</a></p></div></div><div class="refentry" id="CG_ApproxConvexPartition"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_ApproxConvexPartition — Calcul de la partition convexe approximative de la géométrie du polygone</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_ApproxConvexPartition</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm22448"><h2>Description</h2><p>Calcule la partition convexe approximative de la géométrie du polygone (à l'aide d'une triangulation). </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Une partition d'un polygone P est un ensemble de polygones tels que les intérieurs des polygones ne se coupent pas et que l'union des polygones est égale à l'intérieur du polygone original P. Les fonctions CG_ApproxConvexPartition et CG_GreeneApproxConvexPartition produisent des partitions convexes approximativement optimales. Ces deux fonctions produisent des décompositions convexes en décomposant d'abord le polygone en polygones plus simples ; CG_ApproxConvexPartition utilise une triangulation et CG_GreeneApproxConvexPartition une partition monotone. Ces deux fonctions garantissent toutes deux qu'elles ne produiront pas plus de quatre fois le nombre optimal de pièces convexes, mais elles diffèrent par leur complexité d'exécution. Bien que l'algorithme d'approximation basé sur la triangulation produise souvent moins de pièces convexes, ce n'est pas toujours le cas. </p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0 - nécessite SFCGAL &gt;= 1.5.0.</p><p class="sfcgal_requirement">Nécessite SFCGAL &gt;= 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div><div class="refsection" id="idm22459"><h2>Exemples</h2><p>
                </p><div class="informalfigure"><div class="mediaobject"><img src="images/cg_approxconvexpartition01.png"/><div class="caption"><p>Partition convexe approximative (même exemple que <a class="xref" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a>, <a class="xref" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a> et <a class="xref" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a>)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(CG_ApproxConvexPartition('POLYGON((156 150,83 181,89 131,148 120,107 61,32 159,0 45,41 86,45 1,177 2,67 24,109 31,170 60,180 110,156 150))'::geometry));</pre><p>
                </p><pre class="screen">GEOMETRYCOLLECTION(POLYGON((156 150,83 181,89 131,148 120,156 150)),POLYGON((32 159,0 45,41 86,32 159)),POLYGON((107 61,32 159,41 86,107 61)),POLYGON((45 1,177 2,67 24,45 1)),POLYGON((41 86,45 1,67 24,41 86)),POLYGON((107 61,41 86,67 24,109 31,107 61)),POLYGON((148 120,107 61,109 31,170 60,148 120)),POLYGON((156 150,148 120,170 60,180 110,156 150)))</pre><p>
            </p></div><div class="refsection" id="idm22473"><h2>Voir aussi</h2><p><a class="xref" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a>, <a class="xref" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a>, <a class="xref" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a></p></div></div><div class="refentry" id="ST_ApproximateMedialAxis"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ApproximateMedialAxis — Calculer l'axe médian approximatif d'une géométrie aréolaire.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ApproximateMedialAxis</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm22491"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_ApproximateMedialAxis" title="ST_ApproximateMedialAxis">ST_ApproximateMedialAxis</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_ApproximateMedialAxis" title="CG_ApproximateMedialAxis">CG_ApproximateMedialAxis</a> instead. </p></td></tr></table></div><p>Retourne un axe médian approximatif pour l'entrée aréolaire en se basant sur son squelette (straight skeleton). Utilise une API spécifique à SFCGAL lorsque compilée avec une version compatible (1.2.0+). Sinon, la fonction est juste un wrapper de CG_StraightSkeleton (cas le plus lent). </p><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div></div><div class="refentry" id="CG_ApproximateMedialAxis"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_ApproximateMedialAxis — Calculer l'axe médian approximatif d'une géométrie aréolaire.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_ApproximateMedialAxis</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm22527"><h2>Description</h2><p>Retourne un axe médian approximatif pour l'entrée aréolaire en se basant sur son squelette (straight skeleton). Utilise une API spécifique à SFCGAL lorsque compilée avec une version compatible (1.2.0+). Sinon, la fonction est juste un wrapper de CG_StraightSkeleton (cas le plus lent). </p><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm22547"><h2>Exemples</h2><pre class="programlisting">SELECT CG_ApproximateMedialAxis(ST_GeomFromText('POLYGON (( 190 190, 10 190, 10 10, 190 10, 190 20, 160 30, 60 30, 60 130, 190 140, 190 190 ))'));</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_approximatemedialaxis01.png"/><div class="caption"><p>Un polygone et son axe médian approximatif</p></div></div></div>
                            </td></tr></tbody></table></div></div><div class="refsection" id="idm22562"><h2>Voir aussi</h2><p><a class="xref" href="#CG_StraightSkeleton" title="CG_StraightSkeleton">CG_StraightSkeleton</a></p></div></div><div class="refentry" id="ST_ConstrainedDelaunayTriangles"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ConstrainedDelaunayTriangles — Renvoie une triangulation de Delaunay contrainte autour de la géométrie d'entrée donnée. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ConstrainedDelaunayTriangles</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm22578"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_ConstrainedDelaunayTriangles" title="ST_ConstrainedDelaunayTriangles">ST_ConstrainedDelaunayTriangles</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_ConstrainedDelaunayTriangles" title="CG_ConstrainedDelaunayTriangles">CG_ConstrainedDelaunayTriangles</a> instead. </p></td></tr></table></div><p>Renvoie un <a class="link" href="https://en.wikipedia.org/wiki/Constrained_Delaunay_triangulation" target="_top">Constrained Delaunay triangulation</a> autour des sommets de la géométrie d'entrée. Le résultat est un TIN. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p class="availability">Disponibilité : 3.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div></div><div class="refentry" id="CG_ConstrainedDelaunayTriangles"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_ConstrainedDelaunayTriangles — Renvoie une triangulation de Delaunay contrainte autour de la géométrie d'entrée donnée. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_ConstrainedDelaunayTriangles</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm22607"><h2>Description</h2><p>Renvoie un <a class="link" href="https://en.wikipedia.org/wiki/Constrained_Delaunay_triangulation" target="_top">Constrained Delaunay triangulation</a> autour des sommets de la géométrie d'entrée. Le résultat est un TIN. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p class="availability">Disponibilité : 3.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm22620"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_constraineddelaunaytriangles01.png"/><div class="caption"><p>CG_ConstrainedDelaunayTriangles of 2 polygons</p></div></div></div><p>
                                    </p><pre class="programlisting">select CG_ConstrainedDelaunayTriangles(
                                        ST_Union(
                                        'POLYGON((175 150, 20 40, 50 60, 125 100, 175 150))'::geometry,
                                        ST_Buffer('POINT(110 170)'::geometry, 20)
                                        )
                                        );
                                    </pre><p>
                            </p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_constraineddelaunaytriangles02.png"/><div class="caption"><p><a class="xref" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a> de 2 polygones. Les arêtes des triangles traversent les limites des polygones.</p></div></div></div><p>
                                    </p><pre class="programlisting">select ST_DelaunayTriangles(
                                        ST_Union(
                                        'POLYGON((175 150, 20 40, 50 60, 125 100, 175 150))'::geometry,
                                        ST_Buffer('POINT(110 170)'::geometry, 20)
                                        )
                                        );
                                    </pre><p>
                            </p></td></tr></tbody></table></div></div><div class="refsection" id="idm22645"><h2>Voir aussi</h2><p><a class="xref" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a>, <a class="xref" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a>, <a class="xref" href="#CG_Tesselate" title="CG_Tesselate">CG_Tesselate</a>, <a class="xref" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a> </p></div></div><div class="refentry" id="ST_Extrude"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Extrude — Extruder une surface vers un volume</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Extrude</strong>(</code>geometry <var class="pdparam">geom</var>, float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">z</var><code>)</code>;</p></div></div><div class="refsection" id="idm22674"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_Extrude" title="ST_Extrude">ST_Extrude</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_Extrude" title="CG_Extrude">CG_Extrude</a> instead. </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div></div><div class="refentry" id="CG_Extrude"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Extrude — Extruder une surface vers un volume</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_Extrude</strong>(</code>geometry <var class="pdparam">geom</var>, float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">z</var><code>)</code>;</p></div></div><div class="refsection" id="idm22718"><h2>Description</h2><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm22737"><h2>Exemples</h2><p>Les images 3D ont été générées à l'aide de PostGIS <a class="xref" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a> et rendues en HTML à l'aide de <a class="link" href="http://www.x3dom.org" target="_top">X3Dom HTML Javascript rendering library</a>.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><p>
                                    </p><pre class="programlisting">SELECT ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                                    50, 'quad_segs=2'),0,0,30);</pre><p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_extrude01.png"/><div class="caption"><p>Octogone original formé à partir du point tampon</p></div></div></div>
                        </td><td style="border-bottom: 1px solid ; "><p>
                                </p><pre class="programlisting">CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                                50, 'quad_segs=2'),0,0,30);</pre><p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_extrude02.png"/><div class="caption"><p>Un hexagone extrudé de 30 unités le long de Z produit une PolyhedralSurfaceZ</p></div></div></div>
                    </td></tr><tr><td style="border-right: 1px solid ; "><p>
                            </p><pre class="programlisting">SELECT ST_GeomFromText('LINESTRING(50 50, 100 90, 95 150)')</pre><p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_extrude03.png"/><div class="caption"><p>Ligne d'origine</p></div></div></div>
                    </td><td><p>
                            </p><pre class="programlisting">SELECT CG_Extrude(
                            ST_GeomFromText('LINESTRING(50 50, 100 90, 95 150)'),0,0,10));</pre><p>
                        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_extrude04.png"/><div class="caption"><p>LineString extrudé le long de Z produit une PolyhedralSurfaceZ</p></div></div></div>
                </td></tr></tbody></table></div></div><div class="refsection" id="idm22783"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a>, <a class="xref" href="#CG_ExtrudeStraightSkeleton" title="CG_ExtrudeStraightSkeleton">CG_ExtrudeStraightSkeleton</a></p></div></div><div class="refentry" id="CG_ExtrudeStraightSkeleton"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_ExtrudeStraightSkeleton — Extrusion de squelette droit</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_ExtrudeStraightSkeleton</strong>(</code>geometry <var class="pdparam">geom</var>, float  <var class="pdparam">roof_height</var>, float  <var class="pdparam">body_height = 0</var><code>)</code>;</p></div></div><div class="refsection" id="idm22806"><h2>Description</h2><p>Calcule une extrusion avec une hauteur maximale de la géométrie du polygone. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Perhaps the first (historically) use-case of straight skeletons: given a polygonal roof, the straight skeleton directly gives the layout of each tent. If each skeleton edge is lifted from the plane a height equal to its offset distance, the resulting roof is "correct" in that water will always fall down to the contour edges (the roof's border), regardless of where it falls on the roof. The function computes this extrusion aka "roof" on a polygon. If the argument body_height 
&gt; 0, so the polygon is extruded like with CG_Extrude(polygon, 0, 0, body_height). The result is an union of these polyhedralsurfaces. </p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0 - nécessite SFCGAL &gt;= 1.5.0.</p><p class="sfcgal_requirement">Nécessite SFCGAL &gt;= 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div><div class="refsection" id="idm22817"><h2>Exemples</h2><p>
                </p><pre class="programlisting">SELECT ST_AsText(CG_ExtrudeStraightSkeleton('POLYGON (( 0 0, 5 0, 5 5, 4 5, 4 4, 0 4, 0 0 ), (1 1, 1 2,2 2, 2 1, 1 1))', 3.0, 2.0));</pre><p>
                </p><pre class="screen">POLYHEDRALSURFACE Z (((0 0 0,0 4 0,4 4 0,4 5 0,5 5 0,5 0 0,0 0 0),(1 1 0,2 1 0,2 2 0,1 2 0,1 1 0)),((0 0 0,0 0 2,0 4 2,0 4 0,0 0 0)),((0 4 0,0 4 2,4 4 2,4 4 0,0 4 0)),((4 4 0,4 4 2,4 5 2,4 5 0,4 4 0)),((4 5 0,4 5 2,5 5 2,5 5 0,4 5 0)),((5 5 0,5 5 2,5 0 2,5 0 0,5 5 0)),((5 0 0,5 0 2,0 0 2,0 0 0,5 0 0)),((1 1 0,1 1 2,2 1 2,2 1 0,1 1 0)),((2 1 0,2 1 2,2 2 2,2 2 0,2 1 0)),((2 2 0,2 2 2,1 2 2,1 2 0,2 2 0)),((1 2 0,1 2 2,1 1 2,1 1 0,1 2 0)),((4 5 2,5 5 2,4 4 2,4 5 2)),((2 1 2,5 0 2,0 0 2,2 1 2)),((5 5 2,5 0 2,4 4 2,5 5 2)),((2 1 2,0 0 2,1 1 2,2 1 2)),((1 2 2,1 1 2,0 0 2,1 2 2)),((0 4 2,2 2 2,1 2 2,0 4 2)),((0 4 2,1 2 2,0 0 2,0 4 2)),((4 4 2,5 0 2,2 2 2,4 4 2)),((4 4 2,2 2 2,0 4 2,4 4 2)),((2 2 2,5 0 2,2 1 2,2 2 2)),((0.5 2.5 2.5,0 0 2,0.5 0.5 2.5,0.5 2.5 2.5)),((1 3 3,0 4 2,0.5 2.5 2.5,1 3 3)),((0.5 2.5 2.5,0 4 2,0 0 2,0.5 2.5 2.5)),((2.5 0.5 2.5,5 0 2,3.5 1.5 3.5,2.5 0.5 2.5)),((0 0 2,5 0 2,2.5 0.5 2.5,0 0 2)),((0.5 0.5 2.5,0 0 2,2.5 0.5 2.5,0.5 0.5 2.5)),((4.5 3.5 2.5,5 5 2,4.5 4.5 2.5,4.5 3.5 2.5)),((3.5 2.5 3.5,3.5 1.5 3.5,4.5 3.5 2.5,3.5 2.5 3.5)),((4.5 3.5 2.5,5 0 2,5 5 2,4.5 3.5 2.5)),((3.5 1.5 3.5,5 0 2,4.5 3.5 2.5,3.5 1.5 3.5)),((5 5 2,4 5 2,4.5 4.5 2.5,5 5 2)),((4.5 4.5 2.5,4 4 2,4.5 3.5 2.5,4.5 4.5 2.5)),((4.5 4.5 2.5,4 5 2,4 4 2,4.5 4.5 2.5)),((3 3 3,0 4 2,1 3 3,3 3 3)),((3.5 2.5 3.5,4.5 3.5 2.5,3 3 3,3.5 2.5 3.5)),((3 3 3,4 4 2,0 4 2,3 3 3)),((4.5 3.5 2.5,4 4 2,3 3 3,4.5 3.5 2.5)),((2 1 2,1 1 2,0.5 0.5 2.5,2 1 2)),((2.5 0.5 2.5,2 1 2,0.5 0.5 2.5,2.5 0.5 2.5)),((1 1 2,1 2 2,0.5 2.5 2.5,1 1 2)),((0.5 0.5 2.5,1 1 2,0.5 2.5 2.5,0.5 0.5 2.5)),((1 3 3,2 2 2,3 3 3,1 3 3)),((0.5 2.5 2.5,1 2 2,1 3 3,0.5 2.5 2.5)),((1 3 3,1 2 2,2 2 2,1 3 3)),((2 2 2,2 1 2,2.5 0.5 2.5,2 2 2)),((3.5 2.5 3.5,3 3 3,3.5 1.5 3.5,3.5 2.5 3.5)),((3.5 1.5 3.5,2 2 2,2.5 0.5 2.5,3.5 1.5 3.5)),((3 3 3,2 2 2,3.5 1.5 3.5,3 3 3)))</pre><p>
            </p></div><div class="refsection" id="idm22822"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Extrude" title="ST_Extrude">ST_Extrude</a>, <a class="xref" href="#CG_StraightSkeleton" title="CG_StraightSkeleton">CG_StraightSkeleton</a></p></div></div><div class="refentry" id="CG_GreeneApproxConvexPartition"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_GreeneApproxConvexPartition — Calcul de la partition convexe approximative de la géométrie du polygone</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_GreeneApproxConvexPartition</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm22839"><h2>Description</h2><p>Calcule une partition convexe approximative monotone de la géométrie du polygone. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Une partition d'un polygone P est un ensemble de polygones tels que les intérieurs des polygones ne se coupent pas et que l'union des polygones est égale à l'intérieur du polygone original P. Les fonctions CG_ApproxConvexPartition et CG_GreeneApproxConvexPartition produisent des partitions convexes approximativement optimales. Ces deux fonctions produisent des décompositions convexes en décomposant d'abord le polygone en polygones plus simples ; CG_ApproxConvexPartition utilise une triangulation et CG_GreeneApproxConvexPartition une partition monotone. Ces deux fonctions garantissent toutes deux qu'elles ne produiront pas plus de quatre fois le nombre optimal de pièces convexes, mais elles diffèrent par leur complexité d'exécution. Bien que l'algorithme d'approximation basé sur la triangulation produise souvent moins de pièces convexes, ce n'est pas toujours le cas. </p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0 - nécessite SFCGAL &gt;= 1.5.0.</p><p class="sfcgal_requirement">Nécessite SFCGAL &gt;= 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div><div class="refsection" id="idm22850"><h2>Exemples</h2><p>
            </p><div class="informalfigure"><div class="mediaobject"><img src="images/cg_greeneapproxconvexpartition01.png"/><div class="caption"><p>Partition convexe approximative de Greene (même exemple que <a class="xref" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a>, <a class="xref" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a> et <a class="xref" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a>)</p></div></div></div><p>
            </p><pre class="programlisting">SELECT ST_AsText(CG_GreeneApproxConvexPartition('POLYGON((156 150,83 181,89 131,148 120,107 61,32 159,0 45,41 86,45 1,177 2,67 24,109 31,170 60,180 110,156 150))'::geometry));</pre><p>
            </p><pre class="screen">GEOMETRYCOLLECTION(POLYGON((32 159,0 45,41 86,32 159)),POLYGON((45 1,177 2,67 24,45 1)),POLYGON((67 24,109 31,170 60,107 61,67 24)),POLYGON((41 86,45 1,67 24,41 86)),POLYGON((107 61,32 159,41 86,67 24,107 61)),POLYGON((148 120,107 61,170 60,148 120)),POLYGON((148 120,170 60,180 110,156 150,148 120)),POLYGON((156 150,83 181,89 131,148 120,156 150)))</pre><p>
        </p></div><div class="refsection" id="idm22864"><h2>Voir aussi</h2><p><a class="xref" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a>, <a class="xref" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a>, <a class="xref" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a></p></div></div><div class="refentry" id="ST_MinkowskiSum"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinkowskiSum — Effectue la somme de Minkowski</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MinkowskiSum</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p></div></div><div class="refsection" id="idm22885"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_MinkowskiSum" title="ST_MinkowskiSum">ST_MinkowskiSum</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_MinkowskiSum" title="CG_MinkowskiSum">CG_MinkowskiSum</a> instead. </p></td></tr></table></div><p>Cette fonction effectue une somme de minkowski en 2D d'un point, d'une ligne ou d'un polygone avec un polygone.</p><p>Une somme de minkowski de deux géométries A et B est l'ensemble de tous les points qui sont la somme de n'importe quel point de A et B. Les sommes de minkowski sont souvent utilisées dans la planification des mouvements et la conception assistée par ordinateur. Plus de détails sur <a class="link" href="https://en.wikipedia.org/wiki/Minkowski_addition" target="_top">Wikipedia Addition de Minkowski</a>.</p><p>Le premier paramètre peut être n'importe quelle géométrie 2D (point, ligne, polygone). Si une géométrie 3D est transmise, elle sera convertie en 2D en forçant Z à 0, ce qui peut entraîner des cas d'invalidité. Le second paramètre doit être un polygone 2D.</p><p>La mise en œuvre utilise <a class="link" href="http://doc.cgal.org/latest/Minkowski_sum_2/" target="_top">CGAL 2D Minkowskisum</a>.</p><p class="availability">Disponibilité : 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div></div><div class="refentry" id="CG_MinkowskiSum"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_MinkowskiSum — Effectue la somme de Minkowski</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_MinkowskiSum</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p></div></div><div class="refsection" id="idm22917"><h2>Description</h2><p>Cette fonction effectue une somme de minkowski en 2D d'un point, d'une ligne ou d'un polygone avec un polygone.</p><p>Une somme de minkowski de deux géométries A et B est l'ensemble de tous les points qui sont la somme de n'importe quel point de A et B. Les sommes de minkowski sont souvent utilisées dans la planification des mouvements et la conception assistée par ordinateur. Plus de détails sur <a class="link" href="https://en.wikipedia.org/wiki/Minkowski_addition" target="_top">Wikipedia Addition de Minkowski</a>.</p><p>Le premier paramètre peut être n'importe quelle géométrie 2D (point, ligne, polygone). Si une géométrie 3D est transmise, elle sera convertie en 2D en forçant Z à 0, ce qui peut entraîner des cas d'invalidité. Le second paramètre doit être un polygone 2D.</p><p>La mise en œuvre utilise <a class="link" href="http://doc.cgal.org/latest/Minkowski_sum_2/" target="_top">CGAL 2D Minkowskisum</a>.</p><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div><div class="refsection" id="idm22930"><h2>Exemples</h2><p>Somme de Minkowski d'une ligne et d'un cercle polygonal où la ligne traverse le cercle</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                            <p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_minkowskisum01.png"/><div class="caption"><p>Avant la somme</p></div></div></div><p>
                            </p>
                        </td><td>
                            <p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_minkowskisum02.png"/><div class="caption"><p>Après la somme</p></div></div></div><p>
                            </p>
                        </td></tr></tbody></table></div><pre class="programlisting">SELECT CG_MinkowskiSum(line, circle))
            FROM (SELECT
            ST_MakeLine(ST_Point(10, 10),ST_Point(100, 100)) As line,
            ST_Buffer(ST_GeomFromText('POINT(50 50)'), 30) As circle) As foo;

            -- wkt --
            MULTIPOLYGON(((30 59.9999999999999,30.5764415879031 54.1472903395161,32.2836140246614 48.5194970290472,35.0559116309237 43.3328930094119,38.7867965644036 38.7867965644035,43.332893009412 35.0559116309236,48.5194970290474 32.2836140246614,54.1472903395162 30.5764415879031,60.0000000000001 30,65.8527096604839 30.5764415879031,71.4805029709527 32.2836140246614,76.6671069905881 35.0559116309237,81.2132034355964 38.7867965644036,171.213203435596 128.786796564404,174.944088369076 133.332893009412,177.716385975339 138.519497029047,179.423558412097 144.147290339516,180 150,179.423558412097 155.852709660484,177.716385975339 161.480502970953,174.944088369076 166.667106990588,171.213203435596 171.213203435596,166.667106990588 174.944088369076,
            161.480502970953 177.716385975339,155.852709660484 179.423558412097,150 180,144.147290339516 179.423558412097,138.519497029047 177.716385975339,133.332893009412 174.944088369076,128.786796564403 171.213203435596,38.7867965644035 81.2132034355963,35.0559116309236 76.667106990588,32.2836140246614 71.4805029709526,30.5764415879031 65.8527096604838,30 59.9999999999999)))
        </pre><p>Somme de Minkowski d'un polygone et d'un multipoint</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                            <p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_minkowskisum03.png"/><div class="caption"><p>Avant la somme</p></div></div></div><p>
                            </p>
                        </td><td>
                            <p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_minkowskisum04.png"/><div class="caption"><p>Après la somme : le polygone est dupliqué et traduit en position de points</p></div></div></div><p>
                            </p>
                        </td></tr></tbody></table></div><pre class="programlisting">SELECT CG_MinkowskiSum(mp, poly)
        FROM (SELECT 'MULTIPOINT(25 50,70 25)'::geometry As mp,
        'POLYGON((130 150, 20 40, 50 60, 125 100, 130 150))'::geometry As poly
        ) As foo


        -- wkt --
        MULTIPOLYGON(
        ((70 115,100 135,175 175,225 225,70 115)),
        ((120 65,150 85,225 125,275 175,120 65))
        )
    </pre></div></div><div class="refentry" id="ST_OptimalAlphaShape"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_OptimalAlphaShape — Calcule une forme alpha entourant une géométrie en utilisant une valeur alpha "optimale".</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_OptimalAlphaShape</strong>(</code>geometry <var class="pdparam">geom</var>, boolean  <var class="pdparam">allow_holes = false</var>, integer  <var class="pdparam">nb_components = 1</var><code>)</code>;</p></div></div><div class="refsection" id="idm22994"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_OptimalAlphaShape" title="ST_OptimalAlphaShape">ST_OptimalAlphaShape</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_OptimalAlphaShape" title="CG_OptimalAlphaShape">CG_OptimalAlphaShape</a> instead. </p></td></tr></table></div><p>Calcule la forme alpha "optimale" des points d'une géométrie. La forme alpha est calculée en utilisant une valeur de α choisie de telle sorte que : </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>le nombre d'éléments du polygone est égal ou inférieur à <code class="varname">nb_components</code> (qui vaut 1 par défaut)</p></li><li class="listitem"><p>tous les points d'entrée sont contenus dans la forme</p></li></ol></div><p>Le résultat ne contiendra pas de trous à moins que l'argument facultatif <code class="varname">allow_holes</code> ne soit spécifié comme true. </p><p class="availability">Disponibilité : 3.3.0 - nécessite SFCGAL &gt;= 1.4.1.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div></div><div class="refentry" id="CG_OptimalAlphaShape"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_OptimalAlphaShape — Calcule une forme alpha entourant une géométrie en utilisant une valeur alpha "optimale".</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_OptimalAlphaShape</strong>(</code>geometry <var class="pdparam">geom</var>, boolean  <var class="pdparam">allow_holes = false</var>, integer  <var class="pdparam">nb_components = 1</var><code>)</code>;</p></div></div><div class="refsection" id="idm23032"><h2>Description</h2><p>Calcule la forme alpha "optimale" des points d'une géométrie. La forme alpha est calculée en utilisant une valeur de α choisie de telle sorte que : </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>le nombre d'éléments du polygone est égal ou inférieur à <code class="varname">nb_components</code> (qui vaut 1 par défaut)</p></li><li class="listitem"><p>tous les points d'entrée sont contenus dans la forme</p></li></ol></div><p>Le résultat ne contiendra pas de trous à moins que l'argument facultatif <code class="varname">allow_holes</code> ne soit spécifié comme true. </p><p class="availability">Availability: 3.5.0 - requires SFCGAL &gt;= 1.4.1.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div><div class="refsection" id="idm23048"><h2>Exemples</h2><p>
                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_optimalalphashape01.png"/><div class="caption"><p>Optimal alpha-shape of a MultiPoint (same example as <a class="xref" href="#CG_AlphaShape" title="CG_AlphaShape">CG_AlphaShape</a>)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(CG_OptimalAlphaShape('MULTIPOINT((63 84),(76 88),(68 73),(53 18),(91 50),(81 70),
                (88 29),(24 82),(32 51),(37 23),(27 54),(84 19),(75 87),(44 42),(77 67),(90 30),(36 61),(32 65),
                (81 47),(88 58),(68 73),(49 95),(81 60),(87 50),
                (78 16),(79 21),(30 22),(78 43),(26 85),(48 34),(35 35),(36 40),(31 79),(83 29),(27 84),(52 98),(72 95),(85 71),
                (75 84),(75 77),(81 29),(77 73),(41 42),(83 72),(23 36),(89 53),(27 57),(57 97),(27 77),(39 88),(60 81),
                (80 72),(54 32),(55 26),(62 22),(70 20),(76 27),(84 35),(87 42),(82 54),(83 64),(69 86),(60 90),(50 86),(43 80),(36 73),
                (36 68),(40 75),(24 67),(23 60),(26 44),(28 33),(40 32),(43 19),(65 16),(73 16),(38 46),(31 59),(34 86),(45 90),(64 97))'::geometry));</pre><p>
            </p><pre class="screen">POLYGON((89 53,91 50,87 42,90 30,88 29,84 19,78 16,73 16,65 16,53 18,43 19,37 23,30 22,28 33,23 36,
            26 44,27 54,23 60,24 67,27 77,24 82,26 85,34 86,39 88,45 90,49 95,52 98,57 97,64 97,72 95,76 88,75 84,75 77,83 72,85 71,83 64,88 58,89 53))</pre><p>
    </p><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_optimalalphashape02.png"/><div class="caption"><p>Optimal alpha-shape of a MultiPoint, allowing holes (same example as <a class="xref" href="#CG_AlphaShape" title="CG_AlphaShape">CG_AlphaShape</a>)</p></div></div></div><p>
        </p><pre class="programlisting">SELECT ST_AsText(CG_OptimalAlphaShape('MULTIPOINT((63 84),(76 88),(68 73),(53 18),(91 50),(81 70),(88 29),(24 82),(32 51),(37 23),(27 54),(84 19),(75 87),(44 42),(77 67),(90 30),(36 61),(32 65),(81 47),(88 58),(68 73),(49 95),(81 60),(87 50),
        (78 16),(79 21),(30 22),(78 43),(26 85),(48 34),(35 35),(36 40),(31 79),(83 29),(27 84),(52 98),(72 95),(85 71),
        (75 84),(75 77),(81 29),(77 73),(41 42),(83 72),(23 36),(89 53),(27 57),(57 97),(27 77),(39 88),(60 81),
        (80 72),(54 32),(55 26),(62 22),(70 20),(76 27),(84 35),(87 42),(82 54),(83 64),(69 86),(60 90),(50 86),(43 80),(36 73),
        (36 68),(40 75),(24 67),(23 60),(26 44),(28 33),(40 32),(43 19),(65 16),(73 16),(38 46),(31 59),(34 86),(45 90),(64 97))'::geometry, allow_holes =&gt; true));</pre><p>
    </p><pre class="screen">POLYGON((89 53,91 50,87 42,90 30,88 29,84 19,78 16,73 16,65 16,53 18,43 19,37 23,30 22,28 33,23 36,26 44,27 54,23 60,24 67,27 77,24 82,26 85,34 86,39 88,45 90,49 95,52 98,57 97,64 97,72 95,76 88,75 84,75 77,83 72,85 71,83 64,88 58,89 53),(36 61,36 68,40 75,43 80,50 86,60 81,68 73,77 67,81 60,82 54,81 47,78 43,81 29,76 27,70 20,62 22,55 26,54 32,48 34,44 42,38 46,36 61))</pre><p>
</p></div><div class="refsection" id="idm23070"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>, <a class="xref" href="#CG_AlphaShape" title="CG_AlphaShape">CG_AlphaShape</a></p></div></div><div class="refentry" id="CG_OptimalConvexPartition"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_OptimalConvexPartition — Calcul d'une partition convexe optimale de la géométrie du polygone</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_OptimalConvexPartition</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm23087"><h2>Description</h2><p>Calcul d'une partition convexe optimale de la géométrie du polygone. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Une partition d'un polygone P est un ensemble de polygones tels que les intérieurs des polygones ne se croisent pas et que l'union des polygones est égale à l'intérieur du polygone original P. CG_OptimalConvexPartition produit une partition optimale en termes de nombre de morceaux. </p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0 - nécessite SFCGAL &gt;= 1.5.0.</p><p class="sfcgal_requirement">Nécessite SFCGAL &gt;= 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div><div class="refsection" id="idm23098"><h2>Exemples</h2><p>
                </p><div class="informalfigure"><div class="mediaobject"><img src="images/cg_optimalconvexpartition01.png"/><div class="caption"><p>Partition convexe optimale (même exemple que <a class="xref" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a>, <a class="xref" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a> et <a class="xref" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a>)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(CG_OptimalConvexPartition('POLYGON((156 150,83 181,89 131,148 120,107 61,32 159,0 45,41 86,45 1,177 2,67 24,109 31,170 60,180 110,156 150))'::geometry));</pre><p>
                </p><pre class="screen">GEOMETRYCOLLECTION(POLYGON((156 150,83 181,89 131,148 120,156 150)),POLYGON((32 159,0 45,41 86,32 159)),POLYGON((45 1,177 2,67 24,45 1)),POLYGON((41 86,45 1,67 24,41 86)),POLYGON((107 61,32 159,41 86,67 24,109 31,107 61)),POLYGON((148 120,107 61,109 31,170 60,180 110,148 120)),POLYGON((156 150,148 120,180 110,156 150)))</pre><p>
            </p></div><div class="refsection" id="idm23112"><h2>Voir aussi</h2><p><a class="xref" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a>, <a class="xref" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a>, <a class="xref" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a></p></div></div><div class="refentry" id="CG_StraightSkeleton"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_StraightSkeleton — Calcule un squelette (straight skeleton) à partir d'une géométrie</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_StraightSkeleton</strong>(</code>geometry <var class="pdparam">geom</var>, boolean  <var class="pdparam">use_distance_as_m = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm23133"><h2>Description</h2><p class="availability">Disponibilité : 3.5.0</p><p class="sfcgal_requirement">Nécessite SFCGAL &gt;= 1.3.8 pour l'option use_distance_as_m</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm23153"><h2>Exemples</h2><pre class="programlisting">SELECT CG_StraightSkeleton(ST_GeomFromText('POLYGON (( 190 190, 10 190, 10 10, 190 10, 190 20, 160 30, 60 30, 60 130, 190 140, 190 190 ))'));</pre><pre class="programlisting">ST_AsText(CG_StraightSkeleton('POLYGON((0 0,1 0,1 1,0 1,0 0))', true);</pre><pre class="screen">MULTILINESTRING M ((0 0 0,0.5 0.5 0.5),(1 0 0,0.5 0.5 0.5),(1 1 0,0.5 0.5 0.5),(0 1 0,0.5 0.5 0.5))</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_straightskeleton01.png"/><div class="caption"><p>Polygone d'origine</p></div></div></div>
                            </td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_straightskeleton02.png"/><div class="caption"><p>Squelette d'un polygone</p></div></div></div>
                            </td></tr></tbody></table></div></div><div class="refsection" id="idm23178"><h2>Voir aussi</h2><p><a class="xref" href="#CG_ExtrudeStraightSkeleton" title="CG_ExtrudeStraightSkeleton">CG_ExtrudeStraightSkeleton</a></p></div></div><div class="refentry" id="ST_StraightSkeleton"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_StraightSkeleton — Calcule un squelette (straight skeleton) à partir d'une géométrie</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_StraightSkeleton</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm23194"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_StraightSkeleton" title="ST_StraightSkeleton">ST_StraightSkeleton</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_StraightSkeleton" title="CG_StraightSkeleton">CG_StraightSkeleton</a> instead. </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm23217"><h2>Exemples</h2><pre class="programlisting">SELECT ST_StraightSkeleton(ST_GeomFromText('POLYGON (( 190 190, 10 190, 10 10, 190 10, 190 20, 160 30, 60 30, 60 130, 190 140, 190 190 ))'));</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_straightskeleton01.png"/><div class="caption"><p>Polygone d'origine</p></div></div></div>
                            </td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_straightskeleton02.png"/><div class="caption"><p>Squelette d'un polygone</p></div></div></div>
                            </td></tr></tbody></table></div></div><div class="refsection" id="idm23240"><h2>Voir aussi</h2><p><a class="xref" href="#CG_ExtrudeStraightSkeleton" title="CG_ExtrudeStraightSkeleton">CG_ExtrudeStraightSkeleton</a></p></div></div><div class="refentry" id="ST_Tesselate"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Tesselate — Effectue la tessellation de la surface d'un polygone ou d'une surface polyédrique et renvoie un TIN ou une collection de TINS</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Tesselate</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm23256"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_Tesselate" title="ST_Tesselate">ST_Tesselate</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_Tesselate" title="CG_Tesselate">CG_Tesselate</a> instead. </p></td></tr></table></div><p>Prend en entrée une surface telle que MULTI(POLYGON) ou POLYHEDRALSURFACE et renvoie une représentation TIN via le processus de tessellation à l'aide de triangles.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a> est similaire à cette fonction, sauf qu'elle renvoie une collection géométrique de polygones au lieu d'un TIN et qu'elle ne fonctionne qu'avec des géométries 2D.</p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div></div><div class="refentry" id="CG_Tesselate"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Tesselate — Effectue la tessellation de la surface d'un polygone ou d'une surface polyédrique et renvoie un TIN ou une collection de TINS</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_Tesselate</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm23295"><h2>Description</h2><p>Prend en entrée une surface telle que MULTI(POLYGON) ou POLYHEDRALSURFACE et renvoie une représentation TIN via le processus de tessellation à l'aide de triangles.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a> est similaire à cette fonction, sauf qu'elle renvoie une collection géométrique de polygones au lieu d'un TIN et qu'elle ne fonctionne qu'avec des géométries 2D.</p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm23318"><h2>Exemples</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><p>
                                    </p><pre class="programlisting">SELECT ST_GeomFromText('POLYHEDRALSURFACE Z( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                                    ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                                    ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                                    ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )');</pre><p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_tesselate01.png"/><div class="caption"><p>Cube d'origine</p></div></div></div>
                        </td><td style="border-bottom: 1px solid ; "><p>
                                </p><pre class="programlisting">SELECT CG_Tesselate(ST_GeomFromText('POLYHEDRALSURFACE Z( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                                ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                                ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                                ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'));</pre>
                        <p>Sortie ST_AsText :</p>
                        <pre class="screen">TIN Z (((0 0 0,0 0 1,0 1 1,0 0 0)),((0 1 0,0 0 0,0 1 1,0 1 0)),
                        ((0 0 0,0 1 0,1 1 0,0 0 0)),
                        ((1 0 0,0 0 0,1 1 0,1 0 0)),((0 0 1,1 0 0,1 0 1,0 0 1)),
                        ((0 0 1,0 0 0,1 0 0,0 0 1)),
                        ((1 1 0,1 1 1,1 0 1,1 1 0)),((1 0 0,1 1 0,1 0 1,1 0 0)),
                        ((0 1 0,0 1 1,1 1 1,0 1 0)),((1 1 0,0 1 0,1 1 1,1 1 0)),
                        ((0 1 1,1 0 1,1 1 1,0 1 1)),((0 1 1,0 0 1,1 0 1,0 1 1)))</pre>
                    <p> </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_tesselate02.png"/><div class="caption"><p>Cube tessellé avec triangles colorés</p></div></div></div>
                </td></tr><tr><td style="border-right: 1px solid ; "><p>
                        </p><pre class="programlisting">SELECT 'POLYGON (( 10 190, 10 70, 80 70, 80 130, 50 160, 120 160, 120 190, 10 190 ))'::geometry;</pre><p>
                        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_tesselate03.png"/><div class="caption"><p>Polygone d'origine</p></div></div></div>
                </td><td><p>
                        </p><pre class="programlisting">SELECT
                        CG_Tesselate('POLYGON (( 10 190, 10 70, 80 70, 80 130, 50 160, 120 160, 120 190, 10 190 ))'::geometry);</pre><p>
                </p>
                <p>Sortie ST_AsText</p>
                <pre class="screen">TIN(((80 130,50 160,80 70,80 130)),((50 160,10 190,10 70,50 160)),
                ((80 70,50 160,10 70,80 70)),((120 160,120 190,50 160,120 160)),
                ((120 190,10 190,50 160,120 190)))</pre>
            <div class="informalfigure"><div class="mediaobject"><img src="images/st_tesselate04.png"/><div class="caption"><p>Polygone tessellé</p></div></div></div>
        </td></tr></tbody></table></div></div><div class="refsection" id="idm23367"><h2>Voir aussi</h2><p><a class="xref" href="#CG_ConstrainedDelaunayTriangles" title="CG_ConstrainedDelaunayTriangles">CG_ConstrainedDelaunayTriangles</a>, <a class="xref" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a>, <a class="xref" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a></p></div></div><div class="refentry" id="CG_Triangulate"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Triangulate — Triangule une géométrie polygonale</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_Triangulate</strong>(</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm23385"><h2>Description</h2><p>Triangule une géométrie polygonale.</p><p>Réalisé par le module SFCGAL</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE : cette fonction renvoie une géométrie représentant le résultat de la triangulation.</p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div><div class="refsection" id="idm23396"><h2>Exemples de géométrie</h2><pre class="programlisting">SELECT CG_Triangulate('POLYGON((0.0 0.0,1.0 0.0,1.0 1.0,0.0 1.0,0.0 0.0),(0.2 0.2,0.2 0.8,0.8 0.8,0.8 0.2,0.2 0.2))');
                cg_triangulate
                ----------------
                TIN(((0.8 0.2,0.2 0.2,1 0,0.8 0.2)),((0.2 0.2,0 0,1 0,0.2 0.2)),((1 1,0.8 0.8,0.8 0.2,1 1)),((0 1,0 0,0.2 0.2,0 1)),((0 1,0.2 0.8,1 1,0 1)),((0 1,0.2 0.2,0.2 0.8,0 1)),((0.2 0.8,0.8 0.8,1 1,0.2 0.8)),((0.2 0.8,0.2 0.2,0.8 0.2,0.2 0.8)),((1 1,0.8 0.2,1 0,1 1)),((0.8 0.8,0.2 0.8,0.8 0.2,0.8 0.8)))

                (1 row)</pre></div><div class="refsection" id="idm23399"><h2>Voir aussi</h2><p><a class="xref" href="#CG_ConstrainedDelaunayTriangles" title="CG_ConstrainedDelaunayTriangles">CG_ConstrainedDelaunayTriangles</a>, <a class="xref" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a>, <a class="xref" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a></p></div></div><div class="refentry" id="CG_Visibility"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Visibility — Calculer un polygone de visibilité à partir d'un point ou d'un segment dans une géométrie polygonale</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_Visibility</strong>(</code>geometry <var class="pdparam">polygon</var>, geometry <var class="pdparam">point</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">CG_Visibility</strong>(</code>geometry <var class="pdparam">polygon</var>, geometry <var class="pdparam">pointA</var>, geometry <var class="pdparam">pointB</var><code>)</code>;</p></div></div><div class="refsection" id="idm23432"><h2>Description</h2><p class="availability">Disponibilité : 3.5.0 - nécessite SFCGAL &gt;= 1.5.0.</p><p class="sfcgal_requirement">Nécessite SFCGAL &gt;= 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les surfaces Polyhedral. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge les triangles et les réseaux irréguliers triangulés (TIN). </p></div><div class="refsection" id="idm23452"><h2>Exemples</h2><pre class="programlisting">SELECT CG_Visibility('POLYGON((23.5 23.5,23.5 173.5,173.5 173.5,173.5 23.5,23.5 23.5),(108 98,108 36,156 37,155 99,108 98),(107 157.5,107 106.5,135 107.5,133 127.5,143.5 127.5,143.5 108.5,153.5 109.5,151.5 166,107 157.5),(41 95.5,41 35,100.5 36,98.5 68,78.5 68,77.5 96.5,41 95.5),(39 150,40 104,97.5 106.5,95.5 152,39 150))'::geometry, 'POINT(91 87)'::geometry);</pre><pre class="programlisting">SELECT CG_Visibility('POLYGON((23.5 23.5,23.5 173.5,173.5 173.5,173.5 23.5,23.5 23.5),(108 98,108 36,156 37,155 99,108 98),(107 157.5,107 106.5,135 107.5,133 127.5,143.5 127.5,143.5 108.5,153.5 109.5,151.5 166,107 157.5),(41 95.5,41 35,100.5 36,98.5 68,78.5 68,77.5 96.5,41 95.5),(39 150,40 104,97.5 106.5,95.5 152,39 150))'::geometry,'POINT(78.5 68)'::geometry, 'POINT(98.5 68)'::geometry);</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/cg_visibility01.png"/><div class="caption"><p>Polygone d'origine</p></div></div></div>
                            </td><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/cg_visibility02.png"/><div class="caption"><p>Visibilité depuis le point</p></div></div></div>
                            </td><td><div class="informalfigure"><div class="mediaobject"><img src="images/cg_visibility03.png"/><div class="caption"><p>Visibilité depuis le segment</p></div></div></div>
                            </td></tr></tbody></table></div></div></div><div class="refentry" id="CG_YMonotonePartition"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_YMonotonePartition — Calcul de la partition y-monotone de la géométrie du polygone</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_YMonotonePartition</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm23496"><h2>Description</h2><p>Calcul de la partition y-monotone de la géométrie du polygone. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Une partition d'un polygone P est un ensemble de polygones tels que les intérieurs des polygones ne se croisent pas et que l'union des polygones est égale à l'intérieur du polygone original P. Un polygone y-monotone est un polygone dont les sommets v1,...,vn peuvent être divisés en deux chaînes v1,...,vk et vk,...,vn,v1, de sorte que toute ligne horizontale croise l'une ou l'autre chaîne au plus une fois. Cet algorithme ne garantit pas de limite au nombre de polygones produits par rapport au nombre optimal. </p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0 - nécessite SFCGAL &gt;= 1.5.0.</p><p class="sfcgal_requirement">Nécessite SFCGAL &gt;= 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite le backend SFCGAL. </p></div><div class="refsection" id="idm23507"><h2>Exemples</h2><p>
            </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/cg_ymonotonepartition01.png"/><div class="caption"><p>Polygone d'origine</p></div></div></div>
                            </td><td><div class="informalfigure"><div class="mediaobject"><img src="images/cg_ymonotonepartition02.png"/><div class="caption"><p>Partition Y-Monotone (même exemple que <a class="xref" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a>, <a class="xref" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a> et <a class="xref" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a>)</p></div></div></div>
                            </td></tr></tbody></table></div><p>
            </p><pre class="programlisting">SELECT ST_AsText(CG_YMonotonePartition('POLYGON((156 150,83 181,89 131,148 120,107 61,32 159,0 45,41 86,45 1,177 2,67 24,109 31,170 60,180 110,156 150))'::geometry));</pre><p>
            </p><pre class="screen">GEOMETRYCOLLECTION(POLYGON((32 159,0 45,41 86,32 159)),POLYGON((107 61,32 159,41 86,45 1,177 2,67 24,109 31,170 60,107 61)),POLYGON((156 150,83 181,89 131,148 120,107 61,170 60,180 110,156 150)))</pre><p>
        </p></div><div class="refsection" id="idm23535"><h2>Voir aussi</h2><p><a class="xref" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a>, <a class="xref" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a>, <a class="xref" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a></p></div></div></section></section><section class="chapter" id="Topology"><div class="titlepage"><div><div><h1 class="title">Chapter 9. Topologie</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#Topology_Types">9.1. Les types associés à "Topology"</a></span></li><li><span class="section"><a href="#Topology_Domains">9.2. Domaines de topologie</a></span></li><li><span class="section"><a href="#Topology_ManagementFunctions">9.3. Gestion de la topologie et de TopoGeometry</a></span></li><li><span class="section"><a href="#Topology_StatsManagement">9.4. Gestion des statistiques de topologie</a></span></li><li><span class="section"><a href="#Topology_Constructors">9.5. Constructeurs de topologie</a></span></li><li><span class="section"><a href="#Topology_Editing">9.6. Éditeurs de topologie</a></span></li><li><span class="section"><a href="#Topology_Accessors">9.7. Accès à la topologie</a></span></li><li><span class="section"><a href="#Topology_Processing">9.8. Traitement de la topologie</a></span></li><li><span class="section"><a href="#TopoGeometry_Constructors">9.9. Constructeurs de TopoGeometry</a></span></li><li><span class="section"><a href="#TopoGeometry_Editors">9.10. Editeurs de TopoGeometry</a></span></li><li><span class="section"><a href="#TopoGeom_Accessors">9.11. Accès aux TopoGeometry</a></span></li><li><span class="section"><a href="#TopoGeometry_Outputs">9.12. Sorties TopoGeometry</a></span></li><li><span class="section"><a href="#Topology_Relationships">9.13. Relations spatiales de topologie</a></span></li><li><span class="section"><a href="#Topology_Import_Export">9.14. Importer et exporter des topologies</a></span></li></ul></div><p>Les types et fonctions topologiques de PostGIS sont utilisés pour gérer les objets topologiques tels que les faces, les arêtes et les des noeuds. </p><p>La présentation de Sandro Santilli à la conférence PostGIS Day Paris 2011 donne un bon aperçu de PostGIS Topology et de son évolution <a class="link" href="http://strk.kbt.io/projects/postgis/Paris2011_TopologyWithPostGIS_2_0.pdf" target="_top">Topology with PostGIS 2.0 slide deck</a>.</p><p>Vincent Picavet fournit un bon résumé et une vue d'ensemble de ce qu'est la topologie, comment elle est utilisée, et divers outils FOSS4G qui la supportent dans <a class="link" href="https://gitlab.com/Oslandia/documentation/presentations/-/blob/master/2012/pgconf_eu_2012/pgconfeu2012_vincent_picavet_postgis_topology.pdf" target="_top">PostGIS Topology PGConf EU 2012</a>. </p><p>Un exemple de base de données SIG topologique est la base de données <a class="link" href="https://www.census.gov/geo/maps-data/data/tiger.html" target="_top">US Census Topologically Integrated Geographic Encoding and Referencing System (TIGER)</a>. Si vous souhaitez expérimenter la topologie PostGIS et avez besoin de quelques données, consultez <a class="xref" href="#Topology_Load_Tiger" title="Topology_Load_Tiger">Topology_Load_Tiger</a>.</p><p>Le module sur la topologie de PostGIS existe dans les versions précédentes de PostGIS mais n'a jamais fait partie de la documentation officielle de PostGIS. Dans la version 2.0.0 de PostGIS, un grand nettoyage est en cours pour en éliminer l'utilisation de toutes les fonctions obsolètes, résoudre les problèmes d'utilisabilité connus, mieux documenter les caractéristiques et les fonctions, ajouter de nouvelles fonctions, et l'améliorer afin de mieux se conformer aux normes SQL-MM.</p><p>Les détails sur ce projet peuvent être trouvés à <a class="link" href="http://trac.osgeo.org/postgis/wiki/UsersWikiPostgisTopology" target="_top">PostGIS Topology Wiki</a></p><p>Toutes les fonctions et toutes les tables associées à ce module sont installées dans un schéma appelé <code class="varname">topology</code>.</p><p>Les fonctions qui sont définies dans le standard SQL/MM sont préfixées par ST_ et les fonctions spécifiques à PostGIS ne sont pas préfixées.</p><p>Le support topologique est compilé par défaut à partir de PostGIS 2.0, et peut être désactivé en spécifiant l'option de configuration --without-topology au moment de la construction, comme décrit dans <a class="xref" href="#postgis_installation" title="Chapter 2. Installation de PostGIS">Chapter 2, <em>Installation de PostGIS</em></a></p><section class="section" id="Topology_Types"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.1. Les types associés à "Topology"</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section liste les types de données de PostgreSQL installés par "PostGIS Topology". Notez que nous décrivons leurs comportements de transtypage, ce qui est très important en particulièrement lorsque l'on définit ses propres fonctions. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#getfaceedges_returntype">getfaceedges_returntype</a></span><span class="refpurpose"> — Type composite composé d'un numéro de séquence et d'un numéro d'arête. </span></li><li><span class="refentrytitle"><a href="#topogeometry">TopoGeometry</a></span><span class="refpurpose"> — Un type composite représentant une géométrie topologiquement définie.</span></li><li><span class="refentrytitle"><a href="#validatetopology_returntype">validatetopology_returntype</a></span><span class="refpurpose"> — Un type composite composé d'un message d'erreur et de id1 et id2 pour indiquer l'emplacement de l'erreur. Il s'agit du type de retour pour <code class="varname">ValidateTopology</code>.</span></li></ul></div><div class="refentry" id="getfaceedges_returntype"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>getfaceedges_returntype — Type composite composé d'un numéro de séquence et d'un numéro d'arête. </p></div><div class="refsection" id="idm23568"><h2>Description</h2><p>Type composite composé d'un numéro de séquence et d'un numéro d'arête. Il s'agit du type de retour pour les fonctions <code class="varname">ST_GetFaceEdges</code> et <code class="varname">GetNodeEdges</code>. </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">sequence</code> est un entier. Il fait référence à un élément topologique défini dans la table topology.topology qui définit le schéma de la topologie et le srid.</p></li><li class="listitem"><p><code class="varname">edge</code> est un entier : c'est l'identifiant d'une arête.</p></li></ol></div></div></div><div class="refentry" id="topogeometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeometry — Un type composite représentant une géométrie topologiquement définie.</p></div><div class="refsection" id="idm23584"><h2>Description</h2><p>Un type composite qui fait référence à une géométrie topologique dans une couche topologique spécifique, ayant un type et un identifiant spécifiques. Les éléments d'une TopoGeometry ont les propriétés suivantes : topology_id, layer_id, id integer, type integer.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">topology_id</code> est un entier : il fait référence à un élément topologique défini dans la table topology.topology qui définit le schéma de la topologie et le srid.</p></li><li class="listitem"><p><code class="varname">layer_id</code> est un entier : L'identifiant de la couche dans la table des couches à laquelle la TopoGeometry appartient. La combinaison de topology_id, layer_id fournit une référence unique dans la table topology.layers.</p></li><li class="listitem"><p><code class="varname">id</code> est un nombre entier : L'id est le numéro de séquence autogénéré qui définit de manière unique la topogeometry dans la couche topologique correspondante.</p></li><li class="listitem"><p><code class="varname">type</code> un entier entre 1 et 4 qui définit le type de la géométrie : 1 : [multi]point, 2 : [multi]line, 3 : [multi]poly, 4 : collection</p></li></ol></div></div><div class="refsection" id="idm23600"><h2>Transtypages</h2><p>Cette section liste les transtypages autorisés pour ce type de donnée, qu'ils soient automatiques ou bien explicites</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Transtypage vers</td><td style="border-bottom: 1px solid ; ">Comportement</td></tr><tr><td style="border-right: 1px solid ; ">geometry</td><td>automatique</td></tr></tbody></table></div></div><div class="refsection" id="idm23612"><h2>Voir aussi</h2><p><a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a></p></div></div><div class="refentry" id="validatetopology_returntype"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>validatetopology_returntype — Un type composite composé d'un message d'erreur et de id1 et id2 pour indiquer l'emplacement de l'erreur. Il s'agit du type de retour pour <code class="varname">ValidateTopology</code>.</p></div><div class="refsection" id="idm23621"><h2>Description</h2><p>Un type composite composé d'un message d'erreur et de deux nombres entiers. La fonction <a class="xref" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a> renvoie un ensemble d'entiers pour indiquer les erreurs de validation et les id1 et id2 pour indiquer les id des objets topologiques concernés par l'erreur.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">error</code> est une variable : Indique le type d'erreur. </p><p>Les descripteurs d'erreurs actuels sont les suivants : nœuds coïncidents, arête traversant un nœud, arête non simple, mauvaise correspondance de la géométrie de l'extrémité du nœud, mauvaise correspondance de la géométrie du début du nœud, face chevauchant la face, face à l'intérieur de la face, </p></li><li class="listitem"><p><code class="varname">id1</code> est un nombre entier : Indique l'identifiant de l'arête / de la face / des nœuds en erreur.</p></li><li class="listitem"><p><code class="varname">id2</code> est un nombre entier : Pour les erreurs qui impliquent 2 objets, indique l'arête / ou le nœud secondaire</p></li></ol></div></div><div class="refsection" id="idm23636"><h2>Voir aussi</h2><p><a class="xref" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a></p></div></div></section><section class="section" id="Topology_Domains"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.2. Domaines de topologie</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section énumère les domaines PostgreSQL installés par PostGIS Topology. Les domaines peuvent être utilisés comme des types d'objets, en tant qu'objets de retour de fonctions ou de colonnes de tables. La distinction entre un domaine et un type est qu'un domaine est un type existant avec une contrainte de vérification liée à lui. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#topoelement">TopoElement</a></span><span class="refpurpose"> — Un tableau de 2 entiers généralement utilisé pour identifier un composant TopoGeometry.</span></li><li><span class="refentrytitle"><a href="#topoelementarray">TopoElementArray</a></span><span class="refpurpose"> — Un tableau d'objets TopoElement.</span></li></ul></div><div class="refentry" id="topoelement"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoElement — Un tableau de 2 entiers généralement utilisé pour identifier un composant TopoGeometry.</p></div><div class="refsection" id="idm23649"><h2>Description</h2><p>Un tableau de 2 entiers utilisé pour représenter une composante d'une <a class="xref" href="#topogeometry" title="TopoGeometry">TopoGeometry</a> simple ou hiérarchique. </p><p>Dans le cas d'une TopoGeometry simple, le premier élément du tableau représente l'identifiant d'une primitive topologique et le deuxième élément représente son type (1:nœud, 2:arête, 3:face). Dans le cas d'une TopoGeometry hiérarchique, le premier élément du tableau représente l'identifiant d'une TopoGeometry enfant et le deuxième élément représente son identifiant de couche. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour une TopoGeometry hiérarchique donnée, tous les éléments TopoGeometry enfants proviendront de la même couche enfant, comme spécifié dans l'enregistrement topology.layer pour la couche de la TopoGeometry en cours de définition. </p></td></tr></table></div></div><div class="refsection" id="idm23656"><h2>Exemples</h2><pre class="programlisting">SELECT te[1] AS id, te[2] AS type FROM
( SELECT ARRAY[1,2]::topology.topoelement AS te ) f;
 id | type
----+------
  1 |    2
                 </pre><pre class="programlisting">SELECT ARRAY[1,2]::topology.topoelement;
  te
-------
 {1,2}
                 </pre><pre class="programlisting">--Example of what happens when you try to case a 3 element array to topoelement
-- NOTE: topoement has to be a 2 element array so fails dimension check
SELECT ARRAY[1,2,3]::topology.topoelement;
ERROR:  value for domain topology.topoelement violates check constraint "dimensions"
                 </pre></div><div class="refsection" id="idm23661"><h2>Voir aussi</h2><p><a class="xref" href="#GetTopoGeomElements" title="GetTopoGeomElements">GetTopoGeomElements</a>, <a class="xref" href="#topoelementarray" title="TopoElementArray">TopoElementArray</a>, <a class="xref" href="#topogeometry" title="TopoGeometry">TopoGeometry</a>, <a class="xref" href="#TopoGeom_addElement" title="TopoGeom_addElement">TopoGeom_addElement</a>, <a class="xref" href="#TopoGeom_remElement" title="TopoGeom_remElement">TopoGeom_remElement</a> </p></div></div><div class="refentry" id="topoelementarray"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoElementArray — Un tableau d'objets TopoElement.</p></div><div class="refsection" id="idm23673"><h2>Description</h2><p>Un tableau de 1 ou plusieurs objets TopoElement, généralement utilisé pour transmettre des composants d'objets TopoGeometry.</p></div><div class="refsection" id="idm23676"><h2>Exemples</h2><pre class="programlisting">SELECT '{{1,2},{4,3}}'::topology.topoelementarray As tea;
  tea
-------
{{1,2},{4,3}}

-- more verbose equivalent --
SELECT ARRAY[ARRAY[1,2], ARRAY[4,3]]::topology.topoelementarray As tea;

  tea
-------
{{1,2},{4,3}}

--using the array agg function packaged with topology --
SELECT topology.TopoElementArray_Agg(ARRAY[e,t]) As tea
  FROM generate_series(1,4) As e CROSS JOIN generate_series(1,3) As t;
  tea
--------------------------------------------------------------------------
{{1,1},{1,2},{1,3},{2,1},{2,2},{2,3},{3,1},{3,2},{3,3},{4,1},{4,2},{4,3}}
                 </pre><pre class="programlisting">SELECT '{{1,2,4},{3,4,5}}'::topology.topoelementarray As tea;
ERROR:  value for domain topology.topoelementarray violates check constraint "dimensions"
                 </pre></div><div class="refsection" id="idm23680"><h2>Voir aussi</h2><p><a class="xref" href="#topoelement" title="TopoElement">TopoElement</a>, <a class="xref" href="#GetTopoGeomElementArray" title="GetTopoGeomElementArray">GetTopoGeomElementArray</a>, <a class="xref" href="#TopoElementArray_Agg" title="TopoElementArray_Agg">TopoElementArray_Agg</a> </p></div></div></section><section class="section" id="Topology_ManagementFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.3. Gestion de la topologie et de TopoGeometry</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section énumère les fonctions topologiques permettant de créer de nouveaux schémas topologiques, de valider les topologies et de gérer les colonnes TopoGeometry</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#AddTopoGeometryColumn">AddTopoGeometryColumn</a></span><span class="refpurpose"> — Ajoute une colonne topogeometry à une table existante, enregistre cette nouvelle colonne en tant que couche dans topology.layer et renvoie le nouveau numéro d'identification de la couche.</span></li><li><span class="refentrytitle"><a href="#RenameTopoGeometryColumn">RenameTopoGeometryColumn</a></span><span class="refpurpose"> — Renomme une colonne topogeometry</span></li><li><span class="refentrytitle"><a href="#DropTopology">DropTopology</a></span><span class="refpurpose"> — À utiliser avec précaution : Abandonne un schéma de topologie et supprime sa référence dans la table topology.topology et les références aux tables de ce schéma dans la table geometry_columns.</span></li><li><span class="refentrytitle"><a href="#RenameTopology">RenameTopology</a></span><span class="refpurpose"> — Renomme une topologie</span></li><li><span class="refentrytitle"><a href="#DropTopoGeometryColumn">DropTopoGeometryColumn</a></span><span class="refpurpose"> — Supprime la colonne topogeometry de la table nommée <code class="varname">table_name</code> dans le schéma <code class="varname">schema_name</code> et désenregistre les colonnes de la table topology.layer.</span></li><li><span class="refentrytitle"><a href="#Populate_Topology_Layer">Populate_Topology_Layer</a></span><span class="refpurpose"> — Ajoute les entrées manquantes à la table topology.layer en lisant les métadonnées des tables topo.</span></li><li><span class="refentrytitle"><a href="#TopologySummary">TopologySummary</a></span><span class="refpurpose"> — Prend un nom de topologie et fournit des totaux récapitulatifs des types d'objets dans la topologie.</span></li><li><span class="refentrytitle"><a href="#ValidateTopology">ValidateTopology</a></span><span class="refpurpose"> — Renvoie un ensemble d'objets validatetopology_returntype détaillant les problèmes liés à la topologie.</span></li><li><span class="refentrytitle"><a href="#ValidateTopologyRelation">ValidateTopologyRelation</a></span><span class="refpurpose"> — Renvoie des informations sur les enregistrements de relations topologiques non valides</span></li><li><span class="refentrytitle"><a href="#FindTopology">FindTopology</a></span><span class="refpurpose"> — Renvoie un enregistrement topologique par différents moyens.</span></li><li><span class="refentrytitle"><a href="#FindLayer">FindLayer</a></span><span class="refpurpose"> — Renvoie un enregistrement topology.layer par différents moyens.</span></li></ul></div><div class="refentry" id="AddTopoGeometryColumn"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AddTopoGeometryColumn — Ajoute une colonne topogeometry à une table existante, enregistre cette nouvelle colonne en tant que couche dans topology.layer et renvoie le nouveau numéro d'identification de la couche.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">AddTopoGeometryColumn</strong>(</code>varchar  <var class="pdparam">topology_name</var>, varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, varchar  <var class="pdparam">feature_type</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">AddTopoGeometryColumn</strong>(</code>varchar  <var class="pdparam">topology_name</var>, varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, varchar  <var class="pdparam">feature_type</var>, integer  <var class="pdparam">child_layer</var><code>)</code>;</p></div></div><div class="refsection" id="idm23736"><h2>Description</h2><p>Chaque objet TopoGeometry appartient à une couche spécifique d'une topologie spécifique. Avant de créer un objet TopoGeometry, il faut créer sa couche topologique. Une couche topologique est une association d'une table de caractéristiques avec la topologie. Elle contient également des informations sur le type et la hiérarchie. Nous créons une couche à l'aide de la fonction AddTopoGeometryColumn() : </p><p>Cette fonction ajoutera la colonne demandée à la table et ajoutera un enregistrement à la table topology.layer avec toutes les informations données.</p><p>Si vous ne spécifiez pas [child_layer] (ou si vous lui attribuez la valeur NULL), cette couche contiendra des TopoGeometries basiques (composées d'éléments topologiques primitifs). Sinon, cette couche contiendra des TopoGeometries hiérarchiques (composées de TopoGéométries de la couche_enfant).</p><p>Une fois la couche créée (son identifiant est renvoyé par la fonction AddTopoGeometryColumn), vous êtes prêt à y construire des objets TopoGeometry</p><p>Les <code class="varname">feature_type</code> valides sont : POINT, MULTIPOINT, LINE, MULTILINE, POLYGON, MULTIPOLYGON, COLLECTION</p><p class="availability">DIsponibilité : 1.1</p></div><div class="refsection" id="idm23745"><h2>Exemples</h2><pre class="programlisting">-- Note for this example we created our new table in the ma_topo schema
-- though we could have created it in a different schema -- in which case topology_name and schema_name would be different
CREATE SCHEMA ma;
CREATE TABLE ma.parcels(gid serial, parcel_id varchar(20) PRIMARY KEY, address text);
SELECT topology.AddTopoGeometryColumn('ma_topo', 'ma', 'parcels', 'topo', 'POLYGON');</pre><pre class="programlisting">CREATE SCHEMA ri;
CREATE TABLE ri.roads(gid serial PRIMARY KEY, road_name text);
SELECT topology.AddTopoGeometryColumn('ri_topo', 'ri', 'roads', 'topo', 'LINE');
</pre></div><div class="refsection" id="idm23749"><h2>Voir aussi</h2><p><a class="xref" href="#DropTopoGeometryColumn" title="DropTopoGeometryColumn">DropTopoGeometryColumn</a>, <a class="xref" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a> </p></div></div><div class="refentry" id="RenameTopoGeometryColumn"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>RenameTopoGeometryColumn — Renomme une colonne topogeometry</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topology.layer <strong class="fsfunc">RenameTopoGeometryColumn</strong>(</code>regclass  <var class="pdparam">layer_table</var>, name  <var class="pdparam">feature_column</var>, name  <var class="pdparam">new_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm23774"><h2>Description</h2><p>Cette fonction modifie le nom d'une colonne TopoGeometry existante en veillant à ce que les informations de métadonnées la concernant soient mises à jour en conséquence. </p><p class="availability">Disponibilité : 3.4.0</p></div><div class="refsection" id="idm23778"><h2>Exemples</h2><pre class="programlisting">SELECT topology.RenameTopoGeometryColumn('public.parcels', 'topogeom', 'tgeom');
                </pre></div><div class="refsection" id="idm23781"><h2>Voir aussi</h2><p><a class="xref" href="#AddTopoGeometryColumn" title="AddTopoGeometryColumn">AddTopoGeometryColumn</a>, <a class="xref" href="#RenameTopology" title="RenameTopology">RenameTopology</a> </p></div></div><div class="refentry" id="DropTopology"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>DropTopology — À utiliser avec précaution : Abandonne un schéma de topologie et supprime sa référence dans la table topology.topology et les références aux tables de ce schéma dans la table geometry_columns.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">DropTopology</strong>(</code>varchar  <var class="pdparam">topology_schema_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm23798"><h2>Description</h2><p>Abandonne un schéma topologique et supprime sa référence dans la table topology.topology et les références aux tables de ce schéma dans la table geometry_columns. Cette fonction doit être utilisée avec précaution, car elle peut détruire des données qui vous sont chères. Si le schéma n'existe pas, elle supprime simplement les entrées de référence du schéma nommé.</p><p class="availability">DIsponibilité : 1.1</p></div><div class="refsection" id="idm23802"><h2>Exemples</h2><p>Cascade abandonne le schéma ma_topo et supprime toutes les références à ce schéma dans topology.topology et geometry_columns.</p><pre class="programlisting">SELECT topology.DropTopology('ma_topo');</pre></div><div class="refsection" id="idm23806"><h2>Voir aussi</h2><p><a class="xref" href="#DropTopoGeometryColumn" title="DropTopoGeometryColumn">DropTopoGeometryColumn</a></p></div></div><div class="refentry" id="RenameTopology"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>RenameTopology — Renomme une topologie</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">varchar <strong class="fsfunc">RenameTopology</strong>(</code>varchar  <var class="pdparam">old_name</var>, varchar  <var class="pdparam">new_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm23825"><h2>Description</h2><p>Renomme un schéma topologique, en mettant à jour son enregistrement de métadonnées dans la table <code class="varname">topology.topology</code>. </p><p class="availability">Disponibilité : 3.4.0</p></div><div class="refsection" id="idm23830"><h2>Exemples</h2><p>Renommer une topologie de <code class="varname">topo_stage</code> à <code class="varname">topo_prod</code>. </p><pre class="programlisting">SELECT topology.RenameTopology('topo_stage', 'topo_prod');</pre></div><div class="refsection" id="idm23836"><h2>Voir aussi</h2><p><a class="xref" href="#CopyTopology" title="CopyTopology">CopyTopology</a>, <a class="xref" href="#RenameTopoGeometryColumn" title="RenameTopoGeometryColumn">RenameTopoGeometryColumn</a> </p></div></div><div class="refentry" id="DropTopoGeometryColumn"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>DropTopoGeometryColumn — Supprime la colonne topogeometry de la table nommée <code class="varname">table_name</code> dans le schéma <code class="varname">schema_name</code> et désenregistre les colonnes de la table topology.layer.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">DropTopoGeometryColumn</strong>(</code>varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm23861"><h2>Description</h2><p>Supprime la colonne topogeometry de la table nommée <code class="varname">table_name</code> dans le schéma <code class="varname">schema_name</code> et désenregistre les colonnes de la table topology.layer. Renvoie un résumé de l'état d'abandon. NOTE : il définit d'abord toutes les valeurs à NULL avant de procéder à l'abandon afin de contourner les contrôles d'intégrité référentielle.</p><p class="availability">DIsponibilité : 1.1</p></div><div class="refsection" id="idm23867"><h2>Exemples</h2><pre class="programlisting">SELECT topology.DropTopoGeometryColumn('ma_topo', 'parcel_topo', 'topo');</pre></div><div class="refsection" id="idm23870"><h2>Voir aussi</h2><p><a class="xref" href="#AddTopoGeometryColumn" title="AddTopoGeometryColumn">AddTopoGeometryColumn</a></p></div></div><div class="refentry" id="Populate_Topology_Layer"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Populate_Topology_Layer — Ajoute les entrées manquantes à la table topology.layer en lisant les métadonnées des tables topo.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">Populate_Topology_Layer</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm23884"><h2>Description</h2><p>Ajoute les entrées manquantes à la table <code class="varname">topology.layer</code> en inspectant les contraintes topologiques sur les tables. Cette fonction est utile pour corriger les entrées dans le catalogue topologique après la restauration de schémas contenant des données topographiques.</p><p>Elle renvoie la liste des entrées créées. Les colonnes retournées sont <code class="varname">schema_name</code>, <code class="varname">table_name</code>, <code class="varname">feature_column</code>.</p><p class="availability">Disponibilité : 2.3.0</p></div><div class="refsection" id="idm23893"><h2>Exemples</h2><pre class="programlisting">SELECT CreateTopology('strk_topo');
CREATE SCHEMA strk;
CREATE TABLE strk.parcels(gid serial, parcel_id varchar(20) PRIMARY KEY, address text);
SELECT topology.AddTopoGeometryColumn('strk_topo', 'strk', 'parcels', 'topo', 'POLYGON');
-- this will return no records because this feature is already registered
SELECT *
  FROM topology.Populate_Topology_Layer();

-- let's rebuild
TRUNCATE TABLE topology.layer;

SELECT *
  FROM topology.Populate_Topology_Layer();

SELECT topology_id,layer_id, schema_name As sn, table_name As tn, feature_column As fc
FROM topology.layer;

                                </pre><pre class="screen">schema_name | table_name | feature_column
-------------+------------+----------------
 strk        | parcels    | topo
(1 row)

 topology_id | layer_id |  sn  |   tn    |  fc
-------------+----------+------+---------+------
           2 |        2 | strk | parcels | topo
(1 row)</pre></div><div class="refsection" id="idm23897"><h2>Voir aussi</h2><p><a class="xref" href="#AddTopoGeometryColumn" title="AddTopoGeometryColumn">AddTopoGeometryColumn</a></p></div></div><div class="refentry" id="TopologySummary"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopologySummary — Prend un nom de topologie et fournit des totaux récapitulatifs des types d'objets dans la topologie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">TopologySummary</strong>(</code>varchar  <var class="pdparam">topology_schema_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm23913"><h2>Description</h2><p>Prend un nom de topologie et fournit des totaux récapitulatifs des types d'objets dans la topologie.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm23917"><h2>Exemples</h2><pre class="programlisting">SELECT topology.topologysummary('city_data');
                    topologysummary
--------------------------------------------------------
 Topology city_data (329), SRID 4326, precision: 0
 22 nodes, 24 edges, 10 faces, 29 topogeoms in 5 layers
 Layer 1, type Polygonal (3), 9 topogeoms
  Deploy: features.land_parcels.feature
 Layer 2, type Puntal (1), 8 topogeoms
  Deploy: features.traffic_signs.feature
 Layer 3, type Lineal (2), 8 topogeoms
  Deploy: features.city_streets.feature
 Layer 4, type Polygonal (3), 3 topogeoms
  Hierarchy level 1, child layer 1
  Deploy: features.big_parcels.feature
 Layer 5, type Puntal (1), 1 topogeoms
  Hierarchy level 1, child layer 2
  Deploy: features.big_signs.feature</pre></div><div class="refsection" id="idm23920"><h2>Voir aussi</h2><p><a class="xref" href="#Topology_Load_Tiger" title="Topology_Load_Tiger">Topology_Load_Tiger</a></p></div></div><div class="refentry" id="ValidateTopology"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ValidateTopology — Renvoie un ensemble d'objets validatetopology_returntype détaillant les problèmes liés à la topologie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof validatetopology_returntype <strong class="fsfunc">ValidateTopology</strong>(</code>varchar  <var class="pdparam">toponame</var>, geometry <var class="pdparam">bbox</var><code>)</code>;</p></div></div><div class="refsection" id="idm23939"><h2>Description</h2><p>Renvoie un ensemble d'objets <a class="xref" href="#validatetopology_returntype" title="validatetopology_returntype">validatetopology_returntype</a> détaillant les problèmes de topologie, en limitant éventuellement la vérification à la zone spécifiée par le paramètre <code class="varname">bbox</code>. </p><p>La liste des erreurs possibles, ce qu'elles signifient et ce que représentent les identifiants renvoyés est affichée ci-dessous :</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Erreur</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">id1</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">id2</th><th style="border-bottom: 1px solid ; ">Signification</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">nœuds coïncidents</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant du premier nœud.</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant du second nœud.</td><td style="border-bottom: 1px solid ; ">Deux nœuds ont la même géométrie. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">l'arête croise le nœud</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant de l'arête.</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant du nœud.</td><td style="border-bottom: 1px solid ; ">Une arête a un nœud à l'intérieur. Voir <a class="xref" href="#ST_Relate" title="ST_Relate">ST_Relate</a>. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">arête invalide</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant de l'arête.</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">La géométrie d'une arête n'est pas valide. Voir <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">l'arête n'est pas simple</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant de l'arête.</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">Une géométrie d'arête possède des auto-intersections. Voir <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">une arête croise une arête</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant de la première arête.</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant de la deuxième arête.</td><td style="border-bottom: 1px solid ; ">Deux arêtes ont une intersection intérieure. Voir <a class="xref" href="#ST_Relate" title="ST_Relate">ST_Relate</a>. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">arête début nœud géométrie inadéquate</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant de l'arête.</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant du nœud de départ indiqué. </td><td style="border-bottom: 1px solid ; ">La géométrie du nœud indiqué comme nœud de départ d'une arête ne correspond pas au premier point de la géométrie de l'arête. Voir <a class="xref" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a>. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">arête extrémité nœud géométrie non conforme</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant de l'arête.</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant du nœud final indiqué. </td><td style="border-bottom: 1px solid ; ">La géométrie du nœud indiqué comme nœud final d'une arête ne correspond pas au dernier point de la géométrie de l'arête. Voir <a class="xref" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a>. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">face sans arêtes</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant de la face orpheline. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">Aucune arête ne signale une face existante sur l'un ou l'autre de ses côtés (face_gauche, face_droite). </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">la face n'a pas d'anneaux</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant de la face partiellement définie. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">Les arêtes rapportant une face sur leurs côtés ne forment pas un anneau. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">la face n'a pas le bon mbr (minimum bounding rectangle)</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant de la face avec un cache mbr (minimum bounding rectangle) erroné. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">Le rectangle minimal de délimitation d'une face ne correspond pas au rectangle minimal de délimitation de la collection d'arêtes rapportant la face sur leurs côtés. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">le trou n'est pas dans la face annoncée</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant signé d'une arête, identifiant l'anneau. Voir <a class="xref" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a>. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">Un anneau d'arêtes rapportant une face sur son extérieur est contenu dans une face différente. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">le nœud non isolé a une face non-contenante</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant du nœud mal défini. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">Un nœud signalé comme étant à la limite d'une ou plusieurs arêtes indique une face contenante. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">le nœud isolé a une face contenante</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant du nœud mal défini. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">Un nœud qui n'est pas signalé comme étant à la limite d'une arête n'a pas l'indication d'une face contenante. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Le nœud isolé n'a pas la bonne face contenante</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant du nœud mal représenté. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">Un nœud qui n'est pas signalé comme étant à la limite d'une arête indique une face contenante qui n'est pas la face réelle qui le contient. Voir <a class="xref" href="#GetFaceContainingPoint" title="GetFaceContainingPoint">GetFaceContainingPoint</a>. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">next_right_edge invalide</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant de l'arête mal représentée. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant signé de l'arête qui doit être indiqué comme la prochaine arête droite. </td><td style="border-bottom: 1px solid ; ">L'arête indiquée comme le prochaine arête rencontrée en évoluant sur le côté droit d'une arête est faux. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">next_left_edge invalide</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant de l'arête mal représentée. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant signé de l'arête qui doit être indiquée comme l'arête gauche suivante. </td><td style="border-bottom: 1px solid ; ">L'arête indiquée comme la prochaine arête rencontrée en évoluant sur le côté gauche d'une arête est faux. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">étiquetage mixte des faces dans l'anneau</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant signé d'une arête, identifiant l'anneau. Voir <a class="xref" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a>. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">Les arêtes d'un anneau indiquent des faces conflictuelles dans le sens de la progression. C'est ce que l'on appelle un "Side Location Conflict" (Conflit d'emplacement latéral). </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">anneau non fermé</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifiant signé d'une arête, identifiant l'anneau. Voir <a class="xref" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a>. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">Un anneau d'arêtes formé par les attributs next_left_edge/next_right_edge commence et se termine sur différents nœuds. </td></tr><tr><td style="border-right: 1px solid ; ">la face a plusieurs enveloppes</td><td style="border-right: 1px solid ; ">Identifiant de la face contestée. </td><td style="border-right: 1px solid ; ">Identifiant signé d'une arête, identifiant l'anneau. Voir <a class="xref" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a>. </td><td>Plus d'un anneau d'arêtes indique la même face à l'intérieur. </td></tr></tbody></table></div><p class="availability">Disponibilité : 1.0.0</p><p class="enhanced">Amélioration : 2.0.0 détection plus efficace des croisements d'arêtes et correction des faux positifs qui existaient dans les versions précédentes.</p><p class="changed">Modifié : 2.2.0 les valeurs pour id1 et id2 ont été échangées pour "edge crosses node" pour être cohérent avec la description de l'erreur.</p><p class="changed">Modifié : 3.2.0 a ajouté le paramètre optionnel bbox, effectuant des vérifications de l'étiquetage des faces et de la liaison des arêtes.</p></div><div class="refsection" id="idm24064"><h2>Exemples</h2><pre class="programlisting">SELECT * FROM  topology.ValidateTopology('ma_topo');
      error        | id1 | id2
-------------------+-----+-----
face without edges |   1 |
                                </pre></div><div class="refsection" id="idm24067"><h2>Voir aussi</h2><p><a class="xref" href="#validatetopology_returntype" title="validatetopology_returntype">validatetopology_returntype</a>, <a class="xref" href="#Topology_Load_Tiger" title="Topology_Load_Tiger">Topology_Load_Tiger</a></p></div></div><div class="refentry" id="ValidateTopologyRelation"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ValidateTopologyRelation — Renvoie des informations sur les enregistrements de relations topologiques non valides</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ValidateTopologyRelation</strong>(</code>varchar  <var class="pdparam">toponame</var><code>)</code>;</p></div></div><div class="refsection" id="idm24084"><h2>Description</h2><p>Renvoie un ensemble d'enregistrements donnant des informations sur les invalidités dans la table des relations de la topologie. </p><p class="availability">Disponibilité : 3.2.0</p></div><div class="refsection" id="idm24088"><h2>Voir aussi</h2><p><a class="xref" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a></p></div></div><div class="refentry" id="FindTopology"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>FindTopology — Renvoie un enregistrement topologique par différents moyens.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topology <strong class="fsfunc">FindTopology</strong>(</code>TopoGeometry <var class="pdparam">topogeom</var><code>)</code>;</p><p><code class="funcdef">topology <strong class="fsfunc">FindTopology</strong>(</code>regclass <var class="pdparam">layerTable</var>, name <var class="pdparam">layerColumn</var><code>)</code>;</p><p><code class="funcdef">topology <strong class="fsfunc">FindTopology</strong>(</code>name <var class="pdparam">layerSchema</var>, name <var class="pdparam">layerTable</var>, name <var class="pdparam">layerColumn</var><code>)</code>;</p><p><code class="funcdef">topology <strong class="fsfunc">FindTopology</strong>(</code>text <var class="pdparam">topoName</var><code>)</code>;</p><p><code class="funcdef">topology <strong class="fsfunc">FindTopology</strong>(</code>int <var class="pdparam">id</var><code>)</code>;</p></div></div><div class="refsection" id="idm24137"><h2>Description</h2><p>Prend un identifiant de topologie ou l'identifiant d'un objet lié à la topologie et renvoie un enregistrement topology.topology.</p><p class="availability">Disponibilité : 3.2.0</p></div><div class="refsection" id="idm24141"><h2>Exemples</h2><pre class="programlisting">SELECT name(findTopology('features.land_parcels', 'feature'));
   name
-----------
 city_data
(1 row)
</pre></div><div class="refsection" id="idm24144"><h2>Voir aussi</h2><p><a class="xref" href="#FindLayer" title="FindLayer">FindLayer</a></p></div></div><div class="refentry" id="FindLayer"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>FindLayer — Renvoie un enregistrement topology.layer par différents moyens.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topology.layer <strong class="fsfunc">FindLayer</strong>(</code>TopoGeometry <var class="pdparam">tg</var><code>)</code>;</p><p><code class="funcdef">topology.layer <strong class="fsfunc">FindLayer</strong>(</code>regclass <var class="pdparam">layer_table</var>, name <var class="pdparam">feature_column</var><code>)</code>;</p><p><code class="funcdef">topology.layer <strong class="fsfunc">FindLayer</strong>(</code>name <var class="pdparam">schema_name</var>, name <var class="pdparam">table_name</var>, name <var class="pdparam">feature_column</var><code>)</code>;</p><p><code class="funcdef">topology.layer <strong class="fsfunc">FindLayer</strong>(</code>integer <var class="pdparam">topology_id</var>, integer <var class="pdparam">layer_id</var><code>)</code>;</p></div></div><div class="refsection" id="idm24190"><h2>Description</h2><p>Prend un identifiant de couche ou l'identifiant d'un objet lié à la topologie et renvoie un enregistrement topology.layer.</p><p class="availability">Disponibilité : 3.2.0</p></div><div class="refsection" id="idm24194"><h2>Exemples</h2><pre class="programlisting">SELECT layer_id(findLayer('features.land_parcels', 'feature'));
 layer_id
----------
        1
(1 row)
</pre></div><div class="refsection" id="idm24197"><h2>Voir aussi</h2><p><a class="xref" href="#FindTopology" title="FindTopology">FindTopology</a></p></div></div></section><section class="section" id="Topology_StatsManagement"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.4. Gestion des statistiques de topologie</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section traite de la gestion des statistiques de la base de données pendant la construction de la topologie. </p></div></div></div></div><p>L'ajout d'éléments à une topologie déclenche de nombreuses requêtes dans la base de données pour trouver les arêtes existantes qui seront divisées, ajouter des nœuds et mettre à jour les arêtes qui formeront un nœud avec le nouveau réseau de lignes. C'est pourquoi il est utile que les statistiques relatives aux données contenues dans les tables de topologie soient à jour. </p><p>Les fonctions d'insertion et d'édition de topologie de PostGIS ne mettent pas automatiquement à jour les statistiques, car une mise à jour des statistiques après chaque changement dans une topologie serait exagérée, et c'est donc à l'appelant de s'en charger. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les statistiques mises à jour par autovacuum ne seront PAS visibles pour les transactions qui ont démarré avant la fin du processus d'autovacuum, de sorte que les transactions de longue durée devront exécuter ANALYZE elles-mêmes, pour utiliser les statistiques mises à jour. </p></td></tr></table></div></section><section class="section" id="Topology_Constructors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.5. Constructeurs de topologie</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section couvre les fonctions de topologie permettant de créer de nouvelles topologies.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#CreateTopology">CreateTopology</a></span><span class="refpurpose"> — Crée un nouveau schéma topologique et l'enregistre dans la table topology.topology.</span></li><li><span class="refentrytitle"><a href="#CopyTopology">CopyTopology</a></span><span class="refpurpose"> — Copie une topologie (nœuds, arêtes, faces, couches et TopoGeometries) dans un nouveau schéma</span></li><li><span class="refentrytitle"><a href="#ST_InitTopoGeo">ST_InitTopoGeo</a></span><span class="refpurpose"> — Crée un nouveau schéma topologique et l'enregistre dans la table topology.topology.</span></li><li><span class="refentrytitle"><a href="#ST_CreateTopoGeo">ST_CreateTopoGeo</a></span><span class="refpurpose"> — Ajoute une collection de géométries à une topologie vide donnée et renvoie un message détaillant le succès. </span></li><li><span class="refentrytitle"><a href="#TopoGeo_AddPoint">TopoGeo_AddPoint</a></span><span class="refpurpose"> — Ajoute un point à une topologie existante en utilisant une tolérance et en divisant éventuellement une arête existante. </span></li><li><span class="refentrytitle"><a href="#TopoGeo_AddLineString">TopoGeo_AddLineString</a></span><span class="refpurpose"> — Adds a linestring to an existing topology using a tolerance and possibly splitting existing edges/faces. </span></li><li><span class="refentrytitle"><a href="#TopoGeo_AddPolygon">TopoGeo_AddPolygon</a></span><span class="refpurpose"> — Ajoute un polygone à une topologie existante en utilisant une tolérance et en divisant éventuellement les arêtes/faces existantes. Renvoie les identifiants des faces.</span></li><li><span class="refentrytitle"><a href="#TopoGeo_LoadGeometry">TopoGeo_LoadGeometry</a></span><span class="refpurpose"> — Charge une géométrie dans une topologie existante, en effectuant de l'accrochage et des divisions si nécessaire.</span></li></ul></div><div class="refentry" id="CreateTopology"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CreateTopology — Crée un nouveau schéma topologique et l'enregistre dans la table topology.topology.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">CreateTopology</strong>(</code>varchar  <var class="pdparam">topology_schema_name</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">CreateTopology</strong>(</code>varchar  <var class="pdparam">topology_schema_name</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">CreateTopology</strong>(</code>varchar  <var class="pdparam">topology_schema_name</var>, integer  <var class="pdparam">srid</var>, double precision  <var class="pdparam">prec</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">CreateTopology</strong>(</code>varchar  <var class="pdparam">topology_schema_name</var>, integer  <var class="pdparam">srid</var>, double precision  <var class="pdparam">prec</var>, boolean  <var class="pdparam">hasz</var><code>)</code>;</p></div></div><div class="refsection" id="idm24263"><h2>Description</h2><p>Crée un nouveau schéma de topologie portant le nom <code class="varname">topology_name</code> et l'enregistre dans la table <code class="varname">topology.topology</code>. Les topologies doivent porter un nom unique. Les tables de topologie (<code class="varname">edge_data</code>, <code class="varname">face</code>, <code class="varname">node</code> et <code class="varname">relation</code>) sont créées dans le schéma. Elle renvoie l'identifiant de la topologie. </p><p>Le <code class="varname">srid</code> est le <a class="link" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">système de référence spatiale</a> SRID pour la topologie. </p><p>La tolérance <code class="varname">prec</code> est mesurée dans les unités du système de référence spatiale. La tolérance est fixée par défaut à 0. </p><p><code class="varname">hasz</code> La valeur par défaut est false si elle n'est pas spécifiée. </p><p>Cette fonction est similaire à la fonction SQL/MM <a class="xref" href="#ST_InitTopoGeo" title="ST_InitTopoGeo">ST_InitTopoGeo</a> mais possède plus de fonctionnalités.</p><p class="availability">DIsponibilité : 1.1</p><p class="enhanced">Amélioration : 2.0 ajout de la signature acceptant hasZ</p></div><div class="refsection" id="idm24283"><h2>Exemples</h2><p>Créez un schéma topologique appelé <code class="varname">ma_topo</code> qui stocke les arêtes et les nœuds en mètres de Massachusetts State Plane (SRID = 26986). La tolérance est de 0,5 mètre puisque le système de référence spatiale est basé sur le mètre.</p><pre class="programlisting">SELECT topology.CreateTopology('ma_topo', 26986, 0.5);</pre><p>Créer une topologie pour Rhode Island appelée <code class="varname">ri_topo</code> dans le système de référence spatiale State Plane-feet (SRID = 3438)</p><pre class="programlisting">SELECT topology.CreateTopology('ri_topo', 3438) AS topoid;
topoid
------
2</pre></div><div class="refsection" id="idm24291"><h2>Voir aussi</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">Section 4.5, “Systèmes de référence spatiale”</a>, <a class="xref" href="#ST_InitTopoGeo" title="ST_InitTopoGeo">ST_InitTopoGeo</a>, <a class="xref" href="#Topology_Load_Tiger" title="Topology_Load_Tiger">Topology_Load_Tiger</a></p></div></div><div class="refentry" id="CopyTopology"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CopyTopology — Copie une topologie (nœuds, arêtes, faces, couches et TopoGeometries) dans un nouveau schéma</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">CopyTopology</strong>(</code>varchar  <var class="pdparam">existing_topology_name</var>, varchar  <var class="pdparam">new_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm24312"><h2>Description</h2><p>Crée une nouvelle topologie avec le nom <code class="varname">new_name</code>, avec le SRID et la précision copiés à partir de <code class="varname">existing_topology_name</code> Les nœuds, les arêtes et les faces dans <code class="varname">existing_topology_name</code> sont copiés dans la nouvelle topologie, ainsi que les couches et leurs TopoGeometries associées. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les nouvelles lignes de la table <code class="varname">topology.layer</code> contiennent des valeurs synthétiques pour schema_name, table_name et feature_column. Ceci est dû au fait que les objets TopoGeometry n'existent qu'en tant que définition et ne sont pas encore disponibles dans une table définie par l'utilisateur. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm24322"><h2>Exemples</h2><p>Faire une sauvegarde d'une topologie appelée <code class="varname">ma_topo</code>. </p><pre class="programlisting">SELECT topology.CopyTopology('ma_topo', 'ma_topo_backup');</pre></div><div class="refsection" id="idm24327"><h2>Voir aussi</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">Section 4.5, “Systèmes de référence spatiale”</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#RenameTopology" title="RenameTopology">RenameTopology</a> </p></div></div><div class="refentry" id="ST_InitTopoGeo"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_InitTopoGeo — Crée un nouveau schéma topologique et l'enregistre dans la table topology.topology.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_InitTopoGeo</strong>(</code>varchar  <var class="pdparam">topology_schema_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm24345"><h2>Description</h2><p>C'est l'équivalent SQL-MM de <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>. Il manque des options pour le système de référence spatial et la tolérance. Il renvoie une description textuelle de la création de la topologie, au lieu de l'identifiant de la topologie.</p><p class="availability">DIsponibilité : 1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 Topo-Geo et Topo-Net 3 : Routine Details : X.3.17</p></div><div class="refsection" id="idm24354"><h2>Exemples</h2><pre class="programlisting">SELECT topology.ST_InitTopoGeo('topo_schema_to_create') AS topocreation;
                      astopocreation
------------------------------------------------------------
 Topology-Geometry 'topo_schema_to_create' (id:7) created.
                                </pre></div><div class="refsection" id="idm24357"><h2>Voir aussi</h2><p><a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a></p></div></div><div class="refentry" id="ST_CreateTopoGeo"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CreateTopoGeo — Ajoute une collection de géométries à une topologie vide donnée et renvoie un message détaillant le succès. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_CreateTopoGeo</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">acollection</var><code>)</code>;</p></div></div><div class="refsection" id="idm24376"><h2>Description</h2><p>Ajoute une collection de géométries à une topologie vide donnée et renvoie un message détaillant le succès. </p><p>Utile pour remplir une topologie vide.</p><p class="availability">Disponibilité : 2.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM: Topo-Geo et Topo-Net 3: Routine Details -- X.3.18</p></div><div class="refsection" id="idm24385"><h2>Exemples</h2><pre class="programlisting">-- Populate topology --
SELECT topology.ST_CreateTopoGeo('ri_topo',
 ST_GeomFromText('MULTILINESTRING((384744 236928,384750 236923,384769 236911,384799 236895,384811 236890,384833 236884,
  384844 236882,384866 236881,384879 236883,384954 236898,385087 236932,385117 236938,
  385167 236938,385203 236941,385224 236946,385233 236950,385241 236956,385254 236971,
  385260 236979,385268 236999,385273 237018,385273 237037,385271 237047,385267 237057,
  385225 237125,385210 237144,385192 237161,385167 237192,385162 237202,385159 237214,
  385159 237227,385162 237241,385166 237256,385196 237324,385209 237345,385234 237375,
  385237 237383,385238 237399,385236 237407,385227 237419,385213 237430,385193 237439,
  385174 237451,385170 237455,385169 237460,385171 237475,385181 237503,385190 237521,
  385200 237533,385206 237538,385213 237541,385221 237542,385235 237540,385242 237541,
  385249 237544,385260 237555,385270 237570,385289 237584,385292 237589,385291 237596,385284 237630))',3438)
  );

      st_createtopogeo
----------------------------
 Topology ri_topo populated


-- create tables and topo geometries --
CREATE TABLE ri.roads(gid serial PRIMARY KEY, road_name text);

SELECT topology.AddTopoGeometryColumn('ri_topo', 'ri', 'roads', 'topo', 'LINE');
                                </pre></div><div class="refsection" id="idm24388"><h2>Voir aussi</h2><p><a class="xref" href="#TopoGeo_LoadGeometry" title="TopoGeo_LoadGeometry">TopoGeo_LoadGeometry</a>, <a class="xref" href="#AddTopoGeometryColumn" title="AddTopoGeometryColumn">AddTopoGeometryColumn</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#DropTopology" title="DropTopology">DropTopology</a> </p></div></div><div class="refentry" id="TopoGeo_AddPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeo_AddPoint — Ajoute un point à une topologie existante en utilisant une tolérance et en divisant éventuellement une arête existante. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">TopoGeo_AddPoint</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">apoint</var>, float8  <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm24413"><h2>Description</h2><p>Ajoute un point à une topologie existante et renvoie son identifiant. Le point donné s'accroche aux nœuds ou aux arêtes existants dans la limite d'une tolérance donnée. Une arête existante peut être divisée par le point accroché. </p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm24417"><h2>Voir aussi</h2><p><a class="xref" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a>, <a class="xref" href="#TopoGeo_AddPolygon" title="TopoGeo_AddPolygon">TopoGeo_AddPolygon</a>, <a class="xref" href="#TopoGeo_LoadGeometry" title="TopoGeo_LoadGeometry">TopoGeo_LoadGeometry</a>, <a class="xref" href="#AddNode" title="AddNode">AddNode</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a> </p></div></div><div class="refentry" id="TopoGeo_AddLineString"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeo_AddLineString — Adds a linestring to an existing topology using a tolerance and possibly splitting existing edges/faces. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">SETOF integer <strong class="fsfunc">TopoGeo_AddLineString</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">aline</var>, float8  <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm24443"><h2>Description</h2><p>Adds a linestring to an existing topology and returns a set of signed edge identifiers forming it up (negative identifies mean the edge goes in the opposite direction of the input linestring). The given line will snap to existing nodes or edges within given tolerance. Existing edges and faces may be split by the line. New nodes and faces may be added. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La mise à jour des statistiques sur les topologies chargées via cette fonction est du ressort de l'appelant, voir <a class="xref" href="#Topology_StatsManagement" title="9.4. Gestion des statistiques de topologie">maintaining statistics during topology editing and population</a>. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p><p class="enhanced">Enhanced: 3.2.0 added support for returning signed identifier.</p></div><div class="refsection" id="idm24451"><h2>Voir aussi</h2><p><a class="xref" href="#TopoGeo_AddPoint" title="TopoGeo_AddPoint">TopoGeo_AddPoint</a>, <a class="xref" href="#TopoGeo_AddPolygon" title="TopoGeo_AddPolygon">TopoGeo_AddPolygon</a>, <a class="xref" href="#TopoGeo_LoadGeometry" title="TopoGeo_LoadGeometry">TopoGeo_LoadGeometry</a>, <a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a> </p></div></div><div class="refentry" id="TopoGeo_AddPolygon"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeo_AddPolygon — Ajoute un polygone à une topologie existante en utilisant une tolérance et en divisant éventuellement les arêtes/faces existantes. Renvoie les identifiants des faces.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">SETOF integer <strong class="fsfunc">TopoGeo_AddPolygon</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">apoly</var>, float8  <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm24477"><h2>Description</h2><p>Ajoute un polygone à une topologie existante et renvoie un ensemble d'identifiants de face le constituant. La limite du polygone donné s'accrochera aux nœuds ou aux arêtes existants dans la limite d'une tolérance donnée. Les arêtes et les faces existantes peuvent être divisées par la limite du nouveau polygone. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La mise à jour des statistiques sur les topologies chargées via cette fonction est du ressort de l'appelant, voir <a class="xref" href="#Topology_StatsManagement" title="9.4. Gestion des statistiques de topologie">maintaining statistics during topology editing and population</a>. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm24484"><h2>Voir aussi</h2><p><a class="xref" href="#TopoGeo_AddPoint" title="TopoGeo_AddPoint">TopoGeo_AddPoint</a>, <a class="xref" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a>, <a class="xref" href="#TopoGeo_LoadGeometry" title="TopoGeo_LoadGeometry">TopoGeo_LoadGeometry</a>, <a class="xref" href="#AddFace" title="AddFace">AddFace</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a> </p></div></div><div class="refentry" id="TopoGeo_LoadGeometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeo_LoadGeometry — Charge une géométrie dans une topologie existante, en effectuant de l'accrochage et des divisions si nécessaire.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">void <strong class="fsfunc">TopoGeo_LoadGeometry</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">ageom</var>, float8  <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm24510"><h2>Description</h2><p>Charge une géométrie dans une topologie existante. La géométrie donnée s'accrochera aux nœuds ou au arêtes existantes dans la limite d'une tolérance donnée. Les arêtes et les faces existantes peuvent être divisées suite au chargement. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La mise à jour des statistiques sur les topologies chargées via cette fonction est du ressort de l'appelant, voir <a class="xref" href="#Topology_StatsManagement" title="9.4. Gestion des statistiques de topologie">maintaining statistics during topology editing and population</a>. </p></td></tr></table></div><p class="availability">Disponibilité : 3.5.0</p></div><div class="refsection" id="idm24517"><h2>Voir aussi</h2><p><a class="xref" href="#TopoGeo_AddPoint" title="TopoGeo_AddPoint">TopoGeo_AddPoint</a>, <a class="xref" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a>, <a class="xref" href="#TopoGeo_AddPolygon" title="TopoGeo_AddPolygon">TopoGeo_AddPolygon</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a> </p></div></div></section><section class="section" id="Topology_Editing"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.6. Éditeurs de topologie</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section traite des fonctions topologiques permettant d'ajouter, de déplacer, de supprimer et de diviser des arêtes, des faces et des nœuds. Toutes ces fonctions sont définies par ISO SQL/MM.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_AddIsoNode">ST_AddIsoNode</a></span><span class="refpurpose"> — Ajoute un noeud isolé à une face dans une topologie et renvoie le nodeid du nouveau noeud. Si la face est nulle, le noeud est quand même créé.</span></li><li><span class="refentrytitle"><a href="#ST_AddIsoEdge">ST_AddIsoEdge</a></span><span class="refpurpose"> — Ajoute une arête isolée définie par la géométrie <code class="varname">alinestring</code> à une topologie reliant deux nœuds isolés existants <code class="varname">anode</code> et <code class="varname">anothernode</code> et renvoie l'identifiant de l'arête de la nouvelle arête.</span></li><li><span class="refentrytitle"><a href="#ST_AddEdgeNewFaces">ST_AddEdgeNewFaces</a></span><span class="refpurpose"> — Ajoutez une nouvelle arête et, si elle divise une face, supprimez la face d'origine et remplacez-la par deux nouvelles faces.</span></li><li><span class="refentrytitle"><a href="#ST_AddEdgeModFace">ST_AddEdgeModFace</a></span><span class="refpurpose"> — Ajoutez une nouvelle arête et, si elle divise une face, modifiez la face d'origine et ajoutez une nouvelle face.</span></li><li><span class="refentrytitle"><a href="#ST_RemEdgeNewFace">ST_RemEdgeNewFace</a></span><span class="refpurpose"> — Enlève une arête et, si l'arête enlevée séparait deux faces, supprime les faces originales et les remplace par une nouvelle face. </span></li><li><span class="refentrytitle"><a href="#ST_RemEdgeModFace">ST_RemEdgeModFace</a></span><span class="refpurpose"> — Supprime une arête et, si l'arête sépare deux faces, supprime une face et modifie l'autre face pour couvrir l'espace des deux. </span></li><li><span class="refentrytitle"><a href="#ST_ChangeEdgeGeom">ST_ChangeEdgeGeom</a></span><span class="refpurpose"> — Modifie la forme d'une arête sans affecter la structure de la topologie. </span></li><li><span class="refentrytitle"><a href="#ST_ModEdgeSplit">ST_ModEdgeSplit</a></span><span class="refpurpose"> — Fractionner une arête en créant un nouveau nœud le long d'une arête existante, en modifiant l'arête d'origine et en ajoutant une nouvelle arête.</span></li><li><span class="refentrytitle"><a href="#ST_ModEdgeHeal">ST_ModEdgeHeal</a></span><span class="refpurpose"> — Répare deux arêtes en supprimant le nœud qui les relie, en modifiant la première arête et en supprimant la seconde. Renvoie l'identifiant du nœud supprimé. </span></li><li><span class="refentrytitle"><a href="#ST_NewEdgeHeal">ST_NewEdgeHeal</a></span><span class="refpurpose"> — Répare deux arêtes en supprimant le nœud qui les relie, en supprimant les deux arêtes et en les remplaçant par une arête dont la direction est la même que la première arête fournie. </span></li><li><span class="refentrytitle"><a href="#ST_MoveIsoNode">ST_MoveIsoNode</a></span><span class="refpurpose"> — Déplace un nœud isolé dans une topologie d'un point à un autre. Si la nouvelle géométrie <code class="varname">apoint</code> existe en tant que noeud, une erreur est générée. Retourne la description du déplacement.</span></li><li><span class="refentrytitle"><a href="#ST_NewEdgesSplit">ST_NewEdgesSplit</a></span><span class="refpurpose"> — Fractionne une arête en créant un nouveau nœud le long d'une arête existante, en supprimant l'arête d'origine et en la remplaçant par deux nouvelles arêtes. Renvoie l'identifiant du nouveau nœud créé qui relie les nouvelles arêtes.</span></li><li><span class="refentrytitle"><a href="#ST_RemoveIsoNode">ST_RemoveIsoNode</a></span><span class="refpurpose"> — Supprime un noeud isolé et renvoie la description de l'action. Si le noeud n'est pas isolé (début ou fin d'une arête), une exception est levée.</span></li><li><span class="refentrytitle"><a href="#ST_RemoveIsoEdge">ST_RemoveIsoEdge</a></span><span class="refpurpose"> — Supprime une arête isolée et renvoie la description de l'action. Si l'arête n'est pas isolée, une exception est levée.</span></li></ul></div><div class="refentry" id="ST_AddIsoNode"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AddIsoNode — Ajoute un noeud isolé à une face dans une topologie et renvoie le nodeid du nouveau noeud. Si la face est nulle, le noeud est quand même créé.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_AddIsoNode</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">aface</var>, geometry  <var class="pdparam">apoint</var><code>)</code>;</p></div></div><div class="refsection" id="idm24547"><h2>Description</h2><p>Ajoute un noeud isolé avec un point <code class="varname">apoint</code> à une face existante avec un faceid <code class="varname">aface</code> à une topologie <code class="varname">atopology</code> et renvoie le nodeid du nouveau noeud.</p><p>Si le système de référence spatiale (srid) de la géométrie du point n'est pas le même que la topologie, si le <code class="varname">apoint</code> n'est pas une géométrie de point, si le point est nul ou si le point croise une arête existante (même aux limites), une exception est levée. Si le point existe déjà en tant que nœud, une exception est levée.</p><p>Si <code class="varname">aface</code> n'est pas null et que le <code class="varname">apoint</code> n'est pas à l'intérieur de la face, une exception est levée.</p><p class="availability">DIsponibilité : 1.1 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM: Topo-Net Routines : X+1.3.1</p></div><div class="refsection" id="idm24563"><h2>Exemples</h2><p/></div><div class="refsection" id="idm24566"><h2>Voir aussi</h2><p><a class="xref" href="#AddNode" title="AddNode">AddNode</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#DropTopology" title="DropTopology">DropTopology</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a></p></div></div><div class="refentry" id="ST_AddIsoEdge"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AddIsoEdge — Ajoute une arête isolée définie par la géométrie <code class="varname">alinestring</code> à une topologie reliant deux nœuds isolés existants <code class="varname">anode</code> et <code class="varname">anothernode</code> et renvoie l'identifiant de l'arête de la nouvelle arête.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_AddIsoEdge</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anode</var>, integer  <var class="pdparam">anothernode</var>, geometry  <var class="pdparam">alinestring</var><code>)</code>;</p></div></div><div class="refsection" id="idm24597"><h2>Description</h2><p>Ajoute une arête isolée définie par la géométrie <code class="varname">alinestring</code> à une topologie reliant deux nœuds isolés existants <code class="varname">anode</code> et <code class="varname">anothernode</code> et renvoie l'identifiant de l'arête de la nouvelle arête.</p><p>Si le système de référence spatiale (srid) de la géométrie <code class="varname">alinestring</code> n'est pas le même que la topologie, si l'un des arguments d'entrée est nul, si les noeuds sont contenus dans plus d'une face, ou si les noeuds sont des noeuds de départ ou d'arrivée d'une arête existante, une exception est levée.</p><p>Si le <code class="varname">alinestring</code> ne se trouve pas à l'intérieur de la face à laquelle appartiennent le <code class="varname">anode</code> et le <code class="varname">anothernode</code>, une exception est levée.</p><p>Si le <code class="varname">anode</code> et le <code class="varname">anothernode</code> ne sont pas les points de départ et d'arrivée du <code class="varname">alinestring</code>, une exception est levée.</p><p class="availability">DIsponibilité : 1.1 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM: Topo-Geo et Topo-Net 3: Routine Details: X.3.4</p></div><div class="refsection" id="idm24618"><h2>Exemples</h2><p/></div><div class="refsection" id="idm24621"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AddIsoNode" title="ST_AddIsoNode">ST_AddIsoNode</a>, <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a></p></div></div><div class="refentry" id="ST_AddEdgeNewFaces"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AddEdgeNewFaces — Ajoutez une nouvelle arête et, si elle divise une face, supprimez la face d'origine et remplacez-la par deux nouvelles faces.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_AddEdgeNewFaces</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anode</var>, integer  <var class="pdparam">anothernode</var>, geometry  <var class="pdparam">acurve</var><code>)</code>;</p></div></div><div class="refsection" id="idm24648"><h2>Description</h2><p>Ajoutez une nouvelle arête et, si elle divise une face, supprimez la face d'origine et remplacez-la par deux nouvelles faces. Renvoie l'identifiant de l'arête nouvellement ajoutée. </p><p>Met à jour toutes les arêtes jointes existantes et les relations en conséquence. </p><p>Si l'un des arguments est nul, les nœuds donnés sont inconnus (doivent déjà exister dans la table <code class="varname">node</code> du schéma topologique), la <code class="varname">acurve</code> n'est pas une <code class="varname">LINESTRING</code>, le <code class="varname">anode</code> et <code class="varname">anothernode</code> ne sont pas les points de départ et d'arrivée de <code class="varname">acurve</code>, une erreur est générée.</p><p>Si le système de référence spatiale (srid) de la géométrie <code class="varname">acurve</code> n'est pas le même que la topologie, une exception est levée.</p><p class="availability">Disponibilité : 2.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM: Topo-Geo et Topo-Net 3: Routine Details: X.3.12</p></div><div class="refsection" id="idm24666"><h2>Exemples</h2><p/></div><div class="refsection" id="idm24669"><h2>Voir aussi</h2><p><a class="xref" href="#ST_RemEdgeNewFace" title="ST_RemEdgeNewFace">ST_RemEdgeNewFace</a></p><p><a class="xref" href="#ST_AddEdgeModFace" title="ST_AddEdgeModFace">ST_AddEdgeModFace</a></p></div></div><div class="refentry" id="ST_AddEdgeModFace"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AddEdgeModFace — Ajoutez une nouvelle arête et, si elle divise une face, modifiez la face d'origine et ajoutez une nouvelle face.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_AddEdgeModFace</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anode</var>, integer  <var class="pdparam">anothernode</var>, geometry  <var class="pdparam">acurve</var><code>)</code>;</p></div></div><div class="refsection" id="idm24696"><h2>Description</h2><p>Ajouter une nouvelle arête et, si cela divise une face, modifier la face d'origine et en ajouter une nouvelle. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si possible, la nouvelle face sera créée sur le côté gauche de la nouvelle arête. Cela ne sera pas possible si la face du côté gauche doit être la face de l'univers (non borné). </p></td></tr></table></div><p>Renvoie l'identifiant de l'arête nouvellement ajoutée. </p><p>Met à jour toutes les arêtes jointes existantes et les relations en conséquence. </p><p>Si l'un des arguments est nul, les nœuds donnés sont inconnus (doivent déjà exister dans la table <code class="varname">node</code> du schéma topologique), la <code class="varname">acurve</code> n'est pas une <code class="varname">LINESTRING</code>, le <code class="varname">anode</code> et <code class="varname">anothernode</code> ne sont pas les points de départ et d'arrivée de <code class="varname">acurve</code>, une erreur est générée.</p><p>Si le système de référence spatiale (srid) de la géométrie <code class="varname">acurve</code> n'est pas le même que la topologie, une exception est levée.</p><p class="availability">Disponibilité : 2.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM: Topo-Geo et Topo-Net 3: Routine Details: X.3.13</p></div><div class="refsection" id="idm24717"><h2>Exemples</h2><p/></div><div class="refsection" id="idm24720"><h2>Voir aussi</h2><p><a class="xref" href="#ST_RemEdgeModFace" title="ST_RemEdgeModFace">ST_RemEdgeModFace</a></p><p><a class="xref" href="#ST_AddEdgeNewFaces" title="ST_AddEdgeNewFaces">ST_AddEdgeNewFaces</a></p></div></div><div class="refentry" id="ST_RemEdgeNewFace"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemEdgeNewFace — Enlève une arête et, si l'arête enlevée séparait deux faces, supprime les faces originales et les remplace par une nouvelle face. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_RemEdgeNewFace</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var><code>)</code>;</p></div></div><div class="refsection" id="idm24741"><h2>Description</h2><p>Supprime une arête et, si l'arête supprimée séparait deux faces, supprime les faces originales et les remplace par une nouvelle face. </p><p>Renvoie l'identifiant d'une face nouvellement créée ou NULL, si aucune nouvelle face n'est créée. Aucune nouvelle face n'est créée lorsque l'arête supprimée est pendante, isolée ou confinée avec la face de l'univers (ce qui peut entraîner "l'inondation de la face" de l'autre côté de l'univers). </p><p>Met à jour toutes les arêtes jointes existantes et les relations en conséquence. </p><p>Refuse de supprimer une arête participant à la définition d'une TopoGeometry existante. Refuse de recoller deux faces si une TopoGeometry n'est définie que par l'une d'entre elles (et non par l'autre). </p><p>Si l'un des arguments est nul, si l'arête donnée est inconnue (elle doit déjà exister dans la table <code class="varname">edge</code> du schéma topologique), si le nom de la topologie n'est pas valide, une erreur est générée. </p><p class="availability">Disponibilité : 2.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM: Topo-Geo et Topo-Net 3: Routine Details: X.3.14</p></div><div class="refsection" id="idm24754"><h2>Exemples</h2><p/></div><div class="refsection" id="idm24757"><h2>Voir aussi</h2><p><a class="xref" href="#ST_RemEdgeModFace" title="ST_RemEdgeModFace">ST_RemEdgeModFace</a></p><p><a class="xref" href="#ST_AddEdgeNewFaces" title="ST_AddEdgeNewFaces">ST_AddEdgeNewFaces</a></p></div></div><div class="refentry" id="ST_RemEdgeModFace"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemEdgeModFace — Supprime une arête et, si l'arête sépare deux faces, supprime une face et modifie l'autre face pour couvrir l'espace des deux. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_RemEdgeModFace</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var><code>)</code>;</p></div></div><div class="refsection" id="idm24778"><h2>Description</h2><p>Supprime une arête et, si l'arête supprimée sépare deux faces, supprime une face et modifie l'autre face pour couvrir l'espace des deux. La face de droite est conservée de préférence, par souci de cohérence avec <a class="xref" href="#ST_AddEdgeModFace" title="ST_AddEdgeModFace">ST_AddEdgeModFace</a>. Renvoie l'identifiant de la face conservée. </p><p>Met à jour toutes les arêtes jointes existantes et les relations en conséquence. </p><p>Refuse de supprimer une arête participant à la définition d'une TopoGeometry existante. Refuse de recoller deux faces si une TopoGeometry n'est définie que par l'une d'entre elles (et non par l'autre). </p><p>Si l'un des arguments est nul, si l'arête donnée est inconnue (elle doit déjà exister dans la table <code class="varname">edge</code> du schéma topologique), si le nom de la topologie n'est pas valide, une erreur est générée. </p><p class="availability">Disponibilité : 2.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM: Topo-Geo et Topo-Net 3: Routine Details: X.3.15</p></div><div class="refsection" id="idm24791"><h2>Exemples</h2><p/></div><div class="refsection" id="idm24794"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AddEdgeModFace" title="ST_AddEdgeModFace">ST_AddEdgeModFace</a></p><p><a class="xref" href="#ST_RemEdgeNewFace" title="ST_RemEdgeNewFace">ST_RemEdgeNewFace</a></p></div></div><div class="refentry" id="ST_ChangeEdgeGeom"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ChangeEdgeGeom — Modifie la forme d'une arête sans affecter la structure de la topologie. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_ChangeEdgeGeom</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var>, geometry  <var class="pdparam">acurve</var><code>)</code>;</p></div></div><div class="refsection" id="idm24818"><h2>Description</h2><p>Modifie la forme d'une arête sans affecter la structure de la topologie. </p><p>Si l'un des arguments est nul, si l'arête donnée n'existe pas dans la table <code class="varname">edge</code> du schéma topologique, si la <code class="varname">acurve</code> n'est pas une <code class="varname">LINESTRING</code>, ou si la modification changerait la topologie sous-jacente, une erreur est déclenchée. </p><p>Si le système de référence spatiale (srid) de la géométrie <code class="varname">acurve</code> n'est pas le même que la topologie, une exception est levée.</p><p>Si la nouvelle <code class="varname">acurve</code> n'est pas simple, une erreur est générée.</p><p>Si le déplacement de l'arête de l'ancienne à la nouvelle position heurte un obstacle, une erreur est générée. </p><p class="availability">Disponibilité : 1.1.0</p><p>Amélioration : 2.0.0 ajoute l'application de la cohérence topologique </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM: Topo-Geo et Topo-Net 3: Routine Details X.3.6</p></div><div class="refsection" id="idm24836"><h2>Exemples</h2><pre class="programlisting">SELECT topology.ST_ChangeEdgeGeom('ma_topo', 1,
                ST_GeomFromText('LINESTRING(227591.9 893900.4,227622.6 893844.3,227641.6 893816.6, 227704.5 893778.5)', 26986) );
 ----
 Edge 1 changed</pre></div><div class="refsection" id="idm24839"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AddEdgeModFace" title="ST_AddEdgeModFace">ST_AddEdgeModFace</a></p><p><a class="xref" href="#ST_RemEdgeModFace" title="ST_RemEdgeModFace">ST_RemEdgeModFace</a></p><p><a class="xref" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a></p></div></div><div class="refentry" id="ST_ModEdgeSplit"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ModEdgeSplit — Fractionner une arête en créant un nouveau nœud le long d'une arête existante, en modifiant l'arête d'origine et en ajoutant une nouvelle arête.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_ModEdgeSplit</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var>, geometry  <var class="pdparam">apoint</var><code>)</code>;</p></div></div><div class="refsection" id="idm24865"><h2>Description</h2><p>Fractionner une arête en créant un nouveau nœud le long d'une arête existante, en modifiant l'arête d'origine et en ajoutant une nouvelle arête. Cette opération met à jour toutes les arêtes jointes existantes et les relations en conséquence. Renvoie l'identifiant du nœud nouvellement ajouté. </p><p class="availability">DIsponibilité : 1.1 </p><p class="changed">Modifié : 2.0 - Dans les versions antérieures, cette fonction était mal nommée ST_ModEdgesSplit</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM: Topo-Geo et Topo-Net 3: Routine Details: X.3.9</p></div><div class="refsection" id="idm24874"><h2>Exemples</h2><pre class="programlisting">-- Add an edge --
 SELECT topology.AddEdge('ma_topo', ST_GeomFromText('LINESTRING(227592 893910, 227600 893910)', 26986) ) As edgeid;

-- edgeid-
3


-- Split the edge  --
SELECT topology.ST_ModEdgeSplit('ma_topo',  3, ST_SetSRID(ST_Point(227594,893910),26986)  ) As node_id;
        node_id
-------------------------
7
</pre></div><div class="refsection" id="idm24877"><h2>Voir aussi</h2><p><a class="xref" href="#ST_NewEdgesSplit" title="ST_NewEdgesSplit">ST_NewEdgesSplit</a>, <a class="xref" href="#ST_ModEdgeHeal" title="ST_ModEdgeHeal">ST_ModEdgeHeal</a>, <a class="xref" href="#ST_NewEdgeHeal" title="ST_NewEdgeHeal">ST_NewEdgeHeal</a>, <a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a> </p></div></div><div class="refentry" id="ST_ModEdgeHeal"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ModEdgeHeal — Répare deux arêtes en supprimant le nœud qui les relie, en modifiant la première arête et en supprimant la seconde. Renvoie l'identifiant du nœud supprimé. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">int <strong class="fsfunc">ST_ModEdgeHeal</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var>, integer  <var class="pdparam">anotheredge</var><code>)</code>;</p></div></div><div class="refsection" id="idm24902"><h2>Description</h2><p>Répare deux arêtes en supprimant le nœud qui les relie, en modifiant la première arête et en supprimant la seconde. Renvoie l'identifiant du nœud supprimé. Met à jour toutes les arêtes jointes existantes et les relations en conséquence. </p><p class="availability">Disponibilité : 2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM: Topo-Geo et Topo-Net 3: Routine Details: X.3.9</p></div><div class="refsection" id="idm24910"><h2>Voir aussi</h2><p>
				<a class="xref" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a>
				<a class="xref" href="#ST_NewEdgesSplit" title="ST_NewEdgesSplit">ST_NewEdgesSplit</a>
				</p></div></div><div class="refentry" id="ST_NewEdgeHeal"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NewEdgeHeal — Répare deux arêtes en supprimant le nœud qui les relie, en supprimant les deux arêtes et en les remplaçant par une arête dont la direction est la même que la première arête fournie. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">int <strong class="fsfunc">ST_NewEdgeHeal</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var>, integer  <var class="pdparam">anotheredge</var><code>)</code>;</p></div></div><div class="refsection" id="idm24933"><h2>Description</h2><p>Répare deux arêtes en supprimant le nœud qui les relie, en supprimant les deux arêtes et en les remplaçant par une arête dont la direction est la même que la première arête fournie. Renvoie l'identifiant de la nouvelle arête remplaçant les arêtes réparées. Met à jour toutes les arêtes jointes existantes et les relations en conséquence. </p><p class="availability">Disponibilité : 2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM: Topo-Geo et Topo-Net 3: Routine Details: X.3.9</p></div><div class="refsection" id="idm24941"><h2>Voir aussi</h2><p>
				<a class="xref" href="#ST_ModEdgeHeal" title="ST_ModEdgeHeal">ST_ModEdgeHeal</a>
				<a class="xref" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a>
				<a class="xref" href="#ST_NewEdgesSplit" title="ST_NewEdgesSplit">ST_NewEdgesSplit</a>
				</p></div></div><div class="refentry" id="ST_MoveIsoNode"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MoveIsoNode — Déplace un nœud isolé dans une topologie d'un point à un autre. Si la nouvelle géométrie <code class="varname">apoint</code> existe en tant que noeud, une erreur est générée. Retourne la description du déplacement.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_MoveIsoNode</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anode</var>, geometry  <var class="pdparam">apoint</var><code>)</code>;</p></div></div><div class="refsection" id="idm24966"><h2>Description</h2><p>Déplace un nœud isolé dans une topologie d'un point à un autre. Si la nouvelle géométrie <code class="varname">apoint</code> existe en tant que noeud, une erreur est générée.</p><p>Si l'un des arguments est nul, si le <code class="varname">apoint</code> n'est pas un point, si le noeud existant n'est pas isolé (c'est un point de départ ou d'arrivée d'une arête existante), si l'emplacement du nouveau noeud coupe une arête existante (même aux points d'arrivée) ou si le nouvel emplacement se trouve dans une face différente (depuis la version 3.2.0), une exception est levée. </p><p>Si le système de référence spatiale (srid) de la géométrie du point n'est pas le même que la topologie, une exception est levée.</p><p class="availability">Disponibilité : 2.0.0 </p><p>Amélioration : la version 3.2.0 garantit que le nœud ne peut pas être déplacé vers une autre face </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM: Topo-Net Routines: X.3.2</p></div><div class="refsection" id="idm24979"><h2>Exemples</h2><pre class="programlisting">-- Add an isolated node with no face  --
SELECT topology.ST_AddIsoNode('ma_topo',  NULL, ST_GeomFromText('POINT(227579 893916)', 26986) ) As nodeid;
 nodeid
--------
      7
-- Move the new node --
SELECT topology.ST_MoveIsoNode('ma_topo', 7,  ST_GeomFromText('POINT(227579.5 893916.5)', 26986) ) As descrip;
                      descrip
----------------------------------------------------
Isolated Node 7 moved to location 227579.5,893916.5</pre></div><div class="refsection" id="idm24982"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AddIsoNode" title="ST_AddIsoNode">ST_AddIsoNode</a></p></div></div><div class="refentry" id="ST_NewEdgesSplit"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NewEdgesSplit — Fractionne une arête en créant un nouveau nœud le long d'une arête existante, en supprimant l'arête d'origine et en la remplaçant par deux nouvelles arêtes. Renvoie l'identifiant du nouveau nœud créé qui relie les nouvelles arêtes.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NewEdgesSplit</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var>, geometry  <var class="pdparam">apoint</var><code>)</code>;</p></div></div><div class="refsection" id="idm25004"><h2>Description</h2><p>Divise une arête avec l'identifiant <code class="varname">anedge</code> en créant un nouveau noeud avec l'emplacement du point <code class="varname">apoint</code> le long de l'arête actuelle, en supprimant l'arête d'origine et en la remplaçant par deux nouvelles arêtes. Renvoie l'identifiant du nouveau nœud créé qui relie les nouvelles arêtes. Met à jour toutes les arêtes jointes existantes et les relations en conséquence. </p><p>Si le système de référence spatiale (srid) de la géométrie du point n'est pas le même que la topologie, si le <code class="varname">apoint</code> n'est pas une géométrie de point, si le point est nul, si le point existe déjà en tant que nœud, si l'arête ne correspond pas à une arête existante ou si le point n'est pas à l'intérieur de l'arête, une exception est levée.</p><p class="availability">DIsponibilité : 1.1 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM: Topo-Net Routines: X.3.8</p></div><div class="refsection" id="idm25016"><h2>Exemples</h2><pre class="programlisting">-- Add an edge  --
SELECT topology.AddEdge('ma_topo', ST_GeomFromText('LINESTRING(227575 893917,227592 893900)', 26986) ) As edgeid;
-- result-
edgeid
------
        2
-- Split the new edge --
SELECT topology.ST_NewEdgesSplit('ma_topo', 2,  ST_GeomFromText('POINT(227578.5 893913.5)', 26986) ) As newnodeid;
 newnodeid
---------
       6</pre></div><div class="refsection" id="idm25019"><h2>Voir aussi</h2><p>
				<a class="xref" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a>
				<a class="xref" href="#ST_ModEdgeHeal" title="ST_ModEdgeHeal">ST_ModEdgeHeal</a>
				<a class="xref" href="#ST_NewEdgeHeal" title="ST_NewEdgeHeal">ST_NewEdgeHeal</a>
				<a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a>
				</p></div></div><div class="refentry" id="ST_RemoveIsoNode"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemoveIsoNode — Supprime un noeud isolé et renvoie la description de l'action. Si le noeud n'est pas isolé (début ou fin d'une arête), une exception est levée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_RemoveIsoNode</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anode</var><code>)</code>;</p></div></div><div class="refsection" id="idm25041"><h2>Description</h2><p>Supprime un noeud isolé et renvoie la description de l'action. Si le nœud n'est pas isolé (est le début ou la fin d'une arête), une exception est levée.</p><p class="availability">DIsponibilité : 1.1 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM: Topo-Geo et Topo-Net 3: Routine Details: X+1.3.3</p></div><div class="refsection" id="idm25049"><h2>Exemples</h2><pre class="programlisting">-- Remove an isolated node with no face  --
SELECT topology.ST_RemoveIsoNode('ma_topo',  7 ) As result;
         result
-------------------------
 Isolated node 7 removed
</pre></div><div class="refsection" id="idm25052"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AddIsoNode" title="ST_AddIsoNode">ST_AddIsoNode</a></p></div></div><div class="refentry" id="ST_RemoveIsoEdge"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemoveIsoEdge — Supprime une arête isolée et renvoie la description de l'action. Si l'arête n'est pas isolée, une exception est levée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_RemoveIsoEdge</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var><code>)</code>;</p></div></div><div class="refsection" id="idm25071"><h2>Description</h2><p>Supprime une arête isolée et renvoie la description de l'action. Si l'arête n'est pas isolée, une exception est levée.</p><p class="availability">DIsponibilité : 1.1 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM: Topo-Geo et Topo-Net 3: Routine Details: X+1.3.3</p></div><div class="refsection" id="idm25079"><h2>Exemples</h2><pre class="programlisting">-- Remove an isolated node with no face  --
SELECT topology.ST_RemoveIsoNode('ma_topo',  7 ) As result;
         result
-------------------------
 Isolated node 7 removed
</pre></div><div class="refsection" id="idm25082"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AddIsoNode" title="ST_AddIsoNode">ST_AddIsoNode</a></p></div></div></section><section class="section" id="Topology_Accessors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.7. Accès à la topologie</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#GetEdgeByPoint">GetEdgeByPoint</a></span><span class="refpurpose"> — Trouve l'identifiant d'une arête qui coupe un point donné.</span></li><li><span class="refentrytitle"><a href="#GetFaceByPoint">GetFaceByPoint</a></span><span class="refpurpose"> — Recherche la face intersectant un point donné.</span></li><li><span class="refentrytitle"><a href="#GetFaceContainingPoint">GetFaceContainingPoint</a></span><span class="refpurpose"> — Recherche la face contenant un point.</span></li><li><span class="refentrytitle"><a href="#GetNodeByPoint">GetNodeByPoint</a></span><span class="refpurpose"> — Recherche l'identifiant d'un nœud à un point donné.</span></li><li><span class="refentrytitle"><a href="#GetTopologyID">GetTopologyID</a></span><span class="refpurpose"> — Retourne l'identifiant d'une topologie dans la table topology.topology étant donné le nom de la topologie.</span></li><li><span class="refentrytitle"><a href="#GetTopologySRID">GetTopologySRID</a></span><span class="refpurpose"> — Renvoie le SRID d'une topologie dans la table topology.topology en fonction du nom de la topologie.</span></li><li><span class="refentrytitle"><a href="#GetTopologyName">GetTopologyName</a></span><span class="refpurpose"> — Renvoie le nom d'une topologie (schéma) en fonction de l'identifiant de la topologie.</span></li><li><span class="refentrytitle"><a href="#ST_GetFaceEdges">ST_GetFaceEdges</a></span><span class="refpurpose"> — Renvoie un ensemble d'arêtes ordonnées qui délimitent <code class="varname">aface</code>.</span></li><li><span class="refentrytitle"><a href="#ST_GetFaceGeometry">ST_GetFaceGeometry</a></span><span class="refpurpose"> — Renvoie le polygone dans la topologie donnée avec l'identifiant de face spécifié.</span></li><li><span class="refentrytitle"><a href="#GetRingEdges">GetRingEdges</a></span><span class="refpurpose"> — Renvoie l'ensemble ordonné des identifiants d'arêtes signés rencontrés en évoluant sur un côté d'arête donné. </span></li><li><span class="refentrytitle"><a href="#GetNodeEdges">GetNodeEdges</a></span><span class="refpurpose"> — Renvoie un ensemble ordonné d'arêtes incidentes au nœud donné. </span></li></ul></div><div class="refentry" id="GetEdgeByPoint"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetEdgeByPoint — Trouve l'identifiant d'une arête qui coupe un point donné.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">GetEdgeByPoint</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">apoint</var>, float8  <var class="pdparam">tol1</var><code>)</code>;</p></div></div><div class="refsection" id="idm25106"><h2>Description</h2><p>Récupère l'identifiant d'une arête qui coupe un point.</p><p>La fonction renvoie un entier (id-edge) à partir d'une topologie, d'un POINT et d'une tolérance. Si la tolérance = 0, le point doit couper l'arête.</p><p>Si <code class="varname">apoint</code> n'intersecte pas une arête, renvoie 0 (zéro).</p><p>Si la tolérance d'utilisation &gt; 0 et qu'il y a plus d'une arête près du point, une exception est levée.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si la tolérance = 0, la fonction utilise ST_Intersects, sinon elle utilise ST_DWithin.</p></td></tr></table></div><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm25117"><h2>Exemples</h2><p>Ces exemples utilisent les arêtes que nous avons créées dans <a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a></p><pre class="programlisting">SELECT topology.GetEdgeByPoint('ma_topo',geom, 1) As with1mtol, topology.GetEdgeByPoint('ma_topo',geom,0) As withnotol
FROM ST_GeomFromEWKT('SRID=26986;POINT(227622.6 893843)') As geom;
 with1mtol | withnotol
-----------+-----------
         2 |         0
</pre><pre class="programlisting">SELECT topology.GetEdgeByPoint('ma_topo',geom, 1) As nearnode
FROM ST_GeomFromEWKT('SRID=26986;POINT(227591.9 893900.4)') As geom;

-- get error --
ERROR:  Two or more edges found</pre></div><div class="refsection" id="idm25123"><h2>Voir aussi</h2><p><a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a>, <a class="xref" href="#GetNodeByPoint" title="GetNodeByPoint">GetNodeByPoint</a>, <a class="xref" href="#GetFaceByPoint" title="GetFaceByPoint">GetFaceByPoint</a> </p></div></div><div class="refentry" id="GetFaceByPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetFaceByPoint — Recherche la face intersectant un point donné.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">GetFaceByPoint</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">apoint</var>, float8  <var class="pdparam">tol1</var><code>)</code>;</p></div></div><div class="refsection" id="idm25147"><h2>Description</h2><p>Recherche une face référencée par un point, avec une tolérance donnée. </p><p>La fonction recherchera effectivement une face coupant un cercle dont le point est le centre et la tolérance le rayon. </p><p>Si aucune face n'intersecte l'emplacement de la requête, la valeur 0 est renvoyée (face universelle). </p><p>Si plus d'une face croise l'emplacement de la requête, une exception est levée. </p><p class="availability">Disponibilité : 2.0.0</p><p class="enhanced">Amélioration : 3.2.0 mise en œuvre plus efficace et contrat plus clair, arrêt du fonctionnement avec des topologies non valides.</p></div><div class="refsection" id="idm25155"><h2>Exemples</h2><pre class="programlisting">SELECT topology.GetFaceByPoint('ma_topo',geom, 10) As with1mtol, topology.GetFaceByPoint('ma_topo',geom,0) As withnotol
        FROM ST_GeomFromEWKT('POINT(234604.6 899382.0)') As geom;

         with1mtol | withnotol
        -----------+-----------
                         1 |         0</pre><pre class="programlisting">SELECT topology.GetFaceByPoint('ma_topo',geom, 1) As nearnode
        FROM ST_GeomFromEWKT('POINT(227591.9 893900.4)') As geom;

-- get error --
ERROR:  Two or more faces found</pre></div><div class="refsection" id="idm25159"><h2>Voir aussi</h2><p><a class="xref" href="#GetFaceContainingPoint" title="GetFaceContainingPoint">GetFaceContainingPoint</a>, <a class="xref" href="#AddFace" title="AddFace">AddFace</a>, <a class="xref" href="#GetNodeByPoint" title="GetNodeByPoint">GetNodeByPoint</a>, <a class="xref" href="#GetEdgeByPoint" title="GetEdgeByPoint">GetEdgeByPoint</a> </p></div></div><div class="refentry" id="GetFaceContainingPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetFaceContainingPoint — Recherche la face contenant un point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">GetFaceContainingPoint</strong>(</code>text  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">apoint</var><code>)</code>;</p></div></div><div class="refsection" id="idm25181"><h2>Description</h2><p>Renvoie l'identifiant de la face contenant un point.</p><p>Une exception est levée si le point tombe sur la limite d'une face.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La fonction repose sur une topologie valide, utilisant la liaison des arêtes et l'étiquetage des faces.</p></td></tr></table></div><p class="availability">Disponibilité : 3.2.0</p></div><div class="refsection" id="idm25188"><h2>Voir aussi</h2><p>
<a class="xref" href="#ST_GetFaceGeometry" title="ST_GetFaceGeometry">ST_GetFaceGeometry</a>
</p></div></div><div class="refentry" id="GetNodeByPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetNodeByPoint — Recherche l'identifiant d'un nœud à un point donné.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">GetNodeByPoint</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">apoint</var>, float8  <var class="pdparam">tol1</var><code>)</code>;</p></div></div><div class="refsection" id="idm25210"><h2>Description</h2><p>Récupère l'identifiant d'un nœud à un point donné.</p><p>La fonction renvoie un entier (id-node) à partir d'une topologie, d'un POINT et d'une tolérance. Si tolérance = 0, il s'agit d'une intersection exacte, sinon le nœud est extrait d'un intervalle.</p><p>Si <code class="varname">apoint</code> n'intersecte pas un noeud, renvoie 0 (zéro).</p><p>Si la tolérance d'utilisation &gt; 0 et qu'il y a plus d'un nœud près du point, une exception est levée.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si la tolérance = 0, la fonction utilise ST_Intersects, sinon elle utilise ST_DWithin.</p></td></tr></table></div><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm25221"><h2>Exemples</h2><p>Ces exemples utilisent les arêtes que nous avons créées dans <a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a></p><pre class="programlisting">SELECT topology.GetNodeByPoint('ma_topo',geom, 1) As nearnode
 FROM ST_GeomFromEWKT('SRID=26986;POINT(227591.9 893900.4)') As geom;
  nearnode
----------
        2
 </pre><pre class="programlisting">SELECT topology.GetNodeByPoint('ma_topo',geom, 1000) As too_much_tolerance
 FROM ST_GeomFromEWKT('SRID=26986;POINT(227591.9 893900.4)') As geom;

 ----get error--
 ERROR:  Two or more nodes found
 </pre></div><div class="refsection" id="idm25227"><h2>Voir aussi</h2><p><a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a>, <a class="xref" href="#GetEdgeByPoint" title="GetEdgeByPoint">GetEdgeByPoint</a>, <a class="xref" href="#GetFaceByPoint" title="GetFaceByPoint">GetFaceByPoint</a> </p></div></div><div class="refentry" id="GetTopologyID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetTopologyID — Retourne l'identifiant d'une topologie dans la table topology.topology étant donné le nom de la topologie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">GetTopologyID</strong>(</code>varchar <var class="pdparam">toponame</var><code>)</code>;</p></div></div><div class="refsection" id="idm25245"><h2>Description</h2><p>Retourne l'identifiant d'une topologie dans la table topology.topology en fonction du nom de la topologie.</p><p class="availability">DIsponibilité : 1.1</p></div><div class="refsection" id="idm25249"><h2>Exemples</h2><pre class="programlisting">SELECT topology.GetTopologyID('ma_topo') As topo_id;
 topo_id
---------
       1</pre></div><div class="refsection" id="idm25252"><h2>Voir aussi</h2><p><a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#DropTopology" title="DropTopology">DropTopology</a>, <a class="xref" href="#GetTopologyName" title="GetTopologyName">GetTopologyName</a>, <a class="xref" href="#GetTopologySRID" title="GetTopologySRID">GetTopologySRID</a> </p></div></div><div class="refentry" id="GetTopologySRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetTopologySRID — Renvoie le SRID d'une topologie dans la table topology.topology en fonction du nom de la topologie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">GetTopologyID</strong>(</code>varchar <var class="pdparam">toponame</var><code>)</code>;</p></div></div><div class="refsection" id="idm25271"><h2>Description</h2><p>Renvoie l'identifiant de référence spatiale d'une topologie dans la table topology.topology en fonction du nom de la topologie.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm25275"><h2>Exemples</h2><pre class="programlisting">SELECT topology.GetTopologySRID('ma_topo') As SRID;
 SRID
-------
  4326</pre></div><div class="refsection" id="idm25278"><h2>Voir aussi</h2><p><a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#DropTopology" title="DropTopology">DropTopology</a>, <a class="xref" href="#GetTopologyName" title="GetTopologyName">GetTopologyName</a>, <a class="xref" href="#GetTopologyID" title="GetTopologyID">GetTopologyID</a> </p></div></div><div class="refentry" id="GetTopologyName"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetTopologyName — Renvoie le nom d'une topologie (schéma) en fonction de l'identifiant de la topologie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">varchar <strong class="fsfunc">GetTopologyName</strong>(</code>integer <var class="pdparam">topology_id</var><code>)</code>;</p></div></div><div class="refsection" id="idm25297"><h2>Description</h2><p>Renvoie le nom de la topologie (schéma) d'une topologie de la table topology.topology en fonction de l'identifiant de la topologie.</p><p class="availability">DIsponibilité : 1.1</p></div><div class="refsection" id="idm25301"><h2>Exemples</h2><pre class="programlisting">SELECT topology.GetTopologyName(1) As topo_name;
 topo_name
-----------
 ma_topo</pre></div><div class="refsection" id="idm25304"><h2>Voir aussi</h2><p><a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#DropTopology" title="DropTopology">DropTopology</a>, <a class="xref" href="#GetTopologyID" title="GetTopologyID">GetTopologyID</a>, <a class="xref" href="#GetTopologySRID" title="GetTopologySRID">GetTopologySRID</a> </p></div></div><div class="refentry" id="ST_GetFaceEdges"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GetFaceEdges — Renvoie un ensemble d'arêtes ordonnées qui délimitent <code class="varname">aface</code>.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">getfaceedges_returntype <strong class="fsfunc">ST_GetFaceEdges</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">aface</var><code>)</code>;</p></div></div><div class="refsection" id="idm25327"><h2>Description</h2><p>Renvoie un ensemble d'arêtes ordonnées qui délimitent <code class="varname">aface</code>. Chaque sortie se compose d'une séquence et d'un numéro d'arête. Les numéros de séquence commencent par la valeur 1.</p><p>L'énumération des arêtes de chaque anneau commence par l'arête dont l'identifiant est le plus petit. L'ordre des arêtes suit la règle de la main gauche (la face liée se trouve à gauche de chaque arête dirigée). </p><p class="availability">Disponibilité : 2.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 Topo-Geo et Topo-Net 3: Routine Details: X.3.5</p></div><div class="refsection" id="idm25337"><h2>Exemples</h2><pre class="programlisting">-- Returns the edges bounding face 1
SELECT (topology.ST_GetFaceEdges('tt', 1)).*;
-- result --
 sequence | edge
----------+------
        1 |   -4
        2 |    5
        3 |    7
        4 |   -6
        5 |    1
        6 |    2
        7 |    3
(7 rows)
</pre><pre class="programlisting">-- Returns the sequence, edge id
-- and geometry of the edges that bound face 1
-- If you just need geom and seq, can use ST_GetFaceGeometry
SELECT t.seq, t.edge, geom
FROM topology.ST_GetFaceEdges('tt',1) As t(seq,edge)
        INNER JOIN tt.edge AS e ON abs(t.edge) = e.edge_id;
</pre></div><div class="refsection" id="idm25341"><h2>Voir aussi</h2><p><a class="xref" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a>, <a class="xref" href="#AddFace" title="AddFace">AddFace</a>, <a class="xref" href="#ST_GetFaceGeometry" title="ST_GetFaceGeometry">ST_GetFaceGeometry</a> </p></div></div><div class="refentry" id="ST_GetFaceGeometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GetFaceGeometry — Renvoie le polygone dans la topologie donnée avec l'identifiant de face spécifié.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GetFaceGeometry</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">aface</var><code>)</code>;</p></div></div><div class="refsection" id="idm25362"><h2>Description</h2><p>Renvoie le polygone dans la topologie donnée avec l'identifiant de face spécifié. Construit le polygone à partir des arêtes composant la face.</p><p class="availability">DIsponibilité : 1.1 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3 Topo-Geo et Topo-Net 3: Routine Details: X.3.16</p></div><div class="refsection" id="idm25370"><h2>Exemples</h2><pre class="programlisting">-- Returns the wkt of the polygon added with AddFace
SELECT ST_AsText(topology.ST_GetFaceGeometry('ma_topo', 1)) As facegeomwkt;
-- result --
               facegeomwkt

--------------------------------------------------------------------------------
 POLYGON((234776.9 899563.7,234896.5 899456.7,234914 899436.4,234946.6 899356.9,
234872.5 899328.7,234891 899285.4,234992.5 899145,234890.6 899069,
234755.2 899255.4,234612.7 899379.4,234776.9 899563.7))
</pre></div><div class="refsection" id="idm25373"><h2>Voir aussi</h2><p><a class="xref" href="#AddFace" title="AddFace">AddFace</a></p></div></div><div class="refentry" id="GetRingEdges"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetRingEdges — Renvoie l'ensemble ordonné des identifiants d'arêtes signés rencontrés en évoluant sur un côté d'arête donné. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">getfaceedges_returntype <strong class="fsfunc">GetRingEdges</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">aring</var>, integer  <var class="pdparam">max_edges=null</var><code>)</code>;</p></div></div><div class="refsection" id="idm25395"><h2>Description</h2><p>Renvoie l'ensemble ordonné des identifiants d'arêtes signés rencontrés en évoluant sur un côté d'arête donné. Chaque sortie se compose d'une séquence et d'un identifiant d'arête signé. Les numéros de séquence commencent par la valeur 1. </p><p>Si vous passez un identifiant d'arête positif, la marche commence du côté gauche de l'arête correspondante et suit la direction de l'arête. Si vous passez un identifiant d'arête négatif, la marche commence du côté droit de l'arête correspondante et va vers l'arrière. </p><p>Si <code class="varname">max_edges</code> n'est pas nul, cette fonction ne renvoie pas plus que ces enregistrements. Il s'agit d'un paramètre de sécurité dans le cas de topologies éventuellement non valides. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction utilise les métadonnées de liaison des anneaux des arêtes. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0 </p></div><div class="refsection" id="idm25404"><h2>Voir aussi</h2><p><a class="xref" href="#ST_GetFaceEdges" title="ST_GetFaceEdges">ST_GetFaceEdges</a>, <a class="xref" href="#GetNodeEdges" title="GetNodeEdges">GetNodeEdges</a> </p></div></div><div class="refentry" id="GetNodeEdges"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetNodeEdges — Renvoie un ensemble ordonné d'arêtes incidentes au nœud donné. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">getfaceedges_returntype <strong class="fsfunc">GetNodeEdges</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anode</var><code>)</code>;</p></div></div><div class="refsection" id="idm25424"><h2>Description</h2><p>Renvoie un ensemble ordonné d'arêtes incidentes au nœud donné. Chaque sortie se compose d'une séquence et d'un numéro d'arête signé. Les numéros de séquence commencent par la valeur 1. Une arête positive commence au nœud donné. Une arête négative se termine au nœud donné. Les arêtes fermées apparaissent deux fois (avec les deux signes). L'ordre est celui des aiguilles d'une montre en partant du nord. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction calcule l'ordre plutôt que de dériver des métadonnées et peut donc être utilisée pour établir des liens entre les anneaux des arêtes. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0 </p></div><div class="refsection" id="idm25430"><h2>Voir aussi</h2><p><a class="xref" href="#getfaceedges_returntype" title="getfaceedges_returntype">getfaceedges_returntype</a>, <a class="xref" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a>, <a class="xref" href="#ST_Azimuth" title="ST_Azimuth">ST_Azimuth</a> </p></div></div></section><section class="section" id="Topology_Processing"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.8. Traitement de la topologie</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section couvre les fonctions permettant de traiter les topologies de manière non standard.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#TopologyPolygonize">Polygonize</a></span><span class="refpurpose"> — Recherche et enregistre toutes les faces définies par les arêtes de la topologie.</span></li><li><span class="refentrytitle"><a href="#AddNode">AddNode</a></span><span class="refpurpose"> — Ajoute un nœud ponctuel à la table des nœuds dans le schéma topologique spécifié et renvoie le nodeid du nouveau nœud. Si le point existe déjà en tant que nœud, l'identifiant du nœud existant est renvoyé.</span></li><li><span class="refentrytitle"><a href="#AddEdge">AddEdge</a></span><span class="refpurpose"> — Ajoute une arête linéaire à la table des arêtes et les points de départ et d'arrivée associés à la table des nœuds de points du schéma topologique spécifié en utilisant la géométrie linéaire spécifiée et renvoie l'identifiant de l'arête nouvelle (ou existante).</span></li><li><span class="refentrytitle"><a href="#AddFace">AddFace</a></span><span class="refpurpose"> — Enregistre une primitive de face dans une topologie et obtient son identifiant.</span></li><li><span class="refentrytitle"><a href="#TP_ST_Simplify">ST_Simplify</a></span><span class="refpurpose"> — Renvoie une version géométrique "simplifiée" de la TopoGeometry donnée en utilisant l'algorithme de Douglas-Peucker.</span></li><li><span class="refentrytitle"><a href="#TP_RemoveUnusedPrimitives">RemoveUnusedPrimitives</a></span><span class="refpurpose"> — Supprime les primitives topologiques qui ne sont pas nécessaires pour définir les objets TopoGeometry existants.</span></li></ul></div><div class="refentry" id="TopologyPolygonize"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Polygonize — Recherche et enregistre toutes les faces définies par les arêtes de la topologie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Polygonize</strong>(</code>varchar  <var class="pdparam">toponame</var><code>)</code>;</p></div></div><div class="refsection" id="idm25453"><h2>Description</h2><p>Enregistre toutes les faces qui peuvent être construites à partir d'une primitive d'arête topologique.</p><p>La topologie cible est supposée ne pas contenir d'arêtes s'auto-intersectant.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les faces déjà connues sont reconnues, de sorte qu'il est possible d'appeler Polygonize plusieurs fois sur la même topologie.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction n'utilise ni ne définit les champs next_left_edge et next_right_edge de la table des arêtes. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm25462"><h2>Voir aussi</h2><p><a class="xref" href="#AddFace" title="AddFace">AddFace</a>, <a class="xref" href="#ST_Polygonize" title="ST_Polygonize">ST_Polygonize</a></p></div></div><div class="refentry" id="AddNode"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AddNode — Ajoute un nœud ponctuel à la table des nœuds dans le schéma topologique spécifié et renvoie le nodeid du nouveau nœud. Si le point existe déjà en tant que nœud, l'identifiant du nœud existant est renvoyé.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">AddNode</strong>(</code>varchar  <var class="pdparam">toponame</var>, geometry  <var class="pdparam">apoint</var>, boolean  <var class="pdparam">allowEdgeSplitting=false</var>, boolean  <var class="pdparam">computeContainingFace=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm25488"><h2>Description</h2><p>Ajoute un nœud ponctuel à la table des nœuds dans le schéma topologique spécifié. La fonction <a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a> ajoute automatiquement les points de départ et d'arrivée d'une arête lorsqu'elle est appelée, de sorte qu'il n'est pas nécessaire d'ajouter explicitement les nœuds d'une arête. </p><p>Si une arête traversant le nœud est trouvée, une exception est levée ou l'arête est scindée, en fonction de la valeur du paramètre <code class="varname">allowEdgeSplitting</code>. </p><p>Si <code class="varname">computeContainingFace</code> est true, un nœud nouvellement ajouté verra sa face contenante calculée correctement. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si la géométrie <code class="varname">apoint</code> existe déjà en tant que noeud, le noeud n'est pas ajouté mais le nodeid existant est renvoyé.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm25500"><h2>Exemples</h2><pre class="programlisting">SELECT topology.AddNode('ma_topo', ST_GeomFromText('POINT(227641.6 893816.5)', 26986) ) As nodeid;
-- result --
nodeid
--------
 4

</pre></div><div class="refsection" id="idm25503"><h2>Voir aussi</h2><p><a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a></p></div></div><div class="refentry" id="AddEdge"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AddEdge — Ajoute une arête linéaire à la table des arêtes et les points de départ et d'arrivée associés à la table des nœuds de points du schéma topologique spécifié en utilisant la géométrie linéaire spécifiée et renvoie l'identifiant de l'arête nouvelle (ou existante).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">AddEdge</strong>(</code>varchar  <var class="pdparam">toponame</var>, geometry  <var class="pdparam">aline</var><code>)</code>;</p></div></div><div class="refsection" id="idm25523"><h2>Description</h2><p>Ajoute une arête à la table des arêtes et les nœuds associés à la table des nœuds du schéma <code class="varname">toponame</code> spécifié en utilisant la géométrie de ligne spécifiée et renvoie l'identifiant de l'arête du nouvel enregistrement ou de l'enregistrement existant. L'arête nouvellement ajoutée a une face "univers" des deux côtés et est liée à elle-même.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si la géométrie <code class="varname">aline</code> croise, chevauche, contient ou est contenue par un bord de ligne existant, une erreur est générée et l'arête n'est pas ajoutée.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La géométrie de <code class="varname">aline</code> doit avoir la même <code class="varname">srid</code> que celle définie pour la topologie, sinon une erreur sys de référence spatiale non valide sera levée.</p></td></tr></table></div><p>Effectué par le module GEOS.</p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a> is deprecated as of 3.5.0. Use <a class="xref" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a> instead.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm25540"><h2>Exemples</h2><pre class="programlisting">SELECT topology.AddEdge('ma_topo', ST_GeomFromText('LINESTRING(227575.8 893917.2,227591.9 893900.4)', 26986) ) As edgeid;
-- result-
edgeid
--------
 1

SELECT topology.AddEdge('ma_topo', ST_GeomFromText('LINESTRING(227591.9 893900.4,227622.6 893844.2,227641.6 893816.5,
 227704.5 893778.5)', 26986) ) As edgeid;
-- result --
edgeid
--------
 2

 SELECT topology.AddEdge('ma_topo', ST_GeomFromText('LINESTRING(227591.2 893900, 227591.9 893900.4,
  227704.5 893778.5)', 26986) ) As edgeid;
 -- gives error --
 ERROR:  Edge intersects (not on endpoints) with existing edge 1
</pre></div><div class="refsection" id="idm25543"><h2>Voir aussi</h2><p><a class="xref" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">Section 4.5, “Systèmes de référence spatiale”</a> </p></div></div><div class="refentry" id="AddFace"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AddFace — Enregistre une primitive de face dans une topologie et obtient son identifiant.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">AddFace</strong>(</code>varchar  <var class="pdparam">toponame</var>, geometry  <var class="pdparam">apolygon</var>, boolean  <var class="pdparam">force_new=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm25567"><h2>Description</h2><p>Enregistre une primitive de face dans une topologie et obtient son identifiant. </p><p>Pour une face nouvellement ajoutée, les arêtes formant ses limites et celles contenues dans la face seront mises à jour pour que les valeurs des champs left_face et right_face soient correctes. Les nœuds isolés contenus dans la face seront également mis à jour pour que la valeur du champ containing_face soit correcte. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction n'utilise ni ne définit les champs next_left_edge et next_right_edge de la table des arêtes. </p></td></tr></table></div><p>La topologie cible est supposée valide (ne contenant pas d'arêtes se recoupant). Une exception est levée si : La limite du polygone n'est pas entièrement définie par les arêtes existantes ou le polygone chevauche une face existante.</p><p>Si la géométrie <code class="varname">apolygon</code> existe déjà en tant que face, alors : si <code class="varname">force_new</code> est false (par défaut), l'identifiant de la face existante est renvoyé ; si <code class="varname">force_new</code> est true, un nouvel identifiant sera attribué à la face nouvellement enregistrée. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Lorsqu'un nouvel enregistrement d'une face existante est effectué (force_new=true), aucune action ne sera entreprise pour résoudre les références pendantes à la face existante dans les tables d'arêtes, de nœuds et de relations, et le champ MBR (Minimum Bounding Rectangle) de l'enregistrement de la face existante ne sera pas mis à jour. C'est à l'appelant de s'en occuper. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La géométrie <code class="varname">apolygon</code> doit avoir la même <code class="varname">srid</code> que celle définie pour la topologie, sinon une erreur sys de référence spatiale non valide sera déclenchée.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm25585"><h2>Exemples</h2><pre class="programlisting">

-- first add the edges we use generate_series as an iterator (the below
-- will only work for polygons with &lt; 10000 points because of our max in gs)
SELECT topology.AddEdge('ma_topo', ST_MakeLine(ST_PointN(geom,i), ST_PointN(geom, i + 1) )) As edgeid
    FROM (SELECT  ST_NPoints(geom) AS npt, geom
            FROM
                (SELECT ST_Boundary(ST_GeomFromText('POLYGON((234896.5 899456.7,234914 899436.4,234946.6 899356.9,234872.5 899328.7,
                234891 899285.4,234992.5 899145, 234890.6 899069,234755.2 899255.4,
                234612.7 899379.4,234776.9 899563.7,234896.5 899456.7))', 26986) )  As geom
            )  As geoms) As facen CROSS JOIN generate_series(1,10000) As i
         WHERE i &lt; npt;
-- result --
 edgeid
--------
      3
      4
      5
      6
      7
      8
      9
     10
     11
     12
(10 rows)
-- then add the face -

SELECT topology.AddFace('ma_topo',
    ST_GeomFromText('POLYGON((234896.5 899456.7,234914 899436.4,234946.6 899356.9,234872.5 899328.7,
    234891 899285.4,234992.5 899145, 234890.6 899069,234755.2 899255.4,
    234612.7 899379.4,234776.9 899563.7,234896.5 899456.7))', 26986) ) As faceid;
-- result --
faceid
--------
 1

</pre></div><div class="refsection" id="idm25588"><h2>Voir aussi</h2><p><a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">Section 4.5, “Systèmes de référence spatiale”</a></p></div></div><div class="refentry" id="TP_ST_Simplify"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Simplify — Renvoie une version géométrique "simplifiée" de la TopoGeometry donnée en utilisant l'algorithme de Douglas-Peucker.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Simplify</strong>(</code>TopoGeometry <var class="pdparam">tg</var>, float8 <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm25609"><h2>Description</h2><p>Renvoie une version géométrique "simplifiée" de la TopoGeometry donnée en utilisant l'algorithme de Douglas-Peucker sur chaque arête de la composante.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La géométrie renvoyée peut être non simple ou non valide.</p><p>La séparation des arêtes des composants peut contribuer à préserver la simplicité et la validité.</p></td></tr></table></div><p>Effectué par le module GEOS.</p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm25617"><h2>Voir aussi</h2><p>Geometry <a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>, <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>, <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a></p></div></div><div class="refentry" id="TP_RemoveUnusedPrimitives"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>RemoveUnusedPrimitives — Supprime les primitives topologiques qui ne sont pas nécessaires pour définir les objets TopoGeometry existants.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">int <strong class="fsfunc">RemoveUnusedPrimitives</strong>(</code>text <var class="pdparam">topology_name</var>, geometry <var class="pdparam">bbox</var><code>)</code>;</p></div></div><div class="refsection" id="idm25639"><h2>Description</h2><p>Recherche toutes les primitives (nœuds, arêtes, faces) qui ne sont pas strictement nécessaires pour représenter les objets TopoGeometry existants et les supprime, en maintenant la validité de la topologie (liaison des arêtes, étiquetage des faces) et l'occupation de l'espace TopoGeometry. </p><p>Aucun nouvel identifiant de primitive n'est créé, mais les primitives existantes sont étendues pour inclure les faces fusionnées (en supprimant les arêtes) ou les arêtes réparées (en supprimant les nœuds). </p><p class="availability">Disponibilité : 3.3.0</p></div><div class="refsection" id="idm25644"><h2>Voir aussi</h2><p><a class="xref" href="#ST_ModEdgeHeal" title="ST_ModEdgeHeal">ST_ModEdgeHeal</a>, <a class="xref" href="#ST_RemEdgeModFace" title="ST_RemEdgeModFace">ST_RemEdgeModFace</a> </p></div></div></section><section class="section" id="TopoGeometry_Constructors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.9. Constructeurs de TopoGeometry</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section couvre les fonctions de topologie permettant de créer de nouvelles topogéométries.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#CreateTopoGeom">CreateTopoGeom</a></span><span class="refpurpose"> — Crée un nouvel objet géométrique topo à partir d'un tableau d'éléments topo - tg_type : 1 :[multi]point, 2 :[multi]ligne, 3 :[multi]poly, 4:collection</span></li><li><span class="refentrytitle"><a href="#toTopoGeom">toTopoGeom</a></span><span class="refpurpose"> — Convertit une géométrie simple en une géométrie topographique.</span></li><li><span class="refentrytitle"><a href="#TopoElementArray_Agg">TopoElementArray_Agg</a></span><span class="refpurpose"> — Renvoie un <code class="varname">topoelementarray</code> pour un ensemble de tableaux de type, element_id (topoelements).</span></li><li><span class="refentrytitle"><a href="#TopoElement">TopoElement</a></span><span class="refpurpose"> — Convertit une topogeometry en un topoelement.</span></li></ul></div><div class="refentry" id="CreateTopoGeom"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CreateTopoGeom — Crée un nouvel objet géométrique topo à partir d'un tableau d'éléments topo - tg_type : 1 :[multi]point, 2 :[multi]ligne, 3 :[multi]poly, 4:collection</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topogeometry <strong class="fsfunc">CreateTopoGeom</strong>(</code>varchar  <var class="pdparam">toponame</var>, integer  <var class="pdparam">tg_type</var>, integer <var class="pdparam">layer_id</var>, topoelementarray <var class="pdparam">tg_objs</var><code>)</code>;</p><p><code class="funcdef">topogeometry <strong class="fsfunc">CreateTopoGeom</strong>(</code>varchar  <var class="pdparam">toponame</var>, integer  <var class="pdparam">tg_type</var>, integer <var class="pdparam">layer_id</var><code>)</code>;</p></div></div><div class="refsection" id="idm25687"><h2>Description</h2><p>Crée un objet topogéométrique pour la couche désignée par <code class="varname">layer_id</code> et l'enregistre dans la table des relations du schéma <code class="varname">toponame</code>.</p><p><code class="varname">tg_type</code> est un nombre entier : 1 : [multi]point (ponctuel), 2 : [multi]ligne (linéaire), 3 : [multi]poly (aréolaire), 4:collection. <code class="varname">layer_id</code> est l'identifiant de la couche dans la table topology.layer.</p><p>Les couches ponctuelles sont formées à partir d'un ensemble de nœuds, les couches linéaires sont formées à partir d'un ensemble d'arêtes, les couches aréales sont formées à partir d'un ensemble de faces, et les collections peuvent être formées à partir d'un mélange de nœuds, d'arêtes et de faces.</p><p>L'omission du tableau de composants génère un objet TopoGeometry vide.</p><p class="availability">DIsponibilité : 1.1</p></div><div class="refsection" id="idm25698"><h2>Exemples : Forme à partir d'arêtes existantes</h2><p>Créer un topogeom dans le schéma ri_topo pour la couche 2 (nos ri_roads), de type (2) LINE, pour la première arête (que nous avons chargée dans <code class="varname">ST_CreateTopoGeo</code>).</p><pre class="programlisting">INSERT INTO ri.ri_roads(road_name, topo) VALUES('Unknown', topology.CreateTopoGeom('ri_topo',2,2,'{{1,2}}'::topology.topoelementarray);</pre></div><div class="refsection" id="idm25703"><h2>Exemples : Convertir une géométrie aréolaire en une topogeometry de meilleure qualité</h2><p>Supposons que nous ayons des géométries qui doivent être formées à partir d'une collection de faces. Nous disposons par exemple d'un tableau de groupes de blocs et nous voulons connaître la géométrie topographique de chaque groupe de blocs. Si nos données étaient parfaitement alignées, nous pourrions le faire :</p><pre class="programlisting">-- create our topo geometry column --
SELECT topology.AddTopoGeometryColumn(
        'topo_boston',
        'boston', 'blockgroups', 'topo', 'POLYGON');

-- addtopgeometrycolumn --
1

-- update our column assuming
-- everything is perfectly aligned with our edges
UPDATE boston.blockgroups AS bg
        SET topo = topology.CreateTopoGeom('topo_boston'
        ,3,1
        , foo.bfaces)
FROM (SELECT b.gid,  topology.TopoElementArray_Agg(ARRAY[f.face_id,3]) As bfaces
        FROM boston.blockgroups As b
            INNER JOIN topo_boston.face As f ON b.geom &amp;&amp; f.mbr
        WHERE ST_Covers(b.geom, topology.ST_GetFaceGeometry('topo_boston', f.face_id))
            GROUP BY b.gid) As foo
WHERE foo.gid = bg.gid;
</pre><pre class="programlisting">--the world is rarely perfect allow for some error
--count the face if 50% of it falls
-- within what we think is our blockgroup boundary
UPDATE boston.blockgroups AS bg
        SET topo = topology.CreateTopoGeom('topo_boston'
        ,3,1
        , foo.bfaces)
FROM (SELECT b.gid,  topology.TopoElementArray_Agg(ARRAY[f.face_id,3]) As bfaces
        FROM boston.blockgroups As b
            INNER JOIN topo_boston.face As f ON b.geom &amp;&amp; f.mbr
        WHERE ST_Covers(b.geom, topology.ST_GetFaceGeometry('topo_boston', f.face_id))
        OR
 (  ST_Intersects(b.geom, topology.ST_GetFaceGeometry('topo_boston', f.face_id))
            AND ST_Area(ST_Intersection(b.geom, topology.ST_GetFaceGeometry('topo_boston', f.face_id) ) ) &gt;
                ST_Area(topology.ST_GetFaceGeometry('topo_boston', f.face_id))*0.5
                )
            GROUP BY b.gid) As foo
WHERE foo.gid = bg.gid;

-- and if we wanted to convert our topogeometry back
-- to a denormalized geometry aligned with our faces and edges
-- cast the topo to a geometry
-- The really cool thing is my new geometries
-- are now aligned with my tiger street centerlines
UPDATE boston.blockgroups SET new_geom = topo::geometry;
</pre></div><div class="refsection" id="idm25708"><h2>Voir aussi</h2><p><a class="xref" href="#AddTopoGeometryColumn" title="AddTopoGeometryColumn">AddTopoGeometryColumn</a>, <a class="xref" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a> <a class="xref" href="#ST_CreateTopoGeo" title="ST_CreateTopoGeo">ST_CreateTopoGeo</a>, <a class="xref" href="#ST_GetFaceGeometry" title="ST_GetFaceGeometry">ST_GetFaceGeometry</a>, <a class="xref" href="#topoelementarray" title="TopoElementArray">TopoElementArray</a>, <a class="xref" href="#TopoElementArray_Agg" title="TopoElementArray_Agg">TopoElementArray_Agg</a> </p></div></div><div class="refentry" id="toTopoGeom"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>toTopoGeom — Convertit une géométrie simple en une géométrie topographique.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topogeometry <strong class="fsfunc">toTopoGeom</strong>(</code>geometry  <var class="pdparam">geom</var>, varchar  <var class="pdparam">toponame</var>, integer <var class="pdparam">layer_id</var>, float8 <var class="pdparam">tolerance</var><code>)</code>;</p><p><code class="funcdef">topogeometry <strong class="fsfunc">toTopoGeom</strong>(</code>geometry  <var class="pdparam">geom</var>, topogeometry  <var class="pdparam">topogeom</var>, float8 <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm25750"><h2>Description</h2><p>Convertit une géométrie simple en une <a class="xref" href="#topogeometry" title="TopoGeometry">TopoGeometry</a>. </p><p>Les primitives topologiques requises pour représenter la géométrie d'entrée seront ajoutées à la topologie sous-jacente, éventuellement en divisant les primitives existantes, et elles seront associées à la TopoGeometry de sortie dans la table <code class="varname">relation</code>. </p><p>Les objets TopoGeometry existants (à l'exception éventuelle de <code class="varname">topogeom</code>, s'il en existe) conserveront leur forme. </p><p>Lorsque <code class="varname">tolerance</code> est donné, il sera utilisé pour accrocher la géométrie d'entrée aux primitives existantes. </p><p>Dans le premier formulaire, une nouvelle TopoGéométrie sera créée pour la couche donnée (<code class="varname">layer_id</code>) de la topologie donnée (<code class="varname">toponame</code>). </p><p>Dans la seconde forme, les primitives résultant de la conversion seront ajoutées à la TopoGeometry préexistante (<code class="varname">topogeom</code>), ajoutant éventuellement de l'espace à sa forme finale. Pour que la nouvelle forme remplace complètement l'ancienne, voir <a class="xref" href="#clearTopoGeom" title="clearTopoGeom">clearTopoGeom</a>. </p><p class="availability">Disponibilité : 2.0</p><p class="enhanced">Amélioré : 2.1.0 ajoute la version d'une TopoGeometry existante.</p></div><div class="refsection" id="idm25768"><h2>Exemples</h2><p>Il s'agit d'un flux de travail complet et autonome</p><pre class="programlisting">-- do this if you don't have a topology setup already
-- creates topology not allowing any tolerance
SELECT topology.CreateTopology('topo_boston_test', 2249);
-- create a new table
CREATE TABLE nei_topo(gid serial primary key, nei varchar(30));
--add a topogeometry column to it
SELECT topology.AddTopoGeometryColumn('topo_boston_test', 'public', 'nei_topo', 'topo', 'MULTIPOLYGON') As new_layer_id;
new_layer_id
-----------
1

--use new layer id in populating the new topogeometry column
-- we add the topogeoms to the new layer with 0 tolerance
INSERT INTO nei_topo(nei, topo)
SELECT nei,  topology.toTopoGeom(geom, 'topo_boston_test', 1)
FROM neighborhoods
WHERE gid BETWEEN 1 and 15;

--use to verify what has happened --
SELECT * FROM
    topology.TopologySummary('topo_boston_test');

-- summary--
Topology topo_boston_test (5), SRID 2249, precision 0
61 nodes, 87 edges, 35 faces, 15 topogeoms in 1 layers
Layer 1, type Polygonal (3), 15 topogeoms
 Deploy: public.nei_topo.topo</pre><pre class="programlisting">

-- Shrink all TopoGeometry polygons by 10 meters
UPDATE nei_topo SET topo = ST_Buffer(clearTopoGeom(topo), -10);

-- Get the no-one-lands left by the above operation
-- I think GRASS calls this "polygon0 layer"
SELECT ST_GetFaceGeometry('topo_boston_test', f.face_id)
  FROM topo_boston_test.face f
  WHERE f.face_id 
&gt; 0 -- don't consider the universe face
  AND NOT EXISTS ( -- check that no TopoGeometry references the face
    SELECT * FROM topo_boston_test.relation
    WHERE layer_id = 1 AND element_id = f.face_id
  );
        </pre></div><div class="refsection" id="idm25773"><h2>Voir aussi</h2><p><a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#AddTopoGeometryColumn" title="AddTopoGeometryColumn">AddTopoGeometryColumn</a>, <a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a>, <a class="xref" href="#TopologySummary" title="TopologySummary">TopologySummary</a>, <a class="xref" href="#clearTopoGeom" title="clearTopoGeom">clearTopoGeom</a> </p></div></div><div class="refentry" id="TopoElementArray_Agg"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoElementArray_Agg — Renvoie un <code class="varname">topoelementarray</code> pour un ensemble de tableaux de type, element_id (topoelements).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topoelementarray <strong class="fsfunc">TopoElementArray_Agg</strong>(</code>topoelement set <var class="pdparam">tefield</var><code>)</code>;</p></div></div><div class="refsection" id="idm25794"><h2>Description</h2><p>Utilisé pour créer un <a class="xref" href="#topoelementarray" title="TopoElementArray">TopoElementArray</a> à partir d'un ensemble de <a class="xref" href="#topoelement" title="TopoElement">TopoElement</a>.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm25800"><h2>Exemples</h2><pre class="programlisting">SELECT topology.TopoElementArray_Agg(ARRAY[e,t]) As tea
  FROM generate_series(1,3) As e CROSS JOIN generate_series(1,4) As t;
  tea
--------------------------------------------------------------------------
{{1,1},{1,2},{1,3},{1,4},{2,1},{2,2},{2,3},{2,4},{3,1},{3,2},{3,3},{3,4}}</pre></div><div class="refsection" id="idm25803"><h2>Voir aussi</h2><p><a class="xref" href="#topoelement" title="TopoElement">TopoElement</a>, <a class="xref" href="#topoelementarray" title="TopoElementArray">TopoElementArray</a></p></div></div><div class="refentry" id="TopoElement"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoElement — Convertit une topogeometry en un topoelement.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topoelement <strong class="fsfunc">TopoElement</strong>(</code>topogeometry  <var class="pdparam">topo</var><code>)</code>;</p></div></div><div class="refsection" id="idm25820"><h2>Description</h2><p>Convertit une <a class="xref" href="#topogeometry" title="TopoGeometry">TopoGeometry</a> en <a class="xref" href="#topoelement" title="TopoElement">TopoElement</a>.</p><p class="availability">Disponibilité : 3.4.0</p></div><div class="refsection" id="idm25826"><h2>Exemples</h2><p>Il s'agit d'un flux de travail complet et autonome</p><pre class="programlisting">-- do this if you don't have a topology setup already
-- Creates topology not allowing any tolerance
SELECT TopoElement(topo)
FROM neighborhoods;</pre><pre class="programlisting">-- using as cast
SELECT topology.TopoElementArray_Agg(topo::topoelement)
FROM neighborhoods
GROUP BY city;</pre></div><div class="refsection" id="idm25831"><h2>Voir aussi</h2><p><a class="xref" href="#TopoElementArray_Agg" title="TopoElementArray_Agg">TopoElementArray_Agg</a>, <a class="xref" href="#topogeometry" title="TopoGeometry">TopoGeometry</a>, <a class="xref" href="#topoelement" title="TopoElement">TopoElement</a></p></div></div></section><section class="section" id="TopoGeometry_Editors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.10. Editeurs de TopoGeometry</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section couvre les fonctions de topologie permettant d'éditer les topogeometries existantes.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#clearTopoGeom">clearTopoGeom</a></span><span class="refpurpose"> — Efface le contenu d'une géométrie topo.</span></li><li><span class="refentrytitle"><a href="#TopoGeom_addElement">TopoGeom_addElement</a></span><span class="refpurpose"> — Ajoute un élément à la définition d'une TopoGeometry.</span></li><li><span class="refentrytitle"><a href="#TopoGeom_remElement">TopoGeom_remElement</a></span><span class="refpurpose"> — Supprime un élément de la définition d'une TopoGeometry.</span></li><li><span class="refentrytitle"><a href="#TopoGeom_addTopoGeom">TopoGeom_addTopoGeom</a></span><span class="refpurpose"> — Ajoute un élément d'une TopoGeometry à la définition d'une autre TopoGeometry.</span></li><li><span class="refentrytitle"><a href="#toTopoGeom_editor_proxy">toTopoGeom</a></span><span class="refpurpose"> — Ajoute une forme géométrique à une géométrie topographique existante.</span></li></ul></div><div class="refentry" id="clearTopoGeom"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>clearTopoGeom — Efface le contenu d'une géométrie topo.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topogeometry <strong class="fsfunc">clearTopoGeom</strong>(</code>topogeometry  <var class="pdparam">topogeom</var><code>)</code>;</p></div></div><div class="refsection" id="idm25854"><h2>Description</h2><p>Efface le contenu d'une <a class="xref" href="#topogeometry" title="TopoGeometry">TopoGeometry</a> en la transformant en une vide. Principalement utile en conjonction avec <a class="xref" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a> pour remplacer la forme des objets existants et de tout objet dépendant dans les niveaux hiérarchiques supérieurs. </p><p class="availability">Disponibilité : 2.1</p></div><div class="refsection" id="idm25860"><h2>Exemples</h2><pre class="programlisting">-- Shrink all TopoGeometry polygons by 10 meters
UPDATE nei_topo SET topo = ST_Buffer(clearTopoGeom(topo), -10);
                                </pre></div><div class="refsection" id="idm25863"><h2>Voir aussi</h2><p>
<a class="xref" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a>
        </p></div></div><div class="refentry" id="TopoGeom_addElement"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeom_addElement — Ajoute un élément à la définition d'une TopoGeometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topogeometry <strong class="fsfunc">TopoGeom_addElement</strong>(</code>topogeometry  <var class="pdparam">tg</var>, topoelement  <var class="pdparam">el</var><code>)</code>;</p></div></div><div class="refsection" id="idm25882"><h2>Description</h2><p>Ajoute un <a class="xref" href="#topoelement" title="TopoElement">TopoElement</a> à la définition d'un objet TopoGeometry. Il n'y a pas d'erreur si l'élément fait déjà partie de la définition. </p><p class="availability">Disponibilité : 2.3</p></div><div class="refsection" id="idm25887"><h2>Exemples</h2><pre class="programlisting">-- Add edge 5 to TopoGeometry tg
UPDATE mylayer SET tg = TopoGeom_addElement(tg, '{5,2}');
                                </pre></div><div class="refsection" id="idm25890"><h2>Voir aussi</h2><p><a class="xref" href="#TopoGeom_remElement" title="TopoGeom_remElement">TopoGeom_remElement</a>, <a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a> </p></div></div><div class="refentry" id="TopoGeom_remElement"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeom_remElement — Supprime un élément de la définition d'une TopoGeometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topogeometry <strong class="fsfunc">TopoGeom_remElement</strong>(</code>topogeometry  <var class="pdparam">tg</var>, topoelement  <var class="pdparam">el</var><code>)</code>;</p></div></div><div class="refsection" id="idm25910"><h2>Description</h2><p>Supprime une <a class="xref" href="#topoelement" title="TopoElement">TopoElement</a> de la définition d'un objet TopoGeometry. </p><p class="availability">Disponibilité : 2.3</p></div><div class="refsection" id="idm25915"><h2>Exemples</h2><pre class="programlisting">-- Remove face 43 from TopoGeometry tg
UPDATE mylayer SET tg = TopoGeom_remElement(tg, '{43,3}');
                                </pre></div><div class="refsection" id="idm25918"><h2>Voir aussi</h2><p><a class="xref" href="#TopoGeom_addElement" title="TopoGeom_addElement">TopoGeom_addElement</a>, <a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a> </p></div></div><div class="refentry" id="TopoGeom_addTopoGeom"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeom_addTopoGeom — Ajoute un élément d'une TopoGeometry à la définition d'une autre TopoGeometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topogeometry <strong class="fsfunc">TopoGeom_addTopoGeom</strong>(</code>topogeometry  <var class="pdparam">tgt</var>, topogeometry  <var class="pdparam">src</var><code>)</code>;</p></div></div><div class="refsection" id="idm25938"><h2>Description</h2><p>Ajoute les éléments d'une <a class="xref" href="#topogeometry" title="TopoGeometry">TopoGeometry</a> à la définition d'une autre TopoGeometry, en changeant éventuellement son type mis en cache (attribut type) en une collection, si nécessaire pour contenir tous les éléments de l'objet source. </p><p>Les deux objets TopoGeometry doivent être définis par rapport à la même topologie et, s'ils sont définis hiérarchiquement, ils doivent être composés d'éléments de la même couche enfant. </p><p class="availability">Disponibilité : 3.2</p></div><div class="refsection" id="idm25944"><h2>Exemples</h2><pre class="programlisting">-- Set an "overall" TopoGeometry value to be composed by all
-- elements of specific TopoGeometry values
UPDATE mylayer SET tg_overall = TopoGeom_addTopogeom(
    TopoGeom_addTopoGeom(
        clearTopoGeom(tg_overall),
        tg_specific1
    ),
    tg_specific2
);
                                </pre></div><div class="refsection" id="idm25947"><h2>Voir aussi</h2><p><a class="xref" href="#TopoGeom_addElement" title="TopoGeom_addElement">TopoGeom_addElement</a>, <a class="xref" href="#clearTopoGeom" title="clearTopoGeom">clearTopoGeom</a>, <a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a> </p></div></div><div class="refentry" id="toTopoGeom_editor_proxy"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>toTopoGeom — Ajoute une forme géométrique à une géométrie topographique existante.</p></div><div class="refsection" id="idm25957"><h2>Description</h2><p>Se référer à <a class="xref" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a>. </p></div></div></section><section class="section" id="TopoGeom_Accessors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.11. Accès aux TopoGeometry</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#GetTopoGeomElementArray">GetTopoGeomElementArray</a></span><span class="refpurpose"> — Renvoie un <code class="varname">topoelementarray</code> (un tableau de topoelements) contenant les éléments topologiques et le type de la TopoGeometry donnée (éléments primitifs).</span></li><li><span class="refentrytitle"><a href="#GetTopoGeomElements">GetTopoGeomElements</a></span><span class="refpurpose"> — Renvoie un ensemble d'objets <code class="varname">topoelement</code> contenant les éléments topologiques element_id,element_type de la TopoGeometry donnée (éléments primitifs).</span></li><li><span class="refentrytitle"><a href="#TG_ST_SRID">ST_SRID</a></span><span class="refpurpose"> — Renvoie l'identifiant de référence spatiale d'une topogeometry.</span></li></ul></div><div class="refentry" id="GetTopoGeomElementArray"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetTopoGeomElementArray — Renvoie un <code class="varname">topoelementarray</code> (un tableau de topoelements) contenant les éléments topologiques et le type de la TopoGeometry donnée (éléments primitifs).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topoelementarray <strong class="fsfunc">GetTopoGeomElementArray</strong>(</code>varchar  <var class="pdparam">toponame</var>, integer  <var class="pdparam">layer_id</var>, integer <var class="pdparam">tg_id</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">topoelementarray <strong class="fsfunc">GetTopoGeomElementArray</strong>(</code>topogeometry  <var class="pdparam">tg</var><code>)</code>;</p></div></div><div class="refsection" id="idm25989"><h2>Description</h2><p>Renvoie un <a class="xref" href="#topoelementarray" title="TopoElementArray">TopoElementArray</a> contenant les éléments topologiques et le type de la TopoGeometry donnée (éléments primitifs). Cette fonction est similaire à GetTopoGeomElements, sauf qu'elle renvoie les éléments sous la forme d'un tableau plutôt que sous la forme d'un ensemble de données.</p><p>tg_id est l'identifiant topogeometry de l'objet topogeometry de la topologie dans la couche désignée par <code class="varname">layer_id</code> dans la table topology.layer.</p><p class="availability">DIsponibilité : 1.1</p></div><div class="refsection" id="idm25996"><h2>Exemples</h2><p/></div><div class="refsection" id="idm25999"><h2>Voir aussi</h2><p><a class="xref" href="#GetTopoGeomElements" title="GetTopoGeomElements">GetTopoGeomElements</a>, <a class="xref" href="#topoelementarray" title="TopoElementArray">TopoElementArray</a></p></div></div><div class="refentry" id="GetTopoGeomElements"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetTopoGeomElements — Renvoie un ensemble d'objets <code class="varname">topoelement</code> contenant les éléments topologiques element_id,element_type de la TopoGeometry donnée (éléments primitifs).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof topoelement <strong class="fsfunc">GetTopoGeomElements</strong>(</code>varchar  <var class="pdparam">toponame</var>, integer  <var class="pdparam">layer_id</var>, integer <var class="pdparam">tg_id</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">setof topoelement <strong class="fsfunc">GetTopoGeomElements</strong>(</code>topogeometry  <var class="pdparam">tg</var><code>)</code>;</p></div></div><div class="refsection" id="idm26030"><h2>Description</h2><p>Renvoie un ensemble de element_id,element_type (topoelements) correspondant aux éléments topologiques primitifs <a class="xref" href="#topoelement" title="TopoElement">TopoElement</a> (1 : noeuds, 2 : arêtes, 3 : faces) dont est composé un objet topogeometry donné dans le schéma <code class="varname">toponame</code>.</p><p>tg_id est l'identifiant topogeometry de l'objet topogeometry de la topologie dans la couche désignée par <code class="varname">layer_id</code> dans la table topology.layer.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm26038"><h2>Exemples</h2><p/></div><div class="refsection" id="idm26041"><h2>Voir aussi</h2><p><a class="xref" href="#GetTopoGeomElementArray" title="GetTopoGeomElementArray">GetTopoGeomElementArray</a>, <a class="xref" href="#topoelement" title="TopoElement">TopoElement</a>, <a class="xref" href="#TopoGeom_addElement" title="TopoGeom_addElement">TopoGeom_addElement</a>, <a class="xref" href="#TopoGeom_remElement" title="TopoGeom_remElement">TopoGeom_remElement</a> </p></div></div><div class="refentry" id="TG_ST_SRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SRID — Renvoie l'identifiant de référence spatiale d'une topogeometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_SRID</strong>(</code>topogeometry  <var class="pdparam">tg</var><code>)</code>;</p></div></div><div class="refsection" id="idm26060"><h2>Description</h2><p>Renvoie l'identifiant de référence spatiale pour la ST_Geometry tel que défini dans la table spatial_ref_sys. <a class="xref" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">Section 4.5, “Systèmes de référence spatiale”</a></p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La table spatial_ref_sys est une table qui répertorie tous les systèmes de référence spatiale connus de PostGIS et qui est utilisée pour les transformations d'un système de référence spatiale à un autre. Il est donc important de vérifier que vous disposez du bon identifiant de système de référence spatiale si vous envisagez de transformer vos géométries.</p></td></tr></table></div><p class="availability">Disponibilité : 3.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode implémente la spécification SQL/MM.  SQL-MM 3: 14.1.5</p></div><div class="refsection" id="idm26072"><h2>Exemples</h2><pre class="programlisting">SELECT ST_SRID(ST_GeomFromText('POINT(-71.1043 42.315)',4326));
                --result
                4326
                </pre></div><div class="refsection" id="idm26075"><h2>Voir aussi</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">Section 4.5, “Systèmes de référence spatiale”</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div></section><section class="section" id="TopoGeometry_Outputs"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.12. Sorties TopoGeometry</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#AsGML">AsGML</a></span><span class="refpurpose"> — Renvoie la représentation GML d'une topogeometry.</span></li><li><span class="refentrytitle"><a href="#AsTopoJSON">AsTopoJSON</a></span><span class="refpurpose"> — Renvoie la représentation TopoJSON d'une topogeometry.</span></li></ul></div><div class="refentry" id="AsGML"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AsGML — Renvoie la représentation GML d'une topogeometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var>, text  <var class="pdparam">nsprefix_in</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var>, regclass  <var class="pdparam">visitedTable</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var>, regclass  <var class="pdparam">visitedTable</var>, text  <var class="pdparam">nsprefix</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var>, text  <var class="pdparam">nsprefix_in</var>, integer  <var class="pdparam">precision</var>, integer  <var class="pdparam">options</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var>, text  <var class="pdparam">nsprefix_in</var>, integer  <var class="pdparam">precision</var>, integer  <var class="pdparam">options</var>, regclass  <var class="pdparam">visitedTable</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var>, text  <var class="pdparam">nsprefix_in</var>, integer  <var class="pdparam">precision</var>, integer  <var class="pdparam">options</var>, regclass  <var class="pdparam">visitedTable</var>, text  <var class="pdparam">idprefix</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var>, text  <var class="pdparam">nsprefix_in</var>, integer  <var class="pdparam">precision</var>, integer  <var class="pdparam">options</var>, regclass  <var class="pdparam">visitedTable</var>, text  <var class="pdparam">idprefix</var>, int  <var class="pdparam">gmlversion</var><code>)</code>;</p></div></div><div class="refsection" id="idm26204"><h2>Description</h2><p>Renvoie la représentation GML d'une topogeometry au format GML3. Si aucun <code class="varname">nsprefix_in</code> n'est spécifié, <code class="varname">gml</code> est utilisé. Fournir une chaîne de caractères vide pour nsprefix afin d'obtenir un espace de noms non qualifié. Les paramètres precision (par défaut : 15) et options (par défaut 1), s'ils sont donnés, sont transmis tels quels à l'appel sous-jacent à ST_AsGML.</p><p>Le paramètre <code class="varname">visitedTable</code>, s'il est donné, est utilisé pour garder une trace des éléments de nœud et d'arêtes visités afin d'utiliser des références croisées (xlink:xref) plutôt que de dupliquer les définitions. La table doit comporter (au moins) deux champs entiers : "element_type" et "element_id". L'utilisateur appelant doit avoir les privilèges de lecture et d'écriture sur la table donnée. Pour de meilleures performances, un index doit être défini sur <code class="varname">element_type</code> et <code class="varname">element_id</code>, dans cet ordre. Cet index sera créé automatiquement par l'ajout d'une contrainte d'unicité aux champs. Exemple : </p><pre class="programlisting">CREATE TABLE visited (
  element_type integer, element_id integer,
  unique(element_type, element_id)
);
</pre><p>
		</p><p>Le paramètre <code class="varname">idprefix</code>, s'il est indiqué, sera ajouté aux identifiants des balises Edge et Node.</p><p>Le paramètre <code class="varname">gmlver</code>, s'il est donné, sera transmis au ST_AsGML sous-jacent. La valeur par défaut est 3.</p><p class="availability">Disponibilité : 2.0.0 </p></div><div class="refsection" id="idm26219"><h2>Exemples</h2><p>Ceci utilise la géométrie topo que nous avons créée dans <a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a></p><pre class="programlisting">
SELECT topology.AsGML(topo) As rdgml
  FROM ri.roads
  WHERE road_name = 'Unknown';

-- rdgml--
&lt;gml:TopoCurve&gt;
    &lt;gml:directedEdge&gt;
        &lt;gml:Edge gml:id="E1"&gt;
            &lt;gml:directedNode orientation="-"&gt;
                &lt;gml:Node gml:id="N1"/&gt;
            &lt;/gml:directedNode&gt;
            &lt;gml:directedNode
&gt;&lt;/gml:directedNode&gt;
            &lt;gml:curveProperty&gt;
                &lt;gml:Curve srsName="urn:ogc:def:crs:EPSG::3438"&gt;
                    &lt;gml:segments&gt;
                        &lt;gml:LineStringSegment&gt;
                            &lt;gml:posList srsDimension="2"
&gt;384744 236928 384750 236923 384769 236911 384799 236895 384811 236890
                            384833 236884 384844 236882 384866 236881 384879 236883 384954 236898 385087 236932 385117 236938
                            385167 236938 385203 236941 385224 236946 385233 236950 385241 236956 385254 236971
                            385260 236979 385268 236999 385273 237018 385273 237037 385271 237047 385267 237057 385225 237125
                            385210 237144 385192 237161 385167 237192 385162 237202 385159 237214 385159 237227 385162 237241
                            385166 237256 385196 237324 385209 237345 385234 237375 385237 237383 385238 237399 385236 237407
                            385227 237419 385213 237430 385193 237439 385174 237451 385170 237455 385169 237460 385171 237475
                            385181 237503 385190 237521 385200 237533 385206 237538 385213 237541 385221 237542 385235 237540 385242 237541
                            385249 237544 385260 237555 385270 237570 385289 237584 385292 237589 385291 237596 385284 237630&lt;/gml:posList&gt;
                        &lt;/gml:LineStringSegment&gt;
                    &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
            &lt;/gml:curveProperty&gt;
        &lt;/gml:Edge&gt;
    &lt;/gml:directedEdge&gt;
&lt;/gml:TopoCurve&gt;
</pre><p>Même exercice que le précédent sans namespace</p><pre class="programlisting">
SELECT topology.AsGML(topo,'') As rdgml
  FROM ri.roads
  WHERE road_name = 'Unknown';

-- rdgml--
&lt;TopoCurve&gt;
    &lt;directedEdge&gt;
        &lt;Edge id="E1"&gt;
            &lt;directedNode orientation="-"&gt;
                &lt;Node id="N1"/&gt;
            &lt;/directedNode&gt;
            &lt;directedNode
&gt;&lt;/directedNode&gt;
            &lt;curveProperty&gt;
                &lt;Curve srsName="urn:ogc:def:crs:EPSG::3438"&gt;
                    &lt;segments&gt;
                        &lt;LineStringSegment&gt;
                            &lt;posList srsDimension="2"
&gt;384744 236928 384750 236923 384769 236911 384799 236895 384811 236890
                            384833 236884 384844 236882 384866 236881 384879 236883 384954 236898 385087 236932 385117 236938
                            385167 236938 385203 236941 385224 236946 385233 236950 385241 236956 385254 236971
                            385260 236979 385268 236999 385273 237018 385273 237037 385271 237047 385267 237057 385225 237125
                            385210 237144 385192 237161 385167 237192 385162 237202 385159 237214 385159 237227 385162 237241
                            385166 237256 385196 237324 385209 237345 385234 237375 385237 237383 385238 237399 385236 237407
                            385227 237419 385213 237430 385193 237439 385174 237451 385170 237455 385169 237460 385171 237475
                            385181 237503 385190 237521 385200 237533 385206 237538 385213 237541 385221 237542 385235 237540 385242 237541
                            385249 237544 385260 237555 385270 237570 385289 237584 385292 237589 385291 237596 385284 237630&lt;/posList&gt;
                         &lt;/LineStringSegment&gt;
                    &lt;/segments&gt;
                &lt;/Curve&gt;
            &lt;/curveProperty&gt;
        &lt;/Edge&gt;
    &lt;/directedEdge&gt;
&lt;/TopoCurve&gt;
</pre></div><div class="refsection" id="idm26226"><h2>Voir aussi</h2><p><a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a>, <a class="xref" href="#ST_CreateTopoGeo" title="ST_CreateTopoGeo">ST_CreateTopoGeo</a></p></div></div><div class="refentry" id="AsTopoJSON"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AsTopoJSON — Renvoie la représentation TopoJSON d'une topogeometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">AsTopoJSON</strong>(</code>topogeometry  <var class="pdparam">tg</var>, regclass  <var class="pdparam">edgeMapTable</var><code>)</code>;</p></div></div><div class="refsection" id="idm26246"><h2>Description</h2><p>Renvoie la représentation TopoJSON d'une topogeometry. Si <code class="varname">edgeMapTable</code> n'est pas nul, il sera utilisé comme correspondance de consultation/stockage des identifiants d'arêtes aux indices d'arcs. Cela permet d'obtenir un tableau compact des "arcs" dans le document final. </p><p>La table, si elle est donnée, doit avoir un champ "arc_id" de type "serial" et un champ "edge_id" de type integer ; le code interrogera la table pour "edge_id" et il est donc recommandé d'ajouter un index sur ce champ. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les indices d'arc dans la sortie TopoJSON sont basés sur 0 mais ils sont basés sur 1 dans la table "edgeMapTable". </p></td></tr></table></div><p>Un document TopoJSON complet devra contenir, en plus des extraits renvoyés par cette fonction, les arcs proprement dits et quelques en-têtes. Voir le <a class="link" href="http://github.com/mbostock/topojson-specification/blob/master/README.md" target="_top">TopoJSON specification</a>. </p><p class="availability">Disponibilité : 2.1.0 </p><p class="enhanced">Amélioration : 2.2.1 ajout de la prise en charge des entrées "puntal"</p></div><div class="refsection" id="idm26257"><h2>Voir aussi</h2><p><a class="xref" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a></p></div><div class="refsection" id="idm26261"><h2>Exemples</h2><pre class="programlisting">CREATE TEMP TABLE edgemap(arc_id serial, edge_id int unique);

-- header
SELECT '{ "type": "Topology", "transform": { "scale": [1,1], "translate": [0,0] }, "objects": {'

-- objects
UNION ALL SELECT '"' || feature_name || '": ' || AsTopoJSON(feature, 'edgemap')
FROM features.big_parcels WHERE feature_name = 'P3P4';

-- arcs
WITH edges AS (
  SELECT m.arc_id, e.geom FROM edgemap m, city_data.edge e
  WHERE e.edge_id = m.edge_id
), points AS (
  SELECT arc_id, (st_dumppoints(geom)).* FROM edges
), compare AS (
  SELECT p2.arc_id,
         CASE WHEN p1.path IS NULL THEN p2.geom
              ELSE ST_Translate(p2.geom, -ST_X(p1.geom), -ST_Y(p1.geom))
         END AS geom
  FROM points p2 LEFT OUTER JOIN points p1
  ON ( p1.arc_id = p2.arc_id AND p2.path[1] = p1.path[1]+1 )
  ORDER BY arc_id, p2.path
), arcsdump AS (
  SELECT arc_id, (regexp_matches( ST_AsGeoJSON(geom), '\[.*\]'))[1] as t
  FROM compare
), arcs AS (
  SELECT arc_id, '[' || array_to_string(array_agg(t), ',') || ']' as a FROM arcsdump
  GROUP BY arc_id
  ORDER BY arc_id
)
SELECT '}, "arcs": [' UNION ALL
SELECT array_to_string(array_agg(a), E',\n') from arcs

-- footer
UNION ALL SELECT ']}'::text as t;

-- Result:
{ "type": "Topology", "transform": { "scale": [1,1], "translate": [0,0] }, "objects": {
"P3P4": { "type": "MultiPolygon", "arcs": [[[-1]],[[6,5,-5,-4,-3,1]]]}
}, "arcs": [
 [[25,30],[6,0],[0,10],[-14,0],[0,-10],[8,0]],
 [[35,6],[0,8]],
 [[35,6],[12,0]],
 [[47,6],[0,8]],
 [[47,14],[0,8]],
 [[35,22],[12,0]],
 [[35,14],[0,8]]
 ]}
</pre></div></div></section><section class="section" id="Topology_Relationships"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.13. Relations spatiales de topologie</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section énumère les fonctions de topologie utilisées pour vérifier les relations entre les topogeometries et les primitives topologiques</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#TG_Equals">Equals</a></span><span class="refpurpose"> — Retourne vrai si deux topogeometries sont composées des mêmes primitives topologiques.</span></li><li><span class="refentrytitle"><a href="#TG_Intersects">Intersects</a></span><span class="refpurpose"> — Retourne true si une paire de primitives des deux topogeometries s'intersectent.</span></li></ul></div><div class="refentry" id="TG_Equals"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Equals — Retourne vrai si deux topogeometries sont composées des mêmes primitives topologiques.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">Equals</strong>(</code>topogeometry  <var class="pdparam">tg1</var>, topogeometry  <var class="pdparam">tg2</var><code>)</code>;</p></div></div><div class="refsection" id="idm26284"><h2>Description</h2><p>Retourne vrai si deux topogeometries sont composées des mêmes primitives topologiques : faces, arêtes, nœuds.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction n'est pas prise en charge pour les topogeometries qui sont des collections de géométries. Elle ne permet pas non plus de comparer des topogeometries issues de topologies différentes.</p></td></tr></table></div><p class="availability">Disponibilité : 1.1.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm26294"><h2>Exemples</h2><pre class="programlisting"/></div><div class="refsection" id="idm26297"><h2>Voir aussi</h2><p><a class="xref" href="#GetTopoGeomElements" title="GetTopoGeomElements">GetTopoGeomElements</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a></p></div></div><div class="refentry" id="TG_Intersects"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Intersects — Retourne true si une paire de primitives des deux topogeometries s'intersectent.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">Intersects</strong>(</code>topogeometry  <var class="pdparam">tg1</var>, topogeometry  <var class="pdparam">tg2</var><code>)</code>;</p></div></div><div class="refsection" id="idm26317"><h2>Description</h2><p>Retourne true si une paire de primitives des deux topogeometries s'intersectent. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction n'est pas prise en charge pour les topogeometries qui sont des collections de géométries. Elle ne permet pas non plus de comparer des topogeometries issues de topologies différentes. Elle n'est pas non plus compatible avec les topogeometries hiérarchiques (topogeometries composées d'autres topogeometries).</p></td></tr></table></div><p class="availability">Disponibilité : 1.1.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette fonction prend en charge la 3D et ne supprime pas l'indice z. </p></div><div class="refsection" id="idm26327"><h2>Exemples</h2><pre class="programlisting"/></div><div class="refsection" id="idm26330"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a></p></div></div></section><section class="section" id="Topology_Import_Export"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.14. Importer et exporter des topologies</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#pgtopo_export">9.14.1. Utiliser l'exportateur de topologie</a></span></li><li><span class="section"><a href="#pgtopo_import">9.14.2. Utiliser l'importateur de topologie</a></span></li></ul></div><p>Une fois que vous avez créé des topologies, et éventuellement des couches topologiques associées, vous pouvez les exporter dans un format de fichier pour les sauvegarder ou les transférer dans une autre base de données. </p><p>L'utilisation des outils standards de dump/restauration de PostgreSQL est problématique car les topologies sont composées d'un ensemble de tables (4 pour les primitives, un nombre arbitraire pour les couches) et d'enregistrements dans des tables de métadonnées (topology.topology et topology.layer). De plus, les identifiants de topologie ne sont pas univoques d'une base de données à l'autre, de sorte que les paramètres de votre topologie devront être modifiés lors de sa restauration. </p><p>Afin de simplifier l'exportation/la restauration des topologies, une paire d'exécutables est fournie : <code class="filename">pgtopo_export</code> et <code class="filename">pgtopo_import</code>. Exemple d'utilisation : </p><pre class="programlisting">pgtopo_export dev_db topo1 | pgtopo_import topo1 | psql staging_db
</pre><section class="section" id="pgtopo_export"><div class="titlepage"><div><div><h3 class="title">9.14.1. Utiliser l'exportateur de topologie</h3></div></div></div><p>Le script <code class="filename">pgtopo_export</code> prend le nom d'une base de données et d'une topologie et produit un fichier dump qui peut être utilisé pour importer la topologie (et les couches associées) dans une nouvelle base de données. </p><p>Par défaut, <code class="filename">pgtopo_export</code> écrit le fichier dump sur la sortie standard afin qu'il puisse être acheminé vers <code class="filename">pgtopo_import</code> ou redirigé vers un fichier (refusant d'écrire dans le terminal). Vous pouvez optionnellement spécifier un nom de fichier de sortie en utilisant l'argument <code class="code">-f</code> dans la ligne de commandes. </p><p>Par défaut <code class="filename">pgtopo_export</code> inclut un dump de toutes les couches définies par rapport à la topologie donnée. Cela peut être plus de données que vous n'en avez besoin, ou peut ne pas fonctionner (dans le cas où vos tables de couches ont des dépendances complexes), auquel cas vous pouvez demander à ignorer les couches avec l'argument <code class="code">--skip-layers</code> et les traiter séparément. </p><p>En utilisant <code class="filename">pgtopo_export</code> avec l'argument <code class="code">--help</code> (ou <code class="code">-h</code> en abrégé) affichera toujours une courte chaîne de caractères sur l'utilisation. </p><p>Le format du fichier dump est une archive tar compressée d'un répertoire <code class="filename">pgtopo_export</code> contenant au moins un fichier <code class="filename">pgtopo_dump_version</code> avec des informations sur la version du format. A partir de la version <code class="code">1</code>, le répertoire contient des fichiers CSV délimités par des tabulations avec les données des tables primitives de topologie (node, edge_data, face, relation), les enregistrements de topologie et de couche associés et (sauf si <code class="code">--skip-layers</code> est donné) un dump PostgreSQL au format personnalisé des tables signalées comme étant des couches de la topologie donnée. </p></section><section class="section" id="pgtopo_import"><div class="titlepage"><div><div><h3 class="title">9.14.2. Utiliser l'importateur de topologie</h3></div></div></div><p>Le script <code class="filename">pgtopo_import</code> prend un dump topologique au format <code class="code">pgtopo_export</code> et un nom à donner à la topologie à créer et produit un script SQL reconstruisant la topologie et les couches associées. </p><p>Le fichier SQL généré contiendra des instructions qui créent une topologie avec le nom donné, chargent les données primitives, restaurent et enregistrent toutes les couches de la topologie en liant correctement toutes les valeurs TopoGeometry à leur topologie correcte. </p><p>Par défaut, <code class="filename">pgtopo_import</code> lit le dump depuis l'entrée standard afin qu'il puisse être utilisé en conjonction avec <code class="filename">pgtopo_export</code> dans une chaîne de traitement. Vous pouvez optionnellement spécifier un nom de fichier d'entrée avec l'argument <code class="code">-f</code> en ligne de commande. </p><p>Par défaut, <code class="filename">pgtopo_import</code> inclut dans le fichier SQL de sortie le code permettant de restaurer toutes les couches trouvées dans le dump. </p><p>Ceci peut être indésirable ou ne pas fonctionner si votre base de données cible a déjà des tables avec le même nom que celles dans le dump. Dans ce cas, vous pouvez demander à ignorer les couches avec l'argument <code class="code">--skip-layers</code> et les traiter séparément (ou plus tard). </p><p>SQL pour charger et lier uniquement les couches à une topologie nommée peut être généré en utilisant l'argument <code class="code">--only-layers</code>. Cela peut être utile pour charger des couches APRÈS avoir résolu les conflits de noms ou pour lier des couches à une topologie différente (par exemple une version spatialement simplifiée de la topologie de départ). </p></section></section></section><section class="chapter" id="using_raster_dataman"><div class="titlepage"><div><div><h1 class="title">Chapter 10. Gestion des données raster, requêtes et applications</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#RT_Loading_Rasters">10.1. Chargement et création de rasters</a></span></li><li><span class="section"><a href="#RT_Raster_Catalog">10.2. Catalogues Raster</a></span></li><li><span class="section"><a href="#RT_Raster_Applications">10.3. Créer des applications personnalisées avec PostGIS Raster</a></span></li></ul></div><section class="section" id="RT_Loading_Rasters"><div class="titlepage"><div><div><h2 class="title" style="clear: both">10.1. Chargement et création de rasters</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#RT_Raster_Loader">10.1.1. Utilisation de raster2pgsql pour charger des rasters</a></span></li><li><span class="section"><a href="#RT_Creating_Rasters">10.1.2. Création de rasters à l'aide des fonctions raster de PostGIS</a></span></li><li><span class="section"><a href="#RT_Cloud_Rasters">10.1.3. Utilisation de rasters "out db" stockés sur le cloud</a></span></li></ul></div><p>Dans la plupart des cas, vous créerez des rasters PostGIS en chargeant des fichiers raster existants à l'aide du chargeur de rasters <code class="varname">raster2pgsql</code>.</p><section class="section" id="RT_Raster_Loader"><div class="titlepage"><div><div><h3 class="title">10.1.1. Utilisation de raster2pgsql pour charger des rasters</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#idm26394">10.1.1.1. Exemple d'utilisation</a></span></li><li><span class="section"><a href="#idm26408">10.1.1.2. options raster2pgsql</a></span></li></ul></div><p>Le <code class="varname">raster2pgsql</code> est un exécutable de chargement de données raster qui charge les formats de données matricielles pris en charge par GDAL en SQL adapté au chargement dans une table raster PostGIS. Il est capable de charger des dossiers de fichiers raster ainsi que de créer des aperçus de rasters. </p><p>Comme raster2pgsql est le plus souvent compilé dans le cadre de PostGIS (à moins que vous ne compiliez votre propre bibliothèque GDAL), les types de données raster pris en charge par l'exécutable seront les mêmes que ceux compilés dans la bibliothèque de dépendance GDAL. Pour obtenir une liste des types de données raster que votre <code class="varname">raster2pgsql</code> supporte, utilisez l'argument <code class="varname">-G</code>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Lors de la création de vues d'ensemble d'un facteur spécifique à partir d'un ensemble de rasters alignés, il est possible que les vues d'ensemble ne soient pas alignées. Consultez <a class="link" href="http://trac.osgeo.org/postgis/ticket/1764" target="_top">http://trac.osgeo.org/postgis/ticket/1764</a> pour un exemple où les vues d'ensemble ne sont pas alignées.</p></td></tr></table></div><section class="section" id="idm26394"><div class="titlepage"><div><div><h4 class="title">10.1.1.1. Exemple d'utilisation</h4></div></div></div><p>Une session d'exemple utilisant le chargeur pour créer un fichier d'entrée et le charger en morceaux de 100 x 100 tuiles peut ressembler à ceci :</p><pre class="programlisting">
# -s use srid 4326
# -I create spatial index
# -C use standard raster constraints
# -M vacuum analyze after load
# *.tif load all these files
# -F include a filename column in the raster table
# -t tile the output 100x100
# public.demelevation load into this table
raster2pgsql -s 4326 -I -C -M -F -t 100x100 *.tif public.demelevation 
&gt; elev.sql

# -d connect to this database
# -f read this file after connecting
psql -d gisdb -f elev.sql
</pre><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous ne spécifiez pas le schéma dans le nom de la table cible, la table sera créée dans le schéma par défaut de la base de données ou de l'utilisateur avec lequel vous vous connectez.</p></td></tr></table></div><p>Une conversion et un téléchargement peuvent être effectués en une seule étape à l'aide de commandes UNIX :</p><pre class="programlisting">raster2pgsql -s 4326 -I -C -M *.tif -F -t 100x100 public.demelevation | psql -d gisdb</pre><p>Charger les rasters Massachusetts state plane meters aerial tiles dans un schéma appelé <code class="varname">aerial</code> et créer une vue complète, des tables d'ensemble à 2 et 4 niveaux, utiliser le mode copy pour l'insertion (pas de fichier intermédiaire juste directement dans la base de données), et -e ne pas forcer tout dans une transaction (bien si vous voulez voir les données dans les tables tout de suite sans attendre). Décomposer les rasters en tuiles de 128x128 pixels et appliquer les contraintes des rasters. Utilisez le mode copy au lieu de l'insertion de table. (-F) Inclure un champ appelé filename pour contenir le nom du fichier à partir duquel les tuiles ont été découpées.</p><pre class="programlisting">raster2pgsql -I -C -e -Y -F -s 26986 -t 128x128  -l 2,4 bostonaerials2008/*.jpg aerials.boston | psql -U postgres -d gisdb -h localhost -p 5432</pre><pre class="programlisting">--get a list of raster types supported:
raster2pgsql -G</pre><p>La commande -G génère une liste du type </p><pre class="screen">Available GDAL raster formats:
  Virtual Raster
  GeoTIFF
  National Imagery Transmission Format
  Raster Product Format TOC format
  ECRG TOC format
  Erdas Imagine Images (.img)
  CEOS SAR Image
  CEOS Image
  ...
  Arc/Info Export E00 GRID
  ZMap Plus Grid
  NOAA NGS Geoid Height Grids</pre></section><section class="section" id="idm26408"><div class="titlepage"><div><div><h4 class="title">10.1.1.2. options raster2pgsql</h4></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-?</code></span></dt><dd><p>Affiche l'écran d'aide. L'aide s'affichera également si vous ne fournissez aucun argument. </p></dd><dt><span class="term"><code class="option">-G</code></span></dt><dd><p>Affiche les formats raster pris en charge. </p></dd><dt><span class="term">(c|a|d|p) Ces options s'excluent mutuellement :</span></dt><dd><p>
              </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-c</code></span></dt><dd><p>Créer une nouvelle table et la remplir de données raster, <span class="emphasis"><em>c'est le mode par défaut</em></span> </p></dd><dt><span class="term"><code class="option">-a</code></span></dt><dd><p>Ajouter des données raster à une table existante. </p></dd><dt><span class="term"><code class="option">-d</code></span></dt><dd><p>Supprimer la table, en créer une nouvelle et l'alimenter avec des données raster </p></dd><dt><span class="term"><code class="option">-p</code></span></dt><dd><p>En mode préparation, ne créez que la table. </p></dd></dl></div><p>
            </p></dd><dt><span class="term">Traitement des données raster : Application de contraintes pour un enregistrement correct dans les catalogues de données raster</span></dt><dd><p>
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-C </code></span></dt><dd><p>Appliquer les contraintes du raster -- srid, pixelsize etc. pour s'assurer que le raster est correctement enregistré dans la vue <code class="varname">raster_columns</code>. </p></dd><dt><span class="term"><code class="option">-x </code></span></dt><dd><p>Désactive la contrainte d'étendue maximale. Ne s'applique que si l'option -C est également utilisée. </p></dd><dt><span class="term"><code class="option">-r</code></span></dt><dd><p>Définit les contraintes (espacement unique et tuiles de couverture) pour le blocage régulier. Ne s'applique que si l'option -C est également utilisée. </p></dd></dl></div><p>
				</p></dd><dt><span class="term">Traitement des données raster : Paramètres facultatifs utilisés pour manipuler le jeu de données raster d'entrée</span></dt><dd><p>
            </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-s &lt;SRID&gt;</code></span></dt><dd><p>Attribue au raster de sortie le SRID spécifié. S'il n'est pas fourni ou s'il est égal à zéro, les métadonnées du raster seront vérifiées pour déterminer un SRID approprié. </p></dd><dt><span class="term"><code class="option">-b BAND</code></span></dt><dd><p>Indice (basé sur 1) de la bande à extraire du raster. Pour plus d'un indice de bande, séparez-les par une virgule (,). Si rien n'est spécifié, toutes les bandes de l'image seront extraites. </p></dd><dt><span class="term"><code class="option">-t TILE_SIZE</code></span></dt><dd><p>Découpe le raster en tuiles qui seront insérées une par une dans la table. <code class="varname">TILE_SIZE</code> est exprimée en LARGEURxHAUTEUR ou fixée à la valeur "auto" pour permettre au chargeur de calculer une taille de tuile appropriée en utilisant le premier raster et en l'appliquant à tous les rasters. </p></dd><dt><span class="term"><code class="option">-P</code></span></dt><dd><p>Les tuiles les plus à droite et les plus en bas sont remplacées pour garantir que toutes les tuiles ont la même largeur et la même hauteur. </p></dd><dt><span class="term"><code class="option">-R, --register</code></span></dt><dd><p>Enregistrer le raster en tant que raster de système de fichiers (out-db).</p><p>Seules les métadonnées du raster et le chemin d'accès au raster sont stockés dans la base de données (pas les pixels).</p></dd><dt><span class="term"><code class="option">-l OVERVIEW_FACTOR</code></span></dt><dd><p>Créer un aperçu du raster. Pour plus d'un facteur, séparez-les par une virgule (,). Le nom de la table de synthèse suit le modèle o_<code class="varname">facteur de synthèse</code>_<code class="varname">table</code>, où <code class="varname">facteur de synthèse</code> est un espace réservé pour le facteur de synthèse numérique et <code class="varname">table</code> est remplacé par le nom de la table de base. La vue d'ensemble créée est stockée dans la base de données et n'est pas affectée par -R. Notez que le fichier sql généré contiendra à la fois la table principale et les tables de synthèse.</p></dd><dt><span class="term"><code class="option">-N NODATA</code></span></dt><dd><p>Valeur NODATA à utiliser pour les bandes sans valeur NODATA. </p></dd></dl></div><p>
            </p></dd><dt><span class="term">Paramètres facultatifs utilisés pour manipuler les objets de la base de données</span></dt><dd><p>
              </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-f COLUMN</code></span></dt><dd><p>Spécifier le nom de la colonne raster de destination, la valeur par défaut étant "rast" </p></dd><dt><span class="term"><code class="option">-F</code></span></dt><dd><p>Ajouter une colonne avec le nom du fichier</p></dd><dt><span class="term"><code class="option">-n COLUMN</code></span></dt><dd><p>Spécifier le nom de la colonne "nom de fichier". Implique -F.</p></dd><dt><span class="term"><code class="option">-q</code></span></dt><dd><p>Mettre les identifiants PostgreSQL entre guillemets.</p></dd><dt><span class="term"><code class="option">-I</code></span></dt><dd><p>Créer un index GiST sur la colonne raster. </p></dd><dt><span class="term"><code class="option">-M</code></span></dt><dd><p>Vacuum analyze la table raster. </p></dd><dt><span class="term"><code class="option">-k</code></span></dt><dd><p>Conserve les tuiles vides et saute les vérifications des valeurs NODATA pour chaque bande de données matricielles. Vous gagnez du temps en vérifiant, mais vous risquez de vous retrouver avec beaucoup plus de lignes inutiles dans votre base de données et ces lignes inutiles ne sont pas marquées comme des tuiles vides. </p></dd><dt><span class="term"><code class="option">-T tablespace</code></span></dt><dd><p>Spécifier le tablespace pour la nouvelle table. Notez que les index (y compris la clé primaire) utiliseront toujours le tablespace par défaut à moins que l'option -X ne soit également utilisée. </p></dd><dt><span class="term"><code class="option">-X tablespace</code></span></dt><dd><p>Spécifier le tablespace pour le nouvel index de la table. Ceci s'applique à la clé primaire et à l'index spatial si l'option -I est utilisée. </p></dd><dt><span class="term"><code class="option">-Y max_rows_per_copy=50</code></span></dt><dd><p>Utiliser les instructions de copie au lieu des instructions d'insertion. Spécifier optionnellement <code class="varname">max_rows_per_copy</code> ; par défaut 50 si non spécifié.</p></dd></dl></div><p>
            </p></dd><dt><span class="term"><code class="option">-e</code></span></dt><dd><p>Exécutez chaque déclaration individuellement, n'utilisez pas de transaction.</p></dd><dt><span class="term"><code class="option">-E ENDIAN</code></span></dt><dd><p>Contrôle l'ordre des octets de la sortie binaire générée du raster ; spécifier 0 pour XDR et 1 pour NDR (par défaut) ; seule la sortie NDR est prise en charge actuellement</p></dd><dt><span class="term"><code class="option">-V version</code></span></dt><dd><p>Indique la version du format de sortie. La valeur par défaut est 0. Seule la valeur 0 est prise en charge pour l'instant.</p></dd></dl></div></section></section><section class="section" id="RT_Creating_Rasters"><div class="titlepage"><div><div><h3 class="title">10.1.2. Création de rasters à l'aide des fonctions raster de PostGIS</h3></div></div></div><p>Il arrive souvent que vous souhaitiez créer des rasters et des tables de rasters directement dans la base de données. Il existe une multitude de fonctions pour ce faire. Les étapes générales à suivre.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Créer une table avec une colonne raster pour contenir les nouveaux enregistrements raster, ce qui peut être fait avec :</p><pre class="programlisting">CREATE TABLE myrasters(rid serial primary key, rast raster);</pre></li><li class="listitem"><p>Il existe de nombreuses fonctions pour vous aider à atteindre cet objectif. Si vous créez des rasters qui ne sont pas des dérivés d'autres rasters, vous devrez commencer par <a class="xref" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a>, suivi de <a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a></p><p>Vous pouvez également créer des rasters à partir de géométries. Pour ce faire, vous devrez utiliser <a class="xref" href="#RT_ST_AsRaster" title="ST_AsRaster">ST_AsRaster</a> éventuellement accompagné d'autres fonctions telles que <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a> ou <a class="xref" href="#RT_ST_MapAlgebraFct2" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> ou n'importe quelle autre fonction d'algèbre de carte.</p><p>Il existe encore bien d'autres options pour créer de nouvelles tables raster à partir de tables existantes. Par exemple, vous pouvez créer une table raster dans une projection différente de celle d'une table existante en utilisant <a class="xref" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a> </p></li><li class="listitem"><p>Une fois que vous avez rempli votre table initialement, vous devez créer un index spatial sur la colonne des données raster avec quelque chose comme :</p><pre class="programlisting">CREATE INDEX myrasters_rast_st_convexhull_idx ON myrasters USING gist( ST_ConvexHull(rast) );</pre><p>Notez l'utilisation de <a class="xref" href="#RT_ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a> puisque la plupart des opérateurs de données raster sont basés sur l'enveloppe convexe des données raster.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les versions antérieures à la version 2.0 de PostGIS raster étaient basées sur l'enveloppe plutôt que sur l'enveloppe convexe. Pour que les index spatiaux fonctionnent correctement, vous devez les supprimer et les remplacer par des index basés sur l'enveloppe convexe.</p></td></tr></table></div></li><li class="listitem"><p>Appliquer des contraintes raster en utilisant <a class="xref" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a></p></li></ol></div></section><section class="section" id="RT_Cloud_Rasters"><div class="titlepage"><div><div><h3 class="title">10.1.3. Utilisation de rasters "out db" stockés sur le cloud</h3></div></div></div><p>L'outil <code class="varname">raster2pgsql</code> utilise GDAL pour accéder aux données raster et peut tirer parti d'une fonctionnalité clé de GDAL : la possibilité de lire des données raster qui sont <a class="link" href="https://gdal.org/user/virtual_file_systems.html#network-based-file-systems" target="_top">stockées à distance</a> dans des "magasins d'objets" en nuage (par exemple AWS S3, Google Cloud Storage). </p><p>L'utilisation efficace des rasters stockés dans le cloud nécessite l'utilisation d'un format "optimisé pour le cloud". Le plus connu et le plus largement utilisé est le format "<a class="link" href="https://gdal.org/drivers/raster/cog.html" target="_top">cloud optimized GeoTIFF</a>". L'utilisation d'un format non optimisé pour le cloud, comme un JPEG ou un TIFF non structuré, se traduira par des performances très médiocres, car le système devra télécharger l'intégralité du raster chaque fois qu'il devra accéder à un sous-ensemble. </p><p>Tout d'abord, chargez votre raster dans le service de stockage cloud de votre choix. Une fois qu'il est chargé, vous aurez un URI pour y accéder, soit un URI "http", soit parfois un URI spécifique au service (par exemple, "s3://bucket/object") Pour accéder aux buckets non publics, vous devrez fournir des options de configuration GDAL pour authentifier votre connexion. Notez que cette commande <span class="emphasis"><em>lit</em></span> à partir du raster (stocké dans le cloud) et <span class="emphasis"><em>écrit</em></span> dans la base de données. </p><pre class="programlisting">AWS_ACCESS_KEY_ID=xxxxxxxxxxxxxxxxxxxx \
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx \
raster2pgsql \
  -s 990000 \
  -t 256x256 \
  -I \
  -R \
  /vsis3/your.bucket.com/your_file.tif \
  your_table \
  | psql your_db</pre><p>Une fois la table chargée, vous devez donner à la base de données la permission de lire les rasters distants, en définissant deux permissions, <a class="xref" href="#postgis_enable_outdb_rasters" title="postgis.enable_outdb_rasters">postgis.enable_outdb_rasters</a> et <a class="xref" href="#postgis_gdal_enabled_drivers" title="postgis.gdal_enabled_drivers">postgis.gdal_enabled_drivers</a>. </p><pre class="programlisting">SET postgis.enable_outdb_rasters = true;
SET postgis.gdal_enabled_drivers TO 'ENABLE_ALL';
    </pre><p>Pour que les changements soient durables, définissez-les directement dans votre base de données. Vous devrez vous reconnecter pour bénéficier des nouveaux paramètres. </p><pre class="programlisting">ALTER DATABASE your_db SET postgis.enable_outdb_rasters = true;
ALTER DATABASE your_db SET postgis.gdal_enabled_drivers TO 'ENABLE_ALL';
    </pre><p>Pour les rasters non publics, il se peut que vous deviez fournir des clés d'accès pour lire les rasters stockés dans le cloud. Les mêmes clés que vous avez utilisées pour écrire l'appel <code class="varname">raster2pgsql</code> peuvent être définies pour être utilisées à l'intérieur de la base de données, avec la configuration <a class="xref" href="#postgis_gdal_vsi_options" title="postgis.gdal_vsi_options">postgis.gdal_vsi_options</a>. Notez que plusieurs options peuvent être définies en séparant les paires <code class="varname">key=value</code> par des espaces. </p><pre class="programlisting">SET postgis.gdal_vsi_options = 'AWS_ACCESS_KEY_ID=xxxxxxxxxxxxxxxxxxxx
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx';</pre><p>Une fois les données chargées et les autorisations définies, vous pouvez interagir avec la table raster comme avec n'importe quelle autre table raster, en utilisant les mêmes fonctions. La base de données se chargera de tous les mécanismes de connexion aux données stockées dans le cloud lorsqu'elle aura besoin de lire les données des pixels. </p></section></section><section class="section" id="RT_Raster_Catalog"><div class="titlepage"><div><div><h2 class="title" style="clear: both">10.2. Catalogues Raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#RT_Raster_Columns">10.2.1. Catalogue des colonnes raster</a></span></li><li><span class="section"><a href="#RT_Raster_Overviews">10.2.2. Aperçu des données raster</a></span></li></ul></div><p>Deux vues de catalogue raster sont fournies avec PostGIS. Ces deux vues utilisent des informations intégrées dans les contraintes des tables raster. Par conséquent, les vues de catalogue sont toujours cohérentes avec les données raster des tables puisque les contraintes sont appliquées. </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">raster_columns</code> cette vue répertorie toutes les colonnes des tables raster de votre base de données.</p></li><li class="listitem"><p><code class="varname">raster_overviews</code> cette vue répertorie toutes les colonnes des tables raster de votre base de données qui servent d'aperçu pour une table plus finement structurée. Les tables de ce type sont générées lorsque vous utilisez le commutateur <code class="varname">-l</code> pendant le chargement.</p></li></ol></div><section class="section" id="RT_Raster_Columns"><div class="titlepage"><div><div><h3 class="title">10.2.1. Catalogue des colonnes raster</h3></div></div></div><p>Le <code class="varname">raster_columns</code> est un catalogue de toutes les colonnes des tables raster de votre base de données qui sont de type raster. Il s'agit d'une vue qui utilise les contraintes des tables afin que les informations soient toujours cohérentes, même si vous restaurez une table raster à partir d'une sauvegarde d'une autre base de données. Les colonnes suivantes existent dans le catalogue <code class="varname">raster_columns</code>.</p><p>Si vous n'avez pas créé vos tables avec le chargeur ou si vous avez oublié de spécifier l'option <code class="varname">-C</code> pendant le chargement, vous pouvez appliquer les contraintes après coup en utilisant <a class="xref" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a> pour que le catalogue <code class="varname">raster_columns</code> enregistre les informations communes sur vos tuiles raster.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">r_table_catalog</code> La base de données dans laquelle se trouve la table. La lecture se fera toujours dans la base de données actuelle.</p></li><li class="listitem"><p><code class="varname">r_table_schema</code> Schéma de la base de données auquel appartient la table raster.</p></li><li class="listitem"><p><code class="varname">r_table_name</code> table raster</p></li><li class="listitem"><p><code class="varname">r_raster_column</code> la colonne de la table <code class="varname">r_table_name</code> qui est de type raster. Rien dans PostGIS ne vous empêche d'avoir plusieurs colonnes raster par table. Il est donc possible d'avoir une table raster listée plusieurs fois avec une colonne raster différente pour chacune d'entre elles.</p></li><li class="listitem"><p><code class="varname">srid</code> L'identifiant de référence spatiale du raster. Il doit s'agir d'une entrée dans le fichier <a class="xref" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">Section 4.5, “Systèmes de référence spatiale”</a>.</p></li><li class="listitem"><p><code class="varname">scale_x</code> L'échelle entre les coordonnées spatiales géométriques et le pixel. Elle n'est disponible que si toutes les tuiles de la colonne raster ont la même <code class="varname">scale_x</code> et que cette contrainte est appliquée. Se référer à <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a> pour plus de détails.</p></li><li class="listitem"><p><code class="varname">scale_y</code> L'échelle entre les coordonnées spatiales géométriques et le pixel. Elle n'est disponible que si toutes les tuiles de la colonne matricielle ont la même <code class="varname">scale_y</code> et que la contrainte <code class="varname">scale_y</code> est appliquée. Voir <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a> pour plus de détails.</p></li><li class="listitem"><p><code class="varname">blocksize_x</code> La largeur (nombre de pixels) de chaque tuile raster. Pour plus de détails, voir <a class="xref" href="#RT_ST_Width" title="ST_Width">ST_Width</a>.</p></li><li class="listitem"><p><code class="varname">blocksize_y</code> La largeur (nombre de pixels vers le bas) de chaque tuile raster. Voir <a class="xref" href="#RT_ST_Height" title="ST_Height">ST_Height</a> pour plus de détails.</p></li><li class="listitem"><p><code class="varname">same_alignment</code> Un booléen qui est vrai si toutes les tuiles raster ont le même alignement . Pour plus de détails, voir <a class="xref" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a>.</p></li><li class="listitem"><p><code class="varname">regular_blocking</code> Si la colonne de données raster est soumise aux contraintes d'unicité spatiale et de couverture des tuiles, la valeur sera TRUE. Dans le cas contraire, la valeur sera FALSE.</p></li><li class="listitem"><p><code class="varname">num_bands</code> Le nombre de bandes dans chaque tuile de votre jeu de données raster. Il s'agit de la même information que celle fournie par <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a></p></li><li class="listitem"><p><code class="varname">pixel_types</code> Un tableau définissant le type de pixel pour chaque bande. Le nombre d'éléments de ce tableau est identique au nombre de bandes. Les types de pixels sont l'un des suivants, définis dans <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>.</p></li><li class="listitem"><p><code class="varname">nodata_values</code> Un tableau de nombres en double précision indiquant la <code class="varname">nodata_value</code> pour chaque bande. Le nombre d'éléments de ce tableau est égal au nombre de bandes. Ces nombres définissent la valeur du pixel pour chaque bande qui doit être ignorée pour la plupart des opérations. Il s'agit d'informations similaires à celles fournies par <a class="xref" href="#RT_ST_BandNoDataValue" title="ST_BandNoDataValue">ST_BandNoDataValue</a>.</p></li><li class="listitem"><p><code class="varname">out_db</code> Un tableau d'indicateurs booléens indiquant si les données des bandes raster sont conservées en dehors de la base de données. Le nombre d'éléments de ce tableau est égal au nombre de bandes.</p></li><li class="listitem"><p><code class="varname">extent</code> Il s'agit de l'étendue de toutes les lignes de votre jeu de données raster. Si vous prévoyez de charger d'autres données qui modifieront l'étendue de l'ensemble, vous devrez exécuter la fonction <a class="xref" href="#RT_DropRasterConstraints" title="DropRasterConstraints">DropRasterConstraints</a> avant le chargement, puis réappliquer les contraintes avec <a class="xref" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a> après le chargement. </p></li><li class="listitem"><p><code class="varname">spatial_index</code> Un booléen qui est vrai si la colonne raster a un index spatial.</p></li></ul></div></section><section class="section" id="RT_Raster_Overviews"><div class="titlepage"><div><div><h3 class="title">10.2.2. Aperçu des données raster</h3></div></div></div><p><code class="varname">raster_overviews</code> catalogue des informations sur les colonnes des tables raster utilisées pour les aperçus et des informations supplémentaires à leur sujet qu'il est utile de connaître lors de l'utilisation des aperçus. Les tableaux de synthèse sont catalogués à la fois dans <code class="varname">raster_columns</code> et <code class="varname">raster_overviews</code> parce qu'il s'agit d'images raster à part entière, mais aussi parce qu'elles servent de caricature à plus faible résolution d'un tableau à plus haute résolution. Elles sont générées en même temps que la table raster principale lorsque vous utilisez le commutateur <code class="varname">-l</code> dans le chargement des données raster ou peuvent être générées manuellement en utilisant <a class="xref" href="#RT_AddOverviewConstraints" title="AddOverviewConstraints">AddOverviewConstraints</a>.</p><p>Les tableaux d'aperçus contiennent les mêmes contraintes que les autres tableaux raster, ainsi que des contraintes supplémentaires spécifiques aux aperçus.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les informations contenues dans <code class="varname">raster_overviews</code> ne font pas double emploi avec les informations contenues dans <code class="varname">raster_columns</code>. Si vous avez besoin des informations sur un tableau de synthèse présentes dans <code class="varname">raster_columns</code>, vous pouvez joindre les <code class="varname">raster_overviews</code> et <code class="varname">raster_columns</code> pour obtenir l'ensemble des informations dont vous avez besoin.</p></td></tr></table></div><p>Les deux principales raisons pour lesquelles les aperçus sont nécessaires sont les suivantes :</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Représentation à basse résolution des tables centrales, couramment utilisée pour l'agrandissement rapide des cartes.</p></li><li class="listitem"><p>Les calculs y sont généralement plus rapides que sur leurs homologues à plus haute résolution, car il y a moins d'enregistrements et chaque pixel couvre un plus grand territoire. Bien que les calculs ne soient pas aussi précis que les tableaux à haute résolution qu'ils supportent, ils peuvent être suffisants pour de nombreux calculs empiriques.</p></li></ol></div><p>Le catalogue <code class="varname">raster_overviews</code> contient les colonnes d'information suivantes.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">o_table_catalog</code> La base de données dans laquelle se trouve l'aperçu. Il s'agit toujours de la base de données actuelle.</p></li><li class="listitem"><p><code class="varname">o_table_schema</code> Schéma de la base de données auquel appartient l'aperçu de la table raster.</p></li><li class="listitem"><p><code class="varname">o_table_name</code> nom de la table d'aperçu du raster</p></li><li class="listitem"><p><code class="varname">o_raster_column</code> la colonne raster dans le tableau de synthèse.</p></li><li class="listitem"><p><code class="varname">r_table_catalog</code> La base de données dans laquelle se trouve la table raster pour laquelle cette vue d'ensemble est utilisée. Il s'agit toujours de la base de données actuelle.</p></li><li class="listitem"><p><code class="varname">r_table_schema</code> Schéma de la base de données auquel appartient la table raster à laquelle ce service de vue d'ensemble est associé.</p></li><li class="listitem"><p><code class="varname">r_table_name</code> table raster que cet aperçu dessert.</p></li><li class="listitem"><p><code class="varname">r_raster_column</code> la colonne raster que cette colonne d'aperçu dessert.</p></li><li class="listitem"><p><code class="varname">overview_factor</code> - il s'agit du niveau pyramidal de l'aperçu. Plus le nombre est élevé, plus la résolution du tableau est faible. raster2pgsql, s'il reçoit un dossier d'images, calculera la vue d'ensemble de chaque fichier image et le chargera séparément. Le niveau 1 est supposé être le fichier original. Au niveau 2, chaque tuile représente 4 de l'original. Par exemple, si vous avez un dossier de fichiers images de 5000x5000 pixels que vous avez choisi de diviser en 125x125, pour chaque fichier image votre table de base aura (5000*5000)/(125*125) enregistrements = 1600, votre table (l=2) <code class="varname">o_2</code> aura un plafond(1600/Power(2,2)) = 400 lignes, votre (l=3) <code class="varname">o_3</code> aura un plafond(1600/Power(2,3) ) = 200 lignes. Si vos pixels ne sont pas divisibles par la taille de vos tuiles, vous obtiendrez des bouts de tuiles (tuiles non complètement remplies). Notez que chaque tuile d'aperçu générée par raster2pgsql a le même nombre de pixels que son parent, mais a une résolution inférieure, chaque pixel représentant (Puissance(2,facteur_d'aperçu) pixels de l'original).</p></li></ul></div></section></section><section class="section" id="RT_Raster_Applications"><div class="titlepage"><div><div><h2 class="title" style="clear: both">10.3. Créer des applications personnalisées avec PostGIS Raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#RT_PHP_Output">10.3.1. Exemple de sortie PHP utilisant ST_AsPNG avec d'autres fonctions raster</a></span></li><li><span class="section"><a href="#RT_Net_Output_CS">10.3.2. Exemple ASP.NET C# Sortie utilisant ST_AsPNG en conjonction avec d'autres fonctions raster</a></span></li><li><span class="section"><a href="#RT_Java_Console_App">10.3.3. Application console Java qui produit une requête raster sous forme de fichier image</a></span></li><li><span class="section"><a href="#RT_PLPython">10.3.4. Utiliser PLPython pour extraire des images via SQL</a></span></li><li><span class="section"><a href="#RasterOutput_PSQL">10.3.5. Sortie de données raster avec PSQL</a></span></li></ul></div><p>Le fait que PostGIS raster vous fournisse des fonctions SQL pour rendre les rasters dans les formats d'image connus vous donne beaucoup d'options pour les rendre. Par exemple, vous pouvez utiliser OpenOffice / LibreOffice pour le rendu comme démontré dans <a class="link" href="http://www.postgresonline.com/journal/archives/244-Rendering-PostGIS-Raster-graphics-with-LibreOffice-Base-Reports.html" target="_top">Rendering PostGIS Raster graphics with LibreOffice Base Reports</a>. En outre, vous pouvez utiliser une grande variété de langages, comme le montre cette section.</p><section class="section" id="RT_PHP_Output"><div class="titlepage"><div><div><h3 class="title">10.3.1. Exemple de sortie PHP utilisant ST_AsPNG avec d'autres fonctions raster</h3></div></div></div><p>Dans cette section, nous allons montrer comment utiliser le driver PHP PostgreSQL et la famille de fonctions <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a> pour produire les bandes 1,2,3 d'un raster dans un flux de requête PHP qui peut ensuite être incorporé dans une balise html img src.</p><p>L'exemple de requête montre comment combiner tout un ensemble de fonctions raster pour récupérer toutes les tuiles qui intersectent une boîte de délimitation wgs 84 particulière, puis unit avec <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a> les tuiles intersectées en retournant toutes les bandes, transforme en projection spécifiée par l'utilisateur en utilisant <a class="xref" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a>, et sort les résultats au format png en utilisant <a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>.</p><p>Vous appellerez la commande ci-dessous en utilisant </p><pre class="programlisting">http://mywebserver/test_raster.php?srid=2249</pre><p> pour obtenir l'image raster en pieds de plan de l'État du Massachusetts.</p><pre class="programlisting">

&lt;?php
/** contents of test_raster.php **/
$conn_str ='dbname=mydb host=localhost port=5432 user=myuser password=mypwd';
$dbconn = pg_connect($conn_str);
header('Content-Type: image/png');
/**If a particular projection was requested use it otherwise use mass state plane meters **/
if (!empty( $_REQUEST['srid'] ) &amp;amp;&amp;amp; is_numeric( $_REQUEST['srid']) ){
                $input_srid = intval($_REQUEST['srid']);
}
else { $input_srid = 26986; }
/** The set bytea_output may be needed for PostgreSQL 9.0+, but not for 8.4 **/
$sql = "set bytea_output='escape';
SELECT ST_AsPNG(ST_Transform(
                        ST_AddBand(ST_Union(rast,1), ARRAY[ST_Union(rast,2),ST_Union(rast,3)])
                                ,$input_srid) ) As new_rast
 FROM aerials.boston
        WHERE
         ST_Intersects(rast, ST_Transform(ST_MakeEnvelope(-71.1217, 42.227, -71.1210, 42.218,4326),26986) )";
$result = pg_query($sql);
$row = pg_fetch_row($result);
pg_free_result($result);
if ($row === false) return;
echo pg_unescape_bytea($row[0]);
?&gt;
</pre></section><section class="section" id="RT_Net_Output_CS"><div class="titlepage"><div><div><h3 class="title">10.3.2. Exemple ASP.NET C# Sortie utilisant ST_AsPNG en conjonction avec d'autres fonctions raster</h3></div></div></div><p>Dans cette section, nous allons montrer comment utiliser le driver Npgsql PostgreSQL .NET et la famille de fonctions <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a> pour produire les bandes 1,2,3 d'un raster dans un flux de requête PHP qui peut ensuite être incorporé dans une balise html img src.</p><p>Pour cet exercice, vous aurez besoin du driver PostgreSQL npgsql .NET dont vous pouvez obtenir la dernière version sur <a class="link" href="http://npgsql.projects.postgresql.org/" target="_top">http://npgsql.projects.postgresql.org/</a>. Il vous suffit de télécharger la dernière version et de la placer dans votre dossier ASP.NET bin.</p><p>L'exemple de requête montre comment combiner tout un ensemble de fonctions raster pour récupérer toutes les tuiles qui intersectent une boîte de délimitation wgs 84 particulière, puis unit avec <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a> les tuiles intersectées en retournant toutes les bandes, transforme en projection spécifiée par l'utilisateur en utilisant <a class="xref" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a>, et sort les résultats au format png en utilisant <a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>.</p><p>Il s'agit du même exemple que <a class="xref" href="#RT_PHP_Output" title="10.3.1. Exemple de sortie PHP utilisant ST_AsPNG avec d'autres fonctions raster">Section 10.3.1, “Exemple de sortie PHP utilisant ST_AsPNG avec d'autres fonctions raster”</a> sauf qu'il est implémenté en C#.</p><p>Vous appellerez la commande ci-dessous en utilisant </p><pre class="programlisting">http://mywebserver/TestRaster.ashx?srid=2249</pre><p> pour obtenir l'image raster en pieds de plan de l'État du Massachusetts.</p><pre class="programlisting">
 -- web.config connection string section --
&lt;connectionStrings&gt;
    &lt;add name="DSN"
        connectionString="server=localhost;database=mydb;Port=5432;User Id=myuser;password=mypwd"/&gt;
&lt;/connectionStrings&gt;
</pre><pre class="programlisting">
// Code for TestRaster.ashx
&lt;%@ WebHandler Language="C#" Class="TestRaster" %&gt;
using System;
using System.Data;
using System.Web;
using Npgsql;

public class TestRaster : IHttpHandler
{
        public void ProcessRequest(HttpContext context)
        {

                context.Response.ContentType = "image/png";
                context.Response.BinaryWrite(GetResults(context));

        }

        public bool IsReusable {
                get { return false; }
        }

        public byte[] GetResults(HttpContext context)
        {
                byte[] result = null;
                NpgsqlCommand command;
                string sql = null;
                int input_srid = 26986;
        try {
                    using (NpgsqlConnection conn = new NpgsqlConnection(System.Configuration.ConfigurationManager.ConnectionStrings["DSN"].ConnectionString)) {
                            conn.Open();

                if (context.Request["srid"] != null)
                {
                    input_srid = Convert.ToInt32(context.Request["srid"]);
                }
                sql = @"SELECT ST_AsPNG(
                            ST_Transform(
                                        ST_AddBand(
                                ST_Union(rast,1), ARRAY[ST_Union(rast,2),ST_Union(rast,3)])
                                                    ,:input_srid) ) As new_rast
                        FROM aerials.boston
                                WHERE
                                    ST_Intersects(rast,
                                    ST_Transform(ST_MakeEnvelope(-71.1217, 42.227, -71.1210, 42.218,4326),26986) )";
                            command = new NpgsqlCommand(sql, conn);
                command.Parameters.Add(new NpgsqlParameter("input_srid", input_srid));


                            result = (byte[]) command.ExecuteScalar();
                conn.Close();
                        }

                }
        catch (Exception ex)
        {
            result = null;
            context.Response.Write(ex.Message.Trim());
        }
                return result;
        }
}
</pre></section><section class="section" id="RT_Java_Console_App"><div class="titlepage"><div><div><h3 class="title">10.3.3. Application console Java qui produit une requête raster sous forme de fichier image</h3></div></div></div><p>Il s'agit d'une simple application console Java qui prend une requête renvoyant une image et l'envoie dans le fichier spécifié.</p><p>Vous pouvez télécharger les derniers drivers JDBC de PostgreSQL à partir de <a class="link" href="http://jdbc.postgresql.org/download.html" target="_top">http://jdbc.postgresql.org/download.html</a> </p><p>Vous pouvez compiler le code suivant à l'aide d'une commande du type :</p><pre class="programlisting">set env CLASSPATH .:..\postgresql-9.0-801.jdbc4.jar
javac SaveQueryImage.java
jar cfm SaveQueryImage.jar Manifest.txt *.class</pre><p>Et l'appeler à partir de la ligne de commande avec quelque chose comme</p><pre class="programlisting">java -jar SaveQueryImage.jar "SELECT ST_AsPNG(ST_AsRaster(ST_Buffer(ST_Point(1,5),10, 'quad_segs=2'),150, 150, '8BUI',100));" "test.png" </pre><pre class="programlisting">-- Manifest.txt --
Class-Path: postgresql-9.0-801.jdbc4.jar
Main-Class: SaveQueryImage</pre><pre class="programlisting">// Code for SaveQueryImage.java
import java.sql.Connection;
import java.sql.SQLException;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.io.*;

public class SaveQueryImage {
  public static void main(String[] argv) {
      System.out.println("Checking if Driver is registered with DriverManager.");

      try {
        //java.sql.DriverManager.registerDriver (new org.postgresql.Driver());
        Class.forName("org.postgresql.Driver");
      }
      catch (ClassNotFoundException cnfe) {
        System.out.println("Couldn't find the driver!");
        cnfe.printStackTrace();
        System.exit(1);
      }

      Connection conn = null;

      try {
        conn = DriverManager.getConnection("jdbc:postgresql://localhost:5432/mydb","myuser", "mypwd");
        conn.setAutoCommit(false);

        PreparedStatement sGetImg = conn.prepareStatement(argv[0]);

        ResultSet rs = sGetImg.executeQuery();

                FileOutputStream fout;
                try
                {
                        rs.next();
                        /** Output to file name requested by user **/
                        fout = new FileOutputStream(new File(argv[1]) );
                        fout.write(rs.getBytes(1));
                        fout.close();
                }
                catch(Exception e)
                {
                        System.out.println("Can't create file");
                        e.printStackTrace();
                }

        rs.close();
                sGetImg.close();
        conn.close();
      }
      catch (SQLException se) {
        System.out.println("Couldn't connect: print out a stack trace and exit.");
        se.printStackTrace();
        System.exit(1);
      }
  }
}</pre></section><section class="section" id="RT_PLPython"><div class="titlepage"><div><div><h3 class="title">10.3.4. Utiliser PLPython pour extraire des images via SQL</h3></div></div></div><p>Il s'agit d'une fonction stockée en plpython qui crée un fichier dans le répertoire du serveur pour chaque enregistrement. Nécessite l'installation de plpython. Elle devrait fonctionner correctement avec plpythonu et plpython3u.</p><pre class="programlisting">CREATE OR REPLACE FUNCTION write_file (param_bytes bytea, param_filepath text)
RETURNS text
AS $$
f = open(param_filepath, 'wb+')
f.write(param_bytes)
return param_filepath
$$ LANGUAGE plpythonu;</pre><pre class="programlisting">--write out 5 images to the PostgreSQL server in varying sizes
-- note the postgresql daemon account needs to have write access to folder
-- this echos back the file names created;
 SELECT write_file(ST_AsPNG(
        ST_AsRaster(ST_Buffer(ST_Point(1,5),j*5, 'quad_segs=2'),150*j, 150*j, '8BUI',100)),
         'C:/temp/slices'|| j || '.png')
         FROM generate_series(1,5) As j;

     write_file
---------------------
 C:/temp/slices1.png
 C:/temp/slices2.png
 C:/temp/slices3.png
 C:/temp/slices4.png
 C:/temp/slices5.png
</pre></section><section class="section" id="RasterOutput_PSQL"><div class="titlepage"><div><div><h3 class="title">10.3.5. Sortie de données raster avec PSQL</h3></div></div></div><p>Malheureusement, PSQL n'a pas de fonctionnalité intégrée facile à utiliser pour produire des binaires. Il s'agit d'une astuce qui s'appuie sur le support des gros objets de PostgreSQL. Pour l'utiliser, lancez d'abord votre ligne de commande psql connectée à votre base de données. </p><p>Contrairement à l'approche python, cette approche crée le fichier sur votre ordinateur local.</p><pre class="screen">SELECT oid, lowrite(lo_open(oid, 131072), png) As num_bytes
 FROM
 ( VALUES (lo_create(0),
   ST_AsPNG( (SELECT rast FROM aerials.boston WHERE rid=1) )
  ) ) As v(oid,png);
-- you'll get an output something like --
   oid   | num_bytes
---------+-----------
 2630819 |     74860

-- next note the oid and do this replacing the c:/test.png to file path location
-- on your local computer
 \lo_export 2630819 'C:/temp/aerial_samp.png'

-- this deletes the file from large object storage on db
SELECT lo_unlink(2630819);
                        </pre></section></section></section><section class="chapter" id="RT_reference"><div class="titlepage"><div><div><h1 class="title">Chapter 11. Référence Raster</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#Raster_Types">11.1. Types de données pour la prise en charge raster</a></span></li><li><span class="section"><a href="#Raster_Management_Functions">11.2. Gestion raster</a></span></li><li><span class="section"><a href="#Raster_Constructors">11.3. Constructeurs de raster</a></span></li><li><span class="section"><a href="#Raster_Accessors">11.4. Fonctions d'accès aux rasters</a></span></li><li><span class="section"><a href="#RasterBand_Accessors">11.5. Fonctions d'accès aux bandes raster</a></span></li><li><span class="section"><a href="#Raster_Pixel_Accessors">11.6. Fonctions d'accès et de modifications des pixels raster</a></span></li><li><span class="section"><a href="#Raster_Editors">11.7. Éditeurs de raster</a></span></li><li><span class="section"><a href="#RasterBand_Editors">11.8. Éditeurs de bandes raster</a></span></li><li><span class="section"><a href="#RasterBand_Stats">11.9. Statistiques et analyses des bandes raster</a></span></li><li><span class="section"><a href="#Raster_Inputs">11.10. Import de raster</a></span></li><li><span class="section"><a href="#Raster_Outputs">11.11. Export de raster</a></span></li><li><span class="section"><a href="#Raster_Processing_MapAlgebra">11.12. Traitement des données raster : algèbre cartographique</a></span></li><li><span class="section"><a href="#Raster_Processing_MapAlgebra_Callbacks">11.13. Fonctions de rappel intégrées d'algèbre cartographique</a></span></li><li><span class="section"><a href="#Raster_Processing_DEM">11.14. Traitement des données raster : MNT (élévation)</a></span></li><li><span class="section"><a href="#Raster_Processing_Geometry">11.15. Traitement des données raster : raster vers géométrie</a></span></li><li><span class="section"><a href="#RT_Operators">11.16. Opérateurs raster</a></span></li><li><span class="section"><a href="#Raster_Relationships">11.17. Relations spatiales entre raster et entre bandes raster</a></span></li><li><span class="section"><a href="#Raster_Tips">11.18. Astuces raster</a></span></li></ul></div><p>Les fonctions mentionnées ci-dessous sont celles qu'un utilisateur typique de PostGIS Raster sera amené à utiliser et qui sont disponibles dans PostGIS Raster. D'autres fonctions sont également définies, requises en interne pour le support des objets rasters, mais ne sont pas destinées à être utilisées par le grand public.</p><p><code class="varname">raster</code> est un nouveau type PostGIS pour stocker et analyser les données raster. </p><p>Pour charger des rasters depuis des fichiers, voir <a class="xref" href="#RT_Loading_Rasters" title="10.1. Chargement et création de rasters">Section 10.1, “Chargement et création de rasters”</a></p><p>Pour les exemples dans cette section, nous utiliserons une table de rasters fictifs, créée via la requête suivante </p><pre class="programlisting">CREATE TABLE dummy_rast(rid integer, rast raster);
INSERT INTO dummy_rast(rid, rast)
VALUES (1,
('01' -- little endian (uint8 ndr)
||
'0000' -- version (uint16 0)
||
'0000' -- nBands (uint16 0)
||
'0000000000000040' -- scaleX (float64 2)
||
'0000000000000840' -- scaleY (float64 3)
||
'000000000000E03F' -- ipX (float64 0.5)
||
'000000000000E03F' -- ipY (float64 0.5)
||
'0000000000000000' -- skewX (float64 0)
||
'0000000000000000' -- skewY (float64 0)
||
'00000000' -- SRID (int32 0)
||
'0A00' -- width (uint16 10)
||
'1400' -- height (uint16 20)
)::raster
),
-- Raster: 5 x 5 pixels, 3 bands, PT_8BUI pixel type, NODATA = 0
(2,  ('01000003009A9999999999A93F9A9999999999A9BF000000E02B274A' ||
'41000000007719564100000000000000000000000000000000FFFFFFFF050005000400FDFEFDFEFEFDFEFEFDF9FAFEF' ||
'EFCF9FBFDFEFEFDFCFAFEFEFE04004E627AADD16076B4F9FE6370A9F5FE59637AB0E54F58617087040046566487A1506CA2E3FA5A6CAFFBFE4D566DA4CB3E454C5665')::raster);</pre><section class="section" id="Raster_Types"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.1. Types de données pour la prise en charge raster</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section liste les types de données PostgreSQL créés pour supporter les fonctionnalités raster.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#geomval">geomval</a></span><span class="refpurpose"> — Un type spatial comportant deux champs : geom (stockant un objet géométrique) et val (stockant la valeur du pixel en double précision depuis une bande du raster).</span></li><li><span class="refentrytitle"><a href="#addbandarg">addbandarg</a></span><span class="refpurpose"> — Un type composite utilisé comme entrée pour la fonction ST_AddBand pour définir les attributs et la valeur initiale d'une nouvelle bande.</span></li><li><span class="refentrytitle"><a href="#rastbandarg">rastbandarg</a></span><span class="refpurpose"> — Un type composite pour représenter à la fois un raster et un indice d'une bande de ce raster.</span></li><li><span class="refentrytitle"><a href="#raster">raster</a></span><span class="refpurpose"> — Type de données raster spatial.</span></li><li><span class="refentrytitle"><a href="#reclassarg">reclassarg</a></span><span class="refpurpose"> — Un type composite utilisé comme entrée pour la fonction ST_Reclass pour définir le comportement de la reclassification.</span></li><li><span class="refentrytitle"><a href="#summarystats">summarystats</a></span><span class="refpurpose"> — Un type composite retournée par les fonctions ST_SummaryStats et ST_SummaryStatsAgg.</span></li><li><span class="refentrytitle"><a href="#unionarg">unionarg</a></span><span class="refpurpose"> — Un type composite utilisé comme entrée de la fonction ST_Union pour définir les bandes à traiter et le comportement de l'opération d'union.</span></li></ul></div><div class="refentry" id="geomval"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>geomval — Un type spatial comportant deux champs : geom (stockant un objet géométrique) et val (stockant la valeur du pixel en double précision depuis une bande du raster).</p></div><div class="refsection" id="idm26847"><h2>Description</h2><p>geomval est un type composite, comprenant un objet géométrique dans le champ .geom et val, une valeur en double précision qui représente la valeur du pixel à un emplacement spécifique d'une bande raster. Ce type est utilisé par la fonction ST_DumpAsPolygon et la famille de fonctions d'intersection Raster, en tant que type de sortie pour éclater une bande raster en polygones.</p></div><div class="refsection" id="idm26850"><h2>Voir aussi</h2><p><a class="xref" href="#PostGIS_Geometry_DumpFunctions" title="13.6. Fonctions PostGIS de dump Geometry / Geography / Raster">Section 13.6, “Fonctions PostGIS de dump Geometry / Geography / Raster”</a> </p></div></div><div class="refentry" id="addbandarg"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>addbandarg — Un type composite utilisé comme entrée pour la fonction ST_AddBand pour définir les attributs et la valeur initiale d'une nouvelle bande.</p></div><div class="refsection" id="idm26858"><h2>Description</h2><p>Un type composite utilisé comme entrée pour la fonction ST_AddBand pour définir les attributs et la valeur initiale d'une nouvelle bande. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">index integer </code></span></dt><dd><p>Indice (basé sur 1) où insérer la nouvelle bande dans la liste des bandes du raster. Si NULL, la nouvelle bande sera ajoutée en dernière position. </p></dd><dt><span class="term"><code class="varname">pixeltype text </code></span></dt><dd><p>Type de pixel pour la nouvelle bande. Doit être un des types de pixels définis, tels que décrits dans <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>. </p></dd><dt><span class="term"><code class="varname">initialvalue double precision </code></span></dt><dd><p>Valeur initiale pour tous les pixels de la nouvelle bande. </p></dd><dt><span class="term"><code class="varname">nodataval double precision </code></span></dt><dd><p>Valeur NODATA pour la nouvelle bande. Si NULL, la nouvelle bande n'aura pas de valeur NODATA attribuée. </p></dd></dl></div><p>

                </p></div><div class="refsection" id="idm26883"><h2>Voir aussi</h2><p>
                    <a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>
                </p></div></div><div class="refentry" id="rastbandarg"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>rastbandarg — Un type composite pour représenter à la fois un raster et un indice d'une bande de ce raster.</p></div><div class="refsection" id="idm26891"><h2>Description</h2><p>Un type composite pour représenter à la fois un raster et un indice d'une bande de ce raster. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">rast raster </code></span></dt><dd><p>Le raster en question </p></dd><dt><span class="term"><code class="varname">nband integer </code></span></dt><dd><p>Indice (basé sur 1) de la bande du raster </p></dd></dl></div><p>

                </p></div><div class="refsection" id="idm26905"><h2>Voir aussi</h2><p>
                    <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>
                </p></div></div><div class="refentry" id="raster"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>raster — Type de données raster spatial.</p></div><div class="refsection" id="idm26913"><h2>Description</h2><p>raster est le type de données spatial pour représenter les données rasters, telles qu'importées depuis des fichiers JPEGs, TIFFs, PNGs, modèles d'élévation numérique. Chaque raster a une ou plusieurs bandes, chacune correspondant à un ensemble de valeurs de pixels. Les rasters peuvent être géo-référencés.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>PostGIS doit être compilé avec le support GDAL. Actuellement, les rasters peuvent être implicitement convertis en type geometry, mais la conversion retourne un <a class="xref" href="#RT_ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a> du raster. Ce transtypage implicite peut être supprimé dans le futur proche et ne devrait pas être utilisé.</p></td></tr></table></div></div><div class="refsection" id="idm26919"><h2>Transtypages</h2><p>Cette section liste les transtypages autorisés pour ce type de donnée, qu'ils soient automatiques ou bien explicites</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Transtypage vers</td><td style="border-bottom: 1px solid ; ">Comportement</td></tr><tr><td style="border-right: 1px solid ; ">geometry</td><td>automatique</td></tr></tbody></table></div></div><div class="refsection" id="idm26931"><h2>Voir aussi</h2><p><a class="xref" href="#RT_reference" title="Chapter 11. Référence Raster">Chapter 11, <em>Référence Raster</em></a></p></div></div><div class="refentry" id="reclassarg"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>reclassarg — Un type composite utilisé comme entrée pour la fonction ST_Reclass pour définir le comportement de la reclassification.</p></div><div class="refsection" id="idm26939"><h2>Description</h2><p>Un type composite utilisé comme entrée pour la fonction ST_Reclass pour définir le comportement de la reclassification.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">nband integer</code></span></dt><dd><p>L'indice de bande à reclassifier.</p></dd><dt><span class="term"><code class="varname">reclassexpr text</code></span></dt><dd><p>Expression des classes, sous forme de correspondance range:map_range séparés par des virgules pour définir les correspondances entre les anciennes valeurs de la bande et la nouvelle valeur. ( signifie plus grand que, ) signifie plus petit que, ] signifie inférieur ou égal, [ signifie supérieur ou égal</p><pre class="programlisting">
1. [a-b] = a &lt;= x &lt;= b

2. (a-b] = a &lt; x &lt;= b

3. [a-b) = a &lt;= x &lt; b

4. (a-b) = a &lt; x &lt; b
</pre><p>La notation ( est facultative : a-b est équivalent à (a-b)</p></dd><dt><span class="term"><code class="varname">pixeltype text</code></span></dt><dd><p>Un des types de pixels définis, tels que décrits dans <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a></p></dd><dt><span class="term"><code class="varname">nodataval double precision</code></span></dt><dd><p>Valeur à utiliser comme NODATA. Pour les formats d'images supportant la transparence, ces pixels seront transparents.</p></dd></dl></div></div><div class="refsection" id="idm26967"><h2>Exemple : Reclassifier la bande 2 en 8BUI avec 255 comme valeur NODATA</h2><pre class="programlisting">SELECT ROW(2, '0-100:1-10, 101-500:11-150,501 - 10000: 151-254', '8BUI', 255)::reclassarg;</pre></div><div class="refsection" id="idm26970"><h2>Exemple : Reclassifier la bande 1 en 1BB sans valeur NODATA</h2><pre class="programlisting">SELECT ROW(1, '0-100]:0, (100-255:1', '1BB', NULL)::reclassarg;</pre></div><div class="refsection" id="idm26973"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a></p></div></div><div class="refentry" id="summarystats"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>summarystats — Un type composite retournée par les fonctions ST_SummaryStats et ST_SummaryStatsAgg.</p></div><div class="refsection" id="idm26981"><h2>Description</h2><p>Un type composite retournée par les fonctions <a class="xref" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a> et <a class="xref" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a>. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">count integer </span></dt><dd><p>Nombre de pixels comptabilisés pour les résumés statistiques. </p></dd><dt><span class="term">sum double precision </span></dt><dd><p>Somme des valeurs de tous les pixels comptabilisés. </p></dd><dt><span class="term">mean double precision </span></dt><dd><p>Moyenne arithmétique des valeurs de tous les pixels comptabilisés. </p></dd><dt><span class="term">stddev double precision </span></dt><dd><p>Écart type des valeurs de tous les pixels comptabilisés. </p></dd><dt><span class="term">min double precision </span></dt><dd><p>Minimum des valeurs de tous les pixels comptabilisés. </p></dd><dt><span class="term">max double precision </span></dt><dd><p>Maximum des valeurs de tous les pixels comptabilisés. </p></dd></dl></div><p>

                </p></div><div class="refsection" id="idm27011"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a>, <a class="xref" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a> </p></div></div><div class="refentry" id="unionarg"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>unionarg — Un type composite utilisé comme entrée de la fonction ST_Union pour définir les bandes à traiter et le comportement de l'opération d'union.</p></div><div class="refsection" id="idm27020"><h2>Description</h2><p>Un type composite utilisé comme entrée de la fonction ST_Union pour définir les bandes à traiter et le comportement de l'opération d'union. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">nband integer </code></span></dt><dd><p>Indice (basé sur 1) indiquant la bande de chaque raster d'entrée à traiter. </p></dd><dt><span class="term"><code class="varname">uniontype text </code></span></dt><dd><p>Type de l'opération d'union. Doit être un des types définis, tels que décrits dans <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a>. </p></dd></dl></div><p>

                </p></div><div class="refsection" id="idm27035"><h2>Voir aussi</h2><p>
                    <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a>
                </p></div></div></section><section class="section" id="Raster_Management_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.2. Gestion raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_AddRasterConstraints">AddRasterConstraints</a></span><span class="refpurpose"> — Ajoute des contraintes raster à une table pour une colonne spécifique pour contraindre le système de référence spatial, l'échelle, la taille des blocs, l'alignement, le nombre de bandes, le type de pixels, la contrainte d'unicité spatiale. La table doit être chargée avec des données pour que les contraintes puissent être inférées. Retourne true si les contraintes ont été ajoutées, ou émet une notice sinon.</span></li><li><span class="refentrytitle"><a href="#RT_DropRasterConstraints">DropRasterConstraints</a></span><span class="refpurpose"> — Supprime des contraintes raster PostGIS raster sur une colonne raster d'une table. Utile pour recharger des données ou mettre à jour les données d'une colonne raster.</span></li><li><span class="refentrytitle"><a href="#RT_AddOverviewConstraints">AddOverviewConstraints</a></span><span class="refpurpose"> — Marque une colonne raster comme étant un aperçu d'une autre colonne.</span></li><li><span class="refentrytitle"><a href="#RT_DropOverviewConstraints">DropOverviewConstraints</a></span><span class="refpurpose"> — Supprime les contraintes d'aperçu de la colonne.</span></li><li><span class="refentrytitle"><a href="#RT_PostGIS_GDAL_Version">PostGIS_GDAL_Version</a></span><span class="refpurpose"> — Retourne la version de la bibliothèque GDAL utilisée par PostGIS.</span></li><li><span class="refentrytitle"><a href="#RT_PostGIS_Raster_Lib_Build_Date">PostGIS_Raster_Lib_Build_Date</a></span><span class="refpurpose"> — Retourne la date de compilation de la bibliothèque raster.</span></li><li><span class="refentrytitle"><a href="#RT_PostGIS_Raster_Lib_Version">PostGIS_Raster_Lib_Version</a></span><span class="refpurpose"> — Retourne la version complète de la bibliothèque raster et les informations sur la configuration de la compilation.</span></li><li><span class="refentrytitle"><a href="#RT_ST_GDALDrivers">ST_GDALDrivers</a></span><span class="refpurpose"> — Retourne la liste des formats raster supportés par PostGIS via GDAL. Seuls les formats avec can_write=True peuvent être utilisés par ST_AsGDALRaster</span></li><li><span class="refentrytitle"><a href="#RT_ST_Contour">ST_Contour</a></span><span class="refpurpose"> — Génère un ensemble de courbes de niveau vectorielles depuis la bande raster spécifiée, en utilisant l'algorithme de contour GDAL.</span></li><li><span class="refentrytitle"><a href="#RT_ST_InterpolateRaster">ST_InterpolateRaster</a></span><span class="refpurpose"> — Interpole une surface quadrillée à partir d'un ensemble de points 3-d, en utilisant les coordonnées X et Y des points sur la grille et la coordonnée Z des points pour l'élévation des points. </span></li><li><span class="refentrytitle"><a href="#RT_UpdateRasterSRID">UpdateRasterSRID</a></span><span class="refpurpose"> — Change le SRID de tous les rasters dans la table et colonne en paramètres. </span></li><li><span class="refentrytitle"><a href="#RT_CreateOverview">ST_CreateOverview</a></span><span class="refpurpose"> — Créé une version à plus faible résolution d'une colonne raster. </span></li></ul></div><div class="refentry" id="RT_AddRasterConstraints"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AddRasterConstraints — Ajoute des contraintes raster à une table pour une colonne spécifique pour contraindre le système de référence spatial, l'échelle, la taille des blocs, l'alignement, le nombre de bandes, le type de pixels, la contrainte d'unicité spatiale. La table doit être chargée avec des données pour que les contraintes puissent être inférées. Retourne true si les contraintes ont été ajoutées, ou émet une notice sinon.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">AddRasterConstraints</strong>(</code>name  <var class="pdparam">rasttable</var>, name  <var class="pdparam">rastcolumn</var>, boolean  <var class="pdparam">srid=true</var>, boolean  <var class="pdparam">scale_x=true</var>, boolean  <var class="pdparam">scale_y=true</var>, boolean  <var class="pdparam">blocksize_x=true</var>, boolean  <var class="pdparam">blocksize_y=true</var>, boolean  <var class="pdparam">same_alignment=true</var>, boolean  <var class="pdparam">regular_blocking=false</var>, boolean  <var class="pdparam">num_bands=true</var> , boolean  <var class="pdparam">pixel_types=true</var> , boolean  <var class="pdparam">nodata_values=true</var> , boolean  <var class="pdparam">out_db=true</var> , boolean  <var class="pdparam">extent=true</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">AddRasterConstraints</strong>(</code>name  <var class="pdparam">rasttable</var>, name  <var class="pdparam">rastcolumn</var>, text[]  <var class="pdparam">VARIADIC constraints</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">AddRasterConstraints</strong>(</code>name  <var class="pdparam">rastschema</var>, name  <var class="pdparam">rasttable</var>, name  <var class="pdparam">rastcolumn</var>, text[]  <var class="pdparam">VARIADIC constraints</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">AddRasterConstraints</strong>(</code>name  <var class="pdparam">rastschema</var>, name  <var class="pdparam">rasttable</var>, name  <var class="pdparam">rastcolumn</var>, boolean  <var class="pdparam">srid=true</var>, boolean  <var class="pdparam">scale_x=true</var>, boolean  <var class="pdparam">scale_y=true</var>, boolean  <var class="pdparam">blocksize_x=true</var>, boolean  <var class="pdparam">blocksize_y=true</var>, boolean  <var class="pdparam">same_alignment=true</var>, boolean  <var class="pdparam">regular_blocking=false</var>, boolean  <var class="pdparam">num_bands=true</var>, boolean  <var class="pdparam">pixel_types=true</var>, boolean  <var class="pdparam">nodata_values=true</var> , boolean  <var class="pdparam">out_db=true</var> , boolean  <var class="pdparam">extent=true</var> <code>)</code>;</p></div></div><div class="refsection" id="idm27167"><h2>Description</h2><p>Génère des contraintes pour une colonne raster, qui peuvent être utilisées pour afficher des informations depuis le catalogue raster <code class="varname">raster_columns</code>. <code class="varname">rastschema</code> est le nom du schéma de la table. <code class="varname">srid</code> doit être un entier défini dans la table SPATIAL_REF_SYS.</p><p>Le chargeur de rasters <code class="varname">raster2pgsql</code> utilise cette fonction pour enregistrer les tables raster</p><p>Noms de contraintes à passer en arguments : se référer à <a class="xref" href="#RT_Raster_Columns" title="10.2.1. Catalogue des colonnes raster">Section 10.2.1, “Catalogue des colonnes raster”</a> pour plus de détails.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">blocksize</code> défini la largeur en X et en Y</p></li><li class="listitem"><p><code class="varname">blocksize_x</code> défini la largeur (nombre de pixels) de chaque tuile raster</p></li><li class="listitem"><p><code class="varname">blocksize_y</code> défini la hauteur (nombre de pixels vers le bas) de chaque tuile raster</p></li><li class="listitem"><p><code class="varname">extent</code> calcule l'étendue de l'ensemble de la table et contraint tous les rasters à être inclus dans cette étendue</p></li><li class="listitem"><p><code class="varname">num_bands</code> nombre de bandes</p></li><li class="listitem"><p><code class="varname">pixel_types</code> tableau de types de pixels pour chaque bande - contraint chaque bande n au même type de pixels</p></li><li class="listitem"><p><code class="varname">regular_blocking</code> défini les contraintes d'unité spatiale (deux rasters ne peuvent pas être spatialement identiques) et de couverture de tuiles (raster est aligné sur une couverture)</p></li><li class="listitem"><p><code class="varname">same_alignment</code> garantie que toutes les tuiles ont le même alignement. Comparer n'importe quel couple de tuiles retournera true. Voir <a class="xref" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a> pour plus de détails.</p></li><li class="listitem"><p><code class="varname">srid</code> garantie que tous les rasters ont le même srid</p></li><li class="listitem"><p>Plus -- n'importe quelle contrainte listée parmi les arguments des fonctions décrites ci-dessus</p></li></ul></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction infère les contraintes depuis les données déjà présentes dans la table. Ainsi, vous devez d'abord créer la colonne raster et charger des données dedans avant de pouvoir utiliser cette fonction. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous avez besoin de charger plus de données dans la table après avoir défini les contraintes, vous pourrez avoir besoin d'exécuter la fonction DropRasterConstraints avant le chargement, en particulier si l'étendue des données est modifiée. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm27213"><h2>Exemples : Appliquer toutes les contraintes possibles à partir des données présentes</h2><pre class="programlisting">CREATE TABLE myrasters(rid SERIAL primary key, rast raster);
INSERT INTO myrasters(rast)
SELECT ST_AddBand(ST_MakeEmptyRaster(1000, 1000, 0.3, -0.3, 2, 2, 0, 0,4326), 1, '8BSI'::text, -129, NULL);

SELECT AddRasterConstraints('myrasters'::name, 'rast'::name);


-- verify if registered correctly in the raster_columns view --
SELECT srid, scale_x, scale_y, blocksize_x, blocksize_y, num_bands, pixel_types, nodata_values
    FROM raster_columns
    WHERE r_table_name = 'myrasters';

 srid | scale_x | scale_y | blocksize_x | blocksize_y | num_bands | pixel_types| nodata_values
------+---------+---------+-------------+-------------+-----------+-------------+---------------
 4326 |       2 |       2 |        1000 |        1000 |         1 | {8BSI}      | {0}
        </pre></div><div class="refsection" id="idm27216"><h2>Exemples : Appliquer une seule contrainte</h2><pre class="programlisting">CREATE TABLE public.myrasters2(rid SERIAL primary key, rast raster);
INSERT INTO myrasters2(rast)
SELECT ST_AddBand(ST_MakeEmptyRaster(1000, 1000, 0.3, -0.3, 2, 2, 0, 0,4326), 1, '8BSI'::text, -129, NULL);

SELECT AddRasterConstraints('public'::name, 'myrasters2'::name, 'rast'::name,'regular_blocking', 'blocksize');
-- get notice--
NOTICE:  Adding regular blocking constraint
NOTICE:  Adding blocksize-X constraint
NOTICE:  Adding blocksize-Y constraint</pre></div><div class="refsection" id="idm27219"><h2>Voir aussi</h2><p><a class="xref" href="#RT_Raster_Columns" title="10.2.1. Catalogue des colonnes raster">Section 10.2.1, “Catalogue des colonnes raster”</a>, <a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>, <a class="xref" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a>, <a class="xref" href="#RT_DropRasterConstraints" title="DropRasterConstraints">DropRasterConstraints</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="RT_DropRasterConstraints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>DropRasterConstraints — Supprime des contraintes raster PostGIS raster sur une colonne raster d'une table. Utile pour recharger des données ou mettre à jour les données d'une colonne raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">DropRasterConstraints</strong>(</code>name  <var class="pdparam">rasttable</var>, name  <var class="pdparam">rastcolumn</var>, boolean  <var class="pdparam">srid</var>, boolean  <var class="pdparam">scale_x</var>, boolean  <var class="pdparam">scale_y</var>, boolean  <var class="pdparam">blocksize_x</var>, boolean  <var class="pdparam">blocksize_y</var>, boolean  <var class="pdparam">same_alignment</var>, boolean  <var class="pdparam">regular_blocking</var>, boolean  <var class="pdparam">num_bands=true</var>, boolean  <var class="pdparam">pixel_types=true</var>, boolean  <var class="pdparam">nodata_values=true</var>, boolean  <var class="pdparam">out_db=true</var> , boolean  <var class="pdparam">extent=true</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">DropRasterConstraints</strong>(</code>name  <var class="pdparam">rastschema</var>, name  <var class="pdparam">rasttable</var>, name  <var class="pdparam">rastcolumn</var>, boolean  <var class="pdparam">srid=true</var>, boolean  <var class="pdparam">scale_x=true</var>, boolean  <var class="pdparam">scale_y=true</var>, boolean  <var class="pdparam">blocksize_x=true</var>, boolean  <var class="pdparam">blocksize_y=true</var>, boolean  <var class="pdparam">same_alignment=true</var>, boolean  <var class="pdparam">regular_blocking=false</var>, boolean  <var class="pdparam">num_bands=true</var>, boolean  <var class="pdparam">pixel_types=true</var>, boolean  <var class="pdparam">nodata_values=true</var>, boolean  <var class="pdparam">out_db=true</var> , boolean  <var class="pdparam">extent=true</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">DropRasterConstraints</strong>(</code>name  <var class="pdparam">rastschema</var>, name  <var class="pdparam">rasttable</var>, name  <var class="pdparam">rastcolumn</var>, text[]  <var class="pdparam">constraints</var><code>)</code>;</p></div></div><div class="refsection" id="idm27342"><h2>Description</h2><p>Supprime des contraintes raster PostGIS ajoutées via <a class="xref" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a> sur une colonne raster d'une table. Utile pour recharger des données ou mettre à jour les données d'une colonne raster. Vous n'avez pas besoin d'appeler cette fonction si vous voulez supprimer une table raster ou une colonne raster. </p><p>Pour supprimer une table raster, utilisez la requête classique </p><pre class="programlisting">DROP TABLE mytable</pre><p>Pour supprimer une colonne raster et garder le reste de la table intacte, utilisez la requête classique </p><pre class="programlisting">ALTER TABLE mytable DROP COLUMN rast</pre><p>La table disparaîtra du catalogue <code class="varname">raster_columns</code> si la colonne ou la table est supprimée. Si seulement les contraintes ont été supprimées, la colonne raster sera toujours listée dans le catalogue <code class="varname">raster_columns</code>, mais il n'y aura pas d'autre information que les noms de la colonne et de la table.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm27354"><h2>Exemples</h2><pre class="programlisting">SELECT DropRasterConstraints ('myrasters','rast');
----RESULT output ---
t

-- verify change in raster_columns --
SELECT srid, scale_x, scale_y, blocksize_x, blocksize_y, num_bands, pixel_types, nodata_values
    FROM raster_columns
    WHERE r_table_name = 'myrasters';

 srid | scale_x | scale_y | blocksize_x | blocksize_y | num_bands | pixel_types| nodata_values
------+---------+---------+-------------+-------------+-----------+-------------+---------------
    0 |         |         |             |             |           |             |
        </pre></div><div class="refsection" id="idm27357"><h2>Voir aussi</h2><p><a class="xref" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a></p></div></div><div class="refentry" id="RT_AddOverviewConstraints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AddOverviewConstraints — Marque une colonne raster comme étant un aperçu d'une autre colonne.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">AddOverviewConstraints</strong>(</code>name  <var class="pdparam">ovschema</var>, name  <var class="pdparam">ovtable</var>, name  <var class="pdparam">ovcolumn</var>, name  <var class="pdparam">refschema</var>, name  <var class="pdparam">reftable</var>, name  <var class="pdparam">refcolumn</var>, int  <var class="pdparam">ovfactor</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">AddOverviewConstraints</strong>(</code>name  <var class="pdparam">ovtable</var>, name  <var class="pdparam">ovcolumn</var>, name  <var class="pdparam">reftable</var>, name  <var class="pdparam">refcolumn</var>, int  <var class="pdparam">ovfactor</var><code>)</code>;</p></div></div><div class="refsection" id="idm27409"><h2>Description</h2><p>Ajoute des contraintes sur une colonne raster, qui peuvent être utilisées pour afficher des informations depuis le catalogue raster <code class="varname">raster_overviews</code>. </p><p>La paramètre <code class="varname">ovfactor</code> représente le facture de multiplication d'échelle pour la colonne d'aperçu : plus le facteur d'aperçu est élevé, plus résolution est basse. </p><p>Si les paramètres <code class="varname">ovschema</code> et <code class="varname">refschema</code> sont omis, la première table trouvée lors du scan de <code class="varname">search_path</code> sera utilisée. </p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm27420"><h2>Exemples</h2><pre class="programlisting">CREATE TABLE res1 AS SELECT
ST_AddBand(
  ST_MakeEmptyRaster(1000, 1000, 0, 0, 2),
  1, '8BSI'::text, -129, NULL
) r1;

CREATE TABLE res2 AS SELECT
ST_AddBand(
  ST_MakeEmptyRaster(500, 500, 0, 0, 4),
  1, '8BSI'::text, -129, NULL
) r2;

SELECT AddOverviewConstraints('res2', 'r2', 'res1', 'r1', 2);

-- verify if registered correctly in the raster_overviews view --
SELECT o_table_name ot, o_raster_column oc,
       r_table_name rt, r_raster_column rc,
       overview_factor f
FROM raster_overviews WHERE o_table_name = 'res2';
  ot  | oc |  rt  | rc | f
------+----+------+----+---
 res2 | r2 | res1 | r1 | 2
(1 row)
        </pre></div><div class="refsection" id="idm27423"><h2>Voir aussi</h2><p><a class="xref" href="#RT_Raster_Overviews" title="10.2.2. Aperçu des données raster">Section 10.2.2, “Aperçu des données raster”</a>, <a class="xref" href="#RT_DropOverviewConstraints" title="DropOverviewConstraints">DropOverviewConstraints</a>, <a class="xref" href="#RT_CreateOverview" title="ST_CreateOverview">ST_CreateOverview</a>, <a class="xref" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a> </p></div></div><div class="refentry" id="RT_DropOverviewConstraints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>DropOverviewConstraints — Supprime les contraintes d'aperçu de la colonne.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">DropOverviewConstraints</strong>(</code>name  <var class="pdparam">ovschema</var>, name  <var class="pdparam">ovtable</var>, name  <var class="pdparam">ovcolumn</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">DropOverviewConstraints</strong>(</code>name  <var class="pdparam">ovtable</var>, name  <var class="pdparam">ovcolumn</var><code>)</code>;</p></div></div><div class="refsection" id="idm27457"><h2>Description</h2><p>Supprime dans le catalogue raster <code class="varname">raster_overviews</code> les contraintes raster de la colonne indiquant que c'est un aperçu une autre colonne. </p><p>Si le paramètre <code class="varname">ovschema</code> est omis, la première table trouvée lors du scan de <code class="varname">search_path</code> sera utilisée. </p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm27465"><h2>Voir aussi</h2><p><a class="xref" href="#RT_Raster_Overviews" title="10.2.2. Aperçu des données raster">Section 10.2.2, “Aperçu des données raster”</a>, <a class="xref" href="#RT_AddOverviewConstraints" title="AddOverviewConstraints">AddOverviewConstraints</a>, <a class="xref" href="#RT_DropRasterConstraints" title="DropRasterConstraints">DropRasterConstraints</a> </p></div></div><div class="refentry" id="RT_PostGIS_GDAL_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_GDAL_Version — Retourne la version de la bibliothèque GDAL utilisée par PostGIS.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_GDAL_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm27481"><h2>Description</h2><p>Retourne la version de la bibliothèque GDAL utilisée par PostGIS. Vérifie également si GDAL peut accéder à ses fichiers de données et reportera une erreur si ce n'est pas le cas.</p></div><div class="refsection" id="idm27484"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_GDAL_Version();
       postgis_gdal_version
-----------------------------------
 GDAL 1.11dev, released 2013/04/13
                </pre></div><div class="refsection" id="idm27487"><h2>Voir aussi</h2><p>
                    <a class="xref" href="#postgis_gdal_datapath" title="postgis.gdal_datapath">postgis.gdal_datapath</a>
                </p></div></div><div class="refentry" id="RT_PostGIS_Raster_Lib_Build_Date"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Raster_Lib_Build_Date — Retourne la date de compilation de la bibliothèque raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Raster_Lib_Build_Date</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm27501"><h2>Description</h2><p>Retourne la date de compilation de la bibliothèque raster</p></div><div class="refsection" id="idm27504"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_Raster_Lib_Build_Date();
postgis_raster_lib_build_date
-----------------------------
2010-04-28 21:15:10
</pre></div><div class="refsection" id="idm27507"><h2>Voir aussi</h2><p> <a class="xref" href="#RT_PostGIS_Raster_Lib_Version" title="PostGIS_Raster_Lib_Version">PostGIS_Raster_Lib_Version</a></p></div></div><div class="refentry" id="RT_PostGIS_Raster_Lib_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Raster_Lib_Version — Retourne la version complète de la bibliothèque raster et les informations sur la configuration de la compilation.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Raster_Lib_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm27521"><h2>Description</h2><p>Retourne la version complète de la bibliothèque raster et les informations sur la configuration de la compilation.</p></div><div class="refsection" id="idm27524"><h2>Exemples</h2><pre class="programlisting">SELECT PostGIS_Raster_Lib_Version();
postgis_raster_lib_version
-----------------------------
 2.0.0
</pre></div><div class="refsection" id="idm27527"><h2>Voir aussi</h2><p> <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a></p></div></div><div class="refentry" id="RT_ST_GDALDrivers"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GDALDrivers — Retourne la liste des formats raster supportés par PostGIS via GDAL. Seuls les formats avec can_write=True peuvent être utilisés par ST_AsGDALRaster</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_GDALDrivers</strong>(</code>integer  <var class="pdparam">OUT idx</var>, text  <var class="pdparam">OUT short_name</var>, text  <var class="pdparam">OUT long_name</var>, text  <var class="pdparam">OUT can_read</var>, text  <var class="pdparam">OUT can_write</var>, text  <var class="pdparam">OUT create_options</var><code>)</code>;</p></div></div><div class="refsection" id="idm27558"><h2>Description</h2><p>Retourne la liste des formats raster supportés par GDAL, sous forme short_name, long_name et creator. Vous pouvez utiliser short_name comme paramètre <code class="varname">format</code> pour <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>. Les options peuvent varier selon les drivers compilés dans votre bibliothèque libgdal. <code class="varname">create_options</code> retourne un XML contenant un ensemble de CreationOptionList/Option avec comme attribut name et comme attributs optionnels <code class="varname">type</code> et <code class="varname">description</code>, ainsi qu'un ensemble de <code class="varname">VALUE</code> pour chaque option de création pour ce driver. </p><p class="changed">Changement : 2.5.0 - ajout des colonnes can_read et can_write.</p><p class="changed">Changement : 2.0.6, 2.1.3 - aucun driver n'est activé par défaut, sauf si la variable GUC ou d'environnement gdal_enabled_drivers est définie.</p><p class="availability">Disponibilité : 2.0.0 - nécessite GDAL &gt;= 1.6.0. </p></div><div class="refsection" id="idm27570"><h2>Exemples : Liste des drivers</h2><pre class="programlisting">SET postgis.gdal_enabled_drivers = 'ENABLE_ALL';
SELECT short_name, long_name, can_write
FROM st_gdaldrivers()
ORDER BY short_name;

   short_name    |                          long_name                          | can_write
-----------------+-------------------------------------------------------------+-----------
 AAIGrid         | Arc/Info ASCII Grid                                         | t
 ACE2            | ACE2                                                        | f
 ADRG            | ARC Digitized Raster Graphics                               | f
 AIG             | Arc/Info Binary Grid                                        | f
 AirSAR          | AirSAR Polarimetric Image                                   | f
 ARG             | Azavea Raster Grid format                                   | t
 BAG             | Bathymetry Attributed Grid                                  | f
 BIGGIF          | Graphics Interchange Format (.gif)                          | f
 BLX             | Magellan topo (.blx)                                        | t
 BMP             | MS Windows Device Independent Bitmap                        | f
 BSB             | Maptech BSB Nautical Charts                                 | f
 PAux            | PCI .aux Labelled                                           | f
 PCIDSK          | PCIDSK Database File                                        | f
 PCRaster        | PCRaster Raster File                                        | f
 PDF             | Geospatial PDF                                              | f
 PDS             | NASA Planetary Data System                                  | f
 PDS4            | NASA Planetary Data System 4                                | t
 PLMOSAIC        | Planet Labs Mosaics API                                     | f
 PLSCENES        | Planet Labs Scenes API                                      | f
 PNG             | Portable Network Graphics                                   | t
 PNM             | Portable Pixmap Format (netpbm)                             | f
 PRF             | Racurs PHOTOMOD PRF                                         | f
 R               | R Object Data Store                                         | t
 Rasterlite      | Rasterlite                                                  | t
 RDA             | DigitalGlobe Raster Data Access driver                      | f
 RIK             | Swedish Grid RIK (.rik)                                     | f
 RMF             | Raster Matrix Format                                        | f
 ROI_PAC         | ROI_PAC raster                                              | f
 RPFTOC          | Raster Product Format TOC format                            | f
 RRASTER         | R Raster                                                    | f
 RS2             | RadarSat 2 XML Product                                      | f
 RST             | Idrisi Raster A.1                                           | t
 SAFE            | Sentinel-1 SAR SAFE Product                                 | f
 SAGA            | SAGA GIS Binary Grid (.sdat, .sg-grd-z)                     | t
 SAR_CEOS        | CEOS SAR Image                                              | f
 SDTS            | SDTS Raster                                                 | f
 SENTINEL2       | Sentinel 2                                                  | f
 SGI             | SGI Image File Format 1.0                                   | f
 SNODAS          | Snow Data Assimilation System                               | f
 SRP             | Standard Raster Product (ASRP/USRP)                         | f
 SRTMHGT         | SRTMHGT File Format                                         | t
 Terragen        | Terragen heightfield                                        | f
 TIL             | EarthWatch .TIL                                             | f
 TSX             | TerraSAR-X Product                                          | f
 USGSDEM         | USGS Optional ASCII DEM (and CDED)                          | t
 VICAR           | MIPL VICAR file                                             | f
 VRT             | Virtual Raster                                              | t
 WCS             | OGC Web Coverage Service                                    | f
 WMS             | OGC Web Map Service                                         | t
 WMTS            | OGC Web Map Tile Service                                    | t
 XPM             | X11 PixMap Format                                           | t
 XYZ             | ASCII Gridded XYZ                                           | t
 ZMap            | ZMap Plus Grid                                              | t
</pre></div><div class="refsection" id="idm27573"><h2>Exemple : Liste des options pour chaque driver</h2><pre class="programlisting">-- Output the create options XML column of JPEG as a table  --
-- Note you can use these creator options in ST_AsGDALRaster options argument
SELECT (xpath('@name', g.opt))[1]::text As oname,
       (xpath('@type', g.opt))[1]::text As otype,
       (xpath('@description', g.opt))[1]::text As descrip
FROM (SELECT unnest(xpath('/CreationOptionList/Option', create_options::xml)) As opt
FROM  st_gdaldrivers()
WHERE short_name = 'JPEG') As g;

       oname        |  otype  |      descrip
--------------------+---------+-------------------------------------------------
 PROGRESSIVE        | boolean | whether to generate a progressive JPEG
 QUALITY            | int     | good=100, bad=0, default=75
 WORLDFILE          | boolean | whether to generate a worldfile
 INTERNAL_MASK      | boolean | whether to generate a validity mask
 COMMENT            | string  | Comment
 SOURCE_ICC_PROFILE | string  | ICC profile encoded in Base64
 EXIF_THUMBNAIL     | boolean | whether to generate an EXIF thumbnail(overview).
                                By default its max dimension will be 128
 THUMBNAIL_WIDTH    | int     | Forced thumbnail width
 THUMBNAIL_HEIGHT   | int     | Forced thumbnail height
(9 rows)
</pre><pre class="programlisting">

-- raw xml output for creator options for GeoTiff --
SELECT create_options
FROM st_gdaldrivers()
WHERE short_name = 'GTiff';

&lt;CreationOptionList&gt;
    &lt;Option name="COMPRESS" type="string-select"&gt;
        &lt;Value
&gt;NONE&lt;/Value&gt;
        &lt;Value
&gt;LZW&lt;/Value&gt;
        &lt;Value
&gt;PACKBITS&lt;/Value&gt;
        &lt;Value
&gt;JPEG&lt;/Value&gt;
        &lt;Value
&gt;CCITTRLE&lt;/Value&gt;
        &lt;Value
&gt;CCITTFAX3&lt;/Value&gt;
        &lt;Value
&gt;CCITTFAX4&lt;/Value&gt;
        &lt;Value
&gt;DEFLATE&lt;/Value&gt;
    &lt;/Option&gt;
    &lt;Option name="PREDICTOR" type="int" description="Predictor Type"/&gt;
    &lt;Option name="JPEG_QUALITY" type="int" description="JPEG quality 1-100" default="75"/&gt;
    &lt;Option name="ZLEVEL" type="int" description="DEFLATE compression level 1-9" default="6"/&gt;
    &lt;Option name="NBITS" type="int" description="BITS for sub-byte files (1-7), sub-uint16 (9-15), sub-uint32 (17-31)"/&gt;
    &lt;Option name="INTERLEAVE" type="string-select" default="PIXEL"&gt;
        &lt;Value
&gt;BAND&lt;/Value&gt;
        &lt;Value
&gt;PIXEL&lt;/Value&gt;
    &lt;/Option&gt;
    &lt;Option name="TILED" type="boolean" description="Switch to tiled format"/&gt;
    &lt;Option name="TFW" type="boolean" description="Write out world file"/&gt;
    &lt;Option name="RPB" type="boolean" description="Write out .RPB (RPC) file"/&gt;
    &lt;Option name="BLOCKXSIZE" type="int" description="Tile Width"/&gt;
    &lt;Option name="BLOCKYSIZE" type="int" description="Tile/Strip Height"/&gt;
    &lt;Option name="PHOTOMETRIC" type="string-select"&gt;
        &lt;Value
&gt;MINISBLACK&lt;/Value&gt;
        &lt;Value
&gt;MINISWHITE&lt;/Value&gt;
        &lt;Value
&gt;PALETTE&lt;/Value&gt;
        &lt;Value
&gt;RGB&lt;/Value&gt;
        &lt;Value
&gt;CMYK&lt;/Value&gt;
        &lt;Value
&gt;YCBCR&lt;/Value&gt;
        &lt;Value
&gt;CIELAB&lt;/Value&gt;
        &lt;Value
&gt;ICCLAB&lt;/Value&gt;
        &lt;Value
&gt;ITULAB&lt;/Value&gt;
    &lt;/Option&gt;
    &lt;Option name="SPARSE_OK" type="boolean" description="Can newly created files have missing blocks?" default="FALSE"/&gt;
    &lt;Option name="ALPHA" type="boolean" description="Mark first extrasample as being alpha"/&gt;
    &lt;Option name="PROFILE" type="string-select" default="GDALGeoTIFF"&gt;
        &lt;Value
&gt;GDALGeoTIFF&lt;/Value&gt;
        &lt;Value
&gt;GeoTIFF&lt;/Value&gt;
        &lt;Value
&gt;BASELINE&lt;/Value&gt;
    &lt;/Option&gt;
    &lt;Option name="PIXELTYPE" type="string-select"&gt;
        &lt;Value
&gt;DEFAULT&lt;/Value&gt;
        &lt;Value
&gt;SIGNEDBYTE&lt;/Value&gt;
    &lt;/Option&gt;
    &lt;Option name="BIGTIFF" type="string-select" description="Force creation of BigTIFF file"&gt;
        &lt;Value
&gt;YES&lt;/Value&gt;
        &lt;Value
&gt;NO&lt;/Value&gt;
        &lt;Value
&gt;IF_NEEDED&lt;/Value&gt;
        &lt;Value
&gt;IF_SAFER&lt;/Value&gt;
    &lt;/Option&gt;
    &lt;Option name="ENDIANNESS" type="string-select" default="NATIVE" description="Force endianness of created file. For DEBUG purpose mostly"&gt;
        &lt;Value
&gt;NATIVE&lt;/Value&gt;
        &lt;Value
&gt;INVERTED&lt;/Value&gt;
        &lt;Value
&gt;LITTLE&lt;/Value&gt;
        &lt;Value
&gt;BIG&lt;/Value&gt;
    &lt;/Option&gt;
    &lt;Option name="COPY_SRC_OVERVIEWS" type="boolean" default="NO" description="Force copy of overviews of source dataset (CreateCopy())"/&gt;
&lt;/CreationOptionList&gt;

-- Output the create options XML column for GTiff as a table  --
SELECT (xpath('@name', g.opt))[1]::text As oname,
       (xpath('@type', g.opt))[1]::text As otype,
       (xpath('@description', g.opt))[1]::text As descrip,
       array_to_string(xpath('Value/text()', g.opt),', ') As vals
FROM (SELECT unnest(xpath('/CreationOptionList/Option', create_options::xml)) As opt
FROM  st_gdaldrivers()
WHERE short_name = 'GTiff') As g;

       oname        |     otype     |                               descrip                                |                                   vals
--------------------+---------------+----------------------------------------------------------------------+---------------------------------------------------------------------------
 COMPRESS           | string-select |                                                                      | NONE, LZW, PACKBITS, JPEG, CCITTRLE, CCITTFAX3, CCITTFAX4, DEFLATE
 PREDICTOR          | int           | Predictor Type                                                       |
 JPEG_QUALITY       | int           | JPEG quality 1-100                                                   |
 ZLEVEL             | int           | DEFLATE compression level 1-9                                        |
 NBITS              | int           | BITS for sub-byte files (1-7), sub-uint16 (9-15), sub-uint32 (17-31) |
 INTERLEAVE         | string-select |                                                                      | BAND, PIXEL
 TILED              | boolean       | Switch to tiled format                                               |
 TFW                | boolean       | Write out world file                                                 |
 RPB                | boolean       | Write out .RPB (RPC) file                                            |
 BLOCKXSIZE         | int           | Tile Width                                                           |
 BLOCKYSIZE         | int           | Tile/Strip Height                                                    |
 PHOTOMETRIC        | string-select |                                                                      | MINISBLACK, MINISWHITE, PALETTE, RGB, CMYK, YCBCR, CIELAB, ICCLAB, ITULAB
 SPARSE_OK          | boolean       | Can newly created files have missing blocks?                         |
 ALPHA              | boolean       | Mark first extrasample as being alpha                                |
 PROFILE            | string-select |                                                                      | GDALGeoTIFF, GeoTIFF, BASELINE
 PIXELTYPE          | string-select |                                                                      | DEFAULT, SIGNEDBYTE
 BIGTIFF            | string-select | Force creation of BigTIFF file                                       | YES, NO, IF_NEEDED, IF_SAFER
 ENDIANNESS         | string-select | Force endianness of created file. For DEBUG purpose mostly           | NATIVE, INVERTED, LITTLE, BIG
 COPY_SRC_OVERVIEWS | boolean       | Force copy of overviews of source dataset (CreateCopy())             |
(19 rows)

</pre></div><div class="refsection" id="idm27577"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a>, <a class="xref" href="#postgis_gdal_enabled_drivers" title="postgis.gdal_enabled_drivers">postgis.gdal_enabled_drivers</a> </p></div></div><div class="refentry" id="RT_ST_Contour"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Contour — Génère un ensemble de courbes de niveau vectorielles depuis la bande raster spécifiée, en utilisant <a class="link" href="https://gdal.org/api/gdal_alg.html?highlight=contour#_CPPv421GDALContourGenerateEx15GDALRasterBandHPv12CSLConstList16GDALProgressFuncPv" target="_top">l'algorithme de contour GDAL</a>.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_Contour</strong>(</code>raster <var class="pdparam">rast</var>, integer <var class="pdparam">bandnumber=1</var>, double precision <var class="pdparam">level_interval=100.0</var>, double precision <var class="pdparam">level_base=0.0</var>, double precision[] <var class="pdparam">fixed_levels=ARRAY[]</var>, boolean <var class="pdparam">polygonize=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm27611"><h2>Description</h2><p>Génère un ensemble de courbes de niveau vectorielles depuis la bande raster spécifiée, en utilisant <a class="link" href="https://gdal.org/api/gdal_alg.html?highlight=contour#_CPPv421GDALContourGenerateEx15GDALRasterBandHPv12CSLConstList16GDALProgressFuncPv" target="_top">l'algorithme de contour GDAL</a>.</p><p>Si le paramètre <code class="varname">fixed_levels</code> est un tableau non vide, les paramètres <code class="varname">level_interval</code> et <code class="varname">level_base</code> sont ignorés. </p><p>Les paramètres d'entrée sont : </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">rast</code></span></dt><dd><p>Le raster pour générer le contour de</p></dd><dt><span class="term"><code class="varname">bandnumber</code></span></dt><dd><p>La bande pour générer le contour de</p></dd><dt><span class="term"><code class="varname">level_interval</code></span></dt><dd><p>Intervalle d'élévation entre les courbes de niveau générées</p></dd><dt><span class="term"><code class="varname">level_base</code></span></dt><dd><p>La "base" par rapport à laquelle les intervalles de contour sont appliqués ; elle est normalement égale à zéro, mais peut être différente. Pour générer des courbes de niveau de 10 m à 5, 15, 25, ... le LEVEL_BASE serait de 5.</p></dd><dt><span class="term"><code class="varname">fixed_levels</code></span></dt><dd><p>Intervalle d'élévation entre les courbes de niveau générées</p></dd><dt><span class="term"><code class="varname">polygonize</code></span></dt><dd><p>Si <code class="literal">true</code>, des polygones de contour seront créés, plutôt que des lignes de polygone.</p></dd></dl></div><p>La valeur de retour est un ensemble de résultats avec les attributs suivants : </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">geom</code></span></dt><dd><p>La géométrie de la ligne de contour.</p></dd><dt><span class="term"><code class="varname">id</code></span></dt><dd><p>Un identifiant unique de la ligne de contour, déterminée par GDAL.</p></dd><dt><span class="term"><code class="varname">value</code></span></dt><dd><p>La valeur raster représentée par la ligne. Pour un modèle numérique de terrain, la valeur correspond à l'élévation du contour.</p></dd></dl></div><p class="availability">Disponibilité : 3.2.0</p></div><div class="refsection" id="idm27670"><h2>Exemple</h2><pre class="programlisting">WITH c AS (
SELECT (ST_Contour(rast, 1, fixed_levels =&gt; ARRAY[100.0, 200.0, 300.0])).*
FROM dem_grid WHERE rid = 1
)
SELECT st_astext(geom), id, value
FROM c;</pre></div><div class="refsection" id="idm27673"><h2>Voir aussi</h2><p>
        <a class="xref" href="#RT_ST_InterpolateRaster" title="ST_InterpolateRaster">ST_InterpolateRaster</a>
        </p></div></div><div class="refentry" id="RT_ST_InterpolateRaster"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_InterpolateRaster — Interpole une surface quadrillée à partir d'un ensemble de points 3-d, en utilisant les coordonnées X et Y des points sur la grille et la coordonnée Z des points pour l'élévation des points. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_InterpolateRaster</strong>(</code>geometry <var class="pdparam">input_points</var>, text <var class="pdparam">algorithm_options</var>, raster <var class="pdparam">template</var>, integer <var class="pdparam">template_band_num=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm27698"><h2>Description</h2><p>Interpole une surface quadrillée à partir d'un ensemble de points 3-d, en utilisant les coordonnées X et Y des points sur la grille et la coordonnée Z des points pour l'élévation des points. 5 algorithmes d'interpolations sont disponibles : inverse de la distance, inverse de la distance avec plus proche voisin, moyenne mobile, plus proche voisin, et interpolation linéaire. Voir <a class="link" href="https://gdal.org/programs/gdal_grid.html#interpolation-algorithms" target="_top">gdal_grid documentation</a> pour plus de détails sur ces algorithmes et leurs paramètres. Pour plus d'informations sur le calcul des interpolations, voir le <a class="link" href="https://gdal.org/tutorials/gdal_grid_tut.html" target="_top">tutorial GDAL grid</a>. </p><p>Les paramètres d'entrée sont : </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">input_points</code></span></dt><dd><p>Les points pour effectuer l'interpolation. Toute géometrie avec une dimension Z est acceptée ; tous les points de la géométrie seront utilisés.</p></dd><dt><span class="term"><code class="varname">algorithm_options</code></span></dt><dd><p>Une chaîne définissant l'algorithme et ses options, au format utilisable par <a class="link" href="https://gdal.org/programs/gdal_grid.html#interpolation-algorithms" target="_top">gdal_grid</a>. Par exemple, pour une interpolation en inverse de la distance avec un lissage de 2, la valeur sera "invdist:smoothing=2.0" </p></dd><dt><span class="term"><code class="varname">template</code></span></dt><dd><p>Un gabarit raster pour la création du raster de sortie. Les largeur, hauteur, taille des pixels, étendue spatiale et type des pixels seront définis à partir de ce gabarit. </p></dd><dt><span class="term"><code class="varname">template_band_num</code></span></dt><dd><p>Indice de la bande raster du gabarit raster à utiliser ; par défaut, la première bande sera utilisée. </p></dd></dl></div><p class="availability">Disponibilité : 3.2.0</p></div><div class="refsection" id="idm27727"><h2>Exemple</h2><pre class="programlisting">SELECT ST_InterpolateRaster(
    'MULTIPOINT(10.5 9.5 1000, 11.5 8.5 1000, 10.5 8.5 500, 11.5 9.5 500)'::geometry,
    'invdist:smoothing:2.0',
    ST_AddBand(ST_MakeEmptyRaster(200, 400, 10, 10, 0.01, -0.005, 0, 0), '16BSI')
)</pre></div><div class="refsection" id="idm27730"><h2>Voir aussi</h2><p>
            <a class="xref" href="#RT_ST_Contour" title="ST_Contour">ST_Contour</a>
            </p></div></div><div class="refentry" id="RT_UpdateRasterSRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>UpdateRasterSRID — Change le SRID de tous les rasters dans la table et colonne en paramètres. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">UpdateRasterSRID</strong>(</code>name  <var class="pdparam">schema_name</var>, name  <var class="pdparam">table_name</var>, name  <var class="pdparam">column_name</var>, integer  <var class="pdparam">new_srid</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">UpdateRasterSRID</strong>(</code>name  <var class="pdparam">table_name</var>, name  <var class="pdparam">column_name</var>, integer  <var class="pdparam">new_srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm27767"><h2>Description</h2><p>Change le SRID de tous les rasters dans la table et colonne en paramètres. Cette fonction supprimera toutes les contraintes nécessaires (étendue, alignement et SRID) avant de changer le SRID de la colonne raster. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les données (les valeurs des pixels) des rasters ne sont pas changées par cette fonction. Seules les métadonnées du rasters sont modifiées. </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm27773"><h2>Voir aussi</h2><p>
          <a class="xref" href="#UpdateGeometrySRID" title="UpdateGeometrySRID">UpdateGeometrySRID</a>
        </p></div></div><div class="refentry" id="RT_CreateOverview"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CreateOverview — Créé une version à plus faible résolution d'une colonne raster. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">regclass <strong class="fsfunc">ST_CreateOverview</strong>(</code>regclass  <var class="pdparam">tab</var>, name  <var class="pdparam">col</var>, int  <var class="pdparam">factor</var>, text  <var class="pdparam">algo='NearestNeighbor'</var><code>)</code>;</p></div></div><div class="refsection" id="idm27798"><h2>Description</h2><p>Créé une table d'aperçu avec les tuiles rééchantillonnées depuis la table source. Les tuiles de sortie auront la même taille que les tuiles d'entrées et couvriront la même étendue, mais avec une résolution plus faible (la taille d'un pixel sera 1/<code class="varname">factor</code> dans les deux directions). </p><p>La table d'aperçu sera disponible dans le catalogue <code class="varname">raster_overviews</code> avec les contraintes rasters ajoutées. </p><p>Les algorithmes disponibles sont : 'NearestNeighbor' (plus proche voisin), 'Bilinear' (Bilinéaire), 'Cubic' (Cubique), 'CubicSpline' (Cubique Spline) et 'Lanczos'. Voir <a class="link" href="http://www.gdal.org/gdalwarp.html" target="_top">GDAL Warp resampling methods</a> pour plus de détails.</p><p class="availability">Disponibilité : 2.2.0</p></div><div class="refsection" id="idm27807"><h2>Exemple</h2><p>Sortie de meilleure qualité en général, mais plus lent à générer</p><pre class="programlisting">SELECT ST_CreateOverview('mydata.mytable'::regclass, 'rast', 2, 'Lanczos');</pre><p>Sortie plus rapide, via la méthode de plus proche voisin</p><pre class="programlisting">SELECT ST_CreateOverview('mydata.mytable'::regclass, 'rast', 2);</pre></div><div class="refsection" id="idm27813"><h2>Voir aussi</h2><p><a class="xref" href="#RT_Retile" title="ST_Retile">ST_Retile</a>, <a class="xref" href="#RT_AddOverviewConstraints" title="AddOverviewConstraints">AddOverviewConstraints</a>, <a class="xref" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a>, <a class="xref" href="#RT_Raster_Overviews" title="10.2.2. Aperçu des données raster">Section 10.2.2, “Aperçu des données raster”</a> </p></div></div></section><section class="section" id="Raster_Constructors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.3. Constructeurs de raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_AddBand">ST_AddBand</a></span><span class="refpurpose"> — Retourne un raster avec la/les nouvelle(s) bande(s) ajouté(s) à un index donné, de type et valeur initiale donnés. Si aucun index n'est spécifié, la bande est ajoutée à la fin. </span></li><li><span class="refentrytitle"><a href="#RT_ST_AsRaster">ST_AsRaster</a></span><span class="refpurpose"> — Convertit une géométrie PostGIS en un raster PostGIS.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Band">ST_Band</a></span><span class="refpurpose"> — Retourne une ou plusieurs bandes d'un raster existant en tant que nouveau raster. Utile pour construire de nouveaux rasters à partir de rasters existants.</span></li><li><span class="refentrytitle"><a href="#RT_ST_MakeEmptyCoverage">ST_MakeEmptyCoverage</a></span><span class="refpurpose"> — Couvre une zone géo-référencée avec une grille raster de tuiles vides.</span></li><li><span class="refentrytitle"><a href="#RT_ST_MakeEmptyRaster">ST_MakeEmptyRaster</a></span><span class="refpurpose"> — Retourne un raster vide (sans aucune bande) de dimension donnée (width &amp; height), de coin supérieur gauche à X et Y, de paramètres de taille de pixel données (scalex, scaley, skewx &amp; skewy) et de système de référence spatial (srid) donné. Si un raster est spécifié, retourne un nouveau raster de même taille, alignement et SRID. Si srid n'est pas spécifié, le système de référence spatial est défini à inconnu (0).</span></li><li><span class="refentrytitle"><a href="#RT_ST_Tile">ST_Tile</a></span><span class="refpurpose"> — Retourne un ensemble de rasters issus de la division d'un raster d'entrée selon les dimensions spécifiées pour les rasters de sortie.</span></li><li><span class="refentrytitle"><a href="#RT_Retile">ST_Retile</a></span><span class="refpurpose"> — Retourne un ensemble de tuiles configurées à partir d'une couverture raster composée de tuiles arbitraires. </span></li><li><span class="refentrytitle"><a href="#RT_ST_FromGDALRaster">ST_FromGDALRaster</a></span><span class="refpurpose"> — Retourne un raster depuis un fichier raster supporté par GDAL.</span></li></ul></div><div class="refentry" id="RT_ST_AddBand"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AddBand — Retourne un raster avec la/les nouvelle(s) bande(s) ajouté(s) à un index donné, de type et valeur initiale donnés. Si aucun index n'est spécifié, la bande est ajoutée à la fin. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">(1) raster <strong class="fsfunc">ST_AddBand</strong>(</code>raster  <var class="pdparam">rast</var>, addbandarg[]  <var class="pdparam">addbandargset</var><code>)</code>;</p><p><code class="funcdef">(2) raster <strong class="fsfunc">ST_AddBand</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">index</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">initialvalue=0</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">(3) raster <strong class="fsfunc">ST_AddBand</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">initialvalue=0</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">(4) raster <strong class="fsfunc">ST_AddBand</strong>(</code>raster  <var class="pdparam">torast</var>, raster  <var class="pdparam">fromrast</var>, integer  <var class="pdparam">fromband=1</var>, integer  <var class="pdparam">torastindex=at_end</var><code>)</code>;</p><p><code class="funcdef">(5) raster <strong class="fsfunc">ST_AddBand</strong>(</code>raster  <var class="pdparam">torast</var>, raster[]  <var class="pdparam">fromrasts</var>, integer  <var class="pdparam">fromband=1</var>, integer  <var class="pdparam">torastindex=at_end</var><code>)</code>;</p><p><code class="funcdef">(6) raster <strong class="fsfunc">ST_AddBand</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">index</var>, text  <var class="pdparam">outdbfile</var>, integer[]  <var class="pdparam">outdbindex</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">(7) raster <strong class="fsfunc">ST_AddBand</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">outdbfile</var>, integer[]  <var class="pdparam">outdbindex</var>, integer  <var class="pdparam">index=at_end</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm27936"><h2>Description</h2><p>Renvoie un raster avec une nouvelle bande ajoutée à la position donnée (index), du type donné, de la valeur initiale donnée et de la valeur de nodata donnée. Si aucun index n'est spécifié, la bande est ajoutée à la fin. Si aucun <code class="varname">fromband</code> n'est spécifié, la bande 1 est supposée. Le type de pixel est une représentation sous forme de chaîne de l'un des types de pixels spécifiés dans <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>. Si un index existant est spécifié, toutes les bandes suivantes &gt;= cet index sont incrémentées de 1. Si une valeur initiale supérieure à la valeur maximale du type de pixel est spécifiée, la valeur initiale est fixée à la valeur la plus élevée autorisée par le type de pixel. </p><p>Pour la variante acceptant un tableau de <a class="xref" href="#addbandarg" title="addbandarg">addbandarg</a> en paramètre (Variante 1), un index spécifique au paramètre addbandarg est relative au raster au moment où la bande décrite par ce paramètre addbandarg est ajoutée au raster. Voir l'exemple Multiples nouvelles bandes ci-dessous. </p><p>Pour la variante acceptant un tableau de rasters (Variante 5), si <code class="varname">torast</code> est NULL, alors la bande <code class="varname">fromband</code> de chaque raster est accumulée dans le nouveau raster. </p><p>Pour les variantes acceptant un paramètre <code class="varname">outdbfile</code> (Variantes 6 et 7), la valeur doit correspondre au chemin complet vers le fichier raster. Ce fichier doit être accessible par le processus du serveur postgres. </p><p class="enhanced">Amélioration : 2.1.0 ajout du paramètre addbandarg.</p><p class="enhanced">Amélioration : 2.1.0 introduction du support des bandes out-db.</p></div><div class="refsection" id="idm27950"><h2>Exemples : Nouvelle bande</h2><pre class="programlisting">-- Add another band of type 8 bit unsigned integer with pixels initialized to 200
UPDATE dummy_rast
    SET rast = ST_AddBand(rast,'8BUI'::text,200)
WHERE rid = 1;
                </pre><pre class="programlisting">-- Create an empty raster 100x100 units, with upper left  right at 0, add 2 bands (band 1 is 0/1 boolean bit switch, band2 allows values 0-15)
-- uses addbandargs
INSERT INTO dummy_rast(rid,rast)
    VALUES(10, ST_AddBand(ST_MakeEmptyRaster(100, 100, 0, 0, 1, -1, 0, 0, 0),
    ARRAY[
        ROW(1, '1BB'::text, 0, NULL),
        ROW(2, '4BUI'::text, 0, NULL)
            ]::addbandarg[]
     )
    );

-- output meta data of raster bands to verify all is right --
SELECT  (bmd).*
FROM (SELECT ST_BandMetaData(rast,generate_series(1,2)) As bmd
    FROM dummy_rast WHERE rid = 10) AS foo;
 --result --
 pixeltype | nodatavalue | isoutdb | path
-----------+----------------+-------------+---------+------
 1BB       |             | f       |
 4BUI      |             | f       |


-- output meta data of raster -
SELECT  (rmd).width, (rmd).height, (rmd).numbands
FROM (SELECT ST_MetaData(rast) As rmd
    FROM dummy_rast WHERE rid = 10) AS foo;
-- result --
 upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands
------------+------------+-------+--------+------------+------------+-------+-------+------+----------
          0 |          0 |   100 |    100 |      1 |     -1 |     0 |     0 |   0 |        2
                </pre></div><div class="refsection" id="idm27954"><h2>Exemples : Multiples nouvelles bandes</h2><pre class="programlisting">SELECT
    *
FROM ST_BandMetadata(
    ST_AddBand(
        ST_MakeEmptyRaster(10, 10, 0, 0, 1, -1, 0, 0, 0),
        ARRAY[
            ROW(NULL, '8BUI', 255, 0),
            ROW(NULL, '16BUI', 1, 2),
            ROW(2, '32BUI', 100, 12),
            ROW(2, '32BF', 3.14, -1)
        ]::addbandarg[]
    ),
    ARRAY[]::integer[]
);

 bandnum | pixeltype | nodatavalue | isoutdb | path
---------+-----------+-------------+---------+------
       1 | 8BUI      |           0 | f       |
       2 | 32BF      |          -1 | f       |
       3 | 32BUI     |          12 | f       |
       4 | 16BUI     |           2 | f       |
                </pre><pre class="programlisting">-- Aggregate the 1st band of a table of like rasters into a single raster
-- with as many bands as there are test_types and as many rows (new rasters) as there are mice
-- NOTE: The ORDER BY test_type is only supported in PostgreSQL 9.0+
-- for 8.4 and below it usually works to order your data in a subselect (but not guaranteed)
-- The resulting raster will have a band for each test_type alphabetical by test_type
-- For mouse lovers: No mice were harmed in this exercise
SELECT
    mouse,
    ST_AddBand(NULL, array_agg(rast ORDER BY test_type), 1) As rast
FROM mice_studies
GROUP BY mouse;
                </pre></div><div class="refsection" id="idm27958"><h2>Exemples : Nouvelle bande Out-db</h2><pre class="programlisting">SELECT
    *
FROM ST_BandMetadata(
    ST_AddBand(
        ST_MakeEmptyRaster(10, 10, 0, 0, 1, -1, 0, 0, 0),
        '/home/raster/mytestraster.tif'::text, NULL::int[]
    ),
    ARRAY[]::integer[]
);

 bandnum | pixeltype | nodatavalue | isoutdb | path
---------+-----------+-------------+---------+------
       1 | 8BUI      |             | t       | /home/raster/mytestraster.tif
       2 | 8BUI      |             | t       | /home/raster/mytestraster.tif
       3 | 8BUI      |             | t       | /home/raster/mytestraster.tif
                </pre></div><div class="refsection" id="idm27961"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a>, <a class="xref" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a>, <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a>, <a class="xref" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a> </p></div></div><div class="refentry" id="RT_ST_AsRaster"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsRaster — Convertit une géométrie PostGIS en un raster PostGIS.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, raster  <var class="pdparam">ref</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">value=1</var>, double precision  <var class="pdparam">nodataval=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, raster  <var class="pdparam">ref</var>, text[]  <var class="pdparam">pixeltype=ARRAY['8BUI']</var>, double precision[]  <var class="pdparam">value=ARRAY[1]</var>, double precision[]  <var class="pdparam">nodataval=ARRAY[0]</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, double precision  <var class="pdparam">gridx</var>, double precision  <var class="pdparam">gridy</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">value=1</var>, double precision  <var class="pdparam">nodataval=0</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, double precision  <var class="pdparam">gridx=NULL</var>, double precision  <var class="pdparam">gridy=NULL</var>, text[]  <var class="pdparam">pixeltype=ARRAY['8BUI']</var>, double precision[]  <var class="pdparam">value=ARRAY[1]</var>, double precision[]  <var class="pdparam">nodataval=ARRAY[0]</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">value=1</var>, double precision  <var class="pdparam">nodataval=0</var>, double precision  <var class="pdparam">upperleftx=NULL</var>, double precision  <var class="pdparam">upperlefty=NULL</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, text[]  <var class="pdparam">pixeltype</var>, double precision[]  <var class="pdparam">value=ARRAY[1]</var>, double precision[]  <var class="pdparam">nodataval=ARRAY[0]</var>, double precision  <var class="pdparam">upperleftx=NULL</var>, double precision  <var class="pdparam">upperlefty=NULL</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, double precision  <var class="pdparam">gridx</var>, double precision  <var class="pdparam">gridy</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">value=1</var>, double precision  <var class="pdparam">nodataval=0</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, double precision  <var class="pdparam">gridx=NULL</var>, double precision  <var class="pdparam">gridy=NULL</var>, text[]  <var class="pdparam">pixeltype=ARRAY['8BUI']</var>, double precision[]  <var class="pdparam">value=ARRAY[1]</var>, double precision[]  <var class="pdparam">nodataval=ARRAY[0]</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">value=1</var>, double precision  <var class="pdparam">nodataval=0</var>, double precision  <var class="pdparam">upperleftx=NULL</var>, double precision  <var class="pdparam">upperlefty=NULL</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, text[]  <var class="pdparam">pixeltype</var>, double precision[]  <var class="pdparam">value=ARRAY[1]</var>, double precision[]  <var class="pdparam">nodataval=ARRAY[0]</var>, double precision  <var class="pdparam">upperleftx=NULL</var>, double precision  <var class="pdparam">upperlefty=NULL</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm28306"><h2>Description</h2><p>Convertit une géométrie PostGIS en un raster PostGIS. Les nombreuses variantes permettent trois groupes de possibilités pour définir l'alignement et la taille des pixels du raster en sortie.</p><p>Le premier groupe, constitué des deux premières variantes, produit un raster avec le même alignement (<code class="varname">scalex</code>, <code class="varname">scaley</code>, <code class="varname">gridx</code> et <code class="varname">gridy</code>), le même type de pixels et la même valeur nodata que le raster donné en référence. En général, vous passerez cette référence en faisant une jointure entre la table contenant la géométrie avec la table contenant le raster de référence.</p><p>Le second groupe, composé de quatre variantes, vous permettent de spécifier les dimensions du raster via les paramètres de taille de pixel (<code class="varname">scalex</code> &amp; <code class="varname">scaley</code> et <code class="varname">skewx</code> &amp; <code class="varname">skewy</code>). Les dimensions <code class="varname">width</code> &amp; <code class="varname">height</code> du raster résultant seront ajustés pour s'adapter à l'étendu de la géométrie. Dans la plupart des cas, vous devrez transtyper les paramètres <code class="varname">scalex</code> &amp; <code class="varname">scaley</code> de integer à double precision pour que PostgreSQL choisisse la variante correcte.</p><p>Le troisième groupe, composé de quatre variantes, vous permettent de spécifier les dimensions du raster directement (<code class="varname">width</code> &amp; <code class="varname">height</code>). Les paramètres de taille de pixel (<code class="varname">scalex</code> &amp; <code class="varname">scaley</code> et <code class="varname">skewx</code> &amp; <code class="varname">skewy</code>) du raster résultant seront ajustés pour s'adapter à l'étendue de la géométrie.</p><p>Les deux premières variantes des deux derniers groupes vous permettent de spécifier l'alignement avec un coin arbitraire de la grille d'alignement (<code class="varname">gridx</code> &amp; <code class="varname">gridy</code>) et les deux dernières variantes via le coin haut-gauche (<code class="varname">upperleftx</code> &amp; <code class="varname">upperlefty</code>).</p><p>Chaque groupe de variantes permet de produire un raster à une ou plusieurs bandes. Pour plusieurs bandes, vous devez fournir un tableau de types de pixels (<code class="varname">pixeltype[]</code>), un tableau de valeurs initiales (<code class="varname">value</code>) et un tableau de valeurs nodata (<code class="varname">nodataval</code>). Si non fournis, pixeltype est par défaut à 8BUI, value à 1 et nodataval à 0.</p><p>Le raster en sortie aura le même système de référence spatial que la géométrie source, sauf pour les variantes utilisant un raster de référence. Dans ce cas, le raster en sortie aura le même SRID que le raster de référence.</p><p>Le paramètre optionnel <code class="varname">touched</code> est par défaut à false et correspond à l'option GDAL ALL_TOUCHED, qui détermine si les pixels touchés par des lignes ou polygones seront mis à jour, et pas seulement ceux sur le chemin de la ligne ou dont le point central est dans le polygone.</p><p>Ceci est particulièrement utile pour le rendu de JPEGs et de PNGs directement depuis la base de données en utilisant une combinaison de <a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a> et des fonctions de la famille de <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>.</p><p class="availability">Disponibilité : 2.0.0 - nécessite GDAL &gt;= 1.6.0. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pas encore en mesure de faire le rendu de géométries complexes comme les CURVES, TIN et PolyhedralSurfaces, mais cela devrait être le cas lorsque GDAL le supportera.</p></td></tr></table></div></div><div class="refsection" id="idm28348"><h2>Exemples : Rendu de géométries en fichiers PNG</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_asraster01.png"/><div class="caption"><p>cercle noir</p></div></div></div><pre class="programlisting">-- this will output a black circle taking up 150 x 150 pixels --
SELECT ST_AsPNG(ST_AsRaster(ST_Buffer(ST_Point(1,5),10),150, 150));</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_asraster02.png"/><div class="caption"><p>exemple d'un buffer rendu via PostGIS</p></div></div></div><pre class="programlisting">-- the bands map to RGB bands - the value (118,154,118) - teal  --
SELECT ST_AsPNG(
    ST_AsRaster(
        ST_Buffer(
            ST_GeomFromText('LINESTRING(50 50,150 150,150 50)'), 10,'join=bevel'),
            200,200,ARRAY['8BUI', '8BUI', '8BUI'], ARRAY[118,154,118], ARRAY[0,0,0]));</pre></div><div class="refsection" id="idm28366"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a>, <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>, <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>, <a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>, <a class="xref" href="#RT_ST_AsJPEG" title="ST_AsJPEG">ST_AsJPEG</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="RT_ST_Band"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Band — Retourne une ou plusieurs bandes d'un raster existant en tant que nouveau raster. Utile pour construire de nouveaux rasters à partir de rasters existants.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Band</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nbands = ARRAY[1]</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Band</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Band</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">nbands</var>, character  <var class="pdparam">delimiter=,</var><code>)</code>;</p></div></div><div class="refsection" id="idm28412"><h2>Description</h2><p>Retourne une ou plusieurs bandes d'un raster existant en tant que nouveau raster. Utile pour construire de nouveaux rasters à partir de rasters existants ou pour exporter certaines bandes d'un raster, ou pour réarranger l'ordre des bandes d'un raster. Si aucune bande n'est spécifiée, ou si aucune des bandes spécifiées n'existent dans le raster, alors toutes les bandes sont retournées. Cette fonction est utilisée en interne par diverses fonctions, comme pour supprimer une bande. </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour les variantes avec le paramètre <code class="code">nbands</code> en texte, le délimiteur par défaut est <code class="code">,</code>, il faut donc passer par exemple <code class="code">'1,2,3'</code>. Pour utiliser un autre délimiteur, utilisez le paramètre delimiter : <code class="code">ST_Band(rast, '1@2@3', '@')</code>. Néanmoins, pour utiliser plusieurs bandes, nous encourageons fortement d'utiliser la variante avec le paramètre de type tableau (e.g. <code class="code">ST_Band(rast, '{1,2,3}'::int[]);</code>); la variante avec la liste de bandes en <code class="code">text</code> peut être supprimée des prochaines versions de PostGIS.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm28424"><h2>Exemples</h2><pre class="programlisting">-- Make 2 new rasters: 1 containing band 1 of dummy, second containing band 2 of dummy and then reclassified as a 2BUI
SELECT ST_NumBands(rast1) As numb1, ST_BandPixelType(rast1) As pix1,
 ST_NumBands(rast2) As numb2,  ST_BandPixelType(rast2) As pix2
FROM (
    SELECT ST_Band(rast) As rast1, ST_Reclass(ST_Band(rast,3), '100-200):1, [200-254:2', '2BUI') As rast2
        FROM dummy_rast
        WHERE rid = 2) As foo;

 numb1 | pix1 | numb2 | pix2
-------+------+-------+------
     1 | 8BUI |     1 | 2BUI
                    </pre><pre class="programlisting">-- Return bands 2 and 3. Using array cast syntax
SELECT ST_NumBands(ST_Band(rast, '{2,3}'::int[])) As num_bands
    FROM dummy_rast WHERE rid=2;

num_bands
----------
2

-- Return bands 2 and 3. Use array to define bands
SELECT ST_NumBands(ST_Band(rast, ARRAY[2,3])) As num_bands
    FROM dummy_rast
WHERE rid=2;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_band01.png"/><div class="caption"><p>originale (colonne rast)</p></div></div></div>
         </td><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_band02.png"/><div class="caption"><p>dupe_band</p></div></div></div>
         </td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_band03.png"/><div class="caption"><p>sing_band</p></div></div></div>
         </td></tr></tbody></table></div><pre class="programlisting">--Make a new raster with 2nd band of original and 1st band repeated twice,
and another with just the third band
SELECT rast, ST_Band(rast, ARRAY[2,1,1]) As dupe_band,
    ST_Band(rast, 3) As sing_band
FROM samples.than_chunked
WHERE rid=35;
                    </pre></div><div class="refsection" id="idm28457"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>, <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a>, <a class="xref" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a>, <a class="xref" href="#RT_reference" title="Chapter 11. Référence Raster">Chapter 11, <em>Référence Raster</em></a></p></div></div><div class="refentry" id="RT_ST_MakeEmptyCoverage"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakeEmptyCoverage — Couvre une zone géo-référencée avec une grille raster de tuiles vides.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MakeEmptyCoverage</strong>(</code>integer  <var class="pdparam">tilewidth</var>, integer  <var class="pdparam">tileheight</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, double precision  <var class="pdparam">upperleftx</var>, double precision  <var class="pdparam">upperlefty</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, double precision  <var class="pdparam">skewx</var>, double precision  <var class="pdparam">skewy</var>, integer  <var class="pdparam">srid=unknown</var><code>)</code>;</p></div></div><div class="refsection" id="idm28506"><h2>Description</h2><p>Créé un ensemble de tuiles rasters via <a class="xref" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a>. La dimension de la grille est définie par <code class="varname">width</code> &amp; <code class="varname">height</code>. La dimension des tuiles est définie par <code class="varname">tilewidth</code> &amp; <code class="varname">tileheight</code>. La zone géo-référencée couverte démarre au coin supérieur gauche (<code class="varname">upperleftx</code>, <code class="varname">upperlefty</code>) jusqu'au coin inférieur droit (<code class="varname">upperleftx</code> + <code class="varname">width</code> * <code class="varname">scalex</code>, <code class="varname">upperlefty</code> + <code class="varname">height</code> * <code class="varname">scaley</code>).</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A noter que scaley est généralement négatif pour les rasters, alors que scalex est généralement positif. Le coin inférieur droit aura une valeur Y inférieure et une valeur X supérieure au coin supérieur gauche.</p></td></tr></table></div><p class="availability">Disponibilité : 2.4.0 </p></div><div class="refsection" id="idm28525"><h2>Exemples de base</h2><p>Créer 16 tuiles de 1x1px dans une grille 4x4 pour couvrir une zone WGS84 du coin supérieur gauche (22, 77) jusqu'au coin inférieur droit (55, 33).</p><pre class="programlisting">SELECT (ST_MetaData(tile)).* FROM ST_MakeEmptyCoverage(1, 1, 4, 4, 22, 33, (55 - 22)/(4)::float, (33 - 77)/(4)::float, 0., 0., 4326) tile;

 upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands
-------------------------------------------------------------------------------------
         22 |         33 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      30.25 |         33 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
       38.5 |         33 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      46.75 |         33 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
         22 |         22 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      30.25 |         22 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
       38.5 |         22 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      46.75 |         22 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
         22 |         11 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      30.25 |         11 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
       38.5 |         11 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      46.75 |         11 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
         22 |          0 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      30.25 |          0 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
       38.5 |          0 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      46.75 |          0 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0</pre></div><div class="refsection" id="idm28529"><h2>Voir aussi</h2><p>
                      <a class="xref" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a>
                    </p></div></div><div class="refentry" id="RT_ST_MakeEmptyRaster"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakeEmptyRaster — Retourne un raster vide (sans aucune bande) de dimension donnée (width &amp; height), de coin supérieur gauche à X et Y, de paramètres de taille de pixel données (scalex, scaley, skewx &amp; skewy) et de système de référence spatial (srid) donné. Si un raster est spécifié, retourne un nouveau raster de même taille, alignement et SRID. Si srid n'est pas spécifié, le système de référence spatial est défini à inconnu (0).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MakeEmptyRaster</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MakeEmptyRaster</strong>(</code>integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, float8  <var class="pdparam">upperleftx</var>, float8  <var class="pdparam">upperlefty</var>, float8  <var class="pdparam">scalex</var>, float8  <var class="pdparam">scaley</var>, float8  <var class="pdparam">skewx</var>, float8  <var class="pdparam">skewy</var>, integer  <var class="pdparam">srid=unknown</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MakeEmptyRaster</strong>(</code>integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, float8  <var class="pdparam">upperleftx</var>, float8  <var class="pdparam">upperlefty</var>, float8  <var class="pdparam">pixelsize</var><code>)</code>;</p></div></div><div class="refsection" id="idm28593"><h2>Description</h2><p>Retourne un raster vide (sans aucune bande) de dimension donnée (width &amp; height), géo-référencé via le coin supérieur gauche (upperleftx &amp; upperlefty), via les paramètres de taille de pixel données (scalex, scaley, skewx &amp; skewy) et via le système de référence spatial (srid) donné.</p><p>La dernière variante utilise un seul paramètre pour spécifier la taille des pixels (pixelsize). scalex est défini à la valeur de ce paramètre et scaley est défini à la valeur négative de ce paramètre. skewx et skewy sont définis à 0. </p><p>Si un raster existant est spécifié, retourne un nouveau raster avec les mêmes métadonnées (sans aucune bande). </p><p>Si aucun srid n'est spécifié, la valeur 0 est utilisée. Après avoir créé un raster vide, vous voudrez probablement ajouter des bandes ou l'éditer. Voir <a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a> pour définir des bandes et <a class="xref" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a> pour initialiser des valeurs.</p></div><div class="refsection" id="idm28601"><h2>Exemples</h2><pre class="programlisting">INSERT INTO dummy_rast(rid,rast)
VALUES(3, ST_MakeEmptyRaster( 100, 100, 0.0005, 0.0005, 1, 1, 0, 0, 4326) );

--use an existing raster as template for new raster
INSERT INTO dummy_rast(rid,rast)
SELECT 4, ST_MakeEmptyRaster(rast)
FROM dummy_rast WHERE rid = 3;

-- output meta data of rasters we just added
SELECT rid, (md).*
FROM (SELECT rid, ST_MetaData(rast) As md
    FROM dummy_rast
    WHERE rid IN(3,4)) As foo;

-- output --
 rid | upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands
-----+------------+------------+-------+--------+------------+------------+-------+-------+------+----------
   3 |     0.0005 |     0.0005 |   100 |    100 |          1 |          1 |    0  |     0 | 4326 |        0
   4 |     0.0005 |     0.0005 |   100 |    100 |          1 |          1 |    0  |     0 | 4326 |        0
                </pre></div><div class="refsection" id="idm28604"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>, <a class="xref" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>, , <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a></p></div></div><div class="refentry" id="RT_ST_Tile"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Tile — Retourne un ensemble de rasters issus de la division d'un raster d'entrée selon les dimensions spécifiées pour les rasters de sortie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof raster <strong class="fsfunc">ST_Tile</strong>(</code>raster  <var class="pdparam">rast</var>, int[]  <var class="pdparam">nband</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, boolean  <var class="pdparam">padwithnodata=FALSE</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">setof raster <strong class="fsfunc">ST_Tile</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, boolean  <var class="pdparam">padwithnodata=FALSE</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">setof raster <strong class="fsfunc">ST_Tile</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, boolean  <var class="pdparam">padwithnodata=FALSE</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm28680"><h2>Description</h2><p>Retourne un ensemble de rasters issus de la division d'un raster d'entrée selon les dimensions spécifiées pour les rasters de sortie. </p><p>Si <code class="varname">padwithnodata</code> est FALSE, les tuiles des bords droits et bas peuvent avoir des dimensions différentes du reste des tuiles. Si <code class="varname">padwithnodata</code> est TRUE, toutes les tuiles auront les mêmes dimensions, potentiellement avec les tuiles des bords complétées par la valeur NODATA. Si la bande raster n'a pas de valeur NODATA définie, cette valeur peut être spécifiée via le paramètre <code class="varname">nodataval</code>. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si une bande spécifiée du raster d'entrée est out-of-db, la bande correspondant dans les rasters de sortie sera aussi out-of-db. </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm28690"><h2>Exemples</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI', 1, 0), 2, '8BUI', 10, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, 0, 1, -1, 0, 0, 0), 1, '8BUI', 2, 0), 2, '8BUI', 20, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, 0, 1, -1, 0, 0, 0), 1, '8BUI', 3, 0), 2, '8BUI', 30, 0) AS rast UNION ALL

    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, -3, 1, -1, 0, 0, 0), 1, '8BUI', 4, 0), 2, '8BUI', 40, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, -3, 1, -1, 0, 0, 0), 1, '8BUI', 5, 0), 2, '8BUI', 50, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, -3, 1, -1, 0, 0, 0), 1, '8BUI', 6, 0), 2, '8BUI', 60, 0) AS rast UNION ALL

    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, -6, 1, -1, 0, 0, 0), 1, '8BUI', 7, 0), 2, '8BUI', 70, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, -6, 1, -1, 0, 0, 0), 1, '8BUI', 8, 0), 2, '8BUI', 80, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, -6, 1, -1, 0, 0, 0), 1, '8BUI', 9, 0), 2, '8BUI', 90, 0) AS rast
), bar AS (
    SELECT ST_Union(rast) AS rast FROM foo
), baz AS (
    SELECT ST_Tile(rast, 3, 3, TRUE) AS rast FROM bar
)
SELECT
    ST_DumpValues(rast)
FROM baz;

              st_dumpvalues
------------------------------------------
 (1,"{{1,1,1},{1,1,1},{1,1,1}}")
 (2,"{{10,10,10},{10,10,10},{10,10,10}}")
 (1,"{{2,2,2},{2,2,2},{2,2,2}}")
 (2,"{{20,20,20},{20,20,20},{20,20,20}}")
 (1,"{{3,3,3},{3,3,3},{3,3,3}}")
 (2,"{{30,30,30},{30,30,30},{30,30,30}}")
 (1,"{{4,4,4},{4,4,4},{4,4,4}}")
 (2,"{{40,40,40},{40,40,40},{40,40,40}}")
 (1,"{{5,5,5},{5,5,5},{5,5,5}}")
 (2,"{{50,50,50},{50,50,50},{50,50,50}}")
 (1,"{{6,6,6},{6,6,6},{6,6,6}}")
 (2,"{{60,60,60},{60,60,60},{60,60,60}}")
 (1,"{{7,7,7},{7,7,7},{7,7,7}}")
 (2,"{{70,70,70},{70,70,70},{70,70,70}}")
 (1,"{{8,8,8},{8,8,8},{8,8,8}}")
 (2,"{{80,80,80},{80,80,80},{80,80,80}}")
 (1,"{{9,9,9},{9,9,9},{9,9,9}}")
 (2,"{{90,90,90},{90,90,90},{90,90,90}}")
(18 rows)
                </pre><pre class="programlisting">WITH foo AS (
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI', 1, 0), 2, '8BUI', 10, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, 0, 1, -1, 0, 0, 0), 1, '8BUI', 2, 0), 2, '8BUI', 20, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, 0, 1, -1, 0, 0, 0), 1, '8BUI', 3, 0), 2, '8BUI', 30, 0) AS rast UNION ALL

    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, -3, 1, -1, 0, 0, 0), 1, '8BUI', 4, 0), 2, '8BUI', 40, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, -3, 1, -1, 0, 0, 0), 1, '8BUI', 5, 0), 2, '8BUI', 50, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, -3, 1, -1, 0, 0, 0), 1, '8BUI', 6, 0), 2, '8BUI', 60, 0) AS rast UNION ALL

    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, -6, 1, -1, 0, 0, 0), 1, '8BUI', 7, 0), 2, '8BUI', 70, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, -6, 1, -1, 0, 0, 0), 1, '8BUI', 8, 0), 2, '8BUI', 80, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, -6, 1, -1, 0, 0, 0), 1, '8BUI', 9, 0), 2, '8BUI', 90, 0) AS rast
), bar AS (
    SELECT ST_Union(rast) AS rast FROM foo
), baz AS (
    SELECT ST_Tile(rast, 3, 3, 2) AS rast FROM bar
)
SELECT
    ST_DumpValues(rast)
FROM baz;

              st_dumpvalues
------------------------------------------
 (1,"{{10,10,10},{10,10,10},{10,10,10}}")
 (1,"{{20,20,20},{20,20,20},{20,20,20}}")
 (1,"{{30,30,30},{30,30,30},{30,30,30}}")
 (1,"{{40,40,40},{40,40,40},{40,40,40}}")
 (1,"{{50,50,50},{50,50,50},{50,50,50}}")
 (1,"{{60,60,60},{60,60,60},{60,60,60}}")
 (1,"{{70,70,70},{70,70,70},{70,70,70}}")
 (1,"{{80,80,80},{80,80,80},{80,80,80}}")
 (1,"{{90,90,90},{90,90,90},{90,90,90}}")
(9 rows)
                </pre></div><div class="refsection" id="idm28694"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a>, <a class="xref" href="#RT_Retile" title="ST_Retile">ST_Retile</a> </p></div></div><div class="refentry" id="RT_Retile"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Retile — Retourne un ensemble de tuiles configurées à partir d'une couverture raster composée de tuiles arbitraires. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">SETOF raster <strong class="fsfunc">ST_Retile</strong>(</code>regclass  <var class="pdparam">tab</var>, name  <var class="pdparam">col</var>, geometry  <var class="pdparam">ext</var>, float8  <var class="pdparam">sfx</var>, float8  <var class="pdparam">sfy</var>, int  <var class="pdparam">tw</var>, int  <var class="pdparam">th</var>, text  <var class="pdparam">algo='NearestNeighbor'</var><code>)</code>;</p></div></div><div class="refsection" id="idm28732"><h2>Description</h2><p>Retourne un ensemble de tuiles ayant l'échelle spécifiée (<code class="varname">sfx</code>, <code class="varname">sfy</code>), de taille maximale (<code class="varname">tw</code>, <code class="varname">th</code>) et couvrant l'étendue spécifiée (<code class="varname">ext</code>), et avec les données provenant de la couverture raster spécifiée (<code class="varname">tab</code>, <code class="varname">col</code>). </p><p>Les algorithmes disponibles sont : 'NearestNeighbor' (plus proche voisin), 'Bilinear' (Bilinéaire), 'Cubic' (Cubique), 'CubicSpline' (Cubique Spline) et 'Lanczos'. Voir <a class="link" href="http://www.gdal.org/gdalwarp.html" target="_top">GDAL Warp resampling methods</a> pour plus de détails.</p><p class="availability">Disponibilité : 2.2.0</p></div><div class="refsection" id="idm28745"><h2>Voir aussi</h2><p>
          <a class="xref" href="#RT_CreateOverview" title="ST_CreateOverview">ST_CreateOverview</a>
        </p></div></div><div class="refentry" id="RT_ST_FromGDALRaster"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_FromGDALRaster — Retourne un raster depuis un fichier raster supporté par GDAL.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_FromGDALRaster</strong>(</code>bytea  <var class="pdparam">gdaldata</var>, integer  <var class="pdparam">srid=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm28764"><h2>Description</h2><p>Retourne un raster depuis un fichier raster supporté par GDAL. Le paramètre <code class="varname">gdaldata</code> de type bytea est le contenu du fichier raster GDAL. </p><p>Si <code class="varname">srid</code> est NULL, la fonction essaye de déterminer le SRID depuis le raster GDAL. Si <code class="varname">srid</code> est spécifié, la valeur spécifiée écrase tout SRID déterminé automatiquement. </p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm28772"><h2>Exemples</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_AsPNG(ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 0.1, -0.1, 0, 0, 4326), 1, '8BUI', 1, 0), 2, '8BUI', 2, 0), 3, '8BUI', 3, 0)) AS png
),
bar AS (
    SELECT 1 AS rid, ST_FromGDALRaster(png) AS rast FROM foo
    UNION ALL
    SELECT 2 AS rid, ST_FromGDALRaster(png, 3310) AS rast FROM foo
)
SELECT
    rid,
    ST_Metadata(rast) AS metadata,
    ST_SummaryStats(rast, 1) AS stats1,
    ST_SummaryStats(rast, 2) AS stats2,
    ST_SummaryStats(rast, 3) AS stats3
FROM bar
ORDER BY rid;

 rid |         metadata          |    stats1     |    stats2     |     stats3
-----+---------------------------+---------------+---------------+----------------
   1 | (0,0,2,2,1,-1,0,0,0,3)    | (4,4,1,0,1,1) | (4,8,2,0,2,2) | (4,12,3,0,3,3)
   2 | (0,0,2,2,1,-1,0,0,3310,3) | (4,4,1,0,1,1) | (4,8,2,0,2,2) | (4,12,3,0,3,3)
(2 rows)
                </pre></div><div class="refsection" id="idm28775"><h2>Voir aussi</h2><p>
                    <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>
                </p></div></div></section><section class="section" id="Raster_Accessors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.4. Fonctions d'accès aux rasters</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_GeoReference">ST_GeoReference</a></span><span class="refpurpose"> — Retourne les méta-données de géo-référencement au format GDAL (par défaut) ou ESRI, tel qu'utilisé généralement dans les fichiers world file.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Height">ST_Height</a></span><span class="refpurpose"> — Retourne la hauteur du raster en pixels.</span></li><li><span class="refentrytitle"><a href="#RT_ST_IsEmpty">ST_IsEmpty</a></span><span class="refpurpose"> — Retourne true si le raster est vide (largeur = 0 et hauteur = 0). Sinon, retourne false.</span></li><li><span class="refentrytitle"><a href="#RT_ST_MemSize">ST_MemSize</a></span><span class="refpurpose"> — Retourne l'espace utilisé par le raster (en octets).</span></li><li><span class="refentrytitle"><a href="#RT_ST_MetaData">ST_MetaData</a></span><span class="refpurpose"> — Retourne les méta-données de base de l'objet raster : taille des pixels, rotation, coin haut/bas gauche, etc.</span></li><li><span class="refentrytitle"><a href="#RT_ST_NumBands">ST_NumBands</a></span><span class="refpurpose"> — Retourne le nombre de bandes de l'objet raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelHeight">ST_PixelHeight</a></span><span class="refpurpose"> — Retourne la hauteur d'un pixel, dans l'unité du système de référence spatial.</span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelWidth">ST_PixelWidth</a></span><span class="refpurpose"> — Retourne la largeur d'un pixel, dans l'unité du système de référence spatial.</span></li><li><span class="refentrytitle"><a href="#RT_ST_ScaleX">ST_ScaleX</a></span><span class="refpurpose"> — Renvoie la composante X de la largeur du pixel dans l'unité du système de référence spatial.</span></li><li><span class="refentrytitle"><a href="#RT_ST_ScaleY">ST_ScaleY</a></span><span class="refpurpose"> — Renvoie la composante Y de la hauteur du pixel dans l'unité du système de référence spatial.</span></li><li><span class="refentrytitle"><a href="#RT_ST_RasterToWorldCoord">ST_RasterToWorldCoord</a></span><span class="refpurpose"> — Retourne le coin supérieur gauche du raster, sous forme de coordonnées X et Y (longitude et latitude) d'un colonne et d'une ligne. Les numéros de colonne et de ligne commencent à 1.</span></li><li><span class="refentrytitle"><a href="#RT_ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a></span><span class="refpurpose"> — Retourne la coordonnée X du coin supérieur gauche du raster à column et row. Les numéros de colonne et de ligne commencent à 1.</span></li><li><span class="refentrytitle"><a href="#RT_ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a></span><span class="refpurpose"> — Retourne la coordonnée Y du coin supérieur gauche du raster à column et row. Les numéros de colonne et de ligne commencent à 1. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Rotation">ST_Rotation</a></span><span class="refpurpose"> — Retourne l'angle de rotation du raster en radians.</span></li><li><span class="refentrytitle"><a href="#RT_ST_SkewX">ST_SkewX</a></span><span class="refpurpose"> — Retourne l'obliquité géo-référencée X (paramètre de rotation).</span></li><li><span class="refentrytitle"><a href="#RT_ST_SkewY">ST_SkewY</a></span><span class="refpurpose"> — Retourne l'obliquité géo-référencée Y (paramètre de rotation).</span></li><li><span class="refentrytitle"><a href="#RT_ST_SRID">ST_SRID</a></span><span class="refpurpose"> — Retourne l'identifiant du système de référence spatial du raster, tel que défini dans la table spatial_ref_sys.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Summary">ST_Summary</a></span><span class="refpurpose"> — Retourne un résumé du contenu du raster sous forme de texte.</span></li><li><span class="refentrytitle"><a href="#RT_ST_UpperLeftX">ST_UpperLeftX</a></span><span class="refpurpose"> — Retourne la coordonnée X du coin supérieur gauche du raster projeté dans le système de référence spatial.</span></li><li><span class="refentrytitle"><a href="#RT_ST_UpperLeftY">ST_UpperLeftY</a></span><span class="refpurpose"> — Retourne la coordonnée Y du coin supérieur gauche du raster projeté dans le système de référence spatial.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Width">ST_Width</a></span><span class="refpurpose"> — Retourne la largeur du raster en pixels.</span></li><li><span class="refentrytitle"><a href="#RT_ST_WorldToRasterCoord">ST_WorldToRasterCoord</a></span><span class="refpurpose"> — Retourne le coin supérieur gauche comme colonne et ligne, en fonction de coordonnées géométriques X et Y (longitude et latitude) ou un point géométrique dans le système de référence spatial du raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_WorldToRasterCoordX">ST_WorldToRasterCoordX</a></span><span class="refpurpose"> — Retourne la colonne dans le raster du point géométrique (pt) ou des coordonnées X et Y (xw, yw) exprimés dans le système de référence spatial du raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_WorldToRasterCoordY">ST_WorldToRasterCoordY</a></span><span class="refpurpose"> — Retourne la ligne dans le raster du point géométrique (pt) ou des coordonnées X et Y (xw, yw) exprimés dans le système de référence spatial du raster.</span></li></ul></div><div class="refentry" id="RT_ST_GeoReference"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeoReference — Retourne les méta-données de géo-référencement au format GDAL (par défaut) ou ESRI, tel qu'utilisé généralement dans les fichiers world file.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_GeoReference</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">format=GDAL</var><code>)</code>;</p></div></div><div class="refsection" id="idm28796"><h2>Description</h2><p>Retourne les méta-données de géo-référencement au format GDAL ou ESRI, tel qu'utilisé généralement dans les fichiers <a class="link" href="https://fr.wikipedia.org/wiki/World_file" target="_top">world file</a>. Si aucun type n'est spécifié, utilise le format GDAL par défaut. type est une chaîne 'GDAL' ou 'ESRI'. </p><p>La différence entre les représentations de format est la suivante :</p><p><code class="varname">GDAL</code> : </p><pre class="programlisting">scalex
skewy
skewx
scaley
upperleftx
upperlefty</pre><p><code class="varname">ESRI</code> : </p><pre class="programlisting">scalex
skewy
skewx
scaley
upperleftx + scalex*0.5
upperlefty + scaley*0.5</pre></div><div class="refsection" id="idm28807"><h2>Exemples</h2><pre class="programlisting">SELECT ST_GeoReference(rast, 'ESRI') As esri_ref, ST_GeoReference(rast, 'GDAL') As gdal_ref
 FROM dummy_rast WHERE rid=1;

   esri_ref   |   gdal_ref
--------------+--------------
 2.0000000000 | 2.0000000000
 0.0000000000 : 0.0000000000
 0.0000000000 : 0.0000000000
 3.0000000000 : 3.0000000000
 1.5000000000 : 0.5000000000
 2.0000000000 : 0.5000000000
                </pre></div><div class="refsection" id="idm28810"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_SetGeoReference" title="ST_SetGeoReference">ST_SetGeoReference</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a></p></div></div><div class="refentry" id="RT_ST_Height"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Height — Retourne la hauteur du raster en pixels.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_Height</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28828"><h2>Description</h2><p>Retourne la hauteur du raster en pixels.</p></div><div class="refsection" id="idm28831"><h2>Exemples</h2><pre class="programlisting">SELECT rid, ST_Height(rast) As rastheight
FROM dummy_rast;

 rid | rastheight
-----+------------
   1 |         20
   2 |          5
                </pre></div><div class="refsection" id="idm28834"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Width" title="ST_Width">ST_Width</a></p></div></div><div class="refentry" id="RT_ST_IsEmpty"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsEmpty — Retourne true si le raster est vide (largeur = 0 et hauteur = 0). Sinon, retourne false.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsEmpty</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28850"><h2>Description</h2><p>Retourne true si le raster est vide (largeur = 0 et hauteur = 0). Sinon, retourne false.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm28854"><h2>Exemples</h2><pre class="programlisting">SELECT ST_IsEmpty(ST_MakeEmptyRaster(100, 100, 0, 0, 0, 0, 0, 0))
st_isempty |
-----------+
f          |


SELECT ST_IsEmpty(ST_MakeEmptyRaster(0, 0, 0, 0, 0, 0, 0, 0))
st_isempty |
-----------+
t          |

                </pre></div><div class="refsection" id="idm28857"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_HasNoBand" title="ST_HasNoBand">ST_HasNoBand</a></p></div></div><div class="refentry" id="RT_ST_MemSize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MemSize — Retourne l'espace utilisé par le raster (en octets).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_MemSize</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28873"><h2>Description</h2><p>Retourne l'espace utilisé par le raster (en octets). </p><p>Cette fonction est un bon complément aux fonctions PostgreSQL natives pg_column_size, pg_size_pretty, pg_relation_size, pg_total_relation_size.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>pg_relation_size qui donne la taille en octets d'une table peut renvoyer une taille en octets inférieure à ST_MemSize. Cela est dû au fait que pg_relation_size n'ajoute pas la contribution des tables toasted et que les grandes géométries sont stockées dans les tables TOAST. pg_column_size peut retourner une valeur inférieure parce qu'elle retourne la taille compressée.</p><p>pg_total_relation_size - comprend la table, les tables toasted et les index.</p></td></tr></table></div><p class="availability">Disponibilité : 2.2.0</p></div><div class="refsection" id="idm28881"><h2>Exemples</h2><pre class="programlisting">SELECT ST_MemSize(ST_AsRaster(ST_Buffer(ST_Point(1,5),10,1000),150, 150, '8BUI')) As rast_mem;

        rast_mem
        --------
        22568
    </pre></div><div class="refsection" id="idm28884"><h2>Voir aussi</h2><p/></div></div><div class="refentry" id="RT_ST_MetaData"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MetaData — Retourne les méta-données de base de l'objet raster : taille des pixels, rotation, coin haut/bas gauche, etc.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">record <strong class="fsfunc">ST_MetaData</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28899"><h2>Description</h2><p>Retourne les méta-données de base de l'objet raster : taille des pixels, rotation, coin haut/bas gauche, etc. Les colonnes retournées sont : upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands</p></div><div class="refsection" id="idm28902"><h2>Exemples</h2><pre class="programlisting">SELECT rid, (foo.md).*
 FROM (SELECT rid, ST_MetaData(rast) As md
FROM dummy_rast) As foo;

 rid | upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands
 ----+------------+------------+-------+--------+--------+-----------+-------+-------+------+-------
   1 |        0.5 |        0.5 |    10 |     20 |      2 |      3 |     0 |     0 |    0 |        0
   2 | 3427927.75 |    5793244 |     5 |      5 |   0.05 |  -0.05 |     0 |     0 |    0 |        3
                </pre></div><div class="refsection" id="idm28905"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a>, <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a></p></div></div><div class="refentry" id="RT_ST_NumBands"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NumBands — Retourne le nombre de bandes de l'objet raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NumBands</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28922"><h2>Description</h2><p>Retourne le nombre de bandes de l'objet raster.</p></div><div class="refsection" id="idm28925"><h2>Exemples</h2><pre class="programlisting">SELECT rid, ST_NumBands(rast) As numbands
FROM dummy_rast;

rid | numbands
----+----------
  1 |        0
  2 |        3
                </pre></div><div class="refsection" id="idm28928"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a></p></div></div><div class="refentry" id="RT_ST_PixelHeight"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelHeight — Retourne la hauteur d'un pixel, dans l'unité du système de référence spatial.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">ST_PixelHeight</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28944"><h2>Description</h2><p>Retourne la hauteur d'un pixel, dans l'unité du système de référence spatial. Dans le cas général où il n'y a pas d'obliquité (skew), la hauteur d'un pixel est simplement l'échelle entre les coordonnées géométriques et les pixels rasters.</p><p>Voir <a class="xref" href="#RT_ST_PixelWidth" title="ST_PixelWidth">ST_PixelWidth</a> pour une représentation schématique de la relation. </p></div><div class="refsection" id="idm28949"><h2>Exemples : Rasters sans obliquité (skew)</h2><pre class="programlisting">SELECT ST_Height(rast) As rastheight, ST_PixelHeight(rast) As pixheight,
 ST_ScaleX(rast) As scalex, ST_ScaleY(rast) As scaley, ST_SkewX(rast) As skewx,
        ST_SkewY(rast) As skewy
FROM dummy_rast;

 rastheight | pixheight | scalex | scaley | skewx | skewy
------------+-----------+--------+--------+-------+----------
         20 |         3 |      2 |      3 |     0 |        0
          5 |      0.05 |   0.05 |  -0.05 |     0 |        0
            </pre></div><div class="refsection" id="idm28952"><h2>Exemples : Rasters avec obliquité (skew) différent de 0</h2><pre class="programlisting">SELECT ST_Height(rast) As rastheight, ST_PixelHeight(rast) As pixheight,
 ST_ScaleX(rast) As scalex, ST_ScaleY(rast) As scaley, ST_SkewX(rast) As skewx,
        ST_SkewY(rast) As skewy
FROM (SELECT ST_SetSKew(rast,0.5,0.5) As rast
        FROM dummy_rast) As skewed;

rastheight |     pixheight     | scalex | scaley | skewx | skewy
-----------+-------------------+--------+--------+-------+----------
        20 |  3.04138126514911 |      2 |      3 |   0.5 |      0.5
         5 | 0.502493781056044 |   0.05 |  -0.05 |   0.5 |      0.5
            </pre></div><div class="refsection" id="idm28955"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_PixelWidth" title="ST_PixelWidth">ST_PixelWidth</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>, <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a> </p></div></div><div class="refentry" id="RT_ST_PixelWidth"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelWidth — Retourne la largeur d'un pixel, dans l'unité du système de référence spatial.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">ST_PixelWidth</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28975"><h2>Description</h2><p>Retourne la largeur d'un pixel, dans l'unité du système de référence spatial. Dans le cas général où il n'y a pas d'obliquité (skew), la largeur d'un pixel est simplement l'échelle entre les coordonnées géométriques et les pixels rasters.</p><p>Le diagramme suivant illustre cette relation :</p><p>
            </p><div class="informalfigure"><div class="mediaobject"><img src="images/raster_xscale_yscale_xskew_yskew.png"/><div class="caption"><p>Largeur du pixel : taille du pixel dans la direction i</p><p>Hauteur du pixel : taille du pixel dans la direction j</p></div></div></div><p>
            </p></div><div class="refsection" id="idm28987"><h2>Exemples : Rasters sans obliquité (skew)</h2><pre class="programlisting">SELECT ST_Width(rast) As rastwidth, ST_PixelWidth(rast) As pixwidth,
    ST_ScaleX(rast) As scalex, ST_ScaleY(rast) As scaley, ST_SkewX(rast) As skewx,
    ST_SkewY(rast) As skewy
    FROM dummy_rast;

    rastwidth | pixwidth | scalex | scaley | skewx | skewy
    -----------+----------+--------+--------+-------+----------
    10 |        2 |      2 |      3 |     0 |        0
     5 |     0.05 |   0.05 |  -0.05 |     0 |        0
        </pre></div><div class="refsection" id="idm28990"><h2>Exemples : Rasters avec obliquité (skew) différent de 0</h2><pre class="programlisting">SELECT ST_Width(rast) As rastwidth, ST_PixelWidth(rast) As pixwidth,
    ST_ScaleX(rast) As scalex, ST_ScaleY(rast) As scaley, ST_SkewX(rast) As skewx,
    ST_SkewY(rast) As skewy
    FROM (SELECT ST_SetSkew(rast,0.5,0.5) As rast
    FROM dummy_rast) As skewed;

    rastwidth |     pixwidth      | scalex | scaley | skewx | skewy
    -----------+-------------------+--------+--------+-------+----------
    10 |  2.06155281280883 |      2 |      3 |   0.5 |      0.5
     5 | 0.502493781056044 |   0.05 |  -0.05 |   0.5 |      0.5
        </pre></div><div class="refsection" id="idm28993"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_PixelHeight" title="ST_PixelHeight">ST_PixelHeight</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>, <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a></p></div></div><div class="refentry" id="RT_ST_ScaleX"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ScaleX — Renvoie la composante X de la largeur du pixel dans l'unité du système de référence spatial.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_ScaleX</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29013"><h2>Description</h2><p>Renvoie la composante X de la largeur du pixel dans l'unité du système de référence spatial. Voir <a class="link" href="https://fr.wikipedia.org/wiki/World_file" target="_top">World File</a> pour plus de détails.</p><p class="changed">Changement : 2.0.0. Dans les versions WKTRaster, cette fonction était appelée ST_PixelSizeX.</p></div><div class="refsection" id="idm29018"><h2>Exemples</h2><pre class="programlisting">SELECT rid, ST_ScaleX(rast) As rastpixwidth
FROM dummy_rast;

 rid | rastpixwidth
-----+--------------
   1 |            2
   2 |         0.05
                </pre></div><div class="refsection" id="idm29021"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Width" title="ST_Width">ST_Width</a></p></div></div><div class="refentry" id="RT_ST_ScaleY"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ScaleY — Renvoie la composante Y de la hauteur du pixel dans l'unité du système de référence spatial.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_ScaleY</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29037"><h2>Description</h2><p>Renvoie la composante Y de la hauteur du pixel dans l'unité du système de référence spatial. Peut être négative. Voir <a class="link" href="https://fr.wikipedia.org/wiki/World_file" target="_top">World File</a> pour plus de détails.</p><p class="changed">Changement : 2.0.0. Dans les versions WKTRaster, cette fonction était appelée ST_PixelSizeY.</p></div><div class="refsection" id="idm29042"><h2>Exemples</h2><pre class="programlisting">SELECT rid, ST_ScaleY(rast) As rastpixheight
FROM dummy_rast;

 rid | rastpixheight
-----+---------------
   1 |             3
   2 |         -0.05
                </pre></div><div class="refsection" id="idm29045"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Height" title="ST_Height">ST_Height</a></p></div></div><div class="refentry" id="RT_ST_RasterToWorldCoord"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RasterToWorldCoord — Retourne le coin supérieur gauche du raster, sous forme de coordonnées X et Y (longitude et latitude) d'un colonne et d'une ligne. Les numéros de colonne et de ligne commencent à 1.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">record <strong class="fsfunc">ST_RasterToWorldCoord</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">xcolumn</var>, integer  <var class="pdparam">yrow</var><code>)</code>;</p></div></div><div class="refsection" id="idm29067"><h2>Description</h2><p>Retourne le coin supérieur gauche du raster, sous forme de coordonnées X et Y (longitude et latitude) d'un colonne et d'une ligne. Les valeurs X et Y retournées sont dans l'unité du système de référence spatial du raster géo-référencé. Les numéros de colonne et de ligne commencent à 1, mais si l'un des deux paramètres est 0, un nombre négatif ou supérieur à la dimension du raster, la fonction retourne des coordonnées en dehors du raster, en supposant que la grille du raster est applicable en dehors de son étendue. </p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm29071"><h2>Exemples</h2><pre class="programlisting">-- non-skewed raster
SELECT
    rid,
    (ST_RasterToWorldCoord(rast,1, 1)).*,
    (ST_RasterToWorldCoord(rast,2, 2)).*
FROM dummy_rast

 rid | longitude  | latitude | longitude |  latitude
-----+------------+----------+-----------+------------
   1 |        0.5 |      0.5 |       2.5 |        3.5
   2 | 3427927.75 |  5793244 | 3427927.8 | 5793243.95
                </pre><pre class="programlisting">-- skewed raster
SELECT
    rid,
    (ST_RasterToWorldCoord(rast, 1, 1)).*,
    (ST_RasterToWorldCoord(rast, 2, 3)).*
FROM (
    SELECT
        rid,
        ST_SetSkew(rast, 100.5, 0) As rast
    FROM dummy_rast
) As foo

 rid | longitude  | latitude | longitude | latitude
-----+------------+----------+-----------+-----------
   1 |        0.5 |      0.5 |     203.5 |       6.5
   2 | 3427927.75 |  5793244 | 3428128.8 | 5793243.9
                </pre></div><div class="refsection" id="idm29075"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a>, <a class="xref" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a>, <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a> </p></div></div><div class="refentry" id="RT_ST_RasterToWorldCoordX"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RasterToWorldCoordX — Retourne la coordonnée X du coin supérieur gauche du raster à column et row. Les numéros de colonne et de ligne commencent à 1.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_RasterToWorldCoordX</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">xcolumn</var><code>)</code>;</p><p><code class="funcdef">float8 <strong class="fsfunc">ST_RasterToWorldCoordX</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">xcolumn</var>, integer  <var class="pdparam">yrow</var><code>)</code>;</p></div></div><div class="refsection" id="idm29108"><h2>Description</h2><p>Retourne la coordonnée X du coin supérieur gauche du raster à column et row dans l'unité du système de référence spatial du raster géo-référencé. Les numéros de colonne et de ligne commencent à 1, mais si l'un des deux paramètres est 0, un nombre négatif ou supérieur à la dimension du raster, la fonction retourne des coordonnées en dehors du raster, en supposant que la grille du raster est applicable en dehors de son étendue (même taille de pixel et skew). </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour des rasters sans obliquité (skew), fournir le numéro de colonne X est suffisant. Pour des rasters avec obliquité, les coordonnées géo-référencées sont fonction de ST_ScaleX et ST_SkewX et de la ligne et colonne. Une erreur sera émise si seulement la colonne X est fournie pour une raster avec obliquité.</p></td></tr></table></div><p class="changed">Changement : 2.1.0 Jusqu'à la version 2.0.x, cette fonction était appelée ST_Raster2WorldCoordX</p></div><div class="refsection" id="idm29114"><h2>Exemples</h2><pre class="programlisting">-- non-skewed raster providing column is sufficient
SELECT rid, ST_RasterToWorldCoordX(rast,1) As x1coord,
    ST_RasterToWorldCoordX(rast,2) As x2coord,
    ST_ScaleX(rast) As pixelx
FROM dummy_rast;

 rid |  x1coord   |  x2coord  | pixelx
-----+------------+-----------+--------
   1 |        0.5 |       2.5 |      2
   2 | 3427927.75 | 3427927.8 |   0.05
                </pre><pre class="programlisting">-- for fun lets skew it
SELECT rid, ST_RasterToWorldCoordX(rast, 1, 1) As x1coord,
    ST_RasterToWorldCoordX(rast, 2, 3) As x2coord,
    ST_ScaleX(rast) As pixelx
FROM (SELECT rid, ST_SetSkew(rast, 100.5, 0) As rast FROM dummy_rast) As foo;

 rid |  x1coord   |  x2coord  | pixelx
-----+------------+-----------+--------
   1 |        0.5 |     203.5 |      2
   2 | 3427927.75 | 3428128.8 |   0.05
                </pre></div><div class="refsection" id="idm29118"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a>, <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a></p></div></div><div class="refentry" id="RT_ST_RasterToWorldCoordY"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RasterToWorldCoordY — Retourne la coordonnée Y du coin supérieur gauche du raster à column et row. Les numéros de colonne et de ligne commencent à 1. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_RasterToWorldCoordY</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">yrow</var><code>)</code>;</p><p><code class="funcdef">float8 <strong class="fsfunc">ST_RasterToWorldCoordY</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">xcolumn</var>, integer  <var class="pdparam">yrow</var><code>)</code>;</p></div></div><div class="refsection" id="idm29152"><h2>Description</h2><p>Retourne la coordonnée Y du coin supérieur gauche du raster à column et row dans l'unité du système de référence spatial du raster géo-référencé. Les numéros de colonne et de ligne commencent à 1, mais si l'un des deux paramètres est 0, un nombre négatif ou supérieur à la dimension du raster, la fonction retourne des coordonnées en dehors du raster, en supposant que la grille du raster est applicable en dehors de son étendue (même taille de pixel et skew). </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour des rasters sans obliquité (skew), fournir le numéro de ligne Y est suffisant. Pour des rasters avec obliquité, les coordonnées géo-référencées sont fonction de ST_ScaleY et ST_SkewY et de la ligne et colonne. Une erreur sera émise si seulement la ligne Y est fournie pour une raster avec obliquité.</p></td></tr></table></div><p class="changed">Changement : 2.1.0 Jusqu'à la version 2.0.x, cette fonction était appelée ST_Raster2WorldCoordY</p></div><div class="refsection" id="idm29158"><h2>Exemples</h2><pre class="programlisting">-- non-skewed raster providing row is sufficient
SELECT rid, ST_RasterToWorldCoordY(rast,1) As y1coord,
    ST_RasterToWorldCoordY(rast,3) As y2coord,
    ST_ScaleY(rast) As pixely
FROM dummy_rast;

 rid | y1coord |  y2coord  | pixely
-----+---------+-----------+--------
   1 |     0.5 |       6.5 |      3
   2 | 5793244 | 5793243.9 |  -0.05
                </pre><pre class="programlisting">-- for fun lets skew it
SELECT rid, ST_RasterToWorldCoordY(rast,1,1) As y1coord,
    ST_RasterToWorldCoordY(rast,2,3) As y2coord,
    ST_ScaleY(rast) As pixely
FROM (SELECT rid, ST_SetSkew(rast,0,100.5) As rast FROM dummy_rast) As foo;

 rid | y1coord |  y2coord  | pixely
-----+---------+-----------+--------
   1 |     0.5 |       107 |      3
   2 | 5793244 | 5793344.4 |  -0.05
                </pre></div><div class="refsection" id="idm29162"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a>, <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a>, <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a></p></div></div><div class="refentry" id="RT_ST_Rotation"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Rotation — Retourne l'angle de rotation du raster en radians.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_Rotation</strong>(</code>raster <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29181"><h2>Description</h2><p>Retourne la rotation uniforme du raster en radians. Si le raster n'a pas de rotation uniforme, retourne NaN. Voir <a class="link" href="https://fr.wikipedia.org/wiki/World_file" target="_top">World File</a> pour plus de détails.</p></div><div class="refsection" id="idm29185"><h2>Exemples</h2><pre class="programlisting">SELECT rid, ST_Rotation(ST_SetScale(ST_SetSkew(rast, sqrt(2)), sqrt(2))) as rot FROM dummy_rast;

 rid |        rot
-----+-------------------
   1 | 0.785398163397448
   2 | 0.785398163397448
                </pre></div><div class="refsection" id="idm29188"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_SetRotation" title="ST_SetRotation">ST_SetRotation</a>, <a class="xref" href="#RT_ST_SetScale" title="ST_SetScale">ST_SetScale</a>, <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a></p></div></div><div class="refentry" id="RT_ST_SkewX"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SkewX — Retourne l'obliquité géo-référencée X (paramètre de rotation).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_SkewX</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29206"><h2>Description</h2><p>Retourne l'obliquité géo-référencée X (paramètre de rotation). Voir <a class="link" href="https://fr.wikipedia.org/wiki/World_file" target="_top">World File</a> pour plus de détails.</p></div><div class="refsection" id="idm29210"><h2>Exemples</h2><pre class="programlisting">SELECT rid, ST_SkewX(rast) As skewx, ST_SkewY(rast) As skewy,
    ST_GeoReference(rast) as georef
FROM dummy_rast;

 rid | skewx | skewy |       georef
-----+-------+-------+--------------------
   1 |     0 |     0 | 2.0000000000
                     : 0.0000000000
                     : 0.0000000000
                     : 3.0000000000
                     : 0.5000000000
                     : 0.5000000000
                     :
   2 |     0 |     0 | 0.0500000000
                     : 0.0000000000
                     : 0.0000000000
                     : -0.0500000000
                     : 3427927.7500000000
                     : 5793244.0000000000
                </pre></div><div class="refsection" id="idm29213"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a>, <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a></p></div></div><div class="refentry" id="RT_ST_SkewY"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SkewY — Retourne l'obliquité géo-référencée Y (paramètre de rotation).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_SkewY</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29231"><h2>Description</h2><p>Retourne l'obliquité géo-référencée Y (paramètre de rotation). Voir <a class="link" href="https://fr.wikipedia.org/wiki/World_file" target="_top">World File</a> pour plus de détails.</p></div><div class="refsection" id="idm29235"><h2>Exemples</h2><pre class="programlisting">SELECT rid, ST_SkewX(rast) As skewx, ST_SkewY(rast) As skewy,
    ST_GeoReference(rast) as georef
FROM dummy_rast;

 rid | skewx | skewy |       georef
-----+-------+-------+--------------------
   1 |     0 |     0 | 2.0000000000
                     : 0.0000000000
                     : 0.0000000000
                     : 3.0000000000
                     : 0.5000000000
                     : 0.5000000000
                     :
   2 |     0 |     0 | 0.0500000000
                     : 0.0000000000
                     : 0.0000000000
                     : -0.0500000000
                     : 3427927.7500000000
                     : 5793244.0000000000
                </pre></div><div class="refsection" id="idm29238"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>, <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a></p></div></div><div class="refentry" id="RT_ST_SRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SRID — Retourne l'identifiant du système de référence spatial du raster, tel que défini dans la table spatial_ref_sys.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_SRID</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29256"><h2>Description</h2><p>Retourne l'identifiant du système de référence spatial du raster, tel que défini dans la table spatial_ref_sys.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>À partir de PostGIS 2.0+, le SRID d'un raster ou d'une géométrie non-géo-référencée est 0 au lieu de -1 précédemment.</p></td></tr></table></div></div><div class="refsection" id="idm29261"><h2>Exemples</h2><pre class="programlisting">SELECT ST_SRID(rast) As srid
FROM dummy_rast WHERE rid=1;

srid
----------------
0
                </pre></div><div class="refsection" id="idm29264"><h2>Voir aussi</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">Section 4.5, “Systèmes de référence spatiale”</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="RT_ST_Summary"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Summary — Retourne un résumé du contenu du raster sous forme de texte.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_Summary</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29281"><h2>Description</h2><p>Retourne un résumé du contenu du raster sous forme de texte.</p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm29285"><h2>Exemples</h2><pre class="programlisting">SELECT ST_Summary(
    ST_AddBand(
        ST_AddBand(
            ST_AddBand(
                ST_MakeEmptyRaster(10, 10, 0, 0, 1, -1, 0, 0, 0)
                , 1, '8BUI', 1, 0
            )
            , 2, '32BF', 0, -9999
        )
        , 3, '16BSI', 0, NULL
    )
);

                            st_summary
------------------------------------------------------------------
 Raster of 10x10 pixels has 3 bands and extent of BOX(0 -10,10 0)+
     band 1 of pixtype 8BUI is in-db with NODATA value of 0      +
     band 2 of pixtype 32BF is in-db with NODATA value of -9999  +
     band 3 of pixtype 16BSI is in-db with no NODATA value
(1 row)
                </pre></div><div class="refsection" id="idm29288"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a>, <a class="xref" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a>, <a class="xref" href="#ST_Summary" title="ST_Summary">ST_Summary</a> <a class="xref" href="#ST_Extent" title="ST_Extent">ST_Extent</a> </p></div></div><div class="refentry" id="RT_ST_UpperLeftX"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_UpperLeftX — Retourne la coordonnée X du coin supérieur gauche du raster projeté dans le système de référence spatial.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_UpperLeftX</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29307"><h2>Description</h2><p>Retourne la coordonnée X du coin supérieur gauche du raster projeté dans le système de référence spatial.</p></div><div class="refsection" id="idm29310"><h2>Exemples</h2><pre class="programlisting">SELECt rid, ST_UpperLeftX(rast) As ulx
FROM dummy_rast;

 rid |    ulx
-----+------------
   1 |        0.5
   2 | 3427927.75
                </pre></div><div class="refsection" id="idm29313"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_UpperLeftY" title="ST_UpperLeftY">ST_UpperLeftY</a>, <a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_Box3D" title="Box3D">Box3D</a></p></div></div><div class="refentry" id="RT_ST_UpperLeftY"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_UpperLeftY — Retourne la coordonnée Y du coin supérieur gauche du raster projeté dans le système de référence spatial.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_UpperLeftY</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29331"><h2>Description</h2><p>Retourne la coordonnée Y du coin supérieur gauche du raster projeté dans le système de référence spatial.</p></div><div class="refsection" id="idm29334"><h2>Exemples</h2><pre class="programlisting">SELECT rid, ST_UpperLeftY(rast) As uly
FROM dummy_rast;

 rid |   uly
-----+---------
   1 |     0.5
   2 | 5793244
                </pre></div><div class="refsection" id="idm29337"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_UpperLeftX" title="ST_UpperLeftX">ST_UpperLeftX</a>, <a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_Box3D" title="Box3D">Box3D</a></p></div></div><div class="refentry" id="RT_ST_Width"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Width — Retourne la largeur du raster en pixels.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_Width</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29355"><h2>Description</h2><p>Retourne la largeur du raster en pixels.</p></div><div class="refsection" id="idm29358"><h2>Exemples</h2><pre class="programlisting">SELECT ST_Width(rast) As rastwidth
FROM dummy_rast WHERE rid=1;

rastwidth
----------------
10
                </pre></div><div class="refsection" id="idm29361"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Height" title="ST_Height">ST_Height</a></p></div></div><div class="refentry" id="RT_ST_WorldToRasterCoord"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_WorldToRasterCoord — Retourne le coin supérieur gauche comme colonne et ligne, en fonction de coordonnées géométriques X et Y (longitude et latitude) ou un point géométrique dans le système de référence spatial du raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">record <strong class="fsfunc">ST_WorldToRasterCoord</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">pt</var><code>)</code>;</p><p><code class="funcdef">record <strong class="fsfunc">ST_WorldToRasterCoord</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">longitude</var>, double precision  <var class="pdparam">latitude</var><code>)</code>;</p></div></div><div class="refsection" id="idm29392"><h2>Description</h2><p>Retourne le coin supérieur gauche comme colonne et ligne, en fonction de coordonnées géométriques X et Y (longitude et latitude) ou un point géométrique. Cette fonction fonctionne aussi bien si X et Y ou le point sont dans l'étendue du raster ou non. Les coordonnées géométriques X et Y ou les coordonnées du point doivent être dans le système de référence spatial du raster. </p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm29396"><h2>Exemples</h2><pre class="programlisting">SELECT
    rid,
    (ST_WorldToRasterCoord(rast,3427927.8,20.5)).*,
    (ST_WorldToRasterCoord(rast,ST_GeomFromText('POINT(3427927.8 20.5)',ST_SRID(rast)))).*
FROM dummy_rast;

 rid | columnx |   rowy    | columnx |   rowy
-----+---------+-----------+---------+-----------
   1 | 1713964 |         7 | 1713964 |         7
   2 |       2 | 115864471 |       2 | 115864471
                </pre></div><div class="refsection" id="idm29399"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_WorldToRasterCoordX" title="ST_WorldToRasterCoordX">ST_WorldToRasterCoordX</a>, <a class="xref" href="#RT_ST_WorldToRasterCoordY" title="ST_WorldToRasterCoordY">ST_WorldToRasterCoordY</a>, <a class="xref" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a>, <a class="xref" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a> </p></div></div><div class="refentry" id="RT_ST_WorldToRasterCoordX"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_WorldToRasterCoordX — Retourne la colonne dans le raster du point géométrique (pt) ou des coordonnées X et Y (xw, yw) exprimés dans le système de référence spatial du raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_WorldToRasterCoordX</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">pt</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">ST_WorldToRasterCoordX</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">xw</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">ST_WorldToRasterCoordX</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">xw</var>, double precision  <var class="pdparam">yw</var><code>)</code>;</p></div></div><div class="refsection" id="idm29443"><h2>Description</h2><p>Retourne la colonne dans le raster du point géométrique (pt) ou des coordonnées X et Y (xw, yw). Un point, ou le couple (xw, yw) sont requis pour un raster avec obliquité (skew). Sinon, xw est suffisant. Les coordonnées sont exprimées dans le système de référence spatial du raster.</p><p class="changed">Changement : 2.1.0 Dans les versions précédentes, cette fonctionne était appelée ST_World2RasterCoordX</p></div><div class="refsection" id="idm29447"><h2>Exemples</h2><pre class="programlisting">SELECT rid, ST_WorldToRasterCoordX(rast,3427927.8) As xcoord,
        ST_WorldToRasterCoordX(rast,3427927.8,20.5) As xcoord_xwyw,
        ST_WorldToRasterCoordX(rast,ST_GeomFromText('POINT(3427927.8 20.5)',ST_SRID(rast))) As ptxcoord
FROM dummy_rast;

 rid | xcoord  |  xcoord_xwyw   | ptxcoord
-----+---------+---------+----------
   1 | 1713964 | 1713964 |  1713964
   2 |       1 |       1 |        1
                </pre></div><div class="refsection" id="idm29450"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a>, <a class="xref" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a> </p></div></div><div class="refentry" id="RT_ST_WorldToRasterCoordY"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_WorldToRasterCoordY — Retourne la ligne dans le raster du point géométrique (pt) ou des coordonnées X et Y (xw, yw) exprimés dans le système de référence spatial du raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_WorldToRasterCoordY</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">pt</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">ST_WorldToRasterCoordY</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">xw</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">ST_WorldToRasterCoordY</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">xw</var>, double precision  <var class="pdparam">yw</var><code>)</code>;</p></div></div><div class="refsection" id="idm29492"><h2>Description</h2><p>Retourne la ligne dans le raster du point géométrique (pt) ou des coordonnées X et Y (xw, yw). Un point, ou le couple (xw, yw) sont requis pour un raster avec obliquité (skew). Sinon, xw est suffisant. Les coordonnées sont exprimées dans le système de référence spatial du raster.</p><p class="changed">Changement : 2.1.0 Dans les versions précédentes, cette fonctionne était appelée ST_World2RasterCoordY</p></div><div class="refsection" id="idm29496"><h2>Exemples</h2><pre class="programlisting">SELECT rid, ST_WorldToRasterCoordY(rast,20.5) As ycoord,
        ST_WorldToRasterCoordY(rast,3427927.8,20.5) As ycoord_xwyw,
        ST_WorldToRasterCoordY(rast,ST_GeomFromText('POINT(3427927.8 20.5)',ST_SRID(rast))) As ptycoord
FROM dummy_rast;

 rid |  ycoord   | ycoord_xwyw | ptycoord
-----+-----------+-------------+-----------
   1 |         7 |           7 |         7
   2 | 115864471 |   115864471 | 115864471
                </pre></div><div class="refsection" id="idm29499"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a>, <a class="xref" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div></section><section class="section" id="RasterBand_Accessors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.5. Fonctions d'accès aux bandes raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_BandMetaData">ST_BandMetaData</a></span><span class="refpurpose"> — Retourne les méta-données de base d'une bande raster spécifique. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</span></li><li><span class="refentrytitle"><a href="#RT_ST_BandNoDataValue">ST_BandNoDataValue</a></span><span class="refpurpose"> — Retourne la valeur qui représente l'absence de valeur (nodata) pour cette bande. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</span></li><li><span class="refentrytitle"><a href="#RT_ST_BandIsNoData">ST_BandIsNoData</a></span><span class="refpurpose"> — Retourne true si la bande ne contient que des valeurs nodata.</span></li><li><span class="refentrytitle"><a href="#RT_ST_BandPath">ST_BandPath</a></span><span class="refpurpose"> — Retourne le chemin système du fichier d'une bande stockée sur le système de fichier. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</span></li><li><span class="refentrytitle"><a href="#RT_ST_BandFileSize">ST_BandFileSize</a></span><span class="refpurpose"> — Retourne la taille du fichier d'une bande stockée sur le système de fichier. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</span></li><li><span class="refentrytitle"><a href="#RT_ST_BandFileTimestamp">ST_BandFileTimestamp</a></span><span class="refpurpose"> — Retourne le timestamp du fichier d'une bande stockée sur le système de fichier. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</span></li><li><span class="refentrytitle"><a href="#RT_ST_BandPixelType">ST_BandPixelType</a></span><span class="refpurpose"> — Retourne le type de pixel d'une bande. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</span></li><li><span class="refentrytitle"><a href="#ST_MinPossibleValue">ST_MinPossibleValue</a></span><span class="refpurpose"> — Retourne la valeur minimale supportée par le type de pixel pixeltype.</span></li><li><span class="refentrytitle"><a href="#RT_ST_HasNoBand">ST_HasNoBand</a></span><span class="refpurpose"> — Retourne true si le raster n'a pas la bande spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</span></li></ul></div><div class="refentry" id="RT_ST_BandMetaData"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BandMetaData — Retourne les méta-données de base d'une bande raster spécifique. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">(1) record <strong class="fsfunc">ST_BandMetaData</strong>(</code>raster <var class="pdparam">rast</var>, integer <var class="pdparam">band=1</var><code>)</code>;</p><p><code class="funcdef">(2) record <strong class="fsfunc">ST_BandMetaData</strong>(</code>raster <var class="pdparam">rast</var>, integer[] <var class="pdparam">band</var><code>)</code>;</p></div></div><div class="refsection" id="idm29531"><h2>Description</h2><p>Retourne les méta-données de base d'une bande raster spécifique. Les colonnes retournées sont : pixeltype, nodatavalue, isoutdb, path, outdbbandnum, filesize, filetimestamp. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si le raster ne contient aucune bande, une erreur est émise. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si la bande n'a pas de valeur NODATA, nodatavalue est NULL. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si isoutdb est False, alors path, outdbbandnum, filesize et filetimestamp sont NULL. Si l'accès outdb est désactivé, filesize et filetimestamp sont également NULL. </p></td></tr></table></div><p class="enhanced">Amélioration : 2.5.0 ajout de <span class="emphasis"><em>outdbbandnum</em></span>, <span class="emphasis"><em>filesize</em></span> et <span class="emphasis"><em>filetimestamp</em></span> pour les rasters outdb.</p></div><div class="refsection" id="idm29544"><h2>Exemples : Variante 1</h2><pre class="programlisting">SELECT
    rid,
    (foo.md).*
FROM (
    SELECT
        rid,
        ST_BandMetaData(rast, 1) AS md
    FROM dummy_rast
    WHERE rid=2
) As foo;

 rid | pixeltype | nodatavalue | isoutdb | path | outdbbandnum
-----+-----------+---- --------+---------+------+--------------
   2 | 8BUI      |           0 | f       |      |
                </pre></div><div class="refsection" id="idm29547"><h2>Exemples : Variante 2</h2><pre class="programlisting">WITH foo AS (
    SELECT
        ST_AddBand(NULL::raster, '/home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif', NULL::int[]) AS rast
)
SELECT
    *
FROM ST_BandMetadata(
    (SELECT rast FROM foo),
    ARRAY[1,3,2]::int[]
);

 bandnum | pixeltype | nodatavalue | isoutdb |                                      path                                      | outdbbandnum  | filesize | filetimestamp |
---------+-----------+-------------+---------+--------------------------------------------------------------------------------+---------------+----------+---------------+-
       1 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif      |            1  |    12345 |    1521807257 |
       3 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif      |            3  |    12345 |    1521807257 |
       2 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif      |            2  |    12345 |    1521807257 |
                </pre></div><div class="refsection" id="idm29550"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a></p></div></div><div class="refentry" id="RT_ST_BandNoDataValue"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BandNoDataValue — Retourne la valeur qui représente l'absence de valeur (nodata) pour cette bande. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">ST_BandNoDataValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm29570"><h2>Description</h2><p>Retourne la valeur qui représente l'absence de valeur (nodata) pour cette bande</p></div><div class="refsection" id="idm29573"><h2>Exemples</h2><pre class="programlisting">SELECT ST_BandNoDataValue(rast,1) As bnval1,
    ST_BandNoDataValue(rast,2) As bnval2, ST_BandNoDataValue(rast,3) As bnval3
FROM dummy_rast
WHERE rid = 2;

 bnval1 | bnval2 | bnval3
--------+--------+--------
      0 |      0 |      0
                </pre></div><div class="refsection" id="idm29576"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a></p></div></div><div class="refentry" id="RT_ST_BandIsNoData"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BandIsNoData — Retourne true si la bande ne contient que des valeurs nodata.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_BandIsNoData</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, boolean  <var class="pdparam">forceChecking=true</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_BandIsNoData</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">forceChecking=true</var><code>)</code>;</p></div></div><div class="refsection" id="idm29607"><h2>Description</h2><p>Retourne true si la bande ne contient que des valeurs nodata. Si aucune bande n'est spécifiée, la bande 1 est utilisée. Si le dernier paramètre est TRUE, la bande entière est vérifiée pixel par pixel. Sinon, la fonction retourne simplement la valeur du flag isnodata pour cette bande. La valeur par défaut pour ce paramètre est FALSE.</p><p class="availability">Disponibilité : 2.0.0</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si le flag est obsolète (c'est à dire si le résultat est différent selon qu'on utilise TRUE ou non comme dernier paramètre), vous devriez mettre à jour le raster pour mettre à jour ce flag, en utilisant ST_SetBandIsNodata(), ou ST_SetBandNodataValue() avec TRUE en dernier paramètre. Voir <a class="xref" href="#RT_ST_SetBandIsNoData" title="ST_SetBandIsNoData">ST_SetBandIsNoData</a>.</p></td></tr></table></div></div><div class="refsection" id="idm29614"><h2>Exemples</h2><pre class="programlisting">-- Create dummy table with one raster column
create table dummy_rast (rid integer, rast raster);

-- Add raster with two bands, one pixel/band. In the first band, nodatavalue = pixel value = 3.
-- In the second band, nodatavalue = 13, pixel value = 4
insert into dummy_rast values(1,
(
'01' -- little endian (uint8 ndr)
||
'0000' -- version (uint16 0)
||
'0200' -- nBands (uint16 0)
||
'17263529ED684A3F' -- scaleX (float64 0.000805965234044584)
||
'F9253529ED684ABF' -- scaleY (float64 -0.00080596523404458)
||
'1C9F33CE69E352C0' -- ipX (float64 -75.5533328537098)
||
'718F0E9A27A44840' -- ipY (float64 49.2824585505576)
||
'ED50EB853EC32B3F' -- skewX (float64 0.000211812383858707)
||
'7550EB853EC32B3F' -- skewY (float64 0.000211812383858704)
||
'E6100000' -- SRID (int32 4326)
||
'0100' -- width (uint16 1)
||
'0100' -- height (uint16 1)
||
'6' -- hasnodatavalue and isnodata value set to true.
||
'2' -- first band type (4BUI)
||
'03' -- novalue==3
||
'03' -- pixel(0,0)==3 (same that nodata)
||
'0' -- hasnodatavalue set to false
||
'5' -- second band type (16BSI)
||
'0D00' -- novalue==13
||
'0400' -- pixel(0,0)==4
)::raster
);

select st_bandisnodata(rast, 1) from dummy_rast where rid = 1; -- Expected true
select st_bandisnodata(rast, 2) from dummy_rast where rid = 1; -- Expected false
            </pre></div><div class="refsection" id="idm29617"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_BandNoDataValue" title="ST_BandNoDataValue">ST_BandNoDataValue</a>, <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a>, <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a>, <a class="xref" href="#RT_ST_SetBandIsNoData" title="ST_SetBandIsNoData">ST_SetBandIsNoData</a></p></div></div><div class="refentry" id="RT_ST_BandPath"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BandPath — Retourne le chemin système du fichier d'une bande stockée sur le système de fichier. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_BandPath</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm29639"><h2>Description</h2><p>Retourne le chemin système du fichier d'une bande. Renvoie une erreur si la bande n'est pas outofdb.</p></div><div class="refsection" id="idm29642"><h2>Exemples</h2><pre class="programlisting">
                    </pre></div><div class="refsection" id="idm29645"><h2>Voir aussi</h2><p/></div></div><div class="refentry" id="RT_ST_BandFileSize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BandFileSize — Retourne la taille du fichier d'une bande stockée sur le système de fichier. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bigint <strong class="fsfunc">ST_BandFileSize</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm29663"><h2>Description</h2><p>Retourne la taille du fichier d'une bande stockée sur le système de fichier. Renvoie une erreur si la bande n'est pas outofdb, ou si l'accès outdb est désactivé.</p><p>Cette fonction est généralement utilisée conjointement à ST_BandPath() et ST_BandFileTimestamp(), pour qu'un client puisse déterminer le nom du fichier d'un raster outdb, tel que vu par le serveur.</p><p class="availability">Disponibilité : 2.5.0</p></div><div class="refsection" id="idm29668"><h2>Exemples</h2><pre class="programlisting">SELECT ST_BandFileSize(rast,1) FROM dummy_rast WHERE rid = 1;

 st_bandfilesize
-----------------
          240574
                </pre></div></div><div class="refentry" id="RT_ST_BandFileTimestamp"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BandFileTimestamp — Retourne le timestamp du fichier d'une bande stockée sur le système de fichier. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bigint <strong class="fsfunc">ST_BandFileTimestamp</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm29686"><h2>Description</h2><p>Retourne le timestamp (nombre de secondes depuis Jan 1st 1970 00:00:00 UTC) du fichier d'une bande stockée sur le système de fichier. Renvoie une erreur si la bande n'est pas outofdb, ou si l'accès outdb est désactivé.</p><p>Cette fonction est généralement utilisée conjointement à ST_BandPath() et ST_BandFileSize(), pour qu'un client puisse déterminer le nom du fichier d'un raster outdb, tel que vu par le serveur.</p><p class="availability">Disponibilité : 2.5.0</p></div><div class="refsection" id="idm29691"><h2>Exemples</h2><pre class="programlisting">SELECT ST_BandFileTimestamp(rast,1) FROM dummy_rast WHERE rid = 1;

 st_bandfiletimestamp
----------------------
           1521807257
                </pre></div></div><div class="refentry" id="RT_ST_BandPixelType"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BandPixelType — Retourne le type de pixel d'une bande. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_BandPixelType</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm29709"><h2>Description</h2><p>Retourne le nom décrivant le type de données et la taille des valeurs stockées pour chaque pixel de la bande spécifiée.</p><p>Il existe 11 types de pixels. Les types de pixels supportés sont : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>1BB - booléen 1-bit</p></li><li class="listitem"><p>2BUI - entier non signé 2-bits</p></li><li class="listitem"><p>4BUI - entier non signé 4-bits </p></li><li class="listitem"><p>8BSI - entier signé 8-bits </p></li><li class="listitem"><p>8BUI - entier non signé 8-bits</p></li><li class="listitem"><p>16BSI - entier signé 16-bits</p></li><li class="listitem"><p>16BUI - entier non signé 16-bits</p></li><li class="listitem"><p>32BSI - entier signé 32-bits</p></li><li class="listitem"><p>32BUI - entier non signé 32-bits</p></li><li class="listitem"><p>32BF - flottant 32-bits</p></li><li class="listitem"><p>64BF - flottant 64-bits</p></li></ul></div><p>
                </p></div><div class="refsection" id="idm29736"><h2>Exemples</h2><pre class="programlisting">SELECT ST_BandPixelType(rast,1) As btype1,
    ST_BandPixelType(rast,2) As btype2, ST_BandPixelType(rast,3) As btype3
FROM dummy_rast
WHERE rid = 2;

 btype1 | btype2 | btype3
--------+--------+--------
 8BUI   | 8BUI   | 8BUI
                </pre></div><div class="refsection" id="idm29739"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a></p></div></div><div class="refentry" id="ST_MinPossibleValue"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinPossibleValue — Retourne la valeur minimale supportée par le type de pixel pixeltype.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_MinPossibleValue</strong>(</code>text  <var class="pdparam">pixeltype</var><code>)</code>;</p></div></div><div class="refsection" id="idm29755"><h2>Description</h2><p>Retourne la valeur minimale supportée par le type de pixel pixeltype.</p></div><div class="refsection" id="idm29758"><h2>Exemples</h2><pre class="programlisting">SELECT ST_MinPossibleValue('16BSI');

 st_minpossiblevalue
---------------------
              -32768


SELECT ST_MinPossibleValue('8BUI');

 st_minpossiblevalue
---------------------
                   0
                </pre></div><div class="refsection" id="idm29761"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a></p></div></div><div class="refentry" id="RT_ST_HasNoBand"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_HasNoBand — Retourne true si le raster n'a pas la bande spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_HasNoBand</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm29780"><h2>Description</h2><p>Retourne true si le raster n'a pas la bande spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm29784"><h2>Exemples</h2><pre class="programlisting">SELECT rid, ST_HasNoBand(rast) As hb1, ST_HasNoBand(rast,2) as hb2,
ST_HasNoBand(rast,4) as hb4, ST_NumBands(rast) As numbands
FROM dummy_rast;

rid | hb1 | hb2 | hb4 | numbands
-----+-----+-----+-----+----------
1 | t   | t   | t   |        0
2 | f   | f   | t   |        3
            </pre></div><div class="refsection" id="idm29787"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a></p></div></div></section><section class="section" id="Raster_Pixel_Accessors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.6. Fonctions d'accès et de modifications des pixels raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_PixelAsPolygon">ST_PixelAsPolygon</a></span><span class="refpurpose"> — Retourne la géométrie polygonale qui délimite le pixel pour une ligne et colonne spécifiées.</span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelAsPolygons">ST_PixelAsPolygons</a></span><span class="refpurpose"> — Retourne la géométrie polygonale qui délimite chaque pixel de la bande raster, avec la valeur et les coordonnées raster X et Y de chaque pixel.</span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelAsPoint">ST_PixelAsPoint</a></span><span class="refpurpose"> — Retourne le point géométrique du coin supérieur gauche du pixel. </span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelAsPoints">ST_PixelAsPoints</a></span><span class="refpurpose"> — Retourne un point géométrique pour chaque pixel de la bande raster, avec sa valeur et ses coordonnées raster X et Y. Les coordonnées du points sont ceux du coin supérieur gauche du pixel. </span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelAsCentroid">ST_PixelAsCentroid</a></span><span class="refpurpose"> — Retourne le centroïde (point géométrique) de la zone représentée par un pixel. </span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelAsCentroids">ST_PixelAsCentroids</a></span><span class="refpurpose"> — Retourne le centroïde (point géométrique) pour chaque pixel de la bande raster, avec sa valeur et les coordonnées raster X et Y. Le point géométrique est le centroïde de la zone représentée par un pixel. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Value">ST_Value</a></span><span class="refpurpose"> — Retourne la valeur d'une bande raster spécifiée au pixel donné par columnx, rowy, ou à un point géométrique spécifié. Le numéro de bande démarre à 1, et la bande 1 est utilisée si non spécifié. Si <code class="varname">exclude_nodata_value</code> vaut false, tous les pixels y compris ceux ayant la valeur <code class="varname">nodata</code> sont considérés comme intersectés et leur valeur sera retournée. Si <code class="varname">exclude_nodata_value</code> n'est pas spécifié, la valeur est lue depuis les méta-données du raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_NearestValue">ST_NearestValue</a></span><span class="refpurpose"> — Retourne la valeur la plus proche différent de <code class="varname">NODATA</code> pour une bande raster spécifiée au pixel donné par columnx et rowy, ou à un point géométrique spécifié dans le même système de référence spatial que le raster. </span></li><li><span class="refentrytitle"><a href="#RT_ST_SetZ">ST_SetZ</a></span><span class="refpurpose"> — Retourne une géométrie avec les mêmes coordonnées X/Y que la géométrie d'entrée, et avec la coordonnée Z copiée depuis les valeurs du raster selon l'algorithme d'interpolation en paramètre.</span></li><li><span class="refentrytitle"><a href="#RT_ST_SetM">ST_SetM</a></span><span class="refpurpose"> — Retourne une géométrie avec les mêmes coordonnées X/Y que la géométrie d'entrée, et avec la coordonnée M copiée depuis les valeurs du raster selon l'algorithme d'interpolation en paramètre.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Neighborhood">ST_Neighborhood</a></span><span class="refpurpose"> — Retourne un tableau 2-D de double avec les valeurs non <code class="varname">NODATA</code> autour du pixel de la bande spécifiée, aux coordonnées spécifiées par columnX &amp; rowY ou par un point géométrique dans le même système de référence spatial que le raster. </span></li><li><span class="refentrytitle"><a href="#RT_ST_SetValue">ST_SetValue</a></span><span class="refpurpose"> — Retourne un nouveau raster en modifiant la valeur du pixel pour la bande spécifiée et aux coordonnées columnx, rowy, ou pour tous les pixels qui intersectent une géométrie spécifiée. Le numéro de bande démarre à 1, et la bande 1 est utilisée si non spécifié.</span></li><li><span class="refentrytitle"><a href="#RT_ST_SetValues">ST_SetValues</a></span><span class="refpurpose"> — Retourne un nouveau raster en modifiant les valeurs de certains pixels d'une bande spécifiée.</span></li><li><span class="refentrytitle"><a href="#RT_ST_DumpValues">ST_DumpValues</a></span><span class="refpurpose"> — Retourne les valeurs d'une bande raster spécifiée, sous forme d'un tableau à deux dimensions. </span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelOfValue">ST_PixelOfValue</a></span><span class="refpurpose"> — Retourne les coordonnées columnx, rowy du pixel dont la valeur est égale à la valeur recherchée. </span></li></ul></div><div class="refentry" id="RT_ST_PixelAsPolygon"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelAsPolygon — Retourne la géométrie polygonale qui délimite le pixel pour une ligne et colonne spécifiées.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PixelAsPolygon</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var><code>)</code>;</p></div></div><div class="refsection" id="idm29811"><h2>Description</h2><p>Retourne la géométrie polygonale qui délimite le pixel pour une ligne et colonne spécifiées.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm29815"><h2>Exemples</h2><pre class="programlisting">-- get raster pixel polygon
SELECT i,j, ST_AsText(ST_PixelAsPolygon(foo.rast, i,j)) As b1pgeom
FROM dummy_rast As foo
    CROSS JOIN generate_series(1,2) As i
    CROSS JOIN generate_series(1,1) As j
WHERE rid=2;

 i | j |                                                    b1pgeom
---+---+-----------------------------------------------------------------------------
 1 | 1 | POLYGON((3427927.75 5793244,3427927.8 5793244,3427927.8 5793243.95,...
 2 | 1 | POLYGON((3427927.8 5793244,3427927.85 5793244,3427927.85 5793243.95, ..
  </pre></div><div class="refsection" id="idm29818"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a>, <a class="xref" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a>, <a class="xref" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a>, <a class="xref" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a>, <a class="xref" href="#RT_ST_Intersection" title="ST_Intersection">ST_Intersection</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a> </p></div></div><div class="refentry" id="RT_ST_PixelAsPolygons"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelAsPolygons — Retourne la géométrie polygonale qui délimite chaque pixel de la bande raster, avec la valeur et les coordonnées raster X et Y de chaque pixel.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_PixelAsPolygons</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band=1</var>, boolean  <var class="pdparam">exclude_nodata_value=TRUE</var><code>)</code>;</p></div></div><div class="refsection" id="idm29847"><h2>Description</h2><p>Retourne la géométrie polygonale qui délimite chaque pixel de la bande raster, avec la valeur (double précision) et les coordonnées raster X et Y (entiers) de chaque pixel.</p><p>Format de l'enregistrement de retour : <em class="parameter"><code>geom</code></em> <a class="xref" href="#geometry" title="geometry">geometry</a>, <em class="parameter"><code>val</code></em> double precision, <em class="parameter"><code>x</code></em> entier, <em class="parameter"><code>y</code></em> entier. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si <em class="parameter"><code>exclude_nodata_value</code></em> = TRUE, seuls les pixels qui ne sont pas NODATA sont retournés. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_PixelAsPolygons retourne un polygone pour chaque pixel. Ce comportement est différent de ST_DumpAsPolygons, où chaque géométrie représente un ou plusieurs pixels de même valeur. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p><p class="enhanced">Amélioration : 2.1.0 ajout du paramètre optionnel exclude_nodata_value.</p><p class="changed">Changement : 2.1.1 Changement du comportement de behavior of exclude_nodata_value.</p></div><div class="refsection" id="idm29864"><h2>Exemples</h2><pre class="programlisting">-- get raster pixel polygon
SELECT (gv).x, (gv).y, (gv).val, ST_AsText((gv).geom) geom
FROM (SELECT ST_PixelAsPolygons(
                 ST_SetValue(ST_SetValue(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 0.001, -0.001, 0.001, 0.001, 4269),
                                                    '8BUI'::text, 1, 0),
                                         2, 2, 10),
                             1, 1, NULL)
) gv
) foo;

 x | y | val |                geom
---+---+-----------------------------------------------------------------------------
 1 | 1 |     | POLYGON((0 0,0.001 0.001,0.002 0,0.001 -0.001,0 0))
 1 | 2 |   1 | POLYGON((0.001 -0.001,0.002 0,0.003 -0.001,0.002 -0.002,0.001 -0.001))
 2 | 1 |   1 | POLYGON((0.001 0.001,0.002 0.002,0.003 0.001,0.002 0,0.001 0.001))
 2 | 2 |  10 | POLYGON((0.002 0,0.003 0.001,0.004 0,0.003 -0.001,0.002 0))
  </pre></div><div class="refsection" id="idm29867"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a>, <a class="xref" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a>, <a class="xref" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a>, <a class="xref" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a>, <a class="xref" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a> </p></div></div><div class="refentry" id="RT_ST_PixelAsPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelAsPoint — Retourne le point géométrique du coin supérieur gauche du pixel. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PixelAsPoint</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var><code>)</code>;</p></div></div><div class="refsection" id="idm29895"><h2>Description</h2><p>Retourne le point géométrique du coin supérieur gauche du pixel.</p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm29899"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_PixelAsPoint(rast, 1, 1)) FROM dummy_rast WHERE rid = 1;

   st_astext
----------------
 POINT(0.5 0.5)
                </pre></div><div class="refsection" id="idm29902"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a>, <a class="xref" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a>, <a class="xref" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a>, <a class="xref" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a> </p></div></div><div class="refentry" id="RT_ST_PixelAsPoints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelAsPoints — Retourne un point géométrique pour chaque pixel de la bande raster, avec sa valeur et ses coordonnées raster X et Y. Les coordonnées du points sont ceux du coin supérieur gauche du pixel. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_PixelAsPoints</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band=1</var>, boolean  <var class="pdparam">exclude_nodata_value=TRUE</var><code>)</code>;</p></div></div><div class="refsection" id="idm29929"><h2>Description</h2><p>Retourne un point géométrique pour chaque pixel de la bande raster, avec sa valeur et ses coordonnées raster X et Y. Les coordonnées du points sont ceux du coin supérieur gauche du pixel. </p><p>Format de l'enregistrement de retour : <em class="parameter"><code>geom</code></em> <a class="xref" href="#geometry" title="geometry">geometry</a>, <em class="parameter"><code>val</code></em> double precision, <em class="parameter"><code>x</code></em> entier, <em class="parameter"><code>y</code></em> entier. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si <em class="parameter"><code>exclude_nodata_value</code></em> = TRUE, seuls les pixels qui ne sont pas NODATA sont retournés. </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p><p class="changed">Changement : 2.1.1 Changement du comportement de behavior of exclude_nodata_value.</p></div><div class="refsection" id="idm29943"><h2>Exemples</h2><pre class="programlisting">SELECT x, y, val, ST_AsText(geom) FROM (SELECT (ST_PixelAsPoints(rast, 1)).* FROM dummy_rast WHERE rid = 2) foo;

 x | y | val |          st_astext
---+---+-----+------------------------------
 1 | 1 | 253 | POINT(3427927.75 5793244)
 2 | 1 | 254 | POINT(3427927.8 5793244)
 3 | 1 | 253 | POINT(3427927.85 5793244)
 4 | 1 | 254 | POINT(3427927.9 5793244)
 5 | 1 | 254 | POINT(3427927.95 5793244)
 1 | 2 | 253 | POINT(3427927.75 5793243.95)
 2 | 2 | 254 | POINT(3427927.8 5793243.95)
 3 | 2 | 254 | POINT(3427927.85 5793243.95)
 4 | 2 | 253 | POINT(3427927.9 5793243.95)
 5 | 2 | 249 | POINT(3427927.95 5793243.95)
 1 | 3 | 250 | POINT(3427927.75 5793243.9)
 2 | 3 | 254 | POINT(3427927.8 5793243.9)
 3 | 3 | 254 | POINT(3427927.85 5793243.9)
 4 | 3 | 252 | POINT(3427927.9 5793243.9)
 5 | 3 | 249 | POINT(3427927.95 5793243.9)
 1 | 4 | 251 | POINT(3427927.75 5793243.85)
 2 | 4 | 253 | POINT(3427927.8 5793243.85)
 3 | 4 | 254 | POINT(3427927.85 5793243.85)
 4 | 4 | 254 | POINT(3427927.9 5793243.85)
 5 | 4 | 253 | POINT(3427927.95 5793243.85)
 1 | 5 | 252 | POINT(3427927.75 5793243.8)
 2 | 5 | 250 | POINT(3427927.8 5793243.8)
 3 | 5 | 254 | POINT(3427927.85 5793243.8)
 4 | 5 | 254 | POINT(3427927.9 5793243.8)
 5 | 5 | 254 | POINT(3427927.95 5793243.8)
                </pre></div><div class="refsection" id="idm29946"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a>, <a class="xref" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a>, <a class="xref" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a>, <a class="xref" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a> </p></div></div><div class="refentry" id="RT_ST_PixelAsCentroid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelAsCentroid — Retourne le centroïde (point géométrique) de la zone représentée par un pixel. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PixelAsCentroid</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">x</var>, integer  <var class="pdparam">y</var><code>)</code>;</p></div></div><div class="refsection" id="idm29973"><h2>Description</h2><p>Retourne le centroïde (point géométrique) de la zone représentée par un pixel.</p><p class="enhanced">Amélioration : 3.2.0 Plus rapide, désormais implémenté en C.</p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm29978"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsText(ST_PixelAsCentroid(rast, 1, 1)) FROM dummy_rast WHERE rid = 1;

  st_astext
--------------
 POINT(1.5 2)
                </pre></div><div class="refsection" id="idm29981"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a>, <a class="xref" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a>, <a class="xref" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a>, <a class="xref" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a> </p></div></div><div class="refentry" id="RT_ST_PixelAsCentroids"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelAsCentroids — Retourne le centroïde (point géométrique) pour chaque pixel de la bande raster, avec sa valeur et les coordonnées raster X et Y. Le point géométrique est le centroïde de la zone représentée par un pixel. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_PixelAsCentroids</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band=1</var>, boolean  <var class="pdparam">exclude_nodata_value=TRUE</var><code>)</code>;</p></div></div><div class="refsection" id="idm30008"><h2>Description</h2><p>Retourne le centroïde (point géométrique) pour chaque pixel de la bande raster, avec sa valeur et les coordonnées raster X et Y. Le point géométrique est le centroïde de la zone représentée par un pixel. </p><p>Format de l'enregistrement de retour : <em class="parameter"><code>geom</code></em> <a class="xref" href="#geometry" title="geometry">geometry</a>, <em class="parameter"><code>val</code></em> double precision, <em class="parameter"><code>x</code></em> entier, <em class="parameter"><code>y</code></em> entier. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si <em class="parameter"><code>exclude_nodata_value</code></em> = TRUE, seuls les pixels qui ne sont pas NODATA sont retournés. </p></td></tr></table></div><p class="enhanced">Amélioration : 3.2.0 Plus rapide, désormais implémenté en C.</p><p class="changed">Changement : 2.1.1 Changement du comportement de behavior of exclude_nodata_value.</p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm30023"><h2>Exemples</h2><pre class="programlisting">--LATERAL syntax requires PostgreSQL 9.3+
SELECT x, y, val, ST_AsText(geom)
    FROM (SELECT dp.* FROM dummy_rast, LATERAL ST_PixelAsCentroids(rast, 1) AS dp WHERE rid = 2) foo;
 x | y | val |           st_astext
---+---+-----+--------------------------------
 1 | 1 | 253 | POINT(3427927.775 5793243.975)
 2 | 1 | 254 | POINT(3427927.825 5793243.975)
 3 | 1 | 253 | POINT(3427927.875 5793243.975)
 4 | 1 | 254 | POINT(3427927.925 5793243.975)
 5 | 1 | 254 | POINT(3427927.975 5793243.975)
 1 | 2 | 253 | POINT(3427927.775 5793243.925)
 2 | 2 | 254 | POINT(3427927.825 5793243.925)
 3 | 2 | 254 | POINT(3427927.875 5793243.925)
 4 | 2 | 253 | POINT(3427927.925 5793243.925)
 5 | 2 | 249 | POINT(3427927.975 5793243.925)
 1 | 3 | 250 | POINT(3427927.775 5793243.875)
 2 | 3 | 254 | POINT(3427927.825 5793243.875)
 3 | 3 | 254 | POINT(3427927.875 5793243.875)
 4 | 3 | 252 | POINT(3427927.925 5793243.875)
 5 | 3 | 249 | POINT(3427927.975 5793243.875)
 1 | 4 | 251 | POINT(3427927.775 5793243.825)
 2 | 4 | 253 | POINT(3427927.825 5793243.825)
 3 | 4 | 254 | POINT(3427927.875 5793243.825)
 4 | 4 | 254 | POINT(3427927.925 5793243.825)
 5 | 4 | 253 | POINT(3427927.975 5793243.825)
 1 | 5 | 252 | POINT(3427927.775 5793243.775)
 2 | 5 | 250 | POINT(3427927.825 5793243.775)
 3 | 5 | 254 | POINT(3427927.875 5793243.775)
 4 | 5 | 254 | POINT(3427927.925 5793243.775)
 5 | 5 | 254 | POINT(3427927.975 5793243.775)
                </pre></div><div class="refsection" id="idm30026"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a>, <a class="xref" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a>, <a class="xref" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a>, <a class="xref" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a> </p></div></div><div class="refentry" id="RT_ST_Value"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Value — Retourne la valeur d'une bande raster spécifiée au pixel donné par columnx, rowy, ou à un point géométrique spécifié. Le numéro de bande démarre à 1, et la bande 1 est utilisée si non spécifié. Si <code class="varname">exclude_nodata_value</code> vaut false, tous les pixels y compris ceux ayant la valeur <code class="varname">nodata</code> sont considérés comme intersectés et leur valeur sera retournée. Si <code class="varname">exclude_nodata_value</code> n'est pas spécifié, la valeur est lue depuis les méta-données du raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">ST_Value</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">pt</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Value</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, geometry  <var class="pdparam">pt</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var>, text  <var class="pdparam">resample='nearest'</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Value</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">x</var>, integer  <var class="pdparam">y</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Value</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, integer  <var class="pdparam">x</var>, integer  <var class="pdparam">y</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p></div></div><div class="refsection" id="idm30107"><h2>Description</h2><p>Retourne la valeur d'une bande raster spécifiée au pixel donné par columnx, rowy, ou à un point géométrique spécifié. Le numéro de bande démarre à 1, et la bande 1 est utilisée si non spécifié.</p><p>Si <code class="varname">exclude_nodata_value</code> vaut true, seulement les pixels différents de la valeur <code class="varname">nodata</code> seront utilisés. Si <code class="varname">exclude_nodata_value</code> vaut false, tous les pixels seront utilisés.</p><p>Les valeurs possibles pour le paramètre <code class="varname">resample</code> sont : "nearest" (interpolation par plus proche voisin) et "bilinear" (<a class="link" href="https://fr.wikipedia.org/wiki/Interpolation_bilin%C3%A9aire" target="_top">interpolation bilinéaire</a>). Ce paramètre est utilisé pour estimer la valeur entre les centres des pixels.</p><p class="enhanced">Amélioration : 3.2.0 ajout du paramètre optionnel resample.</p><p class="enhanced">Amélioration : 2.0.0 ajout du paramètre optionnel exclude_nodata_value.</p></div><div class="refsection" id="idm30119"><h2>Exemples</h2><pre class="programlisting">-- get raster values at particular postgis geometry points
-- the srid of your geometry should be same as for your raster
SELECT rid, ST_Value(rast, foo.pt_geom) As b1pval, ST_Value(rast, 2, foo.pt_geom) As b2pval
FROM dummy_rast CROSS JOIN (SELECT ST_SetSRID(ST_Point(3427927.77, 5793243.76), 0) As pt_geom) As foo
WHERE rid=2;

 rid | b1pval | b2pval
-----+--------+--------
   2 |    252 |     79


-- general fictitious example using a real table
SELECT rid, ST_Value(rast, 3, sometable.geom) As b3pval
FROM sometable
WHERE ST_Intersects(rast,sometable.geom);
                </pre><pre class="programlisting">SELECT rid, ST_Value(rast, 1, 1, 1) As b1pval,
    ST_Value(rast, 2, 1, 1) As b2pval, ST_Value(rast, 3, 1, 1) As b3pval
FROM dummy_rast
WHERE rid=2;

 rid | b1pval | b2pval | b3pval
-----+--------+--------+--------
   2 |    253 |     78 |     70
                </pre><pre class="programlisting">

--- Get all values in bands 1,2,3 of each pixel --
SELECT x, y, ST_Value(rast, 1, x, y) As b1val,
    ST_Value(rast, 2, x, y) As b2val, ST_Value(rast, 3, x, y) As b3val
FROM dummy_rast CROSS JOIN
generate_series(1, 1000) As x CROSS JOIN generate_series(1, 1000) As y
WHERE rid =  2 AND x &lt;= ST_Width(rast) AND y &lt;= ST_Height(rast);

 x | y | b1val | b2val | b3val
---+---+-------+-------+-------
 1 | 1 |   253 |    78 |    70
 1 | 2 |   253 |    96 |    80
 1 | 3 |   250 |    99 |    90
 1 | 4 |   251 |    89 |    77
 1 | 5 |   252 |    79 |    62
 2 | 1 |   254 |    98 |    86
 2 | 2 |   254 |   118 |   108
 :
 :

</pre><pre class="programlisting">

--- Get all values in bands 1,2,3 of each pixel same as above but returning the upper left point point of each pixel --
SELECT ST_AsText(ST_SetSRID(
    ST_Point(ST_UpperLeftX(rast) + ST_ScaleX(rast)*x,
        ST_UpperLeftY(rast) + ST_ScaleY(rast)*y),
        ST_SRID(rast))) As uplpt
    , ST_Value(rast, 1, x, y) As b1val,
    ST_Value(rast, 2, x, y) As b2val, ST_Value(rast, 3, x, y) As b3val
FROM dummy_rast CROSS JOIN
generate_series(1,1000) As x CROSS JOIN generate_series(1,1000) As y
WHERE rid =  2 AND x &lt;= ST_Width(rast) AND y &lt;= ST_Height(rast);

            uplpt            | b1val | b2val | b3val
-----------------------------+-------+-------+-------
 POINT(3427929.25 5793245.5) |   253 |    78 |    70
 POINT(3427929.25 5793247)   |   253 |    96 |    80
 POINT(3427929.25 5793248.5) |   250 |    99 |    90
:

</pre><pre class="programlisting">

--- Get a polygon formed by union of all pixels
    that fall in a particular value range and intersect particular polygon --
SELECT ST_AsText(ST_Union(pixpolyg)) As shadow
FROM (SELECT ST_Translate(ST_MakeEnvelope(
        ST_UpperLeftX(rast), ST_UpperLeftY(rast),
            ST_UpperLeftX(rast) + ST_ScaleX(rast),
            ST_UpperLeftY(rast) + ST_ScaleY(rast), 0
            ), ST_ScaleX(rast)*x, ST_ScaleY(rast)*y
        ) As pixpolyg, ST_Value(rast, 2, x, y) As b2val
    FROM dummy_rast CROSS JOIN
generate_series(1,1000) As x CROSS JOIN generate_series(1,1000) As y
WHERE rid =  2
    AND x &lt;= ST_Width(rast) AND y &lt;= ST_Height(rast)) As foo
WHERE
    ST_Intersects(
        pixpolyg,
        ST_GeomFromText('POLYGON((3427928 5793244,3427927.75 5793243.75,3427928 5793243.75,3427928 5793244))',0)
        ) AND b2val != 254;


        shadow
------------------------------------------------------------------------------------
 MULTIPOLYGON(((3427928 5793243.9,3427928 5793243.85,3427927.95 5793243.85,3427927.95 5793243.9,
 3427927.95 5793243.95,3427928 5793243.95,3427928.05 5793243.95,3427928.05 5793243.9,3427928 5793243.9)),((3427927.95 5793243.9,3427927.95 579324
3.85,3427927.9 5793243.85,3427927.85 5793243.85,3427927.85 5793243.9,3427927.9 5793243.9,3427927.9 5793243.95,
3427927.95 5793243.95,3427927.95 5793243.9)),((3427927.85 5793243.75,3427927.85 5793243.7,3427927.8 5793243.7,3427927.8 5793243.75
,3427927.8 5793243.8,3427927.8 5793243.85,3427927.85 5793243.85,3427927.85 5793243.8,3427927.85 5793243.75)),
((3427928.05 5793243.75,3427928.05 5793243.7,3427928 5793243.7,3427927.95 5793243.7,3427927.95 5793243.75,3427927.95 5793243.8,3427
927.95 5793243.85,3427928 5793243.85,3427928 5793243.8,3427928.05 5793243.8,
3427928.05 5793243.75)),((3427927.95 5793243.75,3427927.95 5793243.7,3427927.9 5793243.7,3427927.85 5793243.7,
3427927.85 5793243.75,3427927.85 5793243.8,3427927.85 5793243.85,3427927.9 5793243.85,
3427927.95 5793243.85,3427927.95 5793243.8,3427927.95 5793243.75)))

</pre><pre class="programlisting">

--- Checking all the pixels of a large raster tile can take a long time.
--- You can dramatically improve speed at some lose of precision by orders of magnitude
--  by sampling pixels using the step optional parameter of generate_series.
--  This next example does the same as previous but by checking 1 for every 4 (2x2) pixels and putting in the last checked
--  putting in the checked pixel as the value for subsequent 4

SELECT ST_AsText(ST_Union(pixpolyg)) As shadow
FROM (SELECT ST_Translate(ST_MakeEnvelope(
        ST_UpperLeftX(rast), ST_UpperLeftY(rast),
            ST_UpperLeftX(rast) + ST_ScaleX(rast)*2,
            ST_UpperLeftY(rast) + ST_ScaleY(rast)*2, 0
            ), ST_ScaleX(rast)*x, ST_ScaleY(rast)*y
        ) As pixpolyg, ST_Value(rast, 2, x, y) As b2val
    FROM dummy_rast CROSS JOIN
generate_series(1,1000,2) As x CROSS JOIN generate_series(1,1000,2) As y
WHERE rid =  2
    AND x &lt;= ST_Width(rast)  AND y &lt;= ST_Height(rast)  ) As foo
WHERE
    ST_Intersects(
        pixpolyg,
        ST_GeomFromText('POLYGON((3427928 5793244,3427927.75 5793243.75,3427928 5793243.75,3427928 5793244))',0)
        ) AND b2val != 254;

        shadow
------------------------------------------------------------------------------------
 MULTIPOLYGON(((3427927.9 5793243.85,3427927.8 5793243.85,3427927.8 5793243.95,
 3427927.9 5793243.95,3427928 5793243.95,3427928.1 5793243.95,3427928.1 5793243.85,3427928 5793243.85,3427927.9 5793243.85)),
 ((3427927.9 5793243.65,3427927.8 5793243.65,3427927.8 5793243.75,3427927.8 5793243.85,3427927.9 5793243.85,
 3427928 5793243.85,3427928 5793243.75,3427928.1 5793243.75,3427928.1 5793243.65,3427928 5793243.65,3427927.9 5793243.65)))

</pre></div><div class="refsection" id="idm30127"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a>, <a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a>, <a class="xref" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_UpperLeftX" title="ST_UpperLeftX">ST_UpperLeftX</a>, <a class="xref" href="#RT_ST_UpperLeftY" title="ST_UpperLeftY">ST_UpperLeftY</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_MakeEnvelope" title="ST_MakeEnvelope">ST_MakeEnvelope</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a> </p></div></div><div class="refentry" id="RT_ST_NearestValue"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NearestValue — Retourne la valeur la plus proche différent de <code class="varname">NODATA</code> pour une bande raster spécifiée au pixel donné par columnx et rowy, ou à un point géométrique spécifié dans le même système de référence spatial que le raster. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">ST_NearestValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum</var>, geometry  <var class="pdparam">pt</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_NearestValue</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">pt</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_NearestValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_NearestValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p></div></div><div class="refsection" id="idm30211"><h2>Description</h2><p>Retourne la valeur la plus proche différent de <code class="varname">NODATA</code> pour une bande raster spécifiée au pixel donné par columnx et rowy, ou à un point géométrique spécifié. Si le pixel donné par columnx, rowy ou par le point géométrique est de valeur <code class="varname">NODATA</code>, la fonction trouve le plus proche pixel dont la valeur est différente de <code class="varname">NODATA</code>. </p><p>Le numéro de bande démarre à 1, et la bande 1 est utilisée si <code class="varname">bandnum</code> non spécifié. Si <code class="varname">exclude_nodata_value</code> vaut false, tous les pixels y compris ceux ayant la valeur <code class="varname">nodata</code> sont considérés comme intersectés et leur valeur sera retournée. Si <code class="varname">exclude_nodata_value</code> n'est pas spécifié, la valeur est lue depuis les méta-données du raster. </p><p class="availability">Disponibilité : 2.1.0</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_NearestValue remplace directement ST_Value. </p></td></tr></table></div></div><div class="refsection" id="idm30225"><h2>Exemples</h2><pre class="programlisting">-- pixel 2x2 has value
SELECT
    ST_Value(rast, 2, 2) AS value,
    ST_NearestValue(rast, 2, 2) AS nearestvalue
FROM (
    SELECT
        ST_SetValue(
            ST_SetValue(
                ST_SetValue(
                    ST_SetValue(
                        ST_SetValue(
                            ST_AddBand(
                                ST_MakeEmptyRaster(5, 5, -2, 2, 1, -1, 0, 0, 0),
                                '8BUI'::text, 1, 0
                            ),
                            1, 1, 0.
                        ),
                        2, 3, 0.
                    ),
                    3, 5, 0.
                ),
                4, 2, 0.
            ),
            5, 4, 0.
        ) AS rast
) AS foo

 value | nearestvalue
-------+--------------
     1 |            1
                </pre><pre class="programlisting">-- pixel 2x3 is NODATA
SELECT
    ST_Value(rast, 2, 3) AS value,
    ST_NearestValue(rast, 2, 3) AS nearestvalue
FROM (
    SELECT
        ST_SetValue(
            ST_SetValue(
                ST_SetValue(
                    ST_SetValue(
                        ST_SetValue(
                            ST_AddBand(
                                ST_MakeEmptyRaster(5, 5, -2, 2, 1, -1, 0, 0, 0),
                                '8BUI'::text, 1, 0
                            ),
                            1, 1, 0.
                        ),
                        2, 3, 0.
                    ),
                    3, 5, 0.
                ),
                4, 2, 0.
            ),
            5, 4, 0.
        ) AS rast
) AS foo

 value | nearestvalue
-------+--------------
       |            1
                </pre></div><div class="refsection" id="idm30229"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Neighborhood" title="ST_Neighborhood">ST_Neighborhood</a>, <a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a> </p></div></div><div class="refentry" id="RT_ST_SetZ"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetZ — Retourne une géométrie avec les mêmes coordonnées X/Y que la géométrie d'entrée, et avec la coordonnée Z copiée depuis les valeurs du raster selon l'algorithme d'interpolation en paramètre.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SetZ</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">geom</var>, text  <var class="pdparam">resample=nearest</var>, integer  <var class="pdparam">band=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm30255"><h2>Description</h2><p>Retourne une géométrie avec les mêmes coordonnées X/Y que la géométrie d'entrée, et avec la coordonnée Z copiée depuis les valeurs du raster selon l'algorithme d'interpolation en paramètre.</p><p>Le paramètre <code class="varname">resample</code> peut être "nearest" (plus proche) pour copier les valeurs de chaque pixel auquel le vertex correspond, ou "bilinear" pour utiliser une <a class="link" href="https://fr.wikipedia.org/wiki/Interpolation_bilin%C3%A9aire" target="_top">interpolation bilinéaire</a> pour calculer une valeur qui prend aussi en compte les pixels voisins.</p><p class="availability">Disponibilité : 3.2.0</p></div><div class="refsection" id="idm30262"><h2>Exemples</h2><pre class="programlisting">--
-- 2x2 test raster with values
--
-- 10 50
-- 40 20
--
WITH test_raster AS (
SELECT
ST_SetValues(
  ST_AddBand(
    ST_MakeEmptyRaster(width =&gt; 2, height =&gt; 2,
      upperleftx =&gt; 0, upperlefty =&gt; 2,
      scalex =&gt; 1.0, scaley =&gt; -1.0,
      skewx =&gt; 0, skewy =&gt; 0, srid =&gt; 4326),
    index =&gt; 1, pixeltype =&gt; '16BSI',
    initialvalue =&gt; 0,
    nodataval =&gt; -999),
  1,1,1,
  newvalueset =&gt;ARRAY[ARRAY[10.0::float8, 50.0::float8], ARRAY[40.0::float8, 20.0::float8]]) AS rast
)
SELECT
ST_AsText(
  ST_SetZ(
    rast,
    band =&gt; 1,
    geom =&gt; 'SRID=4326;LINESTRING(1.0 1.9, 1.0 0.2)'::geometry,
    resample =&gt; 'bilinear'
))
FROM test_raster

            st_astext
----------------------------------
 LINESTRING Z (1 1.9 38,1 0.2 27)</pre></div><div class="refsection" id="idm30265"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_SetM" title="ST_SetM">ST_SetM</a> </p></div></div><div class="refentry" id="RT_ST_SetM"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetM — Retourne une géométrie avec les mêmes coordonnées X/Y que la géométrie d'entrée, et avec la coordonnée M copiée depuis les valeurs du raster selon l'algorithme d'interpolation en paramètre.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SetM</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">geom</var>, text  <var class="pdparam">resample=nearest</var>, integer  <var class="pdparam">band=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm30291"><h2>Description</h2><p>Retourne une géométrie avec les mêmes coordonnées X/Y que la géométrie d'entrée, et avec la coordonnée M copiée depuis les valeurs du raster selon l'algorithme d'interpolation en paramètre.</p><p>Le paramètre <code class="varname">resample</code> peut être "nearest" (plus proche) pour copier les valeurs de chaque pixel auquel le vertex correspond, ou "bilinear" pour utiliser une <a class="link" href="https://fr.wikipedia.org/wiki/Interpolation_bilin%C3%A9aire" target="_top">interpolation bilinéaire</a> pour calculer une valeur qui prend aussi en compte les pixels voisins.</p><p class="availability">Disponibilité : 3.2.0</p></div><div class="refsection" id="idm30298"><h2>Exemples</h2><pre class="programlisting">--
-- 2x2 test raster with values
--
-- 10 50
-- 40 20
--
WITH test_raster AS (
SELECT
ST_SetValues(
  ST_AddBand(
    ST_MakeEmptyRaster(width =&gt; 2, height =&gt; 2,
      upperleftx =&gt; 0, upperlefty =&gt; 2,
      scalex =&gt; 1.0, scaley =&gt; -1.0,
      skewx =&gt; 0, skewy =&gt; 0, srid =&gt; 4326),
    index =&gt; 1, pixeltype =&gt; '16BSI',
    initialvalue =&gt; 0,
    nodataval =&gt; -999),
  1,1,1,
  newvalueset =&gt;ARRAY[ARRAY[10.0::float8, 50.0::float8], ARRAY[40.0::float8, 20.0::float8]]) AS rast
)
SELECT
ST_AsText(
  ST_SetM(
    rast,
    band =&gt; 1,
    geom =&gt; 'SRID=4326;LINESTRING(1.0 1.9, 1.0 0.2)'::geometry,
    resample =&gt; 'bilinear'
))
FROM test_raster

            st_astext
----------------------------------
 LINESTRING M (1 1.9 38,1 0.2 27)</pre></div><div class="refsection" id="idm30301"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_SetZ" title="ST_SetZ">ST_SetZ</a> </p></div></div><div class="refentry" id="RT_ST_Neighborhood"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Neighborhood — Retourne un tableau 2-D de double avec les valeurs non <code class="varname">NODATA</code> autour du pixel de la bande spécifiée, aux coordonnées spécifiées par columnX &amp; rowY ou par un point géométrique dans le même système de référence spatial que le raster. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision[][] <strong class="fsfunc">ST_Neighborhood</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum</var>, integer  <var class="pdparam">columnX</var>, integer  <var class="pdparam">rowY</var>, integer  <var class="pdparam">distanceX</var>, integer  <var class="pdparam">distanceY</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision[][] <strong class="fsfunc">ST_Neighborhood</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">columnX</var>, integer  <var class="pdparam">rowY</var>, integer  <var class="pdparam">distanceX</var>, integer  <var class="pdparam">distanceY</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision[][] <strong class="fsfunc">ST_Neighborhood</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum</var>, geometry  <var class="pdparam">pt</var>, integer  <var class="pdparam">distanceX</var>, integer  <var class="pdparam">distanceY</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision[][] <strong class="fsfunc">ST_Neighborhood</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">pt</var>, integer  <var class="pdparam">distanceX</var>, integer  <var class="pdparam">distanceY</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p></div></div><div class="refsection" id="idm30397"><h2>Description</h2><p>Retourne un tableau 2-D de double avec les valeurs non <code class="varname">NODATA</code> autour du pixel de la bande spécifiée, aux coordonnées spécifiées par columnX &amp; rowY ou par un point géométrique dans le même système de référence spatial que le raster. Les paramètres <code class="varname">distanceX</code> et <code class="varname">distanceY</code> définissent le nombre de pixels autour du pixel spécifié sur les axes X et Y. Exemple : vous pouvez récupérer toutes les valeurs autour du pixel souhaité, à une distance de 3 pixels selon l'axe X et à une distance de 2 pixels selon l'axe Y. La valeur centrale du tableau 2-D sera la valeur du pixel spécifié par columnX et rowY ou par le point géométrique. </p><p>Le numéro de bande démarre à 1, et la bande 1 est utilisée si <code class="varname">bandnum</code> non spécifié. Si <code class="varname">exclude_nodata_value</code> vaut false, tous les pixels y compris ceux ayant la valeur <code class="varname">nodata</code> sont considérés comme intersectés et leur valeur sera retournée. Si <code class="varname">exclude_nodata_value</code> n'est pas spécifié, la valeur est lue depuis les méta-données du raster. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le nombre d'éléments retournés dans le tableau 2-D sur chaque axe sera 2 * (<code class="varname">distanceX</code>|<code class="varname">distanceY</code>) + 1. Pour <code class="varname">distanceX</code> et <code class="varname">distanceY</code> de 1, le tableau sera de taille 3x3. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le tableau 2-D en sortie peut être passé à n'importe quelle fonction de traitement raster, comme ST_Min4ma, ST_Sum4ma, ST_Mean4ma. </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm30417"><h2>Exemples</h2><pre class="programlisting">-- pixel 2x2 has value
SELECT
    ST_Neighborhood(rast, 2, 2, 1, 1)
FROM (
    SELECT
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(5, 5, -2, 2, 1, -1, 0, 0, 0),
                '8BUI'::text, 1, 0
            ),
            1, 1, 1, ARRAY[
                [0, 1, 1, 1, 1],
                [1, 1, 1, 0, 1],
                [1, 0, 1, 1, 1],
                [1, 1, 1, 1, 0],
                [1, 1, 0, 1, 1]
            ]::double precision[],
            1
        ) AS rast
) AS foo

         st_neighborhood
---------------------------------
{{NULL,1,1},{1,1,1},{1,NULL,1}}
                </pre><pre class="programlisting">-- pixel 2x3 is NODATA
SELECT
    ST_Neighborhood(rast, 2, 3, 1, 1)
FROM (
    SELECT
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(5, 5, -2, 2, 1, -1, 0, 0, 0),
                '8BUI'::text, 1, 0
            ),
            1, 1, 1, ARRAY[
                [0, 1, 1, 1, 1],
                [1, 1, 1, 0, 1],
                [1, 0, 1, 1, 1],
                [1, 1, 1, 1, 0],
                [1, 1, 0, 1, 1]
            ]::double precision[],
            1
        ) AS rast
) AS foo

       st_neighborhood
------------------------------
 {{1,1,1},{1,NULL,1},{1,1,1}}
                </pre><pre class="programlisting">-- pixel 3x3 has value
-- exclude_nodata_value = FALSE
SELECT
    ST_Neighborhood(rast, 3, 3, 1, 1, false)
FROM ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(5, 5, -2, 2, 1, -1, 0, 0, 0),
                '8BUI'::text, 1, 0
            ),
            1, 1, 1, ARRAY[
                [0, 1, 1, 1, 1],
                [1, 1, 1, 0, 1],
                [1, 0, 1, 1, 1],
                [1, 1, 1, 1, 0],
                [1, 1, 0, 1, 1]
            ]::double precision[],
            1
        ) AS rast

      st_neighborhood
---------------------------
{{1,1,0},{0,1,1},{1,1,1}}
                </pre></div><div class="refsection" id="idm30422"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_NearestValue" title="ST_NearestValue">ST_NearestValue</a>, <a class="xref" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>, <a class="xref" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>, <a class="xref" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>, <a class="xref" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>, <a class="xref" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a>, <a class="xref" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div><div class="refentry" id="RT_ST_SetValue"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetValue — Retourne un nouveau raster en modifiant la valeur du pixel pour la bande spécifiée et aux coordonnées columnx, rowy, ou pour tous les pixels qui intersectent une géométrie spécifiée. Le numéro de bande démarre à 1, et la bande 1 est utilisée si non spécifié.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum</var>, geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">newvalue</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValue</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">newvalue</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, double precision  <var class="pdparam">newvalue</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, double precision  <var class="pdparam">newvalue</var><code>)</code>;</p></div></div><div class="refsection" id="idm30499"><h2>Description</h2><p>Retourne un nouveau raster en modifiant la valeur du pixel pour la bande spécifiée et aux coordonnées columnx, rowy, ou pour tous les pixels qui intersectent une géométrie spécifiée. Le numéro de bande démarre à 1, et la bande 1 est utilisée si non spécifié. </p><p class="enhanced">Amélioration : 2.1.0 La variante de ST_SetValue() avec la géométrie supporte n'importe quelle type de géométrie, pas uniquement des points. La variante avec la géométrie est une enveloppe autour de la variante de ST_SetValues() avec geomval[]</p></div><div class="refsection" id="idm30503"><h2>Exemples</h2><pre class="programlisting">

                -- Geometry example
SELECT (foo.geomval).val, ST_AsText(ST_Union((foo.geomval).geom))
FROM (SELECT ST_DumpAsPolygons(
        ST_SetValue(rast,1,
                ST_Point(3427927.75, 5793243.95),
                50)
            ) As geomval
FROM dummy_rast
where rid = 2) As foo
WHERE (foo.geomval).val &lt; 250
GROUP BY (foo.geomval).val;

 val |                                                     st_astext
-----+-------------------------------------------------------------------
  50 | POLYGON((3427927.75 5793244,3427927.75 5793243.95,3427927.8 579324 ...
 249 | POLYGON((3427927.95 5793243.95,3427927.95 5793243.85,3427928 57932 ...


</pre><pre class="programlisting">-- Store the changed raster --
    UPDATE dummy_rast SET rast = ST_SetValue(rast,1, ST_Point(3427927.75, 5793243.95),100)
        WHERE rid = 2   ;

                </pre></div><div class="refsection" id="idm30507"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a></p></div></div><div class="refentry" id="RT_ST_SetValues"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetValues — Retourne un nouveau raster en modifiant les valeurs de certains pixels d'une bande spécifiée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValues</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, double precision[][]  <var class="pdparam">newvalueset</var>, boolean[][]  <var class="pdparam">noset=NULL</var>, boolean  <var class="pdparam">keepnodata=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValues</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, double precision[][]  <var class="pdparam">newvalueset</var>, double precision  <var class="pdparam">nosetvalue</var>, boolean  <var class="pdparam">keepnodata=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValues</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, double precision  <var class="pdparam">newvalue</var>, boolean  <var class="pdparam">keepnodata=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValues</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, double precision  <var class="pdparam">newvalue</var>, boolean  <var class="pdparam">keepnodata=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValues</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, geomval[]  <var class="pdparam">geomvalset</var>, boolean  <var class="pdparam">keepnodata=FALSE</var><code>)</code>;</p></div></div><div class="refsection" id="idm30632"><h2>Description</h2><p>Retourne un nouveau raster en modifiant les valeurs de certains pixels d'une bande spécifiée. Les paramètres <code class="varname">columnx</code> et <code class="varname">rowy</code> démarrent à 1. </p><p>Si <code class="varname">keepnodata</code> est TRUE, les pixels qui sont NODATA ne seront pas mis à jour avec la valeur donnée par <code class="varname">newvalueset</code>. </p><p>Pour la variante 1, les pixels sont déterminés par les coordonnées du pixel <code class="varname">columnx</code> et <code class="varname">rowy</code>, ainsi que la dimension du tableau <code class="varname">newvalueset</code>. <code class="varname">noset</code> peut être utilisé pour s'assurer qu'aucun pixel présent dans <code class="varname">newvalueset</code> et ayant déjà une valeur soient modifiés (PostgreSQL ne supportant pas les tableaux irréguliers/agglomérés). Voir l'exemple Variante 1. </p><p>La variante 2 est similaire à la variante 1, mais avec une valeur unique en double precision <code class="varname">nosetvalue</code> au lieu du tableau de booléens <code class="varname">noset</code>. Les éléments dans <code class="varname">newvalueset</code> avec la valeur <code class="varname">nosetvalue</code> seront ignorés. Voir l'exemple Variante 2. </p><p>Pour la variante 3, les pixels à modifier doivent être explicitement spécifiés par les coordonnées <code class="varname">columnx</code>, <code class="varname">rowy</code>, ainsi que les tailles <code class="varname">width</code> (largeur) et <code class="varname">height</code> (hauteur). Voir l'exemple Variante 3. </p><p>La variante 4 est identique à la variante 3, en modifiant la bande raster 1 du raster <code class="varname">rast</code>. </p><p>Pour la variante 5, un tableau de <a class="xref" href="#geomval" title="geomval">geomval</a> est utilisé pour déterminer les pixels à modifier. Si toutes les géométries du tableau sont de type POINT ou MULTIPOINT, la fonction utilise un raccourci où la longitude et la latitude du chaque point sont utilisés pour modifier directement le pixel. Sinon, les géométries sont converties en raster, puis itérés en une passe. Voir l'exemple Variante 5. </p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm30661"><h2>Exemples : Variante 1</h2><pre class="programlisting">

/*
The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 1 | 1 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |    =
&gt;    | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                1, '8BUI', 1, 0
            ),
            1, 2, 2, ARRAY[[9, 9], [9, 9]]::double precision[][]
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |   1
 1 | 2 |   1
 1 | 3 |   1
 2 | 1 |   1
 2 | 2 |   9
 2 | 3 |   9
 3 | 1 |   1
 3 | 2 |   9
 3 | 3 |   9

</pre><pre class="programlisting">

/*
The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 9 | 9 | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |    =
&gt;    | 9 |   | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 9 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                1, '8BUI', 1, 0
            ),
            1, 1, 1, ARRAY[[9, 9, 9], [9, NULL, 9], [9, 9, 9]]::double precision[][]
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |   9
 1 | 2 |   9
 1 | 3 |   9
 2 | 1 |   9
 2 | 2 |
 2 | 3 |   9
 3 | 1 |   9
 3 | 2 |   9
 3 | 3 |   9

</pre><pre class="programlisting">/*
The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 9 | 9 | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |    =&gt;    | 1 |   | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 9 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                1, '8BUI', 1, 0
            ),
            1, 1, 1,
                ARRAY[[9, 9, 9], [9, NULL, 9], [9, 9, 9]]::double precision[][],
                ARRAY[[false], [true]]::boolean[][]
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |   9
 1 | 2 |   1
 1 | 3 |   9
 2 | 1 |   9
 2 | 2 |
 2 | 3 |   9
 3 | 1 |   9
 3 | 2 |   9
 3 | 3 |   9
                </pre><pre class="programlisting">/*
The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
|   | 1 | 1 |          |   | 9 | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |    =&gt;    | 1 |   | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 9 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_SetValue(
                ST_AddBand(
                    ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                    1, '8BUI', 1, 0
                ),
                1, 1, 1, NULL
            ),
            1, 1, 1,
                ARRAY[[9, 9, 9], [9, NULL, 9], [9, 9, 9]]::double precision[][],
                ARRAY[[false], [true]]::boolean[][],
                TRUE
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |
 1 | 2 |   1
 1 | 3 |   9
 2 | 1 |   9
 2 | 2 |
 2 | 3 |   9
 3 | 1 |   9
 3 | 2 |   9
 3 | 3 |   9
                </pre></div><div class="refsection" id="idm30667"><h2>Exemples : Variante 2</h2><pre class="programlisting">/*
The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 1 | 1 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |    =&gt;    | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                1, '8BUI', 1, 0
            ),
            1, 1, 1, ARRAY[[-1, -1, -1], [-1, 9, 9], [-1, 9, 9]]::double precision[][], -1
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |   1
 1 | 2 |   1
 1 | 3 |   1
 2 | 1 |   1
 2 | 2 |   9
 2 | 3 |   9
 3 | 1 |   1
 3 | 2 |   9
 3 | 3 |   9
                </pre><pre class="programlisting">/*
This example is like the previous one.  Instead of nosetvalue = -1, nosetvalue = NULL

The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 1 | 1 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |    =&gt;    | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                1, '8BUI', 1, 0
            ),
            1, 1, 1, ARRAY[[NULL, NULL, NULL], [NULL, 9, 9], [NULL, 9, 9]]::double precision[][], NULL::double precision
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |   1
 1 | 2 |   1
 1 | 3 |   1
 2 | 1 |   1
 2 | 2 |   9
 2 | 3 |   9
 3 | 1 |   1
 3 | 2 |   9
 3 | 3 |   9
                </pre></div><div class="refsection" id="idm30671"><h2>Exemples : Variante 3</h2><pre class="programlisting">/*
The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 1 | 1 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |    =&gt;    | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                1, '8BUI', 1, 0
            ),
            1, 2, 2, 2, 2, 9
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |   1
 1 | 2 |   1
 1 | 3 |   1
 2 | 1 |   1
 2 | 2 |   9
 2 | 3 |   9
 3 | 1 |   1
 3 | 2 |   9
 3 | 3 |   9
                </pre><pre class="programlisting">/*
The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 1 | 1 |
+ - + - + - +          + - + - + - +
| 1 |   | 1 |    =&gt;    | 1 |   | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_SetValue(
                ST_AddBand(
                    ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                    1, '8BUI', 1, 0
                ),
                1, 2, 2, NULL
            ),
            1, 2, 2, 2, 2, 9, TRUE
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |   1
 1 | 2 |   1
 1 | 3 |   1
 2 | 1 |   1
 2 | 2 |
 2 | 3 |   9
 3 | 1 |   1
 3 | 2 |   9
 3 | 3 |   9
                </pre></div><div class="refsection" id="idm30675"><h2>Exemples : Variante 5</h2><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI', 0, 0) AS rast
), bar AS (
    SELECT 1 AS gid, 'SRID=0;POINT(2.5 -2.5)'::geometry geom UNION ALL
    SELECT 2 AS gid, 'SRID=0;POLYGON((1 -1, 4 -1, 4 -4, 1 -4, 1 -1))'::geometry geom UNION ALL
    SELECT 3 AS gid, 'SRID=0;POLYGON((0 0, 5 0, 5 -1, 1 -1, 1 -4, 0 -4, 0 0))'::geometry geom UNION ALL
    SELECT 4 AS gid, 'SRID=0;MULTIPOINT(0 0, 4 4, 4 -4)'::geometry
)
SELECT
    rid, gid, ST_DumpValues(ST_SetValue(rast, 1, geom, gid))
FROM foo t1
CROSS JOIN bar t2
ORDER BY rid, gid;

 rid | gid |                                                                st_dumpvalues
-----+-----+---------------------------------------------------------------------------------------------------------------------------------------------
   1 |   1 | (1,"{{NULL,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL},{NULL,NULL,1,NULL,NULL},{NULL,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL}}")
   1 |   2 | (1,"{{NULL,NULL,NULL,NULL,NULL},{NULL,2,2,2,NULL},{NULL,2,2,2,NULL},{NULL,2,2,2,NULL},{NULL,NULL,NULL,NULL,NULL}}")
   1 |   3 | (1,"{{3,3,3,3,3},{3,NULL,NULL,NULL,NULL},{3,NULL,NULL,NULL,NULL},{3,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL}}")
   1 |   4 | (1,"{{4,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,4}}")
(4 rows)
                </pre><p>L'exemple suivant montre qu'une géométrie située plus loin dans le tableau peut écraser une valeur issue d'une géométrie précédente</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI', 0, 0) AS rast
), bar AS (
    SELECT 1 AS gid, 'SRID=0;POINT(2.5 -2.5)'::geometry geom UNION ALL
    SELECT 2 AS gid, 'SRID=0;POLYGON((1 -1, 4 -1, 4 -4, 1 -4, 1 -1))'::geometry geom UNION ALL
    SELECT 3 AS gid, 'SRID=0;POLYGON((0 0, 5 0, 5 -1, 1 -1, 1 -4, 0 -4, 0 0))'::geometry geom UNION ALL
    SELECT 4 AS gid, 'SRID=0;MULTIPOINT(0 0, 4 4, 4 -4)'::geometry
)
SELECT
    t1.rid, t2.gid, t3.gid, ST_DumpValues(ST_SetValues(rast, 1, ARRAY[ROW(t2.geom, t2.gid), ROW(t3.geom, t3.gid)]::geomval[]))
FROM foo t1
CROSS JOIN bar t2
CROSS JOIN bar t3
WHERE t2.gid = 1
    AND t3.gid = 2
ORDER BY t1.rid, t2.gid, t3.gid;

 rid | gid | gid |                                                    st_dumpvalues
-----+-----+-----+---------------------------------------------------------------------------------------------------------------------
   1 |   1 |   2 | (1,"{{NULL,NULL,NULL,NULL,NULL},{NULL,2,2,2,NULL},{NULL,2,2,2,NULL},{NULL,2,2,2,NULL},{NULL,NULL,NULL,NULL,NULL}}")
(1 row)
                </pre><p>Cet exemple est le contraire de l'exemple précédent</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI', 0, 0) AS rast
), bar AS (
    SELECT 1 AS gid, 'SRID=0;POINT(2.5 -2.5)'::geometry geom UNION ALL
    SELECT 2 AS gid, 'SRID=0;POLYGON((1 -1, 4 -1, 4 -4, 1 -4, 1 -1))'::geometry geom UNION ALL
    SELECT 3 AS gid, 'SRID=0;POLYGON((0 0, 5 0, 5 -1, 1 -1, 1 -4, 0 -4, 0 0))'::geometry geom UNION ALL
    SELECT 4 AS gid, 'SRID=0;MULTIPOINT(0 0, 4 4, 4 -4)'::geometry
)
SELECT
    t1.rid, t2.gid, t3.gid, ST_DumpValues(ST_SetValues(rast, 1, ARRAY[ROW(t2.geom, t2.gid), ROW(t3.geom, t3.gid)]::geomval[]))
FROM foo t1
CROSS JOIN bar t2
CROSS JOIN bar t3
WHERE t2.gid = 2
    AND t3.gid = 1
ORDER BY t1.rid, t2.gid, t3.gid;

 rid | gid | gid |                                                    st_dumpvalues
-----+-----+-----+---------------------------------------------------------------------------------------------------------------------
   1 |   2 |   1 | (1,"{{NULL,NULL,NULL,NULL,NULL},{NULL,2,2,2,NULL},{NULL,2,1,2,NULL},{NULL,2,2,2,NULL},{NULL,NULL,NULL,NULL,NULL}}")
(1 row)
                </pre></div><div class="refsection" id="idm30682"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a>, <a class="xref" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a> </p></div></div><div class="refentry" id="RT_ST_DumpValues"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DumpValues — Retourne les valeurs d'une bande raster spécifiée, sous forme d'un tableau à deux dimensions. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_DumpValues</strong>(</code> raster  <var class="pdparam">rast</var> ,  integer[]  <var class="pdparam">nband=NULL</var> ,  boolean  <var class="pdparam">exclude_nodata_value=true</var> <code>)</code>;</p><p><code class="funcdef">double precision[][] <strong class="fsfunc">ST_DumpValues</strong>(</code> raster  <var class="pdparam">rast</var> ,  integer  <var class="pdparam">nband</var> ,  boolean  <var class="pdparam">exclude_nodata_value=true</var> <code>)</code>;</p></div></div><div class="refsection" id="idm30718"><h2>Description</h2><p>Retour les valeurs d'une bande, sous forme d'un tableau à 2 dimensions (le premier index étant la ligne, le second étant la colonne). Si <code class="varname">nband</code> est NULL ou non spécifié, toutes les bandes raster sont traitées. </p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm30723"><h2>Exemples</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI'::text, 1, 0), 2, '32BF'::text, 3, -9999), 3, '16BSI', 0, 0) AS rast
)
SELECT
    (ST_DumpValues(rast)).*
FROM foo;

 nband |                       valarray
-------+------------------------------------------------------
     1 | {{1,1,1},{1,1,1},{1,1,1}}
     2 | {{3,3,3},{3,3,3},{3,3,3}}
     3 | {{NULL,NULL,NULL},{NULL,NULL,NULL},{NULL,NULL,NULL}}
(3 rows)
                </pre><pre class="programlisting">WITH foo AS (
    SELECT ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI'::text, 1, 0), 2, '32BF'::text, 3, -9999), 3, '16BSI', 0, 0) AS rast
)
SELECT
    (ST_DumpValues(rast, ARRAY[3, 1])).*
FROM foo;

 nband |                       valarray
-------+------------------------------------------------------
     3 | {{NULL,NULL,NULL},{NULL,NULL,NULL},{NULL,NULL,NULL}}
     1 | {{1,1,1},{1,1,1},{1,1,1}}
(2 rows)
                </pre><pre class="programlisting">WITH foo AS (
    SELECT ST_SetValue(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI', 1, 0), 1, 2, 5) AS rast
)
SELECT
    (ST_DumpValues(rast, 1))[2][1]
FROM foo;

 st_dumpvalues
---------------
             5
(1 row)
                </pre></div><div class="refsection" id="idm30728"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a>, <a class="xref" href="#RT_ST_SetValues" title="ST_SetValues">ST_SetValues</a> </p></div></div><div class="refentry" id="RT_ST_PixelOfValue"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelOfValue — Retourne les coordonnées columnx, rowy du pixel dont la valeur est égale à la valeur recherchée. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_PixelOfValue</strong>(</code> raster  <var class="pdparam">rast</var> ,  integer  <var class="pdparam">nband</var> ,  double precision[]  <var class="pdparam">search</var> ,  boolean  <var class="pdparam">exclude_nodata_value=true</var> <code>)</code>;</p><p><code class="funcdef">setof record <strong class="fsfunc">ST_PixelOfValue</strong>(</code> raster  <var class="pdparam">rast</var> ,  double precision[]  <var class="pdparam">search</var> ,  boolean  <var class="pdparam">exclude_nodata_value=true</var> <code>)</code>;</p><p><code class="funcdef">setof record <strong class="fsfunc">ST_PixelOfValue</strong>(</code> raster  <var class="pdparam">rast</var> ,  integer  <var class="pdparam">nband</var> ,  double precision  <var class="pdparam">search</var> ,  boolean  <var class="pdparam">exclude_nodata_value=true</var> <code>)</code>;</p><p><code class="funcdef">setof record <strong class="fsfunc">ST_PixelOfValue</strong>(</code> raster  <var class="pdparam">rast</var> ,  double precision  <var class="pdparam">search</var> ,  boolean  <var class="pdparam">exclude_nodata_value=true</var> <code>)</code>;</p></div></div><div class="refsection" id="idm30794"><h2>Description</h2><p>Retourne les coordonnées columnx, rowy du pixel dont la valeur est égale à la valeur recherchée. Si aucune bande n'est spécifiée, la bande 1 est utilisée. </p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm30798"><h2>Exemples</h2><pre class="programlisting">SELECT
    (pixels).*
FROM (
    SELECT
        ST_PixelOfValue(
            ST_SetValue(
                ST_SetValue(
                    ST_SetValue(
                        ST_SetValue(
                            ST_SetValue(
                                ST_AddBand(
                                    ST_MakeEmptyRaster(5, 5, -2, 2, 1, -1, 0, 0, 0),
                                    '8BUI'::text, 1, 0
                                ),
                                1, 1, 0
                            ),
                            2, 3, 0
                        ),
                        3, 5, 0
                    ),
                    4, 2, 0
                ),
                5, 4, 255
            )
        , 1, ARRAY[1, 255]) AS pixels
) AS foo

 val | x | y
-----+---+---
   1 | 1 | 2
   1 | 1 | 3
   1 | 1 | 4
   1 | 1 | 5
   1 | 2 | 1
   1 | 2 | 2
   1 | 2 | 4
   1 | 2 | 5
   1 | 3 | 1
   1 | 3 | 2
   1 | 3 | 3
   1 | 3 | 4
   1 | 4 | 1
   1 | 4 | 3
   1 | 4 | 4
   1 | 4 | 5
   1 | 5 | 1
   1 | 5 | 2
   1 | 5 | 3
 255 | 5 | 4
   1 | 5 | 5
                </pre></div></div></section><section class="section" id="Raster_Editors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.7. Éditeurs de raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_SetGeoReference">ST_SetGeoReference</a></span><span class="refpurpose"> — Définit les 6 paramètres de géo-référencement en un seul appel. Les nombres doivent être séparés par un espace. Accepte les formats GDAL (par défaut) ou ESRI.</span></li><li><span class="refentrytitle"><a href="#RT_ST_SetRotation">ST_SetRotation</a></span><span class="refpurpose"> — Définit la rotation du raster en radians.</span></li><li><span class="refentrytitle"><a href="#RT_ST_SetScale">ST_SetScale</a></span><span class="refpurpose"> — Définit la résolution des pixels en X et Y en unité du système de référence spatial : nombre d'unités/pixel en largeur/hauteur.</span></li><li><span class="refentrytitle"><a href="#RT_ST_SetSkew">ST_SetSkew</a></span><span class="refpurpose"> — Définit l'obliquité X et Y (skew, ou paramètre de rotation). Si une seule valeur est spécifiée, la même valeur est utilisée pour X et pour Y.</span></li><li><span class="refentrytitle"><a href="#RT_ST_SetSRID">ST_SetSRID</a></span><span class="refpurpose"> — Modifie le SRID d'un raster à une valeur définie dans la table spatial_ref_sys.</span></li><li><span class="refentrytitle"><a href="#RT_ST_SetUpperLeft">ST_SetUpperLeft</a></span><span class="refpurpose"> — Modifie les coordonnées du pixel du coin supérieur gauche du raster, selon les coordonnées X et Y projetées.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Resample">ST_Resample</a></span><span class="refpurpose"> — Rééchantillonne un raster, en utilisant l'algorithme spécifié, les nouvelles dimensions, un coin arbitraire de la grille et un ensemble de paramètres de géo-référencement définis ou empruntés à un autre raster. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Rescale">ST_Rescale</a></span><span class="refpurpose"> — Rééchantillonne un raster en ajustant juste son échelle (ou la taille des pixels). Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline), Lanczos, Max ou Min. La valeur par défaut est NearestNeighbor. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Reskew">ST_Reskew</a></span><span class="refpurpose"> — Rééchantillonne un raster en ajustant simplement son obliquité (skew, ou paramètre de rotation). Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor. </span></li><li><span class="refentrytitle"><a href="#RT_ST_SnapToGrid">ST_SnapToGrid</a></span><span class="refpurpose"> — Rééchantillonne un raster en l'accrochant sur une grille. Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Resize">ST_Resize</a></span><span class="refpurpose"> — Redimensionne un raster à une nouvelle largeur/hauteur</span></li><li><span class="refentrytitle"><a href="#RT_ST_Transform">ST_Transform</a></span><span class="refpurpose"> — Reprojette un raster depuis un système de référence spatial vers un autre, en utilisant l'algorithme de rééchantillonnage spécifié. Les algorithmes possibles sont NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor.</span></li></ul></div><div class="refentry" id="RT_ST_SetGeoReference"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetGeoReference — Définit les 6 paramètres de géo-référencement en un seul appel. Les nombres doivent être séparés par un espace. Accepte les formats GDAL (par défaut) ou ESRI.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetGeoReference</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">georefcoords</var>, text  <var class="pdparam">format=GDAL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetGeoReference</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">upperleftx</var>, double precision  <var class="pdparam">upperlefty</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, double precision  <var class="pdparam">skewx</var>, double precision  <var class="pdparam">skewy</var><code>)</code>;</p></div></div><div class="refsection" id="idm30845"><h2>Description</h2><p>Définit les 6 paramètres de géo-référencement en un seul appel. Accepte les formats 'GDAL' (par défaut) ou 'ESRI'. Si les 6 coordonnées ne sont pas spécifiées, retourne null.</p><p>La différence entre les représentations de format est la suivante :</p><p><code class="varname">GDAL</code> : </p><pre class="programlisting">scalex skewy skewx scaley upperleftx upperlefty</pre><p><code class="varname">ESRI</code> : </p><pre class="programlisting">scalex skewy skewx scaley upperleftx + scalex*0.5 upperlefty + scaley*0.5</pre><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si le raster a des bandes out-db, modifier le géoréférencement peut entraîner un accès incorrect aux données de la bande out-db. </p></td></tr></table></div><p class="enhanced">Amélioration : 2.1.0 Ajout de la variante ST_SetGeoReference(raster, double precision, ...)</p></div><div class="refsection" id="idm30858"><h2>Exemples</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0) AS rast
)
SELECT
    0 AS rid, (ST_Metadata(rast)).*
FROM foo
UNION ALL
SELECT
    1, (ST_Metadata(ST_SetGeoReference(rast, '10 0 0 -10 0.1 0.1', 'GDAL'))).*
FROM foo
UNION ALL
SELECT
    2, (ST_Metadata(ST_SetGeoReference(rast, '10 0 0 -10 5.1 -4.9', 'ESRI'))).*
FROM foo
UNION ALL
SELECT
    3, (ST_Metadata(ST_SetGeoReference(rast, 1, 1, 10, -10, 0.001, 0.001))).*
FROM foo

 rid |     upperleftx     |     upperlefty     | width | height | scalex | scaley | skewx | skewy | srid | numbands
-----+--------------------+--------------------+-------+--------+--------+--------+-------+-------+------+----------
   0 |                  0 |                  0 |     5 |      5 |      1 |     -1 |     0 |     0 |    0 |        0
   1 |                0.1 |                0.1 |     5 |      5 |     10 |    -10 |     0 |     0 |    0 |        0
   2 | 0.0999999999999996 | 0.0999999999999996 |     5 |      5 |     10 |    -10 |     0 |     0 |    0 |        0
   3 |                  1 |                  1 |     5 |      5 |     10 |    -10 | 0.001 | 0.001 |    0 |        0
                </pre></div><div class="refsection" id="idm30861"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_UpperLeftX" title="ST_UpperLeftX">ST_UpperLeftX</a>, <a class="xref" href="#RT_ST_UpperLeftY" title="ST_UpperLeftY">ST_UpperLeftY</a></p></div></div><div class="refentry" id="RT_ST_SetRotation"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetRotation — Définit la rotation du raster en radians.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetRotation</strong>(</code>raster <var class="pdparam">rast</var>, float8 <var class="pdparam">rotation</var><code>)</code>;</p></div></div><div class="refsection" id="idm30884"><h2>Description</h2><p>Applique une rotation uniforme du raster. L'angle de rotation est en radians. Voir <a class="link" href="https://fr.wikipedia.org/wiki/World_file" target="_top">World File</a> pour plus de détails.</p></div><div class="refsection" id="idm30888"><h2>Exemples</h2><pre class="programlisting">SELECT
  ST_ScaleX(rast1), ST_ScaleY(rast1), ST_SkewX(rast1), ST_SkewY(rast1),
  ST_ScaleX(rast2), ST_ScaleY(rast2), ST_SkewX(rast2), ST_SkewY(rast2)
FROM (
  SELECT ST_SetRotation(rast, 15) AS rast1, rast as rast2 FROM dummy_rast
) AS foo;
      st_scalex      |      st_scaley      |      st_skewx      |      st_skewy      | st_scalex | st_scaley | st_skewx | st_skewy
---------------------+---------------------+--------------------+--------------------+-----------+-----------+----------+----------
   -1.51937582571764 |   -2.27906373857646 |   1.95086352047135 |   1.30057568031423 |         2 |         3 |        0 |        0
 -0.0379843956429411 | -0.0379843956429411 | 0.0325143920078558 | 0.0325143920078558 |      0.05 |     -0.05 |        0 |        0
                </pre></div><div class="refsection" id="idm30891"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Rotation" title="ST_Rotation">ST_Rotation</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>, <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a></p></div></div><div class="refentry" id="RT_ST_SetScale"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetScale — Définit la résolution des pixels en X et Y en unité du système de référence spatial : nombre d'unités/pixel en largeur/hauteur.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetScale</strong>(</code>raster  <var class="pdparam">rast</var>, float8  <var class="pdparam">xy</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetScale</strong>(</code>raster  <var class="pdparam">rast</var>, float8  <var class="pdparam">x</var>, float8  <var class="pdparam">y</var><code>)</code>;</p></div></div><div class="refsection" id="idm30926"><h2>Description</h2><p>Définit la résolution des pixels en X et Y en unité du système de référence spatial : nombre d'unités/pixel en largeur/hauteur. Si une seule unité est spécifiée, la même résolution est utilisée pour X et pour Y.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_SetScale est différent de <a class="xref" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a> : ST_SetScale ne rééchantillonne pas le raster pour correspondre à l'étendue du raster. La fonction modifie seulement les méta-données (ou la géo-référence) d'un raster pour corriger une échelle incorrecte. ST_Rescale produit un raster de taille différente pour correspondre à l'étendue spatiale du raster d'entrée. ST_SetScale ne modifie pas la largeur ou hauteur du raster.</p></td></tr></table></div><p class="changed">Changement : 2.0.0 Dans les versions WKTRaster, cette fonction était appelée ST_SetPixelSize.</p></div><div class="refsection" id="idm30933"><h2>Exemples</h2><pre class="programlisting">UPDATE dummy_rast
    SET rast = ST_SetScale(rast, 1.5)
WHERE rid = 2;

SELECT ST_ScaleX(rast) As pixx, ST_ScaleY(rast) As pixy, Box3D(rast) As newbox
FROM dummy_rast
WHERE rid = 2;

 pixx | pixy |                    newbox
------+------+----------------------------------------------
  1.5 |  1.5 | BOX(3427927.75 5793244 0, 3427935.25 5793251.5 0)
                </pre><pre class="programlisting">UPDATE dummy_rast
    SET rast = ST_SetScale(rast, 1.5, 0.55)
WHERE rid = 2;

SELECT ST_ScaleX(rast) As pixx, ST_ScaleY(rast) As pixy, Box3D(rast) As newbox
FROM dummy_rast
WHERE rid = 2;

 pixx | pixy |                   newbox
------+------+--------------------------------------------
  1.5 | 0.55 | BOX(3427927.75 5793244 0,3427935.25 5793247 0)
                </pre></div><div class="refsection" id="idm30937"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_Box3D" title="Box3D">Box3D</a></p></div></div><div class="refentry" id="RT_ST_SetSkew"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetSkew — Définit l'obliquité X et Y (skew, ou paramètre de rotation). Si une seule valeur est spécifiée, la même valeur est utilisée pour X et pour Y.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetSkew</strong>(</code>raster  <var class="pdparam">rast</var>, float8  <var class="pdparam">skewxy</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetSkew</strong>(</code>raster  <var class="pdparam">rast</var>, float8  <var class="pdparam">skewx</var>, float8  <var class="pdparam">skewy</var><code>)</code>;</p></div></div><div class="refsection" id="idm30970"><h2>Description</h2><p>Définit l'obliquité X et Y (skew, ou paramètre de rotation). Si une seule valeur est spécifiée, la même valeur est utilisée pour X et pour Y. Voir <a class="link" href="https://fr.wikipedia.org/wiki/World_file" target="_top">World File</a> pour plus de détails.</p></div><div class="refsection" id="idm30974"><h2>Exemples</h2><pre class="programlisting">-- Example 1
UPDATE dummy_rast SET rast = ST_SetSkew(rast,1,2) WHERE rid = 1;
SELECT rid, ST_SkewX(rast) As skewx, ST_SkewY(rast) As skewy,
    ST_GeoReference(rast) as georef
FROM dummy_rast WHERE rid = 1;

rid | skewx | skewy |    georef
----+-------+-------+--------------
  1 |     1 |     2 | 2.0000000000
                    : 2.0000000000
                    : 1.0000000000
                    : 3.0000000000
                    : 0.5000000000
                    : 0.5000000000

                </pre><pre class="programlisting">-- Example 2 set both to same number:
UPDATE dummy_rast SET rast = ST_SetSkew(rast,0) WHERE rid = 1;
SELECT rid, ST_SkewX(rast) As skewx, ST_SkewY(rast) As skewy,
    ST_GeoReference(rast) as georef
FROM dummy_rast WHERE rid = 1;

 rid | skewx | skewy |    georef
-----+-------+-------+--------------
   1 |     0 |     0 | 2.0000000000
                     : 0.0000000000
                     : 0.0000000000
                     : 3.0000000000
                     : 0.5000000000
                     : 0.5000000000
                </pre></div><div class="refsection" id="idm30978"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_SetGeoReference" title="ST_SetGeoReference">ST_SetGeoReference</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>, <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a></p></div></div><div class="refentry" id="RT_ST_SetSRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetSRID — Modifie le SRID d'un raster à une valeur définie dans la table spatial_ref_sys.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetSRID</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm31000"><h2>Description</h2><p>Modifie le SRID d'un raster à une valeur spécifiée.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction ne modifie pas le raster en lui-même : elle définit juste la méta-données définissant le système de référence spatial. Ceci est utile pour ensuite effectuer des transformations. </p></td></tr></table></div></div><div class="refsection" id="idm31005"><h2>Voir aussi</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. Systèmes de référence spatiale">Section 4.5, “Systèmes de référence spatiale”</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="RT_ST_SetUpperLeft"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetUpperLeft — Modifie les coordonnées du pixel du coin supérieur gauche du raster, selon les coordonnées X et Y projetées.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetUpperLeft</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">x</var>, double precision  <var class="pdparam">y</var><code>)</code>;</p></div></div><div class="refsection" id="idm31028"><h2>Description</h2><p>Modifie les coordonnées du pixel du coin supérieur gauche du raster aux coordonnées X et Y projetées</p></div><div class="refsection" id="idm31031"><h2>Exemples</h2><pre class="programlisting">SELECT ST_SetUpperLeft(rast,-71.01,42.37)
FROM dummy_rast
WHERE rid = 2;
                    </pre></div><div class="refsection" id="idm31034"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_UpperLeftX" title="ST_UpperLeftX">ST_UpperLeftX</a>, <a class="xref" href="#RT_ST_UpperLeftY" title="ST_UpperLeftY">ST_UpperLeftY</a></p></div></div><div class="refentry" id="RT_ST_Resample"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Resample — Rééchantillonne un raster, en utilisant l'algorithme spécifié, les nouvelles dimensions, un coin arbitraire de la grille et un ensemble de paramètres de géo-référencement définis ou empruntés à un autre raster. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Resample</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, double precision  <var class="pdparam">gridx=NULL</var>, double precision  <var class="pdparam">gridy=NULL</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Resample</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">scalex=0</var>, double precision  <var class="pdparam">scaley=0</var>, double precision  <var class="pdparam">gridx=NULL</var>, double precision  <var class="pdparam">gridy=NULL</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Resample</strong>(</code>raster  <var class="pdparam">rast</var>, raster  <var class="pdparam">ref</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var>, boolean  <var class="pdparam">usescale=true</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Resample</strong>(</code>raster  <var class="pdparam">rast</var>, raster  <var class="pdparam">ref</var>, boolean  <var class="pdparam">usescale</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p></div></div><div class="refsection" id="idm31141"><h2>Description</h2><p>Rééchantillonne un raster, en utilisant l'algorithme spécifié, les nouvelles dimensions (width &amp; height), un coin de la grille (gridx &amp; gridy) et un ensemble de paramètres de géo-référencement (scalex, scaley, skewx &amp; skewy) définis ou empruntés à un autre raster. Si un raster de référence est spécifié, les deux rasters doivent avoir le même SRID. </p><p>Les nouvelles valeurs des pixels sont calculées par un des algorithmes de rééchantillonnage suivants :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: bullet; "><li class="listitem" style="list-style-type: disc"><p>NearestNeighbor (plus proche voisin)</p></li><li class="listitem" style="list-style-type: disc"><p>Bilinear (Bilinéaire)</p></li><li class="listitem" style="list-style-type: disc"><p>Cubic (Cubique)</p></li><li class="listitem" style="list-style-type: disc"><p>CubicSpline (Cubique Spline)</p></li><li class="listitem" style="list-style-type: disc"><p>Lanczos</p></li><li class="listitem" style="list-style-type: disc"><p>Max</p></li><li class="listitem" style="list-style-type: disc"><p>Min</p></li></ul></div><p>L'algorithme par défaut est NearestNeighbor, qui est le plus rapide mais donne le moins bon résultat.</p><p>Une erreur maximale de 0.125 est utilisée si le paramètre <code class="varname">maxerr</code> n'est pas spécifié. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Voir <a class="link" href="http://www.gdal.org/gdalwarp.html" target="_top">GDAL Warp resampling methods</a> pour plus de détails. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0 Nécessite GDAL 1.6.1+</p><p class="enhanced">Améliration : 3.4.0 ajout des options de rééchantillonnage max et min</p></div><div class="refsection" id="idm31169"><h2>Exemples</h2><pre class="programlisting">SELECT
    ST_Width(orig) AS orig_width,
    ST_Width(reduce_100) AS new_width
FROM (
    SELECT
        rast AS orig,
        ST_Resample(rast,100,100) AS reduce_100
    FROM aerials.boston
    WHERE ST_Intersects(rast,
        ST_Transform(
            ST_MakeEnvelope(-71.128, 42.2392,-71.1277, 42.2397, 4326),26986)
    )
    LIMIT 1
) AS foo;

 orig_width | new_width
------------+-------------
        200 |         100
                </pre></div><div class="refsection" id="idm31172"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a>, <a class="xref" href="#RT_ST_Resize" title="ST_Resize">ST_Resize</a>, <a class="xref" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a> </p></div></div><div class="refentry" id="RT_ST_Rescale"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Rescale — Rééchantillonne un raster en ajustant juste son échelle (ou la taille des pixels). Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline), Lanczos, Max ou Min. La valeur par défaut est NearestNeighbor. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Rescale</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">scalexy</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Rescale</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p></div></div><div class="refsection" id="idm31217"><h2>Description</h2><p>Rééchantillonne un raster en ajustant juste son échelle (ou la taille des pixels). Les nouvelles valeurs des pixels sont calculées en utilisant un des algorithmes de rééchantillonnage suivants :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: bullet; "><li class="listitem" style="list-style-type: disc"><p>NearestNeighbor (plus proche voisin)</p></li><li class="listitem" style="list-style-type: disc"><p>Bilinear (Bilinéaire)</p></li><li class="listitem" style="list-style-type: disc"><p>Cubic (Cubique)</p></li><li class="listitem" style="list-style-type: disc"><p>CubicSpline (Cubique Spline)</p></li><li class="listitem" style="list-style-type: disc"><p>Lanczos</p></li><li class="listitem" style="list-style-type: disc"><p>Max</p></li><li class="listitem" style="list-style-type: disc"><p>Min</p></li></ul></div><p>L'algorithme par défaut est NearestNeighbor, qui est le plus rapide mais donne le moins bon résultat.</p><p><code class="varname">scalex</code> et <code class="varname">scaley</code> définissent la nouvelle taille des pixels. scaley est souvent négatif pour obtenir un raster correctement orienté.</p><p>Quand la nouvelle valeur de scalex (respectivement scaley) n'est pas un diviseur de la hauteur (respectivement largeur) du raster, l'étendue du raster résultant est agrandie pour englober l'étendue du raster d'entrée. Si vous voulez conserver l'étendue exacte du raster d'entrée, utilisez <a class="xref" href="#RT_ST_Resize" title="ST_Resize">ST_Resize</a></p><p><code class="varname">maxerr</code> est le seuil pour l'approximation de l'algorithme de rééchantillonnage (en pixels). La valeur de 0.125 est utilisée si le paramètre <code class="varname">maxerr</code> n'est pas spécifié, qui est la même valeur que celle utilisée par l'utilitaire GDAL gdalwarp. Si définie à 0, aucune approximation n'est effectuée.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Voir <a class="link" href="http://www.gdal.org/gdalwarp.html" target="_top">GDAL Warp resampling methods</a> pour plus de détails. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_Rescale est différent de <a class="xref" href="#RT_ST_SetScale" title="ST_SetScale">ST_SetScale</a> : ST_SetScale ne rééchantillonne pas le raster pour correspondre à l'étendue du raster. ST_SetScale modifie seulement les méta-données (ou lagéo-référence) d'un raster pour corriger une échelle incorrecte. ST_Rescale produit un raster de taille différente pour correspondre à l'étendue spatiale du raster d'entrée. ST_SetScale ne modifie pas la largeur ou hauteur du raster.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0 Nécessite GDAL 1.6.1+</p><p class="enhanced">Améliration : 3.4.0 ajout des options de rééchantillonnage max et min</p><p class="changed">Changement : 2.1.0 Fonctionne avec les rasters sans SRID</p></div><div class="refsection" id="idm31254"><h2>Exemples</h2><p>Exemple simple de rééchantillonnage d'un raster d'une taille de pixel de 0.001 degrés vers une taille de pixel de 0.0015 degrés.</p><pre class="programlisting">-- the original raster pixel size
SELECT ST_PixelWidth(ST_AddBand(ST_MakeEmptyRaster(100, 100, 0, 0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0)) width

   width
----------
0.001

-- the rescaled raster raster pixel size
SELECT ST_PixelWidth(ST_Rescale(ST_AddBand(ST_MakeEmptyRaster(100, 100, 0, 0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0), 0.0015)) width

   width
----------
0.0015
</pre></div><div class="refsection" id="idm31258"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Resize" title="ST_Resize">ST_Resize</a>, <a class="xref" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a>, <a class="xref" href="#RT_ST_SetScale" title="ST_SetScale">ST_SetScale</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a> </p></div></div><div class="refentry" id="RT_ST_Reskew"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Reskew — Rééchantillonne un raster en ajustant simplement son obliquité (skew, ou paramètre de rotation). Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Reskew</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">skewxy</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Reskew</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">skewx</var>, double precision  <var class="pdparam">skewy</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p></div></div><div class="refsection" id="idm31306"><h2>Description</h2><p>Rééchantillonne un raster en ajustant simplement son obliquité (skew, ou paramètre de rotation). Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor, qui est le plus rapide mais donne le moins bon résultat.</p><p><code class="varname">skewx</code> et <code class="varname">skewy</code> définissent la nouvelle obliquité.</p><p>L'étendue du nouveau raster englobe l'étendu du raster en entrée.</p><p>Un pourcentage maximal d'erreur de 0.125 % est utilisé si le paramètre <code class="varname">maxerr</code> n'est pas spécifié.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Voir <a class="link" href="http://www.gdal.org/gdalwarp.html" target="_top">GDAL Warp resampling methods</a> pour plus de détails. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_Reskew est différent de <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a> : ST_SetSkew ne rééchantillonne pas le raster pour correspondre à l'étendue du raster. ST_SetSkew modifie seulement les méta-données (ou la géo-référence) du raster pour corriger une obliquité incorrecte. ST_Reskew produit un raster de taille différente pour correspondre à l'étendue spatiale du raster d'entrée. ST_SetSkew ne modifie pas la largeur ou hauteur du raster.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0 Nécessite GDAL 1.6.1+</p><p class="changed">Changement : 2.1.0 Fonctionne avec les rasters sans SRID</p></div><div class="refsection" id="idm31323"><h2>Exemples</h2><p>Exemple simple de rééchantillonnage d'un raster d'une obliquité de 0.0 à 0.0015.</p><pre class="programlisting">-- the original raster non-rotated
SELECT ST_Rotation(ST_AddBand(ST_MakeEmptyRaster(100, 100, 0, 0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0));

-- result
0

-- the reskewed raster raster rotation
SELECT ST_Rotation(ST_Reskew(ST_AddBand(ST_MakeEmptyRaster(100, 100, 0, 0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0), 0.0015));

-- result
-0.982793723247329</pre></div><div class="refsection" id="idm31327"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a>, <a class="xref" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a>, <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a>, <a class="xref" href="#RT_ST_SetRotation" title="ST_SetRotation">ST_SetRotation</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>, <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a>, <a class="xref" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="RT_ST_SnapToGrid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SnapToGrid — Rééchantillonne un raster en l'accrochant sur une grille. Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SnapToGrid</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">gridx</var>, double precision  <var class="pdparam">gridy</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var>, double precision  <var class="pdparam">scalex=DEFAULT 0</var>, double precision  <var class="pdparam">scaley=DEFAULT 0</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SnapToGrid</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">gridx</var>, double precision  <var class="pdparam">gridy</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SnapToGrid</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">gridx</var>, double precision  <var class="pdparam">gridy</var>, double precision  <var class="pdparam">scalexy</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p></div></div><div class="refsection" id="idm31412"><h2>Description</h2><p>Rééchantillonne un raster en l'accrochant sur une grille définie par un coin arbitraire (gridx &amp; gridy) et une taille de pixel optionnelle (scalex &amp; scaley). Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor, qui est le plus rapide mais donne le moins bon résultat.</p><p><code class="varname">gridx</code> et <code class="varname">gridy</code> définissent le pixel d'un coin arbitraire de la nouvelle grille. Ce n'est pas nécessairement le coin supérieur gauche du nouveau raster, et n'a pas besoin d'être à l'intérieur ou sur les bords de l'emprise du nouveau raster.</p><p>Il est possible de définir une taille de pixel pour la nouvelle grille avec les paramètres optionnels <code class="varname">scalex</code> et <code class="varname">scaley</code>.</p><p>L'étendue du nouveau raster englobe l'étendu du raster en entrée.</p><p>Un pourcentage maximal d'erreur de 0.125 % est utilisé si le paramètre <code class="varname">maxerr</code> n'est pas spécifié.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Voir <a class="link" href="http://www.gdal.org/gdalwarp.html" target="_top">GDAL Warp resampling methods</a> pour plus de détails. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Voir <a class="xref" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a> pour plus de contrôle sur les paramètres de la grille.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0 Nécessite GDAL 1.6.1+</p><p class="changed">Changement : 2.1.0 Fonctionne avec les rasters sans SRID</p></div><div class="refsection" id="idm31432"><h2>Exemples</h2><p>Exemple simple d'accrochage d'un raster sur une grille légèrement différente.</p><pre class="programlisting">-- the original raster upper left X
SELECT ST_UpperLeftX(ST_AddBand(ST_MakeEmptyRaster(10, 10, 0, 0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0));
-- result
0

-- the upper left of raster after snapping
SELECT ST_UpperLeftX(ST_SnapToGrid(ST_AddBand(ST_MakeEmptyRaster(10, 10, 0, 0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0), 0.0002, 0.0002));

--result
-0.0008</pre></div><div class="refsection" id="idm31436"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a>, <a class="xref" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a>, <a class="xref" href="#RT_ST_UpperLeftX" title="ST_UpperLeftX">ST_UpperLeftX</a>, <a class="xref" href="#RT_ST_UpperLeftY" title="ST_UpperLeftY">ST_UpperLeftY</a></p></div></div><div class="refentry" id="RT_ST_Resize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Resize — Redimensionne un raster à une nouvelle largeur/hauteur</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Resize</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Resize</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">percentwidth</var>, double precision  <var class="pdparam">percentheight</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Resize</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">width</var>, text  <var class="pdparam">height</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p></div></div><div class="refsection" id="idm31503"><h2>Description</h2><p>Redimensionne un raster à une nouvelle largeur/hauteur. La nouvelle largeur/hauteur peut être spécifiée comme un nombre exact de pixels ou un pourcentage de la taille du raster. L'étendue du nouveau raster est la même que le raster d'entrée. </p><p>Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor, qui est le plus rapide mais donne le moins bon résultat. </p><p>La variante 1 attend la largeur/hauteur réelle du raster de sortie. </p><p>La variante 2 attend des valeurs décimales entre zéro (0) et un (1) indiquant le pourcentage de la largeur/hauteur du raster d'entrée. </p><p>La variante 3 prend en compte soit la largeur/hauteur réelle du raster de sortie ou un pourcentage sous forme de texte ("20%") indiquant le pourcentage de la largeur/hauteur du raster d'entrée. </p><p class="availability">Disponibilité : 2.1.0 Nécessite GDAL 1.6.1+</p></div><div class="refsection" id="idm31511"><h2>Exemples</h2><pre class="programlisting">WITH foo AS(
SELECT
    1 AS rid,
    ST_Resize(
        ST_AddBand(
            ST_MakeEmptyRaster(1000, 1000, 0, 0, 1, -1, 0, 0, 0)
            , 1, '8BUI', 255, 0
        )
    , '50%', '500') AS rast
UNION ALL
SELECT
    2 AS rid,
    ST_Resize(
        ST_AddBand(
            ST_MakeEmptyRaster(1000, 1000, 0, 0, 1, -1, 0, 0, 0)
            , 1, '8BUI', 255, 0
        )
    , 500, 100) AS rast
UNION ALL
SELECT
    3 AS rid,
    ST_Resize(
        ST_AddBand(
            ST_MakeEmptyRaster(1000, 1000, 0, 0, 1, -1, 0, 0, 0)
            , 1, '8BUI', 255, 0
        )
    , 0.25, 0.9) AS rast
), bar AS (
    SELECT rid, ST_Metadata(rast) AS meta, rast FROM foo
)
SELECT rid, (meta).* FROM bar

 rid | upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands
-----+------------+------------+-------+--------+--------+--------+-------+-------+------+----------
   1 |          0 |          0 |   500 |    500 |      1 |     -1 |     0 |     0 |    0 |        1
   2 |          0 |          0 |   500 |    100 |      1 |     -1 |     0 |     0 |    0 |        1
   3 |          0 |          0 |   250 |    900 |      1 |     -1 |     0 |     0 |    0 |        1
(3 rows)
                </pre></div><div class="refsection" id="idm31514"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a>, <a class="xref" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a>, <a class="xref" href="#RT_ST_Reskew" title="ST_Reskew">ST_Reskew</a>, <a class="xref" href="#RT_ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a> </p></div></div><div class="refentry" id="RT_ST_Transform"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Transform — Reprojette un raster depuis un système de référence spatial vers un autre, en utilisant l'algorithme de rééchantillonnage spécifié. Les algorithmes possibles sont NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Transform</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">srid</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Transform</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">srid</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Transform</strong>(</code>raster  <var class="pdparam">rast</var>, raster  <var class="pdparam">alignto</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p></div></div><div class="refsection" id="idm31584"><h2>Description</h2><p>Reprojette un raster depuis un système de référence spatial vers un autre, en utilisant l'algorithme de rééchantillonnage spécifié. L'algorithme utilisé par défaut est NearestNeighbor si aucun n'est spécifié. Le pourcentage d'erreur maximal est 0.125 si maxerr n'est pas spécifié.</p><p>Les algorithmes disponibles sont : 'NearestNeighbor' (plus proche voisin), 'Bilinear' (Bilinéaire), 'Cubic' (Cubique), 'CubicSpline' (Cubique Spline) et 'Lanczos'. Voir <a class="link" href="http://www.gdal.org/gdalwarp.html" target="_top">GDAL Warp resampling methods</a> pour plus de détails.</p><p>ST_Transform est souvent confondu avec ST_SetSRID(). ST_Transform modifie réellement les coordonnées du raster (et rééchantillonne les valeurs des pixels) d'un système de référence spatial vers un autre, alors que ST_SetSRID() change uniquement l'identifiant SRID du raster. </p><p>Contrairement aux autres variantes, la variante 3 nécessite un raster de référence <code class="varname">alignto</code>. Le raster de sortie sera transformé dans le système de référence spatial (SRID) du raster de référence et sera aligné (ST_SameAlignment = TRUE) avec le raster de référence. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous constatez que votre support de transformation ne fonctionne pas correctement, il se peut que vous deviez définir la variable d'environnement PROJSO avec la bibliothèque de projection .so ou .dll utilisée par PostGIS. Il suffit que le nom du fichier soit indiqué. Par exemple, sous Windows, dans Panneau de configuration -&gt; Système -&gt; Variables d'environnement, ajoutez une variable système appelée <code class="varname">PROJSO</code> et définissez-la sur <code class="varname">libproj.dll</code> (si vous utilisez proj 4.6.1). Vous devrez redémarrer votre service/daemon PostgreSQL après ce changement. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Lors de la transformation d'une couverture tuilée, vous voudrez en général utiliser un raster de référence pour garantir le même alignement et sans lacunes dans les tuiles, comme le montre l'exemple Variante 3. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0 Nécessite GDAL 1.6.1+</p><p class="enhanced">Amélioration : 2.1.0 Ajout de la variante ST_Transform(rast, alignto)</p></div><div class="refsection" id="idm31600"><h2>Exemples</h2><pre class="programlisting">SELECT ST_Width(mass_stm) As w_before, ST_Width(wgs_84) As w_after,
  ST_Height(mass_stm) As h_before, ST_Height(wgs_84) As h_after
    FROM
    ( SELECT rast As mass_stm, ST_Transform(rast,4326) As wgs_84
  ,  ST_Transform(rast,4326, 'Bilinear') AS wgs_84_bilin
        FROM aerials.o_2_boston
            WHERE ST_Intersects(rast,
                ST_Transform(ST_MakeEnvelope(-71.128, 42.2392,-71.1277, 42.2397, 4326),26986) )
        LIMIT 1) As foo;

 w_before | w_after | h_before | h_after
----------+---------+----------+---------
      200 |     228 |      200 |     170
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/rt_st_transform01.png"/><div class="caption"><p>mass_stm original</p></div></div></div>
         </td><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/rt_st_transform02.png"/><div class="caption"><p>Après transformation en WGS84 long lat (wgs_84)</p></div></div></div>
         </td><td><div class="informalfigure"><div class="mediaobject"><img src="images/rt_st_transform03.png"/><div class="caption"><p>Après transformation en WGS84 long lat avec interpolation bilinéaire au lieu de NN par défaut (wgs_84_bilin)</p></div></div></div>
         </td></tr></tbody></table></div></div><div class="refsection" id="idm31631"><h2>Exemples : Variante 3</h2><p>L'exemple suivant montre la différence entre ST_Transform(raster, srid) et ST_Transform(raster, alignto)</p><pre class="programlisting">WITH foo AS (
    SELECT 0 AS rid, ST_AddBand(ST_MakeEmptyRaster(2, 2, -500000, 600000, 100, -100, 0, 0, 2163), 1, '16BUI', 1, 0) AS rast UNION ALL
    SELECT 1, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499800, 600000, 100, -100, 0, 0, 2163), 1, '16BUI', 2, 0) AS rast UNION ALL
    SELECT 2, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499600, 600000, 100, -100, 0, 0, 2163), 1, '16BUI', 3, 0) AS rast UNION ALL

    SELECT 3, ST_AddBand(ST_MakeEmptyRaster(2, 2, -500000, 599800, 100, -100, 0, 0, 2163), 1, '16BUI', 10, 0) AS rast UNION ALL
    SELECT 4, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499800, 599800, 100, -100, 0, 0, 2163), 1, '16BUI', 20, 0) AS rast UNION ALL
    SELECT 5, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499600, 599800, 100, -100, 0, 0, 2163), 1, '16BUI', 30, 0) AS rast UNION ALL

    SELECT 6, ST_AddBand(ST_MakeEmptyRaster(2, 2, -500000, 599600, 100, -100, 0, 0, 2163), 1, '16BUI', 100, 0) AS rast UNION ALL
    SELECT 7, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499800, 599600, 100, -100, 0, 0, 2163), 1, '16BUI', 200, 0) AS rast UNION ALL
    SELECT 8, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499600, 599600, 100, -100, 0, 0, 2163), 1, '16BUI', 300, 0) AS rast
), bar AS (
    SELECT
        ST_Transform(rast, 4269) AS alignto
    FROM foo
    LIMIT 1
), baz AS (
    SELECT
        rid,
        rast,
        ST_Transform(rast, 4269) AS not_aligned,
        ST_Transform(rast, alignto) AS aligned
    FROM foo
    CROSS JOIN bar
)
SELECT
    ST_SameAlignment(rast) AS rast,
    ST_SameAlignment(not_aligned) AS not_aligned,
    ST_SameAlignment(aligned) AS aligned
FROM baz

 rast | not_aligned | aligned
------+-------------+---------
 t    | f           | t
                </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/rt_st_transform04.png"/><div class="caption"><p>Non aligné (not_aligned)</p></div></div></div><p>
                          </p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/rt_st_transform05.png"/><div class="caption"><p>Aligné (aligned)</p></div></div></div><p>
                        </p></td></tr></tbody></table></div></div><div class="refsection" id="idm31655"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>, <a class="xref" href="#RT_ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a></p></div></div></section><section class="section" id="RasterBand_Editors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.8. Éditeurs de bandes raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_SetBandNoDataValue">ST_SetBandNoDataValue</a></span><span class="refpurpose"> — Définit la valeur pour l'absence de données (nodata) pour la bande spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée. Pour indiquer qu'une bande n'a pas de valeur nodata, définir la valeur nodata = NULL.</span></li><li><span class="refentrytitle"><a href="#RT_ST_SetBandIsNoData">ST_SetBandIsNoData</a></span><span class="refpurpose"> — Définit la valeur du flag isnodata de la bande à TRUE.</span></li><li><span class="refentrytitle"><a href="#RT_ST_SetBandPath">ST_SetBandPath</a></span><span class="refpurpose"> — Met à jour le chemin externe et le numéro de bande d'une bande out-db</span></li><li><span class="refentrytitle"><a href="#RT_ST_SetBandIndex">ST_SetBandIndex</a></span><span class="refpurpose"> — Met à jour le numéro de bande externe d'une bande out-db</span></li></ul></div><div class="refentry" id="RT_ST_SetBandNoDataValue"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetBandNoDataValue — Définit la valeur pour l'absence de données (nodata) pour la bande spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée. Pour indiquer qu'une bande n'a pas de valeur nodata, définir la valeur nodata = NULL.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetBandNoDataValue</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">nodatavalue</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetBandNoDataValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, double precision  <var class="pdparam">nodatavalue</var>, boolean  <var class="pdparam">forcechecking=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm31692"><h2>Description</h2><p>Définit la valeur pour l'absence de données (nodata) pour la bande spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée. Cette valeur affecte les résultats de <a class="xref" href="#RT_ST_Polygon" title="ST_Polygon">ST_Polygon</a>, <a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, ainsi que les fonctions ST_PixelAs...().</p></div><div class="refsection" id="idm31697"><h2>Exemples</h2><pre class="programlisting">-- change just first band no data value
UPDATE dummy_rast
    SET rast = ST_SetBandNoDataValue(rast,1, 254)
WHERE rid = 2;

-- change no data band value of bands 1,2,3
UPDATE dummy_rast
    SET rast =
        ST_SetBandNoDataValue(
            ST_SetBandNoDataValue(
                ST_SetBandNoDataValue(
                    rast,1, 254)
                ,2,99),
                3,108)
        WHERE rid = 2;

-- wipe out the nodata value this will ensure all pixels are considered for all processing functions
UPDATE dummy_rast
    SET rast = ST_SetBandNoDataValue(rast,1, NULL)
WHERE rid = 2;
                    </pre></div><div class="refsection" id="idm31700"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_BandNoDataValue" title="ST_BandNoDataValue">ST_BandNoDataValue</a>, <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a></p></div></div><div class="refentry" id="RT_ST_SetBandIsNoData"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetBandIsNoData — Définit la valeur du flag isnodata de la bande à TRUE.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetBandIsNoData</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm31720"><h2>Description</h2><p>Définit la valeur du flag isnodata de la bande à TRUE. Si aucune bande n'est spécifiée, la bande 1 est utilisée. Cette fonction ne devrait être appelée que si le flag est considéré comme obsolète, i.e. si le résultat de <a class="xref" href="#RT_ST_BandIsNoData" title="ST_BandIsNoData">ST_BandIsNoData</a> est différent selon qu'on utilise TRUE comme dernier argument ou non</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm31725"><h2>Exemples</h2><pre class="programlisting">-- Create dummy table with one raster column
create table dummy_rast (rid integer, rast raster);

-- Add raster with two bands, one pixel/band. In the first band, nodatavalue = pixel value = 3.
-- In the second band, nodatavalue = 13, pixel value = 4
insert into dummy_rast values(1,
(
'01' -- little endian (uint8 ndr)
||
'0000' -- version (uint16 0)
||
'0200' -- nBands (uint16 0)
||
'17263529ED684A3F' -- scaleX (float64 0.000805965234044584)
||
'F9253529ED684ABF' -- scaleY (float64 -0.00080596523404458)
||
'1C9F33CE69E352C0' -- ipX (float64 -75.5533328537098)
||
'718F0E9A27A44840' -- ipY (float64 49.2824585505576)
||
'ED50EB853EC32B3F' -- skewX (float64 0.000211812383858707)
||
'7550EB853EC32B3F' -- skewY (float64 0.000211812383858704)
||
'E6100000' -- SRID (int32 4326)
||
'0100' -- width (uint16 1)
||
'0100' -- height (uint16 1)
||
'4' -- hasnodatavalue set to true, isnodata value set to false (when it should be true)
||
'2' -- first band type (4BUI)
||
'03' -- novalue==3
||
'03' -- pixel(0,0)==3 (same that nodata)
||
'0' -- hasnodatavalue set to false
||
'5' -- second band type (16BSI)
||
'0D00' -- novalue==13
||
'0400' -- pixel(0,0)==4
)::raster
);

select st_bandisnodata(rast, 1) from dummy_rast where rid = 1; -- Expected false
select st_bandisnodata(rast, 1, TRUE) from dummy_rast where rid = 1; -- Expected true

-- The isnodata flag is dirty. We are going to set it to true
update dummy_rast set rast = st_setbandisnodata(rast, 1) where rid = 1;


select st_bandisnodata(rast, 1) from dummy_rast where rid = 1; -- Expected true

                    </pre></div><div class="refsection" id="idm31728"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_BandNoDataValue" title="ST_BandNoDataValue">ST_BandNoDataValue</a>, <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a>, <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a>, <a class="xref" href="#RT_ST_BandIsNoData" title="ST_BandIsNoData">ST_BandIsNoData</a></p></div></div><div class="refentry" id="RT_ST_SetBandPath"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetBandPath — Met à jour le chemin externe et le numéro de bande d'une bande out-db</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetBandPath</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, text  <var class="pdparam">outdbpath</var>, integer  <var class="pdparam">outdbindex</var>, boolean  <var class="pdparam">force=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm31759"><h2>Description</h2><p>Met à jour le chemin externe et le numéro de bande d'une bande externe out-db.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si <code class="varname">force</code> est true, aucun test n'est effectué pour garantir la compatibilité (e.g. alignement, support des pixels) entre le fichier raster externe et le raster PostGIS. Ce mode est prévu pour les changements sur le système de fichiers où réside le raster externe. </p></td></tr></table></div><p class="availability">Disponibilité : 2.5.0</p></div><div class="refsection" id="idm31766"><h2>Exemples</h2><pre class="programlisting">WITH foo AS (
    SELECT
        ST_AddBand(NULL::raster, '/home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif', NULL::int[]) AS rast
)
SELECT
    1 AS query,
    *
FROM ST_BandMetadata(
    (SELECT rast FROM foo),
    ARRAY[1,3,2]::int[]
)
UNION ALL
SELECT
    2,
    *
FROM ST_BandMetadata(
    (
        SELECT
            <span class="strong"><strong>ST_SetBandPath(
                rast,
                2,
                '/home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected2.tif',
                1
            )</strong></span> AS rast
        FROM foo
    ),
    ARRAY[1,3,2]::int[]
)
ORDER BY 1, 2;

 query | bandnum | pixeltype | nodatavalue | isoutdb |                                      path                                       | outdbbandnum
-------+---------+-----------+-------------+---------+---------------------------------------------------------------------------------+--------------
     1 |       1 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            1
     1 |       2 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            2
     1 |       3 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            3
     2 |       1 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            1
<span class="strong"><strong>     2 |       2 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected2.tif      |            1</strong></span>
     2 |       3 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            3
                </pre></div><div class="refsection" id="idm31771"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a>, <a class="xref" href="#RT_ST_SetBandIndex" title="ST_SetBandIndex">ST_SetBandIndex</a> </p></div></div><div class="refentry" id="RT_ST_SetBandIndex"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetBandIndex — Met à jour le numéro de bande externe d'une bande out-db</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetBandIndex</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, integer  <var class="pdparam">outdbindex</var>, boolean  <var class="pdparam">force=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm31797"><h2>Description</h2><p>Met à jour le numéro de bande externe d'une bande out-db. Cette opération n'affecte pas le fichier raster externe associé à la bande out-db</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si <code class="varname">force</code> est true, aucun test n'est effectué pour assurer la compatibilité (e.g., l'alignement, le support des pixels) entre le fichier raster externe et le raster PostGIS. Ce mode est destiné aux cas où les bandes sont déplacées dans le fichier raster externe. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>En interne, cette méthode remplacement la bande du raster PostGIS à l'index <code class="varname">band</code> avec la nouvelle bande, au lieu de mettre à jour les informations de chemin existantes. </p></td></tr></table></div><p class="availability">Disponibilité : 2.5.0</p></div><div class="refsection" id="idm31807"><h2>Exemples</h2><pre class="programlisting">WITH foo AS (
    SELECT
        ST_AddBand(NULL::raster, '/home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif', NULL::int[]) AS rast
)
SELECT
    1 AS query,
    *
FROM ST_BandMetadata(
    (SELECT rast FROM foo),
    ARRAY[1,3,2]::int[]
)
UNION ALL
SELECT
    2,
    *
FROM ST_BandMetadata(
    (
        SELECT
            <span class="strong"><strong>ST_SetBandIndex(
                rast,
                2,
                1
            )</strong></span> AS rast
        FROM foo
    ),
    ARRAY[1,3,2]::int[]
)
ORDER BY 1, 2;

 query | bandnum | pixeltype | nodatavalue | isoutdb |                                      path                                       | outdbbandnum
-------+---------+-----------+-------------+---------+---------------------------------------------------------------------------------+--------------
     1 |       1 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            1
     1 |       2 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            2
     1 |       3 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            3
     2 |       1 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            1
<span class="strong"><strong>     2 |       2 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            1</strong></span>
     2 |       3 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            3
                </pre></div><div class="refsection" id="idm31812"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a>, <a class="xref" href="#RT_ST_SetBandPath" title="ST_SetBandPath">ST_SetBandPath</a> </p></div></div></section><section class="section" id="RasterBand_Stats"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.9. Statistiques et analyses des bandes raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_Count">ST_Count</a></span><span class="refpurpose"> — Renvoie le nombre de pixels dans une bande donnée d'un raster ou d'une couverture raster. Si aucune bande n'est spécifiée, la valeur par défaut est la bande 1. Si exclude_nodata_value est true, seuls les pixels dont la valeur est différente de la valeur nodata seront comptés.</span></li><li><span class="refentrytitle"><a href="#RT_ST_CountAgg">ST_CountAgg</a></span><span class="refpurpose"> — Agrégat. Renvoie le nombre de pixels dans une bande donnée d'un ensemble de rasters. Si aucune bande n'est spécifiée, la valeur par défaut est la bande 1. Si exclude_nodata_value est true, seuls les pixels différents de la valeur NODATA seront comptés. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Histogram">ST_Histogram</a></span><span class="refpurpose"> — Retourne un ensemble d'enregistrements résumant une distribution de données raster ou de couverture raster, dans des classes distinctes. Le nombre de classes est calculé automatiquement s'il n'est pas spécifié.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Quantile">ST_Quantile</a></span><span class="refpurpose"> — Calcule les quantiles d'un raster ou d'une couverture raster, dans le contexte de l'échantillon ou de la population. Ainsi, une valeur peut être examinée pour se situer au percentile de 25%, 50% ou 75% du raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_SummaryStats">ST_SummaryStats</a></span><span class="refpurpose"> — Retourne des résumés statistiques (count, sum, mean, stddev, min, max) pour une bande raster ou une couverture raster spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</span></li><li><span class="refentrytitle"><a href="#RT_ST_SummaryStatsAgg">ST_SummaryStatsAgg</a></span><span class="refpurpose"> — Agrégat. Retourne des résumés statistiques (count, sum, mean, stddev, min, max) pour une bande raster spécifiée pour une ensemble de rasters. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</span></li><li><span class="refentrytitle"><a href="#RT_ST_ValueCount">ST_ValueCount</a></span><span class="refpurpose"> — Retourne un ensemble d'enregistrements contenant une valeur de pixels et le nombre de pixels ayant cette valeur dans la bande du raster spécifié (ou de la couverture raster). Si aucune bande n'est spécifiée, la bande 1 est utilisée. Par défaut, les pixels de valeur nodata ne sont pas comptés, et toutes les autres valeurs sont retournées, avec leur valeur arrondies à l'entier le plus proche.</span></li></ul></div><div class="refentry" id="RT_ST_Count"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Count — Renvoie le nombre de pixels dans une bande donnée d'un raster ou d'une couverture raster. Si aucune bande n'est spécifiée, la valeur par défaut est la bande 1. Si exclude_nodata_value est true, seuls les pixels dont la valeur est différente de la valeur nodata seront comptés.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bigint <strong class="fsfunc">ST_Count</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband=1</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_Count</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">exclude_nodata_value</var><code>)</code>;</p></div></div><div class="refsection" id="idm31846"><h2>Description</h2><p>Renvoie le nombre de pixels dans une bande donnée d'un raster ou d'une couverture raster. Si aucune bande <code class="varname">nband</code> n'est spécifiée, la valeur par défaut est 1. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si <code class="varname">exclude_nodata_value</code> est true, seuls les pixels dont la valeur est différente de la valeur <code class="varname">nodata</code> du raster seront comptés. Définir <code class="varname">exclude_nodata_value</code> à false pour compter tous les pixels</p></td></tr></table></div><p class="changed">Changement : 3.1.0 - Suppression des variantes ST_Count(rastertable, rastercolumn, ...). Utiliser <a class="xref" href="#RT_ST_CountAgg" title="ST_CountAgg">ST_CountAgg</a> à la place.</p><p class="availability">Disponibilité : 2.0.0 </p></div><div class="refsection" id="idm31858"><h2>Exemples</h2><pre class="programlisting">--example will count all pixels not 249 and one will count all pixels.  --
SELECT rid, ST_Count(ST_SetBandNoDataValue(rast,249)) As exclude_nodata,
        ST_Count(ST_SetBandNoDataValue(rast,249),false) As include_nodata
    FROM dummy_rast WHERE rid=2;

rid | exclude_nodata | include_nodata
-----+----------------+----------------
   2 |             23 |             25
                </pre></div><div class="refsection" id="idm31861"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_CountAgg" title="ST_CountAgg">ST_CountAgg</a>, <a class="xref" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a>, <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a> </p></div></div><div class="refentry" id="RT_ST_CountAgg"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CountAgg — Agrégat. Renvoie le nombre de pixels dans une bande donnée d'un ensemble de rasters. Si aucune bande n'est spécifiée, la valeur par défaut est la bande 1. Si exclude_nodata_value est true, seuls les pixels différents de la valeur NODATA seront comptés. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bigint <strong class="fsfunc">ST_CountAgg</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, double precision  <var class="pdparam">sample_percent</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_CountAgg</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_CountAgg</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">exclude_nodata_value</var><code>)</code>;</p></div></div><div class="refsection" id="idm31909"><h2>Description</h2><p>Renvoie le nombre de pixels dans une bande donnée d'un ensemble de rasters. Si aucune bande <code class="varname">nband</code> n'est spécifiée, la valeur par défaut est 1.</p><p>Si <code class="varname">exclude_nodata_value</code> est true, seuls les pixels dont la valeur est différente de la valeur <code class="varname">nodata</code> du raster seront comptés. Définir <code class="varname">exclude_nodata_value</code> à false pour compter tous les pixels </p><p>Par défaut, tous les pixels sont échantillonnés. Pour obtenir une réponse plus rapide, définir <code class="varname">sample_percent</code> à une valeur comprise entre zéro (0) et un (1)</p><p class="availability">Disponibilité : 2.2.0 </p></div><div class="refsection" id="idm31920"><h2>Exemples</h2><pre class="programlisting">WITH foo AS (
    SELECT
        rast.rast
    FROM (
        SELECT ST_SetValue(
            ST_SetValue(
                ST_SetValue(
                    ST_AddBand(
                        ST_MakeEmptyRaster(10, 10, 10, 10, 2, 2, 0, 0,0)
                        , 1, '64BF', 0, 0
                    )
                    , 1, 1, 1, -10
                )
                , 1, 5, 4, 0
            )
            , 1, 5, 5, 3.14159
        ) AS rast
    ) AS rast
    FULL JOIN (
        SELECT generate_series(1, 10) AS id
    ) AS id
        ON 1 = 1
)
SELECT
    ST_CountAgg(rast, 1, TRUE)
FROM foo;

 st_countagg
-------------
          20
(1 row)
                </pre></div><div class="refsection" id="idm31923"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Count" title="ST_Count">ST_Count</a>, <a class="xref" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a>, <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a> </p></div></div><div class="refentry" id="RT_ST_Histogram"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Histogram — Retourne un ensemble d'enregistrements résumant une distribution de données raster ou de couverture raster, dans des classes distinctes. Le nombre de classes est calculé automatiquement s'il n'est pas spécifié.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_Histogram</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband=1</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var>, integer  <var class="pdparam">bins=autocomputed</var>, double precision[]  <var class="pdparam">width=NULL</var>, boolean  <var class="pdparam">right=false</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_Histogram</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">bins</var>, double precision[]  <var class="pdparam">width=NULL</var>, boolean  <var class="pdparam">right=false</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_Histogram</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, integer  <var class="pdparam">bins</var>, boolean  <var class="pdparam">right</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_Histogram</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">bins</var>, boolean  <var class="pdparam">right</var><code>)</code>;</p></div></div><div class="refsection" id="idm32007"><h2>Description</h2><p>Retourne un ensemble d'enregistrements composés de min, max, count, percent pour une bande raster donnée pour chaque classe. Si aucune bande <code class="varname">nband</code> n'est spécifiée, la bande 1 est utilisée. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Par défaut, seules les valeurs de pixels différentes de la valeur <code class="varname">nodata</code> sont prises en compte. Définir <code class="varname">exclude_nodata_value</code> à false pour obtenir le comptage de tous les pixels.</p></td></tr></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">width</code></span></dt><dd><p>width : un tableau indiquant la largeur de chaque classe. Si le nombre de classes est supérieur au nombre de largeurs, les largeurs sont répétées. </p><p>Exemple : 9 classes, les largeurs étant [a, b, c], le résultat sera [a, b, c, a, b, c, a, b, c]</p></dd><dt><span class="term"><code class="varname">bins</code></span></dt><dd><p>Nombre de classes -- c'est le nombre d'enregistrements retournés par la fonction si spécifié. Si non spécifié, le nombre de classes est calculé automatiquement.</p></dd><dt><span class="term"><code class="varname">right</code></span></dt><dd><p>calcule l'histogramme à partir de la droite plutôt que de la gauche (par défaut). Cela modifie les critères d'évaluation d'une valeur x de [a, b) à (a, b]</p></dd></dl></div><p class="changed">Changement : 3.1.0 Suppression de la variante ST_Histogram(table_name, column_name). </p><p class="availability">Disponibilité : 2.0.0 </p></div><div class="refsection" id="idm32034"><h2>Exemple : Une seule tuile raster - calcul des histogrames pour les bandes 1, 2, 3 avec calcul automatique des classes</h2><pre class="programlisting">SELECT band, (stats).*
FROM (SELECT rid, band, ST_Histogram(rast, band) As stats
    FROM dummy_rast CROSS JOIN generate_series(1,3) As band
     WHERE rid=2) As foo;

 band |  min  |  max  | count | percent
------+-------+-------+-------+---------
    1 |   249 |   250 |     2 |    0.08
    1 |   250 |   251 |     2 |    0.08
    1 |   251 |   252 |     1 |    0.04
    1 |   252 |   253 |     2 |    0.08
    1 |   253 |   254 |    18 |    0.72
    2 |    78 | 113.2 |    11 |    0.44
    2 | 113.2 | 148.4 |     4 |    0.16
    2 | 148.4 | 183.6 |     4 |    0.16
    2 | 183.6 | 218.8 |     1 |    0.04
    2 | 218.8 |   254 |     5 |     0.2
    3 |    62 | 100.4 |    11 |    0.44
    3 | 100.4 | 138.8 |     5 |     0.2
    3 | 138.8 | 177.2 |     4 |    0.16
    3 | 177.2 | 215.6 |     1 |    0.04
    3 | 215.6 |   254 |     4 |    0.16</pre></div><div class="refsection" id="idm32037"><h2>Exemple : Seulement la bande 2, mais avec 6 classes</h2><pre class="programlisting">SELECT (stats).*
FROM (SELECT rid, ST_Histogram(rast, 2,6) As stats
    FROM dummy_rast
     WHERE rid=2) As foo;

    min     |    max     | count | percent
------------+------------+-------+---------
         78 | 107.333333 |     9 |    0.36
 107.333333 | 136.666667 |     6 |    0.24
 136.666667 |        166 |     0 |       0
        166 | 195.333333 |     4 |    0.16
 195.333333 | 224.666667 |     1 |    0.04
 224.666667 |        254 |     5 |     0.2
(6 rows)

-- Same as previous but we explicitly control the pixel value range of each bin.
SELECT (stats).*
FROM (SELECT rid, ST_Histogram(rast, 2,6,ARRAY[0.5,1,4,100,5]) As stats
    FROM dummy_rast
     WHERE rid=2) As foo;

  min  |  max  | count | percent
-------+-------+-------+----------
    78 |  78.5 |     1 |     0.08
  78.5 |  79.5 |     1 |     0.04
  79.5 |  83.5 |     0 |        0
  83.5 | 183.5 |    17 |   0.0068
 183.5 | 188.5 |     0 |        0
 188.5 |   254 |     6 | 0.003664
(6 rows)</pre></div><div class="refsection" id="idm32040"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Count" title="ST_Count">ST_Count</a>, <a class="xref" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a>, <a class="xref" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a> </p></div></div><div class="refentry" id="RT_ST_Quantile"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Quantile — Calcule les quantiles d'un raster ou d'une couverture raster, dans le contexte de l'échantillon ou de la population. Ainsi, une valeur peut être examinée pour se situer au percentile de 25%, 50% ou 75% du raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband=1</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var>, double precision[]  <var class="pdparam">quantiles=NULL</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, double precision[]  <var class="pdparam">quantiles</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, double precision[]  <var class="pdparam">quantiles</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">quantile</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, double precision  <var class="pdparam">quantile=NULL</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, double precision  <var class="pdparam">quantile</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, double precision  <var class="pdparam">quantile</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, double precision  <var class="pdparam">quantile</var><code>)</code>;</p></div></div><div class="refsection" id="idm32148"><h2>Description</h2><p>Calcule les quantiles d'un raster ou d'une couverture raster, dans le contexte de l'échantillon ou de la population. Ainsi, une valeur peut être examinée pour se situer au percentile de 25%, 50% ou 75% du raster.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si <code class="varname">exclude_nodata_value</code> est false, les pixels de valeur nodata seront également pris en compte.</p></td></tr></table></div><p class="changed">Changement : 3.1.0 Suppression de la variante ST_Quantile(table_name, column_name). </p><p class="availability">Disponibilité : 2.0.0 </p></div><div class="refsection" id="idm32156"><h2>Exemples</h2><pre class="programlisting">UPDATE dummy_rast SET rast = ST_SetBandNoDataValue(rast,249) WHERE rid=2;
--Example will consider only pixels of band 1 that are not 249 and in named quantiles --

SELECT (pvq).*
FROM (SELECT ST_Quantile(rast, ARRAY[0.25,0.75]) As pvq
    FROM dummy_rast WHERE rid=2) As foo
    ORDER BY (pvq).quantile;

 quantile | value
----------+-------
     0.25 |   253
     0.75 |   254

SELECT ST_Quantile(rast, 0.75) As value
    FROM dummy_rast WHERE rid=2;

value
------
  254
</pre><pre class="programlisting">--real live example.  Quantile of all pixels in band 2 intersecting a geometry
SELECT rid, (ST_Quantile(rast,2)).* As pvc
    FROM o_4_boston
        WHERE ST_Intersects(rast,
            ST_GeomFromText('POLYGON((224486 892151,224486 892200,224706 892200,224706 892151,224486 892151))',26986)
            )
ORDER BY value, quantile,rid
;


 rid | quantile | value
-----+----------+-------
   1 |        0 |     0
   2 |        0 |     0
  14 |        0 |     1
  15 |        0 |     2
  14 |     0.25 |    37
   1 |     0.25 |    42
  15 |     0.25 |    47
   2 |     0.25 |    50
  14 |      0.5 |    56
   1 |      0.5 |    64
  15 |      0.5 |    66
   2 |      0.5 |    77
  14 |     0.75 |    81
  15 |     0.75 |    87
   1 |     0.75 |    94
   2 |     0.75 |   106
  14 |        1 |   199
   1 |        1 |   244
   2 |        1 |   255
  15 |        1 |   255
</pre></div><div class="refsection" id="idm32160"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Count" title="ST_Count">ST_Count</a>, <a class="xref" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a>, <a class="xref" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a>, <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a> </p></div></div><div class="refentry" id="RT_ST_SummaryStats"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SummaryStats — Retourne des résumés statistiques (count, sum, mean, stddev, min, max) pour une bande raster ou une couverture raster spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">summarystats <strong class="fsfunc">ST_SummaryStats</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">exclude_nodata_value</var><code>)</code>;</p><p><code class="funcdef">summarystats <strong class="fsfunc">ST_SummaryStats</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var><code>)</code>;</p></div></div><div class="refsection" id="idm32194"><h2>Description</h2><p>Retourne un résumé statistique <a class="xref" href="#summarystats" title="summarystats">summarystats</a> composé de count, sum, mean, stddev, min, max pour une bande raster ou une couverture raster spécifiée. Si aucune bande <code class="varname">nband</code> n'est spécifiée, la bande 1 est utilisée.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Par défaut, seules les valeurs de pixels différentes de la valeur <code class="varname">nodata</code> sont prises en compte. Définir <code class="varname">exclude_nodata_value</code> à false pour obtenir le comptage de tous les pixels.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Par défaut, tous les pixels sont échantillonnés. Pour obtenir une réponse plus rapide, définir <code class="varname">sample_percent</code> à une valeur inférieure à 1</p></td></tr></table></div><p class="changed">Changement : 3.1.0 Suppression des variantes ST_SummaryStats(rastertable, rastercolumn, ...). Utiliser <a class="xref" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a> à la place. </p><p class="availability">Disponibilité : 2.0.0 </p></div><div class="refsection" id="idm32209"><h2>Exemple : Une seule tuile raster</h2><pre class="programlisting">SELECT rid, band, (stats).*
FROM (SELECT rid, band, ST_SummaryStats(rast, band) As stats
    FROM dummy_rast CROSS JOIN generate_series(1,3) As band
     WHERE rid=2) As foo;

 rid | band | count | sum  |    mean    |  stddev   | min | max
-----+------+-------+------+------------+-----------+-----+-----
   2 |    1 |    23 | 5821 | 253.086957 |  1.248061 | 250 | 254
   2 |    2 |    25 | 3682 |     147.28 | 59.862188 |  78 | 254
   2 |    3 |    25 | 3290 |      131.6 | 61.647384 |  62 | 254
                </pre></div><div class="refsection" id="idm32212"><h2>Exemple : Statistiques des pixels qui intersectent des bâtiments d'intérêt</h2><p>Cet exemple a pris 574 ms sur PostGIS Windows 64-bit avec tous les bâtiments de Boston et les tuiles aériennes (tuiles de 150x150 pixels chacune ~ 134 000 tuiles), ~102 000 enregistrements de bâtiments</p><pre class="programlisting">
WITH
-- our features of interest
   feat AS (SELECT gid As building_id, geom_26986 As geom FROM buildings AS b
    WHERE gid IN(100, 103,150)
   ),
-- clip band 2 of raster tiles to boundaries of builds
-- then get stats for these clipped regions
   b_stats AS
    (SELECT  building_id, (stats).*
FROM (SELECT building_id, ST_SummaryStats(ST_Clip(rast,2,geom)) As stats
    FROM aerials.boston
        INNER JOIN feat
    ON ST_Intersects(feat.geom,rast)
 ) As foo
 )
-- finally summarize stats
SELECT building_id, SUM(count) As num_pixels
  , MIN(min) As min_pval
  ,  MAX(max) As max_pval
  , SUM(mean*count)/SUM(count) As avg_pval
    FROM b_stats
 WHERE count 
&gt; 0
    GROUP BY building_id
    ORDER BY building_id;
 building_id | num_pixels | min_pval | max_pval |     avg_pval
-------------+------------+----------+----------+------------------
         100 |       1090 |        1 |      255 | 61.0697247706422
         103 |        655 |        7 |      182 | 70.5038167938931
         150 |        895 |        2 |      252 | 185.642458100559
</pre></div><div class="refsection" id="idm32216"><h2>Exemple : Couverture raster</h2><pre class="programlisting">-- stats for each band --
SELECT band, (stats).*
FROM (SELECT band, ST_SummaryStats('o_4_boston','rast', band) As stats
    FROM generate_series(1,3) As band) As foo;

 band |  count  |  sum   |       mean       |      stddev      | min | max
------+---------+--------+------------------+------------------+-----+-----
    1 | 8450000 | 725799 | 82.7064349112426 | 45.6800222638537 |   0 | 255
    2 | 8450000 | 700487 | 81.4197705325444 | 44.2161184161765 |   0 | 255
    3 | 8450000 | 575943 |  74.682739408284 | 44.2143885481407 |   0 | 255

-- For a table -- will get better speed if set sampling to less than 100%
-- Here we set to 25% and get a much faster answer
SELECT band, (stats).*
FROM (SELECT band, ST_SummaryStats('o_4_boston','rast', band,true,0.25) As stats
    FROM generate_series(1,3) As band) As foo;

 band |  count  |  sum   |       mean       |      stddev      | min | max
------+---------+--------+------------------+------------------+-----+-----
    1 | 2112500 | 180686 | 82.6890480473373 | 45.6961043857248 |   0 | 255
    2 | 2112500 | 174571 |  81.448503668639 | 44.2252623171821 |   0 | 255
    3 | 2112500 | 144364 | 74.6765884023669 | 44.2014869384578 |   0 | 255
                </pre></div><div class="refsection" id="idm32219"><h2>Voir aussi</h2><p><a class="xref" href="#summarystats" title="summarystats">summarystats</a>, <a class="xref" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a>, <a class="xref" href="#RT_ST_Count" title="ST_Count">ST_Count</a>, <a class="xref" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a> </p></div></div><div class="refentry" id="RT_ST_SummaryStatsAgg"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SummaryStatsAgg — Agrégat. Retourne des résumés statistiques (count, sum, mean, stddev, min, max) pour une bande raster spécifiée pour une ensemble de rasters. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">summarystats <strong class="fsfunc">ST_SummaryStatsAgg</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, double precision  <var class="pdparam">sample_percent</var><code>)</code>;</p><p><code class="funcdef">summarystats <strong class="fsfunc">ST_SummaryStatsAgg</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, double precision  <var class="pdparam">sample_percent</var><code>)</code>;</p><p><code class="funcdef">summarystats <strong class="fsfunc">ST_SummaryStatsAgg</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var><code>)</code>;</p></div></div><div class="refsection" id="idm32271"><h2>Description</h2><p>Retourne un résumé statistique <a class="xref" href="#summarystats" title="summarystats">summarystats</a> composé de count, sum, mean, stddev, min, max pour une bande raster ou une couverture raster spécifiée. Si aucune bande <code class="varname">nband</code> n'est spécifiée, la bande 1 est utilisée.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Par défaut, seules les valeurs de pixels différentes de la valeur <code class="varname">NODATA</code> sont prises en compte. Définir <code class="varname">exclude_nodata_value</code> à false pour obtenir le comptage de tous les pixels.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Par défaut, tous les pixels sont échantillonnés. Pour obtenir une réponse plus rapide, définir <code class="varname">sample_percent</code> à une valeur comprise entre zéro (0) et un (1)</p></td></tr></table></div><p class="availability">Disponibilité : 2.2.0 </p></div><div class="refsection" id="idm32284"><h2>Exemples</h2><pre class="programlisting">WITH foo AS (
    SELECT
        rast.rast
    FROM (
        SELECT ST_SetValue(
            ST_SetValue(
                ST_SetValue(
                    ST_AddBand(
                        ST_MakeEmptyRaster(10, 10, 10, 10, 2, 2, 0, 0,0)
                        , 1, '64BF', 0, 0
                    )
                    , 1, 1, 1, -10
                )
                , 1, 5, 4, 0
            )
            , 1, 5, 5, 3.14159
        ) AS rast
    ) AS rast
    FULL JOIN (
        SELECT generate_series(1, 10) AS id
    ) AS id
        ON 1 = 1
)
SELECT
    (stats).count,
    round((stats).sum::numeric, 3),
    round((stats).mean::numeric, 3),
    round((stats).stddev::numeric, 3),
    round((stats).min::numeric, 3),
    round((stats).max::numeric, 3)
FROM (
    SELECT
        ST_SummaryStatsAgg(rast, 1, TRUE, 1) AS stats
    FROM foo
) bar;

 count |  round  | round  | round |  round  | round
-------+---------+--------+-------+---------+-------
    20 | -68.584 | -3.429 | 6.571 | -10.000 | 3.142
(1 row)
                </pre></div><div class="refsection" id="idm32287"><h2>Voir aussi</h2><p><a class="xref" href="#summarystats" title="summarystats">summarystats</a>, <a class="xref" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a>, <a class="xref" href="#RT_ST_Count" title="ST_Count">ST_Count</a>, <a class="xref" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a> </p></div></div><div class="refentry" id="RT_ST_ValueCount"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ValueCount — Retourne un ensemble d'enregistrements contenant une valeur de pixels et le nombre de pixels ayant cette valeur dans la bande du raster spécifié (ou de la couverture raster). Si aucune bande n'est spécifiée, la bande 1 est utilisée. Par défaut, les pixels de valeur nodata ne sont pas comptés, et toutes les autres valeurs sont retournées, avec leur valeur arrondies à l'entier le plus proche.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_ValueCount</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband=1</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var>, double precision[]  <var class="pdparam">searchvalues=NULL</var>, double precision  <var class="pdparam">roundto=0</var>, double precision  <var class="pdparam">OUT value</var>, integer  <var class="pdparam">OUT count</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_ValueCount</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, double precision[]  <var class="pdparam">searchvalues</var>, double precision  <var class="pdparam">roundto=0</var>, double precision  <var class="pdparam">OUT value</var>, integer  <var class="pdparam">OUT count</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_ValueCount</strong>(</code>raster  <var class="pdparam">rast</var>, double precision[]  <var class="pdparam">searchvalues</var>, double precision  <var class="pdparam">roundto=0</var>, double precision  <var class="pdparam">OUT value</var>, integer  <var class="pdparam">OUT count</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_ValueCount</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">searchvalue</var>, double precision  <var class="pdparam">roundto=0</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_ValueCount</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, double precision  <var class="pdparam">searchvalue</var>, double precision  <var class="pdparam">roundto=0</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_ValueCount</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, double precision  <var class="pdparam">searchvalue</var>, double precision  <var class="pdparam">roundto=0</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_ValueCount</strong>(</code>text  <var class="pdparam">rastertable</var>, text  <var class="pdparam">rastercolumn</var>, integer  <var class="pdparam">nband=1</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var>, double precision[]  <var class="pdparam">searchvalues=NULL</var>, double precision  <var class="pdparam">roundto=0</var>, double precision  <var class="pdparam">OUT value</var>, integer  <var class="pdparam">OUT count</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_ValueCount</strong>(</code>text  <var class="pdparam">rastertable</var>, text  <var class="pdparam">rastercolumn</var>, double precision[]  <var class="pdparam">searchvalues</var>, double precision  <var class="pdparam">roundto=0</var>, double precision  <var class="pdparam">OUT value</var>, integer  <var class="pdparam">OUT count</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_ValueCount</strong>(</code>text  <var class="pdparam">rastertable</var>, text  <var class="pdparam">rastercolumn</var>, integer  <var class="pdparam">nband</var>, double precision[]  <var class="pdparam">searchvalues</var>, double precision  <var class="pdparam">roundto=0</var>, double precision  <var class="pdparam">OUT value</var>, integer  <var class="pdparam">OUT count</var><code>)</code>;</p><p><code class="funcdef">bigint<strong class="fsfunc">ST_ValueCount</strong>(</code>text  <var class="pdparam">rastertable</var>, text  <var class="pdparam">rastercolumn</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, double precision  <var class="pdparam">searchvalue</var>, double precision  <var class="pdparam">roundto=0</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_ValueCount</strong>(</code>text  <var class="pdparam">rastertable</var>, text  <var class="pdparam">rastercolumn</var>, double precision  <var class="pdparam">searchvalue</var>, double precision  <var class="pdparam">roundto=0</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_ValueCount</strong>(</code>text  <var class="pdparam">rastertable</var>, text  <var class="pdparam">rastercolumn</var>, integer  <var class="pdparam">nband</var>, double precision  <var class="pdparam">searchvalue</var>, double precision  <var class="pdparam">roundto=0</var><code>)</code>;</p></div></div><div class="refsection" id="idm32534"><h2>Description</h2><p>Retourne un ensemble d'enregistrements contenant les colonnes <code class="varname">value</code> <code class="varname">count</code>, correspondant à la valeur de pixel dans la bande et le nombre de pixels ayant cette valeur dans la bande du raster spécifié (ou de la couverture raster). </p><p>Si aucune bande <code class="varname">nband</code> n'est spécifiée, la bande 1 est utilisée. Si aucune valeur <code class="varname">searchvalues</code> n'est spécifiée, retourne toutes les valeurs de pixel trouvées dans le raster ou dans la couverture raster. Si une valeur searchvalue est spécifiée, retourne un entier au lieu d'enregistrements, correspondant au nombre de pixels ayant la valeur recherchée</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si <code class="varname">exclude_nodata_value</code> est false, les pixels de valeur nodata seront également pris en compte.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0 </p></div><div class="refsection" id="idm32546"><h2>Exemples</h2><pre class="programlisting">UPDATE dummy_rast SET rast = ST_SetBandNoDataValue(rast,249) WHERE rid=2;
--Example will count only pixels of band 1 that are not 249. --

SELECT (pvc).*
FROM (SELECT ST_ValueCount(rast) As pvc
    FROM dummy_rast WHERE rid=2) As foo
    ORDER BY (pvc).value;

 value | count
-------+-------
   250 |     2
   251 |     1
   252 |     2
   253 |     6
   254 |    12

-- Example will coount all pixels of band 1 including 249 --
SELECT (pvc).*
FROM (SELECT ST_ValueCount(rast,1,false) As pvc
    FROM dummy_rast WHERE rid=2) As foo
    ORDER BY (pvc).value;

 value | count
-------+-------
   249 |     2
   250 |     2
   251 |     1
   252 |     2
   253 |     6
   254 |    12

-- Example will count only non-nodata value pixels of band 2
SELECT (pvc).*
FROM (SELECT ST_ValueCount(rast,2) As pvc
    FROM dummy_rast WHERE rid=2) As foo
    ORDER BY (pvc).value;
 value | count
-------+-------
    78 |     1
    79 |     1
    88 |     1
    89 |     1
    96 |     1
    97 |     1
    98 |     1
    99 |     2
   112 |     2
:

                </pre><pre class="programlisting">--real live example.  Count all the pixels in an aerial raster tile band 2 intersecting a geometry
-- and return only the pixel band values that have a count &gt; 500
SELECT (pvc).value, SUM((pvc).count) As total
FROM (SELECT ST_ValueCount(rast,2) As pvc
    FROM o_4_boston
        WHERE ST_Intersects(rast,
            ST_GeomFromText('POLYGON((224486 892151,224486 892200,224706 892200,224706 892151,224486 892151))',26986)
             )
        ) As foo
    GROUP BY (pvc).value
    HAVING SUM((pvc).count) &gt; 500
    ORDER BY (pvc).value;

 value | total
-------+-----
    51 | 502
    54 | 521
</pre><pre class="programlisting">-- Just return count of pixels in each raster tile that have value of 100 of tiles that intersect  a specific geometry --
SELECT rid, ST_ValueCount(rast,2,100) As count
    FROM o_4_boston
        WHERE ST_Intersects(rast,
            ST_GeomFromText('POLYGON((224486 892151,224486 892200,224706 892200,224706 892151,224486 892151))',26986)
             ) ;

 rid | count
-----+-------
   1 |    56
   2 |    95
  14 |    37
  15 |    64
</pre></div><div class="refsection" id="idm32551"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Count" title="ST_Count">ST_Count</a>, <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a></p></div></div></section><section class="section" id="Raster_Inputs"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.10. Import de raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_RastFromWKB">ST_RastFromWKB</a></span><span class="refpurpose"> — Retourne un raster à partir d'un raster Well-Known Binary (WKB).</span></li><li><span class="refentrytitle"><a href="#RT_ST_RastFromHexWKB">ST_RastFromHexWKB</a></span><span class="refpurpose"> — Retourne un raster à partir d'un raster Well-Known Binary (WKB) en hexadécimal.</span></li></ul></div><div class="refentry" id="RT_ST_RastFromWKB"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RastFromWKB — Retourne un raster à partir d'un raster Well-Known Binary (WKB).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_RastFromWKB</strong>(</code>bytea  <var class="pdparam">wkb</var><code>)</code>;</p></div></div><div class="refsection" id="idm32570"><h2>Description</h2><p>Construit un raster PostGIS à partir d'une représentation raster Well-Known Binary (WKB). </p><p class="availability">Disponibilité : 2.5.0</p></div><div class="refsection" id="idm32574"><h2>Exemples</h2><pre class="programlisting">SELECT (ST_Metadata(
    ST_RastFromWKB(
        '\001\000\000\000\000\000\000\000\000\000\000\000@\000\000\000\000\000\000\010@\000\000\000\000\000\000\340?\000\000\000\000\000\000\340?\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\012\000\000\000\012\000\024\000'::bytea
    )
)).* AS metadata;

 upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands
------------+------------+-------+--------+--------+--------+-------+-------+------+----------
        0.5 |        0.5 |    10 |     20 |      2 |      3 |     0 |     0 |   10 |        0
                </pre></div><div class="refsection" id="idm32577"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a>, <a class="xref" href="#RT_ST_RastFromHexWKB" title="ST_RastFromHexWKB">ST_RastFromHexWKB</a>, <a class="xref" href="#RT_ST_AsBinary" title="ST_AsBinary/ST_AsWKB">ST_AsBinary/ST_AsWKB</a>, <a class="xref" href="#RT_ST_AsHexWKB" title="ST_AsHexWKB">ST_AsHexWKB</a> </p></div></div><div class="refentry" id="RT_ST_RastFromHexWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RastFromHexWKB — Retourne un raster à partir d'un raster Well-Known Binary (WKB) en hexadécimal.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_RastFromHexWKB</strong>(</code>text  <var class="pdparam">wkb</var><code>)</code>;</p></div></div><div class="refsection" id="idm32596"><h2>Description</h2><p>Construit un raster PostGIS à partir d'une représentation hexadécimale raster Well-Known Binary (WKB). </p><p class="availability">Disponibilité : 2.5.0</p></div><div class="refsection" id="idm32600"><h2>Exemples</h2><pre class="programlisting">SELECT (ST_Metadata(
    ST_RastFromHexWKB(
        '010000000000000000000000400000000000000840000000000000E03F000000000000E03F000000000000000000000000000000000A0000000A001400'
    )
)).* AS metadata;

 upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands
------------+------------+-------+--------+--------+--------+-------+-------+------+----------
        0.5 |        0.5 |    10 |     20 |      2 |      3 |     0 |     0 |   10 |        0
                </pre></div><div class="refsection" id="idm32603"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a>, <a class="xref" href="#RT_ST_RastFromWKB" title="ST_RastFromWKB">ST_RastFromWKB</a>, <a class="xref" href="#RT_ST_AsBinary" title="ST_AsBinary/ST_AsWKB">ST_AsBinary/ST_AsWKB</a>, <a class="xref" href="#RT_ST_AsHexWKB" title="ST_AsHexWKB">ST_AsHexWKB</a> </p></div></div></section><section class="section" id="Raster_Outputs"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.11. Export de raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_AsBinary">ST_AsBinary/ST_AsWKB</a></span><span class="refpurpose"> — Retourne la représentation Well-Known Binary (WKB) de ce raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_AsHexWKB">ST_AsHexWKB</a></span><span class="refpurpose"> — Retourne la représentation hexadécimale Well-Known Binary (WKB) de ce raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_AsGDALRaster">ST_AsGDALRaster</a></span><span class="refpurpose"> — Retourne la tuile raster dans le format GDAL raster spécifié. Les formats raster disponibles sont ceux supportés par votre bibliothèque compilée. Utilisez ST_GDALDrivers() pour obtenir la liste des formats supportés par votre bibliothèque.</span></li><li><span class="refentrytitle"><a href="#RT_ST_AsJPEG">ST_AsJPEG</a></span><span class="refpurpose"> — Retourne les bandes sélectionnées du raster sous la forme d'une image JPEG (sous forme de tableau d'octets). Si aucune bande n'est spécifiée, et que le raster a 1 ou plus de 3 bandes, seule la première bande est utilisée. Si le raster a exactement 3 bandes, les 3 bandes sont utilisées et mappées en RGB.</span></li><li><span class="refentrytitle"><a href="#RT_ST_AsPNG">ST_AsPNG</a></span><span class="refpurpose"> — Retourne les bandes sélectionnées du raster sous la forme d'une image PNG (sous forme de tableau d'octets). Si aucune bande n'est spécifiée et que le raster a 1, 3 ou 4 bandes, toutes les bandes sont utilisées. Si aucune bande n'est spécifiée et que le raster a 2 ou plus de 4 bandes, seule la bande 1 est utilisée. Les bandes sont mappées en RGB ou RGBA.</span></li><li><span class="refentrytitle"><a href="#RT_ST_AsTIFF">ST_AsTIFF</a></span><span class="refpurpose"> — Retourne les bandes sélectionnées du raster sous la forme d'une seule image TIFF (sous forme de tableau d'octets). Si aucune bande n'est spécifiée ou si l'une des bandes spécifiées n'existe pas dans le raster, toutes les bandes sont utilisées.</span></li></ul></div><div class="refentry" id="RT_ST_AsBinary"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsBinary/ST_AsWKB — Retourne la représentation Well-Known Binary (WKB) de ce raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsBinary</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">outasin=FALSE</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsWKB</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">outasin=FALSE</var><code>)</code>;</p></div></div><div class="refsection" id="idm32636"><h2>Description</h2><p>Retourne la représentation binaire du raster. Si <code class="varname">outasin</code> est TRUE, les bandes out-db sont traitées comme in-db. Voir raster/doc/RFC2-WellKnownBinaryFormat situé dans le dossier source de PostGIS pour plus de détails sur la représentation. </p><p>Cette fonction est utile dans les curseurs binaires pour extraire des données de la base de données sans les convertir en une représentation sous forme de chaîne de caractères. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Par défaut, la sortie WKB contient le chemin d'accès au fichier externe pour les bandes out-db. Si le client n'a pas accès au fichier raster sous-jacent d'une bande out-db, définir <code class="varname">outasin</code> à TRUE.</p></td></tr></table></div><p class="enhanced">Amélioration : 2.1.0 Ajout de <code class="varname">outasin</code></p><p class="enhanced">Amélioration : 2.5.0 Ajout de <code class="varname">ST_AsWKB</code></p></div><div class="refsection" id="idm32648"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsBinary(rast) As rastbin FROM dummy_rast WHERE rid=1;

                     rastbin
---------------------------------------------------------------------------------
\001\000\000\000\000\000\000\000\000\000\000\000@\000\000\000\000\000\000\010@\000\000\000\000\000\000\340?\000\000\000\000\000\000\340?\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\012\000\000\000\012\000\024\000
                </pre></div><div class="refsection" id="idm32651"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_RastFromWKB" title="ST_RastFromWKB">ST_RastFromWKB</a>, <a class="xref" href="#RT_ST_AsHexWKB" title="ST_AsHexWKB">ST_AsHexWKB</a> </p></div></div><div class="refentry" id="RT_ST_AsHexWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsHexWKB — Retourne la représentation hexadécimale Well-Known Binary (WKB) de ce raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsHexWKB</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">outasin=FALSE</var><code>)</code>;</p></div></div><div class="refsection" id="idm32671"><h2>Description</h2><p>Retourne la représentation binaire en hexadécimal du raster. Si <code class="varname">outasin</code> est TRUE, les bandes out-db sont traitées comme in-db. Voir raster/doc/RFC2-WellKnownBinaryFormat situé dans le dossier source de PostGIS pour les détails de la représentation. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Par défaut, la sortie Hex WKB contient le chemin d'accès au fichier externe pour les bandes out-db. Si le client n'a pas accès au fichier raster sous-jacent de la bande out-db, définir <code class="varname">outasin</code> à TRUE.</p></td></tr></table></div><p class="availability">Disponibilité : 2.5.0 </p></div><div class="refsection" id="idm32679"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsHexWKB(rast) As rastbin FROM dummy_rast WHERE rid=1;

                                                        st_ashexwkb
----------------------------------------------------------------------------------------------------------------------------
 010000000000000000000000400000000000000840000000000000E03F000000000000E03F000000000000000000000000000000000A0000000A001400
                </pre></div><div class="refsection" id="idm32682"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_RastFromHexWKB" title="ST_RastFromHexWKB">ST_RastFromHexWKB</a>, <a class="xref" href="#RT_ST_AsBinary" title="ST_AsBinary/ST_AsWKB">ST_AsBinary/ST_AsWKB</a> </p></div></div><div class="refentry" id="RT_ST_AsGDALRaster"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsGDALRaster — Retourne la tuile raster dans le format GDAL raster spécifié. Les formats raster disponibles sont ceux supportés par votre bibliothèque compilée. Utilisez ST_GDALDrivers() pour obtenir la liste des formats supportés par votre bibliothèque.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsGDALRaster</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">format</var>, text[]  <var class="pdparam">options=NULL</var>, integer  <var class="pdparam">srid=sameassource</var><code>)</code>;</p></div></div><div class="refsection" id="idm32708"><h2>Description</h2><p>Retourne la tuile raster dans le format spécifié. Les paramètres sont détaillés ci-dessous :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">format</code> format de sortie. Cela dépend des drivers compilés dans votre bibliothèque libgdal. Les formats généralement disponibles sont 'JPEG', 'GTIff', 'PNG'. Utilisez <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a> pour obtenir une liste des formats pris en charge par votre bibliothèque. </p></li><li class="listitem"><p><code class="varname">options</code> tableau textuel d'options GDAL. Les options valides dépendent du format. Pour plus de détails, voir <a class="link" href="http://www.gdal.org/frmt_various.html" target="_top">GDAL Raster format options</a>. </p></li><li class="listitem"><p><code class="varname">srs</code> La chaîne proj4text ou srtext (issue de spatial_ref_sys) à incorporer dans l'image </p></li></ul></div><p class="availability">Disponibilité : 2.0.0 - nécessite GDAL &gt;= 1.6.0. </p></div><div class="refsection" id="idm32724"><h2>Exemple de sortie JPEG, plusieurs tuiles en un seul raster</h2><pre class="programlisting">
SELECT ST_AsGDALRaster(ST_Union(rast), 'JPEG', ARRAY['QUALITY=50']) As rastjpg
FROM dummy_rast
WHERE rast &amp;&amp; ST_MakeEnvelope(10, 10, 11, 11);
</pre></div><div class="refsection" id="idm32727"><h2>Utilisation de PostgreSQL Large Object Support pour exporter des données raster</h2><p>Une façon d'exporter des données raster vers un autre format est d'utiliser <a class="link" href="https://www.postgresql.org/docs/current/static/lo-funcs.html" target="_top">les fonctions d'exportation de grands objets de PostgreSQL</a>. Nous allons reprendre l'exemple précédent en ajoutant l'export. Notez que vous devrez avoir un accès super utilisateur à la base de données car elle utilise les fonctions lo côté serveur. L'exportation se fera également vers un chemin d'accès sur le réseau du serveur. Si vous avez besoin d'exporter localement, utilisez les fonctions lo_ équivalentes de psql qui exportent vers le système de fichiers local au lieu du système de fichiers du serveur.</p><pre class="programlisting">
DROP TABLE IF EXISTS tmp_out ;

CREATE TABLE tmp_out AS
SELECT lo_from_bytea(0,
       ST_AsGDALRaster(ST_Union(rast), 'JPEG', ARRAY['QUALITY=50'])
        ) AS loid
  FROM dummy_rast
WHERE rast &amp;&amp; ST_MakeEnvelope(10, 10, 11, 11);

SELECT lo_export(loid, '/tmp/dummy.jpg')
   FROM tmp_out;

SELECT lo_unlink(loid)
  FROM tmp_out;
</pre></div><div class="refsection" id="idm32732"><h2>Exemples de sorties GTIFF</h2><pre class="programlisting">SELECT ST_AsGDALRaster(rast, 'GTiff') As rastjpg
FROM dummy_rast WHERE rid=2;

-- Out GeoTiff with jpeg compression, 90% quality
SELECT ST_AsGDALRaster(rast, 'GTiff',
  ARRAY['COMPRESS=JPEG', 'JPEG_QUALITY=90'],
  4269) As rasttiff
FROM dummy_rast WHERE rid=2;
                </pre></div><div class="refsection" id="idm32735"><h2>Voir aussi</h2><p><a class="xref" href="#RT_Raster_Applications" title="10.3. Créer des applications personnalisées avec PostGIS Raster">Section 10.3, “Créer des applications personnalisées avec PostGIS Raster”</a>, <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="RT_ST_AsJPEG"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsJPEG — Retourne les bandes sélectionnées du raster sous la forme d'une image JPEG (sous forme de tableau d'octets). Si aucune bande n'est spécifiée, et que le raster a 1 ou plus de 3 bandes, seule la première bande est utilisée. Si le raster a exactement 3 bandes, les 3 bandes sont utilisées et mappées en RGB.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsJPEG</strong>(</code>raster  <var class="pdparam">rast</var>, text[]  <var class="pdparam">options=NULL</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsJPEG</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">quality</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsJPEG</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, text[]  <var class="pdparam">options=NULL</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsJPEG</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nbands</var>, text[]  <var class="pdparam">options=NULL</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsJPEG</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nbands</var>, integer  <var class="pdparam">quality</var><code>)</code>;</p></div></div><div class="refsection" id="idm32804"><h2>Description</h2><p>Retourne les bandes sélectionnées du raster sous la forme d'une seule image JPEG (Joint Photographic Exports Group Image). Utilisez <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a> si vous avez besoin d'exporter vers des types de raster moins courants. Si aucune bande n'est spécifiée, et que le raster a 1 ou plus de 3 bandes, seule la première bande est utilisée. Si le raster a exactement 3 bandes, les 3 bandes sont utilisées. Il existe de nombreuses variantes de la fonction avec de nombreuses options. Celles-ci sont détaillées ci-dessous :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">nband</code> pour exporter une seule bande. </p></li><li class="listitem"><p><code class="varname">nbands</code> spécifie un tableau des bandes à exporter (à noter que JPEG ne supporte que 3 bandes aux maximum). L'ordre des bandes est RGB. Par exemple, ARRAY[3,2,1] signifie que la bande 3 est la rouge, la bande 2 est la verte et la bande 1 est la bleue </p></li><li class="listitem"><p><code class="varname">quality</code> nombre de 0 à 100. Plus le chiffre est élevé, plus l'image est nette. </p></li><li class="listitem"><p><code class="varname">options</code> tableau textuel d'options GDAL, parmi les options définies pour JPEG (voir create_options pour JPEG de <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>). Pour JPEG, les options disponibles sont <code class="varname">PROGRESSIVE</code> ON ou OFF et <code class="varname">QUALITY</code> une valeur de 0 à 100 et par défaut 75. Voir <a class="link" href="http://www.gdal.org/frmt_various.html" target="_top">GDAL Raster format options</a> pour plus de détails. </p></li></ul></div><p class="availability">Disponibilité : 2.0.0 - nécessite GDAL &gt;= 1.6.0. </p></div><div class="refsection" id="idm32826"><h2>Exemples : Export</h2><pre class="programlisting">-- output first 3 bands 75% quality
SELECT ST_AsJPEG(rast) As rastjpg
    FROM dummy_rast WHERE rid=2;

-- output only first band as 90% quality
SELECT ST_AsJPEG(rast,1,90) As rastjpg
    FROM dummy_rast WHERE rid=2;

-- output first 3 bands (but make band 2 Red, band 1 green, and band 3 blue, progressive and 90% quality
SELECT ST_AsJPEG(rast,ARRAY[2,1,3],ARRAY['QUALITY=90','PROGRESSIVE=ON']) As rastjpg
    FROM dummy_rast WHERE rid=2;</pre></div><div class="refsection" id="idm32829"><h2>Voir aussi</h2><p><a class="xref" href="#RT_Raster_Applications" title="10.3. Créer des applications personnalisées avec PostGIS Raster">Section 10.3, “Créer des applications personnalisées avec PostGIS Raster”</a>, <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>, <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>, <a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>, <a class="xref" href="#RT_ST_AsTIFF" title="ST_AsTIFF">ST_AsTIFF</a> </p></div></div><div class="refentry" id="RT_ST_AsPNG"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsPNG — Retourne les bandes sélectionnées du raster sous la forme d'une image PNG (sous forme de tableau d'octets). Si aucune bande n'est spécifiée et que le raster a 1, 3 ou 4 bandes, toutes les bandes sont utilisées. Si aucune bande n'est spécifiée et que le raster a 2 ou plus de 4 bandes, seule la bande 1 est utilisée. Les bandes sont mappées en RGB ou RGBA.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsPNG</strong>(</code>raster  <var class="pdparam">rast</var>, text[]  <var class="pdparam">options=NULL</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsPNG</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">compression</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsPNG</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, text[]  <var class="pdparam">options=NULL</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsPNG</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nbands</var>, integer  <var class="pdparam">compression</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsPNG</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nbands</var>, text[]  <var class="pdparam">options=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm32900"><h2>Description</h2><p>Retourne les bandes sélectionnées du raster sous la forme d'une seule PNG (image graphique portable). Utilisez <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a> si vous avez besoin d'exporter vers des types de raster moins courants. Si aucune bande n'est spécifiée, les 3 premières bandes sont exportées. Il existe de nombreuses variantes de cette fonction avec de nombreuses options. Si aucun <code class="varname">srid</code> n'est spécifié, c'est le srid du raster qui est utilisé. Ces options sont détaillées ci-dessous :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">nband</code> pour exporter une seule bande. </p></li><li class="listitem"><p><code class="varname">nbands</code> spécifie un tableau des bandes à exporter (à noter que PNG ne supporte que 4 bandes aux maximum). L'ordre des bandes est RGBA. Par exemple, ARRAY[3,2,1] signifie que la bande 3 est la rouge, la bande 2 est la verte et la bande 1 est la bleue </p></li><li class="listitem"><p><code class="varname">compression</code> nombre de 1 à 9. Plus le chiffre est élevé, plus la compression est importante. </p></li><li class="listitem"><p><code class="varname">options</code> tableau textuel d'options GDAL, parmi les options définies pour PNG (voir create_options pour PNG de <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>). Pour PNG, seule l'option ZLEVEL est valide (temps à consacrer à la compression -- par défaut 6), par exemple ARRAY['ZLEVEL=9']. WORLDFILE n'est pas autorisé car la fonction devrait produire deux sorties. Voir <a class="link" href="http://www.gdal.org/frmt_various.html" target="_top">GDAL Raster format options</a> pour plus de détails. </p></li></ul></div><p class="availability">Disponibilité : 2.0.0 - nécessite GDAL &gt;= 1.6.0. </p></div><div class="refsection" id="idm32921"><h2>Exemples</h2><pre class="programlisting">SELECT ST_AsPNG(rast) As rastpng
FROM dummy_rast WHERE rid=2;

-- export the first 3 bands and map band 3 to Red, band 1 to Green, band 2 to blue
SELECT ST_AsPNG(rast, ARRAY[3,1,2]) As rastpng
FROM dummy_rast WHERE rid=2;
                </pre></div><div class="refsection" id="idm32924"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>, <a class="xref" href="#RT_ST_ColorMap" title="ST_ColorMap">ST_ColorMap</a>, <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>, <a class="xref" href="#RT_Raster_Applications" title="10.3. Créer des applications personnalisées avec PostGIS Raster">Section 10.3, “Créer des applications personnalisées avec PostGIS Raster”</a></p></div></div><div class="refentry" id="RT_ST_AsTIFF"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsTIFF — Retourne les bandes sélectionnées du raster sous la forme d'une seule image TIFF (sous forme de tableau d'octets). Si aucune bande n'est spécifiée ou si l'une des bandes spécifiées n'existe pas dans le raster, toutes les bandes sont utilisées.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsTIFF</strong>(</code>raster  <var class="pdparam">rast</var>, text[]  <var class="pdparam">options=''</var>, integer  <var class="pdparam">srid=sameassource</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsTIFF</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">compression=''</var>, integer  <var class="pdparam">srid=sameassource</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsTIFF</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nbands</var>, text  <var class="pdparam">compression=''</var>, integer  <var class="pdparam">srid=sameassource</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsTIFF</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nbands</var>, text[]  <var class="pdparam">options</var>, integer  <var class="pdparam">srid=sameassource</var><code>)</code>;</p></div></div><div class="refsection" id="idm32991"><h2>Description</h2><p>Retourne les bandes sélectionnées du raster sous la forme d'un fichier TIFF (Tagged Image File Format). Si aucune bande n'est spécifiée, toutes les bandes seront utilisées. Cette fonction est une enveloppe autour de <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>. Utilisez <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a> si vous avez besoin d'exporter vers des types de raster moins courants. Il existe de nombreuses variantes de la fonction avec de nombreuses options. Si aucun texte SRS de référence spatiale n'est présent, la référence spatiale du raster est utilisée. Ces options sont détaillées ci-dessous :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">nbands</code> spécifie un tableau des bandes à exporter (à noter que PNG ne supporte que 3 bandes aux maximum). L'ordre des bandes est RGB. Par exemple, ARRAY[3,2,1] signifie que la bande 3 est la rouge, la bande 2 est la verte et la bande 1 est la bleue </p></li><li class="listitem"><p><code class="varname">compression</code> Expression de compression -- JPEG90 (ou un autre pourcentage), LZW, JPEG, DEFLATE9. </p></li><li class="listitem"><p><code class="varname">options</code> tableau textuel d'options GDAL, parmi les options définies pour GTiff (voir create_options pour GTiff de <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>). Voir <a class="link" href="http://www.gdal.org/frmt_various.html" target="_top">GDAL Raster format options</a> pour plus de détails. </p></li><li class="listitem"><p><code class="varname">srid</code> srid du système de référence spatial du raster. Il est utilisé pour remplir les informations de géo-référence </p></li></ul></div><p class="availability">Disponibilité : 2.0.0 - nécessite GDAL &gt;= 1.6.0. </p></div><div class="refsection" id="idm33012"><h2>Exemple : Utiliser la compression jpeg à 90%</h2><pre class="programlisting">SELECT ST_AsTIFF(rast, 'JPEG90') As rasttiff
FROM dummy_rast WHERE rid=2;
                </pre></div><div class="refsection" id="idm33015"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>, <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div></section><section class="section" id="Raster_Processing_MapAlgebra"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.12. Traitement des données raster : algèbre cartographique</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_Clip">ST_Clip</a></span><span class="refpurpose"> — Returns the raster clipped by the input geometry. If band number is not specified, all bands are processed. If <code class="varname">crop</code> is not specified or TRUE, the output raster is cropped. If <code class="varname">touched</code> is set to TRUE, then touched pixels are included, otherwise only if the center of the pixel is in the geometry it is included.</span></li><li><span class="refentrytitle"><a href="#RT_ST_ColorMap">ST_ColorMap</a></span><span class="refpurpose"> — Crée un nouveau raster comprenant jusqu'à quatre bandes 8BUI (niveaux de gris, RGB, RGBA) à partir du raster source et d'une bande spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Grayscale">ST_Grayscale</a></span><span class="refpurpose"> — Crée un nouveau raster à 1 bande 8BUI à partir du raster source et des bandes spécifiées représentant les composantes rouge, vert et bleu</span></li><li><span class="refentrytitle"><a href="#RT_ST_Intersection">ST_Intersection</a></span><span class="refpurpose"> — Retourne un raster ou un ensemble de paires (géométrie, valeur de pixel) représentant la partie partagée de deux rasters ou l'intersection géométrique d'une vectorisation du raster et d'une géométrie.</span></li><li><span class="refentrytitle"><a href="#RT_ST_MapAlgebra">ST_MapAlgebra (callback function version)</a></span><span class="refpurpose"> — Version avec fonction de rappel - Retourne un raster à une bande à partir d'un ou plusieurs rasters d'entrée, d'index de bandes et d'une fonction de rappel spécifiée par l'utilisateur. </span></li><li><span class="refentrytitle"><a href="#RT_ST_MapAlgebra_expr">ST_MapAlgebra (expression version)</a></span><span class="refpurpose"> — Version avec expression - Retourne un raster à une bande à partir d'un ou deux rasters d'entrée, d'index de bandes et d'une ou plusieurs expressions SQL spécifiées par l'utilisateur. </span></li><li><span class="refentrytitle"><a href="#RT_ST_MapAlgebraExpr">ST_MapAlgebraExpr</a></span><span class="refpurpose"> — Version avec raster à 1 bande : Crée un nouveau raster à une bande formé par l'application d'une opération algébrique PostgreSQL valide sur la bande d'entrée du raster et du type de pixel fourni. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</span></li><li><span class="refentrytitle"><a href="#RT_ST_MapAlgebraExpr2">ST_MapAlgebraExpr</a></span><span class="refpurpose"> — Version avec 2 bandes : Crée un nouveau raster à une bande formé en appliquant une opération algébrique PostgreSQL valide sur les deux bandes du raster d'entrée et du type de pixel fourni. La bande 1 de chaque raster est utilisée si aucun numéro de bande n'est spécifié. Le raster résultant sera aligné (échelle, obliquité et coins) sur la grille définie par le premier raster et aura son étendue définie par le paramètre "extenttype". Les valeurs de "extenttype" peuvent être : INTERSECTION, UNION, FIRST, SECOND. </span></li><li><span class="refentrytitle"><a href="#RT_ST_MapAlgebraFct">ST_MapAlgebraFct</a></span><span class="refpurpose"> — Version à 1 bande - Crée un nouveau raster à une bande formé par l'application d'une fonction PostgreSQL valide sur la bande d'entrée du raster et sur le type de pixel fourni. La bande 1 est utilisée si aucune bande n'est spécifiée.</span></li><li><span class="refentrytitle"><a href="#RT_ST_MapAlgebraFct2">ST_MapAlgebraFct</a></span><span class="refpurpose"> — Version à 2 bandes - Crée un nouveau raster à une bande formé par l'application d'une fonction PostgreSQL valide sur les 2 bandes d'entrée du raster et sur le type de pixel fourni. La bande 1 est utilisée si aucune bande n'est spécifiée. Le type d'étendue INTERSECTION est utilisé si non spécifié.</span></li><li><span class="refentrytitle"><a href="#RT_ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a></span><span class="refpurpose"> — Version à 1 bande : Algèbre cartographique Plus proche voisin en utilisant une fonction PostgreSQL définie par l'utilisateur. Retourne un raster dont les valeurs sont le résultat d'une fonction utilisateur PLPGSQL prenant un voisinage des valeurs de la bande raster d'entrée.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Reclass">ST_Reclass</a></span><span class="refpurpose"> — Crée un nouveau raster composé de types de bandes reclassifiés par rapport à l'original. La bande n est la bande à modifier. Si nband n'est pas spécifié, la bande 1 est utilisée. Toutes les autres bandes sont retournées inchangées. Cas d'utilisation : convertir une bande 16BUI en 8BUI et ainsi de suite pour un rendu plus simple en tant que formats visualisables.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Union">ST_Union</a></span><span class="refpurpose"> — Retourne l'union d'un ensemble de tuiles raster, en un seul raster composé de 1 ou plusieurs bandes.</span></li></ul></div><div class="refentry" id="RT_ST_Clip"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Clip — Returns the raster clipped by the input geometry. If band number is not specified, all bands are processed. If <code class="varname">crop</code> is not specified or TRUE, the output raster is cropped. If <code class="varname">touched</code> is set to TRUE, then touched pixels are included, otherwise only if the center of the pixel is in the geometry it is included.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Clip</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nband</var>, geometry  <var class="pdparam">geom</var>, double precision[]  <var class="pdparam">nodataval=NULL</var>, boolean  <var class="pdparam">crop=TRUE</var>, boolean  <var class="pdparam">touched=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Clip</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">nodataval</var>, boolean  <var class="pdparam">crop=TRUE</var>, boolean  <var class="pdparam">touched=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Clip</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, geometry  <var class="pdparam">geom</var>, boolean  <var class="pdparam">crop</var>, boolean  <var class="pdparam">touched=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Clip</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">geom</var>, double precision[]  <var class="pdparam">nodataval=NULL</var>, boolean  <var class="pdparam">crop=TRUE</var>, boolean  <var class="pdparam">touched=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Clip</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">nodataval</var>, boolean  <var class="pdparam">crop=TRUE</var>, boolean  <var class="pdparam">touched=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Clip</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">geom</var>, boolean  <var class="pdparam">crop</var>, boolean  <var class="pdparam">touched=FALSE</var><code>)</code>;</p></div></div><div class="refsection" id="idm33142"><h2>Description</h2><p>Retourne un raster coupé par la géométrie d'entrée <code class="varname">geom</code>. Si l'index des bandes n'est pas spécifié, toutes les bandes sont traitées. </p><p>Les rasters résultant de ST_Clip doivent avoir une valeur de nodata assignée pour les zones découpées, une pour chaque bande. Si aucune valeur n'est fournie et que le raster d'entrée n'a pas de valeur de nodata définie, les valeurs de nodata du raster résultant sont fixées à ST_MinPossibleValue(ST_BandPixelType(rast, band)). Lorsque la taille du tableau nodata inférieure au nombre de bandes, la dernière valeur du tableau est utilisée pour les bandes restantes. Si la taille du tableau nodata est supérieure au nombre de bandes, les valeurs de nodata supplémentaires sont ignorées. Toutes les variantes acceptant un tableau de valeurs de nodata acceptent également une valeur unique qui sera assignée à chaque bande. </p><p>Si <code class="varname">crop</code> n'est pas spécifié ou si défini à true, le raster de sortie est recadré à l'intersection des extensions <code class="varname">geom</code>et <code class="varname">rast</code>. Si <code class="varname">crop</code> est défini à false, le nouveau raster a la même étendue que <code class="varname">rast</code>. Si <code class="varname">touched</code> est défini comme vrai, tous les pixels de <code class="varname">rast</code> qui intersectent la géométrie sont sélectionnés. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le comportement par défaut est touched=false, ce qui sélectionnera uniquement les pixels dont le centre est couvert par la géométrie.</p></td></tr></table></div><p class="enhanced">Amélioration : 3.5.0 - ajout de l'argument touched.</p><p class="availability">Disponibilité : 2.0.0 </p><p class="enhanced">Amélioration : 2.1.0 Réécrit en C</p><p>Les exemples présentés ici utilisent les données aériennes du Massachusetts disponibles sur le site de MassGIS <a class="link" href="https://www.mass.gov/info-details/massgis-data-20082009-aerial-imagery" target="_top">MassGIS Aerial Orthos</a>. </p></div><div class="refsection" id="idm33162"><h2>Exemples : Comparaison entre la sélection des pixels intersectés et non</h2><pre class="programlisting">SELECT ST_Count(rast) AS count_pixels_in_orig, ST_Count(rast_touched) AS all_touched_pixels, ST_Count(rast_not_touched) AS default_clip
FROM ST_AsRaster(ST_Letters('R'), scalex =
&gt; 1.0, scaley =
&gt; -1.0) AS r(rast) 
    INNER JOIN ST_GeomFromText('LINESTRING(0 1, 5 6, 10 10)') AS g(geom)
 ON ST_Intersects(r.rast,g.geom)
 , ST_Clip(r.rast, g.geom, touched =
&gt; true) AS rast_touched
 , ST_Clip(r.rast, g.geom, touched =
&gt; false) AS rast_not_touched;
 
 count_pixels_in_orig | all_touched_pixels | default_clip
----------------------+--------------------+--------------
                 2605 |                 16 |           10
(1 row)
 </pre></div><div class="refsection" id="idm33165"><h2>Exemples : Coupe d'une bande (non modifiée)</h2><pre class="programlisting">-- Clip the first band of an aerial tile by a 20 meter buffer.
SELECT ST_Clip(rast, 1,
        ST_Buffer(ST_Centroid(ST_Envelope(rast)),20)
    ) from aerials.boston
WHERE rid = 4;
                    </pre><pre class="programlisting">-- Demonstrate effect of crop on final dimensions of raster
-- Note how final extent is clipped to that of the geometry
-- if crop = true
SELECT ST_XMax(ST_Envelope(ST_Clip(rast, 1, clipper, true))) As xmax_w_trim,
    ST_XMax(clipper) As xmax_clipper,
    ST_XMax(ST_Envelope(ST_Clip(rast, 1, clipper, false))) As xmax_wo_trim,
    ST_XMax(ST_Envelope(rast)) As xmax_rast_orig
FROM (SELECT rast, ST_Buffer(ST_Centroid(ST_Envelope(rast)),6) As clipper
    FROM aerials.boston
WHERE rid = 6) As foo;

   xmax_w_trim    |   xmax_clipper   |   xmax_wo_trim   |  xmax_rast_orig
------------------+------------------+------------------+------------------
 230657.436173996 | 230657.436173996 | 230666.436173996 | 230666.436173996
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_clip01.png"/><div class="caption"><p>Tuile raster complète avant découpe</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_clip02.png"/><div class="caption"><p>Après découpe</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm33189"><h2>Exemples : Coupe d'une bande sans recadrage et ajout d'autres bandes inchangées</h2><pre class="programlisting">-- Same example as before, but we need to set crop to false to be able to use ST_AddBand
-- because ST_AddBand requires all bands be the same Width and height
SELECT ST_AddBand(ST_Clip(rast, 1,
        ST_Buffer(ST_Centroid(ST_Envelope(rast)),20),false
    ), ARRAY[ST_Band(rast,2),ST_Band(rast,3)] ) from aerials.boston
WHERE rid = 6;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_clip04.png"/><div class="caption"><p>Tuile raster complète avant découpe</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_clip05.png"/><div class="caption"><p>Après découpe - surréaliste</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm33212"><h2>Exemples : Coupe de toutes les bandes</h2><pre class="programlisting">-- Clip all bands of an aerial tile by a 20 meter buffer.
-- Only difference is we don't specify a specific band to clip
-- so all bands are clipped
SELECT ST_Clip(rast,
      ST_Buffer(ST_Centroid(ST_Envelope(rast)), 20),
      false
    ) from aerials.boston
WHERE rid = 4;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_clip01.png"/><div class="caption"><p>Tuile raster complète avant découpe</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_clip03.png"/><div class="caption"><p>Après découpe</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm33235"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>, <a class="xref" href="#RT_ST_Count" title="ST_Count">ST_Count</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Intersection" title="ST_Intersection">ST_Intersection</a> </p></div></div><div class="refentry" id="RT_ST_ColorMap"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ColorMap — Crée un nouveau raster comprenant jusqu'à quatre bandes 8BUI (niveaux de gris, RGB, RGBA) à partir du raster source et d'une bande spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_ColorMap</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband=1</var>, text  <var class="pdparam">colormap=grayscale</var>, text  <var class="pdparam">method=INTERPOLATE</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_ColorMap</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">colormap</var>, text  <var class="pdparam">method=INTERPOLATE</var><code>)</code>;</p></div></div><div class="refsection" id="idm33276"><h2>Description</h2><p>Appliquer une palette de couleurs <code class="varname">colormap</code> à la bande <code class="varname">nband</code> du raster <code class="varname">rast</code>, pour obtenir un nouveau raster comprenant jusqu'à quatre bandes 8BUI. Le nombre de bandes 8BUI dans le nouveau raster est déterminé par le nombre de composantes de couleur définies dans <code class="varname">colormap</code>. </p><p>Si <code class="varname">nband</code> n'est pas spécifié, la bande 1 est utilisée.</p><p><code class="varname">colormap</code> peut être un mot-clé d'une palette de couleurs prédéfinie, ou un ensemble de lignes définissant la valeur et les composants de couleur. </p><p>Valeurs prédéfinies disponibles pour <code class="varname">colormap</code> : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">grayscale</code> ou <code class="varname">greyscale</code> pour un raster à 1 bande 8BUI en nuances de gris. </p></li><li class="listitem"><p><code class="varname">pseudocolor</code> pour un raster à 4 bandes 8BUI (RGBA) avec des couleurs allant du bleu au rouge en passant par le vert. </p></li><li class="listitem"><p><code class="varname">fire</code> pour un raster à 4 bandes 8BUI (RGBA) avec des couleurs allant du noir au rouge en passant par le jaune pâle. </p></li><li class="listitem"><p><code class="varname">bluered</code> pour un raster à 4 bandes 8BUI (RGBA) avec des couleurs allant du bleu au rouge en passant par le blanc pâle. </p></li></ul></div><p>Vous pouvez passer un ensemble d'entrées (une par ligne) à <code class="varname">colormap</code> pour spécifier des palettes de couleurs personnalisées. Chaque entrée se compose généralement de cinq valeurs : la valeur du pixel et les composantes rouge, verte, bleue et alpha correspondantes (composantes de couleur comprises entre 0 et 255). Des valeurs en pourcentage peuvent être utilisées à la place des valeurs en pixels, où 0% et 100% sont les valeurs minimales et maximales trouvées dans la bande raster. Les valeurs peuvent être séparées par des virgules (','), des tabulations, des deux-points (':') et/ou des espaces. La valeur du pixel peut être fixée à <span class="emphasis"><em>nv</em></span>, <span class="emphasis"><em>null</em></span> ou <span class="emphasis"><em>nodata</em></span> pour la valeur NODATA. Un exemple est fourni ci-dessous. </p><pre class="programlisting">5 0 0 0 255
4 100:50 55 255
1 150,100 150 255
0% 255 255 255 255
nv 0 0 0 0
                    </pre><p>La syntaxe de <code class="varname">colormap</code> est similaire à celle du mode couleur du relief de GDAL <a class="link" href="http://www.gdal.org/gdaldem.html#gdaldem_color_relief" target="_top">gdaldem</a>. </p><p>Valeurs disponibles pour <code class="varname">method</code> : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">INTERPOLATE</code> pour utiliser l'interpolation linéaire afin de mélanger les couleurs entre les valeurs de pixels données </p></li><li class="listitem"><p><code class="varname">EXACT</code> pour correspondre strictement aux valeurs des pixels trouvés dans la palette de couleurs. Les pixels dont la valeur ne correspond pas à une entrée de la palette de couleurs seront mis à 0 0 0 0 (RGBA) </p></li><li class="listitem"><p><code class="varname">NEAREST</code> pour utiliser l'entrée de la palette de couleurs dont la valeur est la plus proche de la valeur du pixel </p></li></ul></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Une excellente référence pour les palette de couleurs est <a class="link" href="http://www.colorbrewer2.org" target="_top">ColorBrewer</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les bandes résultantes du nouveau raster n'auront pas de valeur NODATA définie. Utilisez <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a> pour définir une valeur NODATA si nécessaire. </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0 </p></div><div class="refsection" id="idm33331"><h2>Exemples</h2><p>Définit une table de bric-à-brac pour jouer</p><pre class="programlisting">-- setup test raster table --
DROP TABLE IF EXISTS funky_shapes;
CREATE TABLE funky_shapes(rast raster);

INSERT INTO funky_shapes(rast)
WITH ref AS (
    SELECT ST_MakeEmptyRaster( 200, 200, 0, 200, 1, -1, 0, 0) AS rast
)
SELECT
    ST_Union(rast)
FROM (
    SELECT
        ST_AsRaster(
            ST_Rotate(
                ST_Buffer(
                    ST_GeomFromText('LINESTRING(0 2,50 50,150 150,125 50)'),
                    i*2
                ),
                pi() * i * 0.125, ST_Point(50,50)
            ),
            ref.rast, '8BUI'::text, i * 5
        ) AS rast
    FROM ref
    CROSS JOIN generate_series(1, 10, 3) AS i
) AS shapes;
                    </pre><pre class="programlisting">SELECT
    ST_NumBands(rast) As n_orig,
    ST_NumBands(ST_ColorMap(rast,1, 'greyscale')) As ngrey,
    ST_NumBands(ST_ColorMap(rast,1, 'pseudocolor')) As npseudo,
    ST_NumBands(ST_ColorMap(rast,1, 'fire')) As nfire,
    ST_NumBands(ST_ColorMap(rast,1, 'bluered')) As nbluered,
    ST_NumBands(ST_ColorMap(rast,1, '
100% 255   0   0
 80% 160   0   0
 50% 130   0   0
 30%  30   0   0
 20%  60   0   0
  0%   0   0   0
  nv 255 255 255
    ')) As nred
FROM funky_shapes;
                    </pre><pre class="screen">n_orig | ngrey | npseudo | nfire | nbluered | nred
--------+-------+---------+-------+----------+------
      1 |     1 |       4 |     4 |        4 |    3
                    </pre></div><div class="refsection" id="idm33337"><h2>Exemples : Comparaison de différentes palettes de couleurs via ST_AsPNG</h2><pre class="programlisting">SELECT
    ST_AsPNG(rast) As orig_png,
    ST_AsPNG(ST_ColorMap(rast,1,'greyscale')) As grey_png,
    ST_AsPNG(ST_ColorMap(rast,1, 'pseudocolor')) As pseudo_png,
    ST_AsPNG(ST_ColorMap(rast,1, 'nfire')) As fire_png,
    ST_AsPNG(ST_ColorMap(rast,1, 'bluered')) As bluered_png,
    ST_AsPNG(ST_ColorMap(rast,1, '
100% 255   0   0
 80% 160   0   0
 50% 130   0   0
 30%  30   0   0
 20%  60   0   0
  0%   0   0   0
  nv 255 255 255
    ')) As red_png
FROM funky_shapes;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_colormap_orig.png"/><div class="caption"><p>orig_png</p></div></div></div><p>
                                        </p>
                                    </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_colormap_grey.png"/><div class="caption"><p>grey_png</p></div></div></div><p>
                                        </p>
                                    </td><td style="border-bottom: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_colormap_pseudo.png"/><div class="caption"><p>pseudo_png</p></div></div></div><p>
                                        </p>
                                    </td></tr><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_colormap_fire.png"/><div class="caption"><p>fire_png</p></div></div></div><p>
                                        </p>
                                    </td><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_colormap_bluered.png"/><div class="caption"><p>bluered_png</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_colormap_red.png"/><div class="caption"><p>red_png</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm33393"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>, <a class="xref" href="#RT_ST_AsRaster" title="ST_AsRaster">ST_AsRaster</a> <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Grayscale" title="ST_Grayscale">ST_Grayscale</a> <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a>, <a class="xref" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a>, <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a>, <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a> </p></div></div><div class="refentry" id="RT_ST_Grayscale"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Grayscale — Crée un nouveau raster à 1 bande 8BUI à partir du raster source et des bandes spécifiées représentant les composantes rouge, vert et bleu</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">(1) raster <strong class="fsfunc">ST_Grayscale</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">redband=1</var>, integer  <var class="pdparam">greenband=2</var>, integer  <var class="pdparam">blueband=3</var>, text  <var class="pdparam">extenttype=INTERSECTION</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">(2) raster <strong class="fsfunc">ST_Grayscale</strong>(</code>rastbandarg[]  <var class="pdparam">rastbandargset</var>, text  <var class="pdparam">extenttype=INTERSECTION</var><code>)</code>;</p></div></div><div class="refsection" id="idm33438"><h2>Description</h2><p>Crée un raster à 1 bande 8BUI à partir de trois bandes d'entrée (provenant d'un ou plusieurs rasters). Toute bande d'entrée dont le type de pixel n'est pas 8BUI sera reclassée avec <a class="xref" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a>. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction est différente de <a class="xref" href="#RT_ST_ColorMap" title="ST_ColorMap">ST_ColorMap</a> avec le mot-clé <code class="varname">grayscale</code>, car ST_ColorMap n'opère que sur une seule bande alors que cette fonction s'attend à trois bandes pour RGB. Cette fonction applique l'équation suivante pour convertir les composantes RGB en niveaux de gris : 0,2989 * ROUGE + 0,5870 * VERT + 0,1140 * BLEU </p></td></tr></table></div><p class="availability">Disponibilité : 2.5.0 </p></div><div class="refsection" id="idm33447"><h2>Exemples : Variante 1</h2><pre class="programlisting">SET postgis.gdal_enabled_drivers = 'ENABLE_ALL';
SET postgis.enable_outdb_rasters = True;

WITH apple AS (
    SELECT ST_AddBand(
        ST_MakeEmptyRaster(350, 246, 0, 0, 1, -1, 0, 0, 0),
        '/tmp/apple.png'::text,
        NULL::int[]
    ) AS rast
)
SELECT
    ST_AsPNG(rast) AS original_png,
    ST_AsPNG(ST_Grayscale(rast)) AS grayscale_png
FROM apple;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/apple.png"/><div class="caption"><p>original_png</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/apple_st_grayscale.png"/><div class="caption"><p>grayscale_png</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm33470"><h2>Exemples : Variante 2</h2><pre class="programlisting">SET postgis.gdal_enabled_drivers = 'ENABLE_ALL';
SET postgis.enable_outdb_rasters = True;

WITH apple AS (
    SELECT ST_AddBand(
        ST_MakeEmptyRaster(350, 246, 0, 0, 1, -1, 0, 0, 0),
        '/tmp/apple.png'::text,
        NULL::int[]
    ) AS rast
)
SELECT
    ST_AsPNG(rast) AS original_png,
    ST_AsPNG(ST_Grayscale(
        ARRAY[
            ROW(rast, 1)::rastbandarg, -- red
            ROW(rast, 2)::rastbandarg, -- green
            ROW(rast, 3)::rastbandarg, -- blue
        ]::rastbandarg[]
    )) AS grayscale_png
FROM apple;
                    </pre></div><div class="refsection" id="idm33473"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>, <a class="xref" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a>, <a class="xref" href="#RT_ST_ColorMap" title="ST_ColorMap">ST_ColorMap</a> </p></div></div><div class="refentry" id="RT_ST_Intersection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Intersection — Retourne un raster ou un ensemble de paires (géométrie, valeur de pixel) représentant la partie partagée de deux rasters ou l'intersection géométrique d'une vectorisation du raster et d'une géométrie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof geomval <strong class="fsfunc">ST_Intersection</strong>(</code>geometry  <var class="pdparam">geom</var>, raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band_num=1</var><code>)</code>;</p><p><code class="funcdef">setof geomval <strong class="fsfunc">ST_Intersection</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">geom</var><code>)</code>;</p><p><code class="funcdef">setof geomval <strong class="fsfunc">ST_Intersection</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, geometry  <var class="pdparam">geomin</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Intersection</strong>(</code>raster  <var class="pdparam">rast1</var>, raster  <var class="pdparam">rast2</var>, double precision[]  <var class="pdparam">nodataval</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Intersection</strong>(</code>raster  <var class="pdparam">rast1</var>, raster  <var class="pdparam">rast2</var>, text  <var class="pdparam">returnband</var>, double precision[]  <var class="pdparam">nodataval</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Intersection</strong>(</code>raster  <var class="pdparam">rast1</var>, integer  <var class="pdparam">band1</var>, raster  <var class="pdparam">rast2</var>, integer  <var class="pdparam">band2</var>, double precision[]  <var class="pdparam">nodataval</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Intersection</strong>(</code>raster  <var class="pdparam">rast1</var>, integer  <var class="pdparam">band1</var>, raster  <var class="pdparam">rast2</var>, integer  <var class="pdparam">band2</var>, text  <var class="pdparam">returnband</var>, double precision[]  <var class="pdparam">nodataval</var><code>)</code>;</p></div></div><div class="refsection" id="idm33584"><h2>Description</h2><p>Retourne un raster ou un ensemble de paires (géométrie, valeur de pixel) représentant la partie partagée de deux rasters ou l'intersection géométrique d'une vectorisation du raster et d'une géométrie. </p><p>Les trois premières variantes, qui retournent un ensemble de géométries, fonctionnent dans l'espace vectoriel. Le raster est d'abord vectorisé (via <a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>) en un ensemble de lignes geomval, et ces lignes sont ensuite intersectées avec la géométrie via la fonction PostGIS <a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a> (geometry, geometry). Les géométries intersectant uniquement une zone de valeur nodata d'un raster renvoient une géométrie vide. Elles sont normalement exclues des résultats par l'utilisation correcte de <a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a> dans la clause WHERE. </p><p>Vous pouvez accéder aux parties géométrie et valeur de l'ensemble résultant de geomval en les entourant de parenthèses et en ajoutant '.geom' ou '.val' à la fin de l'expression. par exemple (ST_Intersection(rast, geom)).geom </p><p>Les autres variantes, qui retournent un raster, fonctionnent dans l'espace raster. Elles utilisent la variante de ST_MapAlgebraExpr utilisant deux rasters pour réaliser l'intersection. </p><p>L'étendue du raster résultant correspond à l'intersection géométrique des deux étendues des rasters. Le raster résultant inclut les bandes 'BAND1', 'BAND2' ou 'BOTH', en fonction du paramètre <code class="varname">returnband</code>. Les zones de valeurs nodata présentes dans n'importe quelle bande se traduisent par des zones de valeurs nodata dans toutes les bandes du résultat. En d'autres termes, tout pixel croisant un pixel à valeur nodata devient un pixel à valeur nodata dans le résultat. </p><p>Les rasters résultant de ST_Intersection doivent avoir une valeur nodata assignée pour les zones non intersectées. Vous pouvez définir ou remplacer la valeur nodata pour toute bande résultante en fournissant un tableau <code class="varname">nodataval[]</code> d'une ou deux valeurs nodata selon que vous demandez les bandes 'BAND1', 'BAND2' ou 'BOTH'. La première valeur du tableau remplace la valeur nodata dans la première bande et la deuxième valeur remplace la valeur nodata dans la deuxième bande. Si une bande d'entrée n'a pas de valeur nodata définie et qu'aucune n'est fournie sous forme de tableau, une valeur est choisie via la fonction ST_MinPossibleValue. Toutes les variantes acceptant un tableau de valeurs nodata peuvent également accepter une valeur unique qui sera assignée à chaque bande demandée. </p><p>Dans toutes les variantes, si aucune bande n'est spécifiée, la bande 1 est utilisée. Si vous avez besoin d'une intersection entre un raster et une géométrie qui retourne un raster, utilisez <a class="xref" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a>. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour mieux contrôler l'étendue résultante, ou ce qu'il faut retourner lorsqu'une valeur nodata est rencontrée, utilisez la variante à deux rasters de <a class="xref" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour calculer l'intersection d'une bande raster avec une géométrie dans l'espace raster, utilisez <a class="xref" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a>. ST_Clip travaille sur des bandes rasters multiples et ne retourne pas de bande correspondant à la géométrie rasterisée. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_Intersection devrait être utilisée conjointement avec <a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a> et un index sur la colonne raster et/ou la colonne géométrique. </p></td></tr></table></div><p>Amélioration : 2.0.0 - Ajout de l'intersection dans l'espace raster. Dans les versions antérieures à la version 2.0.0, seules les intersections réalisées dans l'espace vectoriel étaient prises en charge. </p></div><div class="refsection" id="idm33609"><h2>Exemples : Géométrie, Raster -- avec pour résultat des geomval</h2><pre class="programlisting">SELECT
    foo.rid,
    foo.gid,
    ST_AsText((foo.geomval).geom) As geomwkt,
    (foo.geomval).val
FROM (
    SELECT
        A.rid,
        g.gid,
        ST_Intersection(A.rast, g.geom) As geomval
    FROM dummy_rast AS A
    CROSS JOIN (
        VALUES
            (1, ST_Point(3427928, 5793243.85) ),
            (2, ST_GeomFromText('LINESTRING(3427927.85 5793243.75,3427927.8 5793243.75,3427927.8 5793243.8)')),
            (3, ST_GeomFromText('LINESTRING(1 2, 3 4)'))
    ) As g(gid,geom)
    WHERE A.rid = 2
) As foo;

 rid | gid |      geomwkt                                               | val
-----+-----+---------------------------------------------------------------------------------------------
   2 |   1 | POINT(3427928 5793243.85)                                  | 249
   2 |   1 | POINT(3427928 5793243.85)                                  | 253
   2 |   2 | POINT(3427927.85 5793243.75)                               | 254
   2 |   2 | POINT(3427927.8 5793243.8)                                 | 251
   2 |   2 | POINT(3427927.8 5793243.8)                                 | 253
   2 |   2 | LINESTRING(3427927.8 5793243.75,3427927.8 5793243.8)   | 252
   2 |   2 | MULTILINESTRING((3427927.8 5793243.8,3427927.8 5793243.75),...) | 250
   2 |   3 | GEOMETRYCOLLECTION EMPTY
                    </pre></div><div class="refsection" id="idm33612"><h2>Voir aussi</h2><p><a class="xref" href="#geomval" title="geomval">geomval</a>, <a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>, <a class="xref" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a> </p></div></div><div class="refentry" id="RT_ST_MapAlgebra"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MapAlgebra (callback function version) — Version avec fonction de rappel - Retourne un raster à une bande à partir d'un ou plusieurs rasters d'entrée, d'index de bandes et d'une fonction de rappel spécifiée par l'utilisateur. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>rastbandarg[]  <var class="pdparam">rastbandargset</var>, regprocedure  <var class="pdparam">callbackfunc</var>, text  <var class="pdparam">pixeltype=NULL</var>, text  <var class="pdparam">extenttype=INTERSECTION</var>, raster  <var class="pdparam">customextent=NULL</var>, integer  <var class="pdparam">distancex=0</var>, integer  <var class="pdparam">distancey=0</var>, text[]  <var class="pdparam">VARIADIC userargs=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nband</var>, regprocedure  <var class="pdparam">callbackfunc</var>, text  <var class="pdparam">pixeltype=NULL</var>, text  <var class="pdparam">extenttype=FIRST</var>, raster  <var class="pdparam">customextent=NULL</var>, integer  <var class="pdparam">distancex=0</var>, integer  <var class="pdparam">distancey=0</var>, text[]  <var class="pdparam">VARIADIC userargs=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, regprocedure  <var class="pdparam">callbackfunc</var>, text  <var class="pdparam">pixeltype=NULL</var>, text  <var class="pdparam">extenttype=FIRST</var>, raster  <var class="pdparam">customextent=NULL</var>, integer  <var class="pdparam">distancex=0</var>, integer  <var class="pdparam">distancey=0</var>, text[]  <var class="pdparam">VARIADIC userargs=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster  <var class="pdparam">rast1</var>, integer  <var class="pdparam">nband1</var>, raster  <var class="pdparam">rast2</var>, integer  <var class="pdparam">nband2</var>, regprocedure  <var class="pdparam">callbackfunc</var>, text  <var class="pdparam">pixeltype=NULL</var>, text  <var class="pdparam">extenttype=INTERSECTION</var>, raster  <var class="pdparam">customextent=NULL</var>, integer  <var class="pdparam">distancex=0</var>, integer  <var class="pdparam">distancey=0</var>, text[]  <var class="pdparam">VARIADIC userargs=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster <var class="pdparam">rast</var>, integer <var class="pdparam">nband</var>, regprocedure  <var class="pdparam">callbackfunc</var>, float8[]  <var class="pdparam">mask</var>, boolean  <var class="pdparam">weighted</var>, text  <var class="pdparam">pixeltype=NULL</var>, text  <var class="pdparam">extenttype=INTERSECTION</var>, raster  <var class="pdparam">customextent=NULL</var>, text[]  <var class="pdparam">VARIADIC userargs=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm33779"><h2>Description</h2><p>Retourne un raster à une bande à partir d'un ou plusieurs rasters d'entrée, d'index de bandes et d'une fonction de rappel spécifiée par l'utilisateur. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">rast,rast1,rast2, rastbandargset</code></span></dt><dd><p>Rasters sur lesquels le traitement d'algèbre cartographique est évalué.</p><p><code class="varname">rastbandargset</code> permet d'utiliser une opération d'algèbre cartographique sur plusieurs rasters et/ou plusieurs bandes. Voir l'exemple Variante 1. </p></dd><dt><span class="term"><code class="varname">nband, nband1, nband2</code></span></dt><dd><p>Numéros de bande du raster à évaluer. nband peut être un entier ou un tableau d'entiers désignant les bandes. nband1 est la bande sur rast1 et nband2 est la bande sur rast2 pour le cas de 2 rasters/2 bandes. </p></dd><dt><span class="term"><code class="varname">callbackfunc</code></span></dt><dd><p>Le paramètre <code class="varname">callbackfunc</code> doit être le nom et la signature d'une fonction SQL ou PL/pgSQL, transformée en une regprocedure. Un exemple de fonction PL/pgSQL est le suivant : </p><pre class="programlisting">CREATE OR REPLACE FUNCTION sample_callbackfunc(value double precision[][][], position integer[][], VARIADIC userargs text[])
    RETURNS double precision
    AS $$
    BEGIN
        RETURN 0;
    END;
    $$ LANGUAGE 'plpgsql' IMMUTABLE;
                                    </pre><p>Le <code class="varname">callbackfunc</code> doit avoir trois arguments : un tableau de double précision à 3 dimensions, un tableau d'entiers à 2 dimensions et un tableau de texte variadique à 1 dimension. Le premier argument <code class="varname">valeur</code> est l'ensemble des valeurs (en double précision) de toutes les matrices d'entrée. Les trois dimensions (où les index sont basés sur 1) sont : trame #, ligne y, colonne x. Le deuxième argument <code class="varname">position</code> est l'ensemble des positions des pixels de la trame de sortie et des trames d'entrée. La dimension extérieure (où les indices sont basés sur 0) est la trame #. La position à l'indice 0 de la dimension extérieure est la position en pixels de la trame de sortie. Pour chaque dimension extérieure, il y a deux éléments dans la dimension intérieure pour X et Y. Le troisième argument <code class="varname">userargs</code> sert à transmettre les arguments spécifiés par l'utilisateur. </p><p>Passer un argument de type <span class="type">regprocedure</span> à une fonction SQL nécessite de passer la signature complète de la fonction, puis de la convertir en un type <span class="type">regprocedure</span>. Pour passer la fonction PL/pgSQL ci-dessus en tant qu'argument, le code SQL de l'argument est le suivant : </p><pre class="programlisting">'sample_callbackfunc(double precision[], integer[], text[])'::regprocedure
                                    </pre><p>Notez que l'argument contient le nom de la fonction, les types des arguments de la fonction, des guillemets autour du nom et des types d'arguments, ainsi qu'un cast vers un <span class="type">regprocedure</span>. </p></dd><dt><span class="term"><code class="varname">mask</code></span></dt><dd><p>Un tableau à n dimensions (matrice) de nombres utilisés pour filtrer les cellules transmises à la fonction de rappel de l'algèbre cartographique. 0 signifie que la valeur d'une cellule voisine doit être traitée comme une absence de données et 1 signifie que la valeur doit être traitée comme une donnée. Si weight est définit à true, les valeurs sont utilisées comme multiplicateurs pour multiplier la valeur du pixel par cette valeur dans la position de voisinage. </p></dd><dt><span class="term"><code class="varname">weighted</code></span></dt><dd><p>booléen (true/false) indiquant si la valeur d'un masque doit être pondérée (multipliée par la valeur originale) ou non (ne s'applique qu'aux variantes qui prennent un masque). </p></dd><dt><span class="term"><code class="varname">pixeltype</code></span></dt><dd><p>Si <code class="varname">pixeltype</code> est spécifié, l'unique bande du nouveau raster sera de ce type de pixel. Si pixeltype est NULL ou omis, la nouvelle bande du raster aura le même pixeltype que la bande spécifiée du premier raster (pour les types d'étendue : INTERSECTION, UNION, FIRST, CUSTOM) ou que la bande spécifiée du raster approprié (pour les types d'étendue : SECOND, LAST). En cas de doute, spécifiez toujours <code class="varname">pixeltype</code>. </p><p>Le type de pixel résultant du raster de sortie doit correspondre à l'un des types énumérés dans <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, ou être omis ou défini à NULL. </p></dd><dt><span class="term"><code class="varname">extenttype</code></span></dt><dd><p>Les valeurs possibles sont INTERSECTION (par défaut), UNION, FIRST (premier, par défaut pour les variantes à un seul raster), SECOND, LAST (dernier), CUSTOM (personnalisé). </p></dd><dt><span class="term"><code class="varname">customextent</code></span></dt><dd><p>Si <code class="varname">extentype</code> est CUSTOM, un raster doit être spécifié par le paramètre <code class="varname">customextent</code>. Voir l'exemple 4 de la variante 1. </p></dd><dt><span class="term"><code class="varname">distancex</code></span></dt><dd><p>La distance en pixels de la cellule de référence dans la direction x. La largeur de la matrice résultante sera donc <code class="code">2*distancex + 1</code>. Si elle n'est pas spécifiée, seule la cellule de référence est prise en compte (voisinage de 0). </p></dd><dt><span class="term"><code class="varname">distancey</code></span></dt><dd><p>La distance en pixels de la cellule de référence dans la direction y. La hauteur de la matrice résultante sera <code class="code">2*distancey + 1</code> Si elle n'est pas spécifiée, seule la cellule de référence est prise en compte (voisinage de 0). </p></dd><dt><span class="term"><code class="varname">userargs</code></span></dt><dd><p>Le troisième paramètre de la fonction <code class="varname">callbackfunc</code> est un tableau <span class="type">variadic text</span> . Tous les arguments textuels supplémentaires sont transmis à <code class="varname">callbackfunc</code>, et sont contenus dans l'argument <code class="varname">userargs</code>. </p></dd></dl></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour plus d'informations sur le mot-clé VARIADIC, veuillez vous référer à la documentation PostgreSQL et à la section "SQL Functions with Variable Numbers of Arguments" de <a class="link" href="http://www.postgresql.org/docs/current/static/xfunc-sql.html" target="_top">Query Language (SQL) Functions</a>. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le paramètre <span class="type">text[]</span> de la fonction <code class="varname">callbackfunc</code> est obligatoire, que vous choisissiez ou non de transmettre des arguments à la fonction de rappel. </p></td></tr></table></div><p>La variante 1 accepte un tableau de <code class="varname">rastbandarg</code> permettant l'utilisation d'une opération d'algèbre cartographique sur de nombreux masters et/ou de nombreuses bandes. Voir l'exemple de la variante 1. </p><p>Les variantes 2 et 3 agissent sur une ou plusieurs bandes d'un même raster. Voir l'exemple des variantes 2 et 3. </p><p>La variante 4 utilise deux rasters avec une bande par raster. Voir l'exemple de la variante 4. </p><p class="availability">Disponibilité : 2.2.0 : Possibilité d'ajouter un masque</p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm33878"><h2>Exemples : Variante 1</h2><p>Un raster, une bande</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0) AS rast
)
SELECT
    ST_MapAlgebra(
        ARRAY[ROW(rast, 1)]::rastbandarg[],
        'sample_callbackfunc(double precision[], int[], text[])'::regprocedure
    ) AS rast
FROM foo
                    </pre><p>Un raster, plusieurs bandes</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI', 100, 0) AS rast
)
SELECT
    ST_MapAlgebra(
        ARRAY[ROW(rast, 3), ROW(rast, 1), ROW(rast, 3), ROW(rast, 2)]::rastbandarg[],
        'sample_callbackfunc(double precision[], int[], text[])'::regprocedure
    ) AS rast
FROM foo
                    </pre><p>Plusieurs rasters, plusieurs bandes</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI', 100, 0) AS rast UNION ALL
    SELECT 2 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 1, 1, -1, 0, 0, 0), 1, '16BUI', 2, 0), 2, '8BUI', 20, 0), 3, '32BUI', 300, 0) AS rast
)
SELECT
    ST_MapAlgebra(
        ARRAY[ROW(t1.rast, 3), ROW(t2.rast, 1), ROW(t2.rast, 3), ROW(t1.rast, 2)]::rastbandarg[],
        'sample_callbackfunc(double precision[], int[], text[])'::regprocedure
    ) AS rast
FROM foo t1
CROSS JOIN foo t2
WHERE t1.rid = 1
    AND t2.rid = 2
                    </pre><p>Exemple complet avec les tuiles d'une couverture avec voisinage. Cette requête ne fonctionne qu'avec PostgreSQL 9.1 ou plus.</p><pre class="programlisting">WITH foo AS (
    SELECT 0 AS rid, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0) AS rast UNION ALL
    SELECT 1, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, 0, 1, -1, 0, 0, 0), 1, '16BUI', 2, 0) AS rast UNION ALL
    SELECT 2, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, 0, 1, -1, 0, 0, 0), 1, '16BUI', 3, 0) AS rast UNION ALL

    SELECT 3, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, -2, 1, -1, 0, 0, 0), 1, '16BUI', 10, 0) AS rast UNION ALL
    SELECT 4, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, -2, 1, -1, 0, 0, 0), 1, '16BUI', 20, 0) AS rast UNION ALL
    SELECT 5, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, -2, 1, -1, 0, 0, 0), 1, '16BUI', 30, 0) AS rast UNION ALL

    SELECT 6, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, -4, 1, -1, 0, 0, 0), 1, '16BUI', 100, 0) AS rast UNION ALL
    SELECT 7, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, -4, 1, -1, 0, 0, 0), 1, '16BUI', 200, 0) AS rast UNION ALL
    SELECT 8, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, -4, 1, -1, 0, 0, 0), 1, '16BUI', 300, 0) AS rast
)
SELECT
    t1.rid,
    ST_MapAlgebra(
        ARRAY[ROW(ST_Union(t2.rast), 1)]::rastbandarg[],
        'sample_callbackfunc(double precision[], int[], text[])'::regprocedure,
        '32BUI',
        'CUSTOM', t1.rast,
        1, 1
    ) AS rast
FROM foo t1
CROSS JOIN foo t2
WHERE t1.rid = 4
    AND t2.rid BETWEEN 0 AND 8
    AND ST_Intersects(t1.rast, t2.rast)
GROUP BY t1.rid, t1.rast
                    </pre><p>Exemple identique au précédent pour les tuiles d'une couverture avec voisinage, mais fonctionne avec PostgreSQL 9.0.</p><pre class="programlisting">WITH src AS (
    SELECT 0 AS rid, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0) AS rast UNION ALL
    SELECT 1, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, 0, 1, -1, 0, 0, 0), 1, '16BUI', 2, 0) AS rast UNION ALL
    SELECT 2, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, 0, 1, -1, 0, 0, 0), 1, '16BUI', 3, 0) AS rast UNION ALL

    SELECT 3, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, -2, 1, -1, 0, 0, 0), 1, '16BUI', 10, 0) AS rast UNION ALL
    SELECT 4, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, -2, 1, -1, 0, 0, 0), 1, '16BUI', 20, 0) AS rast UNION ALL
    SELECT 5, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, -2, 1, -1, 0, 0, 0), 1, '16BUI', 30, 0) AS rast UNION ALL

    SELECT 6, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, -4, 1, -1, 0, 0, 0), 1, '16BUI', 100, 0) AS rast UNION ALL
    SELECT 7, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, -4, 1, -1, 0, 0, 0), 1, '16BUI', 200, 0) AS rast UNION ALL
    SELECT 8, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, -4, 1, -1, 0, 0, 0), 1, '16BUI', 300, 0) AS rast
)
WITH foo AS (
    SELECT
        t1.rid,
        ST_Union(t2.rast) AS rast
    FROM src t1
    JOIN src t2
        ON ST_Intersects(t1.rast, t2.rast)
        AND t2.rid BETWEEN 0 AND 8
    WHERE t1.rid = 4
    GROUP BY t1.rid
), bar AS (
    SELECT
        t1.rid,
        ST_MapAlgebra(
            ARRAY[ROW(t2.rast, 1)]::rastbandarg[],
            'raster_nmapalgebra_test(double precision[], int[], text[])'::regprocedure,
            '32BUI',
            'CUSTOM', t1.rast,
            1, 1
        ) AS rast
    FROM src t1
    JOIN foo t2
        ON t1.rid = t2.rid
)
SELECT
    rid,
    (ST_Metadata(rast)),
    (ST_BandMetadata(rast, 1)),
    ST_Value(rast, 1, 1, 1)
FROM bar;
                    </pre></div><div class="refsection" id="idm33890"><h2>Exemples : Variantes 2 et 3</h2><p>Un raster, plusieurs bandes</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI', 100, 0) AS rast
)
SELECT
    ST_MapAlgebra(
        rast, ARRAY[3, 1, 3, 2]::integer[],
        'sample_callbackfunc(double precision[], int[], text[])'::regprocedure
    ) AS rast
FROM foo
                    </pre><p>Un raster, une bande</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI', 100, 0) AS rast
)
SELECT
    ST_MapAlgebra(
        rast, 2,
        'sample_callbackfunc(double precision[], int[], text[])'::regprocedure
    ) AS rast
FROM foo
                    </pre></div><div class="refsection" id="idm33896"><h2>Exemples : Variante 4</h2><p>Deux rasters, deux bandes</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI', 100, 0) AS rast UNION ALL
    SELECT 2 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 1, 1, -1, 0, 0, 0), 1, '16BUI', 2, 0), 2, '8BUI', 20, 0), 3, '32BUI', 300, 0) AS rast
)
SELECT
    ST_MapAlgebra(
        t1.rast, 2,
        t2.rast, 1,
        'sample_callbackfunc(double precision[], int[], text[])'::regprocedure
    ) AS rast
FROM foo t1
CROSS JOIN foo t2
WHERE t1.rid = 1
    AND t2.rid = 2
                    </pre></div><div class="refsection" id="idm33900"><h2>Exemples : Utilisation de masques</h2><pre class="programlisting">WITH foo AS (SELECT
   ST_SetBandNoDataValue(
ST_SetValue(ST_SetValue(ST_AsRaster(
        ST_Buffer(
            ST_GeomFromText('LINESTRING(50 50,100 90,100 50)'), 5,'join=bevel'),
            200,200,ARRAY['8BUI'], ARRAY[100], ARRAY[0]), ST_Buffer('POINT(70 70)'::geometry,10,'quad_segs=1') ,50),
  'LINESTRING(20 20, 100 100, 150 98)'::geometry,1),0)  AS rast )
SELECT 'original' AS title, rast
FROM foo
UNION ALL
SELECT 'no mask mean value' AS title, ST_MapAlgebra(rast,1,'ST_mean4ma(double precision[], int[], text[])'::regprocedure) AS rast
FROM foo
UNION ALL
SELECT 'mask only consider neighbors, exclude center' AS title, ST_MapAlgebra(rast,1,'ST_mean4ma(double precision[], int[], text[])'::regprocedure,
    '{{1,1,1}, {1,0,1}, {1,1,1}}'::double precision[], false) As rast
FROM foo

UNION ALL
SELECT 'mask weighted only consider neighbors, exclude center multi other pixel values by 2' AS title, ST_MapAlgebra(rast,1,'ST_mean4ma(double precision[], int[], text[])'::regprocedure,
    '{{2,2,2}, {2,0,2}, {2,2,2}}'::double precision[], true) As rast
FROM foo;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebramask01.png"/><div class="caption"><p>original</p></div></div></div><p>
                                        </p>
                                    </td><td style="border-bottom: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebramask02.png"/><div class="caption"><p>valeur moyenne, sans masque (ce qui revient à avoir que des 1 dans la matrice du masque)</p></div></div></div><p>
                                        </p>
                                    </td></tr><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebramask03.png"/><div class="caption"><p>masque uniquement sur les voisins, en excluant le centre</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebramask04.png"/><div class="caption"><p>masque pondéré, uniquement sur les voisins en excluant le centre, multiplier les autres pixels par 2</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm33940"><h2>Voir aussi</h2><p><a class="xref" href="#rastbandarg" title="rastbandarg">rastbandarg</a>, <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a>, <a class="xref" href="#RT_ST_MapAlgebra_expr" title="ST_MapAlgebra (expression version)">ST_MapAlgebra (expression version)</a> </p></div></div><div class="refentry" id="RT_ST_MapAlgebra_expr"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MapAlgebra (expression version) — Version avec expression - Retourne un raster à une bande à partir d'un ou deux rasters d'entrée, d'index de bandes et d'une ou plusieurs expressions SQL spécifiées par l'utilisateur. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, text  <var class="pdparam">pixeltype</var>, text  <var class="pdparam">expression</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">pixeltype</var>, text  <var class="pdparam">expression</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster  <var class="pdparam">rast1</var>, integer  <var class="pdparam">nband1</var>, raster  <var class="pdparam">rast2</var>, integer  <var class="pdparam">nband2</var>, text  <var class="pdparam">expression</var>, text  <var class="pdparam">pixeltype=NULL</var>, text  <var class="pdparam">extenttype=INTERSECTION</var>, text  <var class="pdparam">nodata1expr=NULL</var>, text  <var class="pdparam">nodata2expr=NULL</var>, double precision  <var class="pdparam">nodatanodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster  <var class="pdparam">rast1</var>, raster  <var class="pdparam">rast2</var>, text  <var class="pdparam">expression</var>, text  <var class="pdparam">pixeltype=NULL</var>, text  <var class="pdparam">extenttype=INTERSECTION</var>, text  <var class="pdparam">nodata1expr=NULL</var>, text  <var class="pdparam">nodata2expr=NULL</var>, double precision  <var class="pdparam">nodatanodataval=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm34045"><h2>Description</h2><p>Version avec expression - Retourne un raster à une bande à partir d'un ou deux rasters d'entrée, d'index de bandes et d'une ou plusieurs expressions SQL spécifiées par l'utilisateur. </p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm34049"><h2>Description : Variantes 1 et 2 (un raster)</h2><p>Crée un nouveau raster à une bande formé en appliquant une opération algébrique PostgreSQL valide définie par <code class="varname">expression</code> sur le raster d'entrée (<code class="varname">rast</code>). Si <code class="varname">nband</code> n'est pas fourni, la bande 1 est utilisée. Le nouveau raster aura la même géoréférence, la même largeur et la même hauteur que le raster original mais n'aura qu'une seule bande. </p><p>Si <code class="varname">pixeltype</code> est fourni, le nouveau raster aura une bande de ce type de pixel. Si pixeltype est NULL, la nouvelle bande raster aura le même type de pixel que la bande d'entrée de <code class="varname">rast</code>. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Mots clés possibles pour <code class="varname">expression</code></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">[rast]</code> - Valeur du pixel d'intérêt</p></li><li class="listitem"><p><code class="varname">[rast.val]</code> - Valeur du pixel d'intérêt</p></li><li class="listitem"><p><code class="varname">[rast.x]</code> - colonne du pixel d'intérêt (démarrant à 1)</p></li><li class="listitem"><p><code class="varname">[rast.y]</code> - ligne du pixel d'intérêt (démarrant à 1)</p></li></ol></div></li></ul></div></div><div class="refsection" id="idm34075"><h2>Description : Variantes 3 et 4 (deux rasters)</h2><p>Crée un nouveau raster à une bande formé en appliquant une opération algébrique PostgreSQL valide aux deux bandes définies par <code class="varname">expression</code> sur les deux bandes d'entrée <code class="varname">rast1</code> (et optionnellement <code class="varname">rast2</code>). Si aucune bande <code class="varname">band1</code>, <code class="varname">band2</code> n'est spécifiée, la bande 1 est utilisée. Le raster résultant sera aligné (échelle, obliquité et coins) sur la grille définie par le premier raster. Le raster résultant aura l'étendue définie par le paramètre <code class="varname">extenttype</code>. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">expression</code></span></dt><dd><p>Une expression algébrique PostgreSQL impliquant les deux rasters et les fonctions/opérateurs définis par PostgreSQL qui définiront la valeur du pixel lorsque les pixels intersectent, par exemple (([rast1] + [rast2])/2.0)::integer </p></dd><dt><span class="term"><code class="varname">pixeltype</code></span></dt><dd><p>Le type de pixel résultant du raster de sortie. Doit être l'un de ceux listés dans <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, omis ou NULL. S'il n'est pas fourni ou NULL, le type de pixel du premier raster sera utilisé par défaut. </p></dd><dt><span class="term"><code class="varname">extenttype</code></span></dt><dd><p>Contrôle l'étendue du raster de sortie </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">INTERSECTION</code> - L'étendue du nouveau raster est l'intersection des deux rasters. Il s'agit de la valeur par défaut. </p></li><li class="listitem"><p><code class="varname">UNION</code> - L'étendue du nouveau raster est l'union des deux rasters. </p></li><li class="listitem"><p><code class="varname">FIRST</code> - L'étendue du nouveau raster est la même que celle du premier raster. </p></li><li class="listitem"><p><code class="varname">SECOND</code> - L'étendue du nouveau raster est la même que celle du second raster. </p></li></ol></div></dd><dt><span class="term"><code class="varname">nodata1expr</code></span></dt><dd><p>Une expression algébrique impliquant uniquement <code class="varname">rast2</code>, ou une constante qui définit la valeur à retourner lorsque les pixels de <code class="varname">rast1</code> sont des valeurs nodata et que les pixels correspondants dans rast2 ont des valeurs. </p></dd><dt><span class="term"><code class="varname">nodata2expr</code></span></dt><dd><p>Une expression algébrique impliquant uniquement <code class="varname">rast1</code>, ou une constante qui définit la valeur à retourner lorsque les pixels de <code class="varname">rast2</code> sont des valeurs nodata et que les pixels correspondants dans rast1 ont des valeurs. </p></dd><dt><span class="term"><code class="varname">nodatanodataval</code></span></dt><dd><p>Constante numérique à retourner lorsque les pixels de rast1 et de rast2 sont tous deux des valeurs nodata. </p></dd></dl></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Mots clés possibles dans <code class="varname">expression</code>, <code class="varname">nodata1expr</code> et <code class="varname">nodata2expr</code></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">[rast1]</code> - Valeur du pixel d'intérêt sur <code class="varname">rast1</code></p></li><li class="listitem"><p><code class="varname">[rast1.val]</code> - Valeur du pixel d'intérêt de <code class="varname">rast1</code></p></li><li class="listitem"><p><code class="varname">[rast1.x]</code> - Colonne du pixel d'intérêt de <code class="varname">rast1</code> (démarrant à 1)</p></li><li class="listitem"><p><code class="varname">[rast1.y]</code> - Ligne du pixel d'intérêt de <code class="varname">rast1</code> (démarrant à 1)</p></li><li class="listitem"><p><code class="varname">[rast2]</code> - Valeur du pixel d'intérêt sur <code class="varname">rast2</code></p></li><li class="listitem"><p><code class="varname">[rast2.val]</code> - Valeur du pixel d'intérêt de <code class="varname">rast2</code></p></li><li class="listitem"><p><code class="varname">[rast2.x]</code> - Colonne du pixel d'intérêt de <code class="varname">rast2</code> (démarrant à 1)</p></li><li class="listitem"><p><code class="varname">[rast2.y]</code> - Ligne du pixel d'intérêt de <code class="varname">rast2</code> (démarrant à 1)</p></li></ol></div></li></ul></div></div><div class="refsection" id="idm34172"><h2>Exemples : Variantes 1 et 2</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_AddBand(ST_MakeEmptyRaster(10, 10, 0, 0, 1, 1, 0, 0, 0), '32BF'::text, 1, -1) AS rast
)
SELECT
    ST_MapAlgebra(rast, 1, NULL, 'ceil([rast]*[rast.x]/[rast.y]+[rast.val])')
FROM foo;
                    </pre></div><div class="refsection" id="idm34175"><h2>Exemples : Variantes 3 et 4</h2><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI'::text, 100, 0) AS rast UNION ALL
    SELECT 2 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 1, 1, -1, 0, 0, 0), 1, '16BUI', 2, 0), 2, '8BUI', 20, 0), 3, '32BUI'::text, 300, 0) AS rast
)
SELECT
    ST_MapAlgebra(
        t1.rast, 2,
        t2.rast, 1,
        '([rast2] + [rast1.val]) / 2'
    ) AS rast
FROM foo t1
CROSS JOIN foo t2
WHERE t1.rid = 1
    AND t2.rid = 2;
                    </pre></div><div class="refsection" id="idm34178"><h2>Voir aussi</h2><p><a class="xref" href="#rastbandarg" title="rastbandarg">rastbandarg</a>, <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a> </p></div></div><div class="refentry" id="RT_ST_MapAlgebraExpr"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MapAlgebraExpr — Version avec raster à 1 bande : Crée un nouveau raster à une bande formé par l'application d'une opération algébrique PostgreSQL valide sur la bande d'entrée du raster et du type de pixel fourni. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraExpr</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, text  <var class="pdparam">pixeltype</var>, text  <var class="pdparam">expression</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraExpr</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">pixeltype</var>, text  <var class="pdparam">expression</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm34223"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#RT_ST_MapAlgebraExpr" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a> est obsolète depuis 2.1.0. Utilisez plutôt <a class="xref" href="#RT_ST_MapAlgebra_expr" title="ST_MapAlgebra (expression version)">ST_MapAlgebra (expression version)</a>. </p></td></tr></table></div><p>Crée un nouveau raster à une bande formé par l'application d'une opération algébrique PostgreSQL valide définie par <code class="varname">expression</code> sur le raster d'entrée (<code class="varname">rast</code>). Si aucune <code class="varname">band</code> n'est spécifiée, la bande 1 est utilisée. Le nouveau raster aura la même géoréférence, la même largeur et la même hauteur que le raster original mais n'aura qu'une seule bande. </p><p>Si <code class="varname">pixeltype</code> est fourni, le nouveau raster aura une bande de ce type de pixel. Si pixeltype est NULL, la nouvelle bande raster aura le même type de pixel que la bande d'entrée de <code class="varname">rast</code>. </p><p>Dans l'expression, vous pouvez utiliser le mot clé <code class="varname">[rast]</code> pour faire référence à la valeur en pixels de la bande originale, <code class="varname">[rast.x]</code> pour faire référence à l'indice de colonne de pixels (basé sur 1), <code class="varname">[rast.y]</code> pour faire référence à l'indice de ligne de pixels (basé sur 1). </p><p class="availability">Disponibilité : 2.0.0 </p></div><div class="refsection" id="idm34241"><h2>Exemples</h2><p>Crée une nouveau raster à 1 bande qui est une fonction modulo 2 de la bande du raster original.</p><pre class="programlisting">ALTER TABLE dummy_rast ADD COLUMN map_rast raster;
UPDATE dummy_rast SET map_rast = ST_MapAlgebraExpr(rast,NULL,'mod([rast]::numeric,2)') WHERE rid = 2;

SELECT
    ST_Value(rast,1,i,j) As origval,
    ST_Value(map_rast, 1, i, j) As mapval
FROM dummy_rast
CROSS JOIN generate_series(1, 3) AS i
CROSS JOIN generate_series(1,3) AS j
WHERE rid = 2;

 origval | mapval
---------+--------
     253 |      1
     254 |      0
     253 |      1
     253 |      1
     254 |      0
     254 |      0
     250 |      0
     254 |      0
     254 |      0
                    </pre><p>Crée un nouveau raster à 1 bande de type de pixel 2BUI à partir d'un raster original reclassifié et avec la valeur nodata à 0.</p><pre class="programlisting">ALTER TABLE dummy_rast ADD COLUMN map_rast2 raster;
UPDATE dummy_rast SET
    map_rast2 = ST_MapAlgebraExpr(rast,'2BUI'::text,'CASE WHEN [rast] BETWEEN 100 and 250 THEN 1 WHEN [rast] = 252 THEN 2 WHEN [rast] BETWEEN 253 and 254 THEN 3 ELSE 0 END'::text, '0')
WHERE rid = 2;

SELECT DISTINCT
    ST_Value(rast,1,i,j) As origval,
    ST_Value(map_rast2, 1, i, j) As mapval
FROM dummy_rast
CROSS JOIN generate_series(1, 5) AS i
CROSS JOIN generate_series(1,5) AS j
WHERE rid = 2;

 origval | mapval
---------+--------
     249 |      1
     250 |      1
     251 |
     252 |      2
     253 |      3
     254 |      3

SELECT
    ST_BandPixelType(map_rast2) As b1pixtyp
FROM dummy_rast
WHERE rid = 2;

 b1pixtyp
----------
 2BUI
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr01.png"/><div class="caption"><p>original (colonne rast_view)</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr02.png"/><div class="caption"><p>rast_view_ma</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div><p>Crée un nouveau raster à 3 bandes de même type de pixel que le raster original à 3 bandes, la première bande étant modifiée par l'algèbre cartographique et les 2 bandes restantes n'étant pas modifiées.</p><pre class="programlisting">SELECT
    ST_AddBand(
        ST_AddBand(
            ST_AddBand(
                ST_MakeEmptyRaster(rast_view),
                ST_MapAlgebraExpr(rast_view,1,NULL,'tan([rast])*[rast]')
            ),
            ST_Band(rast_view,2)
        ),
        ST_Band(rast_view, 3)
    )  As rast_view_ma
FROM wind
WHERE rid=167;
                    </pre></div><div class="refsection" id="idm34269"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>, <a class="xref" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a> </p></div></div><div class="refentry" id="RT_ST_MapAlgebraExpr2"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MapAlgebraExpr — Version avec 2 bandes : Crée un nouveau raster à une bande formé en appliquant une opération algébrique PostgreSQL valide sur les deux bandes du raster d'entrée et du type de pixel fourni. La bande 1 de chaque raster est utilisée si aucun numéro de bande n'est spécifié. Le raster résultant sera aligné (échelle, obliquité et coins) sur la grille définie par le premier raster et aura son étendue définie par le paramètre "extenttype". Les valeurs de "extenttype" peuvent être : INTERSECTION, UNION, FIRST, SECOND. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraExpr</strong>(</code>raster  <var class="pdparam">rast1</var>, raster  <var class="pdparam">rast2</var>, text  <var class="pdparam">expression</var>, text  <var class="pdparam">pixeltype=same_as_rast1_band</var>, text  <var class="pdparam">extenttype=INTERSECTION</var>, text  <var class="pdparam">nodata1expr=NULL</var>, text  <var class="pdparam">nodata2expr=NULL</var>, double precision  <var class="pdparam">nodatanodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraExpr</strong>(</code>raster  <var class="pdparam">rast1</var>, integer  <var class="pdparam">band1</var>, raster  <var class="pdparam">rast2</var>, integer  <var class="pdparam">band2</var>, text  <var class="pdparam">expression</var>, text  <var class="pdparam">pixeltype=same_as_rast1_band</var>, text  <var class="pdparam">extenttype=INTERSECTION</var>, text  <var class="pdparam">nodata1expr=NULL</var>, text  <var class="pdparam">nodata2expr=NULL</var>, double precision  <var class="pdparam">nodatanodataval=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm34343"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a> est obsolète depuis 2.1.0. Utilisez plutôt <a class="xref" href="#RT_ST_MapAlgebra_expr" title="ST_MapAlgebra (expression version)">ST_MapAlgebra (expression version)</a>. </p></td></tr></table></div><p>Crée un nouveau raster à une bande formé en appliquant une opération algébrique PostgreSQL valide aux deux bandes définies par <code class="varname">expression</code> sur les deux bandes d'entrée <code class="varname">rast1</code> (et optionnellement <code class="varname">rast2</code>). Si aucune bande <code class="varname">band1</code>, <code class="varname">band2</code> n'est spécifiée, la bande 1 est utilisée. Le raster résultant sera aligné (échelle, obliquité et coins) sur la grille définie par le premier raster. Le raster résultant aura l'étendue définie par le paramètre <code class="varname">extenttype</code>. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">expression</code></span></dt><dd><p>Une expression algébrique PostgreSQL impliquant les deux rasters et les fonctions/opérateurs définis par PostgreSQL qui définiront la valeur du pixel lorsque les pixels intersectent, par exemple (([rast1] + [rast2])/2.0)::integer </p></dd><dt><span class="term"><code class="varname">pixeltype</code></span></dt><dd><p>Le type de pixel résultant du raster de sortie. Doit être l'un de ceux listés dans <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, omis ou NULL. S'il n'est pas fourni ou NULL, le type de pixel du premier raster sera utilisé par défaut. </p></dd><dt><span class="term"><code class="varname">extenttype</code></span></dt><dd><p>Contrôle l'étendue du raster de sortie</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">INTERSECTION</code> - L'étendue du nouveau raster est l'intersection des deux rasters. Il s'agit de la valeur par défaut. </p></li><li class="listitem"><p><code class="varname">UNION</code> - L'étendue du nouveau raster est l'union des deux rasters. </p></li><li class="listitem"><p><code class="varname">FIRST</code> - L'étendue du nouveau raster est la même que celle du premier raster. </p></li><li class="listitem"><p><code class="varname">SECOND</code> - L'étendue du nouveau raster est la même que celle du second raster. </p></li></ol></div></dd><dt><span class="term"><code class="varname">nodata1expr</code></span></dt><dd><p>Une expression algébrique impliquant uniquement <code class="varname">rast2</code>, ou une constante qui définit la valeur à retourner lorsque les pixels de <code class="varname">rast1</code> sont des valeurs nodata et que les pixels correspondants dans rast2 ont des valeurs. </p></dd><dt><span class="term"><code class="varname">nodata2expr</code></span></dt><dd><p>Une expression algébrique impliquant uniquement <code class="varname">rast1</code>, ou une constante qui définit la valeur à retourner lorsque les pixels de <code class="varname">rast2</code> sont des valeurs nodata et que les pixels correspondants dans rast1 ont des valeurs. </p></dd><dt><span class="term"><code class="varname">nodatanodataval</code></span></dt><dd><p>Constante numérique à retourner lorsque les pixels de rast1 et de rast2 sont tous deux des valeurs nodata. </p></dd></dl></div><p>Si le <code class="varname">pixeltype</code> est fourni, le nouveau raster aura une bande de ce type de pixel. Si le type de pixel est NULL ou si aucun type de pixel n'est spécifié, la nouvelle bande raster aura le même type de pixel que la bande d'entrée de <code class="varname">rast1</code>. </p><p>Utilisez le mot clé <code class="varname">[rast1.val]</code> <code class="varname">[rast2.val]</code> pour désigner la valeur en pixels des bandes raster d'origine et <code class="varname">[rast1.x]</code>, <code class="varname">[rast1.y]</code> etc. pour désigner la position des pixels dans les colonnes et les lignes. </p><p class="availability">Disponibilité : 2.0.0 </p></div><div class="refsection" id="idm34414"><h2>Exemple : Intersection et Union avec 2 bandes</h2><p>Crée une nouveau raster à 1 bande qui est une fonction modulo 2 de la bande du raster original.</p><pre class="programlisting">--Create a cool set of rasters --
DROP TABLE IF EXISTS fun_shapes;
CREATE TABLE fun_shapes(rid serial PRIMARY KEY, fun_name text, rast raster);

-- Insert some cool shapes around Boston in Massachusetts state plane meters --
INSERT INTO fun_shapes(fun_name, rast)
VALUES ('ref', ST_AsRaster(ST_MakeEnvelope(235229, 899970, 237229, 901930,26986),200,200,'8BUI',0,0));

INSERT INTO fun_shapes(fun_name,rast)
WITH ref(rast) AS (SELECT rast FROM fun_shapes WHERE fun_name = 'ref' )
SELECT 'area' AS fun_name, ST_AsRaster(ST_Buffer(ST_SetSRID(ST_Point(236229, 900930),26986), 1000),
            ref.rast,'8BUI', 10, 0) As rast
FROM ref
UNION ALL
SELECT 'rand bubbles',
            ST_AsRaster(
            (SELECT ST_Collect(geom)
    FROM (SELECT ST_Buffer(ST_SetSRID(ST_Point(236229 + i*random()*100, 900930 + j*random()*100),26986), random()*20) As geom
            FROM generate_series(1,10) As i, generate_series(1,10) As j
            ) As foo ), ref.rast,'8BUI', 200, 0)
FROM ref;

--map them -
SELECT  ST_MapAlgebraExpr(
        area.rast, bub.rast, '[rast2.val]', '8BUI', 'INTERSECTION', '[rast2.val]', '[rast1.val]') As interrast,
        ST_MapAlgebraExpr(
            area.rast, bub.rast, '[rast2.val]', '8BUI', 'UNION', '[rast2.val]', '[rast1.val]') As unionrast
FROM
  (SELECT rast FROM fun_shapes WHERE
 fun_name = 'area') As area
CROSS JOIN  (SELECT rast
FROM fun_shapes WHERE
 fun_name = 'rand bubbles') As bub
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr2_01.png"/><div class="caption"><p>intersection</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr2_02.png"/><div class="caption"><p>union</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm34438"><h2>Exemple : Superposition de rasters sur un canevas sous forme de bandes distinctes</h2><pre class="programlisting">-- we use ST_AsPNG to render the image so all single band ones look grey --
WITH mygeoms
    AS ( SELECT 2 As bnum, ST_Buffer(ST_Point(1,5),10) As geom
            UNION ALL
            SELECT 3 AS bnum,
                ST_Buffer(ST_GeomFromText('LINESTRING(50 50,150 150,150 50)'), 10,'join=bevel') As geom
            UNION ALL
            SELECT 1 As bnum,
                ST_Buffer(ST_GeomFromText('LINESTRING(60 50,150 150,150 50)'), 5,'join=bevel') As geom
            ),
   -- define our canvas to be 1 to 1 pixel to geometry
   canvas
    AS (SELECT ST_AddBand(ST_MakeEmptyRaster(200,
        200,
        ST_XMin(e)::integer, ST_YMax(e)::integer, 1, -1, 0, 0) , '8BUI'::text,0) As rast
        FROM (SELECT ST_Extent(geom) As e,
                    Max(ST_SRID(geom)) As srid
                    from mygeoms
                    ) As foo
            ),
   rbands AS (SELECT ARRAY(SELECT ST_MapAlgebraExpr(canvas.rast, ST_AsRaster(m.geom, canvas.rast, '8BUI', 100),
                 '[rast2.val]', '8BUI', 'FIRST', '[rast2.val]', '[rast1.val]') As rast
                FROM mygeoms AS m CROSS JOIN canvas
                ORDER BY m.bnum) As rasts
                )
          SELECT rasts[1] As rast1 , rasts[2] As rast2, rasts[3] As rast3, ST_AddBand(
                    ST_AddBand(rasts[1],rasts[2]), rasts[3]) As final_rast
            FROM rbands;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr2_04.png"/><div class="caption"><p>rast1</p></div></div></div><p>
                                        </p>
                                    </td><td style="border-bottom: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr2_05.png"/><div class="caption"><p>rast2</p></div></div></div><p>
                                        </p>
                                    </td></tr><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr2_06.png"/><div class="caption"><p>rast3</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr2_07.png"/><div class="caption"><p>final_rast</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm34478"><h2>Exemple : Superposition d'une délimitation de 2 mètres de certaines parcelles sur une image aérienne</h2><pre class="programlisting">-- Create new 3 band raster composed of first 2 clipped bands, and overlay of 3rd band with our geometry
-- This query took 3.6 seconds on PostGIS windows 64-bit install
WITH pr AS
-- Note the order of operation: we clip all the rasters to dimensions of our region
(SELECT ST_Clip(rast,ST_Expand(geom,50) ) As rast, g.geom
    FROM aerials.o_2_boston AS r INNER JOIN
-- union our parcels of interest so they form a single geometry we can later intersect with
        (SELECT ST_Union(ST_Transform(geom,26986)) AS geom
          FROM landparcels WHERE pid IN('0303890000', '0303900000')) As g
        ON ST_Intersects(rast::geometry, ST_Expand(g.geom,50))
),
-- we then union the raster shards together
-- ST_Union on raster is kinda of slow but much faster the smaller you can get the rasters
-- therefore we want to clip first and then union
prunion AS
(SELECT ST_AddBand(NULL, ARRAY[ST_Union(rast,1),ST_Union(rast,2),ST_Union(rast,3)] ) As clipped,geom
FROM pr
GROUP BY geom)
-- return our final raster which is the unioned shard with
-- with the overlay of our parcel boundaries
-- add first 2 bands, then mapalgebra of 3rd band + geometry
SELECT ST_AddBand(ST_Band(clipped,ARRAY[1,2])
    , ST_MapAlgebraExpr(ST_Band(clipped,3), ST_AsRaster(ST_Buffer(ST_Boundary(geom),2),clipped, '8BUI',250),
     '[rast2.val]', '8BUI', 'FIRST', '[rast2.val]', '[rast1.val]') ) As rast
FROM prunion;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr2_08.png"/><div class="caption"><p>Les lignes bleues représentent les limites des parcelles sélectionnées</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm34493"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebraExpr" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>, <a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>, <a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>, <a class="xref" href="#RT_ST_AsRaster" title="ST_AsRaster">ST_AsRaster</a>, <a class="xref" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a> </p></div></div><div class="refentry" id="RT_ST_MapAlgebraFct"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MapAlgebraFct — Version à 1 bande - Crée un nouveau raster à une bande formé par l'application d'une fonction PostgreSQL valide sur la bande d'entrée du raster et sur le type de pixel fourni. La bande 1 est utilisée si aucune bande n'est spécifiée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, regprocedure <var class="pdparam">onerasteruserfunc</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, regprocedure <var class="pdparam">onerasteruserfunc</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, text <var class="pdparam">pixeltype</var>, regprocedure <var class="pdparam">onerasteruserfunc</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, text <var class="pdparam">pixeltype</var>, regprocedure <var class="pdparam">onerasteruserfunc</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, integer <var class="pdparam">band</var>, regprocedure <var class="pdparam">onerasteruserfunc</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, integer <var class="pdparam">band</var>, regprocedure <var class="pdparam">onerasteruserfunc</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, integer <var class="pdparam">band</var>, text <var class="pdparam">pixeltype</var>, regprocedure <var class="pdparam">onerasteruserfunc</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, integer <var class="pdparam">band</var>, text <var class="pdparam">pixeltype</var>, regprocedure <var class="pdparam">onerasteruserfunc</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p></div></div><div class="refsection" id="idm34620"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> est obsolète depuis 2.1.0. Utilisez plutôt <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><p>Crée un nouveau raster à une bande formé en appliquant une fonction PostgreSQL valide spécifiée par <code class="varname">onerasteruserfunc</code> sur le raster d'entrée (<code class="varname">rast</code>). Si aucune bande <code class="varname">band</code> n'est spécifiée, la bande 1 est utilisée. Le nouveau raster aura la même géoréférence, la même largeur et la même hauteur que le raster original mais n'aura qu'une seule bande.</p><p>Si <code class="varname">pixeltype</code> est fourni, le nouveau raster aura une bande de ce type de pixel. Si pixeltype est NULL, la nouvelle bande raster aura le même type de pixel que la bande d'entrée de <code class="varname">rast</code>.</p><p>Le paramètre <code class="varname">onerasteruserfunc</code> doit être le nom et la signature d'une fonction SQL ou PL/pgSQL, transformée en regprocedure. Un exemple de fonction PL/pgSQL très simple et assez inutile est le suivant : </p><pre class="programlisting">CREATE OR REPLACE FUNCTION simple_function(pixel FLOAT, pos INTEGER[], VARIADIC args TEXT[])
    RETURNS FLOAT
    AS $$ BEGIN
        RETURN 0.0;
    END; $$
    LANGUAGE 'plpgsql' IMMUTABLE;</pre><p>La <code class="varname">fonction utilisateur</code> peut accepter deux ou trois arguments : une valeur flottante, un tableau d'entiers facultatif et un tableau de texte variable. Le premier argument est la valeur d'une cellule matricielle individuelle (quel que soit le type de données matricielles). Le deuxième argument est la position de la cellule de traitement actuelle sous la forme '{x,y}'. Le troisième argument indique que tous les paramètres restants de <a class="xref" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> doivent être transmis à la <code class="varname">fonction utilisateur</code>. </p><p>Passer un argument de type <span class="type">regprodedure</span> à une fonction SQL nécessite de passer la signature complète de la fonction, puis de la convertir en un type <span class="type">regprocedure</span>. Pour passer la fonction PL/pgSQL ci-dessus en tant qu'argument, le code SQL de l'argument est le suivant : </p><pre class="programlisting">'simple_function(float,integer[],text[])'::regprocedure</pre><p>Notez que l'argument contient le nom de la fonction, les types des arguments de la fonction, des guillemets autour du nom et des types d'arguments, ainsi qu'un cast vers un <span class="type">regprocedure</span>. </p><p>Le troisième paramètre de la fonction <code class="varname">userfunction</code> est un tableau <span class="type">variadic text</span> . Tous les arguments textuels supplémentaires de l'appel à <a class="xref" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> sont transmis à <code class="varname">userfunction</code>, et sont contenus dans l'argument <code class="varname">args</code>. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour plus d'informations sur le mot-clé VARIADIC, veuillez vous référer à la documentation PostgreSQL et à la section "SQL Functions with Variable Numbers of Arguments" de <a class="link" href="http://www.postgresql.org/docs/current/static/xfunc-sql.html" target="_top">Query Language (SQL) Functions</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le paramètre <span class="type">text[]</span> de la fonction <code class="varname">userfunction</code> est obligatoire, que vous choisissiez ou non de transmettre des arguments à la fonction de rappel.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm34660"><h2>Exemples</h2><p>Crée une nouveau raster à 1 bande qui est une fonction modulo 2 de la bande du raster original.</p><pre class="programlisting">ALTER TABLE dummy_rast ADD COLUMN map_rast raster;
CREATE FUNCTION mod_fct(pixel float, pos integer[], variadic args text[])
RETURNS float
AS $$
BEGIN
    RETURN pixel::integer % 2;
END;
$$
LANGUAGE 'plpgsql' IMMUTABLE;

UPDATE dummy_rast SET map_rast = ST_MapAlgebraFct(rast,NULL,'mod_fct(float,integer[],text[])'::regprocedure) WHERE rid = 2;

SELECT ST_Value(rast,1,i,j) As origval, ST_Value(map_rast, 1, i, j) As mapval
FROM dummy_rast CROSS JOIN generate_series(1, 3) AS i CROSS JOIN generate_series(1,3) AS j
WHERE rid = 2;

 origval | mapval
---------+--------
     253 |      1
     254 |      0
     253 |      1
     253 |      1
     254 |      0
     254 |      0
     250 |      0
     254 |      0
     254 |      0
                    </pre><p>Crée un nouveau raster à 1 bande de type de pixel 2BUI à partir d'un raster reclassifié avec la valeur nodata fixée via un paramètre passé à la fonction utilisateur (0).</p><pre class="programlisting">
ALTER TABLE dummy_rast ADD COLUMN map_rast2 raster;
CREATE FUNCTION classify_fct(pixel float, pos integer[], variadic args text[])
RETURNS float
AS
$$
DECLARE
    nodata float := 0;
BEGIN
    IF NOT args[1] IS NULL THEN
        nodata := args[1];
    END IF;
    IF pixel &lt; 251 THEN
        RETURN 1;
    ELSIF pixel = 252 THEN
        RETURN 2;
    ELSIF pixel 
&gt; 252 THEN
        RETURN 3;
    ELSE
        RETURN nodata;
    END IF;
END;
$$
LANGUAGE 'plpgsql';
UPDATE dummy_rast SET map_rast2 = ST_MapAlgebraFct(rast,'2BUI','classify_fct(float,integer[],text[])'::regprocedure, '0') WHERE rid = 2;

SELECT DISTINCT ST_Value(rast,1,i,j) As origval, ST_Value(map_rast2, 1, i, j) As mapval
FROM dummy_rast CROSS JOIN generate_series(1, 5) AS i CROSS JOIN generate_series(1,5) AS j
WHERE rid = 2;

 origval | mapval
---------+--------
     249 |      1
     250 |      1
     251 |
     252 |      2
     253 |      3
     254 |      3

SELECT ST_BandPixelType(map_rast2) As b1pixtyp
FROM dummy_rast WHERE rid = 2;

 b1pixtyp
----------
 2BUI

</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr01.png"/><div class="caption"><p>original (colonne rast-view)</p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr02.png"/><div class="caption"><p>rast_view_ma</p></div></div></div></td></tr></tbody></table></div><p>Crée un nouveau raster à 3 bandes de même type de pixel que le raster original à 3 bandes, la première bande étant modifiée par l'algèbre cartographique et les 2 bandes restantes n'étant pas modifiées.</p><pre class="programlisting">CREATE FUNCTION rast_plus_tan(pixel float, pos integer[], variadic args text[])
RETURNS float
AS
$$
BEGIN
    RETURN tan(pixel) * pixel;
END;
$$
LANGUAGE 'plpgsql';

SELECT ST_AddBand(
    ST_AddBand(
        ST_AddBand(
            ST_MakeEmptyRaster(rast_view),
            ST_MapAlgebraFct(rast_view,1,NULL,'rast_plus_tan(float,integer[],text[])'::regprocedure)
        ),
        ST_Band(rast_view,2)
    ),
    ST_Band(rast_view, 3) As rast_view_ma
)
FROM wind
WHERE rid=167;
                    </pre></div><div class="refsection" id="idm34688"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebraExpr" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a> </p></div></div><div class="refentry" id="RT_ST_MapAlgebraFct2"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MapAlgebraFct — Version à 2 bandes - Crée un nouveau raster à une bande formé par l'application d'une fonction PostgreSQL valide sur les 2 bandes d'entrée du raster et sur le type de pixel fourni. La bande 1 est utilisée si aucune bande n'est spécifiée. Le type d'étendue INTERSECTION est utilisé si non spécifié.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast1</var>, raster <var class="pdparam">rast2</var>, regprocedure <var class="pdparam">tworastuserfunc</var>, text <var class="pdparam">pixeltype=same_as_rast1</var>, text <var class="pdparam">extenttype=INTERSECTION</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast1</var>, integer <var class="pdparam">band1</var>, raster <var class="pdparam">rast2</var>, integer <var class="pdparam">band2</var>, regprocedure <var class="pdparam">tworastuserfunc</var>, text <var class="pdparam">pixeltype=same_as_rast1</var>, text <var class="pdparam">extenttype=INTERSECTION</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm34749"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#RT_ST_MapAlgebraFct2" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> est obsolète depuis 2.1.0. Utilisez plutôt <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><p>Crée un nouveau raster à une bande formé par l'application d'une fonction PostgreSQL valide spécifiée par <code class="varname">tworastuserfunc</code> sur les rasters d'entrée <code class="varname">rast1</code>, <code class="varname">rast2</code>. Si aucune bande <code class="varname">band1</code> ou <code class="varname">band2</code> n'est spécifiée, la bande 1 est utilisée. Le nouveau raster aura la même géoréférence, la même largeur et la même hauteur que les rasters originaux, mais il n'aura qu'une seule bande. </p><p>Si <code class="varname">pixeltype</code> est fourni, le nouveau raster aura une bande de ce type de pixel. Si pixeltype est NULL ou omis, la nouvelle bande raster aura le même type de pixel que la bande d'entrée de <code class="varname">rast1</code>. </p><p>Le paramètre <code class="varname">tworastuserfunc</code> doit être le nom et la signature d'une fonction SQL ou PL/pgSQL, transformée en une regprocedure. Un exemple de fonction PL/pgSQL est le suivant : </p><pre class="programlisting">CREATE OR REPLACE FUNCTION simple_function_for_two_rasters(pixel1 FLOAT, pixel2 FLOAT, pos INTEGER[], VARIADIC args TEXT[])
    RETURNS FLOAT
    AS $$ BEGIN
        RETURN 0.0;
    END; $$
    LANGUAGE 'plpgsql' IMMUTABLE;</pre><p>La <code class="varname">tworastuserfunc</code> peut accepter trois ou quatre arguments : une valeur de double précision, une valeur de double précision, un tableau d'entiers facultatif et un tableau de texte variable. Le premier argument est la valeur d'une cellule matricielle individuelle dans <code class="varname">rast1</code> (quel que soit le type de données matricielles). Le deuxième argument est la valeur d'une cellule de trame individuelle dans <code class="varname">rast2</code>. Le troisième argument est la position de la cellule de traitement actuelle sous la forme '{x,y}'. Le quatrième argument indique que tous les paramètres restants de <a class="xref" href="#RT_ST_MapAlgebraFct2" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> doivent être transmis au <code class="varname">tworastuserfunc</code>. </p><p>Passer un argument de type <span class="type">regprodedure</span> à une fonction SQL nécessite de passer la signature complète de la fonction, puis de la convertir en un type <span class="type">regprocedure</span>. Pour passer la fonction PL/pgSQL ci-dessus en tant qu'argument, le code SQL de l'argument est le suivant : </p><pre class="programlisting">'simple_function(double precision, double precision, integer[], text[])'::regprocedure</pre><p>Notez que l'argument contient le nom de la fonction, les types des arguments de la fonction, des guillemets autour du nom et des types d'arguments, ainsi qu'un cast vers un <span class="type">regprocedure</span>. </p><p>Le quatrième paramètre de la fonction <code class="varname">tworastuserfunc</code> est un tableau <span class="type">variadic text</span> . Tous les arguments textuels supplémentaires de l'appel à <a class="xref" href="#RT_ST_MapAlgebraFct2" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> sont transmis à <code class="varname">tworastuserfunc</code>, et sont contenus dans l'argument <code class="varname">userargs</code>. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour plus d'informations sur le mot-clé VARIADIC, veuillez vous référer à la documentation PostgreSQL et à la section "SQL Functions with Variable Numbers of Arguments" de <a class="link" href="http://www.postgresql.org/docs/current/static/xfunc-sql.html" target="_top">Query Language (SQL) Functions</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le paramètre <span class="type">text[]</span> de la fonction <code class="varname">tworastuserfunc</code> est obligatoire, que vous choisissiez ou non de transmettre des arguments à la fonction de rappel.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm34793"><h2>Exemple : Superposition de rasters sur un canevas sous forme de bandes distinctes</h2><pre class="programlisting">

-- define our user defined function --
CREATE OR REPLACE FUNCTION raster_mapalgebra_union(
    rast1 double precision,
    rast2 double precision,
    pos integer[],
    VARIADIC userargs text[]
)
    RETURNS double precision
    AS $$
    DECLARE
    BEGIN
        CASE
            WHEN rast1 IS NOT NULL AND rast2 IS NOT NULL THEN
                RETURN ((rast1 + rast2)/2.);
            WHEN rast1 IS NULL AND rast2 IS NULL THEN
                RETURN NULL;
            WHEN rast1 IS NULL THEN
                RETURN rast2;
            ELSE
                RETURN rast1;
        END CASE;

        RETURN NULL;
    END;
    $$ LANGUAGE 'plpgsql' IMMUTABLE COST 1000;

-- prep our test table of rasters
DROP TABLE IF EXISTS map_shapes;
CREATE TABLE map_shapes(rid serial PRIMARY KEY, rast raster, bnum integer, descrip text);
INSERT INTO map_shapes(rast,bnum, descrip)
WITH mygeoms
    AS ( SELECT 2 As bnum, ST_Buffer(ST_Point(90,90),30) As geom, 'circle' As descrip
            UNION ALL
            SELECT 3 AS bnum,
                ST_Buffer(ST_GeomFromText('LINESTRING(50 50,150 150,150 50)'), 15) As geom, 'big road' As descrip
            UNION ALL
            SELECT 1 As bnum,
                ST_Translate(ST_Buffer(ST_GeomFromText('LINESTRING(60 50,150 150,150 50)'), 8,'join=bevel'), 10,-6) As geom, 'small road' As descrip
            ),
   -- define our canvas to be 1 to 1 pixel to geometry
   canvas
    AS ( SELECT ST_AddBand(ST_MakeEmptyRaster(250,
        250,
        ST_XMin(e)::integer, ST_YMax(e)::integer, 1, -1, 0, 0 ) , '8BUI'::text,0) As rast
        FROM (SELECT ST_Extent(geom) As e,
                    Max(ST_SRID(geom)) As srid
                    from mygeoms
                    ) As foo
            )
-- return our rasters aligned with our canvas
SELECT ST_AsRaster(m.geom, canvas.rast, '8BUI', 240) As rast, bnum, descrip
                FROM mygeoms AS m CROSS JOIN canvas
UNION ALL
SELECT canvas.rast, 4, 'canvas'
FROM canvas;

-- Map algebra on single band rasters and then collect with ST_AddBand
INSERT INTO map_shapes(rast,bnum,descrip)
SELECT ST_AddBand(ST_AddBand(rasts[1], rasts[2]),rasts[3]), 4, 'map bands overlay fct union (canvas)'
    FROM (SELECT ARRAY(SELECT ST_MapAlgebraFct(m1.rast, m2.rast,
            'raster_mapalgebra_union(double precision, double precision, integer[], text[])'::regprocedure, '8BUI', 'FIRST')
                FROM map_shapes As m1 CROSS JOIN map_shapes As m2
    WHERE m1.descrip = 'canvas' AND m2.descrip &lt;
&gt; 'canvas' ORDER BY m2.bnum) As rasts) As foo;

</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebrafct2_01.png"/><div class="caption"><p>superposition des bandes de la carte (canevas) (R : small road, G : circle, B : big road)</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm34808"><h2>Fonction définie par l'utilisateur avec arguments supplémentaires</h2><pre class="programlisting">CREATE OR REPLACE FUNCTION raster_mapalgebra_userargs(
    rast1 double precision,
    rast2 double precision,
    pos integer[],
    VARIADIC userargs text[]
)
    RETURNS double precision
    AS $$
    DECLARE
    BEGIN
        CASE
            WHEN rast1 IS NOT NULL AND rast2 IS NOT NULL THEN
                RETURN least(userargs[1]::integer,(rast1 + rast2)/2.);
            WHEN rast1 IS NULL AND rast2 IS NULL THEN
                RETURN userargs[2]::integer;
            WHEN rast1 IS NULL THEN
                RETURN greatest(rast2,random()*userargs[3]::integer)::integer;
            ELSE
                RETURN greatest(rast1, random()*userargs[4]::integer)::integer;
        END CASE;

        RETURN NULL;
    END;
    $$ LANGUAGE 'plpgsql' VOLATILE COST 1000;

SELECT ST_MapAlgebraFct(m1.rast, 1, m1.rast, 3,
            'raster_mapalgebra_userargs(double precision, double precision, integer[], text[])'::regprocedure,
                '8BUI', 'INTERSECT', '100','200','200','0')
                FROM map_shapes As m1
    WHERE m1.descrip = 'map bands overlay fct union (canvas)';
                    </pre><p>
                        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebrafct2_02.png"/><div class="caption"><p>Fonction définie par l'utilisateur avec arguments supplémentaires et plusieurs bandes issus du même raster</p></div></div></div><p>
                    </p></div><div class="refsection" id="idm34818"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a> </p></div></div><div class="refentry" id="RT_ST_MapAlgebraFctNgb"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MapAlgebraFctNgb — Version à 1 bande : Algèbre cartographique Plus proche voisin en utilisant une fonction PostgreSQL définie par l'utilisateur. Retourne un raster dont les valeurs sont le résultat d'une fonction utilisateur PLPGSQL prenant un voisinage des valeurs de la bande raster d'entrée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFctNgb</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, text  <var class="pdparam">pixeltype</var>, integer  <var class="pdparam">ngbwidth</var>, integer  <var class="pdparam">ngbheight</var>, regprocedure  <var class="pdparam">onerastngbuserfunc</var>, text  <var class="pdparam">nodatamode</var>, text[]  <var class="pdparam">VARIADIC args</var><code>)</code>;</p></div></div><div class="refsection" id="idm34858"><h2>Description</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> est obsolète depuis 2.1.0. Utilisez plutôt <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><p>(version à un raster) Retourne un raster dont les valeurs sont le résultat d'une fonction utilisateur PLPGSQL prenant un voisinage de valeurs de la bande du raster d'entrée. La fonction utilisateur prend le voisinage des valeurs des pixels sous la forme d'un tableau de nombres. Pour chaque pixel, elle renvoie le résultat de la fonction utilisateur, en remplaçant la valeur du pixel actuellement traité par le résultat de la fonction utilisateur. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">rast</code></span></dt><dd><p>Raster sur lequel la fonction utilisateur est évaluée.</p></dd><dt><span class="term"><code class="varname">band</code></span></dt><dd><p>Numéro de bande du raster à évaluer. La valeur par défaut est 1.</p></dd><dt><span class="term"><code class="varname">pixeltype</code></span></dt><dd><p>Le type de pixel résultant du raster de sortie. Doit être l'un de ceux listés dans <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, ou être omis ou défini à NULL. S'il n'est pas spécifié ou s'il est défini à NULL, le type de pixel du raster <code class="varname">rast</code> sera utilisé par défaut. Les résultats sont tronqués s'ils sont plus grands que ce qui est autorisé pour le type de pixel.</p></dd><dt><span class="term"><code class="varname">ngbwidth</code></span></dt><dd><p>La largeur du voisinage, en nombre de cellules.</p></dd><dt><span class="term"><code class="varname">ngbheight</code></span></dt><dd><p>La hauteur du voisinage, en nombre de cellules.</p></dd><dt><span class="term"><code class="varname">onerastngbuserfunc</code></span></dt><dd><p>Fonction utilisateur PLPGSQL/psql à appliquer aux pixels du voisinage de la bande du raster. Le premier élément est un tableau bidimensionnel de nombres, représentant le voisinage rectangulaire du pixel</p></dd><dt><span class="term"><code class="varname">nodatamode</code></span></dt><dd><p>Définit la valeur à transmettre à la fonction pour un pixel de voisinage qui est nodata ou NULL</p><p>'ignore' : toutes les valeurs NODATA rencontrées dans le voisinage sont ignorées par le calcul -- ce drapeau doit être envoyé à la fonction de rappel de l'utilisateur, et c'est la fonction de l'utilisateur qui décide comment l'ignorer.</p><p>'NULL' : toute valeur NODATA rencontrée dans le voisinage aura pour conséquence que le pixel résultant sera NULL -- la fonction de rappel de l'utilisateur est ignorée dans ce cas.</p><p>'value' : toutes les valeurs NODATA rencontrées dans le voisinage sont remplacées par le pixel de référence (celui qui se trouve au centre du voisinage). Notez que si cette valeur est NODATA, le comportement est le même que 'NULL' (pour le voisinage concerné)</p></dd><dt><span class="term"><code class="varname">args</code></span></dt><dd><p>Arguments à transmettre à la fonction utilisateur.</p></dd></dl></div><p class="availability">Disponibilité : 2.0.0 </p></div><div class="refsection" id="idm34912"><h2>Exemples</h2><p>Les exemples utilisent le raster katrina chargé comme une seule tuile, tel que décrit dans <a class="link" href="http://trac.osgeo.org/gdal/wiki/frmts_wtkraster.html" target="_top">http://trac.osgeo.org/gdal/wiki/frmts_wtkraster.html</a> et ensuite traitée dans les exemples <a class="xref" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a> </p><pre class="programlisting">--
-- A simple 'callback' user function that averages up all the values in a neighborhood.
--
CREATE OR REPLACE FUNCTION rast_avg(matrix float[][], nodatamode text, variadic args text[])
    RETURNS float AS
    $$
    DECLARE
        _matrix float[][];
        x1 integer;
        x2 integer;
        y1 integer;
        y2 integer;
        sum float;
    BEGIN
        _matrix := matrix;
        sum := 0;
        FOR x in array_lower(matrix, 1)..array_upper(matrix, 1) LOOP
            FOR y in array_lower(matrix, 2)..array_upper(matrix, 2) LOOP
                sum := sum + _matrix[x][y];
            END LOOP;
        END LOOP;
        RETURN (sum*1.0/(array_upper(matrix,1)*array_upper(matrix,2) ))::integer ;
    END;
    $$
LANGUAGE 'plpgsql' IMMUTABLE COST 1000;

-- now we apply to our raster averaging pixels within 2 pixels of each other in X and Y direction --
SELECT ST_MapAlgebraFctNgb(rast, 1,  '8BUI', 4,4,
        'rast_avg(float[][], text, text[])'::regprocedure, 'NULL', NULL) As nn_with_border
    FROM katrinas_rescaled
    limit 1;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebrafctngb01.png"/><div class="caption"><p>Première bande du raster</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebrafctngb02.png"/><div class="caption"><p>nouveau raster après calcul de la moyenne des pixels situés à moins de 4x4 pixels les uns des autres</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm34938"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a>, <a class="xref" href="#RT_ST_MapAlgebraExpr" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>, <a class="xref" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a> </p></div></div><div class="refentry" id="RT_ST_Reclass"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Reclass — Crée un nouveau raster composé de types de bandes reclassifiés par rapport à l'original. La bande n est la bande à modifier. Si nband n'est pas spécifié, la bande 1 est utilisée. Toutes les autres bandes sont retournées inchangées. Cas d'utilisation : convertir une bande 16BUI en 8BUI et ainsi de suite pour un rendu plus simple en tant que formats visualisables.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Reclass</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, text  <var class="pdparam">reclassexpr</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Reclass</strong>(</code>raster  <var class="pdparam">rast</var>, reclassarg[]  <var class="pdparam">VARIADIC reclassargset</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Reclass</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">reclassexpr</var>, text  <var class="pdparam">pixeltype</var><code>)</code>;</p></div></div><div class="refsection" id="idm34989"><h2>Description</h2><p>Crée un nouveau raster formé par l'application d'une opération algébrique PostgreSQL valide définie par <code class="varname">reclassexpr</code> sur le raster d'entrée (<code class="varname">rast</code>). Si aucune bande <code class="varname">band</code> n'est spécifiée, la bande 1 est utilisée. Le nouveau raster aura la même géoréférence, la même largeur et la même hauteur que le raster original. Les bandes non désignées seront retournées inchangées. Voir <a class="xref" href="#reclassarg" title="reclassarg">reclassarg</a> pour la description des expressions de reclassification valides.</p><p>Les bandes du nouveau raster auront le type de pixel <code class="varname">pixeltype</code>. Si <code class="varname">reclassargset</code> est spécifié, chaque reclassarg définit le comportement de chaque bande générée.</p><p class="availability">Disponibilité : 2.0.0 </p></div><div class="refsection" id="idm35000"><h2>Exemples de base</h2><p>Crée un nouveau raster à partir de l'original où la bande 2 est convertie de 8BUI à 4BUI et où toutes les valeurs entre 101 et 254 sont fixées à nodata.</p><pre class="programlisting">ALTER TABLE dummy_rast ADD COLUMN reclass_rast raster;
UPDATE dummy_rast SET reclass_rast = ST_Reclass(rast,2,'0-87:1-10, 88-100:11-15, 101-254:0-0', '4BUI',0) WHERE rid = 2;

SELECT i as col, j as row, ST_Value(rast,2,i,j) As origval,
    ST_Value(reclass_rast, 2, i, j) As reclassval,
    ST_Value(reclass_rast, 2, i, j, false) As reclassval_include_nodata
FROM dummy_rast CROSS JOIN generate_series(1, 3) AS i CROSS JOIN generate_series(1,3) AS j
WHERE rid = 2;

 col | row | origval | reclassval | reclassval_include_nodata
-----+-----+---------+------------+---------------------------
   1 |   1 |      78 |          9 |                         9
   2 |   1 |      98 |         14 |                        14
   3 |   1 |     122 |            |                         0
   1 |   2 |      96 |         14 |                        14
   2 |   2 |     118 |            |                         0
   3 |   2 |     180 |            |                         0
   1 |   3 |      99 |         15 |                        15
   2 |   3 |     112 |            |                         0
   3 |   3 |     169 |            |                         0
                    </pre></div><div class="refsection" id="idm35004"><h2>Exemple avancé : utiliser plusieurs reclassargs</h2><p>Crée un nouveau raster à partir de l'original où les bandes 1, 2, 3 sont respectivement converties en 1BB, 4BUI, 4BUI et reclassifiées. Cette opération utilise l'argument variadique <code class="varname">reclassarg</code> qui peut prendre en entrée un nombre variable de reclassargs (théoriquement autant de bandes que vous avez) </p><pre class="programlisting">UPDATE dummy_rast SET reclass_rast =
    ST_Reclass(rast,
        ROW(2,'0-87]:1-10, (87-100]:11-15, (101-254]:0-0', '4BUI',NULL)::reclassarg,
        ROW(1,'0-253]:1, 254:0', '1BB', NULL)::reclassarg,
        ROW(3,'0-70]:1, (70-86:2, [86-150):3, [150-255:4', '4BUI', NULL)::reclassarg
        ) WHERE rid = 2;

SELECT i as col, j as row,ST_Value(rast,1,i,j) As ov1,  ST_Value(reclass_rast, 1, i, j) As rv1,
    ST_Value(rast,2,i,j) As ov2, ST_Value(reclass_rast, 2, i, j) As rv2,
    ST_Value(rast,3,i,j) As ov3, ST_Value(reclass_rast, 3, i, j) As rv3
FROM dummy_rast CROSS JOIN generate_series(1, 3) AS i CROSS JOIN generate_series(1,3) AS j
WHERE rid = 2;

col | row | ov1 | rv1 | ov2 | rv2 | ov3 | rv3
----+-----+-----+-----+-----+-----+-----+-----
  1 |   1 | 253 |   1 |  78 |   9 |  70 |   1
  2 |   1 | 254 |   0 |  98 |  14 |  86 |   3
  3 |   1 | 253 |   1 | 122 |   0 | 100 |   3
  1 |   2 | 253 |   1 |  96 |  14 |  80 |   2
  2 |   2 | 254 |   0 | 118 |   0 | 108 |   3
  3 |   2 | 254 |   0 | 180 |   0 | 162 |   4
  1 |   3 | 250 |   1 |  99 |  15 |  90 |   3
  2 |   3 | 254 |   0 | 112 |   0 | 108 |   3
  3 |   3 | 254 |   0 | 169 |   0 | 175 |   4
                    </pre></div><div class="refsection" id="idm35009"><h2>Exemple avancé : Mapping d'un raster 32BF à bande unique en plusieurs bandes visualisables</h2><p>Crée un nouveau raster à 3 bandes (8BUI, 8BUI, 8BUI visualisable) à partir d'un raster qui n'a qu'une seule bande de 32bf </p><pre class="programlisting">ALTER TABLE wind ADD COLUMN rast_view raster;
UPDATE wind
    set rast_view = ST_AddBand( NULL,
        ARRAY[
    ST_Reclass(rast, 1,'0.1-10]:1-10,9-10]:11,(11-33:0'::text, '8BUI'::text,0),
    ST_Reclass(rast,1, '11-33):0-255,[0-32:0,(34-1000:0'::text, '8BUI'::text,0),
    ST_Reclass(rast,1,'0-32]:0,(32-100:100-255'::text, '8BUI'::text,0)
    ]
    );
                    </pre></div><div class="refsection" id="idm35013"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>, <a class="xref" href="#RT_ST_Band" title="ST_Band">ST_Band</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a>, <a class="xref" href="#reclassarg" title="reclassarg">reclassarg</a>, <a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a> </p></div></div><div class="refentry" id="RT_ST_Union"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Union — Retourne l'union d'un ensemble de tuiles raster, en un seul raster composé de 1 ou plusieurs bandes.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Union</strong>(</code>setof raster  <var class="pdparam">rast</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Union</strong>(</code>setof raster  <var class="pdparam">rast</var>, unionarg[]  <var class="pdparam">unionargset</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Union</strong>(</code>setof raster <var class="pdparam">rast</var>, integer <var class="pdparam">nband</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Union</strong>(</code>setof raster <var class="pdparam">rast</var>, text <var class="pdparam">uniontype</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Union</strong>(</code>setof raster <var class="pdparam">rast</var>, integer <var class="pdparam">nband</var>, text <var class="pdparam">uniontype</var><code>)</code>;</p></div></div><div class="refsection" id="idm35073"><h2>Description</h2><p>Retourne l'union d'un ensemble de tuiles raster en un seul raster, composé d'au moins une bande. L'étendue du raster résultant est l'étendue de l'ensemble. Dans le cas d'une intersection, la valeur résultante est définie par <code class="varname">uniontype</code> parmi : LAST (par défaut), FIRST, MIN, MAX, COUNT, SUM, MEAN, RANGE.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour pouvoir calculer l'union de raster, tous les rasters doivent avoir le même alignement. Voir <a class="xref" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a> et <a class="xref" href="#RT_ST_NotSameAlignmentReason" title="ST_NotSameAlignmentReason">ST_NotSameAlignmentReason</a> pour plus de détails. Une façon de résoudre les problèmes d'alignement est d'utiliser <a class="xref" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a> et d'utiliser le même raster de référence pour l'alignement.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0 </p><p class="enhanced">Amélioration : 2.1.0 Vitesse améliorée (entièrement en C).</p><p class="availability">Disponibilité : 2.1.0 Ajout de la variante ST_Union(rast, unionarg).</p><p class="enhanced">Amélioration : 2.1.0 ST_Union(rast) (variante 1) permet l'union sur toutes les bandes de tous les rasters d'entrée. Les versions précédentes de PostGIS ne prenaient en compte que la première bande.</p><p class="enhanced">Amélioration : 2.1.0 ST_Union(rast, uniontype) (variante 4) permet l'union de toutes les bandes de tous les rasters d'entrée.</p></div><div class="refsection" id="idm35087"><h2>Exemples : Reconstituer une tuile raster à partir d'une tuile raster fragmentée d'une seule bande</h2><pre class="programlisting">-- this creates a single band from first band of raster tiles
-- that form the original file system tile
SELECT filename, ST_Union(rast,1) As file_rast
FROM sometable WHERE filename IN('dem01', 'dem02') GROUP BY filename;
                    </pre></div><div class="refsection" id="idm35090"><h2>Exemples : Retourne un raster multi-bandes qui est l'union de tuiles intersectant une géométrie</h2><pre class="programlisting">-- this creates a multi band raster collecting all the tiles that intersect a line
-- Note: In 2.0, this would have just returned a single band raster
-- , new union works on all bands by default
-- this is equivalent to unionarg: ARRAY[ROW(1, 'LAST'), ROW(2, 'LAST'), ROW(3, 'LAST')]::unionarg[]
SELECT ST_Union(rast)
FROM aerials.boston
WHERE ST_Intersects(rast,  ST_GeomFromText('LINESTRING(230486 887771, 230500 88772)',26986) );
                    </pre></div><div class="refsection" id="idm35093"><h2>Exemples : Retourne un raster multi-bandes qui est l'union de tuiles intersectant une géométrie</h2><p>Nous utilisons ici la syntaxe plus longue si nous ne voulons qu'un sous-ensemble de bandes ou si nous voulons changer l'ordre des bandes</p><pre class="programlisting">-- this creates a multi band raster collecting all the tiles that intersect a line
SELECT ST_Union(rast,ARRAY[ROW(2, 'LAST'), ROW(1, 'LAST'), ROW(3, 'LAST')]::unionarg[])
FROM aerials.boston
WHERE ST_Intersects(rast,  ST_GeomFromText('LINESTRING(230486 887771, 230500 88772)',26986) );
                    </pre></div><div class="refsection" id="idm35097"><h2>Voir aussi</h2><p><a class="xref" href="#unionarg" title="unionarg">unionarg</a>, <a class="xref" href="#RT_ST_Envelope" title="ST_Envelope">ST_Envelope</a>, <a class="xref" href="#RT_ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>, <a class="xref" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a> </p></div></div></section><section class="section" id="Raster_Processing_MapAlgebra_Callbacks"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.13. Fonctions de rappel intégrées d'algèbre cartographique</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_Distinct4ma">ST_Distinct4ma</a></span><span class="refpurpose"> — Fonction de traitement des données raster qui calcule le nombre de valeurs de pixels uniques dans un voisinage.</span></li><li><span class="refentrytitle"><a href="#RT_ST_InvDistWeight4ma">ST_InvDistWeight4ma</a></span><span class="refpurpose"> — Fonction de traitement des données raster qui interpole la valeur d'un pixel à partir de son voisinage.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Max4ma">ST_Max4ma</a></span><span class="refpurpose"> — Fonction de traitement des données raster qui calcule la valeur maximale d'un pixel dans un voisinage.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Mean4ma">ST_Mean4ma</a></span><span class="refpurpose"> — Fonction de traitement des données raster qui calcule la valeur moyenne d'un pixel dans un voisinage.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Min4ma">ST_Min4ma</a></span><span class="refpurpose"> — Fonction de traitement des données raster qui calcule la valeur minimale d'un pixel dans un voisinage. </span></li><li><span class="refentrytitle"><a href="#RT_ST_MinDist4ma">ST_MinDist4ma</a></span><span class="refpurpose"> — Fonction de traitement des données raster qui renvoie la distance minimale (en nombre de pixels) entre le pixel d'intérêt et un pixel voisin ayant une valeur.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Range4ma">ST_Range4ma</a></span><span class="refpurpose"> — Fonction de traitement des données raster qui calcule la plage de valeurs des pixels dans un voisinage.</span></li><li><span class="refentrytitle"><a href="#RT_ST_StdDev4ma">ST_StdDev4ma</a></span><span class="refpurpose"> — Fonction de traitement des données raster qui calcule l'écart type des valeurs des pixels dans un voisinage.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Sum4ma">ST_Sum4ma</a></span><span class="refpurpose"> — Fonction de traitement des données raster qui calcule la somme de toutes les valeurs de pixels dans un voisinage.</span></li></ul></div><div class="refentry" id="RT_ST_Distinct4ma"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Distinct4ma — Fonction de traitement des données raster qui calcule le nombre de valeurs de pixels uniques dans un voisinage.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_Distinct4ma</strong>(</code>float8[][] <var class="pdparam">matrix</var>, text <var class="pdparam">nodatamode</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Distinct4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][]  <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35137"><h2>Description</h2><p>Calcule le nombre de valeurs de pixels uniques dans un voisinage de pixels.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La variante 1 est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La variante 2 est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'utilisation de la variante 1 est non recommandée, <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> étant dépréciée depuis 2.1.0. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p><p class="enhanced">Amélioration : 2.1.0 Ajout de la variante 2</p></div><div class="refsection" id="idm35151"><h2>Exemples</h2><pre class="programlisting">SELECT
    rid,
    st_value(
        st_mapalgebrafctngb(rast, 1, NULL, 1, 1, 'st_distinct4ma(float[][],text,text[])'::regprocedure, 'ignore', NULL), 2, 2
    )
FROM dummy_rast
WHERE rid = 2;
 rid | st_value
-----+----------
   2 |        3
(1 row)
                </pre></div><div class="refsection" id="idm35154"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>, <a class="xref" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>, <a class="xref" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>, <a class="xref" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>, <a class="xref" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div><div class="refentry" id="RT_ST_InvDistWeight4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_InvDistWeight4ma — Fonction de traitement des données raster qui interpole la valeur d'un pixel à partir de son voisinage.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">ST_InvDistWeight4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][] <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35183"><h2>Description</h2><p>Calcule une valeur interpolée pour un pixel en utilisant la méthode de la distance inverse pondérée.</p><p>Deux paramètres facultatifs peuvent être fournis par l'intermédiaire de <code class="varname">userargs</code>. Le premier paramètre est le facteur de puissance (variable k dans l'équation ci-dessous) entre 0 et 1, utilisé dans l'équation de la pondération de la distance inverse. S'il n'est pas spécifié, la valeur par défaut est 1. Le second paramètre est le pourcentage de pondération, appliqué uniquement lorsque la valeur du pixel d'intérêt est incluse dans la valeur interpolée du voisinage. S'il n'est pas spécifié et que le pixel d'intérêt a une valeur, cette valeur est retournée. </p><p>L'équation de base de la distance inverse pondérée est : </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_invdistweight4ma_equation.png"/><div class="caption"><p>k = facteur de puissance, un nombre réel entre 0 et 1 </p></div></div></div><p>
                </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>.</p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm35199"><h2>Exemples</h2><pre class="programlisting">-- NEEDS EXAMPLE
                </pre></div><div class="refsection" id="idm35202"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_MinDist4ma" title="ST_MinDist4ma">ST_MinDist4ma</a> </p></div></div><div class="refentry" id="RT_ST_Max4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Max4ma — Fonction de traitement des données raster qui calcule la valeur maximale d'un pixel dans un voisinage.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_Max4ma</strong>(</code>float8[][] <var class="pdparam">matrix</var>, text <var class="pdparam">nodatamode</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Max4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][]  <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35237"><h2>Description</h2><p>Calcule la valeur maximale d'un pixel dans un voisinage de pixels.</p><p>Pour la variante 2, une valeur de substitution pour les pixels NODATA peut être spécifiée en passant cette valeur à userargs. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La variante 1 est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La variante 2 est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'utilisation de la variante 1 est non recommandée, <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> étant dépréciée depuis 2.1.0. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p><p class="enhanced">Amélioration : 2.1.0 Ajout de la variante 2</p></div><div class="refsection" id="idm35252"><h2>Exemples</h2><pre class="programlisting">SELECT
    rid,
    st_value(
        st_mapalgebrafctngb(rast, 1, NULL, 1, 1, 'st_max4ma(float[][],text,text[])'::regprocedure, 'ignore', NULL), 2, 2
    )
FROM dummy_rast
WHERE rid = 2;
 rid | st_value
-----+----------
   2 |      254
(1 row)
                </pre></div><div class="refsection" id="idm35255"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>, <a class="xref" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>, <a class="xref" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>, <a class="xref" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a>, <a class="xref" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div><div class="refentry" id="RT_ST_Mean4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Mean4ma — Fonction de traitement des données raster qui calcule la valeur moyenne d'un pixel dans un voisinage.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_Mean4ma</strong>(</code>float8[][] <var class="pdparam">matrix</var>, text <var class="pdparam">nodatamode</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Mean4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][]  <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35296"><h2>Description</h2><p>Calcule la valeur moyenne d'un pixel dans un voisinage de pixels.</p><p>Pour la variante 2, une valeur de substitution pour les pixels NODATA peut être spécifiée en passant cette valeur à userargs. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La variante 1 est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La variante 2 est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'utilisation de la variante 1 est non recommandée, <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> étant dépréciée depuis 2.1.0. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p><p class="enhanced">Amélioration : 2.1.0 Ajout de la variante 2</p></div><div class="refsection" id="idm35311"><h2>Exemples : Variante 1</h2><pre class="programlisting">SELECT
    rid,
    st_value(
        st_mapalgebrafctngb(rast, 1, '32BF', 1, 1, 'st_mean4ma(float[][],text,text[])'::regprocedure, 'ignore', NULL), 2, 2
    )
FROM dummy_rast
WHERE rid = 2;
 rid |     st_value
-----+------------------
   2 | 253.222229003906
(1 row)
                </pre></div><div class="refsection" id="idm35314"><h2>Exemples : Variante 2</h2><pre class="programlisting">SELECT
    rid,
    st_value(
              ST_MapAlgebra(rast, 1, 'st_mean4ma(double precision[][][], integer[][], text[])'::regprocedure,'32BF', 'FIRST', NULL, 1, 1)
       ,  2, 2)
  FROM dummy_rast
   WHERE rid = 2;
 rid |     st_value
-----+------------------
   2 | 253.222229003906
(1 row)</pre></div><div class="refsection" id="idm35317"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>, <a class="xref" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>, <a class="xref" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>, <a class="xref" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div><div class="refentry" id="RT_ST_Min4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Min4ma — Fonction de traitement des données raster qui calcule la valeur minimale d'un pixel dans un voisinage. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_Min4ma</strong>(</code>float8[][] <var class="pdparam">matrix</var>, text  <var class="pdparam">nodatamode</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Min4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][]  <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35357"><h2>Description</h2><p>Calcule la valeur minimale d'un pixel dans un voisinage de pixels. </p><p>Pour la variante 2, une valeur de substitution pour les pixels NODATA peut être spécifiée en passant cette valeur à userargs. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La variante 1 est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La variante 2 est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'utilisation de la variante 1 est non recommandée, <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> étant dépréciée depuis 2.1.0. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p><p class="enhanced">Amélioration : 2.1.0 Ajout de la variante 2</p></div><div class="refsection" id="idm35372"><h2>Exemples</h2><pre class="programlisting">SELECT
    rid,
    st_value(
        st_mapalgebrafctngb(rast, 1, NULL, 1, 1, 'st_min4ma(float[][],text,text[])'::regprocedure, 'ignore', NULL), 2, 2
    )
FROM dummy_rast
WHERE rid = 2;
 rid | st_value
-----+----------
   2 |      250
(1 row)
                </pre></div><div class="refsection" id="idm35375"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>, <a class="xref" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>, <a class="xref" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>, <a class="xref" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a>, <a class="xref" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div><div class="refentry" id="RT_ST_MinDist4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinDist4ma — Fonction de traitement des données raster qui renvoie la distance minimale (en nombre de pixels) entre le pixel d'intérêt et un pixel voisin ayant une valeur.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">ST_MinDist4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][] <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35404"><h2>Description</h2><p>Retourne la plus petite distance (en nombre de pixels) entre le pixel d'intérêt et le pixel le plus proche ayant une valeur dans le voisinage.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le but de cette fonction est de fournir un point de données informatif qui aide à déduire l'utilité de la valeur interpolée du pixel d'intérêt à partir de <a class="xref" href="#RT_ST_InvDistWeight4ma" title="ST_InvDistWeight4ma">ST_InvDistWeight4ma</a>. Cette fonction est particulièrement utile lorsque le voisinage est peu peuplé. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>.</p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm35414"><h2>Exemples</h2><pre class="programlisting">-- NEEDS EXAMPLE
                </pre></div><div class="refsection" id="idm35417"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_InvDistWeight4ma" title="ST_InvDistWeight4ma">ST_InvDistWeight4ma</a> </p></div></div><div class="refentry" id="RT_ST_Range4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Range4ma — Fonction de traitement des données raster qui calcule la plage de valeurs des pixels dans un voisinage.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_Range4ma</strong>(</code>float8[][] <var class="pdparam">matrix</var>, text <var class="pdparam">nodatamode</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Range4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][]  <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35452"><h2>Description</h2><p>Calcule la plage de valeurs des pixels dans un voisinage de pixels.</p><p>Pour la variante 2, une valeur de substitution pour les pixels NODATA peut être spécifiée en passant cette valeur à userargs. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La variante 1 est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La variante 2 est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'utilisation de la variante 1 est non recommandée, <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> étant dépréciée depuis 2.1.0. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p><p class="enhanced">Amélioration : 2.1.0 Ajout de la variante 2</p></div><div class="refsection" id="idm35467"><h2>Exemples</h2><pre class="programlisting">SELECT
    rid,
    st_value(
        st_mapalgebrafctngb(rast, 1, NULL, 1, 1, 'st_range4ma(float[][],text,text[])'::regprocedure, 'ignore', NULL), 2, 2
    )
FROM dummy_rast
WHERE rid = 2;
 rid | st_value
-----+----------
   2 |        4
(1 row)
                </pre></div><div class="refsection" id="idm35470"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>, <a class="xref" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>, <a class="xref" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>, <a class="xref" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>, <a class="xref" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div><div class="refentry" id="RT_ST_StdDev4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_StdDev4ma — Fonction de traitement des données raster qui calcule l'écart type des valeurs des pixels dans un voisinage.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_StdDev4ma</strong>(</code>float8[][] <var class="pdparam">matrix</var>, text  <var class="pdparam">nodatamode</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_StdDev4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][]  <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35511"><h2>Description</h2><p>Calcule l'écart type des valeurs des pixels dans un voisinage de pixels.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La variante 1 est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La variante 2 est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'utilisation de la variante 1 est non recommandée, <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> étant dépréciée depuis 2.1.0. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p><p class="enhanced">Amélioration : 2.1.0 Ajout de la variante 2</p></div><div class="refsection" id="idm35525"><h2>Exemples</h2><pre class="programlisting">SELECT
    rid,
    st_value(
        st_mapalgebrafctngb(rast, 1, '32BF', 1, 1, 'st_stddev4ma(float[][],text,text[])'::regprocedure, 'ignore', NULL), 2, 2
    )
FROM dummy_rast
WHERE rid = 2;
 rid |     st_value
-----+------------------
   2 | 1.30170822143555
(1 row)
                </pre></div><div class="refsection" id="idm35528"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>, <a class="xref" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>, <a class="xref" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>, <a class="xref" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>, <a class="xref" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div><div class="refentry" id="RT_ST_Sum4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Sum4ma — Fonction de traitement des données raster qui calcule la somme de toutes les valeurs de pixels dans un voisinage.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_Sum4ma</strong>(</code>float8[][] <var class="pdparam">matrix</var>, text <var class="pdparam">nodatamode</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Sum4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][]  <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35569"><h2>Description</h2><p>Calcule la somme de toutes les valeurs des pixels dans un voisinage de pixels.</p><p>Pour la variante 2, une valeur de substitution pour les pixels NODATA peut être spécifiée en passant cette valeur à userargs. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La variante 1 est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La variante 2 est une fonction de rappel spécialisée à utiliser comme paramètre de rappel pour <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>L'utilisation de la variante 1 est non recommandée, <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> étant dépréciée depuis 2.1.0. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p><p class="enhanced">Amélioration : 2.1.0 Ajout de la variante 2</p></div><div class="refsection" id="idm35584"><h2>Exemples</h2><pre class="programlisting">SELECT
    rid,
    st_value(
        st_mapalgebrafctngb(rast, 1, '32BF', 1, 1, 'st_sum4ma(float[][],text,text[])'::regprocedure, 'ignore', NULL), 2, 2
    )
FROM dummy_rast
WHERE rid = 2;
 rid | st_value
-----+----------
   2 |     2279
(1 row)
                </pre></div><div class="refsection" id="idm35587"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>, <a class="xref" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>, <a class="xref" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>, <a class="xref" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a>, <a class="xref" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div></section><section class="section" id="Raster_Processing_DEM"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.14. Traitement des données raster : MNT (élévation)</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_Aspect">ST_Aspect</a></span><span class="refpurpose"> — Retourne l'exposition (par défaut, en degrés) d'une bande raster d'élévation. Utile pour l'analyse de terrain.</span></li><li><span class="refentrytitle"><a href="#RT_ST_HillShade">ST_HillShade</a></span><span class="refpurpose"> — Retourne l'hypothétique éclairage d'une bande raster d'élévation en utilisant les valeurs d'azimut, d'altitude, de luminosité et d'échelle fournies.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Roughness">ST_Roughness</a></span><span class="refpurpose"> — Retourne un raster avec la rugosité d'un MNT.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Slope">ST_Slope</a></span><span class="refpurpose"> — Retourne la pente (par défaut, en degrés) d'une bande raster d'élévation. Utile pour l'analyse de terrain.</span></li><li><span class="refentrytitle"><a href="#RT_ST_TPI">ST_TPI</a></span><span class="refpurpose"> — Retourne un raster avec l'index de position topographique (TPI) calculé.</span></li><li><span class="refentrytitle"><a href="#RT_ST_TRI">ST_TRI</a></span><span class="refpurpose"> — Retourne un raster avec l'indice de rugosité du terrain (TRI) calculé.</span></li></ul></div><div class="refentry" id="RT_ST_Aspect"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Aspect — Retourne l'exposition (par défaut, en degrés) d'une bande raster d'élévation. Utile pour l'analyse de terrain.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Aspect</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band=1</var>, text  <var class="pdparam">pixeltype=32BF</var>, text  <var class="pdparam">units=DEGREES</var>, boolean  <var class="pdparam">interpolate_nodata=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Aspect</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, raster  <var class="pdparam">customextent</var>, text  <var class="pdparam">pixeltype=32BF</var>, text  <var class="pdparam">units=DEGREES</var>, boolean  <var class="pdparam">interpolate_nodata=FALSE</var><code>)</code>;</p></div></div><div class="refsection" id="idm35645"><h2>Description</h2><p>Retourne l'exposition (par défaut, en degrés) d'une bande raster d'élévation. Utilise l'algèbre cartographique et applique l'équation d'exposition aux pixels voisins.</p><p><code class="varname">units</code> indique l'unité de l'exposition. Les valeurs possibles sont : RADIANS, DEGREES (par défaut). </p><p>Lorsque <code class="varname">units</code> = RADIANS, les valeurs sont comprises entre 0 et 2 * pi radians, mesurés dans le sens des aiguilles d'une montre à partir du nord. </p><p>Lorsque <code class="varname">units</code> = DEGREES, les valeurs sont comprises entre 0 et 360 degrés, mesurés dans le sens des aiguilles d'une montre à partir du nord. </p><p>Si la pente du pixel est nulle, l'exposition du pixel est -1. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour plus d'informations sur la pente, l'exposition et l'ombrage, veuillez consulter <a class="link" href="http://webhelp.esri.com/arcgisdesktop/9.3/index.cfm?TopicName=How%20Hillshade%20works" target="_top">ESRI - How hillshade works</a> et <a class="link" href="http://e2b.erdas.com/fieldguide/wwhelp/wwhimpl/common/html/wwhelp.htm?context=FieldGuide&amp;file=Aspect_Images.html" target="_top">ERDAS Field Guide - Aspect Images</a>. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0 </p><p class="enhanced">Amélioration : 2.1.0 Utilise ST_MapAlgebra() et ajout du paramètre optionnel <code class="varname">interpolate_nodata</code></p><p class="changed">Changement : 2.1.0 Dans les versions précédentes, les valeurs retournées étaient en radians. Désormais, les valeurs retournées sont par défaut en degrés</p></div><div class="refsection" id="idm35663"><h2>Exemples : Variante 1</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_SetValues(
        ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0), 1, '32BF', 0, -9999),
        1, 1, 1, ARRAY[
            [1, 1, 1, 1, 1],
            [1, 2, 2, 2, 1],
            [1, 2, 3, 2, 1],
            [1, 2, 2, 2, 1],
            [1, 1, 1, 1, 1]
        ]::double precision[][]
    ) AS rast
)
SELECT
    ST_DumpValues(ST_Aspect(rast, 1, '32BF'))
FROM foo

                                                                                                    st_dumpvalues

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------
 (1,"{{315,341.565063476562,0,18.4349479675293,45},{288.434936523438,315,0,45,71.5650482177734},{270,270,-1,90,90},{251.565048217773,225,180,135,108.434951782227},{225,198.43495178
2227,180,161.565048217773,135}}")
(1 row)
                    </pre></div><div class="refsection" id="idm35666"><h2>Exemples : Variante 2</h2><p>Exemple complet avec les tuiles d'une couverture. Cette requête ne fonctionne qu'avec PostgreSQL 9.1 ou plus.</p><pre class="programlisting">WITH foo AS (
    SELECT ST_Tile(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(6, 6, 0, 0, 1, -1, 0, 0, 0),
                1, '32BF', 0, -9999
            ),
            1, 1, 1, ARRAY[
                [1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 2, 1],
                [1, 2, 2, 3, 3, 1],
                [1, 1, 3, 2, 1, 1],
                [1, 2, 2, 1, 2, 1],
                [1, 1, 1, 1, 1, 1]
            ]::double precision[]
        ),
        2, 2
    ) AS rast
)
SELECT
    t1.rast,
    ST_Aspect(ST_Union(t2.rast), 1, t1.rast)
FROM foo t1
CROSS JOIN foo t2
WHERE ST_Intersects(t1.rast, t2.rast)
GROUP BY t1.rast;
                    </pre></div><div class="refsection" id="idm35670"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a>, <a class="xref" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a>, <a class="xref" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a>, <a class="xref" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a>, <a class="xref" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a> </p></div></div><div class="refentry" id="RT_ST_HillShade"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_HillShade — Retourne l'hypothétique éclairage d'une bande raster d'élévation en utilisant les valeurs d'azimut, d'altitude, de luminosité et d'échelle fournies.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_HillShade</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band=1</var>, text  <var class="pdparam">pixeltype=32BF</var>, double precision  <var class="pdparam">azimuth=315</var>, double precision  <var class="pdparam">altitude=45</var>, double precision  <var class="pdparam">max_bright=255</var>, double precision  <var class="pdparam">scale=1.0</var>, boolean  <var class="pdparam">interpolate_nodata=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_HillShade</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, raster  <var class="pdparam">customextent</var>, text  <var class="pdparam">pixeltype=32BF</var>, double precision  <var class="pdparam">azimuth=315</var>, double precision  <var class="pdparam">altitude=45</var>, double precision  <var class="pdparam">max_bright=255</var>, double precision  <var class="pdparam">scale=1.0</var>, boolean  <var class="pdparam">interpolate_nodata=FALSE</var><code>)</code>;</p></div></div><div class="refsection" id="idm35742"><h2>Description</h2><p>Retourne l'hypothétique éclairage d'une bande raster d'élévation en utilisant les données d'entrée d'azimut, d'altitude, de luminosité et d'échelle. Utilise l'algèbre cartographique et applique l'équation d'ombrage aux pixels voisins. Les valeurs des pixels retournées sont comprises entre 0 et 255.</p><p><code class="varname">azimuth</code> est une valeur comprise entre 0 et 360 degrés, mesurée dans le sens des aiguilles d'une montre à partir du nord. </p><p><code class="varname">altitude</code> est une valeur comprise entre 0 et 90 degrés, où 0 degré correspond à l'horizon et 90 degrés à la verticale. </p><p><code class="varname">max_bright</code> est une valeur comprise entre 0 et 255, 0 correspondant à une absence de luminosité et 255 à une luminosité maximale. </p><p><code class="varname">scale</code> est le rapport entre les unités verticales et les unités horizontales. Pour Feet:LatLon, utiliser scale=370400, pour Meters:LatLon utiliser scale=111120. </p><p>Si <code class="varname">interpolate_nodata</code> est TRUE, les valeurs des pixels NODATA du raster d'entrée seront interpolées à l'aide de <a class="xref" href="#RT_ST_InvDistWeight4ma" title="ST_InvDistWeight4ma">ST_InvDistWeight4ma</a> avant de calculer l'éclairage. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour plus d'informations sur l'ombrage, veuillez consulter <a class="link" href="http://webhelp.esri.com/arcgisdesktop/9.3/index.cfm?TopicName=How%20Hillshade%20works" target="_top">How hillshade works</a>. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0 </p><p class="enhanced">Amélioration : 2.1.0 Utilise ST_MapAlgebra() et ajout du paramètre optionnel <code class="varname">interpolate_nodata</code></p><p class="changed">Changement : 2.1.0 Dans les versions précédentes, l'azimut et l'altitude étaient exprimés en radians. Désormais, l'azimut et l'altitude sont exprimés en degrés</p></div><div class="refsection" id="idm35763"><h2>Exemples : Variante 1</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_SetValues(
        ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0), 1, '32BF', 0, -9999),
        1, 1, 1, ARRAY[
            [1, 1, 1, 1, 1],
            [1, 2, 2, 2, 1],
            [1, 2, 3, 2, 1],
            [1, 2, 2, 2, 1],
            [1, 1, 1, 1, 1]
        ]::double precision[][]
    ) AS rast
)
SELECT
    ST_DumpValues(ST_Hillshade(rast, 1, '32BF'))
FROM foo

                                                                                                                       st_dumpvalues

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------
 (1,"{{NULL,NULL,NULL,NULL,NULL},{NULL,251.32763671875,220.749786376953,147.224319458008,NULL},{NULL,220.749786376953,180.312225341797,67.7497863769531,NULL},{NULL,147.224319458008
,67.7497863769531,43.1210060119629,NULL},{NULL,NULL,NULL,NULL,NULL}}")
(1 row)
                    </pre></div><div class="refsection" id="idm35766"><h2>Exemples : Variante 2</h2><p>Exemple complet avec les tuiles d'une couverture. Cette requête ne fonctionne qu'avec PostgreSQL 9.1 ou plus.</p><pre class="programlisting">WITH foo AS (
    SELECT ST_Tile(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(6, 6, 0, 0, 1, -1, 0, 0, 0),
                1, '32BF', 0, -9999
            ),
            1, 1, 1, ARRAY[
                [1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 2, 1],
                [1, 2, 2, 3, 3, 1],
                [1, 1, 3, 2, 1, 1],
                [1, 2, 2, 1, 2, 1],
                [1, 1, 1, 1, 1, 1]
            ]::double precision[]
        ),
        2, 2
    ) AS rast
)
SELECT
    t1.rast,
    ST_Hillshade(ST_Union(t2.rast), 1, t1.rast)
FROM foo t1
CROSS JOIN foo t2
WHERE ST_Intersects(t1.rast, t2.rast)
GROUP BY t1.rast;
                    </pre></div><div class="refsection" id="idm35770"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a>, <a class="xref" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a>, <a class="xref" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a>, <a class="xref" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a>, <a class="xref" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a> </p></div></div><div class="refentry" id="RT_ST_Roughness"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Roughness — Retourne un raster avec la rugosité d'un MNT.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Roughness</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, raster  <var class="pdparam">customextent</var>, text  <var class="pdparam">pixeltype="32BF"</var> , boolean  <var class="pdparam"> interpolate_nodata=FALSE </var> <code>)</code>;</p></div></div><div class="refsection" id="idm35803"><h2>Description</h2><p>Calcule la rugosité d'un MNT en soustrayant le maximum du minimum pour une zone donnée.</p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm35807"><h2>Exemples</h2><pre class="programlisting">-- needs examples
                    </pre></div><div class="refsection" id="idm35810"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a>, <a class="xref" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a>, <a class="xref" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a>, <a class="xref" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a>, <a class="xref" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> </p></div></div><div class="refentry" id="RT_ST_Slope"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Slope — Retourne la pente (par défaut, en degrés) d'une bande raster d'élévation. Utile pour l'analyse de terrain.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Slope</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband=1</var>, text  <var class="pdparam">pixeltype=32BF</var>, text  <var class="pdparam">units=DEGREES</var>, double precision  <var class="pdparam">scale=1.0</var>, boolean  <var class="pdparam">interpolate_nodata=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Slope</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, raster  <var class="pdparam">customextent</var>, text  <var class="pdparam">pixeltype=32BF</var>, text  <var class="pdparam">units=DEGREES</var>, double precision  <var class="pdparam">scale=1.0</var>, boolean  <var class="pdparam">interpolate_nodata=FALSE</var><code>)</code>;</p></div></div><div class="refsection" id="idm35870"><h2>Description</h2><p>Retourne la pente (par défaut, en degrés) d'une bande raster d'élévation. Utilise l'algèbre cartographique et applique l'équation de pente aux pixels voisins.</p><p><code class="varname">units</code> indique l'unité de la pente. Les valeurs possibles sont : RADIANS, DEGREES (par défaut), PERCENT. </p><p><code class="varname">scale</code> est le rapport entre les unités verticales et les unités horizontales. Pour Feet:LatLon, utiliser scale=370400, pour Meters:LatLon utiliser scale=111120. </p><p>Si <code class="varname">interpolate_nodata</code> est TRUE, les valeurs des pixels NODATA du raster d'entrée seront interpolées à l'aide de <a class="xref" href="#RT_ST_InvDistWeight4ma" title="ST_InvDistWeight4ma">ST_InvDistWeight4ma</a> avant de calculer la pente de la surface. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour plus d'informations sur la pente, l'exposition et l'ombrage, veuillez consulter <a class="link" href="http://webhelp.esri.com/arcgisdesktop/9.3/index.cfm?TopicName=How%20Hillshade%20works" target="_top">ESRI - How hillshade works</a> et <a class="link" href="http://e2b.erdas.com/fieldguide/wwhelp/wwhimpl/common/html/wwhelp.htm?context=FieldGuide&amp;file=Slope_Images.html" target="_top">ERDAS Field Guide - Slope Images</a>. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0 </p><p class="enhanced">Amélioration : 2.1.0 Utilise ST_MapAlgebra() et ajout des paramètres optionnels <code class="varname">units</code>, <code class="varname">scale</code>, <code class="varname">interpolate_nodata</code></p><p class="changed">Changement : 2.1.0 Dans les versions précédentes, les valeurs retournées étaient en radians. Désormais, les valeurs retournées sont par défaut en degrés</p></div><div class="refsection" id="idm35890"><h2>Exemples : Variante 1</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_SetValues(
        ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0), 1, '32BF', 0, -9999),
        1, 1, 1, ARRAY[
            [1, 1, 1, 1, 1],
            [1, 2, 2, 2, 1],
            [1, 2, 3, 2, 1],
            [1, 2, 2, 2, 1],
            [1, 1, 1, 1, 1]
        ]::double precision[][]
    ) AS rast
)
SELECT
    ST_DumpValues(ST_Slope(rast, 1, '32BF'))
FROM foo

                            st_dumpvalues

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------
 (1,"{{10.0249881744385,21.5681285858154,26.5650520324707,21.5681285858154,10.0249881744385},{21.5681285858154,35.2643890380859,36.8698959350586,35.2643890380859,21.5681285858154},
{26.5650520324707,36.8698959350586,0,36.8698959350586,26.5650520324707},{21.5681285858154,35.2643890380859,36.8698959350586,35.2643890380859,21.5681285858154},{10.0249881744385,21.
5681285858154,26.5650520324707,21.5681285858154,10.0249881744385}}")
(1 row)
                    </pre></div><div class="refsection" id="idm35893"><h2>Exemples : Variante 2</h2><p>Exemple complet avec les tuiles d'une couverture. Cette requête ne fonctionne qu'avec PostgreSQL 9.1 ou plus.</p><pre class="programlisting">WITH foo AS (
    SELECT ST_Tile(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(6, 6, 0, 0, 1, -1, 0, 0, 0),
                1, '32BF', 0, -9999
            ),
            1, 1, 1, ARRAY[
                [1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 2, 1],
                [1, 2, 2, 3, 3, 1],
                [1, 1, 3, 2, 1, 1],
                [1, 2, 2, 1, 2, 1],
                [1, 1, 1, 1, 1, 1]
            ]::double precision[]
        ),
        2, 2
    ) AS rast
)
SELECT
    t1.rast,
    ST_Slope(ST_Union(t2.rast), 1, t1.rast)
FROM foo t1
CROSS JOIN foo t2
WHERE ST_Intersects(t1.rast, t2.rast)
GROUP BY t1.rast;
                    </pre></div><div class="refsection" id="idm35897"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a>, <a class="xref" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a>, <a class="xref" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a>, <a class="xref" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a>, <a class="xref" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> </p></div></div><div class="refentry" id="RT_ST_TPI"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_TPI — Retourne un raster avec l'index de position topographique (TPI) calculé.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_TPI</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, raster  <var class="pdparam">customextent</var>, text  <var class="pdparam">pixeltype="32BF"</var> , boolean  <var class="pdparam"> interpolate_nodata=FALSE </var> <code>)</code>;</p></div></div><div class="refsection" id="idm35930"><h2>Description</h2><p>Calcule l'index de position topographique (TPI), qui est défini comme la moyenne focale avec un rayon de un moins la cellule centrale.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction ne prend en charge qu'un rayon focal de un.</p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm35936"><h2>Exemples</h2><pre class="programlisting">-- needs examples
                    </pre></div><div class="refsection" id="idm35939"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a>, <a class="xref" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a>, <a class="xref" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a>, <a class="xref" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a>, <a class="xref" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> </p></div></div><div class="refentry" id="RT_ST_TRI"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_TRI — Retourne un raster avec l'indice de rugosité du terrain (TRI) calculé.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_TRI</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, raster  <var class="pdparam">customextent</var>, text  <var class="pdparam">pixeltype="32BF"</var> , boolean  <var class="pdparam"> interpolate_nodata=FALSE </var> <code>)</code>;</p></div></div><div class="refsection" id="idm35972"><h2>Description</h2><p>L'indice de rugosité du terrain est calculé en comparant le pixel central à ses voisins, en prenant les valeurs absolues des différences et en faisant la moyenne du résultat. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction ne prend en charge qu'un rayon focal de un.</p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm35978"><h2>Exemples</h2><pre class="programlisting">-- needs examples
                    </pre></div><div class="refsection" id="idm35981"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a>, <a class="xref" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a>, <a class="xref" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a>, <a class="xref" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a>, <a class="xref" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> </p></div></div></section><section class="section" id="Raster_Processing_Geometry"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.15. Traitement des données raster : raster vers géométrie</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_Box3D">Box3D</a></span><span class="refpurpose"> — Retourne la représentation 3d de la boîte englobante du raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_ConvexHull">ST_ConvexHull</a></span><span class="refpurpose"> — Retourne l'enveloppe convexe du raster, en incluant les valeurs de pixels égales à BandNoDataValue. Pour les données raster de forme régulière et sans obliquité, cette fonction donne le même résultat que ST_Envelope ; elle n'est donc utile que pour les données raster de forme irrégulière ou inclinée.</span></li><li><span class="refentrytitle"><a href="#RT_ST_DumpAsPolygons">ST_DumpAsPolygons</a></span><span class="refpurpose"> — Retourne un ensemble d'enregistrements de type geomval (geom, val), à partir d'une bande raster donnée. Si aucune bande bandnum n'est spécifiée, la bande 1 est utilisée.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Envelope">ST_Envelope</a></span><span class="refpurpose"> — Retourne la représentation polygonale de l'étendue du raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_MinConvexHull">ST_MinConvexHull</a></span><span class="refpurpose"> — Retourne la géométrie de l'enveloppe convexe du raster en excluant les pixels NODATA. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Polygon">ST_Polygon</a></span><span class="refpurpose"> — Retourne une géométrie multipolygonale formée par l'union des pixels dont la valeur est différente de nodata. Si aucune bande bandnum n'est spécifiée, la bande 1 est utilisée.</span></li></ul></div><div class="refentry" id="RT_Box3D"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Box3D — Retourne la représentation 3d de la boîte englobante du raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box3d <strong class="fsfunc">Box3D</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm36004"><h2>Description</h2><p>Retourne la boîte représentant l'étendue du raster.</p><p>Le polygone est défini par les points des coins de la boîte englobante ((<code class="varname">MINX</code>, <code class="varname">MINY</code>), (<code class="varname">MAXX</code>, <code class="varname">MAXY</code>)) </p><p class="changed">Changement : 2.0.0 Dans les versions antérieures à la version 2.0, utilisait le type box2d au lieu de box3d. Comme box2d est un type obsolète, il a été remplacé par box3d.</p></div><div class="refsection" id="idm36013"><h2>Exemples</h2><pre class="programlisting">SELECT
    rid,
    Box3D(rast) AS rastbox
FROM dummy_rast;

rid |        rastbox
----+-------------------------------------------------
1   | BOX3D(0.5 0.5 0,20.5 60.5 0)
2   | BOX3D(3427927.75 5793243.5 0,3427928 5793244 0)
                    </pre></div><div class="refsection" id="idm36016"><h2>Voir aussi</h2><p>
                        <a class="xref" href="#RT_ST_Envelope" title="ST_Envelope">ST_Envelope</a>
                    </p></div></div><div class="refentry" id="RT_ST_ConvexHull"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ConvexHull — Retourne l'enveloppe convexe du raster, en incluant les valeurs de pixels égales à BandNoDataValue. Pour les données raster de forme régulière et sans obliquité, cette fonction donne le même résultat que ST_Envelope ; elle n'est donc utile que pour les données raster de forme irrégulière ou inclinée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ConvexHull</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm36032"><h2>Description</h2><p>Retourne l'enveloppe convexe du raster, en incluant les valeurs de pixels égales à BandNoDataValue. Pour les données raster de forme régulière et sans obliquité, cette fonction donne plus ou moins le même résultat que ST_Envelope ; elle n'est donc utile que pour les données raster de forme irrégulière ou inclinée.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_Envelope arrondit les coordonnées à l'inférieur, et ajoute donc un petit tampon autour du raster. La réponse est donc subtilement différente de ST_ConvexHull qui n'arrondit pas les coordonnées.</p></td></tr></table></div></div><div class="refsection" id="idm36037"><h2>Exemples</h2><p>Voir <a class="link" href="http://trac.osgeo.org/postgis/wiki/WKTRaster/SpecificationWorking01" target="_top">PostGIS Raster Specification</a> pour un diagramme de ceci.</p><pre class="programlisting">-- Note envelope and convexhull are more or less the same
SELECT ST_AsText(ST_ConvexHull(rast)) As convhull,
    ST_AsText(ST_Envelope(rast)) As env
FROM dummy_rast WHERE rid=1;

                        convhull                        |                env
--------------------------------------------------------+------------------------------------
 POLYGON((0.5 0.5,20.5 0.5,20.5 60.5,0.5 60.5,0.5 0.5)) | POLYGON((0 0,20 0,20 60,0 60,0 0))
                </pre><pre class="programlisting">-- now we skew the raster
-- note how the convex hull and envelope are now different
SELECT ST_AsText(ST_ConvexHull(rast)) As convhull,
    ST_AsText(ST_Envelope(rast)) As env
FROM (SELECT ST_SetRotation(rast, 0.1, 0.1) As rast
    FROM dummy_rast WHERE rid=1) As foo;

                        convhull                        |                env
--------------------------------------------------------+------------------------------------
 POLYGON((0.5 0.5,20.5 1.5,22.5 61.5,2.5 60.5,0.5 0.5)) | POLYGON((0 0,22 0,22 61,0 61,0 0))
                    </pre></div><div class="refsection" id="idm36043"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Envelope" title="ST_Envelope">ST_Envelope</a>, <a class="xref" href="#RT_ST_MinConvexHull" title="ST_MinConvexHull">ST_MinConvexHull</a>, <a class="xref" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a> </p></div></div><div class="refentry" id="RT_ST_DumpAsPolygons"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DumpAsPolygons — Retourne un ensemble d'enregistrements de type geomval (geom, val), à partir d'une bande raster donnée. Si aucune bande bandnum n'est spécifiée, la bande 1 est utilisée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof geomval <strong class="fsfunc">ST_DumpAsPolygons</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band_num=1</var>, boolean  <var class="pdparam">exclude_nodata_value=TRUE</var><code>)</code>;</p></div></div><div class="refsection" id="idm36068"><h2>Description</h2><p>Il s'agit d'une fonction de retour d'ensemble (SRF). Elle retourne un ensemble d'enregistrements geomval, composés par une géométrie (geom) et une valeur de bande de pixels (val). Chaque polygone est l'union de tous les pixels de cette bande qui ont la même valeur de pixel, indiquée par val.</p><p>ST_DumpAsPolygon est utile pour polygoniser les données raster. C'est l'inverse d'un GROUP BY, en ce sens qu'elle crée de nouvelles lignes. Par exemple, cette fonction peut être utilisée pour décomposer un seul raster en plusieurs POLYGONS/MULTIPOLYGONS.</p><p>Changement 3.3.0, la validation et la correction sont désactivées pour améliorer les performances. Peut donc retourner des géométries non valides.</p><p class="availability">Disponibilité : Nécessite GDAL 1.7 ou plus.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si une valeur nodata est définie pour une bande, les pixels ayant cette valeur ne seront pas retournés, sauf si exclude_nodata_value=false.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous ne voulez que le nombre de pixels ayant une valeur donnée dans un raster, il est plus rapide d'utiliser <a class="xref" href="#RT_ST_ValueCount" title="ST_ValueCount">ST_ValueCount</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction est différente de ST_PixelAsPolygons, où une géométrie est retournée pour chaque pixel, quelle que soit la valeur du pixel. </p></td></tr></table></div></div><div class="refsection" id="idm36081"><h2>Exemples</h2><pre class="programlisting">-- this syntax requires PostgreSQL 9.3+
SELECT val, ST_AsText(geom) As geomwkt
FROM (
SELECT dp.*
FROM dummy_rast, LATERAL ST_DumpAsPolygons(rast) AS dp
WHERE rid = 2
) As foo
WHERE val BETWEEN 249 and 251
ORDER BY val;

 val |                                                       geomwkt
-----+--------------------------------------------------------------------------
 249 | POLYGON((3427927.95 5793243.95,3427927.95 5793243.85,3427928 5793243.85,
        3427928 5793243.95,3427927.95 5793243.95))
 250 | POLYGON((3427927.75 5793243.9,3427927.75 5793243.85,3427927.8 5793243.85,
        3427927.8 5793243.9,3427927.75 5793243.9))
 250 | POLYGON((3427927.8 5793243.8,3427927.8 5793243.75,3427927.85 5793243.75,
        3427927.85 5793243.8, 3427927.8 5793243.8))
 251 | POLYGON((3427927.75 5793243.85,3427927.75 5793243.8,3427927.8 5793243.8,
        3427927.8 5793243.85,3427927.75 5793243.85))
                    </pre></div><div class="refsection" id="idm36084"><h2>Voir aussi</h2><p><a class="xref" href="#geomval" title="geomval">geomval</a>, <a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_Polygon" title="ST_Polygon">ST_Polygon</a>, <a class="xref" href="#RT_ST_ValueCount" title="ST_ValueCount">ST_ValueCount</a> </p></div></div><div class="refentry" id="RT_ST_Envelope"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Envelope — Retourne la représentation polygonale de l'étendue du raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Envelope</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm36103"><h2>Description</h2><p>Retourne la représentation polygonale de l'étendue du raster, dans les unités du système de référence spatial défini par srid. Il s'agit d'une boîte de délimitation minimale float8 représentée sous la forme d'un polygone. </p><p>Le polygone est défini par les points des coins de la boîte englobante ((<code class="varname">MINX</code>, <code class="varname">MINY</code>), (<code class="varname">MINX</code>, <code class="varname">MAXY</code>), (<code class="varname">MAXX</code>, <code class="varname">MAXY</code>), (<code class="varname">MAXX</code>, <code class="varname">MINY</code>), (<code class="varname">MINX</code>, <code class="varname">MINY</code>)) </p></div><div class="refsection" id="idm36117"><h2>Exemples</h2><pre class="programlisting">SELECT rid, ST_AsText(ST_Envelope(rast)) As envgeomwkt
FROM dummy_rast;

 rid |                                         envgeomwkt
-----+--------------------------------------------------------------------
   1 | POLYGON((0 0,20 0,20 60,0 60,0 0))
   2 | POLYGON((3427927 5793243,3427928 5793243,
        3427928 5793244,3427927 5793244, 3427927 5793243))
                    </pre></div><div class="refsection" id="idm36120"><h2>Voir aussi</h2><p><a class="xref" href="#ST_Envelope" title="ST_Envelope">ST_Envelope</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a> </p></div></div><div class="refentry" id="RT_ST_MinConvexHull"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinConvexHull — Retourne la géométrie de l'enveloppe convexe du raster en excluant les pixels NODATA. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MinConvexHull</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm36141"><h2>Description</h2><p>Retourne la géométrie de l'enveloppe convexe du raster en excluant les pixels NODATA. Si <code class="varname">nband</code> est NULL, toutes les bandes du raster sont prises en compte. </p><p class="availability">Disponibilité : 2.1.0 </p></div><div class="refsection" id="idm36146"><h2>Exemples</h2><pre class="programlisting">WITH foo AS (
    SELECT
        ST_SetValues(
            ST_SetValues(
                ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(9, 9, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI', 0, 0), 2, '8BUI', 1, 0),
                1, 1, 1,
                ARRAY[
                    [0, 0, 0, 0, 0, 0, 0, 0, 0],
                    [0, 0, 0, 0, 0, 0, 0, 0, 0],
                    [0, 0, 0, 0, 0, 0, 0, 0, 0],
                    [0, 0, 0, 1, 0, 0, 0, 0, 1],
                    [0, 0, 0, 1, 1, 0, 0, 0, 0],
                    [0, 0, 0, 1, 0, 0, 0, 0, 0],
                    [0, 0, 0, 0, 0, 0, 0, 0, 0],
                    [0, 0, 0, 0, 0, 0, 0, 0, 0],
                    [0, 0, 0, 0, 0, 0, 0, 0, 0]
                ]::double precision[][]
            ),
            2, 1, 1,
            ARRAY[
                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                [1, 0, 0, 0, 0, 1, 0, 0, 0],
                [0, 0, 0, 0, 1, 1, 0, 0, 0],
                [0, 0, 0, 0, 0, 1, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 1, 0, 0, 0, 0, 0, 0]
            ]::double precision[][]
        ) AS rast
)
SELECT
    ST_AsText(ST_ConvexHull(rast)) AS hull,
    ST_AsText(ST_MinConvexHull(rast)) AS mhull,
    ST_AsText(ST_MinConvexHull(rast, 1)) AS mhull_1,
    ST_AsText(ST_MinConvexHull(rast, 2)) AS mhull_2
FROM foo

               hull               |                mhull                |               mhull_1               |               mhull_2
----------------------------------+-------------------------------------+-------------------------------------+-------------------------------------
 POLYGON((0 0,9 0,9 -9,0 -9,0 0)) | POLYGON((0 -3,9 -3,9 -9,0 -9,0 -3)) | POLYGON((3 -3,9 -3,9 -6,3 -6,3 -3)) | POLYGON((0 -3,6 -3,6 -9,0 -9,0 -3))
                    </pre></div><div class="refsection" id="idm36149"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Envelope" title="ST_Envelope">ST_Envelope</a>, <a class="xref" href="#RT_ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>, <a class="xref" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a> </p></div></div><div class="refentry" id="RT_ST_Polygon"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Polygon — Retourne une géométrie multipolygonale formée par l'union des pixels dont la valeur est différente de nodata. Si aucune bande bandnum n'est spécifiée, la bande 1 est utilisée.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Polygon</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band_num=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm36171"><h2>Description</h2><p>Changement 3.3.0, la validation et la correction sont désactivées pour améliorer les performances. Peut donc retourner des géométries non valides.</p><p class="availability">Disponibilité : 0.1.6 Nécessite GDAL 1.7 ou plus.</p><p class="enhanced">Amélioration : 2.1.0 Vitesse améliorée (entièrement en C) et le multipolygone retourné est garanti d'être valide.</p><p class="changed">Changement : 2.1.0 Dans les versions précédentes, retournait parfois un polygone, retourne désormais toujours un multipolygon.</p></div><div class="refsection" id="idm36177"><h2>Exemples</h2><pre class="programlisting">-- by default no data band value is 0 or not set, so polygon will return a square polygon
SELECT ST_AsText(ST_Polygon(rast)) As geomwkt
FROM dummy_rast
WHERE rid = 2;

geomwkt
--------------------------------------------
MULTIPOLYGON(((3427927.75 5793244,3427928 5793244,3427928 5793243.75,3427927.75 5793243.75,3427927.75 5793244)))


-- now we change the no data value of first band
UPDATE dummy_rast SET rast = ST_SetBandNoDataValue(rast,1,254)
WHERE rid = 2;
SELECt rid, ST_BandNoDataValue(rast)
from dummy_rast where rid = 2;

-- ST_Polygon excludes the pixel value 254 and returns a multipolygon
SELECT ST_AsText(ST_Polygon(rast)) As geomwkt
FROM dummy_rast
WHERE rid = 2;

geomwkt
---------------------------------------------------------
MULTIPOLYGON(((3427927.9 5793243.95,3427927.85 5793243.95,3427927.85 5793244,3427927.9 5793244,3427927.9 5793243.95)),((3427928 5793243.85,3427928 5793243.8,3427927.95 5793243.8,3427927.95 5793243.85,3427927.9 5793243.85,3427927.9 5793243.9,3427927.9 5793243.95,3427927.95 5793243.95,3427928 5793243.95,3427928 5793243.85)),((3427927.8 5793243.75,3427927.75 5793243.75,3427927.75 5793243.8,3427927.75 5793243.85,3427927.75 5793243.9,3427927.75 5793244,3427927.8 5793244,3427927.8 5793243.9,3427927.8 5793243.85,3427927.85 5793243.85,3427927.85 5793243.8,3427927.85 5793243.75,3427927.8 5793243.75)))

-- Or if you want the no data value different for just one time

SELECT ST_AsText(
    ST_Polygon(
        ST_SetBandNoDataValue(rast,1,252)
        )
    ) As geomwkt
FROM dummy_rast
WHERE rid =2;

geomwkt
---------------------------------
MULTIPOLYGON(((3427928 5793243.85,3427928 5793243.8,3427928 5793243.75,3427927.85 5793243.75,3427927.8 5793243.75,3427927.8 5793243.8,3427927.75 5793243.8,3427927.75 5793243.85,3427927.75 5793243.9,3427927.75 5793244,3427927.8 5793244,3427927.85 5793244,3427927.9 5793244,3427928 5793244,3427928 5793243.95,3427928 5793243.85),(3427927.9 5793243.9,3427927.9 5793243.85,3427927.95 5793243.85,3427927.95 5793243.9,3427927.9 5793243.9)))
                    </pre></div><div class="refsection" id="idm36180"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a> </p></div></div></section><section class="section" id="RT_Operators"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.16. Opérateurs raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_Raster_Intersect">&amp;&amp;</a></span><span class="refpurpose"> — Retourne <code class="varname">TRUE</code> si la boite englobante de A intersecte la boite englobante de B.</span></li><li><span class="refentrytitle"><a href="#RT_Raster_OverLeft">&amp;&lt;</a></span><span class="refpurpose"> — Retourne <code class="varname">TRUE</code> si la boîte englobante de A est à gauche de celle de B.</span></li><li><span class="refentrytitle"><a href="#RT_Raster_OverRight">&amp;&gt;</a></span><span class="refpurpose"> — Retourne <code class="varname">TRUE</code> si la boîte englobante de A est à droite de celle de B.</span></li><li><span class="refentrytitle"><a href="#RT_Raster_EQ">=</a></span><span class="refpurpose"> — Retourne <code class="varname">TRUE</code> si la boîte englobante de A est la même que celle de B. Utilise des boîtes englobantes en double précision.</span></li><li><span class="refentrytitle"><a href="#RT_Raster_Contained">@</a></span><span class="refpurpose"> — Retourne <code class="varname">TRUE</code> si la boîte englobante de A est contenue dans celle de B. Utilise des boîtes englobantes en double précision.</span></li><li><span class="refentrytitle"><a href="#RT_Raster_Same">~=</a></span><span class="refpurpose"> — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A est la même que celle de B.</span></li><li><span class="refentrytitle"><a href="#RT_Raster_Contains">~</a></span><span class="refpurpose"> — Retourne <code class="varname">TRUE</code> si la boîte englobante de A contient celle de B. Utilise des boîtes englobantes en double précision.</span></li></ul></div><div class="refentry" id="RT_Raster_Intersect"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp; — Retourne <code class="varname">TRUE</code> si la boite englobante de A intersecte la boite englobante de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> raster  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> raster  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> geometry  <var class="pdparam">B</var> ,  raster  <var class="pdparam">A</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36221"><h2>Description</h2><p>L'opérateur <code class="varname">&amp;&amp;</code> retourne <code class="varname">TRUE</code> si la boîte englobante du raster/géométrie A intersecte la boîte englobante du raster/géométrie B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande utilisera tous les index qui peuvent être disponibles sur les données raster.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm36229"><h2>Exemples</h2><pre class="programlisting">SELECT A.rid As a_rid, B.rid As b_rid, A.rast &amp;&amp; B.rast As intersect
 FROM dummy_rast AS A CROSS JOIN dummy_rast AS B LIMIT 3;

 a_rid | b_rid | intersect
-------+-------+---------
     2 |     2 | t
     2 |     3 | f
     2 |     1 | f
</pre></div></div><div class="refentry" id="RT_Raster_OverLeft"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&lt; — Retourne <code class="varname">TRUE</code> si la boîte englobante de A est à gauche de celle de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&lt;</strong>(</code> raster  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36248"><h2>Description</h2><p>L'opérateur <code class="varname">&amp;&lt;</code> retourne <code class="varname">TRUE</code> si la boîte englobante du raster A chevauche ou est à gauche de la boîte englobante de B ou, plus précisément, si elle chevauche ou n'est PAS à droite de la boîte englobante de B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande utilisera tous les index qui peuvent être disponibles sur les données raster.</p></td></tr></table></div></div><div class="refsection" id="idm36255"><h2>Exemples</h2><pre class="programlisting">
SELECT A.rid As a_rid, B.rid As b_rid, A.rast &amp;&lt; B.rast As overleft
 FROM dummy_rast AS A CROSS JOIN dummy_rast AS B;

a_rid | b_rid | overleft
------+-------+----------
    2 |     2 | t
    2 |     3 | f
    2 |     1 | f
    3 |     2 | t
    3 |     3 | t
    3 |     1 | f
    1 |     2 | t
    1 |     3 | t
    1 |     1 | t

</pre></div></div><div class="refentry" id="RT_Raster_OverRight"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&gt; — Retourne <code class="varname">TRUE</code> si la boîte englobante de A est à droite de celle de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&gt;</strong>(</code> raster  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36274"><h2>Description</h2><p>L'opérateur <code class="varname">&amp;&gt;</code> retourne <code class="varname">TRUE</code> si la boîte englobante du raster A chevauche ou est à droite de la boîte englobante du raster B ou, plus précisément, si elle chevauche ou n'est PAS à gauche de la boîte englobante du raster B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette opérande utilisera tous les index qui peuvent être disponibles sur les géométries.</p></td></tr></table></div></div><div class="refsection" id="idm36281"><h2>Exemples</h2><pre class="programlisting">
SELECT A.rid As a_rid, B.rid As b_rid, A.rast &amp;
&gt; B.rast As overright
 FROM dummy_rast AS A CROSS JOIN dummy_rast AS B;

 a_rid | b_rid | overright
-------+-------+----------
     2 |     2 | t
     2 |     3 | t
     2 |     1 | t
     3 |     2 | f
     3 |     3 | t
     3 |     1 | f
     1 |     2 | f
     1 |     3 | t
     1 |     1 | t

</pre></div></div><div class="refentry" id="RT_Raster_EQ"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>= — Retourne <code class="varname">TRUE</code> si la boîte englobante de A est la même que celle de B. Utilise des boîtes englobantes en double précision.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">=</strong>(</code> raster  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36300"><h2>Description</h2><p>L'opérateur <code class="varname">=</code> retourne <code class="varname">TRUE</code> si la boîte englobante du raster A est la même que celle du raster B. PostgreSQL utilise les opérateurs =, &lt;, et &gt; définis pour les rasters pour effectuer des tris et comparaisons internes sur les rasters (par exemple, dans une clause GROUP BY ou ORDER BY).</p><div class="caution"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Caution]" src="images/caution.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande n'utilisera PAS les index éventuellement disponibles sur les données raster. Utilisez plutôt <a class="xref" href="#RT_Raster_Same" title="~=">~=</a>. Cet opérateur existe principalement pour permettre le regroupement par colonne raster.</p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0 </p></div><div class="refsection" id="idm36309"><h2>Voir aussi</h2><p><a class="xref" href="#RT_Raster_Same" title="~=">~=</a></p></div></div><div class="refentry" id="RT_Raster_Contained"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>@ — Retourne <code class="varname">TRUE</code> si la boîte englobante de A est contenue dans celle de B. Utilise des boîtes englobantes en double précision.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">@</strong>(</code> raster  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">@</strong>(</code> geometry  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">@</strong>(</code> raster  <var class="pdparam">B</var> ,  geometry  <var class="pdparam">A</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36347"><h2>Description</h2><p>L'opérateur <code class="varname">@</code> retourne <code class="varname">TRUE</code> si la boîte englobante du raster/géométrie A est contenue dans la boîte englobante du raster/géométrie B. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande utilisera des index spatiaux sur les données raster. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0 ajout de raster @ raster, raster @ geometry</p><p class="availability">Disponibilité : 2.0.5 ajout de geometry @ raster </p></div><div class="refsection" id="idm36356"><h2>Voir aussi</h2><p><a class="xref" href="#RT_Raster_Contains" title="~">~</a></p></div></div><div class="refentry" id="RT_Raster_Same"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>~= — Renvoie <code class="varname">TRUE</code> si la boîte de délimitation de A est la même que celle de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">~=</strong>(</code> raster  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36376"><h2>Description</h2><p>L'opérateur <code class="varname">~=</code> retourne <code class="varname">TRUE</code> si la boîte englobante du raster A est la même que la boîte englobante du raster B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande utilisera tous les index qui peuvent être disponibles sur les données raster.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm36384"><h2>Exemples</h2><p>Un cas d'utilisation très utile est celui où l'on prend deux ensembles de rasters à bande unique qui sont du même morceau mais représentent des thèmes différents, et où l'on crée un raster multi-bandes</p><pre class="programlisting">SELECT ST_AddBand(prec.rast, alt.rast) As new_rast
    FROM prec INNER JOIN alt ON (prec.rast ~= alt.rast);
        </pre></div><div class="refsection" id="idm36388"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>, <a class="xref" href="#RT_Raster_EQ" title="=">=</a></p></div></div><div class="refentry" id="RT_Raster_Contains"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>~ — Retourne <code class="varname">TRUE</code> si la boîte englobante de A contient celle de B. Utilise des boîtes englobantes en double précision.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">~</strong>(</code> raster  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">~</strong>(</code> geometry  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">~</strong>(</code> raster  <var class="pdparam">B</var> ,  geometry  <var class="pdparam">A</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36427"><h2>Description</h2><p>L'opérateur <code class="varname">~</code> retourne <code class="varname">TRUE</code> si la boîte englobante du raster/géométrie A contient la boîte englobante du raster/géométrie B. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande utilisera des index spatiaux sur les données raster. </p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm36435"><h2>Voir aussi</h2><p><a class="xref" href="#RT_Raster_Contained" title="@">@</a></p></div></div></section><section class="section" id="Raster_Relationships"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.17. Relations spatiales entre raster et entre bandes raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_Contains">ST_Contains</a></span><span class="refpurpose"> — Retourne true si aucun point du raster rastB ne se trouve à l'extérieur du raster rastA et si au moins un point de l'intérieur du raster rastB se trouve à l'intérieur du raster rastA. </span></li><li><span class="refentrytitle"><a href="#RT_ST_ContainsProperly">ST_ContainsProperly</a></span><span class="refpurpose"> — Retourne true si rastB intersecte l'intérieur de rastA, mais pas la frontière ou l'extérieur de rastA. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Covers">ST_Covers</a></span><span class="refpurpose"> — Retourne true si aucun point du raster rastB ne se trouve à l'extérieur du raster rastA. </span></li><li><span class="refentrytitle"><a href="#RT_ST_CoveredBy">ST_CoveredBy</a></span><span class="refpurpose"> — Retourne true si aucun point du raster rastA ne se trouve à l'extérieur du raster rastB. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Disjoint">ST_Disjoint</a></span><span class="refpurpose"> — Retourne true si le raster rastA n'intersecte pas spatialement le rastB. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Intersects">ST_Intersects</a></span><span class="refpurpose"> — Retourne vrai si le raster rastA intersecte spatialement le raster rastB.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Overlaps">ST_Overlaps</a></span><span class="refpurpose"> — Retourne true si les raster rastA et rastB intersectent mais que l'un ne contient pas complètement l'autre. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Touches">ST_Touches</a></span><span class="refpurpose"> — Retourne true si les raster rastA et rastB ont au moins un point en commun mais que leurs intérieurs n'intersectent pas. </span></li><li><span class="refentrytitle"><a href="#RT_ST_SameAlignment">ST_SameAlignment</a></span><span class="refpurpose"> — Retourne true si les rasters ont les mêmes skew, scale, spatial ref, et offset (les pixels peuvent être placés sur la même grille sans être coupés) et false si ce n'est pas le cas, avec une NOTICE détaillant le problème.</span></li><li><span class="refentrytitle"><a href="#RT_ST_NotSameAlignmentReason">ST_NotSameAlignmentReason</a></span><span class="refpurpose"> — Retourne un texte indiquant si les rasters sont alignés et, s'ils ne le sont pas, la raison du problème.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Within">ST_Within</a></span><span class="refpurpose"> — Retourne true si aucun point du raster rastA ne se trouve à l'extérieur du raster rastB et si au moins un point de l'intérieur du raster rastA se trouve à l'intérieur du raster rastB. </span></li><li><span class="refentrytitle"><a href="#RT_ST_DWithin">ST_DWithin</a></span><span class="refpurpose"> — Retourne true si les rasters rastA et rastB se trouvent à une distance donnée l'un de l'autre. </span></li><li><span class="refentrytitle"><a href="#RT_ST_DFullyWithin">ST_DFullyWithin</a></span><span class="refpurpose"> — Retourne true si les rasters rastA et rastB se trouvent entièrement à une distance donnée l'un de l'autre. </span></li></ul></div><div class="refentry" id="RT_ST_Contains"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Contains — Retourne true si aucun point du raster rastB ne se trouve à l'extérieur du raster rastA et si au moins un point de l'intérieur du raster rastB se trouve à l'intérieur du raster rastA. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Contains</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Contains</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36471"><h2>Description</h2><p>Le raster rastA contient rastB si et seulement si aucun point de rastB ne se trouve à l'extérieur de rastA et si au moins un point de l'intérieur de rastB se trouve à l'intérieur de rastA. Si le numéro de bande n'est pas spécifié (ou si NULL), seule l'enveloppe convexe du raster est prise en compte dans le test. Si un numéro de bande est spécifié, seuls les pixels ayant une valeur (différente de NODATA) sont pris en compte dans le test. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction utilisera tous les index qui peuvent être disponibles sur les données raster. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour tester la relation spatiale entre un raster et une géométrie, utilisez ST_Polygon sur le raster, par exemple ST_Contains(ST_Polygon(raster), geometry) ou ST_Contains(geometry, ST_Polygon(raster)). </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_Contains() est l'inverse de ST_Within(). Ainsi, ST_Contains(rastA, rastB) implique ST_Within(rastB, rastA). </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm36481"><h2>Exemples</h2><pre class="programlisting">-- specified band numbers
SELECT r1.rid, r2.rid, ST_Contains(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 1;

NOTICE:  The first raster provided has no bands
 rid | rid | st_contains
-----+-----+-------------
   1 |   1 |
   1 |   2 | f
            </pre><pre class="programlisting">-- no band numbers specified
SELECT r1.rid, r2.rid, ST_Contains(r1.rast, r2.rast) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 1;
 rid | rid | st_contains
-----+-----+-------------
   1 |   1 | t
   1 |   2 | f
            </pre></div><div class="refsection" id="idm36485"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#RT_ST_Within" title="ST_Within">ST_Within</a> </p></div></div><div class="refentry" id="RT_ST_ContainsProperly"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ContainsProperly — Retourne true si rastB intersecte l'intérieur de rastA, mais pas la frontière ou l'extérieur de rastA. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_ContainsProperly</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_ContainsProperly</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36520"><h2>Description</h2><p>Le raster rastA contient proprement rastB si rastB intersecte l'intérieur de rastA mais pas la limite ou l'extérieur de rastA. Si le numéro de bande n'est pas spécifié (ou si NULL), seule l'enveloppe convexe du raster est prise en compte dans le test. Si le numéro de bande est spécifié, seuls les pixels ayant une valeur (différente de NODATA) sont pris en compte dans le test. </p><p>Le raster rastA ne contient pas proprement lui-même, mais il se contient lui-même. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction utilisera tous les index qui peuvent être disponibles sur les données raster. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour tester la relation spatiale entre un raster et une géométrie, utilisez ST_Polygon sur le raster, par exemple ST_ContainsProperly(ST_Polygon(raster), geometry) ou ST_ContainsProperly(geometry, ST_Polygon(raster)). </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm36529"><h2>Exemples</h2><pre class="programlisting">SELECT r1.rid, r2.rid, ST_ContainsProperly(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_containsproperly
-----+-----+---------------------
   2 |   1 | f
   2 |   2 | f
            </pre></div><div class="refsection" id="idm36532"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#RT_ST_Contains" title="ST_Contains">ST_Contains</a> </p></div></div><div class="refentry" id="RT_ST_Covers"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Covers — Retourne true si aucun point du raster rastB ne se trouve à l'extérieur du raster rastA. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Covers</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Covers</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36567"><h2>Description</h2><p>Le raster rastA recouvre le raster rastB si et seulement si aucun point du raster rastB ne se trouve à l'extérieur du raster rastA. Si le numéro de bande n'est pas spécifié (ou si NULL), seule l'enveloppe convexe du raster est prise en compte dans le test. Si le numéro de bande est spécifié, seuls les pixels ayant une valeur (différente de NODATA) sont pris en compte dans le test. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction utilisera tous les index qui peuvent être disponibles sur les données raster. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour tester la relation spatiale entre un raster et une géométrie, utilisez ST_Polygon sur le raster, par exemple ST_Covers(ST_Polygon(raster), geometry) ou ST_Covers(geometry, ST_Polygon(raster)). </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm36575"><h2>Exemples</h2><pre class="programlisting">SELECT r1.rid, r2.rid, ST_Covers(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_covers
-----+-----+-----------
   2 |   1 | f
   2 |   2 | t
            </pre></div><div class="refsection" id="idm36578"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#RT_ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a> </p></div></div><div class="refentry" id="RT_ST_CoveredBy"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CoveredBy — Retourne true si aucun point du raster rastA ne se trouve à l'extérieur du raster rastB. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_CoveredBy</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_CoveredBy</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36613"><h2>Description</h2><p>Le raster rastA est couvert par rastB si et seulement si aucun point de rastA ne se trouve à l'extérieur de rastB. Si le numéro de bande n'est pas spécifié (ou si NULL), seule l'enveloppe convexe du raster est prise en compte dans le test. Si le numéro de bande est spécifié, seuls les pixels ayant une valeur (différente de NODATA) sont pris en compte dans le test. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction utilisera tous les index qui peuvent être disponibles sur les données raster. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour tester la relation spatiale entre un raster et une géométrie, utilisez ST_Polygon sur le raster, par exemple ST_CoveredBy(ST_Polygon(raster), geometry) ou ST_CoveredBy(geometry, ST_Polygon(raster)). </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm36621"><h2>Exemples</h2><pre class="programlisting">SELECT r1.rid, r2.rid, ST_CoveredBy(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_coveredby
-----+-----+--------------
   2 |   1 | f
   2 |   2 | t
            </pre></div><div class="refsection" id="idm36624"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#RT_ST_Covers" title="ST_Covers">ST_Covers</a> </p></div></div><div class="refentry" id="RT_ST_Disjoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Disjoint — Retourne true si le raster rastA n'intersecte pas spatialement le rastB. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Disjoint</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Disjoint</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36659"><h2>Description</h2><p>Les rasters rastA et rastB sont disjoints s'ils ne partagent aucun espace. Si le numéro de bande n'est pas spécifié (ou si NULL), seule l'enveloppe convexe du raster est prise en compte dans le test. Si le numéro de bande est spécifié, seuls les pixels ayant une valeur (différente de NODATA) sont pris en compte dans le test. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction n'utilise PAS d'index. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour tester la relation spatiale entre un raster et une géométrie, utilisez ST_Polygon sur le raster, par exemple ST_Disjoint(ST_Polygon(raster), geometry). </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm36667"><h2>Exemples</h2><pre class="programlisting">-- rid = 1 has no bands, hence the NOTICE and the NULL value for st_disjoint
SELECT r1.rid, r2.rid, ST_Disjoint(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

NOTICE:  The second raster provided has no bands
 rid | rid | st_disjoint
-----+-----+-------------
   2 |   1 |
   2 |   2 | f
            </pre><pre class="programlisting">-- this time, without specifying band numbers
SELECT r1.rid, r2.rid, ST_Disjoint(r1.rast, r2.rast) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_disjoint
-----+-----+-------------
   2 |   1 | t
   2 |   2 | f
            </pre></div><div class="refsection" id="idm36671"><h2>Voir aussi</h2><p>
                <a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>
            </p></div></div><div class="refentry" id="RT_ST_Intersects"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Intersects — Retourne vrai si le raster rastA intersecte spatialement le raster rastB.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Intersects</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Intersects</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Intersects</strong>(</code> raster  <var class="pdparam">rast</var> ,  integer  <var class="pdparam">nband</var> ,  geometry  <var class="pdparam">geommin</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Intersects</strong>(</code> raster  <var class="pdparam">rast</var> ,  geometry  <var class="pdparam">geommin</var> ,  integer  <var class="pdparam">nband=NULL</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Intersects</strong>(</code> geometry  <var class="pdparam">geommin</var> ,  raster  <var class="pdparam">rast</var> ,  integer  <var class="pdparam">nband=NULL</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36741"><h2>Description</h2><p>Retourne vrai si le raster rastA intersecte spatialement le raster rastB. Si le numéro de bande n'est pas spécifié (ou si NULL), seule l'enveloppe convexe du raster est prise en compte dans le test. Si le numéro de bande est spécifié, seuls les pixels ayant une valeur (différente de NODATA) sont pris en compte dans le test. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction utilisera tous les index qui peuvent être disponibles sur les données raster. </p></td></tr></table></div><p>Amélioration : 2.0.0 ajout de l'intersection raster/raster. </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Changement : 2.1.0 Le fonctionnement des variantes ST_Intersects(raster, geometry) a changé pour correspondre au fonctionnement de ST_Intersects(geometry, raster). </p></td></tr></table></div></div><div class="refsection" id="idm36749"><h2>Exemples</h2><pre class="programlisting">-- different bands of same raster
SELECT ST_Intersects(rast, 2, rast, 3) FROM dummy_rast WHERE rid = 2;

 st_intersects
---------------
 t
            </pre></div><div class="refsection" id="idm36752"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Intersection" title="ST_Intersection">ST_Intersection</a>, <a class="xref" href="#RT_ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a> </p></div></div><div class="refentry" id="RT_ST_Overlaps"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Overlaps — Retourne true si les raster rastA et rastB intersectent mais que l'un ne contient pas complètement l'autre. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Overlaps</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Overlaps</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36787"><h2>Description</h2><p>Retourne true si le raster rastA recouvre spatialement le raster rastB. Cela signifie que rastA et rastB intersectent mais que l'un ne contient pas complètement l'autre. Si le numéro de bande n'est pas spécifié (ou si NULL), seule l'enveloppe convexe du raster est prise en compte dans le test. Si le numéro de bande est spécifié, seuls les pixels ayant une valeur (différente de NODATA) sont pris en compte dans le test. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction utilisera tous les index qui peuvent être disponibles sur les données raster. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour tester la relation spatiale entre un raster et une géométrie, utilisez ST_Polygon sur le raster, par exemple ST_Overlaps(ST_Polygon(raster), geometry). </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm36795"><h2>Exemples</h2><pre class="programlisting">-- comparing different bands of same raster
SELECT ST_Overlaps(rast, 1, rast, 2) FROM dummy_rast WHERE rid = 2;

 st_overlaps
-------------
 f
            </pre></div><div class="refsection" id="idm36798"><h2>Voir aussi</h2><p>
                <a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>
            </p></div></div><div class="refentry" id="RT_ST_Touches"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Touches — Retourne true si les raster rastA et rastB ont au moins un point en commun mais que leurs intérieurs n'intersectent pas. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Touches</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Touches</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36832"><h2>Description</h2><p>Retourne true si le raster rastA touche spatialement le raster rastB. Cela signifie que rastA et rastB ont au moins un point en commun mais que leurs intérieurs n’intersectent pas. Si le numéro de bande n'est pas spécifié (ou si NULL), seule l'enveloppe convexe du raster est prise en compte dans le test. Si le numéro de bande est spécifié, seuls les pixels ayant une valeur (différente de NODATA) sont pris en compte dans le test. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction utilisera tous les index qui peuvent être disponibles sur les données raster. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour tester la relation spatiale entre un raster et une géométrie, utilisez ST_Polygon sur le raster, par exemple ST_Touches(ST_Polygon(raster), geometry). </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm36840"><h2>Exemples</h2><pre class="programlisting">SELECT r1.rid, r2.rid, ST_Touches(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_touches
-----+-----+------------
   2 |   1 | f
   2 |   2 | f
            </pre></div><div class="refsection" id="idm36843"><h2>Voir aussi</h2><p>
                <a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>
            </p></div></div><div class="refentry" id="RT_ST_SameAlignment"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SameAlignment — Retourne true si les rasters ont les mêmes skew, scale, spatial ref, et offset (les pixels peuvent être placés sur la même grille sans être coupés) et false si ce n'est pas le cas, avec une NOTICE détaillant le problème.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_SameAlignment</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_SameAlignment</strong>(</code> double precision  <var class="pdparam">ulx1</var> ,  double precision  <var class="pdparam">uly1</var> ,  double precision  <var class="pdparam">scalex1</var> ,  double precision  <var class="pdparam">scaley1</var> ,  double precision  <var class="pdparam">skewx1</var> ,  double precision  <var class="pdparam">skewy1</var> ,  double precision  <var class="pdparam">ulx2</var> ,  double precision  <var class="pdparam">uly2</var> ,  double precision  <var class="pdparam">scalex2</var> ,  double precision  <var class="pdparam">scaley2</var> ,  double precision  <var class="pdparam">skewx2</var> ,  double precision  <var class="pdparam">skewy2</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_SameAlignment</strong>(</code> raster set  <var class="pdparam">rastfield</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36907"><h2>Description</h2><p>Version non agrégée (variantes 1 et 2) : Retourne true si les deux rasters (fournis directement ou créés en utilisant les valeurs pour upperleft, scale, skew et srid) ont la même échelle, le même skew, le même srid et si au moins un des quatre coins de n'importe quel pixel d'un raster tombe sur n'importe quel coin de la grille de l'autre raster. Retourne false si ce n'est pas le cas et un NOTICE détaillant le problème d'alignement. </p><p>Version agrégée (variante 3) : A partir d'un ensemble de rasters, retourne vrai si tous les rasters de l'ensemble sont alignés. La fonction ST_SameAlignment() est une fonction "agrégée" dans la terminologie de PostgreSQL. Cela signifie qu'elle opère sur des lignes de données, de la même manière que les fonctions SUM() et AVG(). </p><p class="availability">Disponibilité : 2.0.0</p><p class="enhanced">Amélioration : 2.1.0 ajout de la variante agrégée</p></div><div class="refsection" id="idm36913"><h2>Exemples : Rasters</h2><pre class="programlisting">SELECT ST_SameAlignment(
    ST_MakeEmptyRaster(1, 1, 0, 0, 1, 1, 0, 0),
    ST_MakeEmptyRaster(1, 1, 0, 0, 1, 1, 0, 0)
) as sm;

sm
----
t
</pre><pre class="programlisting">SELECT ST_SameAlignment(A.rast,b.rast)
 FROM dummy_rast AS A CROSS JOIN dummy_rast AS B;

 NOTICE:  The two rasters provided have different SRIDs
NOTICE:  The two rasters provided have different SRIDs
 st_samealignment
------------------
 t
 f
 f
 f
</pre></div><div class="refsection" id="idm36917"><h2>Voir aussi</h2><p><a class="xref" href="#RT_Loading_Rasters" title="10.1. Chargement et création de rasters">Section 10.1, “Chargement et création de rasters”</a>, <a class="xref" href="#RT_ST_NotSameAlignmentReason" title="ST_NotSameAlignmentReason">ST_NotSameAlignmentReason</a>, <a class="xref" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a> </p></div></div><div class="refentry" id="RT_ST_NotSameAlignmentReason"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NotSameAlignmentReason — Retourne un texte indiquant si les rasters sont alignés et, s'ils ne le sont pas, la raison du problème.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_NotSameAlignmentReason</strong>(</code>raster <var class="pdparam">rastA</var>, raster <var class="pdparam">rastB</var><code>)</code>;</p></div></div><div class="refsection" id="idm36938"><h2>Description</h2><p>Retourne un texte indiquant si les rasters sont alignés et, s'ils ne le sont pas, la raison du problème.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>S'il y a plusieurs raisons pour lesquelles les rasters ne sont pas alignés, une seule raison (le premier test qui a échoué) sera retournée. </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm36944"><h2>Exemples</h2><pre class="programlisting">SELECT
    ST_SameAlignment(
        ST_MakeEmptyRaster(1, 1, 0, 0, 1, 1, 0, 0),
        ST_MakeEmptyRaster(1, 1, 0, 0, 1.1, 1.1, 0, 0)
    ),
    ST_NotSameAlignmentReason(
        ST_MakeEmptyRaster(1, 1, 0, 0, 1, 1, 0, 0),
        ST_MakeEmptyRaster(1, 1, 0, 0, 1.1, 1.1, 0, 0)
    )
;

 st_samealignment |            st_notsamealignmentreason
------------------+-------------------------------------------------
 f                | The rasters have different scales on the X axis
(1 row)
                </pre></div><div class="refsection" id="idm36947"><h2>Voir aussi</h2><p><a class="xref" href="#RT_Loading_Rasters" title="10.1. Chargement et création de rasters">Section 10.1, “Chargement et création de rasters”</a>, <a class="xref" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a> </p></div></div><div class="refentry" id="RT_ST_Within"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Within — Retourne true si aucun point du raster rastA ne se trouve à l'extérieur du raster rastB et si au moins un point de l'intérieur du raster rastA se trouve à l'intérieur du raster rastB. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Within</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Within</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36982"><h2>Description</h2><p>Le raster rastA est compris dans rastB si et seulement si aucun point de rastA ne se trouve à l'extérieur de rastB et si au moins un point de l'intérieur de rastA se trouve à l'intérieur de rastB. Si le numéro de bande n'est pas spécifié (ou si NULL), seule l'enveloppe convexe du raster est prise en compte dans le test. Si le numéro de bande est spécifié, seuls les pixels ayant une valeur (différente de NODATA) sont pris en compte dans le test. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande utilisera tous les index qui peuvent être disponibles sur les données raster. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour tester la relation spatiale entre un raster et une géométrie, utilisez ST_Polygon sur le raster, par exemple ST_Within(ST_Polygon(raster), geometry) ou ST_Within(geometry, ST_Polygon(raster)). </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_Within() est l'inverse de ST_Contains(). Ainsi, ST_Within(rastA, rastB) implique ST_Contains(rastB, rastA). </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm36992"><h2>Exemples</h2><pre class="programlisting">SELECT r1.rid, r2.rid, ST_Within(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_within
-----+-----+-----------
   2 |   1 | f
   2 |   2 | t
            </pre></div><div class="refsection" id="idm36995"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#RT_ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#RT_ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#RT_ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a> </p></div></div><div class="refentry" id="RT_ST_DWithin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DWithin — Retourne true si les rasters rastA et rastB se trouvent à une distance donnée l'un de l'autre. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_DWithin</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> ,  double precision  <var class="pdparam">distance_of_srid</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_DWithin</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> ,  double precision  <var class="pdparam">distance_of_srid</var> <code>)</code>;</p></div></div><div class="refsection" id="idm37038"><h2>Description</h2><p>Retourne true si les rasters rastA et rastB sont à la distance spécifiée l'un de l'autre. Si le numéro de bande n'est pas spécifié (ou si NULL), seule l'enveloppe convexe du raster est prise en compte dans le test. Si le numéro de bande est spécifié, seuls les pixels ayant une valeur (différente de NODATA) sont pris en compte dans le test. </p><p>La distance est spécifiée en unités définies par le système de référence spatiale des rasters. Pour que cette fonction ait un sens, les rasters sources doivent avoir la même projection de coordonnées et le même SRID. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande utilisera tous les index qui peuvent être disponibles sur les données raster. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour tester la relation spatiale entre un raster et une géométrie, utilisez ST_Polygon sur le raster, par exemple ST_DWithin(ST_Polygon(raster), geometry). </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm37047"><h2>Exemples</h2><pre class="programlisting">SELECT r1.rid, r2.rid, ST_DWithin(r1.rast, 1, r2.rast, 1, 3.14) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_dwithin
-----+-----+------------
   2 |   1 | f
   2 |   2 | t
            </pre></div><div class="refsection" id="idm37050"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Within" title="ST_Within">ST_Within</a>, <a class="xref" href="#RT_ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a> </p></div></div><div class="refentry" id="RT_ST_DFullyWithin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DFullyWithin — Retourne true si les rasters rastA et rastB se trouvent entièrement à une distance donnée l'un de l'autre. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_DFullyWithin</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> ,  double precision  <var class="pdparam">distance_of_srid</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_DFullyWithin</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> ,  double precision  <var class="pdparam">distance_of_srid</var> <code>)</code>;</p></div></div><div class="refsection" id="idm37091"><h2>Description</h2><p>Retourne true si les rasters rastA et rastB sont entièrement à une distance donnée l'un de l'autre. Si le numéro de bande n'est pas spécifié (ou si NULL), seule l'enveloppe convexe du raster est prise en compte dans le test. Si le numéro de bande est spécifié, seuls les pixels ayant une valeur (différente de NODATA) sont pris en compte dans le test. </p><p>La distance est spécifiée en unités définies par le système de référence spatiale des rasters. Pour que cette fonction ait un sens, les rasters sources doivent avoir la même projection de coordonnées et le même SRID. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cet opérande utilisera tous les index qui peuvent être disponibles sur les données raster. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pour tester la relation spatiale entre un raster et une géométrie, utilisez ST_Polygon sur le raster, par exemple ST_DFullyWithin(ST_Polygon(raster), geometry). </p></td></tr></table></div><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm37100"><h2>Exemples</h2><pre class="programlisting">SELECT r1.rid, r2.rid, ST_DFullyWithin(r1.rast, 1, r2.rast, 1, 3.14) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_dfullywithin
-----+-----+-----------------
   2 |   1 | f
   2 |   2 | t
            </pre></div><div class="refsection" id="idm37103"><h2>Voir aussi</h2><p><a class="xref" href="#RT_ST_Within" title="ST_Within">ST_Within</a>, <a class="xref" href="#RT_ST_DWithin" title="ST_DWithin">ST_DWithin</a> </p></div></div></section><section class="section" id="Raster_Tips"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.18. Astuces raster</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section présente divers pièges et astuces liés à PostGIS raster.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#outdb">11.18.1. Rasters out-DB</a></span></li></ul></div><section class="section" id="outdb"><div class="titlepage"><div><div><h3 class="title">11.18.1. Rasters out-DB</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#gdal_readdir">11.18.1.1. Répertoire contenant de nombreux fichiers</a></span></li><li><span class="section"><a href="#max_open_files">11.18.1.2. Nombre maximum de fichiers ouverts</a></span></li></ul></div><section class="section" id="gdal_readdir"><div class="titlepage"><div><div><h4 class="title">11.18.1.1. Répertoire contenant de nombreux fichiers</h4></div></div></div><p>Lorsque GDAL ouvre un fichier, il parcourt l'entièreté du répertoire du fichier pour construire un catalogue d'autres fichiers. Si ce répertoire contient de nombreux fichiers (par exemple des milliers, des millions), l'ouverture de ce fichier devient extrêmement lente (en particulier si ce fichier se trouve sur un lecteur réseau tel que NFS). </p><p>Pour contrôler ce comportement, GDAL fournit la variable d'environnement suivante : <a class="link" href="https://trac.osgeo.org/gdal/wiki/ConfigOptions#GDAL_DISABLE_READDIR_ON_OPEN" target="_top">GDAL_DISABLE_READDIR_ON_OPEN</a>. Définissez <code class="varname">GDAL_DISABLE_READDIR_ON_OPEN</code> à <code class="varname">TRUE</code> pour désactiver l'analyse des répertoires. </p><p>Sous Ubuntu (et en supposant que vous utilisez les paquets PostgreSQL pour Ubuntu), <code class="varname">GDAL_DISABLE_READDIR_ON_OPEN</code> peut être défini dans <span class="emphasis"><em>/etc/postgresql/POSTGRESQL_VERSION/CLUSTER_NAME/environment</em></span> (où POSTGRESQL_VERSION est la version de PostgreSQL, par ex.9.6 et CLUSTER_NAME est le nom du cluster, par exemple maindb). Vous pouvez également définir les variables d'environnement PostGIS ici. </p><pre class="programlisting"># environment variables for postmaster process
# This file has the same syntax as postgresql.conf:
#  VARIABLE = simple_value
#  VARIABLE2 = 'any value!'
# I. e. you need to enclose any value which does not only consist of letters,
# numbers, and '-', '_', '.' in single quotes. Shell commands are not
# evaluated.
POSTGIS_GDAL_ENABLED_DRIVERS = 'ENABLE_ALL'

POSTGIS_ENABLE_OUTDB_RASTERS = 1

<span class="strong"><strong>GDAL_DISABLE_READDIR_ON_OPEN = 'TRUE'</strong></span>
                    </pre><p>
                </p></section><section class="section" id="max_open_files"><div class="titlepage"><div><div><h4 class="title">11.18.1.2. Nombre maximum de fichiers ouverts</h4></div></div></div><p>Le nombre maximum de fichiers ouverts autorisé par Linux et PostgreSQL est généralement prudent (typiquement 1024 fichiers ouverts par processus), étant donné l'hypothèse que le système est utilisé par des utilisateurs humains. Pour les rasters Out-DB, une seule requête valide peut facilement dépasser cette limite (par exemple, un jeu de données de 10 ans avec un raster pour chaque jour contenant les températures minimales et maximales et nous voulons connaître les valeurs min et max absolues pour un pixel dans ce jeu de données). </p><p>Le changement le plus simple à effectuer est le paramètre suivant de PostgreSQL : <a class="link" href="https://www.postgresql.org/docs/current/static/runtime-config-resource.html#GUC-MAX-FILES-PER-PROCESS" target="_top">max_files_per_process</a>. La valeur par défaut est de 1000, ce qui est beaucoup trop faible pour les données raster Out-DB. Une valeur de départ sûre pourrait être 65536, mais cela dépend vraiment de vos ensembles de données et des requêtes exécutées sur ces ensembles de données. Ce paramètre ne peut être défini qu'au démarrage du serveur et probablement uniquement dans le fichier de configuration de PostgreSQL (par exemple <span class="emphasis"><em>/etc/postgresql/POSTGRESQL_VERSION/CLUSTER_NAME/postgresql.conf</em></span> dans les environnements Ubuntu). </p><pre class="programlisting">...
# - Kernel Resource Usage -

<span class="strong"><strong>max_files_per_process = 65536</strong></span>           # min 25
                                        # (change requires restart)
...
                    </pre><p>
                </p><p>La principale modification à apporter concerne les limites des fichiers ouverts du noyau Linux. Il y a deux parties à cela : </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Nombre maximal de fichiers ouverts pour l'ensemble du système</p></li><li class="listitem"><p>Nombre maximal de fichiers ouverts par processus</p></li></ul></div><p>
                </p><section class="section" id="max_open_files_per_system"><div class="titlepage"><div><div><h5 class="title">11.18.1.2.1. Nombre maximal de fichiers ouverts pour l'ensemble du système</h5></div></div></div><p>L'exemple suivant vous permet de connaître le nombre maximum de fichiers ouverts sur l'ensemble du système : </p><pre class="programlisting">$ sysctl -a | grep fs.file-max
fs.file-max = 131072
                    </pre><p>Si la valeur retournée n'est pas assez importante, ajoutez un fichier dans <span class="emphasis"><em>/etc/sysctl.d/</em></span> comme dans l'exemple suivant : </p><pre class="programlisting">$ echo "fs.file-max = 6145324" &gt;&gt; /etc/sysctl.d/fs.conf

$ cat /etc/sysctl.d/fs.conf
fs.file-max = 6145324

$ sysctl -p --system
* Applying /etc/sysctl.d/fs.conf ...
fs.file-max = 2097152
* Applying /etc/sysctl.conf ...

$ sysctl -a | grep fs.file-max
fs.file-max = 6145324
                    </pre></section><section class="section" id="max_open_files_per_process"><div class="titlepage"><div><div><h5 class="title">11.18.1.2.2. Nombre maximal de fichiers ouverts par processus</h5></div></div></div><p>Nous devons augmenter le nombre maximum de fichiers ouverts par processus pour les processus du serveur PostgreSQL. </p><p>Pour connaître le nombre maximal de fichiers ouverts utilisé par les processus de service PostgreSQL, suivez l'exemple suivant (assurez-vous que PostgreSQL est en cours d'exécution) : </p><pre class="programlisting">$ ps aux | grep postgres
postgres 31713  0.0  0.4 179012 17564 pts/0    S    Dec26   0:03 /home/dustymugs/devel/postgresql/sandbox/10/usr/local/bin/postgres -D /home/dustymugs/devel/postgresql/sandbox/10/pgdata
postgres 31716  0.0  0.8 179776 33632 ?        Ss   Dec26   0:01 postgres: checkpointer process
postgres 31717  0.0  0.2 179144  9416 ?        Ss   Dec26   0:05 postgres: writer process
postgres 31718  0.0  0.2 179012  8708 ?        Ss   Dec26   0:06 postgres: wal writer process
postgres 31719  0.0  0.1 179568  7252 ?        Ss   Dec26   0:03 postgres: autovacuum launcher process
postgres 31720  0.0  0.1  34228  4124 ?        Ss   Dec26   0:09 postgres: stats collector process
postgres 31721  0.0  0.1 179308  6052 ?        Ss   Dec26   0:00 postgres: bgworker: logical replication launcher

$ cat /proc/31718/limits
Limit                     Soft Limit           Hard Limit           Units
Max cpu time              unlimited            unlimited            seconds
Max file size             unlimited            unlimited            bytes
Max data size             unlimited            unlimited            bytes
Max stack size            8388608              unlimited            bytes
Max core file size        0                    unlimited            bytes
Max resident set          unlimited            unlimited            bytes
Max processes             15738                15738                processes
<span class="strong"><strong>Max open files            1024                 4096                 files</strong></span>
Max locked memory         65536                65536                bytes
Max address space         unlimited            unlimited            bytes
Max file locks            unlimited            unlimited            locks
Max pending signals       15738                15738                signals
Max msgqueue size         819200               819200               bytes
Max nice priority         0                    0
Max realtime priority     0                    0
Max realtime timeout      unlimited            unlimited            us
                    </pre><p>Dans l'exemple ci-dessus, nous avons inspecté la limite des fichiers ouverts pour le processus 31718. Peu importe le processus PostgreSQL, n'importe lequel fera l'affaire. La réponse qui nous intéresse est <span class="emphasis"><em>Max open files</em></span>. </p><p>Nous voulons augmenter <span class="emphasis"><em>Soft Limit</em></span> et <span class="emphasis"><em>Hard Limit</em></span> de <span class="emphasis"><em>Max open files</em></span> pour qu'il soit supérieur à la valeur que nous avons spécifiée pour le paramètre PostgreSQL <code class="varname">max_files_per_process</code>. Dans notre exemple, nous avons fixé <code class="varname">max_files_per_process</code> à 65536. </p><p>Sous Ubuntu (et en supposant que vous utilisez les paquets PostgreSQL pour Ubuntu), la façon la plus simple de changer les paramètres <span class="emphasis"><em>Soft Limit</em></span> et <span class="emphasis"><em>Hard Limit</em></span> est d'éditer <span class="strong"><strong>/etc/init.d/postgresql</strong></span> (SysV) ou <span class="strong"><strong>/lib/systemd/system/postgresql*.service</strong></span> (systemd). </p><p>Commençons par le cas de SysV Ubuntu où nous ajoutons <span class="strong"><strong>ulimit -H -n 262144</strong></span> et <span class="strong"><strong>ulimit -n 131072</strong></span> à <span class="strong"><strong>/etc/init.d/postgresql</strong></span>. </p><pre class="programlisting">...
case "$1" in
    start|stop|restart|reload)
        if [ "$1" = "start" ]; then
            create_socket_directory
        fi
    if [ -z "`pg_lsclusters -h`" ]; then
        log_warning_msg 'No PostgreSQL clusters exist; see "man pg_createcluster"'
        exit 0
    fi
<span class="strong"><strong>
    ulimit -H -n 262144
    ulimit -n 131072
</strong></span>
    for v in $versions; do
        $1 $v || EXIT=$?
    done
    exit ${EXIT:-0}
        ;;
    status)
...
</pre><p>Passons maintenant au cas de systemd Ubuntu. Nous ajouterons <span class="strong"><strong>LimitNOFILE=131072</strong></span> à chaque fichier <span class="strong"><strong>/lib/systemd/system/postgresql*.service</strong></span> dans la section <span class="strong"><strong>[Service]</strong></span>. </p><pre class="programlisting">...
[Service]
<span class="strong"><strong>
LimitNOFILE=131072
</strong></span>
...

[Install]
WantedBy=multi-user.target
...
</pre><p>Après avoir effectué les changements nécessaires à systemd, assurez-vous de recharger le démon </p><pre class="programlisting">systemctl daemon-reload
</pre></section></section></section></section></section><section class="chapter" id="Extras"><div class="titlepage"><div><div><h1 class="title">Chapter 12. PostGIS Extras</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#Address_Standardizer">12.1. Address Standardizer</a></span></li><li><span class="section"><a href="#Tiger_Geocoder">12.2. Géocodeur Tiger</a></span></li></ul></div><p>Ce chapitre documente les fonctionnalités trouvées dans le dossier extras des fichiers tarballs et du dépôt de sources de PostGIS. Celles-ci ne sont pas toujours packagées avec les versions binaires de PostGIS, mais sont généralement basées sur PL/pgSQL ou des scripts shell standard qui peuvent être exécutés tels quels.</p><section class="section" id="Address_Standardizer"><div class="titlepage"><div><div><h2 class="title" style="clear: both">12.1. Address Standardizer</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#Address_Standardizer_Basics">12.1.1. Fonctionnement de l'analyseur</a></span></li><li><span class="section"><a href="#Address_Standardizer_Types">12.1.2. Types de normalisateurs d'adresses</a></span></li><li><span class="section"><a href="#Address_Standardizer_Tables">12.1.3. Tables Address Standardizer</a></span></li><li><span class="section"><a href="#Address_Standardizer_Functions">12.1.4. Fonctions Address Standardizer</a></span></li></ul></div><p>Il s'agit d'un fork du <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-11.html" target="_top">PAGC standardizer</a> (le code original de cette partie était <a class="link" href="http://sourceforge.net/p/pagc/code/360/tree/branches/sew-refactor/postgresql" target="_top">PAGC PostgreSQL Address Standardizer</a>). </p><p>Address standardizer est un analyseur d'adresses qui prend une adresse en entrée et la normalise sur la base d'un ensemble de règles stockées dans une table et des tables d'aide lex et gaz.</p><p>Le code est intégré dans une seule bibliothèque d'extension PostgreSQL appelée <code class="code">address_standardizer</code> qui peut être installée avec <code class="code">CREATE EXTENSION address_standardizer;</code>. En plus de l'extension address_standardizer, une extension de données d'exemple appelée <code class="code">address_standardizer_data_us</code> extensions est construite, qui contient des tables de gaz, de lex et de règles pour les données américaines. Cette extension peut être installée via : <code class="code">CREATE EXTENSION address_standardizer_data_us;</code></p><p>Le code de cette extension se trouve dans le <code class="filename">extensions/address_standardizer</code> de PostGIS et est actuellement indépendant.</p><p>Pour les instructions d'installation, voir : <a class="xref" href="#installing_pagc_address_standardizer" title="2.3. Installation et utilisation de l'extension address standardize">Section 2.3, “Installation et utilisation de l'extension address standardize”</a>.</p><section class="section" id="Address_Standardizer_Basics"><div class="titlepage"><div><div><h3 class="title">12.1.1. Fonctionnement de l'analyseur</h3></div></div></div><p>L'analyseur fonctionne de droite à gauche en examinant d'abord les macroéléments (code postal, état/province, ville), puis les microéléments afin de déterminer s'il s'agit d'un numéro de maison, d'une rue, d'une intersection ou d'un point de repère. Pour l'instant, il ne recherche pas le code ou le nom du pays, mais cela pourrait être introduit à l'avenir.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Code pays</span></dt><dd><p>On suppose qu'il s'agit des États-Unis ou du Canada sur la base des éléments suivants : code postal (États-Unis ou Canada), état/province (États-Unis ou Canada), autre (États-Unis)</p></dd><dt><span class="term">Code postal</span></dt><dd><p>Ils sont reconnus à l'aide d'expressions régulières compatibles avec Perl. Ces expressions régulières se trouvent actuellement dans le fichier parseaddress-api.c et sont relativement simples à modifier si nécessaire.</p></dd><dt><span class="term">État/province</span></dt><dd><p>Ils sont reconnus à l'aide d'expressions régulières compatibles avec Perl. Ces expressions régulières sont actuellement dans le fichier parseaddress-api.c mais pourraient être déplacées dans includes dans le futur pour faciliter la maintenance.</p></dd></dl></div></section><section class="section" id="Address_Standardizer_Types"><div class="titlepage"><div><div><h3 class="title">12.1.2. Types de normalisateurs d'adresses</h3></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section liste les types de données PostgreSQL installés par l'extension Address Standardizer. Notez que nous décrivons le comportement de casting (transformation du type) de ces types de données, ce qui est très important, en particulier lors de la conception de vos propres fonctions. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#stdaddr">stdaddr</a></span><span class="refpurpose"> — Type composite composé des éléments d'une adresse. Il s'agit du type de retour de la fonction <code class="varname">standardize_address</code>.</span></li></ul></div><div class="refentry" id="stdaddr"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>stdaddr — Type composite composé des éléments d'une adresse. Il s'agit du type de retour de la fonction <code class="varname">standardize_address</code>.</p></div><div class="refsection" id="idm37225"><h2>Description</h2><p>Type composite composé d'éléments d'une adresse. Il s'agit du type de retour pour la fonction <a class="xref" href="#standardize_address" title="standardize_address">standardize_address</a>. Certaines descriptions d'éléments sont empruntées à <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#ss12.1" target="_top">PAGC Postal Attributes</a>.</p><p>Les numéros de jetons indiquent le numéro de référence de la sortie dans le <a class="xref" href="#rulestab" title="rules table">rules table</a>.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite l'extension address_standardizer. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">building</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">0</code>) : Fait référence au numéro ou au nom du bâtiment. Identifiants et types de bâtiments non analysés. Généralement vide pour la plupart des adresses.</p></dd><dt><span class="term"><code class="varname">house_num</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">1</code>) : Il s'agit du numéro d'une rue. Exemple <span class="emphasis"><em>75</em></span> dans <code class="code">75 State Street</code>.</p></dd><dt><span class="term"><code class="varname">predir</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">2</code>) : NOM DE RUE PRÉDIRECTIONNEL tel que Nord, Sud, Est, Ouest, etc.</p></dd><dt><span class="term"><code class="varname">qual</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">3</code>) : NOM DE RUE PRE-MODIFIER Exemple <span class="emphasis"><em>OLD</em></span> dans <code class="code">3715 OLD HIGHWAY 99</code>.</p></dd><dt><span class="term"><code class="varname">pretype</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">4</code>) : TYPE DE PRÉFIXE DE RUE</p></dd><dt><span class="term"><code class="varname">name</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">5</code>) : NOM DE RUE</p></dd><dt><span class="term"><code class="varname">suftype</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">6</code>) : STREET POST TYPE e.g. St, Ave, Cir. Un type de rue suivant le nom de la rue racine. Exemple <span class="emphasis"><em>STREET</em></span> dans <code class="code">75 State Street</code>.</p></dd><dt><span class="term"><code class="varname">sufdir</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">7</code>) : STREET POST-DIRECTIONAL Un modificateur directionnel qui suit le nom de la rue. Exemple <span class="emphasis"><em>WEST</em></span> dans <code class="code">3715 TENTH AVENUE WEST</code>.</p></dd><dt><span class="term"><code class="varname">ruralroute</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">8</code>) : RURAL ROUTE . Exemple <span class="emphasis"><em>7</em></span> dans <code class="code">RR 7</code>.</p></dd><dt><span class="term"><code class="varname">extra</code></span></dt><dd><p>est un texte : Informations supplémentaires telles que le numéro d'étage.</p></dd><dt><span class="term"><code class="varname">city</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">10</code>) : Exemple Boston.</p></dd><dt><span class="term"><code class="varname">state</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">11</code>) : Exemple <code class="code">MASSACHUSETTS</code></p></dd><dt><span class="term"><code class="varname">country</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">12</code>) : Exemple <code class="code">USA</code></p></dd><dt><span class="term"><code class="varname">postcode</code></span></dt><dd><p>est le texte POSTAL CODE (ZIP CODE) (numéro de jeton <code class="code">13</code>) : Exemple <code class="code">02109</code></p></dd><dt><span class="term"><code class="varname">box</code></span></dt><dd><p>est le texte POSTAL BOX NUMBER (numéro de jeton <code class="code">14 et 15</code>) : Exemple <code class="code">02109</code></p></dd><dt><span class="term"><code class="varname">unit</code></span></dt><dd><p>est le texte Numéro d'appartement ou numéro de suite (numéro de jeton <code class="code">17</code>) : Exemple <span class="emphasis"><em>3B</em></span> dans <code class="code">APT 3B</code>.</p></dd></dl></div></div></div></section><section class="section" id="Address_Standardizer_Tables"><div class="titlepage"><div><div><h3 class="title">12.1.3. Tables Address Standardizer</h3></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Cette section liste les formats de tables PostgreSQL utilisés par address_standardizer pour la normalisation des adresses. Notez que ces tables n'ont pas besoin d'être nommées de la même manière que ce qui est référencé ici. Vous pouvez avoir des tables lex, gaz, rules différentes pour chaque pays par exemple ou pour votre géocodeur personnalisé. Les noms de ces tables sont transmis aux fonctions de normalisation des adresses. </p><p>L'extension packagée <code class="varname">address_standardizer_data_us</code> contient des données pour la normalisation des adresses américaines.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#rulestab">rules table</a></span><span class="refpurpose"> — La table rules contient un ensemble de règles qui établit une correspondance entre les jetons de la séquence d'entrée de l'adresse et la séquence de sortie normalisée. Une règle est définie comme un ensemble de jetons d'entrée suivi de -1 (terminateur) suivi d'un ensemble de jetons de sortie suivi de -1 suivi d'un nombre indiquant le type de règle suivi du classement de la règle.</span></li><li><span class="refentrytitle"><a href="#lextab">lex table</a></span><span class="refpurpose"> — La table lex est utilisée pour classer les entrées alphanumériques et les associer (a) à des jetons d'entrée (voir the section called “Jetons d'entrée”) et (b) à des représentations normalisées.</span></li><li><span class="refentrytitle"><a href="#gaztab">gaz table</a></span><span class="refpurpose"> — La table gaz est utilisée pour normaliser les noms de lieux et associer cette entrée avec (a) des tokens d'entrée ( Voir the section called “Jetons d'entrée”) et (b) des représentations normalisées.</span></li></ul></div><div class="refentry" id="rulestab"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>rules table — La table rules contient un ensemble de règles qui établit une correspondance entre les jetons de la séquence d'entrée de l'adresse et la séquence de sortie normalisée. Une règle est définie comme un ensemble de jetons d'entrée suivi de -1 (terminateur) suivi d'un ensemble de jetons de sortie suivi de -1 suivi d'un nombre indiquant le type de règle suivi du classement de la règle.</p></div><div class="refsection" id="idm37359"><h2>Description</h2><p>La table rules doit comporter au moins les colonnes suivantes, mais vous pouvez en ajouter d'autres pour vos propres besoins. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">id</code></span></dt><dd><p>Clé primaire de la table</p></dd><dt><span class="term"><code class="varname">rule</code></span></dt><dd><p>champ de texte indiquant la règle. Pour plus de détails, voir <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#--r-rec--" target="_top">PAGC Address Standardizer Rule records</a>.</p><p>Une règle se compose d'un ensemble d'entiers non négatifs représentant les jetons d'entrée, terminés par un -1, suivis d'un nombre égal d'entiers non négatifs représentant les attributs postaux, terminés par un -1, suivis d'un entier représentant un type de règle, suivi d'un entier représentant le rang de la règle. Les règles sont classées de 0 (la plus basse) à 17 (la plus haute).</p><p>Ainsi, par exemple, la règle <code class="code">2 0 2 22 3 -1 5 5 6 7 3 -1 2 6</code> associe la séquence de jetons de sortie <span class="emphasis"><em>TYPE NUMBER TYPE DIRECT QUALIF</em></span> à la séquence de sortie <span class="emphasis"><em>STREET STREET SUFTYP SUFDIR QUALIF</em></span>. La règle est une règle ARC_C de rang 6. </p><p>Les numéros des jetons de sortie correspondants sont énumérés dans <a class="xref" href="#stdaddr" title="stdaddr">stdaddr</a>.</p></dd></dl></div></div><div class="refsection" id="rule_input_tokens"><h2>Jetons d'entrée</h2><p>Chaque règle commence par un ensemble de jetons d'entrée suivi d'un terminateur <code class="code">-1</code>. Les jetons d'entrée valides extraits de <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#ss12.2" target="_top">Tokens d'entrée du PAGC</a> sont les suivants :</p><p><span class="bold"><strong>Jetons de saisie basés sur la forme</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">AMPERS</code></span></dt><dd><p>(13). L'esperluette (&amp;) est fréquemment utilisée pour abréger le mot "et".</p></dd><dt><span class="term"><code class="varname">DASH</code></span></dt><dd><p>(9). Un caractère de ponctuation.</p></dd><dt><span class="term"><code class="varname">DOUBLE</code></span></dt><dd><p>(21). Séquence de deux lettres. Souvent utilisé comme identifiant.</p></dd><dt><span class="term"><code class="varname">FRACT</code></span></dt><dd><p>(25). Les fractions sont parfois utilisées dans les nombres civiques ou les nombres unitaires.</p></dd><dt><span class="term"><code class="varname">MIXED</code></span></dt><dd><p>(23). Chaîne alphanumérique contenant à la fois des lettres et des chiffres. Utilisée pour les identifiants.</p></dd><dt><span class="term"><code class="varname">NUMBER</code></span></dt><dd><p>(0). Une chaîne de chiffres.</p></dd><dt><span class="term"><code class="varname">ORD</code></span></dt><dd><p>(15). Représentations telles que First or 1st. Souvent utilisé dans les noms de rue.</p></dd><dt><span class="term"><code class="varname">ORD</code></span></dt><dd><p>(18). Une seule lettre.</p></dd><dt><span class="term"><code class="varname">WORD</code></span></dt><dd><p>(1). Un mot est une chaîne de lettres de longueur arbitraire. Une même lettre peut être à la fois SINGLE et WORD.</p></dd></dl></div><p><span class="bold"><strong>Jetons d'entrée basés sur des fonctions</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">BOXH</code></span></dt><dd><p>(14). Mots utilisés pour désigner les boîtes postales. Par exemple <span class="emphasis"><em>Box</em></span> ou <span class="emphasis"><em>PO Box</em></span>.</p></dd><dt><span class="term"><code class="varname">BUILDH</code></span></dt><dd><p>(19). Mots utilisés pour désigner des bâtiments ou des ensembles de bâtiments, généralement sous forme de préfixe. Par exemple : <span class="emphasis"><em>Tower</em></span> dans <span class="emphasis"><em>Tower 7A</em></span>.</p></dd><dt><span class="term"><code class="varname">BUILDT</code></span></dt><dd><p>(24). Mots et abréviations utilisés pour désigner des bâtiments ou des ensembles de bâtiments, généralement sous forme de suffixe. Par exemple : <span class="emphasis"><em>Shopping Centre</em></span>.</p></dd><dt><span class="term"><code class="varname">DIRECT</code></span></dt><dd><p>(22). Mots utilisés pour indiquer des directions, par exemple <span class="emphasis"><em>Nord</em></span>.</p></dd><dt><span class="term"><code class="varname">MILE</code></span></dt><dd><p>(20). Mots utilisés pour indiquer les adresses des points kilométriques.</p></dd><dt><span class="term"><code class="varname">ROAD</code></span></dt><dd><p>(6). Mots et abréviations utilisés pour désigner les autoroutes et les routes. Par exemple : l'<span class="emphasis"><em>Interstate</em></span> dans <span class="emphasis"><em>Interstate 5</em></span></p></dd><dt><span class="term"><code class="varname">RR</code></span></dt><dd><p>(8). Mots et abréviations utilisés pour désigner les routes rurales. <span class="emphasis"><em>RR</em></span>.</p></dd><dt><span class="term"><code class="varname">TYPE</code></span></dt><dd><p>(2). Mots et abréviations utilisés pour désigner les types de rues. Par exemple : <span class="emphasis"><em>ST</em></span> ou <span class="emphasis"><em>AVE</em></span>.</p></dd><dt><span class="term"><code class="varname">UNITH</code></span></dt><dd><p>(16). Mots et abréviations utilisés pour désigner les sous-adresses internes. Par exemple, <span class="emphasis"><em>APT</em></span> ou <span class="emphasis"><em>UNIT</em></span>.</p></dd></dl></div><p><span class="bold"><strong>Type de poste Jetons d'entrée</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">QUINT</code></span></dt><dd><p>(28). Un nombre à 5 chiffres. Identifie un code postal</p></dd><dt><span class="term"><code class="varname">QUAD</code></span></dt><dd><p>(29). Un numéro à 4 chiffres. Identifie le ZIP4.</p></dd><dt><span class="term"><code class="varname">PCH</code></span></dt><dd><p>(27). Séquence de 3 caractères composée d'une lettre, d'un numéro et d'une lettre. Identifie un FSA, les 3 premiers caractères d'un code postal canadien.</p></dd><dt><span class="term"><code class="varname">PCT</code></span></dt><dd><p>(26). Séquence de 3 caractères composée d'un numéro, d'une lettre et d'un chiffre. Identifie un LDU, les 3 derniers caractères d'un code postal canadien.</p></dd></dl></div><p><span class="bold"><strong>Stopwords</strong></span></p><p>STOPWORDS se combinent avec WORDS. Dans les règles, une chaîne de plusieurs WORDs et STOPWORDs sera représentée par un seul mot-clé WORD.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">STOPWORD</code></span></dt><dd><p>(7). Un mot de faible importance lexicale, qui peut être omis dans l'analyse syntaxique. Par exemple : <span class="emphasis"><em>THE</em></span>.</p></dd></dl></div></div><div class="refsection" id="idm37528"><h2>Jetons de sortie</h2><p>Après le premier -1 (terminateur), suivent les jetons de sortie et leur ordre, suivis d'un terminateur <code class="code">-1</code>. Les numéros des jetons de sortie correspondants sont énumérés dans <a class="xref" href="#stdaddr" title="stdaddr">stdaddr</a>. Les éléments autorisés dépendent du type de règle. Les jetons de sortie valables pour chaque type de règle sont énumérés dans <a class="xref" href="#rule_types_rank" title="Types de règles et rangs">the section called “Types de règles et rangs”</a>.</p></div><div class="refsection" id="rule_types_rank"><h2>Types de règles et rangs</h2><p>La dernière partie de la règle est le type de règle qui est désigné par l'un des éléments suivants, suivi du rang de la règle. Les règles sont classées de 0 (la plus faible) à 17 (la plus élevée).</p><p><span class="bold"><strong><code class="varname">MACRO_C</code></strong></span></p><p>(numéro du jeton = "<span class="bold"><strong>0</strong></span>"). La classe de règles pour l'analyse des clauses MACRO telles que <span class="emphasis"><em>PLACE STATE ZIP</em></span></p><p><span class="bold"><strong><code class="varname">MACRO_C</code> jetons de sortie ("output tokens") </strong></span> (excepté pour <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#--r-typ--" target="_top">http://www.pagcgeo.org/docs/html/pagc-12.html#--r-typ--</a>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">CITY</code></span></dt><dd><p>(jeton numéro "10"). Exemple "Albany"</p></dd><dt><span class="term"><code class="varname">STATE</code></span></dt><dd><p>(jeton numéro "11"). Exemple "NY"</p></dd><dt><span class="term"><code class="varname">NATION</code></span></dt><dd><p>(numéro de jeton "12"). Cet attribut n'est pas utilisé dans la plupart des fichiers de référence. Exemple "USA"</p></dd><dt><span class="term"><code class="varname">POSTAL</code></span></dt><dd><p>(nombre de jetons "13"). (éléments SADS "ZIP CODE" , "PLUS 4" ). Cet attribut est utilisé à la fois pour le code postal américain et le code postal canadien.</p></dd></dl></div><p><span class="bold"><strong><code class="varname">MICRO_C</code></strong></span></p><p>(numéro du jeton = "<span class="bold"><strong>1</strong></span>"). La classe de règles pour l'analyse des clauses MICRO complètes (telles que House, street, sufdir, predir, pretyp, suftype, qualif) (c'est-à-dire ARC_C plus CIVIC_C). Ces règles ne sont pas utilisées dans la phase de construction.</p><p><span class="bold"><strong><code class="varname">MICRO_C</code> jetons de sortie ("output tokens") </strong></span> (exceptés pour <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#--r-typ--" target="_top">http://www.pagcgeo.org/docs/html/pagc-12.html#--r-typ--</a>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">HOUSE</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">1</code>) : Il s'agit du numéro d'une rue. Exemple <span class="emphasis"><em>75</em></span> dans <code class="code">75 State Street</code>.</p></dd><dt><span class="term"><code class="varname">predir</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">2</code>) : NOM DE RUE PRÉDIRECTIONNEL tel que Nord, Sud, Est, Ouest, etc.</p></dd><dt><span class="term"><code class="varname">qual</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">3</code>) : NOM DE RUE PRE-MODIFIER Exemple <span class="emphasis"><em>OLD</em></span> dans <code class="code">3715 OLD HIGHWAY 99</code>.</p></dd><dt><span class="term"><code class="varname">pretype</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">4</code>) : TYPE DE PRÉFIXE DE RUE</p></dd><dt><span class="term"><code class="varname">street</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">5</code>) : NOM DE RUE</p></dd><dt><span class="term"><code class="varname">suftype</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">6</code>) : STREET POST TYPE e.g. St, Ave, Cir. Un type de rue suivant le nom de la rue racine. Exemple <span class="emphasis"><em>STREET</em></span> dans <code class="code">75 State Street</code>.</p></dd><dt><span class="term"><code class="varname">sufdir</code></span></dt><dd><p>est un texte (jeton numéro <code class="code">7</code>) : STREET POST-DIRECTIONAL Un modificateur directionnel qui suit le nom de la rue. Exemple <span class="emphasis"><em>WEST</em></span> dans <code class="code">3715 TENTH AVENUE WEST</code>.</p></dd></dl></div><p><span class="bold"><strong><code class="varname">ARC_C</code></strong></span></p><p>(numéro de jeton = "<span class="bold"><strong>2</strong></span>"). Classe de règles pour l'analyse des clauses MICRO, à l'exclusion de l'attribut HOUSE. En tant que telle, elle utilise le même ensemble de jetons de sortie que MICRO_C, à l'exception du jeton HOUSE.</p><p><span class="bold"><strong><code class="varname">CIVIC_C</code></strong></span></p><p>(numéro du jeton = "<span class="bold"><strong>3</strong></span>"). La classe de règles pour l'analyse de l'attribut HOUSE.</p><p><span class="bold"><strong><code class="varname">EXTRA_C</code></strong></span></p><p>(numéro du jeton = "<span class="bold"><strong>4</strong></span>"). La classe de règles pour l'analyse des attributs EXTRA - attributs exclus du géocodage. Ces règles ne sont pas utilisées dans la phase de construction.</p><p><span class="bold"><strong><code class="varname">EXTRA_C</code> jetons de sortie ("output tokens")</strong></span> (excepté pour <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#--r-typ--" target="_top">http://www.pagcgeo.org/docs/html/pagc-12.html#--r-typ--</a>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">BLDNG</code></span></dt><dd><p>(numéro de jeton <code class="code">0</code>) : Identifiants et types de bâtiments non analysés.</p></dd><dt><span class="term"><code class="varname">BOXH</code></span></dt><dd><p>(numéro de jeton <code class="code">14</code>) : Le <span class="bold"><strong>BOX</strong></span> dans <code class="code">BOX 3B</code></p></dd><dt><span class="term"><code class="varname">BOXT</code></span></dt><dd><p>(token number <code class="code">15</code>) : La <span class="bold"><strong>3B</strong></span> dans <code class="code">BOX 3B</code></p></dd><dt><span class="term"><code class="varname">RR</code></span></dt><dd><p>(token number <code class="code">8</code>) : Le <span class="bold"><strong>RR</strong></span> dans <code class="code">RR 7</code></p></dd><dt><span class="term"><code class="varname">UNITH</code></span></dt><dd><p>(numéro de jeton <code class="code">16</code>) : L'<span class="bold"><strong>APT</strong></span> dans <code class="code">APT 3B</code></p></dd><dt><span class="term"><code class="varname">UNITT</code></span></dt><dd><p>(numéro de jeton <code class="code">17</code>) : La <span class="bold"><strong>3B</strong></span> dans <code class="code">APT 3B</code></p></dd><dt><span class="term"><code class="varname">UNKNWN</code></span></dt><dd><p>(numéro de jeton <code class="code">9</code>) : Une sortie non classée par ailleurs.</p></dd></dl></div></div></div><div class="refentry" id="lextab"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>lex table — La table lex est utilisée pour classer les entrées alphanumériques et les associer (a) à des jetons d'entrée (voir <a class="xref" href="#rule_input_tokens" title="Jetons d'entrée">the section called “Jetons d'entrée”</a>) et (b) à des représentations normalisées.</p></div><div class="refsection" id="idm37705"><h2>Description</h2><p>La table lex (abréviation de lexicon) est utilisée pour classer les entrées alphanumériques et les associer à des <a class="xref" href="#rule_input_tokens" title="Jetons d'entrée">the section called “Jetons d'entrée”</a> et (b) à des représentations normalisées. Les éléments que vous trouverez dans ces tables sont <code class="code">ONE</code> mappé à stdword : <code class="code">1</code>.</p><p>La table lex comporte au moins les colonnes suivantes. Vous pouvez ajouter</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">id</code></span></dt><dd><p>Clé primaire de la table</p></dd><dt><span class="term"><code class="varname">seq</code></span></dt><dd><p>entier : définition du nombre ?</p></dd><dt><span class="term"><code class="varname">word</code></span></dt><dd><p>texte : le mot en entrée</p></dd><dt><span class="term"><code class="varname">stdword</code></span></dt><dd><p>texte : le mot de remplacement normalisé</p></dd><dt><span class="term"><code class="varname">token</code></span></dt><dd><p>entier : le type de mot dont il s'agit. Il ne sera remplacé que s'il est utilisé dans ce contexte. Voir <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#--i-tok--" target="_top">Tokens PAGC</a>.</p></dd></dl></div></div></div><div class="refentry" id="gaztab"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>gaz table — La table gaz est utilisée pour normaliser les noms de lieux et associer cette entrée avec (a) des tokens d'entrée ( Voir <a class="xref" href="#rule_input_tokens" title="Jetons d'entrée">the section called “Jetons d'entrée”</a>) et (b) des représentations normalisées.</p></div><div class="refsection" id="idm37744"><h2>Description</h2><p>La table gaz (abréviation de gazeteer) est utilisée pour normaliser les noms de lieux et associer cette entrée à des <a class="xref" href="#rule_input_tokens" title="Jetons d'entrée">the section called “Jetons d'entrée”</a> et (b) à des représentations normalisées. Par exemple, si vous êtes aux États-Unis, vous pouvez charger ces tableaux avec les noms des États et les abréviations associées.</p><p>La table gaz comporte au moins les colonnes suivantes. Vous pouvez ajouter d'autres colonnes si vous le souhaitez pour vos propres besoins.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">id</code></span></dt><dd><p>Clé primaire de la table</p></dd><dt><span class="term"><code class="varname">seq</code></span></dt><dd><p>entier : définition nombre ? - identificateur utilisé pour cette instance du mot</p></dd><dt><span class="term"><code class="varname">word</code></span></dt><dd><p>texte : le mot en entrée</p></dd><dt><span class="term"><code class="varname">stdword</code></span></dt><dd><p>texte : le mot de remplacement normalisé</p></dd><dt><span class="term"><code class="varname">token</code></span></dt><dd><p>entier : le type de mot dont il s'agit. Il ne sera remplacé que s'il est utilisé dans ce contexte. Voir <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#--i-tok--" target="_top">Tokens PAGC</a>.</p></dd></dl></div></div></div></section><section class="section" id="Address_Standardizer_Functions"><div class="titlepage"><div><div><h3 class="title">12.1.4. Fonctions Address Standardizer</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#debug_standardize_address">debug_standardize_address</a></span><span class="refpurpose"> — Retourne une chaîne au format json avec les jetons d'entrée et les normalisations</span></li><li><span class="refentrytitle"><a href="#parse_address">parse_address</a></span><span class="refpurpose"> — Prend une adresse d'une ligne et la décompose en plusieurs parties</span></li><li><span class="refentrytitle"><a href="#standardize_address">standardize_address</a></span><span class="refpurpose"> — Renvoie une forme stdaddr d'une adresse d'entrée en utilisant les tables lex, gaz et rule.</span></li></ul></div><div class="refentry" id="debug_standardize_address"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>debug_standardize_address — Retourne une chaîne au format json avec les jetons d'entrée et les normalisations</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">debug_standardize_address</strong>(</code>text  <var class="pdparam">lextab</var>, text  <var class="pdparam">gaztab</var>, text  <var class="pdparam">rultab</var>, text  <var class="pdparam">micro</var>, text  <var class="pdparam">macro=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm37802"><h2>Description</h2><p>Ceci est une fonction pour déboguer les règles de normalisation des adresses et les correspondances lex/gaz. Cette fonction retourne une chaîne au format json qui inclut les règles correspondantes, la correspondance des jetons d'entrées et la meilleure adresse normalisée selon <a class="xref" href="#stdaddr" title="stdaddr">stdaddr</a>, en utilisant les tables <a class="xref" href="#lextab" title="lex table">lex table</a>, <a class="xref" href="#gaztab" title="gaz table">gaz table</a> et <a class="xref" href="#rulestab" title="rules table">rules table</a>, ainsi qu'une adresse.</p><p>Pour une adresse sur une seule ligne, utiliser <code class="varname">micro</code></p><p>Pour une adresse sur deux lignes, utiliser <code class="varname">micro</code> pour la première ligne standard d'une adresse postale par exemple <code class="code">house_num street</code>, et macro pour la deuxième ligne postale standard de l'adresse, par exemple <code class="code">city, state postal_code country</code>.</p><p>Les éléments retournées dans le document json sont </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">input_tokens</code></span></dt><dd><p>Pour chaque mot de l'adresse d'entrée, retourne la position du mot, la catégorisation du jeton correspondant au mot, et le mot standard correspondant. A noter que pour certains mots d'entrée, vous pouvez obtenir plusieurs enregistrements car certaines entrées peuvent correspondre à plusieurs catégories à la fois. </p></dd><dt><span class="term"><code class="varname">rules</code></span></dt><dd><p>L'ensemble des règles correspondant à l'entrée, et le score de correspondance pour chacune. La première règle (avec le plus haut score) est celle utilisée pour la normalisation</p></dd><dt><span class="term"><code class="varname">stdaddr</code></span></dt><dd><p>Les éléments de l'adresse normalisée <a class="xref" href="#stdaddr" title="stdaddr">stdaddr</a>, qui seraient retournés par <a class="xref" href="#standardize_address" title="standardize_address">standardize_address</a></p></dd></dl></div><p class="availability">Disponibilité : 3.4.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite l'extension address_standardizer. </p></div><div class="refsection" id="idm37839"><h2>Exemples</h2><p>Utilisation de l'extension address_standardizer_data_us</p><pre class="programlisting">CREATE EXTENSION address_standardizer_data_us; -- only needs to be done once</pre><p>Variante 1 : prend une adresse sur une seule ligne et retourne les jetons d'entrée</p><pre class="programlisting">SELECT it-&gt;&gt;'pos' AS position, it-&gt;&gt;'word' AS word, it-&gt;&gt;'stdword' AS standardized_word,
            it-&gt;&gt;'token' AS token, it-&gt;&gt;'token-code' AS token_code
    FROM jsonb(
            debug_standardize_address('us_lex',
                'us_gaz', 'us_rules', 'One Devonshire Place, PH 301, Boston, MA 02109')
                 ) AS s, jsonb_array_elements(s-&gt;'input_tokens') AS it;</pre><pre class="screen">position |    word    | standardized_word | token  | token_code
----------+------------+-------------------+--------+------------
 0        | ONE        | 1                 | NUMBER | 0
 0        | ONE        | 1                 | WORD   | 1
 1        | DEVONSHIRE | DEVONSHIRE        | WORD   | 1
 2        | PLACE      | PLACE             | TYPE   | 2
 3        | PH         | PATH              | TYPE   | 2
 3        | PH         | PENTHOUSE         | UNITT  | 17
 4        | 301        | 301               | NUMBER | 0
(7 rows)</pre><p>Variante 2 : Adresse en deux parties et retourne la première règle de correspondance et son score</p><pre class="programlisting">SELECT (s-&gt;'rules'-&gt;0-&gt;&gt;'score')::numeric AS score, it-&gt;&gt;'pos' AS position,
        it-&gt;&gt;'input-word' AS word, it-&gt;&gt;'input-token' AS input_token, it-&gt;&gt;'mapped-word' AS standardized_word,
            it-&gt;&gt;'output-token' AS output_token
    FROM jsonb(
            debug_standardize_address('us_lex',
                'us_gaz', 'us_rules', 'One Devonshire Place, PH 301', 'Boston, MA 02109')
                 ) AS s, jsonb_array_elements(s-&gt;'rules'-&gt;0-&gt;'rule_tokens') AS it;</pre><pre class="screen">score   | position |    word    | input_token | standardized_word | output_token
----------+----------+------------+-------------+-------------------+--------------
 0.876250 | 0        | ONE        | NUMBER      | 1                 | HOUSE
 0.876250 | 1        | DEVONSHIRE | WORD        | DEVONSHIRE        | STREET
 0.876250 | 2        | PLACE      | TYPE        | PLACE             | SUFTYP
 0.876250 | 3        | PH         | UNITT       | PENTHOUSE         | UNITT
 0.876250 | 4        | 301        | NUMBER      | 301               | UNITT
(5 rows)
</pre></div><div class="refsection" id="idm37849"><h2>Voir aussi</h2><p><a class="xref" href="#stdaddr" title="stdaddr">stdaddr</a>, <a class="xref" href="#rulestab" title="rules table">rules table</a>, <a class="xref" href="#lextab" title="lex table">lex table</a>, <a class="xref" href="#gaztab" title="gaz table">gaz table</a>, <a class="xref" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a></p></div></div><div class="refentry" id="parse_address"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>parse_address — Prend une adresse d'une ligne et la décompose en plusieurs parties</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">record <strong class="fsfunc">parse_address</strong>(</code>text  <var class="pdparam">address</var><code>)</code>;</p></div></div><div class="refsection" id="idm37869"><h2>Description</h2><p>Prend une adresse en entrée et renvoie un enregistrement composé des champs <span class="emphasis"><em>num</em></span>, <span class="emphasis"><em>street</em></span>, <span class="emphasis"><em>street2</em></span>, <span class="emphasis"><em>address1</em></span>, <span class="emphasis"><em>city</em></span>, <span class="emphasis"><em>state</em></span>, <span class="emphasis"><em>zip</em></span>, <span class="emphasis"><em>zipplus</em></span>, <span class="emphasis"><em>country</em></span>.</p><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite l'extension address_standardizer. </p></div><div class="refsection" id="idm37886"><h2>Exemples</h2><p>Une seule adresse</p><pre class="programlisting">SELECT num, street, city, zip, zipplus
        FROM parse_address('1 Devonshire Place, Boston, MA 02109-1234') AS a;</pre><pre class="screen">num |      street      |  city  |  zip  | zipplus
-----+------------------+--------+-------+---------
 1   | Devonshire Place | Boston | 02109 | 1234                </pre><p>Table des adresses</p><pre class="programlisting">-- basic table
CREATE TABLE places(addid serial PRIMARY KEY, address text);

INSERT INTO places(address)
VALUES ('529 Main Street, Boston MA, 02129'),
 ('77 Massachusetts Avenue, Cambridge, MA 02139'),
 ('25 Wizard of Oz, Walaford, KS 99912323'),
 ('26 Capen Street, Medford, MA'),
 ('124 Mount Auburn St, Cambridge, Massachusetts 02138'),
 ('950 Main Street, Worcester, MA 01610');

 -- parse the addresses
 -- if you want all fields you can use (a).*
SELECT addid, (a).num, (a).street, (a).city, (a).state, (a).zip, (a).zipplus
FROM (SELECT addid, parse_address(address) As a
 FROM places) AS p;</pre><pre class="screen">addid | num |        street        |   city    | state |  zip  | zipplus
-------+-----+----------------------+-----------+-------+-------+---------
     1 | 529 | Main Street          | Boston    | MA    | 02129 |
     2 | 77  | Massachusetts Avenue | Cambridge | MA    | 02139 |
     3 | 25  | Wizard of Oz         | Walaford  | KS    | 99912 | 323
     4 | 26  | Capen Street         | Medford   | MA    |       |
     5 | 124 | Mount Auburn St      | Cambridge | MA    | 02138 |
     6 | 950 | Main Street          | Worcester | MA    | 01610 |
(6 rows)</pre></div><div class="refsection" id="idm37894"><h2>Voir aussi</h2><p/></div></div><div class="refentry" id="standardize_address"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>standardize_address — Renvoie une forme stdaddr d'une adresse d'entrée en utilisant les tables lex, gaz et rule.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">stdaddr <strong class="fsfunc">standardize_address</strong>(</code>text  <var class="pdparam">lextab</var>, text  <var class="pdparam">gaztab</var>, text  <var class="pdparam">rultab</var>, text  <var class="pdparam">address</var><code>)</code>;</p><p><code class="funcdef">stdaddr <strong class="fsfunc">standardize_address</strong>(</code>text  <var class="pdparam">lextab</var>, text  <var class="pdparam">gaztab</var>, text  <var class="pdparam">rultab</var>, text  <var class="pdparam">micro</var>, text  <var class="pdparam">macro</var><code>)</code>;</p></div></div><div class="refsection" id="idm37936"><h2>Description</h2><p>Renvoie une forme <a class="xref" href="#stdaddr" title="stdaddr">stdaddr</a> d'une adresse d'entrée utilisant des <a class="xref" href="#lextab" title="lex table">lex table</a> noms de tables, <a class="xref" href="#gaztab" title="gaz table">gaz table</a>, et <a class="xref" href="#rulestab" title="rules table">rules table</a> noms de tables et une adresse.</p><p>Variante 1 : prend une adresse sur une seule ligne.</p><p>Variante 2 : prend une adresse en deux parties. Une <code class="varname">micro</code> constituée de la première ligne standard d'une adresse postale, par exemple <code class="code">house_num street</code>, et une macro constituée de la deuxième ligne postale standard d'une adresse, par exemple <code class="code">city, state postal_code country</code>.</p><p class="availability">Disponibilité : 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite l'extension address_standardizer. </p></div><div class="refsection" id="idm37953"><h2>Exemples</h2><p>Utilisation de l'extension address_standardizer_data_us</p><pre class="programlisting">CREATE EXTENSION address_standardizer_data_us; -- only needs to be done once</pre><p>Variante 1 : adresse sur une seule ligne. Cela ne fonctionne pas bien avec les adresses non américaines</p><pre class="programlisting">SELECT house_num, name, suftype, city, country, state, unit  FROM standardize_address('us_lex',
                           'us_gaz', 'us_rules', 'One Devonshire Place, PH 301, Boston, MA 02109');</pre><pre class="screen">house_num |    name    | suftype |  city  | country |     state     |      unit
----------+------------+---------+--------+---------+---------------+-----------------
1         | DEVONSHIRE | PLACE   | BOSTON | USA     | MASSACHUSETTS | # PENTHOUSE 301</pre><p>Utilisation des tables fournies avec tiger geocoder. Cet exemple ne fonctionne que si vous avez installé <code class="varname">postgis_tiger_geocoder</code>.</p><pre class="programlisting">SELECT *  FROM standardize_address('tiger.pagc_lex',
         'tiger.pagc_gaz', 'tiger.pagc_rules', 'One Devonshire Place, PH 301, Boston, MA 02109-1234');</pre><p>Pour faciliter la lecture, nous utiliserons l'extension hstore CREATE EXTENSION hstore ; vous devez installer</p><pre class="programlisting">SELECT (each(hstore(p))).*
 FROM standardize_address('tiger.pagc_lex', 'tiger.pagc_gaz',
   'tiger.pagc_rules', 'One Devonshire Place, PH 301, Boston, MA 02109') As p;</pre><pre class="screen">key     |      value
------------+-----------------
 box        |
 city       | BOSTON
 name       | DEVONSHIRE
 qual       |
 unit       | # PENTHOUSE 301
 extra      |
 state      | MA
 predir     |
 sufdir     |
 country    | USA
 pretype    |
 suftype    | PL
 building   |
 postcode   | 02109
 house_num  | 1
 ruralroute |
(16 rows)
                        </pre><p>Variante 2 : adresse en deux parties</p><pre class="programlisting">SELECT (each(hstore(p))).*
 FROM standardize_address('tiger.pagc_lex', 'tiger.pagc_gaz',
   'tiger.pagc_rules', 'One Devonshire Place, PH 301', 'Boston, MA 02109, US') As p;</pre><pre class="screen">key     |      value
------------+-----------------
 box        |
 city       | BOSTON
 name       | DEVONSHIRE
 qual       |
 unit       | # PENTHOUSE 301
 extra      |
 state      | MA
 predir     |
 sufdir     |
 country    | USA
 pretype    |
 suftype    | PL
 building   |
 postcode   | 02109
 house_num  | 1
 ruralroute |
(16 rows)</pre></div><div class="refsection" id="idm37969"><h2>Voir aussi</h2><p><a class="xref" href="#stdaddr" title="stdaddr">stdaddr</a>, <a class="xref" href="#rulestab" title="rules table">rules table</a>, <a class="xref" href="#lextab" title="lex table">lex table</a>, <a class="xref" href="#gaztab" title="gaz table">gaz table</a>, <a class="xref" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a></p></div></div></section></section><section class="section" id="Tiger_Geocoder"><div class="titlepage"><div><div><h2 class="title" style="clear: both">12.2. Géocodeur Tiger</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Un géocodeur basé sur plpgsql écrit pour fonctionner avec le <a class="link" href="http://www.census.gov/geo/www/tiger/" target="_top">TIGER (Topologically Integrated Geographic Encoding and Referencing system ) / Line and Master Address database export</a> publié par le US Census Bureau. </p><p>Le géocodeur se compose de quatre éléments : les fonctions de chargement des données, le normalisateur d'adresses, le géocodeur d'adresses et le géocodeur inverse. </p><p>Bien qu'il soit conçu spécifiquement pour les États-Unis, un grand nombre de concepts et de fonctions sont applicables et peuvent être adaptés pour fonctionner avec les adresses et les réseaux routiers d'autres pays.</p><p>Le script construit un schéma appelé <code class="varname">tiger</code> pour héberger toutes les fonctions liées au tiger, les données de référence réutilisables telles que les préfixes de type de route, les suffixes, les états, diverses tables de contrôle pour gérer le chargement des données, et les tables de base squelettiques dont héritent toutes les tables chargées par le tiger.</p><p>Un autre schéma appelé <code class="varname">tiger_data</code> est également créé. Il contient toutes les données de recensement pour chaque État que le chargeur télécharge à partir du site du recensement et charge dans la base de données. Dans le modèle actuel, chaque ensemble de tables d'État est préfixé par le code de l'État, par exemple <code class="varname">ma_addr</code>, <code class="varname">ma_edges</code> etc. avec des contraintes pour appliquer uniquement les données de l'État. Chacune de ces tables hérite des tables <code class="varname">addr</code>, <code class="varname">faces</code>, <code class="varname">edges</code>, etc. situées dans le <code class="varname">tiger schema</code>. </p><p>Toutes les fonctions de géocodage ne font référence qu'aux tables de base, de sorte qu'il n'est pas nécessaire que le schéma de données s'appelle <code class="varname">tiger_data</code> ou que les données ne puissent pas être subdivisées en d'autres schémas - par exemple un schéma différent pour chaque État, tant que toutes les tables héritent des tables du schéma <code class="varname">tiger</code>.</p><p>Pour savoir comment activer l'extension dans votre base de données et charger des données à l'aide de celle-ci, consultez <a class="xref" href="#install_tiger_geocoder_extension" title="2.4.1. Tiger Geocoder Activation de votre base de données PostGIS">Section 2.4.1, “Tiger Geocoder Activation de votre base de données PostGIS”</a>.</p><p> </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous utilisez tiger geocoder (tiger_2010), vous pouvez mettre à jour les scripts en utilisant les scripts upgrade_geocoder.bat / .sh dans extras/tiger. Un changement majeur entre <code class="varname">tiger_2010</code> et <code class="varname">tiger_2011+</code> est que les tables <code class="varname">county</code> et <code class="varname">state</code> ne sont plus ventilées par état. Si vous avez des données provenant de tiger_2010 et que vous souhaitez les remplacer par tiger_2015, consultez <a class="xref" href="#upgrade_tiger_geocoder" title="2.4.4. Mise à jour du géocoder Tiger et de ses données">Section 2.4.4, “Mise à jour du géocoder Tiger et de ses données”</a> </p></td></tr></table></div><p>

              </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les nouveautés de la version 2.2.0 de PostGIS sont la prise en charge des données Tiger 2015 et l'intégration d'Address Standardizer dans PostGIS.</p><p>La nouveauté de la version 2.1.0 de PostGIS est la possibilité d'installer le géocodeur tiger avec le modèle d'extension PostgreSQL si vous utilisez PostgreSQL 9.1+. Référez-vous à <a class="xref" href="#install_tiger_geocoder_extension" title="2.4.1. Tiger Geocoder Activation de votre base de données PostGIS">Section 2.4.1, “Tiger Geocoder Activation de votre base de données PostGIS”</a> pour plus de détails.</p></td></tr></table></div><p>
              </p><p>Le <a class="xref" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a> remplace directement le <a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a> intégré. Référez-vous à <a class="xref" href="#installing_pagc_address_standardizer" title="2.3. Installation et utilisation de l'extension address standardize">Section 2.3, “Installation et utilisation de l'extension address standardize”</a> pour les instructions de compilation et d'installation.</p><p>Conception :</p><p>L'objectif de ce projet est de construire un géocodeur entièrement fonctionnel capable de traiter une chaîne d'adresses arbitraires aux États-Unis et, à l'aide des données normalisées du recensement TIGER, de produire une géométrie de points et une évaluation reflétant la localisation de l'adresse donnée et la vraisemblance de la localisation. Plus l'indice est élevé, plus le résultat est mauvais.</p><p>La fonction <code class="varname">reverse_geocode</code>, introduite dans PostGIS 2.0.0, est utile pour dériver l'adresse de la rue et les rues transversales d'une position GPS.</p><p>Le géocodeur doit être simple à installer et à utiliser pour toute personne familiarisée avec PostGIS, et doit être facilement installable et utilisable sur toutes les plateformes supportées par PostGIS.</p><p>Il doit être suffisamment robuste pour fonctionner correctement malgré les erreurs de formatage et d'orthographe.</p><p>Il doit être suffisamment extensible pour pouvoir être utilisé avec de futures mises à jour de données ou d'autres sources de données avec un minimum de changements de codage.</p><p>
                </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Le schéma <code class="varname">tiger</code> doit être ajouté au search path de la base de données pour que les fonctions fonctionnent correctement.</p></td></tr></table></div><p>
            </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#Drop_Indexes_Generate_Script">Drop_Indexes_Generate_Script</a></span><span class="refpurpose"> — Génère un script qui supprime toutes les clés non primaires et les index non uniques sur le schéma tiger et le schéma spécifié par l'utilisateur. Le schéma par défaut est <code class="varname">tiger_data</code> si aucun schéma n'est spécifié.</span></li><li><span class="refentrytitle"><a href="#Drop_Nation_Tables_Generate_Script">Drop_Nation_Tables_Generate_Script</a></span><span class="refpurpose"> — Génère un script qui supprime toutes les tables du schéma spécifié qui commencent par <code class="varname">county_all</code>, <code class="varname">state_all</code> ou code d'état suivi de <code class="varname">county</code> ou <code class="varname">state</code>.</span></li><li><span class="refentrytitle"><a href="#Drop_State_Tables_Generate_Script">Drop_State_Tables_Generate_Script</a></span><span class="refpurpose"> — Génère un script qui supprime toutes les tables du schéma spécifié qui sont préfixées par l'abréviation de l'état. La valeur par défaut du schéma est <code class="varname">tiger_data</code> si aucun schéma n'est spécifié.</span></li><li><span class="refentrytitle"><a href="#Geocode">Geocode</a></span><span class="refpurpose"> — Prend une adresse sous forme de chaîne de caractères (ou autre adresse normalisée) et produit un ensemble de lieux possibles comprenant une géométrie de point en NAD 83 long lat, une adresse normalisée pour chacun d'entre eux et l'évaluation. Plus la note est basse, plus la correspondance est probable. Les résultats sont triés par ordre décroissant. Il est possible d'indiquer en option le nombre maximum de résultats (10 par défaut) et la restriction de la région (NULL par défaut)</span></li><li><span class="refentrytitle"><a href="#Geocode_Intersection">Geocode_Intersection</a></span><span class="refpurpose"> — Prend 2 rues qui s'intersectent et un état, une ville, un code postal, et produit un ensemble d'emplacements possibles sur la première rue croisée qui est à l'intersection, comprend également un "geomout" comme emplacement du point en NAD 83 long lat, une <code class="varname">adresse_normalisée</code> (addy) pour chaque emplacement, et l'évaluation. Plus la note est basse, plus la correspondance est probable. Les résultats sont triés en fonction de la note la plus basse. Il est possible d'indiquer le nombre maximum de résultats, la valeur par défaut étant de 10. Utilise les données Tiger (edges, faces, addr), la correspondance floue de PostgreSQL (soundex, levenshtein).</span></li><li><span class="refentrytitle"><a href="#Get_Geocode_Setting">Get_Geocode_Setting</a></span><span class="refpurpose"> — Renvoie la valeur d'un paramètre spécifique stocké dans la table tiger.geocode_settings.</span></li><li><span class="refentrytitle"><a href="#Get_Tract">Get_Tract</a></span><span class="refpurpose"> — Renvoie le secteur de recensement ou le champ de la table des secteurs où se trouve la géométrie. Par défaut, le nom court du secteur est renvoyé.</span></li><li><span class="refentrytitle"><a href="#Install_Missing_Indexes">Install_Missing_Indexes</a></span><span class="refpurpose"> — Recherche toutes les tables dont les colonnes clés sont utilisées dans les jointures du géocodeur et les conditions de filtrage qui n'ont pas d'index utilisés sur ces colonnes et les ajoute.</span></li><li><span class="refentrytitle"><a href="#Loader_Generate_Census_Script">Loader_Generate_Census_Script</a></span><span class="refpurpose"> — Génère un script shell pour la plate-forme spécifiée et les états spécifiés qui téléchargera les tables de données Tiger census state tract, bg et tabblocks, les structurera et les chargera dans le schéma <code class="varname">tiger_data</code>. Chaque script d'état est renvoyé sous la forme d'un enregistrement distinct.</span></li><li><span class="refentrytitle"><a href="#Loader_Generate_Script">Loader_Generate_Script</a></span><span class="refpurpose"> — Génère un script shell pour la plateforme spécifiée et les états spécifiés qui téléchargera les données Tiger, les structurera et les chargera dans le schéma <code class="varname">tiger_data</code>. Chaque script d'état est renvoyé sous la forme d'un enregistrement séparé. La dernière version prend en charge les modifications structurelles de Tiger 2010 et charge également les tableaux de secteurs de recensement, de groupes d'îlots et d'îlots.</span></li><li><span class="refentrytitle"><a href="#Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a></span><span class="refpurpose"> — Génère un script shell pour la plate-forme spécifiée qui charge les données dans les tables county et state.</span></li><li><span class="refentrytitle"><a href="#Missing_Indexes_Generate_Script">Missing_Indexes_Generate_Script</a></span><span class="refpurpose"> — Recherche toutes les tables dont les colonnes clés sont utilisées dans les jointures du géocodeur et qui n'ont pas d'index sur ces colonnes, et génère le DDL SQL permettant de définir l'index pour ces tables.</span></li><li><span class="refentrytitle"><a href="#Normalize_Address">Normalize_Address</a></span><span class="refpurpose"> — Étant donné une adresse textuelle, cette fonction renvoie un type composite <code class="varname">norm_addy</code> qui contient le suffixe de la route, le préfixe et le type normalisé, la rue, le nom de la rue, etc. divisés en champs distincts. Cette fonction fonctionne uniquement avec les données de recherche fournies avec le géocodeur tiger (pas besoin pour les données de recensement tiger).</span></li><li><span class="refentrytitle"><a href="#Pagc_Normalize_Address">Pagc_Normalize_Address</a></span><span class="refpurpose"> — Étant donné une adresse textuelle, cette fonction renvoie un type composite <code class="varname">norm_addy</code> qui contient le suffixe de la route, le préfixe et le type normalisé, la rue, le nom de la rue, etc. divisés en champs distincts. Cette fonction fonctionne uniquement avec les données de recherche fournies avec le géocodeur tiger (pas besoin pour les données de recensement tiger). Nécessite l'extension address_standardizer.</span></li><li><span class="refentrytitle"><a href="#Pprint_Addy">Pprint_Addy</a></span><span class="refpurpose"> — Étant donné un objet de type composite <code class="varname">norm_addy</code>, renvoie une jolie représentation de celui-ci. Généralement utilisé en conjonction avec normalize_address.</span></li><li><span class="refentrytitle"><a href="#Reverse_Geocode">Reverse_Geocode</a></span><span class="refpurpose"> — Prend un point géométrique dans un système spatial connu et renvoie un enregistrement contenant un tableau d'adresses théoriquement possibles et un tableau de rues transversales. Si include_strnum_range = true, la plage de rues est incluse dans les rues transversales.</span></li><li><span class="refentrytitle"><a href="#Topology_Load_Tiger">Topology_Load_Tiger</a></span><span class="refpurpose"> — Charge une région définie de données tiger dans une topologie PostGIS et transforme les données tiger en référence spatiale de la topologie et en s'adaptant à la tolérance de précision de la topologie.</span></li><li><span class="refentrytitle"><a href="#Set_Geocode_Setting">Set_Geocode_Setting</a></span><span class="refpurpose"> — Définit un paramètre qui affecte le comportement des fonctions du géocodeur.</span></li></ul></div><p>Il existe quelques autres géocodeurs open source pour PostGIS qui, contrairement au géocodeur Tiger, présentent l'avantage de prendre en charge le géocodage multi-pays</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="http://wiki.openstreetmap.org/wiki/Nominatim" target="_top">Nominatim</a> utilise les données formatées de OpenStreetMap gazeteer. Il nécessite osm2pgsql pour charger les données, PostgreSQL 8.4+ et PostGIS 1.5+ pour fonctionner. Il est présenté sous la forme d'une interface webservice et semble conçu pour être appelé en tant que webservice. Tout comme le tiger geocoder, il possède à la fois un géocodeur et un géocodeur inversé. La documentation n'indique pas clairement s'il dispose d'une interface SQL pure comme le géocodeur tiger, ou si une grande partie de la logique est implémentée dans l'interface web.</p></li><li class="listitem"><p><a class="link" href="http://www.gisgraphy.com/" target="_top">GIS Graphy</a> utilise également PostGIS et, comme Nominatim, fonctionne avec des données OpenStreetMap (OSM). Il est livré avec un chargeur pour charger les données OSM et, comme Nominatim, il est capable de géocoder d'autres pays que les États-Unis. Tout comme Nominatim, il fonctionne comme un service web et s'appuie sur Java 1.5, Servlet apps, Solr. GisGraphy est multiplateforme et dispose également d'un géocodeur inversé parmi d'autres fonctionnalités intéressantes.</p></li></ul></div><div class="refentry" id="Drop_Indexes_Generate_Script"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Drop_Indexes_Generate_Script — Génère un script qui supprime toutes les clés non primaires et les index non uniques sur le schéma tiger et le schéma spécifié par l'utilisateur. Le schéma par défaut est <code class="varname">tiger_data</code> si aucun schéma n'est spécifié.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Drop_Indexes_Generate_Script</strong>(</code>text  <var class="pdparam">param_schema=tiger_data</var><code>)</code>;</p></div></div><div class="refsection" id="idm38048"><h2>Description</h2><p>Génère un script qui supprime toutes les clés non primaires et les index non uniques sur le schéma tiger et le schéma spécifié par l'utilisateur. Le schéma par défaut est <code class="varname">tiger_data</code> si aucun schéma n'est spécifié.</p><p>Ceci est utile pour minimiser le gonflement de l'index qui peut perturber le planificateur de requêtes ou prendre de l'espace inutilement. A utiliser en combinaison avec <a class="xref" href="#Install_Missing_Indexes" title="Install_Missing_Indexes">Install_Missing_Indexes</a> pour ajouter uniquement les index utilisés par le géocodeur.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm38055"><h2>Exemples</h2><pre class="programlisting">SELECT drop_indexes_generate_script() As actionsql;
actionsql
---------------------------------------------------------
DROP INDEX tiger.idx_tiger_countysub_lookup_lower_name;
DROP INDEX tiger.idx_tiger_edges_countyfp;
DROP INDEX tiger.idx_tiger_faces_countyfp;
DROP INDEX tiger.tiger_place_the_geom_gist;
DROP INDEX tiger.tiger_edges_the_geom_gist;
DROP INDEX tiger.tiger_state_the_geom_gist;
DROP INDEX tiger.idx_tiger_addr_least_address;
DROP INDEX tiger.idx_tiger_addr_tlid;
DROP INDEX tiger.idx_tiger_addr_zip;
DROP INDEX tiger.idx_tiger_county_countyfp;
DROP INDEX tiger.idx_tiger_county_lookup_lower_name;
DROP INDEX tiger.idx_tiger_county_lookup_snd_name;
DROP INDEX tiger.idx_tiger_county_lower_name;
DROP INDEX tiger.idx_tiger_county_snd_name;
DROP INDEX tiger.idx_tiger_county_the_geom_gist;
DROP INDEX tiger.idx_tiger_countysub_lookup_snd_name;
DROP INDEX tiger.idx_tiger_cousub_countyfp;
DROP INDEX tiger.idx_tiger_cousub_cousubfp;
DROP INDEX tiger.idx_tiger_cousub_lower_name;
DROP INDEX tiger.idx_tiger_cousub_snd_name;
DROP INDEX tiger.idx_tiger_cousub_the_geom_gist;
DROP INDEX tiger_data.idx_tiger_data_ma_addr_least_address;
DROP INDEX tiger_data.idx_tiger_data_ma_addr_tlid;
DROP INDEX tiger_data.idx_tiger_data_ma_addr_zip;
DROP INDEX tiger_data.idx_tiger_data_ma_county_countyfp;
DROP INDEX tiger_data.idx_tiger_data_ma_county_lookup_lower_name;
DROP INDEX tiger_data.idx_tiger_data_ma_county_lookup_snd_name;
DROP INDEX tiger_data.idx_tiger_data_ma_county_lower_name;
DROP INDEX tiger_data.idx_tiger_data_ma_county_snd_name;
:
:
</pre></div><div class="refsection" id="idm38058"><h2>Voir aussi</h2><p><a class="xref" href="#Install_Missing_Indexes" title="Install_Missing_Indexes">Install_Missing_Indexes</a>, <a class="xref" href="#Missing_Indexes_Generate_Script" title="Missing_Indexes_Generate_Script">Missing_Indexes_Generate_Script</a></p></div></div><div class="refentry" id="Drop_Nation_Tables_Generate_Script"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Drop_Nation_Tables_Generate_Script — Génère un script qui supprime toutes les tables du schéma spécifié qui commencent par <code class="varname">county_all</code>, <code class="varname">state_all</code> ou code d'état suivi de <code class="varname">county</code> ou <code class="varname">state</code>.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Drop_Nation_Tables_Generate_Script</strong>(</code>text  <var class="pdparam">param_schema=tiger_data</var><code>)</code>;</p></div></div><div class="refsection" id="idm38079"><h2>Description</h2><p>Génère un script qui supprime toutes les tables du schéma spécifié qui commencent par <code class="varname">county_all</code>, <code class="varname">state_all</code> ou code d'état suivi de <code class="varname">county</code> ou <code class="varname">state</code>. Ceci est nécessaire si vous mettez à jour les données de <code class="varname">tiger_2010</code> vers <code class="varname">tiger_2011</code>.</p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm38089"><h2>Exemples</h2><pre class="programlisting">SELECT drop_nation_tables_generate_script();
DROP TABLE tiger_data.county_all;
DROP TABLE tiger_data.county_all_lookup;
DROP TABLE tiger_data.state_all;
DROP TABLE tiger_data.ma_county;
DROP TABLE tiger_data.ma_state;</pre></div><div class="refsection" id="idm38092"><h2>Voir aussi</h2><p><a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a></p></div></div><div class="refentry" id="Drop_State_Tables_Generate_Script"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Drop_State_Tables_Generate_Script — Génère un script qui supprime toutes les tables du schéma spécifié qui sont préfixées par l'abréviation de l'état. La valeur par défaut du schéma est <code class="varname">tiger_data</code> si aucun schéma n'est spécifié.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Drop_State_Tables_Generate_Script</strong>(</code>text  <var class="pdparam">param_state</var>, text  <var class="pdparam">param_schema=tiger_data</var><code>)</code>;</p></div></div><div class="refsection" id="idm38112"><h2>Description</h2><p>Génère un script qui supprime toutes les tables du schéma spécifié qui sont préfixées par l'abréviation de l'état. Le schéma par défaut est <code class="varname">tiger_data</code> si aucun schéma n'est spécifié. Cette fonction est utile pour supprimer les tables d'un état juste avant de le recharger, au cas où quelque chose se serait mal passé lors du chargement précédent.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm38117"><h2>Exemples</h2><pre class="programlisting">SELECT drop_state_tables_generate_script('PA');
DROP TABLE tiger_data.pa_addr;
DROP TABLE tiger_data.pa_county;
DROP TABLE tiger_data.pa_county_lookup;
DROP TABLE tiger_data.pa_cousub;
DROP TABLE tiger_data.pa_edges;
DROP TABLE tiger_data.pa_faces;
DROP TABLE tiger_data.pa_featnames;
DROP TABLE tiger_data.pa_place;
DROP TABLE tiger_data.pa_state;
DROP TABLE tiger_data.pa_zip_lookup_base;
DROP TABLE tiger_data.pa_zip_state;
DROP TABLE tiger_data.pa_zip_state_loc;
        </pre></div><div class="refsection" id="idm38120"><h2>Voir aussi</h2><p><a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a></p></div></div><div class="refentry" id="Geocode"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Geocode — Prend une adresse sous forme de chaîne de caractères (ou autre adresse normalisée) et produit un ensemble de lieux possibles comprenant une géométrie de point en NAD 83 long lat, une adresse normalisée pour chacun d'entre eux et l'évaluation. Plus la note est basse, plus la correspondance est probable. Les résultats sont triés par ordre décroissant. Il est possible d'indiquer en option le nombre maximum de résultats (10 par défaut) et la restriction de la région (NULL par défaut)</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">geocode</strong>(</code>varchar  <var class="pdparam">address</var>, integer  <var class="pdparam">max_results=10</var>, geometry  <var class="pdparam">restrict_region=NULL</var>, norm_addy  <var class="pdparam">OUT addy</var>, geometry  <var class="pdparam">OUT geomout</var>, integer  <var class="pdparam">OUT rating</var><code>)</code>;</p><p><code class="funcdef">setof record <strong class="fsfunc">geocode</strong>(</code>norm_addy  <var class="pdparam">in_addy</var>, integer  <var class="pdparam">max_results=10</var>, geometry  <var class="pdparam">restrict_region=NULL</var>, norm_addy  <var class="pdparam">OUT addy</var>, geometry  <var class="pdparam">OUT geomout</var>, integer  <var class="pdparam">OUT rating</var><code>)</code>;</p></div></div><div class="refsection" id="idm38172"><h2>Description</h2><p>Prend une adresse sous forme de chaîne de caractères (ou une adresse déjà normalisée) et produit un ensemble de lieux possibles comprenant une géométrie de point en NAD 83 long lat, une <code class="varname">adresse_normalisée</code> (addy) pour chacun d'entre eux, et l'évaluation. Plus la note est basse, plus la correspondance est probable. Les résultats sont triés en fonction de la note la plus basse. Utilise les données du tiger (edges, faces, addr), la correspondance floue de PostgreSQL (soundex, levenshtein) et les fonctions d'interpolation de lignes de PostGIS pour interpoler l'adresse le long des bords du tigre. Plus la note est élevée, moins le géocodage a de chances d'être correct. Par défaut, le point géocodé est décalé de 10 mètres par rapport à la ligne centrale du côté (L/R) de la rue où se trouve l'adresse.</p><p class="enhanced">Amélioration : 2.0.0 pour prendre en charge les données structurées Tiger 2010 et révision de certaines logiques pour améliorer la vitesse et la précision du géocodage, et pour décaler le point de la ligne centrale vers le côté de la rue où se trouve l'adresse. Le nouveau paramètre <code class="varname">max_results</code> permet de spécifier le nombre de meilleurs résultats ou de renvoyer uniquement le meilleur résultat.</p></div><div class="refsection" id="idm38178"><h2>Exemples : De base</h2><p>Les exemples de temps ci-dessous ont été calculés sur une machine Windows 7 à un processeur 3.0 GHZ avec 2 Go de mémoire vive, PostgreSQL 9.1rc1/PostGIS 2.0 avec toutes les données de MA, MN, CA, RI State Tiger.</p><p>Les correspondances exactes sont calculées plus rapidement (61 ms)</p><pre class="programlisting">SELECT g.rating, ST_X(g.geomout) As lon, ST_Y(g.geomout) As lat,
    (addy).address As stno, (addy).streetname As street,
    (addy).streettypeabbrev As styp, (addy).location As city, (addy).stateabbrev As st,(addy).zip
    FROM geocode('75 State Street, Boston MA 02109', 1) As g;
 rating |        lon        |      lat       | stno | street | styp |  city  | st |  zip
--------+-------------------+----------------+------+--------+------+--------+----+-------
      0 | -71.0557505845646 | 42.35897920691 |   75 | State  | St   | Boston | MA | 02109
</pre><p>Même si le code postal n'est pas transmis, le géocodeur peut deviner (cela a pris environ 122-150 ms)</p><pre class="programlisting">SELECT g.rating, ST_AsText(ST_SnapToGrid(g.geomout,0.00001)) As wktlonlat,
    (addy).address As stno, (addy).streetname As street,
    (addy).streettypeabbrev As styp, (addy).location As city, (addy).stateabbrev As st,(addy).zip
    FROM geocode('226 Hanover Street, Boston, MA',1) As g;
 rating |         wktlonlat         | stno | street  | styp |  city  | st |  zip
--------+---------------------------+------+---------+------+--------+----+-------
      1 | POINT(-71.05528 42.36316) |  226 | Hanover | St   | Boston | MA | 02113
</pre><p>Peut gérer les fautes d'orthographe et propose plusieurs solutions possibles avec des évaluations, mais prend plus de temps (500 ms).</p><pre class="programlisting">SELECT g.rating, ST_AsText(ST_SnapToGrid(g.geomout,0.00001)) As wktlonlat,
    (addy).address As stno, (addy).streetname As street,
    (addy).streettypeabbrev As styp, (addy).location As city, (addy).stateabbrev As st,(addy).zip
    FROM geocode('31 - 37 Stewart Street, Boston, MA 02116',1) As g;
 rating |         wktlonlat         | stno | street | styp |  city  | st |  zip
--------+---------------------------+------+--------+------+--------+----+-------
     70 | POINT(-71.06466 42.35114) |   31 | Stuart | St   | Boston | MA | 02116
    </pre><p>Utilisation pour effectuer un géocodage par lots d'adresses. Le plus simple est de mettre <code class="varname">max_results=1</code>. Ne traiter que les adresses qui n'ont pas encore été géocodées (qui n'ont pas d'évaluation).</p><pre class="programlisting">CREATE TABLE addresses_to_geocode(addid serial PRIMARY KEY, address text,
        lon numeric, lat numeric, new_address text, rating integer);

INSERT INTO addresses_to_geocode(address)
VALUES ('529 Main Street, Boston MA, 02129'),
 ('77 Massachusetts Avenue, Cambridge, MA 02139'),
 ('25 Wizard of Oz, Walaford, KS 99912323'),
 ('26 Capen Street, Medford, MA'),
 ('124 Mount Auburn St, Cambridge, Massachusetts 02138'),
 ('950 Main Street, Worcester, MA 01610');

-- only update the first 3 addresses (323-704 ms -  there are caching and shared memory effects so first geocode you do is always slower) --
-- for large numbers of addresses you don't want to update all at once
-- since the whole geocode must commit at once
-- For this example we rejoin with LEFT JOIN
-- and set to rating to -1 rating if no match
-- to ensure we don't regeocode a bad address
UPDATE addresses_to_geocode
  SET  (rating, new_address, lon, lat)
    = ( COALESCE(g.rating,-1), pprint_addy(g.addy),
       ST_X(g.geomout)::numeric(8,5), ST_Y(g.geomout)::numeric(8,5) )
FROM (SELECT addid, address
    FROM addresses_to_geocode
    WHERE rating IS NULL ORDER BY addid LIMIT 3) As a
    LEFT JOIN LATERAL geocode(a.address,1) As g ON true
WHERE a.addid = addresses_to_geocode.addid;

result
-----
Query returned successfully: 3 rows affected, 480 ms execution time.

SELECT * FROM addresses_to_geocode WHERE rating is not null;

 addid |                   address                    |    lon    |   lat    |                new_address                | rating
-------+----------------------------------------------+-----------+----------+-------------------------------------------+--------
     1 | 529 Main Street, Boston MA, 02129            | -71.07177 | 42.38357 | 529 Main St, Boston, MA 02129             |      0
     2 | 77 Massachusetts Avenue, Cambridge, MA 02139 | -71.09396 | 42.35961 | 77 Massachusetts Ave, Cambridge, MA 02139 |      0
     3 | 25 Wizard of Oz, Walaford, KS 99912323       | -97.92913 | 38.12717 | Willowbrook, KS 67502                     |    108
(3 rows)</pre></div><div class="refsection" id="idm38190"><h2>Exemples : Utilisation du filtre de géométrie</h2><pre class="programlisting">SELECT g.rating, ST_AsText(ST_SnapToGrid(g.geomout,0.00001)) As wktlonlat,
    (addy).address As stno, (addy).streetname As street,
    (addy).streettypeabbrev As styp,
    (addy).location As city, (addy).stateabbrev As st,(addy).zip
  FROM geocode('100 Federal Street, MA',
        3,
        (SELECT ST_Union(the_geom)
            FROM place WHERE statefp = '25' AND name = 'Lynn')::geometry
        ) As g;

 rating |         wktlonlat         | stno | street  | styp | city | st |  zip
--------+---------------------------+------+---------+------+------+----+-------
      7 | POINT(-70.96796 42.4659)  |  100 | Federal | St   | Lynn | MA | 01905
     16 | POINT(-70.96786 42.46853) | NULL | Federal | St   | Lynn | MA | 01905
(2 rows)

Time: 622.939 ms
          </pre></div><div class="refsection" id="idm38193"><h2>Voir aussi</h2><p><a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a>, <a class="xref" href="#Pprint_Addy" title="Pprint_Addy">Pprint_Addy</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a>, <a class="xref" href="#ST_X" title="ST_X">ST_X</a>, <a class="xref" href="#ST_Y" title="ST_Y">ST_Y</a></p></div></div><div class="refentry" id="Geocode_Intersection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Geocode_Intersection — Prend 2 rues qui s'intersectent et un état, une ville, un code postal, et produit un ensemble d'emplacements possibles sur la première rue croisée qui est à l'intersection, comprend également un "geomout" comme emplacement du point en NAD 83 long lat, une <code class="varname">adresse_normalisée</code> (addy) pour chaque emplacement, et l'évaluation. Plus la note est basse, plus la correspondance est probable. Les résultats sont triés en fonction de la note la plus basse. Il est possible d'indiquer le nombre maximum de résultats, la valeur par défaut étant de 10. Utilise les données Tiger (edges, faces, addr), la correspondance floue de PostgreSQL (soundex, levenshtein).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">geocode_intersection</strong>(</code>text  <var class="pdparam"> roadway1</var>, text  <var class="pdparam"> roadway2</var>, text  <var class="pdparam"> in_state</var>, text  <var class="pdparam"> in_city</var>, text  <var class="pdparam"> in_zip</var>, integer  <var class="pdparam">max_results=10</var>, norm_addy  <var class="pdparam">OUT addy</var>, geometry  <var class="pdparam">OUT geomout</var>, integer  <var class="pdparam">OUT rating</var><code>)</code>;</p></div></div><div class="refsection" id="idm38239"><h2>Description</h2><p>Prend 2 rues qui s'intersectent et un état, une ville, un code postal, et produit un ensemble d'emplacements possibles sur la première rue croisée qui est à l'intersection, comprend également une géométrie de point dans NAD 83 long lat, une adresse normalisée pour chaque emplacement, et la cote. Plus la note est basse, plus la correspondance est probable. Les résultats sont triés par ordre décroissant. Il est possible d'indiquer le nombre maximum de résultats, la valeur par défaut étant de 10. Retourne <code class="varname">adresse_normalisée</code> (addy) pour chaque, "geomout" comme emplacement du point en nad 83 long lat, et la note. Plus la note est basse, plus la correspondance est probable. Les résultats sont triés en fonction de la note la plus basse. Utilise les données Tiger (bords, visages, adresses), la correspondance floue de PostgreSQL (soundex, levenshtein) </p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm38244"><h2>Exemples : De base</h2><p>Les exemples de temps ci-dessous sont basés sur une machine Windows 7 à un processeur 3.0 GHZ avec 2 Go de mémoire vive, avec PostgreSQL 9.0/PostGIS 1.5 et toutes les données de MA State Tiger chargées. Actuellement un peu lent (3000 ms)</p><p>Test sur Windows 2003 64-bit 8GB sur PostGIS 2.0 PostgreSQL 64-bit Tiger 2011 données chargées -- (41ms)</p><pre class="programlisting">SELECT pprint_addy(addy), st_astext(geomout),rating
            FROM geocode_intersection( 'Haverford St','Germania St', 'MA', 'Boston', '02130',1);
           pprint_addy            |         st_astext          | rating
----------------------------------+----------------------------+--------
98 Haverford St, Boston, MA 02130 | POINT(-71.101375 42.31376) |      0
</pre><p>Même si le code postal n'est pas transmis, le géocodeur peut deviner (cela a pris environ 3500 ms sur la boîte Windows 7), sur la boîte Windows 2003 64-bit 741 ms</p><pre class="programlisting">SELECT pprint_addy(addy), st_astext(geomout),rating
                FROM geocode_intersection('Weld', 'School', 'MA', 'Boston');
          pprint_addy          |        st_astext         | rating
-------------------------------+--------------------------+--------
 98 Weld Ave, Boston, MA 02119 | POINT(-71.099 42.314234) |      3
 99 Weld Ave, Boston, MA 02119 | POINT(-71.099 42.314234) |      3
</pre></div><div class="refsection" id="idm38251"><h2>Voir aussi</h2><p><a class="xref" href="#Geocode" title="Geocode">Geocode</a>, <a class="xref" href="#Pprint_Addy" title="Pprint_Addy">Pprint_Addy</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a></p></div></div><div class="refentry" id="Get_Geocode_Setting"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Get_Geocode_Setting — Renvoie la valeur d'un paramètre spécifique stocké dans la table tiger.geocode_settings.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Get_Geocode_Setting</strong>(</code>text  <var class="pdparam"> setting_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm38269"><h2>Description</h2><p>Renvoie la valeur d'un paramètre spécifique stocké dans la table tiger.geocode_settings. Les paramètres permettent d'activer le débogage des fonctions. Plus tard, il sera possible de contrôler la notation à l'aide des paramètres. La liste actuelle des paramètres est la suivante :</p><pre class="screen">name              | setting |  unit   | category  |                                                             short_desc
--------------------------------+---------+---------+-----------+------------------------------------------------------------------------------------------------------------------------------
 debug_geocode_address          | false   | boolean | debug     | outputs debug information in notice log such as queries when geocode_address is called if true
 debug_geocode_intersection     | false   | boolean | debug     | outputs debug information in notice log such as queries when geocode_intersection is called if true
 debug_normalize_address        | false   | boolean | debug     | outputs debug information in notice log such as queries and intermediate expressions when normalize_address is called if true
 debug_reverse_geocode          | false   | boolean | debug     | if true, outputs debug information in notice log such as queries and intermediate expressions when reverse_geocode
 reverse_geocode_numbered_roads | 0       | integer | rating    | For state and county highways, 0 - no preference in name,
                                                                  1 - prefer the numbered highway name, 2 - prefer local state/county name
 use_pagc_address_parser        | false   | boolean | normalize | If set to true, will try to use the address_standardizer extension (via pagc_normalize_address)
                                                                 instead of tiger normalize_address built one    </pre><p class="changed">Modifié : 2.2.0 : les paramètres par défaut sont désormais conservés dans une table appelée geocode_settings_default. Les paramètres personnalisés sont dans geocode_settings et ne contiennent que ceux qui ont été définis par l'utilisateur.</p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm38275"><h2>Exemple de paramétrage du débogage de retour</h2><pre class="programlisting">SELECT get_geocode_setting('debug_geocode_address) As result;
result
---------
false
        </pre></div><div class="refsection" id="idm38278"><h2>Voir aussi</h2><p><a class="xref" href="#Set_Geocode_Setting" title="Set_Geocode_Setting">Set_Geocode_Setting</a></p></div></div><div class="refentry" id="Get_Tract"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Get_Tract — Renvoie le secteur de recensement ou le champ de la table des secteurs où se trouve la géométrie. Par défaut, le nom court du secteur est renvoyé.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">get_tract</strong>(</code>geometry  <var class="pdparam"> loc_geom</var>, text  <var class="pdparam"> output_field=name</var><code>)</code>;</p></div></div><div class="refsection" id="idm38297"><h2>Description</h2><p>Une géométrie donnée renvoie la localisation du secteur de recensement de cette géométrie. Le NAD 83 long lat est supposé si aucun système de référence spatiale n'est spécifié.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction utilise le recensement <code class="varname">tract</code> qui n'est pas chargé par défaut. Si vous avez déjà chargé votre table d'état, vous pouvez charger tract ainsi que bg, et tabblock en utilisant le script <a class="xref" href="#Loader_Generate_Census_Script" title="Loader_Generate_Census_Script">Loader_Generate_Census_Script</a>.</p><p>Si vous n'avez pas encore chargé les données de votre État et que vous souhaitez charger ces tableaux supplémentaires, procédez comme suit</p><pre class="programlisting">UPDATE tiger.loader_lookuptables SET load = true WHERE load = false AND lookup_name IN('tract', 'bg', 'tabblock');</pre><p>alors ils seront inclus par le <a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a>.</p></td></tr></table></div><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm38309"><h2>Exemples : De base</h2><pre class="programlisting">SELECT get_tract(ST_Point(-71.101375, 42.31376) ) As tract_name;
tract_name
---------
1203.01
        </pre><pre class="programlisting">--this one returns the tiger geoid
SELECT get_tract(ST_Point(-71.101375, 42.31376), 'tract_id' ) As tract_id;
tract_id
---------
25025120301</pre></div><div class="refsection" id="idm38313"><h2>Voir aussi</h2><p><a class="xref" href="#Geocode" title="Geocode">Geocode</a>&gt;</p></div></div><div class="refentry" id="Install_Missing_Indexes"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Install_Missing_Indexes — Recherche toutes les tables dont les colonnes clés sont utilisées dans les jointures du géocodeur et les conditions de filtrage qui n'ont pas d'index utilisés sur ces colonnes et les ajoute.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">Install_Missing_Indexes</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm38327"><h2>Description</h2><p>Recherche toutes les tables dans les schémas <code class="varname">tiger</code> et <code class="varname">tiger_data</code> avec des colonnes clés utilisées dans les jointures et les filtres du géocodeur qui n'ont pas d'index sur ces colonnes et produira le DDL SQL pour définir l'index pour ces tables et exécutera ensuite le script généré. Il s'agit d'une fonction d'aide qui ajoute de nouveaux index nécessaires pour rendre les requêtes plus rapides et qui peuvent avoir été manquants au cours du processus de chargement. Cette fonction accompagne <a class="xref" href="#Missing_Indexes_Generate_Script" title="Missing_Indexes_Generate_Script">Missing_Indexes_Generate_Script</a> qui, en plus de générer le script de création d'index, l'exécute également. Elle est appelée dans le cadre du script de mise à niveau <code class="filename">update_geocode.sql</code>.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm38335"><h2>Exemples</h2><pre class="programlisting">SELECT install_missing_indexes();
         install_missing_indexes
-------------------------
 t
        </pre></div><div class="refsection" id="idm38338"><h2>Voir aussi</h2><p><a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a>, <a class="xref" href="#Missing_Indexes_Generate_Script" title="Missing_Indexes_Generate_Script">Missing_Indexes_Generate_Script</a></p></div></div><div class="refentry" id="Loader_Generate_Census_Script"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Loader_Generate_Census_Script — Génère un script shell pour la plate-forme spécifiée et les états spécifiés qui téléchargera les tables de données Tiger census state tract, bg et tabblocks, les structurera et les chargera dans le schéma <code class="varname">tiger_data</code>. Chaque script d'état est renvoyé sous la forme d'un enregistrement distinct.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof text <strong class="fsfunc">loader_generate_census_script</strong>(</code>text[] <var class="pdparam">param_states</var>, text <var class="pdparam">os</var><code>)</code>;</p></div></div><div class="refsection" id="idm38359"><h2>Description</h2><p>Génère un script shell pour la plate-forme spécifiée et les états spécifiés, qui téléchargera les données de recensement Tiger <code class="varname">tract</code>, les tables de données <code class="varname">bg</code> et <code class="varname">tabblocks</code>, les étapes et le chargement dans le schéma <code class="varname">tiger_data</code>. Chaque script d'état est renvoyé sous la forme d'un enregistrement distinct.</p><p>Il utilise unzip sous Linux (7-zip sous Windows par défaut) et wget pour effectuer le téléchargement. Il utilise <a class="xref" href="#shp2pgsql_usage" title="4.7.2. Utilisation de l'utilitaire qui permet de charger des fichiers Shapefile">Section 4.7.2, “Utilisation de l'utilitaire qui permet de charger des fichiers Shapefile”</a> pour charger les données. Notez que la plus petite unité qu'il traite est un état entier. Il ne traitera que les fichiers des dossiers staging et temp.</p><p>Il utilise les tables de contrôle suivantes pour contrôler le processus et les différentes variations syntaxiques de l'interpréteur de commandes du système d'exploitation.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">loader_variables</code> garde la trace de diverses variables telles que le site de recensement, l'année, les données et les schémas d'étape</p></li><li class="listitem"><p><code class="varname">loader_platform</code> profils des différentes plates-formes et de l'emplacement des différents exécutables. Livré avec windows et linux. D'autres peuvent être ajoutés.</p></li><li class="listitem"><p><code class="varname">loader_lookuptables</code> chaque enregistrement définit un type de table (state, county), s'il faut y traiter les enregistrements et comment les charger. Définit les étapes d'importation des données, de structuration des données, d'ajout et de suppression de colonnes, d'index et de contraintes pour chaque table. Chaque table est préfixée par l'état et hérite d'une table du schéma tigre. Par exemple, crée <code class="varname">tiger_data.ma_faces</code> qui hérite de <code class="varname">tiger.faces</code></p></li></ol></div><p class="availability">Disponibilité : 2.0.0 </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a> inclut cette logique, mais si vous avez installé tiger geocoder avant PostGIS 2.0.0 alpha5, vous devrez l'exécuter sur les états que vous avez déjà faits pour obtenir ces tables supplémentaires.</p></td></tr></table></div></div><div class="refsection" id="idm38385"><h2>Exemples</h2><p>Générer un script pour charger des données pour des états sélectionnés dans le format d'un script shell Windows.</p><pre class="programlisting">SELECT loader_generate_census_script(ARRAY['MA'], 'windows');
-- result --
set STATEDIR="\gisdata\www2.census.gov\geo\pvs\tiger2010st\25_Massachusetts"
set TMPDIR=\gisdata\temp\
set UNZIPTOOL="C:\Program Files\7-Zip\7z.exe"
set WGETTOOL="C:\wget\wget.exe"
set PGBIN=C:\projects\pg\pg91win\bin\
set PGPORT=5432
set PGHOST=localhost
set PGUSER=postgres
set PGPASSWORD=yourpasswordhere
set PGDATABASE=tiger_postgis20
set PSQL="%PGBIN%psql"
set SHP2PGSQL="%PGBIN%shp2pgsql"
cd \gisdata

%WGETTOOL% http://www2.census.gov/geo/pvs/tiger2010st/25_Massachusetts/25/ --no-parent --relative --accept=*bg10.zip,*tract10.zip,*tabblock10.zip --mirror --reject=html
del %TMPDIR%\*.* /Q
%PSQL% -c "DROP SCHEMA tiger_staging CASCADE;"
%PSQL% -c "CREATE SCHEMA tiger_staging;"
cd %STATEDIR%
for /r %%z in (*.zip) do %UNZIPTOOL% e %%z  -o%TMPDIR%
cd %TMPDIR%
%PSQL% -c "CREATE TABLE tiger_data.MA_tract(CONSTRAINT pk_MA_tract PRIMARY KEY (tract_id) ) INHERITS(tiger.tract); "
%SHP2PGSQL% -c -s 4269 -g the_geom   -W "latin1" tl_2010_25_tract10.dbf tiger_staging.ma_tract10 | %PSQL%
%PSQL% -c "ALTER TABLE tiger_staging.MA_tract10 RENAME geoid10 TO tract_id;  SELECT loader_load_staged_data(lower('MA_tract10'), lower('MA_tract')); "
%PSQL% -c "CREATE INDEX tiger_data_MA_tract_the_geom_gist ON tiger_data.MA_tract USING gist(the_geom);"
%PSQL% -c "VACUUM ANALYZE tiger_data.MA_tract;"
%PSQL% -c "ALTER TABLE tiger_data.MA_tract ADD CONSTRAINT chk_statefp CHECK (statefp = '25');"
: </pre><p>Générer le script sh</p><pre class="programlisting">STATEDIR="/gisdata/www2.census.gov/geo/pvs/tiger2010st/25_Massachusetts"
TMPDIR="/gisdata/temp/"
UNZIPTOOL=unzip
WGETTOOL="/usr/bin/wget"
export PGBIN=/usr/pgsql-9.0/bin
export PGPORT=5432
export PGHOST=localhost
export PGUSER=postgres
export PGPASSWORD=yourpasswordhere
export PGDATABASE=geocoder
PSQL=${PGBIN}/psql
SHP2PGSQL=${PGBIN}/shp2pgsql
cd /gisdata

wget http://www2.census.gov/geo/pvs/tiger2010st/25_Massachusetts/25/ --no-parent --relative --accept=*bg10.zip,*tract10.zip,*tabblock10.zip --mirror --reject=html
rm -f ${TMPDIR}/*.*
${PSQL} -c "DROP SCHEMA tiger_staging CASCADE;"
${PSQL} -c "CREATE SCHEMA tiger_staging;"
cd $STATEDIR
for z in *.zip; do $UNZIPTOOL -o -d $TMPDIR $z; done
:
: </pre></div><div class="refsection" id="idm38391"><h2>Voir aussi</h2><p><a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a></p></div></div><div class="refentry" id="Loader_Generate_Script"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Loader_Generate_Script — Génère un script shell pour la plateforme spécifiée et les états spécifiés qui téléchargera les données Tiger, les structurera et les chargera dans le schéma <code class="varname">tiger_data</code>. Chaque script d'état est renvoyé sous la forme d'un enregistrement séparé. La dernière version prend en charge les modifications structurelles de Tiger 2010 et charge également les tableaux de secteurs de recensement, de groupes d'îlots et d'îlots.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof text <strong class="fsfunc">loader_generate_script</strong>(</code>text[] <var class="pdparam">param_states</var>, text <var class="pdparam">os</var><code>)</code>;</p></div></div><div class="refsection" id="idm38411"><h2>Description</h2><p>Génère un script shell pour la plateforme spécifiée et les états spécifiés qui téléchargera les données Tiger, les structurera et les chargera dans le schéma <code class="varname">tiger_data</code>. Chaque script d'état est renvoyé sous la forme d'un enregistrement séparé.</p><p>Il utilise unzip sous Linux (7-zip sous Windows par défaut) et wget pour effectuer le téléchargement. Il utilise <a class="xref" href="#shp2pgsql_usage" title="4.7.2. Utilisation de l'utilitaire qui permet de charger des fichiers Shapefile">Section 4.7.2, “Utilisation de l'utilitaire qui permet de charger des fichiers Shapefile”</a> pour charger les données. Notez que la plus petite unité qu'il traite est un état entier, mais vous pouvez l'écraser en téléchargeant les fichiers vous-même. Il ne traitera que les fichiers des dossiers staging et temp.</p><p>Il utilise les tables de contrôle suivantes pour contrôler le processus et les différentes variations syntaxiques de l'interpréteur de commandes du système d'exploitation.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">loader_variables</code> garde la trace de diverses variables telles que le site de recensement, l'année, les données et les schémas d'étape</p></li><li class="listitem"><p><code class="varname">loader_platform</code> profils des différentes plates-formes et de l'emplacement des différents exécutables. Livré avec windows et linux. D'autres peuvent être ajoutés.</p></li><li class="listitem"><p><code class="varname">loader_lookuptables</code> chaque enregistrement définit un type de table (state, county), s'il faut y traiter les enregistrements et comment les charger. Définit les étapes d'importation des données, de structuration des données, d'ajout et de suppression de colonnes, d'index et de contraintes pour chaque table. Chaque table est préfixée par l'état et hérite d'une table du schéma tigre. Par exemple, crée <code class="varname">tiger_data.ma_faces</code> qui hérite de <code class="varname">tiger.faces</code></p></li></ol></div><p class="availability">Disponibilité : 2.0.0 pour prendre en charge les données structurées de Tiger 2010 et charger les tableaux de secteurs de recensement (tract), de groupes d'îlots (bg) et d'îlots (tabblocks).</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous utilisez pgAdmin 3, sachez que par défaut pgAdmin 3 tronque les textes longs. Pour corriger cela, modifiez <span class="emphasis"><em>Fichier -&gt; Options -&gt; Outil de requête -&gt; Editeur de requête -&gt; Caractères max. par colonne</em></span> à plus de 50000 caractères.</p></td></tr></table></div></div><div class="refsection" id="idm38434"><h2>Exemples</h2><p>En utilisant psql où gistest est votre base de données et <code class="filename">/gisdata/data_load.sh</code> est le fichier à créer avec les commandes shell à exécuter.</p><pre class="programlisting">psql -U postgres -h localhost -d gistest -A -t \
 -c "SELECT Loader_Generate_Script(ARRAY['MA'], 'gistest')" &gt; /gisdata/data_load.sh;
</pre><p>Générer un script pour charger des données pour 2 états dans le format d'un script shell Windows.</p><pre class="programlisting">SELECT loader_generate_script(ARRAY['MA','RI'], 'windows') AS result;
-- result --
set TMPDIR=\gisdata\temp\
set UNZIPTOOL="C:\Program Files\7-Zip\7z.exe"
set WGETTOOL="C:\wget\wget.exe"
set PGBIN=C:\Program Files\PostgreSQL\9.4\bin\
set PGPORT=5432
set PGHOST=localhost
set PGUSER=postgres
set PGPASSWORD=yourpasswordhere
set PGDATABASE=geocoder
set PSQL="%PGBIN%psql"
set SHP2PGSQL="%PGBIN%shp2pgsql"
cd \gisdata

cd \gisdata
%WGETTOOL% ftp://ftp2.census.gov/geo/tiger/TIGER2015/PLACE/tl_*_25_* --no-parent --relative --recursive --level=2 --accept=zip --mirror --reject=html
cd \gisdata/ftp2.census.gov/geo/tiger/TIGER2015/PLACE
:
:</pre><p>Générer le script sh</p><pre class="programlisting">SELECT loader_generate_script(ARRAY['MA','RI'], 'sh') AS result;
-- result --
TMPDIR="/gisdata/temp/"
UNZIPTOOL=unzip
WGETTOOL="/usr/bin/wget"
export PGBIN=/usr/lib/postgresql/9.4/bin
-- variables used by psql: https://www.postgresql.org/docs/current/static/libpq-envars.html
export PGPORT=5432
export PGHOST=localhost
export PGUSER=postgres
export PGPASSWORD=yourpasswordhere
export PGDATABASE=geocoder
PSQL=${PGBIN}/psql
SHP2PGSQL=${PGBIN}/shp2pgsql
cd /gisdata

cd /gisdata
wget ftp://ftp2.census.gov/geo/tiger/TIGER2015/PLACE/tl_*_25_* --no-parent --relative --recursive --level=2 --accept=zip --mirror --reject=html
cd /gisdata/ftp2.census.gov/geo/tiger/TIGER2015/PLACE
rm -f ${TMPDIR}/*.*
:
:</pre></div><div class="refsection" id="idm38443"><h2>Voir aussi</h2><p><a class="xref" href="#install_tiger_geocoder_extension" title="2.4.1. Tiger Geocoder Activation de votre base de données PostGIS">Section 2.4.1, “Tiger Geocoder Activation de votre base de données PostGIS”</a>, <a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a>, <a class="xref" href="#Drop_State_Tables_Generate_Script" title="Drop_State_Tables_Generate_Script">Drop_State_Tables_Generate_Script</a></p></div></div><div class="refentry" id="Loader_Generate_Nation_Script"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Loader_Generate_Nation_Script — Génère un script shell pour la plate-forme spécifiée qui charge les données dans les tables county et state.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">loader_generate_nation_script</strong>(</code>text <var class="pdparam">os</var><code>)</code>;</p></div></div><div class="refsection" id="idm38461"><h2>Description</h2><p>Génère un script shell pour la plate-forme spécifiée qui charge les tables <code class="varname">county_all</code>, <code class="varname">county_all_lookup</code>, <code class="varname">state_all</code> dans le schéma <code class="varname">tiger_data</code>. Elles héritent respectivement des tables <code class="varname">county</code>, <code class="varname">county_lookup</code>, <code class="varname">state</code> dans le schéma <code class="varname">tiger</code>.</p><p>Il utilise unzip sous Linux (7-zip sous Windows par défaut) et wget pour effectuer le téléchargement. Il utilise <a class="xref" href="#shp2pgsql_usage" title="4.7.2. Utilisation de l'utilitaire qui permet de charger des fichiers Shapefile">Section 4.7.2, “Utilisation de l'utilitaire qui permet de charger des fichiers Shapefile”</a> pour charger les données. </p><p>Il utilise les tables de contrôle suivantes <code class="varname">tiger.loader_platform</code>, <code class="varname">tiger.loader_variables</code> et <code class="varname">tiger.loader_lookuptables</code> pour contrôler le processus et les différentes variations syntaxiques de l'interpréteur de commandes du système d'exploitation.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">loader_variables</code> garde la trace de diverses variables telles que le site de recensement, l'année, les données et les schémas d'étape</p></li><li class="listitem"><p><code class="varname">loader_platform</code> profils des différentes plates-formes et de l'emplacement des différents exécutables. Fourni avec windows et linux/unix. D'autres peuvent être ajoutés.</p></li><li class="listitem"><p><code class="varname">loader_lookuptables</code> chaque enregistrement définit un type de table (state, county), s'il faut y traiter les enregistrements et comment les charger. Définit les étapes d'importation des données, de structuration des données, d'ajout et de suppression de colonnes, d'index et de contraintes pour chaque table. Chaque table est préfixée par l'état et hérite d'une table du schéma tigre. Par exemple, crée <code class="varname">tiger_data.ma_faces</code> qui hérite de <code class="varname">tiger.faces</code></p></li></ol></div><p class="enhanced">Amélioré : 2.4.1 L'étape de chargement de la zone de tabulation du code postal 5 (zcta5) a été corrigée et, lorsqu'elle est activée, les données zcta5 sont chargées sous la forme d'une table unique appelée zcta5_all dans le cadre du chargement du script de la nation.</p><p class="availability">Disponibilité : 2.1.0 </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous souhaitez que la zone de tabulation du code postal 5 (zcta5) soit incluse dans le chargement de votre script nation, procédez comme suit :</p><pre class="programlisting">UPDATE tiger.loader_lookuptables SET load = true WHERE table_name = 'zcta510';</pre></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Si vous utilisiez la version <code class="varname">tiger_2010</code> et que vous souhaitez recharger en tant qu'état avec des données tiger plus récentes, vous devrez, pour le tout premier chargement, générer et exécuter des instructions de dépôt <a class="xref" href="#Drop_Nation_Tables_Generate_Script" title="Drop_Nation_Tables_Generate_Script">Drop_Nation_Tables_Generate_Script</a> avant d'exécuter ce script.</p></td></tr></table></div></div><div class="refsection" id="idm38499"><h2>Exemples</h2><p>Générer un script pour charger les données de la nation sur Windows.</p><pre class="programlisting">SELECT loader_generate_nation_script('windows'); </pre><p>Générer un script pour charger les données pour les systèmes Linux/Unix.</p><pre class="programlisting">SELECT loader_generate_nation_script('sh'); </pre></div><div class="refsection" id="idm38505"><h2>Voir aussi</h2><p><a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a>, <a class="xref" href="#Drop_Nation_Tables_Generate_Script" title="Drop_Nation_Tables_Generate_Script">Drop_Nation_Tables_Generate_Script</a></p></div></div><div class="refentry" id="Missing_Indexes_Generate_Script"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Missing_Indexes_Generate_Script — Recherche toutes les tables dont les colonnes clés sont utilisées dans les jointures du géocodeur et qui n'ont pas d'index sur ces colonnes, et génère le DDL SQL permettant de définir l'index pour ces tables.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Missing_Indexes_Generate_Script</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm38520"><h2>Description</h2><p>Trouve toutes les tables dans les schémas <code class="varname">tiger</code> et <code class="varname">tiger_data</code> avec des colonnes clés utilisées dans les jointures du géocodeur qui n'ont pas d'index sur ces colonnes et produira le DDL SQL pour définir l'index pour ces tables. Il s'agit d'une fonction d'aide qui ajoute de nouveaux index nécessaires pour rendre les requêtes plus rapides et qui peuvent avoir été manquants au cours du processus de chargement. Au fur et à mesure de l'amélioration du géocodeur, cette fonction sera mise à jour pour prendre en compte les nouveaux index utilisés. Si cette fonction ne produit rien, cela signifie que toutes vos tables ont ce que nous pensons être les index clés déjà en place.</p><p class="availability">Disponibilité : 2.0.0</p></div><div class="refsection" id="idm38526"><h2>Exemples</h2><pre class="programlisting">SELECT missing_indexes_generate_script();
-- output: This was run on a database that was created before many corrections were made to the loading script ---
CREATE INDEX idx_tiger_county_countyfp ON tiger.county USING btree(countyfp);
CREATE INDEX idx_tiger_cousub_countyfp ON tiger.cousub USING btree(countyfp);
CREATE INDEX idx_tiger_edges_tfidr ON tiger.edges USING btree(tfidr);
CREATE INDEX idx_tiger_edges_tfidl ON tiger.edges USING btree(tfidl);
CREATE INDEX idx_tiger_zip_lookup_all_zip ON tiger.zip_lookup_all USING btree(zip);
CREATE INDEX idx_tiger_data_ma_county_countyfp ON tiger_data.ma_county USING btree(countyfp);
CREATE INDEX idx_tiger_data_ma_cousub_countyfp ON tiger_data.ma_cousub USING btree(countyfp);
CREATE INDEX idx_tiger_data_ma_edges_countyfp ON tiger_data.ma_edges USING btree(countyfp);
CREATE INDEX idx_tiger_data_ma_faces_countyfp ON tiger_data.ma_faces USING btree(countyfp);
        </pre></div><div class="refsection" id="idm38529"><h2>Voir aussi</h2><p><a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a>, <a class="xref" href="#Install_Missing_Indexes" title="Install_Missing_Indexes">Install_Missing_Indexes</a></p></div></div><div class="refentry" id="Normalize_Address"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Normalize_Address — Étant donné une adresse textuelle, cette fonction renvoie un type composite <code class="varname">norm_addy</code> qui contient le suffixe de la route, le préfixe et le type normalisé, la rue, le nom de la rue, etc. divisés en champs distincts. Cette fonction fonctionne uniquement avec les données de recherche fournies avec le géocodeur tiger (pas besoin pour les données de recensement tiger).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">norm_addy <strong class="fsfunc">normalize_address</strong>(</code>varchar  <var class="pdparam">in_address</var><code>)</code>;</p></div></div><div class="refsection" id="idm38547"><h2>Description</h2><p>Étant donné une adresse textuelle, cette fonction renvoie un type composite <code class="varname">norm_addy</code> qui contient le suffixe de la route, le préfixe et le type normalisé, la rue, le nom de la rue, etc. divisés en champs distincts. Il s'agit de la première étape du processus de géocodage visant à normaliser toutes les adresses sous forme postale. Aucune autre donnée n'est nécessaire en dehors de celles fournies avec le géocodeur.</p><p>Cette fonction utilise simplement les différentes tables de recherche direction/état/suffixe préchargées avec le géocodeur tiger et situées dans le schéma <code class="varname">tiger</code>, de sorte qu'il n'est pas nécessaire de télécharger les données de recensement tiger ou d'autres données supplémentaires pour l'utiliser. Il se peut que vous ayez besoin d'ajouter des abréviations ou des noms alternatifs aux différentes tables de recherche du schéma <code class="varname">tiger</code>.</p><p>Il utilise diverses tables de contrôle situées dans le schéma <code class="varname">tiger</code> pour normaliser l'adresse d'entrée.</p><p>Les champs de l'objet de type <code class="varname">norm_addy</code> renvoyés par cette fonction dans cet ordre où () indique un champ requis par le géocodeur, [] indique un champ optionnel :</p><p>(address) [predirAbbrev] (streetName) [streetTypeAbbrev] [postdirAbbrev] [internal] [location] [stateAbbrev] [zip] [parsed] [zip4] [address_alphanumeric]</p><p class="enhanced">Amélioré : 2.4.0 L'objet norm_addy comprend des champs supplémentaires zip4 et address_alphanumeric.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">address</code> est un nombre entier : Le numéro de la rue</p></li><li class="listitem"><p><code class="varname">predirAbbrev</code> est varchar : Préfixe directionnel de la route tel que N, S, E, W, etc. Ces préfixes sont contrôlés à l'aide de la table <code class="varname">direction_lookup</code>.</p></li><li class="listitem"><p><code class="varname">streetName</code> varchar</p></li><li class="listitem"><p><code class="varname">streetTypeAbbrev</code> varchar version abrégée du type de rue : par exemple St, Ave, Cir. Ceux-ci sont contrôlés à l'aide de la table <code class="varname">street_type_lookup</code>.</p></li><li class="listitem"><p><code class="varname">postdirAbbrev</code> varchar abrégé directionnel suffixe de la route N, S, E, W etc. Elles sont contrôlées à l'aide de la table <code class="varname">direction_lookup</code>.</p></li><li class="listitem"><p><code class="varname">internal</code> varchar adresse interne telle qu'un numéro d'appartement ou de suite.</p></li><li class="listitem"><p><code class="varname">location</code> varchar généralement une ville ou une province.</p></li><li class="listitem"><p><code class="varname">stateAbbrev</code> varchar deux caractères État américain, par exemple MA, NY, MI. Ceux-ci sont contrôlés par la table <code class="varname">state_lookup</code>.</p></li><li class="listitem"><p><code class="varname">zip</code> varchar Code postal à 5 chiffres, par exemple 02109.</p></li><li class="listitem"><p><code class="varname">parsed</code> booléen - indique si l'adresse a été formée à partir du processus de normalisation. La fonction normalize_address fixe cette valeur à true avant de renvoyer l'adresse.</p></li><li class="listitem"><p><code class="varname">zip4</code> 4 derniers chiffres d'un code postal à 9 chiffres. Disponibilité : PostGIS 2.4.0.</p></li><li class="listitem"><p><code class="varname">address_alphanumeric</code> Numéro de rue complet, même s'il contient des caractères alpha comme 17R. Il est préférable d'utiliser la fonction <a class="xref" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a>. Disponibilité : PostGIS 2.4.0.</p></li></ol></div></div><div class="refsection" id="idm38602"><h2>Exemples</h2><p>Sortie des champs de sélection. Utilisez <a class="xref" href="#Pprint_Addy" title="Pprint_Addy">Pprint_Addy</a> si vous souhaitez une sortie textuelle.</p><pre class="programlisting">SELECT address As orig, (g.na).streetname, (g.na).streettypeabbrev
 FROM (SELECT address, normalize_address(address) As na
        FROM addresses_to_geocode) As g;

                        orig                         |  streetname   | streettypeabbrev
-----------------------------------------------------+---------------+------------------
 28 Capen Street, Medford, MA                        | Capen         | St
 124 Mount Auburn St, Cambridge, Massachusetts 02138 | Mount Auburn  | St
 950 Main Street, Worcester, MA 01610                | Main          | St
 529 Main Street, Boston MA, 02129                   | Main          | St
 77 Massachusetts Avenue, Cambridge, MA 02139        | Massachusetts | Ave
 25 Wizard of Oz, Walaford, KS 99912323              | Wizard of Oz  |
        </pre></div><div class="refsection" id="idm38607"><h2>Voir aussi</h2><p><a class="xref" href="#Geocode" title="Geocode">Geocode</a>, <a class="xref" href="#Pprint_Addy" title="Pprint_Addy">Pprint_Addy</a></p></div></div><div class="refentry" id="Pagc_Normalize_Address"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Pagc_Normalize_Address — Étant donné une adresse textuelle, cette fonction renvoie un type composite <code class="varname">norm_addy</code> qui contient le suffixe de la route, le préfixe et le type normalisé, la rue, le nom de la rue, etc. divisés en champs distincts. Cette fonction fonctionne uniquement avec les données de recherche fournies avec le géocodeur tiger (pas besoin pour les données de recensement tiger). Nécessite l'extension address_standardizer.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">norm_addy <strong class="fsfunc">pagc_normalize_address</strong>(</code>varchar  <var class="pdparam">in_address</var><code>)</code>;</p></div></div><div class="refsection" id="idm38625"><h2>Description</h2><p>Étant donné une adresse textuelle, cette fonction renvoie un type composite <code class="varname">norm_addy</code> qui contient le suffixe de la route, le préfixe et le type normalisé, la rue, le nom de la rue, etc. divisés en champs distincts. Il s'agit de la première étape du processus de géocodage visant à normaliser toutes les adresses sous forme postale. Aucune autre donnée n'est nécessaire en dehors de celles fournies avec le géocodeur.</p><p>Cette fonction utilise simplement les diverses tables de recherche pagc_* préchargées avec le géocodeur tiger et situées dans le schéma <code class="varname">tiger</code>, de sorte qu'il n'est pas nécessaire de télécharger les données de recensement tiger ou d'autres données supplémentaires pour l'utiliser. Il se peut que vous ayez besoin d'ajouter des abréviations ou des noms alternatifs aux différentes tables de recherche du schéma <code class="varname">tiger</code>.</p><p>Il utilise diverses tables de contrôle situées dans le schéma <code class="varname">tiger</code> pour normaliser l'adresse d'entrée.</p><p>Les champs de l'objet de type <code class="varname">norm_addy</code> renvoyés par cette fonction dans cet ordre où () indique un champ requis par le géocodeur, [] indique un champ optionnel :</p><p>Il existe de légères variations dans la casse et le formatage des <a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a>.</p><p class="availability">Disponibilité : 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> Cette méthode nécessite l'extension address_standardizer. </p><p>(address) [predirAbbrev] (streetName) [streetTypeAbbrev] [postdirAbbrev] [internal] [location] [stateAbbrev] [zip]</p><p>Le standardaddr natif de l'extension address_standardizer est pour l'instant un peu plus riche que norm_addy puisqu'il est conçu pour prendre en charge les adresses internationales (y compris le pays). Les champs équivalents au standardaddr sont :</p><p>house_num,predir, name, suftype, sufdir, unit, city, state, postcode</p><p class="enhanced">Amélioré : 2.4.0 L'objet norm_addy comprend des champs supplémentaires zip4 et address_alphanumeric.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">address</code> est un nombre entier : Le numéro de la rue</p></li><li class="listitem"><p><code class="varname">predirAbbrev</code> est varchar : Préfixe directionnel de la route tel que N, S, E, W, etc. Ces préfixes sont contrôlés à l'aide de la table <code class="varname">direction_lookup</code>.</p></li><li class="listitem"><p><code class="varname">streetName</code> varchar</p></li><li class="listitem"><p><code class="varname">streetTypeAbbrev</code> varchar version abrégée du type de rue : par exemple St, Ave, Cir. Ceux-ci sont contrôlés à l'aide de la table <code class="varname">street_type_lookup</code>.</p></li><li class="listitem"><p><code class="varname">postdirAbbrev</code> varchar abrégé directionnel suffixe de la route N, S, E, W etc. Elles sont contrôlées à l'aide de la table <code class="varname">direction_lookup</code>.</p></li><li class="listitem"><p><code class="varname">internal</code> varchar adresse interne telle qu'un numéro d'appartement ou de suite.</p></li><li class="listitem"><p><code class="varname">location</code> varchar généralement une ville ou une province.</p></li><li class="listitem"><p><code class="varname">stateAbbrev</code> varchar deux caractères État américain, par exemple MA, NY, MI. Ceux-ci sont contrôlés par la table <code class="varname">state_lookup</code>.</p></li><li class="listitem"><p><code class="varname">zip</code> varchar Code postal à 5 chiffres, par exemple 02109.</p></li><li class="listitem"><p><code class="varname">parsed</code> booléen - indique si l'adresse a été formée à partir du processus de normalisation. La fonction normalize_address fixe cette valeur à true avant de renvoyer l'adresse.</p></li><li class="listitem"><p><code class="varname">zip4</code> 4 derniers chiffres d'un code postal à 9 chiffres. Disponibilité : PostGIS 2.4.0.</p></li><li class="listitem"><p><code class="varname">address_alphanumeric</code> Numéro de rue complet, même s'il contient des caractères alpha comme 17R. Il est préférable d'utiliser la fonction <a class="xref" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a>. Disponibilité : PostGIS 2.4.0.</p></li></ol></div></div><div class="refsection" id="idm38689"><h2>Exemples</h2><p>Exemple d'appel unique</p><pre class="programlisting">SELECT addy.*
FROM pagc_normalize_address('9000 E ROO ST STE 999, Springfield, CO') AS addy;


 address | predirabbrev | streetname | streettypeabbrev | postdirabbrev | internal  |  location   | stateabbrev | zip | parsed
---------+--------------+------------+------------------+---------------+-----------+-------------+-------------+-----+--------
    9000 | E            | ROO        | ST               |               | SUITE 999 | SPRINGFIELD | CO          |     | t</pre><p>Appel par lots. Il y a actuellement des problèmes de vitesse avec la façon dont postgis_tiger_geocoder mobilise l'address_standardizer. Ces problèmes seront résolus dans les prochaines éditions. Pour les contourner, si vous avez besoin de rapidité pour le géocodage par lots pour appeler la génération d'un normaddy en mode batch, nous vous encourageons à appeler directement la fonction address_standardizer standardize_address comme indiqué ci-dessous qui est un exercice similaire à ce que nous avons fait dans <a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a> qui utilise les données créées dans <a class="xref" href="#Geocode" title="Geocode">Geocode</a>.</p><pre class="programlisting">WITH g AS (SELECT address, ROW((sa).house_num, (sa).predir, (sa).name
  , (sa).suftype, (sa).sufdir, (sa).unit , (sa).city, (sa).state, (sa).postcode, true)::norm_addy As na
 FROM (SELECT address, standardize_address('tiger.pagc_lex'
       , 'tiger.pagc_gaz'
       , 'tiger.pagc_rules', address) As sa
        FROM addresses_to_geocode) As g)
SELECT address As orig, (g.na).streetname, (g.na).streettypeabbrev
 FROM  g;

 orig                                                |  streetname   | streettypeabbrev
-----------------------------------------------------+---------------+------------------
 529 Main Street, Boston MA, 02129                   | MAIN          | ST
 77 Massachusetts Avenue, Cambridge, MA 02139        | MASSACHUSETTS | AVE
 25 Wizard of Oz, Walaford, KS 99912323              | WIZARD OF     |
 26 Capen Street, Medford, MA                        | CAPEN         | ST
 124 Mount Auburn St, Cambridge, Massachusetts 02138 | MOUNT AUBURN  | ST
 950 Main Street, Worcester, MA 01610                | MAIN          | ST</pre></div><div class="refsection" id="idm38697"><h2>Voir aussi</h2><p><a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a>, <a class="xref" href="#Geocode" title="Geocode">Geocode</a></p></div></div><div class="refentry" id="Pprint_Addy"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Pprint_Addy — Étant donné un objet de type composite <code class="varname">norm_addy</code>, renvoie une jolie représentation de celui-ci. Généralement utilisé en conjonction avec normalize_address.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">varchar <strong class="fsfunc">pprint_addy</strong>(</code>norm_addy  <var class="pdparam">in_addy</var><code>)</code>;</p></div></div><div class="refsection" id="idm38715"><h2>Description</h2><p>Étant donné un objet de type composite <code class="varname">norm_addy</code>, il renvoie une jolie représentation de cet objet. Aucune autre donnée n'est nécessaire en dehors de celles fournies avec le géocodeur.</p><p>Généralement utilisé en conjonction avec <a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a>.</p></div><div class="refsection" id="idm38721"><h2>Exemples</h2><p>Jolie représentation d'une adresse unique</p><pre class="programlisting">SELECT pprint_addy(normalize_address('202 East Fremont Street, Las Vegas, Nevada 89101')) As pretty_address;
            pretty_address
---------------------------------------
 202 E Fremont St, Las Vegas, NV 89101
        </pre><p>Jolie représentation d'adresses à partir d'une table d'adresses</p><pre class="programlisting">SELECT address As orig, pprint_addy(normalize_address(address)) As pretty_address
        FROM addresses_to_geocode;

                        orig                         |              pretty_address
-----------------------------------------------------+-------------------------------------------
 529 Main Street, Boston MA, 02129                   | 529 Main St, Boston MA, 02129
 77 Massachusetts Avenue, Cambridge, MA 02139        | 77 Massachusetts Ave, Cambridge, MA 02139
 28 Capen Street, Medford, MA                        | 28 Capen St, Medford, MA
 124 Mount Auburn St, Cambridge, Massachusetts 02138 | 124 Mount Auburn St, Cambridge, MA 02138
 950 Main Street, Worcester, MA 01610                | 950 Main St, Worcester, MA 01610</pre></div><div class="refsection" id="idm38727"><h2>Voir aussi</h2><p><a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a></p></div></div><div class="refentry" id="Reverse_Geocode"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Reverse_Geocode — Prend un point géométrique dans un système spatial connu et renvoie un enregistrement contenant un tableau d'adresses théoriquement possibles et un tableau de rues transversales. Si include_strnum_range = true, la plage de rues est incluse dans les rues transversales.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">record <strong class="fsfunc">Reverse_Geocode</strong>(</code>geometry  <var class="pdparam">pt</var>, boolean  <var class="pdparam">include_strnum_range=false</var>, geometry[]  <var class="pdparam">OUT intpt</var>, norm_addy[]  <var class="pdparam">OUT addy</var>, varchar[]  <var class="pdparam">OUT street</var><code>)</code>;</p></div></div><div class="refsection" id="idm38755"><h2>Description</h2><p>Prend un point géométrique dans un réf spatial connu et renvoie un enregistrement contenant un tableau d'adresses théoriquement possibles et un tableau de rues transversales. Si include_strnum_range = true, la plage de rues est incluse dans les rues transversales. include_strnum_range prend par défaut la valeur false s'il n'est pas fourni. Les adresses sont triées en fonction de la route dont le point est le plus proche, de sorte que la première adresse est très probablement la bonne.</p><p>Pourquoi parle-t-on d'adresses théoriques plutôt que d'adresses réelles ? Les données Tiger ne contiennent pas d'adresses réelles, mais seulement des tranches de rues. L'adresse théorique est donc une adresse interpolée sur la base de l'étendue des rues. Par exemple, l'interpolation d'une de mes adresses donne 26 Court St. et 26 Court Sq. alors que le 26 Court Sq. n'existe pas. Cela s'explique par le fait qu'un point peut se trouver à l'angle de deux rues et que la logique interpole donc le long des deux rues. La logique suppose également que les adresses sont également espacées le long d'une rue, ce qui est bien sûr faux puisqu'un bâtiment municipal peut occuper une bonne partie de la rue et que le reste des bâtiments est regroupé à l'extrémité.</p><p>Note : Hmm cette fonction repose sur les données Tiger. Si vous n'avez pas chargé de données couvrant la région de ce point, vous obtiendrez un enregistrement rempli de NULLS.</p><p>Les éléments renvoyés de l'enregistrement sont les suivants :</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">intpt</code> est un tableau de points : Il s'agit des points de la ligne centrale de la rue les plus proches du point d'entrée. Il y a autant de points que d'adresses.</p></li><li class="listitem"><p><code class="varname">addy</code> est un tableau de norm_addy (adresses normalisées) : Il s'agit d'un tableau d'adresses possibles correspondant au point d'entrée. La première adresse du tableau est la plus probable. En général, il ne devrait y en avoir qu'une seule, sauf dans le cas où un point se trouve à l'angle de deux ou trois rues, ou si le point se trouve quelque part sur la route et non sur le côté.</p></li><li class="listitem"><p><code class="varname">street</code> un tableau de varchar : Il s'agit des rues transversales (ou de la rue) (rues qui croisent ou sont la rue sur laquelle le point est projeté).</p></li></ol></div><p class="enhanced">Amélioration : 2.4.1 si le jeu de données optionnel zcta5 est chargé, la fonction reverse_geocode peut résoudre l'état et le code postal même si les données spécifiques à l'état ne sont pas chargées. Voir <a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a> pour plus de détails sur le chargement des données zcta5.</p><p class="availability">Disponibilité : 2.0.0 </p></div><div class="refsection" id="idm38774"><h2>Exemples</h2><p>Exemple d'un point situé à l'angle de deux rues, mais le plus proche d'une seule. C'est l'emplacement approximatif du MIT : 77 Massachusetts Ave, Cambridge, MA 02139 Notez que bien que nous n'ayons pas 3 rues, PostgreSQL retournera simplement null pour les entrées supérieures à notre limite supérieure, ce qui permet de l'utiliser en toute sécurité. Cela inclut les plages de rues</p><pre class="programlisting">SELECT pprint_addy(r.addy[1]) As st1, pprint_addy(r.addy[2]) As st2, pprint_addy(r.addy[3]) As st3,
            array_to_string(r.street, ',') As cross_streets
        FROM reverse_geocode(ST_GeomFromText('POINT(-71.093902 42.359446)',4269),true) As r;

 result
 ------
      st1                                  | st2 | st3 |               cross_streets
-------------------------------------------+-----+-----+----------------------------------------------
 67 Massachusetts Ave, Cambridge, MA 02139 |     |     | 67 - 127 Massachusetts Ave,32 - 88 Vassar St</pre><p>Ici, nous avons choisi de ne pas inclure les plages d'adresses pour les rues transversales et nous avons choisi un emplacement vraiment très proche d'un coin de deux rues, qui pourrait donc être connu sous deux adresses différentes.</p><pre class="programlisting">SELECT pprint_addy(r.addy[1]) As st1, pprint_addy(r.addy[2]) As st2,
pprint_addy(r.addy[3]) As st3, array_to_string(r.street, ',') As cross_str
FROM reverse_geocode(ST_GeomFromText('POINT(-71.06941 42.34225)',4269)) As r;

result
--------
               st1               |               st2               | st3 | cross_str
---------------------------------+---------------------------------+-----+------------------------
 5 Bradford St, Boston, MA 02118 | 49 Waltham St, Boston, MA 02118 |     | Waltham St
</pre><p>Pour celui-ci, nous réutilisons notre exemple géocodé de <a class="xref" href="#Geocode" title="Geocode">Geocode</a> et nous ne voulons que l'adresse principale et au plus deux rues transversales.</p><pre class="programlisting">
SELECT actual_addr, lon, lat, pprint_addy((rg).addy[1]) As int_addr1,
    (rg).street[1] As cross1, (rg).street[2] As cross2
FROM (SELECT address As actual_addr, lon, lat,
    reverse_geocode( ST_SetSRID(ST_Point(lon,lat),4326) ) As rg
    FROM addresses_to_geocode WHERE rating 
&gt; -1) As foo;

                     actual_addr                     |    lon    |   lat    |                 int_addr1                 |     cross1      |   cross2
-----------------------------------------------------+-----------+----------+-------------------------------------------+-----------------+------------
 529 Main Street, Boston MA, 02129                   | -71.07181 | 42.38359 | 527 Main St, Boston, MA 02129             | Medford St      |
 77 Massachusetts Avenue, Cambridge, MA 02139        | -71.09428 | 42.35988 | 77 Massachusetts Ave, Cambridge, MA 02139 | Vassar St       |
 26 Capen Street, Medford, MA                        | -71.12377 | 42.41101 | 9 Edison Ave, Medford, MA 02155           | Capen St        | Tesla Ave
 124 Mount Auburn St, Cambridge, Massachusetts 02138 | -71.12304 | 42.37328 | 3 University Rd, Cambridge, MA 02138      | Mount Auburn St |
 950 Main Street, Worcester, MA 01610                | -71.82368 | 42.24956 | 3 Maywood St, Worcester, MA 01603         | Main St         | Maywood Pl

</pre></div><div class="refsection" id="idm38783"><h2>Voir aussi</h2><p><a class="xref" href="#Pprint_Addy" title="Pprint_Addy">Pprint_Addy</a>, <a class="xref" href="#Geocode" title="Geocode">Geocode</a>, <a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a></p></div></div><div class="refentry" id="Topology_Load_Tiger"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Topology_Load_Tiger — Charge une région définie de données tiger dans une topologie PostGIS et transforme les données tiger en référence spatiale de la topologie et en s'adaptant à la tolérance de précision de la topologie.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Topology_Load_Tiger</strong>(</code>varchar  <var class="pdparam">topo_name</var>, varchar  <var class="pdparam">region_type</var>, varchar  <var class="pdparam">region_id</var><code>)</code>;</p></div></div><div class="refsection" id="idm38807"><h2>Description</h2><p>Charge une région définie de données tigrées dans une topologie PostGIS. Les faces, les nœuds et les arêtes sont transformés dans le système de référence spatiale de la topologie cible et les points sont adaptés à la tolérance de la topologie cible. Les faces, les nœuds et les arêtes créés conservent les mêmes identifiants que les faces, les nœuds et les arêtes des données Tiger d'origine, de sorte que les ensembles de données puissent à l'avenir être plus facilement réconciliés avec les données Tiger. Renvoie un résumé des détails du processus.</p><p>Cela peut s'avérer utile, par exemple, pour les données de redécoupage, lorsque les polygones nouvellement formés doivent suivre les lignes centrales des rues et que les polygones résultants ne doivent pas se chevaucher.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Cette fonction repose sur les données Tiger ainsi que sur l'installation du module topologique PostGIS. Pour plus d'informations, voir <a class="xref" href="#Topology" title="Chapter 9. Topologie">Chapter 9, <em>Topologie</em></a> et <a class="xref" href="#installation_configuration" title="2.2.3. Configuration de la compilation">Section 2.2.3, “Configuration de la compilation”</a>. Si vous n'avez pas chargé de données couvrant la région concernée, aucun enregistrement topologique ne sera créé. Cette fonction échouera également si vous n'avez pas créé de topologie à l'aide des fonctions de topologie.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>La plupart des erreurs de validation de la topologie sont dues à des problèmes de tolérance : après la transformation, les points des arêtes ne s'alignent pas tout à fait ou ne se chevauchent pas. Pour remédier à cette situation, vous pouvez augmenter ou réduire la précision si vous obtenez des échecs de validation de la topologie.</p></td></tr></table></div><p>Arguments requis :</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">topo_name</code> Le nom d'une topologie PostGIS existante dans laquelle charger les données.</p></li><li class="listitem"><p><code class="varname">region_type</code> Type de région délimitée. Actuellement, seuls <code class="varname">place</code> et <code class="varname">county</code> sont pris en charge. Il est prévu d'en avoir plusieurs autres. Il s'agit de la table à consulter pour définir les limites de la région, par exemple <code class="varname">tiger.place</code>, <code class="varname">tiger.county</code></p></li><li class="listitem"><p><code class="varname">region_id</code> C'est ce que TIGER appelle le geoid. Il s'agit de l'identifiant unique de la région dans la table. Pour la table place, il s'agit de la colonne <code class="varname">plcidfp</code> dans <code class="varname">tiger.place</code>. Pour la table county, il s'agit de la colonne <code class="varname">cntyidfp</code> dans <code class="varname">tiger.county</code> </p></li></ol></div><p class="availability">Disponibilité : 2.0.0 </p></div><div class="refsection" id="idm38837"><h2>Exemple : Boston, Massachusetts Topologie</h2><p>Créez une topologie pour Boston, Massachusetts dans Mass State Plane Feet (2249) avec une tolérance de 0,25 pied, puis chargez dans Boston city tiger faces, edges, nodes.</p><pre class="programlisting">SELECT topology.CreateTopology('topo_boston', 2249, 0.25);
createtopology
--------------
   15
-- 60,902 ms ~ 1 minute on windows 7 desktop running 9.1 (with 5 states tiger data loaded)
SELECT tiger.topology_load_tiger('topo_boston', 'place', '2507000');
-- topology_loader_tiger --
29722 edges holding in temporary. 11108 faces added. 1875 edges of faces added.  20576 nodes added.
19962 nodes contained in a face.  0 edge start end corrected.  31597 edges added.

-- 41 ms --
SELECT topology.TopologySummary('topo_boston');
 -- topologysummary--
Topology topo_boston (15), SRID 2249, precision 0.25
20576 nodes, 31597 edges, 11109 faces, 0 topogeoms in 0 layers

-- 28,797 ms to validate yeh returned no errors --
SELECT * FROM
    topology.ValidateTopology('topo_boston');

       error       |   id1    |    id2
-------------------+----------+-----------
      </pre></div><div class="refsection" id="idm38841"><h2>Exemple : Suffolk, Massachusetts Topologie</h2><p>Créez une topologie pour Suffolk, Mass State Plane Meters (26986) avec une tolérance de 0,25 mètre, puis chargez dans le schéma tiger du comté de Suffolk les faces, edges, nodes.</p><pre class="programlisting">SELECT topology.CreateTopology('topo_suffolk', 26986, 0.25);
-- this took 56,275 ms ~ 1 minute on Windows 7 32-bit with 5 states of tiger loaded
-- must have been warmed up after loading boston
SELECT tiger.topology_load_tiger('topo_suffolk', 'county', '25025');
-- topology_loader_tiger --
 36003 edges holding in temporary. 13518 faces added. 2172 edges of faces added.
 24761 nodes added.  24075 nodes contained in a face.  0 edge start end corrected.  38175 edges added.
-- 31 ms --
SELECT topology.TopologySummary('topo_suffolk');
 -- topologysummary--
 Topology topo_suffolk (14), SRID 26986, precision 0.25
24761 nodes, 38175 edges, 13519 faces, 0 topogeoms in 0 layers

-- 33,606 ms to validate --
SELECT * FROM
    topology.ValidateTopology('topo_suffolk');

       error       |   id1    |    id2
-------------------+----------+-----------
 coincident nodes  | 81045651 |  81064553
 edge crosses node | 81045651 |  85737793
 edge crosses node | 81045651 |  85742215
 edge crosses node | 81045651 | 620628939
 edge crosses node | 81064553 |  85697815
 edge crosses node | 81064553 |  85728168
 edge crosses node | 81064553 |  85733413
      </pre></div><div class="refsection" id="idm38845"><h2>Voir aussi</h2><p><a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a>, <a class="xref" href="#TopologySummary" title="TopologySummary">TopologySummary</a>, <a class="xref" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a></p></div></div><div class="refentry" id="Set_Geocode_Setting"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Set_Geocode_Setting — Définit un paramètre qui affecte le comportement des fonctions du géocodeur.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Set_Geocode_Setting</strong>(</code>text  <var class="pdparam"> setting_name</var>, text  <var class="pdparam"> setting_value</var><code>)</code>;</p></div></div><div class="refsection" id="idm38867"><h2>Description</h2><p>Définit la valeur d'un paramètre spécifique stocké dans la table <code class="varname">tiger.geocode_settings</code>. Les paramètres permettent d'activer le débogage des fonctions. Plus tard, il sera envisagé de contrôler la notation à l'aide de paramètres. La liste actuelle des paramètres est listée dans <a class="xref" href="#Get_Geocode_Setting" title="Get_Geocode_Setting">Get_Geocode_Setting</a>.</p><p class="availability">Disponibilité : 2.1.0</p></div><div class="refsection" id="idm38873"><h2>Exemple de paramétrage du débogage de retour</h2><p>Si vous exécutez <a class="xref" href="#Geocode" title="Geocode">Geocode</a> alors que cette fonction est vraie, le journal NOTICE indiquera le temps et les requêtes.</p><pre class="programlisting">SELECT set_geocode_setting('debug_geocode_address', 'true') As result;
result
---------
true</pre></div><div class="refsection" id="idm38878"><h2>Voir aussi</h2><p><a class="xref" href="#Get_Geocode_Setting" title="Get_Geocode_Setting">Get_Geocode_Setting</a></p></div></div></section></section><section class="chapter" id="PostGIS_Special_Functions_Index"><div class="titlepage"><div><div><h1 class="title">Chapter 13. Index des fonctions spéciales de PostGIS</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#PostGIS_Aggregate_Functions">13.1. Fonctions d'agrégation de PostGIS</a></span></li><li><span class="section"><a href="#PostGIS_Window_Functions">13.2. Fonctions Window PostGIS</a></span></li><li><span class="section"><a href="#PostGIS_SQLMM_Functions">13.3. Fonctions de PostGIS compatibles avec SQL-MM</a></span></li><li><span class="section"><a href="#PostGIS_GeographyFunctions">13.4. Fonctions d'aide au type geography de PostGIS</a></span></li><li><span class="section"><a href="#PostGIS_RasterFunctions">13.5. Fonctions de support des données raster de PostGIS</a></span></li><li><span class="section"><a href="#PostGIS_Geometry_DumpFunctions">13.6. Fonctions PostGIS de dump Geometry / Geography / Raster</a></span></li><li><span class="section"><a href="#PostGIS_BoxFunctions">13.7. Fonctions Box de PostGIS</a></span></li><li><span class="section"><a href="#PostGIS_3D_Functions">13.8. Fonctions PostGIS supportant la 3D</a></span></li><li><span class="section"><a href="#PostGIS_Curved_GeometryFunctions">13.9. Fonctions d'aide aux géométries courbes de PostGIS</a></span></li><li><span class="section"><a href="#PostGIS_PS_GeometryFunctions">13.10. Fonctions de support des surfaces polyédriques de PostGIS</a></span></li><li><span class="section"><a href="#PostGIS_TypeFunctionMatrix">13.11. Matrice d'aide aux fonctions de PostGIS</a></span></li><li><span class="section"><a href="#NewFunctions">13.12. Fonctions PostGIS nouvelles, améliorées ou modifiées</a></span></li></ul></div><section class="section" id="PostGIS_Aggregate_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.1. Fonctions d'agrégation de PostGIS</h2></div></div></div><p>Les fonctions ci-dessous sont des fonctions d'agrégation spatiale qui sont utilisées de la même manière que les fonctions d'agrégation SQL telles que <code class="code">sum</code> et <code class="code">average</code>.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a> - Perform 3D union using postgis_sfcgal.</li><li class="listitem"><a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a> - Fonction d'agrégation qui renvoie la boîte de délimitation 3D des géométries.</li><li class="listitem"><a class="link" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a> - Effectuer l'union 3D.</li><li class="listitem"><a class="link" href="#ST_AsFlatGeobuf" title="ST_AsFlatGeobuf">ST_AsFlatGeobuf</a> - Renvoie une représentation FlatGeobuf d'un ensemble de lignes.</li><li class="listitem"><a class="link" href="#ST_AsGeobuf" title="ST_AsGeobuf">ST_AsGeobuf</a> - Retourne une représentation Geobuf d'un ensemble de lignes.</li><li class="listitem"><a class="link" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a> - Fonction d'agrégation renvoyant une représentation MVT d'un ensemble de lignes.</li><li class="listitem"><a class="link" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a> - Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie d'entrée en utilisant l'algorithme DBSCAN.</li><li class="listitem"><a class="link" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a> - Fonction d'agrégation qui regroupe les géométries en entrée en ensembles connectés.</li><li class="listitem"><a class="link" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a> - Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée, en regroupant les géométries en entrée en ensembles connectés.</li><li class="listitem"><a class="link" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a> - Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée en utilisant l'algorithme K-means.</li><li class="listitem"><a class="link" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a> - Fonction agrégée qui regroupe les géométries en fonction de la distance de séparation.</li><li class="listitem"><a class="link" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a> - Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée, regroupement en utilisant la distance de séparation.</li><li class="listitem"><a class="link" href="#ST_Collect" title="ST_Collect">ST_Collect</a> - Crée une géométrie GeometryCollection ou Multi à partir d'un ensemble de géométries.</li><li class="listitem"><a class="link" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a> - Fonction window qui trouve les endroits où les polygones ne forment pas une couverture valide.</li><li class="listitem"><a class="link" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> - Fonction window qui simplifie les bords d'une couverture polygonale.</li><li class="listitem"><a class="link" href="#ST_CoverageUnion" title="ST_CoverageUnion">ST_CoverageUnion</a> - Calcule l'union d'un ensemble de polygones formant une couverture en supprimant les arêtes communes.</li><li class="listitem"><a class="link" href="#ST_Extent" title="ST_Extent">ST_Extent</a> - Fonction agrégée qui renvoie la boîte de délimitation des géométries.</li><li class="listitem"><a class="link" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a> - Crée une LineString à partir de géométries Point, MultiPoint ou LineString.</li><li class="listitem"><a class="link" href="#ST_MemUnion" title="ST_MemUnion">ST_MemUnion</a> - Fonction d'agrégation qui fusionne les géométries d'une manière efficace sur le plan de la mémoire mais plus lente</li><li class="listitem"><a class="link" href="#ST_Polygonize" title="ST_Polygonize">ST_Polygonize</a> - Calcule une collection de polygones formés à partir du tracé d'un ensemble de géométries.</li><li class="listitem"><a class="link" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a> - Retourne true si les rasters ont les mêmes skew, scale, spatial ref, et offset (les pixels peuvent être placés sur la même grille sans être coupés) et false si ce n'est pas le cas, avec une NOTICE détaillant le problème.</li><li class="listitem"><a class="link" href="#ST_Union" title="ST_Union">ST_Union</a> - Calcule une géométrie représentant l'union des ensembles de points des géométries d'entrée.</li><li class="listitem"><a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a> - Retourne l'union d'un ensemble de tuiles raster, en un seul raster composé de 1 ou plusieurs bandes.</li><li class="listitem"><a class="link" href="#TopoElementArray_Agg" title="TopoElementArray_Agg">TopoElementArray_Agg</a> - Renvoie un topoelementarray pour un ensemble de tableaux de type, element_id (topoelements).</li></ul></div></section><section class="section" id="PostGIS_Window_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.2. Fonctions Window PostGIS</h2></div></div></div><p>Les fonctions ci-dessous sont des fonctions window spatiale qui sont utilisées de la même manière que les fonctions de fenêtre SQL telles que <code class="code">row_number()</code>, <code class="code">lead()</code>, et <code class="code">lag()</code>. Elles doivent être suivies d'une clause <code class="code">OVER()</code>.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a> - Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie d'entrée en utilisant l'algorithme DBSCAN.</li><li class="listitem"><a class="link" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a> - Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée, en regroupant les géométries en entrée en ensembles connectés.</li><li class="listitem"><a class="link" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a> - Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée en utilisant l'algorithme K-means.</li><li class="listitem"><a class="link" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a> - Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée, regroupement en utilisant la distance de séparation.</li><li class="listitem"><a class="link" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a> - Fonction window qui trouve les endroits où les polygones ne forment pas une couverture valide.</li><li class="listitem"><a class="link" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> - Fonction window qui simplifie les bords d'une couverture polygonale.</li></ul></div></section><section class="section" id="PostGIS_SQLMM_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.3. Fonctions de PostGIS compatibles avec SQL-MM</h2></div></div></div><p>Les fonctions ci-dessous sont des fonctions PostGIS conformes à la norme SQL/MM 3</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#CG_3DArea" title="CG_3DArea">CG_3DArea</a> - Calcule la surface des géométries de surface 3D. Retourne 0 pour les solides.</li><li class="listitem"><a class="link" href="#CG_3DDifference" title="CG_3DDifference">CG_3DDifference</a> - Effectuer une différence 3D</li><li class="listitem"><a class="link" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a> - Réaliser une intersection 3D</li><li class="listitem"><a class="link" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a> - Perform 3D union using postgis_sfcgal.</li><li class="listitem"><a class="link" href="#CG_Volume" title="CG_Volume">CG_Volume</a> - Calcule le volume d'un solide 3D. S'il est appliqué à des géométries de surface (même fermées), il renvoie 0.</li><li class="listitem"><a class="link" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a> - Calcule la surface des géométries de surface 3D. Retourne 0 pour les solides.</li><li class="listitem"><a class="link" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a> - Teste si deux géométries 3D se trouvent à une distance 3D donnée</li><li class="listitem"><a class="link" href="#ST_3DDifference" title="ST_3DDifference">ST_3DDifference</a> - Effectuer une différence 3D</li><li class="listitem"><a class="link" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a> - Renvoie la distance cartésienne minimale en 3D (basée sur la référence spatiale) entre deux géométries en unités projetées.</li><li class="listitem"><a class="link" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a> - Réaliser une intersection 3D</li><li class="listitem"><a class="link" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a> - Teste si deux géométries se croisent dans l'espace en 3D - uniquement pour les points, les lignes, les polygones, les surfaces polyédriques (aire)</li><li class="listitem"><a class="link" href="#ST_3DLength" title="ST_3DLength">ST_3DLength</a> - Renvoie la longueur 3D d'une géométrie linéaire.</li><li class="listitem"><a class="link" href="#ST_3DPerimeter" title="ST_3DPerimeter">ST_3DPerimeter</a> - Renvoie le périmètre 3D d'une géométrie polygonale.</li><li class="listitem"><a class="link" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a> - Effectuer l'union 3D.</li><li class="listitem"><a class="link" href="#ST_AddEdgeModFace" title="ST_AddEdgeModFace">ST_AddEdgeModFace</a> - Ajoutez une nouvelle arête et, si elle divise une face, modifiez la face d'origine et ajoutez une nouvelle face.</li><li class="listitem"><a class="link" href="#ST_AddEdgeNewFaces" title="ST_AddEdgeNewFaces">ST_AddEdgeNewFaces</a> - Ajoutez une nouvelle arête et, si elle divise une face, supprimez la face d'origine et remplacez-la par deux nouvelles faces.</li><li class="listitem"><a class="link" href="#ST_AddIsoEdge" title="ST_AddIsoEdge">ST_AddIsoEdge</a> - Ajoute une arête isolée définie par la géométrie alinestring à une topologie reliant deux nœuds isolés existants anode et anothernode et renvoie l'identifiant de l'arête de la nouvelle arête.</li><li class="listitem"><a class="link" href="#ST_AddIsoNode" title="ST_AddIsoNode">ST_AddIsoNode</a> - Ajoute un noeud isolé à une face dans une topologie et renvoie le nodeid du nouveau noeud. Si la face est nulle, le noeud est quand même créé.</li><li class="listitem"><a class="link" href="#ST_Area" title="ST_Area">ST_Area</a> - Renvoie l'aire d'une géométrie polygonale.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Renvoie la représentation OGC/ISO Well-Known Binary (WKB) de la géométrie/geography sans les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Renvoyer la géométrie en tant qu'élément GML version 2 ou 3.</li><li class="listitem"><a class="link" href="#ST_AsText" title="ST_AsText">ST_AsText</a> - Renvoie la représentation Well-Known Text (WKT) de la géométrie/geography sans métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a> - Renvoie la limite d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a> - Calcule une géométrie couvrant tous les points situés à une distance donnée d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a> - Renvoie le centre géométrique d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_ChangeEdgeGeom" title="ST_ChangeEdgeGeom">ST_ChangeEdgeGeom</a> - Modifie la forme d'une arête sans affecter la structure de la topologie.</li><li class="listitem"><a class="link" href="#ST_Contains" title="ST_Contains">ST_Contains</a> - Tests si chaque point de B est situé dans A, et que leurs intérieurs ont un point commun</li><li class="listitem"><a class="link" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a> - Calcule l'enveloppe convexe d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_CoordDim" title="ST_CoordDim">ST_CoordDim</a> - Renvoie la dimension des coordonnées d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_CreateTopoGeo" title="ST_CreateTopoGeo">ST_CreateTopoGeo</a> - Ajoute une collection de géométries à une topologie vide donnée et renvoie un message détaillant le succès.</li><li class="listitem"><a class="link" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a> - Teste si deux géométries ont en commun certains points intérieurs, mais pas tous</li><li class="listitem"><a class="link" href="#ST_CurveN" title="ST_CurveN">ST_CurveN</a> - Renvoie la Nième courbe composante d'une CompoundCurve.</li><li class="listitem"><a class="link" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a> - Convertit une géométrie contenant des courbes en une géométrie linéaire.</li><li class="listitem"><a class="link" href="#ST_Difference" title="ST_Difference">ST_Difference</a> - Calcule une géométrie représentant la partie de la géométrie A qui n'intersecte pas la géométrie B.</li><li class="listitem"><a class="link" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a> - Renvoie la dimension topologique d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a> - Teste si deux géométries n'ont pas de points communs</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Renvoie la distance entre deux valeurs de geometry ou geography.</li><li class="listitem"><a class="link" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a> - Renvoie le dernier point d'une LineString ou CircularLineString.</li><li class="listitem"><a class="link" href="#ST_Envelope" title="ST_Envelope">ST_Envelope</a> - Renvoie une géométrie représentant la boîte de délimitation d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Equals" title="ST_Equals">ST_Equals</a> - Teste si deux géométries comprennent le même ensemble de points</li><li class="listitem"><a class="link" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a> - Renvoie une ligne représentant l'anneau extérieur d'un polygone.</li><li class="listitem"><a class="link" href="#ST_GMLToSQL" title="ST_GMLToSQL">ST_GMLToSQL</a> - Retourne un objet de type ST_Geometry à partir de sa représentation GML. Alias pour ST_GeomFromGML</li><li class="listitem"><a class="link" href="#ST_GeomCollFromText" title="ST_GeomCollFromText">ST_GeomCollFromText</a> - Crée une collection Geometry à partir de la collection WKT avec le SRID donné. Si le SRID n'est pas donné, la valeur par défaut est 0.</li><li class="listitem"><a class="link" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a> - Retourne un objet ST_Geometry à partir de sa représentation textuelle Well-Known Text (WKT).</li><li class="listitem"><a class="link" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a> - Retourne un objet de type geometry à partir de sa représentation binaire Well-Know Binary (WKB) et d'un SRID optionnel.</li><li class="listitem"><a class="link" href="#ST_GeometryFromText" title="ST_GeometryFromText">ST_GeometryFromText</a> - Retourne un objet ST_Geometry à partir de sa représentation textuelle Well-Known Text (WKT). Alias pour ST_GeomFromText</li><li class="listitem"><a class="link" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a> - Renvoie un élément d'une collection de géométries.</li><li class="listitem"><a class="link" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a> - Renvoie le type SQL-MM d'une géométrie sous forme de texte.</li><li class="listitem"><a class="link" href="#ST_GetFaceEdges" title="ST_GetFaceEdges">ST_GetFaceEdges</a> - Renvoie un ensemble d'arêtes ordonnées qui délimitent aface.</li><li class="listitem"><a class="link" href="#ST_GetFaceGeometry" title="ST_GetFaceGeometry">ST_GetFaceGeometry</a> - Renvoie le polygone dans la topologie donnée avec l'identifiant de face spécifié.</li><li class="listitem"><a class="link" href="#ST_InitTopoGeo" title="ST_InitTopoGeo">ST_InitTopoGeo</a> - Crée un nouveau schéma topologique et l'enregistre dans la table topology.topology.</li><li class="listitem"><a class="link" href="#ST_InteriorRingN" title="ST_InteriorRingN">ST_InteriorRingN</a> - Renvoie le Nième anneau intérieur (trou) d'un polygone.</li><li class="listitem"><a class="link" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Calcule une géométrie représentant la partie partagée des géométries A et B.</li><li class="listitem"><a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Teste si deux géométries se croisent (elles ont au moins un point en commun)</li><li class="listitem"><a class="link" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a> - Teste si les points de départ et d'arrivée d'une LineString coïncident. Pour une PolyhedralSurface, teste si elle est fermée (volumétrique).</li><li class="listitem"><a class="link" href="#ST_IsEmpty" title="ST_IsEmpty">ST_IsEmpty</a> - Teste si une géométrie est vide.</li><li class="listitem"><a class="link" href="#ST_IsRing" title="ST_IsRing">ST_IsRing</a> - Teste si une ligne est fermée et simple.</li><li class="listitem"><a class="link" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a> - Teste si une géométrie n'a pas de points d'auto-intersection ou d'auto-tangente.</li><li class="listitem"><a class="link" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a> - Teste si une géométrie est bien formée en 2D.</li><li class="listitem"><a class="link" href="#ST_Length" title="ST_Length">ST_Length</a> - Renvoie la longueur 2D d'une géométrie linéaire.</li><li class="listitem"><a class="link" href="#ST_LineFromText" title="ST_LineFromText">ST_LineFromText</a> - Construit une géométrie à partir d'une représentation WKT avec le SRID donné. Si aucun SRID n'est donné, la valeur par défaut est 0.</li><li class="listitem"><a class="link" href="#ST_LineFromWKB" title="ST_LineFromWKB">ST_LineFromWKB</a> - Construit une LINESTRING depuis la représentation binaire WKB et le srid donné</li><li class="listitem"><a class="link" href="#ST_LinestringFromWKB" title="ST_LinestringFromWKB">ST_LinestringFromWKB</a> - Construit une géométrie depuis la représentation binaire WKB et le SRID donné.</li><li class="listitem"><a class="link" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a> - Renvoie le(s) point(s) d'une géométrie qui correspond(ent) à une valeur de mesure.</li><li class="listitem"><a class="link" href="#ST_LocateBetween" title="ST_LocateBetween">ST_LocateBetween</a> - Renvoie les parties d'une géométrie qui correspondent à un intervalle de mesure.</li><li class="listitem"><a class="link" href="#ST_M" title="ST_M">ST_M</a> - Renvoie la coordonnée M d'un point.</li><li class="listitem"><a class="link" href="#ST_MLineFromText" title="ST_MLineFromText">ST_MLineFromText</a> - Retourne un objet de type ST_MultiLineString à partir de sa représentation WKT.</li><li class="listitem"><a class="link" href="#ST_MPointFromText" title="ST_MPointFromText">ST_MPointFromText</a> - Créé une Geometry depuis un WKT avec le SRID donné. Si le SRID n'est pas fourni, il sera défini par défaut à 0.</li><li class="listitem"><a class="link" href="#ST_MPolyFromText" title="ST_MPolyFromText">ST_MPolyFromText</a> - Crée une géométrie multi-polygone à partir de WKT avec le SRID donné. Si le SRID n'est pas donné, la valeur par défaut est 0.</li><li class="listitem"><a class="link" href="#ST_ModEdgeHeal" title="ST_ModEdgeHeal">ST_ModEdgeHeal</a> - Répare deux arêtes en supprimant le nœud qui les relie, en modifiant la première arête et en supprimant la seconde. Renvoie l'identifiant du nœud supprimé.</li><li class="listitem"><a class="link" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a> - Fractionner une arête en créant un nouveau nœud le long d'une arête existante, en modifiant l'arête d'origine et en ajoutant une nouvelle arête.</li><li class="listitem"><a class="link" href="#ST_MoveIsoNode" title="ST_MoveIsoNode">ST_MoveIsoNode</a> - Déplace un nœud isolé dans une topologie d'un point à un autre. Si la nouvelle géométrie apoint existe en tant que noeud, une erreur est générée. Retourne la description du déplacement.</li><li class="listitem"><a class="link" href="#ST_NewEdgeHeal" title="ST_NewEdgeHeal">ST_NewEdgeHeal</a> - Répare deux arêtes en supprimant le nœud qui les relie, en supprimant les deux arêtes et en les remplaçant par une arête dont la direction est la même que la première arête fournie.</li><li class="listitem"><a class="link" href="#ST_NewEdgesSplit" title="ST_NewEdgesSplit">ST_NewEdgesSplit</a> - Fractionne une arête en créant un nouveau nœud le long d'une arête existante, en supprimant l'arête d'origine et en la remplaçant par deux nouvelles arêtes. Renvoie l'identifiant du nouveau nœud créé qui relie les nouvelles arêtes.</li><li class="listitem"><a class="link" href="#ST_NumCurves" title="ST_NumCurves">ST_NumCurves</a> - Renvoie le nombre de courbes composantes d'une CompoundCurve.</li><li class="listitem"><a class="link" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> - Renvoie le nombre d'éléments dans une collection de géométrie.</li><li class="listitem"><a class="link" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a> - Renvoie le nombre d'anneaux intérieurs (trous) d'un polygone.</li><li class="listitem"><a class="link" href="#ST_NumPatches" title="ST_NumPatches">ST_NumPatches</a> - Renvoie le nombre de faces d'une surface polyédrique. Retourne null pour les géométries non polyédriques.</li><li class="listitem"><a class="link" href="#ST_NumPoints" title="ST_NumPoints">ST_NumPoints</a> - Renvoie le nombre de points dans une LineString ou une CircularString.</li><li class="listitem"><a class="link" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a> - Teste si deux géométries représentent la même géométrie et ont des points dans le même ordre directionnel</li><li class="listitem"><a class="link" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a> - Teste si deux géométries ont la même dimension et se croisent, mais si chacune a au moins un point qui n'est pas dans l'autre</li><li class="listitem"><a class="link" href="#ST_PatchN" title="ST_PatchN">ST_PatchN</a> - Renvoie la Nième géométrie (face) d'une PolyhedralSurface.</li><li class="listitem"><a class="link" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a> - Renvoie la longueur de la limite d'une géométrie polygonale ou d'une géographie.</li><li class="listitem"><a class="link" href="#ST_Point" title="ST_Point">ST_Point</a> - Crée un point avec des valeurs X, Y et SRID.</li><li class="listitem"><a class="link" href="#ST_PointFromText" title="ST_PointFromText">ST_PointFromText</a> - Construit une géométrie point à partir d'une représentation WKT et le SRID donné. Si aucun SRID n'est donné, la valeur par défaut est 0.</li><li class="listitem"><a class="link" href="#ST_PointFromWKB" title="ST_PointFromWKB">ST_PointFromWKB</a> - Construit une géométrie depuis la représentation binaire WKB et le SRID donné</li><li class="listitem"><a class="link" href="#ST_PointN" title="ST_PointN">ST_PointN</a> - Renvoie le Nième point de la première LineString ou LineString circulaire d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_PointOnSurface" title="ST_PointOnSurface">ST_PointOnSurface</a> - Calcule un point dont on garantit qu'il se trouve dans un polygone ou sur une géométrie.</li><li class="listitem"><a class="link" href="#ST_Polygon" title="ST_Polygon">ST_Polygon</a> - Crée un polygone à partir d'une LineString avec un SRID spécifié.</li><li class="listitem"><a class="link" href="#ST_PolygonFromText" title="ST_PolygonFromText">ST_PolygonFromText</a> - Créé une Geometry depuis un WKT avec le SRID donné. Si le SRID n'est pas fourni, il sera défini par défaut à 0.</li><li class="listitem"><a class="link" href="#ST_Relate" title="ST_Relate">ST_Relate</a> - Teste si deux géométries ont une relation topologique correspondant à un modèle de matrice d'intersection, ou calcule leur matrice d'intersection</li><li class="listitem"><a class="link" href="#ST_RemEdgeModFace" title="ST_RemEdgeModFace">ST_RemEdgeModFace</a> - Supprime une arête et, si l'arête sépare deux faces, supprime une face et modifie l'autre face pour couvrir l'espace des deux.</li><li class="listitem"><a class="link" href="#ST_RemEdgeNewFace" title="ST_RemEdgeNewFace">ST_RemEdgeNewFace</a> - Enlève une arête et, si l'arête enlevée séparait deux faces, supprime les faces originales et les remplace par une nouvelle face.</li><li class="listitem"><a class="link" href="#ST_RemoveIsoEdge" title="ST_RemoveIsoEdge">ST_RemoveIsoEdge</a> - Supprime une arête isolée et renvoie la description de l'action. Si l'arête n'est pas isolée, une exception est levée.</li><li class="listitem"><a class="link" href="#ST_RemoveIsoNode" title="ST_RemoveIsoNode">ST_RemoveIsoNode</a> - Supprime un noeud isolé et renvoie la description de l'action. Si le noeud n'est pas isolé (début ou fin d'une arête), une exception est levée.</li><li class="listitem"><a class="link" href="#ST_SRID" title="ST_SRID">ST_SRID</a> - Renvoie l'identifiant de référence spatiale d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a> - Renvoie le premier point d'une LineString.</li><li class="listitem"><a class="link" href="#ST_SymDifference" title="ST_SymDifference">ST_SymDifference</a> - Calcule une géométrie représentant les parties des géométries A et B qui ne s'intersectent pas.</li><li class="listitem"><a class="link" href="#ST_Touches" title="ST_Touches">ST_Touches</a> - Teste si deux géométries ont au moins un point en commun, mais que leurs intérieurs ne se croisent pas</li><li class="listitem"><a class="link" href="#ST_Transform" title="ST_Transform">ST_Transform</a> - Renvoie une nouvelle géométrie dont les coordonnées ont été transformées dans un système de référence spatial différent.</li><li class="listitem"><a class="link" href="#ST_Union" title="ST_Union">ST_Union</a> - Calcule une géométrie représentant l'union des ensembles de points des géométries d'entrée.</li><li class="listitem"><a class="link" href="#ST_Volume" title="ST_Volume">ST_Volume</a> - Calcule le volume d'un solide 3D. S'il est appliqué à des géométries de surface (même fermées), il renvoie 0.</li><li class="listitem"><a class="link" href="#ST_WKBToSQL" title="ST_WKBToSQL">ST_WKBToSQL</a> - Retourne un objet ST_Geometry à partir de sa représentation textuelle Well-Known Binary (WKB). Alias pour ST_GeomFromWKB sans SRID</li><li class="listitem"><a class="link" href="#ST_WKTToSQL" title="ST_WKTToSQL">ST_WKTToSQL</a> - Retourne un objet ST_Geometry à partir de sa représentation textuelle Well-Known Text (WKT). Alias pour ST_GeomFromText</li><li class="listitem"><a class="link" href="#ST_Within" title="ST_Within">ST_Within</a> - Tests si chaque point de A se trouve dans B, et que leurs intérieurs ont un point commun</li><li class="listitem"><a class="link" href="#ST_X" title="ST_X">ST_X</a> - Renvoie la coordonnée X d'un point.</li><li class="listitem"><a class="link" href="#ST_Y" title="ST_Y">ST_Y</a> - Renvoie la coordonnée Y d'un point.</li><li class="listitem"><a class="link" href="#ST_Z" title="ST_Z">ST_Z</a> - Renvoie la coordonnée Z d'un point.</li><li class="listitem"><a class="link" href="#TG_ST_SRID" title="ST_SRID">ST_SRID</a> - Renvoie l'identifiant de référence spatiale d'une topogeometry.</li></ul></div></section><section class="section" id="PostGIS_GeographyFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.4. Fonctions d'aide au type geography de PostGIS</h2></div></div></div><p>Les fonctions et opérateurs ci-dessous sont des fonctions/opérateurs PostGIS qui prennent en entrée ou renvoient en sortie un objet de type <a class="link" href="#PostGIS_Geography" title="4.3. Type de données Geography">geography</a>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Les fonctions avec un (T) ne sont pas des fonctions géodésiques natives, et utilisent un appel ST_Transform vers et depuis la géométrie pour effectuer l'opération. Par conséquent, elles peuvent ne pas se comporter comme prévu lorsque l'on passe au-dessus de la ligne de base, des pôles, et pour les grandes géométries ou les paires de géométries qui couvrent plus d'une zone UTM. Transformation de base - (favorisant l'UTM, l'azimut Lambert (Nord/Sud), et se rabattant sur le mercator dans le pire des cas)</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_Area" title="ST_Area">ST_Area</a> - Renvoie l'aire d'une géométrie polygonale.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Renvoie la représentation OGC/ISO Well-Known Binary (WKB) de la géométrie/geography sans les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a> - Renvoie la représentation Well-Known Text (WKT) de la géométrie avec les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Renvoyer la géométrie en tant qu'élément GML version 2 ou 3.</li><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Renvoyer une géométrie ou un élément au format GeoJSON.</li><li class="listitem"><a class="link" href="#ST_AsKML" title="ST_AsKML">ST_AsKML</a> - Renvoyer la géométrie sous forme d'élément KML.</li><li class="listitem"><a class="link" href="#ST_AsSVG" title="ST_AsSVG">ST_AsSVG</a> - Renvoie les données de chemin SVG pour une géométrie.</li><li class="listitem"><a class="link" href="#ST_AsText" title="ST_AsText">ST_AsText</a> - Renvoie la représentation Well-Known Text (WKT) de la géométrie/geography sans métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_Azimuth" title="ST_Azimuth">ST_Azimuth</a> - Renvoie l'azimut basé sur le nord d'une ligne entre deux points.</li><li class="listitem"><a class="link" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a> - Calcule une géométrie couvrant tous les points situés à une distance donnée d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a> - Renvoie le centre géométrique d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_ClosestPoint" title="ST_ClosestPoint">ST_ClosestPoint</a> - Renvoie le point 2D sur g1 qui est le plus proche de g2. Il s'agit du premier point de la ligne la plus courte d'une géométrie à l'autre.</li><li class="listitem"><a class="link" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a> - Tests si chaque point de A se trouve dans B</li><li class="listitem"><a class="link" href="#ST_Covers" title="ST_Covers">ST_Covers</a> - Tests si chaque point de B est situé dans A</li><li class="listitem"><a class="link" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a> - Teste si deux géométries se trouvent à une distance donnée</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Renvoie la distance entre deux valeurs de geometry ou geography.</li><li class="listitem"><a class="link" href="#ST_GeogFromText" title="ST_GeogFromText">ST_GeogFromText</a> - Retourne un objet de type geography à partir de sa représentation Well-Know Text (WKT ou EWKT).</li><li class="listitem"><a class="link" href="#ST_GeogFromWKB" title="ST_GeogFromWKB">ST_GeogFromWKB</a> - Retourne un objet de type geography à partir de sa représentation binaire Well-Know Binary (WKB ou EWKB).</li><li class="listitem"><a class="link" href="#ST_GeographyFromText" title="ST_GeographyFromText">ST_GeographyFromText</a> - Retourne un objet de type geography à partir de sa représentation Well-Know Text (WKT ou EWKT).</li><li class="listitem"><a class="link" href="#ST_Geometry_EQ" title="=">=</a> - Renvoie TRUE si les coordonnées et l'ordre des coordonnées de la géométrie/géographie A sont les mêmes que les coordonnées et l'ordre des coordonnées de la géométrie/géographie B.</li><li class="listitem"><a class="link" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Calcule une géométrie représentant la partie partagée des géométries A et B.</li><li class="listitem"><a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Teste si deux géométries se croisent (elles ont au moins un point en commun)</li><li class="listitem"><a class="link" href="#ST_Length" title="ST_Length">ST_Length</a> - Renvoie la longueur 2D d'une géométrie linéaire.</li><li class="listitem"><a class="link" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a> - Renvoie un point interpolé le long d'une ligne à un emplacement fractionnaire.</li><li class="listitem"><a class="link" href="#ST_LineInterpolatePoints" title="ST_LineInterpolatePoints">ST_LineInterpolatePoints</a> - Renvoie des points interpolés le long d'une ligne à un intervalle fractionnaire.</li><li class="listitem"><a class="link" href="#ST_LineLocatePoint" title="ST_LineLocatePoint">ST_LineLocatePoint</a> - Renvoie l'emplacement fractionnaire du point le plus proche d'un point sur une ligne.</li><li class="listitem"><a class="link" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a> - Renvoie la partie d'une ligne située entre deux emplacements fractionnaires.</li><li class="listitem"><a class="link" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a> - Renvoie la longueur de la limite d'une géométrie polygonale ou d'une géographie.</li><li class="listitem"><a class="link" href="#ST_Project" title="ST_Project">ST_Project</a> - Renvoie un point projeté à partir d'un point de départ en fonction d'une distance et d'un azimut.</li><li class="listitem"><a class="link" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a> - Renvoie une geometry/geography modifiée dont aucun segment ne dépasse une distance donnée.</li><li class="listitem"><a class="link" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a> - Renvoie la ligne 2D la plus courte entre deux géométries</li><li class="listitem"><a class="link" href="#ST_Summary" title="ST_Summary">ST_Summary</a> - Renvoie un résumé textuel du contenu d'une géométrie.</li><li class="listitem"><a class="link" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a> - Renvoie la distance en 2D entre A et B.</li><li class="listitem"><a class="link" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a> - Renvoi VRAI si la boite englobante 2D de A intersecte la boite englobante 2D de B.</li></ul></div></section><section class="section" id="PostGIS_RasterFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.5. Fonctions de support des données raster de PostGIS</h2></div></div></div><p>Les fonctions et opérateurs ci-dessous sont des fonctions/opérateurs PostGIS qui prennent en entrée ou renvoient en sortie un objet de type <a class="xref" href="#raster" title="raster">raster</a>. Ils sont classés par ordre alphabétique.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_Box3D" title="Box3D">Box3D</a> - Retourne la représentation 3d de la boîte englobante du raster.</li><li class="listitem"><a class="link" href="#RT_Raster_Contained" title="@">@</a> - Retourne TRUE si la boîte englobante de A est contenue dans celle de B. Utilise des boîtes englobantes en double précision.</li><li class="listitem"><a class="link" href="#RT_Raster_Contains" title="~">~</a> - Retourne TRUE si la boîte englobante de A contient celle de B. Utilise des boîtes englobantes en double précision.</li><li class="listitem"><a class="link" href="#RT_Raster_EQ" title="=">=</a> - Retourne TRUE si la boîte englobante de A est la même que celle de B. Utilise des boîtes englobantes en double précision.</li><li class="listitem"><a class="link" href="#RT_Raster_Intersect" title="&amp;&amp;">&amp;&amp;</a> - Retourne TRUE si la boite englobante de A intersecte la boite englobante de B.</li><li class="listitem"><a class="link" href="#RT_Raster_OverLeft" title="&amp;&lt;">&amp;&lt;</a> - Retourne TRUE si la boîte englobante de A est à gauche de celle de B.</li><li class="listitem"><a class="link" href="#RT_Raster_OverRight" title="&amp;&gt;">&amp;&gt;</a> - Retourne TRUE si la boîte englobante de A est à droite de celle de B.</li><li class="listitem"><a class="link" href="#RT_Raster_Same" title="~=">~=</a> - Renvoie TRUE si la boîte de délimitation de A est la même que celle de B.</li><li class="listitem"><a class="link" href="#RT_Retile" title="ST_Retile">ST_Retile</a> - Retourne un ensemble de tuiles configurées à partir d'une couverture raster composée de tuiles arbitraires.</li><li class="listitem"><a class="link" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a> - Retourne un raster avec la/les nouvelle(s) bande(s) ajouté(s) à un index donné, de type et valeur initiale donnés. Si aucun index n'est spécifié, la bande est ajoutée à la fin.</li><li class="listitem"><a class="link" href="#RT_ST_AsBinary" title="ST_AsBinary/ST_AsWKB">ST_AsBinary/ST_AsWKB</a> - Retourne la représentation Well-Known Binary (WKB) de ce raster.</li><li class="listitem"><a class="link" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a> - Retourne la tuile raster dans le format GDAL raster spécifié. Les formats raster disponibles sont ceux supportés par votre bibliothèque compilée. Utilisez ST_GDALDrivers() pour obtenir la liste des formats supportés par votre bibliothèque.</li><li class="listitem"><a class="link" href="#RT_ST_AsHexWKB" title="ST_AsHexWKB">ST_AsHexWKB</a> - Retourne la représentation hexadécimale Well-Known Binary (WKB) de ce raster.</li><li class="listitem"><a class="link" href="#RT_ST_AsJPEG" title="ST_AsJPEG">ST_AsJPEG</a> - Retourne les bandes sélectionnées du raster sous la forme d'une image JPEG (sous forme de tableau d'octets). Si aucune bande n'est spécifiée, et que le raster a 1 ou plus de 3 bandes, seule la première bande est utilisée. Si le raster a exactement 3 bandes, les 3 bandes sont utilisées et mappées en RGB.</li><li class="listitem"><a class="link" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a> - Retourne les bandes sélectionnées du raster sous la forme d'une image PNG (sous forme de tableau d'octets). Si aucune bande n'est spécifiée et que le raster a 1, 3 ou 4 bandes, toutes les bandes sont utilisées. Si aucune bande n'est spécifiée et que le raster a 2 ou plus de 4 bandes, seule la bande 1 est utilisée. Les bandes sont mappées en RGB ou RGBA.</li><li class="listitem"><a class="link" href="#RT_ST_AsRaster" title="ST_AsRaster">ST_AsRaster</a> - Convertit une géométrie PostGIS en un raster PostGIS.</li><li class="listitem"><a class="link" href="#RT_ST_AsTIFF" title="ST_AsTIFF">ST_AsTIFF</a> - Retourne les bandes sélectionnées du raster sous la forme d'une seule image TIFF (sous forme de tableau d'octets). Si aucune bande n'est spécifiée ou si l'une des bandes spécifiées n'existe pas dans le raster, toutes les bandes sont utilisées.</li><li class="listitem"><a class="link" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> - Retourne l'exposition (par défaut, en degrés) d'une bande raster d'élévation. Utile pour l'analyse de terrain.</li><li class="listitem"><a class="link" href="#RT_ST_Band" title="ST_Band">ST_Band</a> - Retourne une ou plusieurs bandes d'un raster existant en tant que nouveau raster. Utile pour construire de nouveaux rasters à partir de rasters existants.</li><li class="listitem"><a class="link" href="#RT_ST_BandFileSize" title="ST_BandFileSize">ST_BandFileSize</a> - Retourne la taille du fichier d'une bande stockée sur le système de fichier. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_BandFileTimestamp" title="ST_BandFileTimestamp">ST_BandFileTimestamp</a> - Retourne le timestamp du fichier d'une bande stockée sur le système de fichier. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_BandIsNoData" title="ST_BandIsNoData">ST_BandIsNoData</a> - Retourne true si la bande ne contient que des valeurs nodata.</li><li class="listitem"><a class="link" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a> - Retourne les méta-données de base d'une bande raster spécifique. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_BandNoDataValue" title="ST_BandNoDataValue">ST_BandNoDataValue</a> - Retourne la valeur qui représente l'absence de valeur (nodata) pour cette bande. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_BandPath" title="ST_BandPath">ST_BandPath</a> - Retourne le chemin système du fichier d'une bande stockée sur le système de fichier. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a> - Retourne le type de pixel d'une bande. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a> - Returns the raster clipped by the input geometry. If band number is not specified, all bands are processed. If crop is not specified or TRUE, the output raster is cropped. If touched is set to TRUE, then touched pixels are included, otherwise only if the center of the pixel is in the geometry it is included.</li><li class="listitem"><a class="link" href="#RT_ST_ColorMap" title="ST_ColorMap">ST_ColorMap</a> - Crée un nouveau raster comprenant jusqu'à quatre bandes 8BUI (niveaux de gris, RGB, RGBA) à partir du raster source et d'une bande spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_Contains" title="ST_Contains">ST_Contains</a> - Retourne true si aucun point du raster rastB ne se trouve à l'extérieur du raster rastA et si au moins un point de l'intérieur du raster rastB se trouve à l'intérieur du raster rastA.</li><li class="listitem"><a class="link" href="#RT_ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a> - Retourne true si rastB intersecte l'intérieur de rastA, mais pas la frontière ou l'extérieur de rastA.</li><li class="listitem"><a class="link" href="#RT_ST_Contour" title="ST_Contour">ST_Contour</a> - Génère un ensemble de courbes de niveau vectorielles depuis la bande raster spécifiée, en utilisant l'algorithme de contour GDAL.</li><li class="listitem"><a class="link" href="#RT_ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a> - Retourne l'enveloppe convexe du raster, en incluant les valeurs de pixels égales à BandNoDataValue. Pour les données raster de forme régulière et sans obliquité, cette fonction donne le même résultat que ST_Envelope ; elle n'est donc utile que pour les données raster de forme irrégulière ou inclinée.</li><li class="listitem"><a class="link" href="#RT_ST_Count" title="ST_Count">ST_Count</a> - Renvoie le nombre de pixels dans une bande donnée d'un raster ou d'une couverture raster. Si aucune bande n'est spécifiée, la valeur par défaut est la bande 1. Si exclude_nodata_value est true, seuls les pixels dont la valeur est différente de la valeur nodata seront comptés.</li><li class="listitem"><a class="link" href="#RT_ST_CountAgg" title="ST_CountAgg">ST_CountAgg</a> - Agrégat. Renvoie le nombre de pixels dans une bande donnée d'un ensemble de rasters. Si aucune bande n'est spécifiée, la valeur par défaut est la bande 1. Si exclude_nodata_value est true, seuls les pixels différents de la valeur NODATA seront comptés.</li><li class="listitem"><a class="link" href="#RT_ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a> - Retourne true si aucun point du raster rastA ne se trouve à l'extérieur du raster rastB.</li><li class="listitem"><a class="link" href="#RT_ST_Covers" title="ST_Covers">ST_Covers</a> - Retourne true si aucun point du raster rastB ne se trouve à l'extérieur du raster rastA.</li><li class="listitem"><a class="link" href="#RT_ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a> - Retourne true si les rasters rastA et rastB se trouvent entièrement à une distance donnée l'un de l'autre.</li><li class="listitem"><a class="link" href="#RT_ST_DWithin" title="ST_DWithin">ST_DWithin</a> - Retourne true si les rasters rastA et rastB se trouvent à une distance donnée l'un de l'autre.</li><li class="listitem"><a class="link" href="#RT_ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a> - Retourne true si le raster rastA n'intersecte pas spatialement le rastB.</li><li class="listitem"><a class="link" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a> - Retourne un ensemble d'enregistrements de type geomval (geom, val), à partir d'une bande raster donnée. Si aucune bande bandnum n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_DumpValues" title="ST_DumpValues">ST_DumpValues</a> - Retourne les valeurs d'une bande raster spécifiée, sous forme d'un tableau à deux dimensions.</li><li class="listitem"><a class="link" href="#RT_ST_Envelope" title="ST_Envelope">ST_Envelope</a> - Retourne la représentation polygonale de l'étendue du raster.</li><li class="listitem"><a class="link" href="#RT_ST_FromGDALRaster" title="ST_FromGDALRaster">ST_FromGDALRaster</a> - Retourne un raster depuis un fichier raster supporté par GDAL.</li><li class="listitem"><a class="link" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a> - Retourne les méta-données de géo-référencement au format GDAL (par défaut) ou ESRI, tel qu'utilisé généralement dans les fichiers world file.</li><li class="listitem"><a class="link" href="#RT_ST_Grayscale" title="ST_Grayscale">ST_Grayscale</a> - Crée un nouveau raster à 1 bande 8BUI à partir du raster source et des bandes spécifiées représentant les composantes rouge, vert et bleu</li><li class="listitem"><a class="link" href="#RT_ST_HasNoBand" title="ST_HasNoBand">ST_HasNoBand</a> - Retourne true si le raster n'a pas la bande spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_Height" title="ST_Height">ST_Height</a> - Retourne la hauteur du raster en pixels.</li><li class="listitem"><a class="link" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a> - Retourne l'hypothétique éclairage d'une bande raster d'élévation en utilisant les valeurs d'azimut, d'altitude, de luminosité et d'échelle fournies.</li><li class="listitem"><a class="link" href="#RT_ST_Histogram" title="ST_Histogram">ST_Histogram</a> - Retourne un ensemble d'enregistrements résumant une distribution de données raster ou de couverture raster, dans des classes distinctes. Le nombre de classes est calculé automatiquement s'il n'est pas spécifié.</li><li class="listitem"><a class="link" href="#RT_ST_InterpolateRaster" title="ST_InterpolateRaster">ST_InterpolateRaster</a> - Interpole une surface quadrillée à partir d'un ensemble de points 3-d, en utilisant les coordonnées X et Y des points sur la grille et la coordonnée Z des points pour l'élévation des points.</li><li class="listitem"><a class="link" href="#RT_ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Retourne un raster ou un ensemble de paires (géométrie, valeur de pixel) représentant la partie partagée de deux rasters ou l'intersection géométrique d'une vectorisation du raster et d'une géométrie.</li><li class="listitem"><a class="link" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Retourne vrai si le raster rastA intersecte spatialement le raster rastB.</li><li class="listitem"><a class="link" href="#RT_ST_IsEmpty" title="ST_IsEmpty">ST_IsEmpty</a> - Retourne true si le raster est vide (largeur = 0 et hauteur = 0). Sinon, retourne false.</li><li class="listitem"><a class="link" href="#RT_ST_MakeEmptyCoverage" title="ST_MakeEmptyCoverage">ST_MakeEmptyCoverage</a> - Couvre une zone géo-référencée avec une grille raster de tuiles vides.</li><li class="listitem"><a class="link" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a> - Retourne un raster vide (sans aucune bande) de dimension donnée (width &amp; height), de coin supérieur gauche à X et Y, de paramètres de taille de pixel données (scalex, scaley, skewx &amp; skewy) et de système de référence spatial (srid) donné. Si un raster est spécifié, retourne un nouveau raster de même taille, alignement et SRID. Si srid n'est pas spécifié, le système de référence spatial est défini à inconnu (0).</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a> - Version avec fonction de rappel - Retourne un raster à une bande à partir d'un ou plusieurs rasters d'entrée, d'index de bandes et d'une fonction de rappel spécifiée par l'utilisateur.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraExpr" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a> - Version avec raster à 1 bande : Crée un nouveau raster à une bande formé par l'application d'une opération algébrique PostgreSQL valide sur la bande d'entrée du raster et du type de pixel fourni. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a> - Version avec 2 bandes : Crée un nouveau raster à une bande formé en appliquant une opération algébrique PostgreSQL valide sur les deux bandes du raster d'entrée et du type de pixel fourni. La bande 1 de chaque raster est utilisée si aucun numéro de bande n'est spécifié. Le raster résultant sera aligné (échelle, obliquité et coins) sur la grille définie par le premier raster et aura son étendue définie par le paramètre "extenttype". Les valeurs de "extenttype" peuvent être : INTERSECTION, UNION, FIRST, SECOND.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> - Version à 1 bande - Crée un nouveau raster à une bande formé par l'application d'une fonction PostgreSQL valide sur la bande d'entrée du raster et sur le type de pixel fourni. La bande 1 est utilisée si aucune bande n'est spécifiée.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraFct2" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> - Version à 2 bandes - Crée un nouveau raster à une bande formé par l'application d'une fonction PostgreSQL valide sur les 2 bandes d'entrée du raster et sur le type de pixel fourni. La bande 1 est utilisée si aucune bande n'est spécifiée. Le type d'étendue INTERSECTION est utilisé si non spécifié.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> - Version à 1 bande : Algèbre cartographique Plus proche voisin en utilisant une fonction PostgreSQL définie par l'utilisateur. Retourne un raster dont les valeurs sont le résultat d'une fonction utilisateur PLPGSQL prenant un voisinage des valeurs de la bande raster d'entrée.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebra_expr" title="ST_MapAlgebra (expression version)">ST_MapAlgebra (expression version)</a> - Version avec expression - Retourne un raster à une bande à partir d'un ou deux rasters d'entrée, d'index de bandes et d'une ou plusieurs expressions SQL spécifiées par l'utilisateur.</li><li class="listitem"><a class="link" href="#RT_ST_MemSize" title="ST_MemSize">ST_MemSize</a> - Retourne l'espace utilisé par le raster (en octets).</li><li class="listitem"><a class="link" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a> - Retourne les méta-données de base de l'objet raster : taille des pixels, rotation, coin haut/bas gauche, etc.</li><li class="listitem"><a class="link" href="#RT_ST_MinConvexHull" title="ST_MinConvexHull">ST_MinConvexHull</a> - Retourne la géométrie de l'enveloppe convexe du raster en excluant les pixels NODATA.</li><li class="listitem"><a class="link" href="#RT_ST_NearestValue" title="ST_NearestValue">ST_NearestValue</a> - Retourne la valeur la plus proche différent de NODATA pour une bande raster spécifiée au pixel donné par columnx et rowy, ou à un point géométrique spécifié dans le même système de référence spatial que le raster.</li><li class="listitem"><a class="link" href="#RT_ST_Neighborhood" title="ST_Neighborhood">ST_Neighborhood</a> - Retourne un tableau 2-D de double avec les valeurs non NODATA autour du pixel de la bande spécifiée, aux coordonnées spécifiées par columnX &amp; rowY ou par un point géométrique dans le même système de référence spatial que le raster.</li><li class="listitem"><a class="link" href="#RT_ST_NotSameAlignmentReason" title="ST_NotSameAlignmentReason">ST_NotSameAlignmentReason</a> - Retourne un texte indiquant si les rasters sont alignés et, s'ils ne le sont pas, la raison du problème.</li><li class="listitem"><a class="link" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a> - Retourne le nombre de bandes de l'objet raster.</li><li class="listitem"><a class="link" href="#RT_ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a> - Retourne true si les raster rastA et rastB intersectent mais que l'un ne contient pas complètement l'autre.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a> - Retourne le centroïde (point géométrique) de la zone représentée par un pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a> - Retourne le centroïde (point géométrique) pour chaque pixel de la bande raster, avec sa valeur et les coordonnées raster X et Y. Le point géométrique est le centroïde de la zone représentée par un pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a> - Retourne le point géométrique du coin supérieur gauche du pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a> - Retourne un point géométrique pour chaque pixel de la bande raster, avec sa valeur et ses coordonnées raster X et Y. Les coordonnées du points sont ceux du coin supérieur gauche du pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a> - Retourne la géométrie polygonale qui délimite le pixel pour une ligne et colonne spécifiées.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a> - Retourne la géométrie polygonale qui délimite chaque pixel de la bande raster, avec la valeur et les coordonnées raster X et Y de chaque pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelHeight" title="ST_PixelHeight">ST_PixelHeight</a> - Retourne la hauteur d'un pixel, dans l'unité du système de référence spatial.</li><li class="listitem"><a class="link" href="#RT_ST_PixelOfValue" title="ST_PixelOfValue">ST_PixelOfValue</a> - Retourne les coordonnées columnx, rowy du pixel dont la valeur est égale à la valeur recherchée.</li><li class="listitem"><a class="link" href="#RT_ST_PixelWidth" title="ST_PixelWidth">ST_PixelWidth</a> - Retourne la largeur d'un pixel, dans l'unité du système de référence spatial.</li><li class="listitem"><a class="link" href="#RT_ST_Polygon" title="ST_Polygon">ST_Polygon</a> - Retourne une géométrie multipolygonale formée par l'union des pixels dont la valeur est différente de nodata. Si aucune bande bandnum n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_Quantile" title="ST_Quantile">ST_Quantile</a> - Calcule les quantiles d'un raster ou d'une couverture raster, dans le contexte de l'échantillon ou de la population. Ainsi, une valeur peut être examinée pour se situer au percentile de 25%, 50% ou 75% du raster.</li><li class="listitem"><a class="link" href="#RT_ST_RastFromHexWKB" title="ST_RastFromHexWKB">ST_RastFromHexWKB</a> - Retourne un raster à partir d'un raster Well-Known Binary (WKB) en hexadécimal.</li><li class="listitem"><a class="link" href="#RT_ST_RastFromWKB" title="ST_RastFromWKB">ST_RastFromWKB</a> - Retourne un raster à partir d'un raster Well-Known Binary (WKB).</li><li class="listitem"><a class="link" href="#RT_ST_RasterToWorldCoord" title="ST_RasterToWorldCoord">ST_RasterToWorldCoord</a> - Retourne le coin supérieur gauche du raster, sous forme de coordonnées X et Y (longitude et latitude) d'un colonne et d'une ligne. Les numéros de colonne et de ligne commencent à 1.</li><li class="listitem"><a class="link" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a> - Retourne la coordonnée X du coin supérieur gauche du raster à column et row. Les numéros de colonne et de ligne commencent à 1.</li><li class="listitem"><a class="link" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a> - Retourne la coordonnée Y du coin supérieur gauche du raster à column et row. Les numéros de colonne et de ligne commencent à 1.</li><li class="listitem"><a class="link" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a> - Crée un nouveau raster composé de types de bandes reclassifiés par rapport à l'original. La bande n est la bande à modifier. Si nband n'est pas spécifié, la bande 1 est utilisée. Toutes les autres bandes sont retournées inchangées. Cas d'utilisation : convertir une bande 16BUI en 8BUI et ainsi de suite pour un rendu plus simple en tant que formats visualisables.</li><li class="listitem"><a class="link" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a> - Rééchantillonne un raster, en utilisant l'algorithme spécifié, les nouvelles dimensions, un coin arbitraire de la grille et un ensemble de paramètres de géo-référencement définis ou empruntés à un autre raster.</li><li class="listitem"><a class="link" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a> - Rééchantillonne un raster en ajustant juste son échelle (ou la taille des pixels). Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline), Lanczos, Max ou Min. La valeur par défaut est NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_Resize" title="ST_Resize">ST_Resize</a> - Redimensionne un raster à une nouvelle largeur/hauteur</li><li class="listitem"><a class="link" href="#RT_ST_Reskew" title="ST_Reskew">ST_Reskew</a> - Rééchantillonne un raster en ajustant simplement son obliquité (skew, ou paramètre de rotation). Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_Rotation" title="ST_Rotation">ST_Rotation</a> - Retourne l'angle de rotation du raster en radians.</li><li class="listitem"><a class="link" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a> - Retourne un raster avec la rugosité d'un MNT.</li><li class="listitem"><a class="link" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a> - Retourne l'identifiant du système de référence spatial du raster, tel que défini dans la table spatial_ref_sys.</li><li class="listitem"><a class="link" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a> - Retourne true si les rasters ont les mêmes skew, scale, spatial ref, et offset (les pixels peuvent être placés sur la même grille sans être coupés) et false si ce n'est pas le cas, avec une NOTICE détaillant le problème.</li><li class="listitem"><a class="link" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a> - Renvoie la composante X de la largeur du pixel dans l'unité du système de référence spatial.</li><li class="listitem"><a class="link" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a> - Renvoie la composante Y de la hauteur du pixel dans l'unité du système de référence spatial.</li><li class="listitem"><a class="link" href="#RT_ST_SetBandIndex" title="ST_SetBandIndex">ST_SetBandIndex</a> - Met à jour le numéro de bande externe d'une bande out-db</li><li class="listitem"><a class="link" href="#RT_ST_SetBandIsNoData" title="ST_SetBandIsNoData">ST_SetBandIsNoData</a> - Définit la valeur du flag isnodata de la bande à TRUE.</li><li class="listitem"><a class="link" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a> - Définit la valeur pour l'absence de données (nodata) pour la bande spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée. Pour indiquer qu'une bande n'a pas de valeur nodata, définir la valeur nodata = NULL.</li><li class="listitem"><a class="link" href="#RT_ST_SetBandPath" title="ST_SetBandPath">ST_SetBandPath</a> - Met à jour le chemin externe et le numéro de bande d'une bande out-db</li><li class="listitem"><a class="link" href="#RT_ST_SetGeoReference" title="ST_SetGeoReference">ST_SetGeoReference</a> - Définit les 6 paramètres de géo-référencement en un seul appel. Les nombres doivent être séparés par un espace. Accepte les formats GDAL (par défaut) ou ESRI.</li><li class="listitem"><a class="link" href="#RT_ST_SetM" title="ST_SetM">ST_SetM</a> - Retourne une géométrie avec les mêmes coordonnées X/Y que la géométrie d'entrée, et avec la coordonnée M copiée depuis les valeurs du raster selon l'algorithme d'interpolation en paramètre.</li><li class="listitem"><a class="link" href="#RT_ST_SetRotation" title="ST_SetRotation">ST_SetRotation</a> - Définit la rotation du raster en radians.</li><li class="listitem"><a class="link" href="#RT_ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> - Modifie le SRID d'un raster à une valeur définie dans la table spatial_ref_sys.</li><li class="listitem"><a class="link" href="#RT_ST_SetScale" title="ST_SetScale">ST_SetScale</a> - Définit la résolution des pixels en X et Y en unité du système de référence spatial : nombre d'unités/pixel en largeur/hauteur.</li><li class="listitem"><a class="link" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a> - Définit l'obliquité X et Y (skew, ou paramètre de rotation). Si une seule valeur est spécifiée, la même valeur est utilisée pour X et pour Y.</li><li class="listitem"><a class="link" href="#RT_ST_SetUpperLeft" title="ST_SetUpperLeft">ST_SetUpperLeft</a> - Modifie les coordonnées du pixel du coin supérieur gauche du raster, selon les coordonnées X et Y projetées.</li><li class="listitem"><a class="link" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a> - Retourne un nouveau raster en modifiant la valeur du pixel pour la bande spécifiée et aux coordonnées columnx, rowy, ou pour tous les pixels qui intersectent une géométrie spécifiée. Le numéro de bande démarre à 1, et la bande 1 est utilisée si non spécifié.</li><li class="listitem"><a class="link" href="#RT_ST_SetValues" title="ST_SetValues">ST_SetValues</a> - Retourne un nouveau raster en modifiant les valeurs de certains pixels d'une bande spécifiée.</li><li class="listitem"><a class="link" href="#RT_ST_SetZ" title="ST_SetZ">ST_SetZ</a> - Retourne une géométrie avec les mêmes coordonnées X/Y que la géométrie d'entrée, et avec la coordonnée Z copiée depuis les valeurs du raster selon l'algorithme d'interpolation en paramètre.</li><li class="listitem"><a class="link" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a> - Retourne l'obliquité géo-référencée X (paramètre de rotation).</li><li class="listitem"><a class="link" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a> - Retourne l'obliquité géo-référencée Y (paramètre de rotation).</li><li class="listitem"><a class="link" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a> - Retourne la pente (par défaut, en degrés) d'une bande raster d'élévation. Utile pour l'analyse de terrain.</li><li class="listitem"><a class="link" href="#RT_ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a> - Rééchantillonne un raster en l'accrochant sur une grille. Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_Summary" title="ST_Summary">ST_Summary</a> - Retourne un résumé du contenu du raster sous forme de texte.</li><li class="listitem"><a class="link" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a> - Retourne des résumés statistiques (count, sum, mean, stddev, min, max) pour une bande raster ou une couverture raster spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a> - Agrégat. Retourne des résumés statistiques (count, sum, mean, stddev, min, max) pour une bande raster spécifiée pour une ensemble de rasters. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a> - Retourne un raster avec l'index de position topographique (TPI) calculé.</li><li class="listitem"><a class="link" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a> - Retourne un raster avec l'indice de rugosité du terrain (TRI) calculé.</li><li class="listitem"><a class="link" href="#RT_ST_Tile" title="ST_Tile">ST_Tile</a> - Retourne un ensemble de rasters issus de la division d'un raster d'entrée selon les dimensions spécifiées pour les rasters de sortie.</li><li class="listitem"><a class="link" href="#RT_ST_Touches" title="ST_Touches">ST_Touches</a> - Retourne true si les raster rastA et rastB ont au moins un point en commun mais que leurs intérieurs n'intersectent pas.</li><li class="listitem"><a class="link" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a> - Reprojette un raster depuis un système de référence spatial vers un autre, en utilisant l'algorithme de rééchantillonnage spécifié. Les algorithmes possibles sont NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a> - Retourne l'union d'un ensemble de tuiles raster, en un seul raster composé de 1 ou plusieurs bandes.</li><li class="listitem"><a class="link" href="#RT_ST_UpperLeftX" title="ST_UpperLeftX">ST_UpperLeftX</a> - Retourne la coordonnée X du coin supérieur gauche du raster projeté dans le système de référence spatial.</li><li class="listitem"><a class="link" href="#RT_ST_UpperLeftY" title="ST_UpperLeftY">ST_UpperLeftY</a> - Retourne la coordonnée Y du coin supérieur gauche du raster projeté dans le système de référence spatial.</li><li class="listitem"><a class="link" href="#RT_ST_Value" title="ST_Value">ST_Value</a> - Retourne la valeur d'une bande raster spécifiée au pixel donné par columnx, rowy, ou à un point géométrique spécifié. Le numéro de bande démarre à 1, et la bande 1 est utilisée si non spécifié. Si exclude_nodata_value vaut false, tous les pixels y compris ceux ayant la valeur nodata sont considérés comme intersectés et leur valeur sera retournée. Si exclude_nodata_value n'est pas spécifié, la valeur est lue depuis les méta-données du raster.</li><li class="listitem"><a class="link" href="#RT_ST_ValueCount" title="ST_ValueCount">ST_ValueCount</a> - Retourne un ensemble d'enregistrements contenant une valeur de pixels et le nombre de pixels ayant cette valeur dans la bande du raster spécifié (ou de la couverture raster). Si aucune bande n'est spécifiée, la bande 1 est utilisée. Par défaut, les pixels de valeur nodata ne sont pas comptés, et toutes les autres valeurs sont retournées, avec leur valeur arrondies à l'entier le plus proche.</li><li class="listitem"><a class="link" href="#RT_ST_Width" title="ST_Width">ST_Width</a> - Retourne la largeur du raster en pixels.</li><li class="listitem"><a class="link" href="#RT_ST_Within" title="ST_Within">ST_Within</a> - Retourne true si aucun point du raster rastA ne se trouve à l'extérieur du raster rastB et si au moins un point de l'intérieur du raster rastA se trouve à l'intérieur du raster rastB.</li><li class="listitem"><a class="link" href="#RT_ST_WorldToRasterCoord" title="ST_WorldToRasterCoord">ST_WorldToRasterCoord</a> - Retourne le coin supérieur gauche comme colonne et ligne, en fonction de coordonnées géométriques X et Y (longitude et latitude) ou un point géométrique dans le système de référence spatial du raster.</li><li class="listitem"><a class="link" href="#RT_ST_WorldToRasterCoordX" title="ST_WorldToRasterCoordX">ST_WorldToRasterCoordX</a> - Retourne la colonne dans le raster du point géométrique (pt) ou des coordonnées X et Y (xw, yw) exprimés dans le système de référence spatial du raster.</li><li class="listitem"><a class="link" href="#RT_ST_WorldToRasterCoordY" title="ST_WorldToRasterCoordY">ST_WorldToRasterCoordY</a> - Retourne la ligne dans le raster du point géométrique (pt) ou des coordonnées X et Y (xw, yw) exprimés dans le système de référence spatial du raster.</li><li class="listitem"><a class="link" href="#RT_UpdateRasterSRID" title="UpdateRasterSRID">UpdateRasterSRID</a> - Change le SRID de tous les rasters dans la table et colonne en paramètres.</li></ul></div></section><section class="section" id="PostGIS_Geometry_DumpFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.6. Fonctions PostGIS de dump Geometry / Geography / Raster</h2></div></div></div><p>Les fonctions ci-dessous sont des fonctions PostGIS qui prennent en entrée ou renvoient en sortie un ensemble ou un seul objet de type <a class="link" href="#geometry_dump" title="geometry_dump">geometry_dump</a> ou <a class="link" href="#geomval" title="geomval">geomval</a>.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a> - Retourne un ensemble d'enregistrements de type geomval (geom, val), à partir d'une bande raster donnée. Si aucune bande bandnum n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Retourne un raster ou un ensemble de paires (géométrie, valeur de pixel) représentant la partie partagée de deux rasters ou l'intersection géométrique d'une vectorisation du raster et d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Dump" title="ST_Dump">ST_Dump</a> - Renvoie un ensemble de lignes geometry_dump pour les composants d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a> - Renvoie un ensemble de lignes geometry_dump pour les coordonnées dans une géométrie.</li><li class="listitem"><a class="link" href="#ST_DumpRings" title="ST_DumpRings">ST_DumpRings</a> - Renvoie un ensemble de lignes geometry_dump pour les anneaux extérieurs et intérieurs d'un polygone.</li><li class="listitem"><a class="link" href="#ST_DumpSegments" title="ST_DumpSegments">ST_DumpSegments</a> - Renvoie un ensemble de lignes geometry_dump pour les segments d'une géométrie.</li></ul></div></section><section class="section" id="PostGIS_BoxFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.7. Fonctions Box de PostGIS</h2></div></div></div><p>Les fonctions ci-dessous sont des fonctions PostGIS qui prennent en entrée ou renvoient en sortie la famille box* des types spatiaux PostGIS. La famille de types box comprend <a class="link" href="#box2d_type" title="box2d">box2d</a>, et <a class="link" href="#box3d_type" title="box3d">box3d</a></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#Box2D" title="Box2D">Box2D</a> - Renvoie une BOX2D représentant l'étendue 2D d'une géométrie.</li><li class="listitem"><a class="link" href="#Box3D" title="Box3D">Box3D</a> - Renvoie une BOX3D représentant l'étendue 3D d'une géométrie.</li><li class="listitem"><a class="link" href="#RT_Box3D" title="Box3D">Box3D</a> - Retourne la représentation 3d de la boîte englobante du raster.</li><li class="listitem"><a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a> - Fonction d'agrégation qui renvoie la boîte de délimitation 3D des géométries.</li><li class="listitem"><a class="link" href="#ST_3DMakeBox" title="ST_3DMakeBox">ST_3DMakeBox</a> - Crée un BOX3D défini par deux géométries de points 3D.</li><li class="listitem"><a class="link" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a> - Transforme une géométrie dans l'espace de coordonnées d'une tuile MVT.</li><li class="listitem"><a class="link" href="#ST_AsTWKB" title="ST_AsTWKB">ST_AsTWKB</a> - Renvoie la géométrie sous forme de TWKB, diminutif de "Tiny Well-Known Binary"</li><li class="listitem"><a class="link" href="#ST_Box2dFromGeoHash" title="ST_Box2dFromGeoHash">ST_Box2dFromGeoHash</a> - Retourne une BOX2D à partir d'une chaîne GeoHash.</li><li class="listitem"><a class="link" href="#ST_ClipByBox2D" title="ST_ClipByBox2D">ST_ClipByBox2D</a> - Calcule la partie d'une géométrie située à l'intérieur d'un rectangle.</li><li class="listitem"><a class="link" href="#ST_EstimatedExtent" title="ST_EstimatedExtent">ST_EstimatedExtent</a> - Renvoie l'étendue estimée d'une table spatiale.</li><li class="listitem"><a class="link" href="#ST_Expand" title="ST_Expand">ST_Expand</a> - Renvoie une boîte de délimitation développée à partir d'une autre boîte de délimitation ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Extent" title="ST_Extent">ST_Extent</a> - Fonction agrégée qui renvoie la boîte de délimitation des géométries.</li><li class="listitem"><a class="link" href="#ST_MakeBox2D" title="ST_MakeBox2D">ST_MakeBox2D</a> - Crée un BOX2D défini par deux géométries de points 2D.</li><li class="listitem"><a class="link" href="#ST_RemoveIrrelevantPointsForView" title="ST_RemoveIrrelevantPointsForView">ST_RemoveIrrelevantPointsForView</a> - Removes points that are irrelevant for rendering a specific rectangluar view of a geometry.</li><li class="listitem"><a class="link" href="#ST_XMax" title="ST_XMax">ST_XMax</a> - Retourne les maxima X d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_XMin" title="ST_XMin">ST_XMin</a> - Retourne les minima X d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_YMax" title="ST_YMax">ST_YMax</a> - Retourne les maxima Y d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_YMin" title="ST_YMin">ST_YMin</a> - Retourne les minima Y d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a> - Retourne les maxima Z d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a> - Retourne les minima Z d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#TP_RemoveUnusedPrimitives" title="RemoveUnusedPrimitives">RemoveUnusedPrimitives</a> - Supprime les primitives topologiques qui ne sont pas nécessaires pour définir les objets TopoGeometry existants.</li><li class="listitem"><a class="link" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a> - Renvoie un ensemble d'objets validatetopology_returntype détaillant les problèmes liés à la topologie.</li><li class="listitem"><a class="link" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a> - Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) contient une autre boîte de délimitation de précision flottante 2D (BOX2DF).</li><li class="listitem"><a class="link" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a> - Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) contient la boîte de délimitation 2D d'une géométrie.</li><li class="listitem"><a class="link" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a> - Renvoie TRUE si la boîte de délimitation 2D d'une géométrie contient une boîte de délimitation de précision flottante 2D (GIDX).</li><li class="listitem"><a class="link" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a> - Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) est contenue dans une autre boîte de délimitation de précision flottante 2D.</li><li class="listitem"><a class="link" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a> - Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) est contenue dans la boîte de délimitation 2D d'une géométrie.</li><li class="listitem"><a class="link" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a> - Renvoie TRUE si la boîte de délimitation 2D d'une géométrie est contenue dans une boîte de délimitation 2D à précision flottante (BOX2DF).</li><li class="listitem"><a class="link" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a> - Renvoie TRUE si deux boîtes de délimitation 2D à précision flottante (BOX2DF) se croisent.</li><li class="listitem"><a class="link" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a> - Renvoie TRUE si une boîte de délimitation 2D de précision flottante (BOX2DF) intersecte la boîte de délimitation 2D (mise en cache) d'une géométrie.</li><li class="listitem"><a class="link" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a> - Renvoie TRUE si la boîte de délimitation 2D (en cache) d'une géométrie intersecte une boîte de délimitation 2D de précision flottante (BOX2DF).</li></ul></div></section><section class="section" id="PostGIS_3D_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.8. Fonctions PostGIS supportant la 3D</h2></div></div></div><p>Les fonctions ci-dessous sont des fonctions PostGIS qui n'éliminent pas l'indice Z.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a> - Ajoute une colonne de géométrie à une table existante.</li><li class="listitem"><a class="link" href="#Box3D" title="Box3D">Box3D</a> - Renvoie une BOX3D représentant l'étendue 3D d'une géométrie.</li><li class="listitem"><a class="link" href="#CG_3DArea" title="CG_3DArea">CG_3DArea</a> - Calcule la surface des géométries de surface 3D. Retourne 0 pour les solides.</li><li class="listitem"><a class="link" href="#CG_3DConvexHull" title="CG_3DConvexHull">CG_3DConvexHull</a> - Calcule l'enveloppe convexe 3D d'une géométrie.</li><li class="listitem"><a class="link" href="#CG_3DDifference" title="CG_3DDifference">CG_3DDifference</a> - Effectuer une différence 3D</li><li class="listitem"><a class="link" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a> - Réaliser une intersection 3D</li><li class="listitem"><a class="link" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a> - Perform 3D union using postgis_sfcgal.</li><li class="listitem"><a class="link" href="#CG_ApproximateMedialAxis" title="CG_ApproximateMedialAxis">CG_ApproximateMedialAxis</a> - Calculer l'axe médian approximatif d'une géométrie aréolaire.</li><li class="listitem"><a class="link" href="#CG_ConstrainedDelaunayTriangles" title="CG_ConstrainedDelaunayTriangles">CG_ConstrainedDelaunayTriangles</a> - Renvoie une triangulation de Delaunay contrainte autour de la géométrie d'entrée donnée.</li><li class="listitem"><a class="link" href="#CG_Extrude" title="CG_Extrude">CG_Extrude</a> - Extruder une surface vers un volume</li><li class="listitem"><a class="link" href="#CG_ForceLHR" title="CG_ForceLHR">CG_ForceLHR</a> - Force l'orientation LHR d'un objet</li><li class="listitem"><a class="link" href="#CG_IsPlanar" title="CG_IsPlanar">CG_IsPlanar</a> - Vérifie si une surface est planaire ou non</li><li class="listitem"><a class="link" href="#CG_IsSolid" title="CG_IsSolid">CG_IsSolid</a> - Teste si la géométrie est un solide. Aucun contrôle de validité n'est effectué.</li><li class="listitem"><a class="link" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a> - Transformer la géométrie dans un solide. Aucune vérification n'est effectuée. Pour obtenir un solide valide, la géométrie d'entrée doit être une surface polyédrique fermée ou un TIN fermé.</li><li class="listitem"><a class="link" href="#CG_Orientation" title="CG_Orientation">CG_Orientation</a> - Détermine l'orientation d'une surface</li><li class="listitem"><a class="link" href="#CG_StraightSkeleton" title="CG_StraightSkeleton">CG_StraightSkeleton</a> - Calcule un squelette (straight skeleton) à partir d'une géométrie</li><li class="listitem"><a class="link" href="#CG_Tesselate" title="CG_Tesselate">CG_Tesselate</a> - Effectue la tessellation de la surface d'un polygone ou d'une surface polyédrique et renvoie un TIN ou une collection de TINS</li><li class="listitem"><a class="link" href="#CG_Visibility" title="CG_Visibility">CG_Visibility</a> - Calculer un polygone de visibilité à partir d'un point ou d'un segment dans une géométrie polygonale</li><li class="listitem"><a class="link" href="#CG_Volume" title="CG_Volume">CG_Volume</a> - Calcule le volume d'un solide 3D. S'il est appliqué à des géométries de surface (même fermées), il renvoie 0.</li><li class="listitem"><a class="link" href="#DropGeometryColumn" title="DropGeometryColumn">DropGeometryColumn</a> - Supprime une colonne géométrique d'une table spatiale.</li><li class="listitem"><a class="link" href="#GeometryType" title="GeometryType">GeometryType</a> - Renvoie le type d'une géométrie sous forme de texte.</li><li class="listitem"><a class="link" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a> - Calcule la surface des géométries de surface 3D. Retourne 0 pour les solides.</li><li class="listitem"><a class="link" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a> - Renvoie le point 3D sur g1 qui est le plus proche de g2. Il s'agit du premier point de la ligne 3D la plus courte.</li><li class="listitem"><a class="link" href="#ST_3DConvexHull" title="ST_3DConvexHull">ST_3DConvexHull</a> - Calcule l'enveloppe convexe 3D d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_3DDFullyWithin" title="ST_3DDFullyWithin">ST_3DDFullyWithin</a> - Teste si deux géométries 3D sont entièrement comprises dans une distance 3D donnée</li><li class="listitem"><a class="link" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a> - Teste si deux géométries 3D se trouvent à une distance 3D donnée</li><li class="listitem"><a class="link" href="#ST_3DDifference" title="ST_3DDifference">ST_3DDifference</a> - Effectuer une différence 3D</li><li class="listitem"><a class="link" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a> - Renvoie la distance cartésienne minimale en 3D (basée sur la référence spatiale) entre deux géométries en unités projetées.</li><li class="listitem"><a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a> - Fonction d'agrégation qui renvoie la boîte de délimitation 3D des géométries.</li><li class="listitem"><a class="link" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a> - Réaliser une intersection 3D</li><li class="listitem"><a class="link" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a> - Teste si deux géométries se croisent dans l'espace en 3D - uniquement pour les points, les lignes, les polygones, les surfaces polyédriques (aire)</li><li class="listitem"><a class="link" href="#ST_3DLength" title="ST_3DLength">ST_3DLength</a> - Renvoie la longueur 3D d'une géométrie linéaire.</li><li class="listitem"><a class="link" href="#ST_3DLineInterpolatePoint" title="ST_3DLineInterpolatePoint">ST_3DLineInterpolatePoint</a> - Renvoie un point interpolé le long d'une ligne 3D à un emplacement fractionnaire.</li><li class="listitem"><a class="link" href="#ST_3DLongestLine" title="ST_3DLongestLine">ST_3DLongestLine</a> - Renvoie la ligne 3D la plus longue entre deux géométries</li><li class="listitem"><a class="link" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a> - Renvoie la distance maximale cartésienne 3D (basée sur la référence spatiale) entre deux géométries en unités projetées.</li><li class="listitem"><a class="link" href="#ST_3DPerimeter" title="ST_3DPerimeter">ST_3DPerimeter</a> - Renvoie le périmètre 3D d'une géométrie polygonale.</li><li class="listitem"><a class="link" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a> - Renvoie la ligne 3D la plus courte entre deux géométries</li><li class="listitem"><a class="link" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a> - Effectuer l'union 3D.</li><li class="listitem"><a class="link" href="#ST_AddMeasure" title="ST_AddMeasure">ST_AddMeasure</a> - Interpole les mesures le long d'une géométrie linéaire.</li><li class="listitem"><a class="link" href="#ST_AddPoint" title="ST_AddPoint">ST_AddPoint</a> - Ajoute un point à une LineString.</li><li class="listitem"><a class="link" href="#ST_Affine" title="ST_Affine">ST_Affine</a> - Appliquer une transformation affine 3D à une géométrie.</li><li class="listitem"><a class="link" href="#ST_ApproximateMedialAxis" title="ST_ApproximateMedialAxis">ST_ApproximateMedialAxis</a> - Calculer l'axe médian approximatif d'une géométrie aréolaire.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Renvoie la représentation OGC/ISO Well-Known Binary (WKB) de la géométrie/geography sans les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a> - Renvoie la représentation Extended Well-Known Binary (EWKB) de la géométrie avec les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a> - Renvoie la représentation Well-Known Text (WKT) de la géométrie avec les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Renvoyer la géométrie en tant qu'élément GML version 2 ou 3.</li><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Renvoyer une géométrie ou un élément au format GeoJSON.</li><li class="listitem"><a class="link" href="#ST_AsHEXEWKB" title="ST_AsHEXEWKB">ST_AsHEXEWKB</a> - Renvoie une géométrie au format HEXEWKB (en tant que texte) en utilisant l'encodage little-endian (NDR) ou big-endian (XDR).</li><li class="listitem"><a class="link" href="#ST_AsKML" title="ST_AsKML">ST_AsKML</a> - Renvoyer la géométrie sous forme d'élément KML.</li><li class="listitem"><a class="link" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a> - Renvoie une géométrie au format X3D xml node element : ISO-IEC-19776-1.2-X3DEncodings-XML</li><li class="listitem"><a class="link" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a> - Renvoie la limite d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_BoundingDiagonal" title="ST_BoundingDiagonal">ST_BoundingDiagonal</a> - Retourne la diagonale de la boîte englobante pour la géométrie en argument.</li><li class="listitem"><a class="link" href="#ST_CPAWithin" title="ST_CPAWithin">ST_CPAWithin</a> - Teste si le point d'approche le plus proche de deux trajectoires se trouve dans la distance spécifiée.</li><li class="listitem"><a class="link" href="#ST_ChaikinSmoothing" title="ST_ChaikinSmoothing">ST_ChaikinSmoothing</a> - Renvoie une version lissée d'une géométrie, en utilisant l'algorithme Chaikin</li><li class="listitem"><a class="link" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a> - Renvoie une mesure au point d'approche le plus proche de deux trajectoires.</li><li class="listitem"><a class="link" href="#ST_Collect" title="ST_Collect">ST_Collect</a> - Crée une géométrie GeometryCollection ou Multi à partir d'un ensemble de géométries.</li><li class="listitem"><a class="link" href="#ST_ConstrainedDelaunayTriangles" title="ST_ConstrainedDelaunayTriangles">ST_ConstrainedDelaunayTriangles</a> - Renvoie une triangulation de Delaunay contrainte autour de la géométrie d'entrée donnée.</li><li class="listitem"><a class="link" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a> - Calcule l'enveloppe convexe d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_CoordDim" title="ST_CoordDim">ST_CoordDim</a> - Renvoie la dimension des coordonnées d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_CurveN" title="ST_CurveN">ST_CurveN</a> - Renvoie la Nième courbe composante d'une CompoundCurve.</li><li class="listitem"><a class="link" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a> - Convertit une géométrie contenant des courbes en une géométrie linéaire.</li><li class="listitem"><a class="link" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a> - Renvoie la triangulation de Delaunay des sommets d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Difference" title="ST_Difference">ST_Difference</a> - Calcule une géométrie représentant la partie de la géométrie A qui n'intersecte pas la géométrie B.</li><li class="listitem"><a class="link" href="#ST_DistanceCPA" title="ST_DistanceCPA">ST_DistanceCPA</a> - Renvoie la distance entre le point d'approche le plus proche de deux trajectoires.</li><li class="listitem"><a class="link" href="#ST_Dump" title="ST_Dump">ST_Dump</a> - Renvoie un ensemble de lignes geometry_dump pour les composants d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a> - Renvoie un ensemble de lignes geometry_dump pour les coordonnées dans une géométrie.</li><li class="listitem"><a class="link" href="#ST_DumpRings" title="ST_DumpRings">ST_DumpRings</a> - Renvoie un ensemble de lignes geometry_dump pour les anneaux extérieurs et intérieurs d'un polygone.</li><li class="listitem"><a class="link" href="#ST_DumpSegments" title="ST_DumpSegments">ST_DumpSegments</a> - Renvoie un ensemble de lignes geometry_dump pour les segments d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a> - Renvoie le dernier point d'une LineString ou CircularLineString.</li><li class="listitem"><a class="link" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a> - Renvoie une ligne représentant l'anneau extérieur d'un polygone.</li><li class="listitem"><a class="link" href="#ST_Extrude" title="ST_Extrude">ST_Extrude</a> - Extruder une surface vers un volume</li><li class="listitem"><a class="link" href="#ST_FlipCoordinates" title="ST_FlipCoordinates">ST_FlipCoordinates</a> - Renvoie une version d'une géométrie dont les axes X et Y sont inversés.</li><li class="listitem"><a class="link" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a> - Forcer les géométries à passer en "mode bidimensionnel".</li><li class="listitem"><a class="link" href="#ST_ForceCurve" title="ST_ForceCurve">ST_ForceCurve</a> - Retransformation d'une géométrie dans son type de courbure, le cas échéant.</li><li class="listitem"><a class="link" href="#ST_ForceLHR" title="ST_ForceLHR">ST_ForceLHR</a> - Force l'orientation LHR d'un objet</li><li class="listitem"><a class="link" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a> - Oriente tous les anneaux extérieurs dans le sens inverse des aiguilles d'une montre et tous les anneaux intérieurs dans le sens des aiguilles d'une montre.</li><li class="listitem"><a class="link" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a> - Oriente tous les anneaux extérieurs dans le sens des aiguilles d'une montre et tous les anneaux intérieurs dans le sens inverse des aiguilles d'une montre.</li><li class="listitem"><a class="link" href="#ST_ForceRHR" title="ST_ForceRHR">ST_ForceRHR</a> - Force l'orientation des sommets d'un polygone à suivre la règle de la main droite.</li><li class="listitem"><a class="link" href="#ST_ForceSFS" title="ST_ForceSFS">ST_ForceSFS</a> - Forcer les géométries à utiliser uniquement les types de géométrie SFS 1.1.</li><li class="listitem"><a class="link" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a> - Force les géométries en mode XYZ. Il s'agit d'un alias de ST_Force3DZ.</li><li class="listitem"><a class="link" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a> - Forcer les géométries en mode XYZ.</li><li class="listitem"><a class="link" href="#ST_Force_4D" title="ST_Force4D">ST_Force4D</a> - Forcer les géométries en mode XYZM.</li><li class="listitem"><a class="link" href="#ST_Force_Collection" title="ST_ForceCollection">ST_ForceCollection</a> - Convertir la géométrie en une GEOMETRYCOLLECTION.</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a> - Retourne un objet ST_Geometry à partir de sa représentation binaire étendue (Extended Well-Known Binary representation, EWKB).</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a> - Retourne un objet ST_Geometry à partir de sa représentation textuelle étendue (Extended Well-Known Text representation, EWKT).</li><li class="listitem"><a class="link" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a> - Prend en paramètre une représentation GML d'une géométrie et renvoie un objet PostGIS de type geometry</li><li class="listitem"><a class="link" href="#ST_GeomFromGeoJSON" title="ST_GeomFromGeoJSON">ST_GeomFromGeoJSON</a> - Prend en entrée une géométrie au format geojson et renvoie un objet Postgis de type geometry</li><li class="listitem"><a class="link" href="#ST_GeomFromKML" title="ST_GeomFromKML">ST_GeomFromKML</a> - Prend en entrée une géométrie au format KML et renvoie un objet Postgis de type geometry</li><li class="listitem"><a class="link" href="#ST_GeometricMedian" title="ST_GeometricMedian">ST_GeometricMedian </a> - Renvoie la médiane géométrique d'un MultiPoint.</li><li class="listitem"><a class="link" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a> - Renvoie un élément d'une collection de géométries.</li><li class="listitem"><a class="link" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a> - Renvoie le type SQL-MM d'une géométrie sous forme de texte.</li><li class="listitem"><a class="link" href="#ST_HasArc" title="ST_HasArc">ST_HasArc</a> - Teste si une géométrie contient un arc de cercle</li><li class="listitem"><a class="link" href="#ST_HasM" title="ST_HasM">ST_HasM</a> - Vérifie si une géométrie a une dimension M (mesure).</li><li class="listitem"><a class="link" href="#ST_HasZ" title="ST_HasZ">ST_HasZ</a> - Vérifie si une géométrie possède une dimension Z.</li><li class="listitem"><a class="link" href="#ST_InteriorRingN" title="ST_InteriorRingN">ST_InteriorRingN</a> - Renvoie le Nième anneau intérieur (trou) d'un polygone.</li><li class="listitem"><a class="link" href="#ST_InterpolatePoint" title="ST_InterpolatePoint">ST_InterpolatePoint</a> - Renvoie la mesure interpolée d'une géométrie la plus proche d'un point.</li><li class="listitem"><a class="link" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Calcule une géométrie représentant la partie partagée des géométries A et B.</li><li class="listitem"><a class="link" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a> - Teste si les points de départ et d'arrivée d'une LineString coïncident. Pour une PolyhedralSurface, teste si elle est fermée (volumétrique).</li><li class="listitem"><a class="link" href="#ST_IsCollection" title="ST_IsCollection">ST_IsCollection</a> - Teste si une géométrie est un type de collection de géométrie.</li><li class="listitem"><a class="link" href="#ST_IsPlanar" title="ST_IsPlanar">ST_IsPlanar</a> - Vérifie si une surface est planaire ou non</li><li class="listitem"><a class="link" href="#ST_IsPolygonCCW" title="ST_IsPolygonCCW">ST_IsPolygonCCW </a> - Teste si les polygones ont des anneaux extérieurs orientés dans le sens inverse des aiguilles d'une montre et des anneaux intérieurs orientés dans le sens des aiguilles d'une montre.</li><li class="listitem"><a class="link" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a> - Teste si les polygones ont des anneaux extérieurs orientés dans le sens des aiguilles d'une montre et des anneaux intérieurs orientés dans le sens inverse des aiguilles d'une montre.</li><li class="listitem"><a class="link" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a> - Teste si une géométrie n'a pas de points d'auto-intersection ou d'auto-tangente.</li><li class="listitem"><a class="link" href="#ST_IsSolid" title="ST_IsSolid">ST_IsSolid</a> - Teste si la géométrie est un solide. Aucun contrôle de validité n'est effectué.</li><li class="listitem"><a class="link" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a> - Teste si la géométrie est une trajectoire valide.</li><li class="listitem"><a class="link" href="#ST_Length_Spheroid" title="ST_LengthSpheroid">ST_LengthSpheroid</a> - Renvoie la longueur/périmètre 2D ou 3D d'une géométrie lon/lat sur un sphéroïde.</li><li class="listitem"><a class="link" href="#ST_LineFromMultiPoint" title="ST_LineFromMultiPoint">ST_LineFromMultiPoint</a> - Crée une LineString à partir d'une géométrie MultiPoint.</li><li class="listitem"><a class="link" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a> - Renvoie un point interpolé le long d'une ligne à un emplacement fractionnaire.</li><li class="listitem"><a class="link" href="#ST_LineInterpolatePoints" title="ST_LineInterpolatePoints">ST_LineInterpolatePoints</a> - Renvoie des points interpolés le long d'une ligne à un intervalle fractionnaire.</li><li class="listitem"><a class="link" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a> - Renvoie la partie d'une ligne située entre deux emplacements fractionnaires.</li><li class="listitem"><a class="link" href="#ST_LineToCurve" title="ST_LineToCurve">ST_LineToCurve</a> - Convertit une géométrie linéaire en une géométrie courbe.</li><li class="listitem"><a class="link" href="#ST_LocateBetweenElevations" title="ST_LocateBetweenElevations">ST_LocateBetweenElevations</a> - Renvoie les parties d'une géométrie qui se trouvent dans un intervalle d'élévation (Z).</li><li class="listitem"><a class="link" href="#ST_M" title="ST_M">ST_M</a> - Renvoie la coordonnée M d'un point.</li><li class="listitem"><a class="link" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a> - Crée une LineString à partir de géométries Point, MultiPoint ou LineString.</li><li class="listitem"><a class="link" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a> - Crée un point 2D, 3DZ ou 4D.</li><li class="listitem"><a class="link" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a> - Crée un polygone à partir d'une collection et d'une liste facultative de trous.</li><li class="listitem"><a class="link" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a> - Transformer la géométrie dans un solide. Aucune vérification n'est effectuée. Pour obtenir un solide valide, la géométrie d'entrée doit être une surface polyédrique fermée ou un TIN fermé.</li><li class="listitem"><a class="link" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> - Tente de rendre valide une géométrie invalide sans perdre de sommets.</li><li class="listitem"><a class="link" href="#ST_MemSize" title="ST_MemSize">ST_MemSize</a> - Renvoie la quantité d'espace mémoire que prend une géométrie.</li><li class="listitem"><a class="link" href="#ST_MemUnion" title="ST_MemUnion">ST_MemUnion</a> - Fonction d'agrégation qui fusionne les géométries d'une manière efficace sur le plan de la mémoire mais plus lente</li><li class="listitem"><a class="link" href="#ST_NDims" title="ST_NDims">ST_NDims</a> - Renvoie la dimension des coordonnées d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a> - Retourne le nombre de points (vertex) d'un objet géométrique.</li><li class="listitem"><a class="link" href="#ST_NRings" title="ST_NRings">ST_NRings</a> - Renvoie le nombre d'anneaux dans une géométrie polygonale.</li><li class="listitem"><a class="link" href="#ST_Node" title="ST_Node">ST_Node</a> - Nœuds d'une collection de lignes.</li><li class="listitem"><a class="link" href="#ST_NumCurves" title="ST_NumCurves">ST_NumCurves</a> - Renvoie le nombre de courbes composantes d'une CompoundCurve.</li><li class="listitem"><a class="link" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> - Renvoie le nombre d'éléments dans une collection de géométrie.</li><li class="listitem"><a class="link" href="#ST_NumPatches" title="ST_NumPatches">ST_NumPatches</a> - Renvoie le nombre de faces d'une surface polyédrique. Retourne null pour les géométries non polyédriques.</li><li class="listitem"><a class="link" href="#ST_Orientation" title="ST_Orientation">ST_Orientation</a> - Détermine l'orientation d'une surface</li><li class="listitem"><a class="link" href="#ST_PatchN" title="ST_PatchN">ST_PatchN</a> - Renvoie la Nième géométrie (face) d'une PolyhedralSurface.</li><li class="listitem"><a class="link" href="#ST_PointFromWKB" title="ST_PointFromWKB">ST_PointFromWKB</a> - Construit une géométrie depuis la représentation binaire WKB et le SRID donné</li><li class="listitem"><a class="link" href="#ST_PointN" title="ST_PointN">ST_PointN</a> - Renvoie le Nième point de la première LineString ou LineString circulaire d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_PointOnSurface" title="ST_PointOnSurface">ST_PointOnSurface</a> - Calcule un point dont on garantit qu'il se trouve dans un polygone ou sur une géométrie.</li><li class="listitem"><a class="link" href="#ST_Points" title="ST_Points">ST_Points</a> - Renvoie un MultiPoint contenant les coordonnées d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Polygon" title="ST_Polygon">ST_Polygon</a> - Crée un polygone à partir d'une LineString avec un SRID spécifié.</li><li class="listitem"><a class="link" href="#ST_RemovePoint" title="ST_RemovePoint">ST_RemovePoint</a> - Supprime un point d'une ligne.</li><li class="listitem"><a class="link" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a> - Renvoie une version d'une géométrie dont les points en double ont été supprimés.</li><li class="listitem"><a class="link" href="#ST_Reverse" title="ST_Reverse">ST_Reverse</a> - Retourne la géométrie avec l'ordre des sommets inversé.</li><li class="listitem"><a class="link" href="#ST_Rotate" title="ST_Rotate">ST_Rotate</a> - Fait pivoter une géométrie autour d'un point d'origine.</li><li class="listitem"><a class="link" href="#ST_RotateX" title="ST_RotateX">ST_RotateX</a> - Fait pivoter une géométrie autour de l'axe X.</li><li class="listitem"><a class="link" href="#ST_RotateY" title="ST_RotateY">ST_RotateY</a> - Fait pivoter une géométrie autour de l'axe Y.</li><li class="listitem"><a class="link" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a> - Fait pivoter une géométrie autour de l'axe Z.</li><li class="listitem"><a class="link" href="#ST_Scale" title="ST_Scale">ST_Scale</a> - Met à l'échelle une géométrie en fonction de facteurs donnés.</li><li class="listitem"><a class="link" href="#ST_Scroll" title="ST_Scroll">ST_Scroll</a> - Modifier le point de départ d'une LineString fermée.</li><li class="listitem"><a class="link" href="#ST_SetPoint" title="ST_SetPoint">ST_SetPoint</a> - Remplacer le point d'une ligne par un point donné.</li><li class="listitem"><a class="link" href="#ST_ShiftLongitude" title="ST_ShiftLongitude">ST_ShiftLongitude</a> - Décale les coordonnées de longitude d'une géométrie entre -180..180 et 0..360.</li><li class="listitem"><a class="link" href="#ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a> - Accrocher tous les points de la géométrie d'entrée à une grille régulière.</li><li class="listitem"><a class="link" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a> - Renvoie le premier point d'une LineString.</li><li class="listitem"><a class="link" href="#ST_StraightSkeleton" title="ST_StraightSkeleton">ST_StraightSkeleton</a> - Calcule un squelette (straight skeleton) à partir d'une géométrie</li><li class="listitem"><a class="link" href="#ST_SwapOrdinates" title="ST_SwapOrdinates">ST_SwapOrdinates</a> - Renvoie une version de la géométrie donnée avec les valeurs d'ordonnées permutées.</li><li class="listitem"><a class="link" href="#ST_SymDifference" title="ST_SymDifference">ST_SymDifference</a> - Calcule une géométrie représentant les parties des géométries A et B qui ne s'intersectent pas.</li><li class="listitem"><a class="link" href="#ST_Tesselate" title="ST_Tesselate">ST_Tesselate</a> - Effectue la tessellation de la surface d'un polygone ou d'une surface polyédrique et renvoie un TIN ou une collection de TINS</li><li class="listitem"><a class="link" href="#ST_TransScale" title="ST_TransScale">ST_TransScale</a> - Traduit et met à l'échelle une géométrie en fonction des paramètres offset et factor spécifiés.</li><li class="listitem"><a class="link" href="#ST_Translate" title="ST_Translate">ST_Translate</a> - Traduit une géométrie en fonction de décalages donnés.</li><li class="listitem"><a class="link" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a> - Calcule l'union des composantes d'une seule géométrie.</li><li class="listitem"><a class="link" href="#ST_Union" title="ST_Union">ST_Union</a> - Calcule une géométrie représentant l'union des ensembles de points des géométries d'entrée.</li><li class="listitem"><a class="link" href="#ST_Volume" title="ST_Volume">ST_Volume</a> - Calcule le volume d'un solide 3D. S'il est appliqué à des géométries de surface (même fermées), il renvoie 0.</li><li class="listitem"><a class="link" href="#ST_WrapX" title="ST_WrapX">ST_WrapX</a> - Enveloppe une géométrie autour d'une valeur X.</li><li class="listitem"><a class="link" href="#ST_X" title="ST_X">ST_X</a> - Renvoie la coordonnée X d'un point.</li><li class="listitem"><a class="link" href="#ST_XMax" title="ST_XMax">ST_XMax</a> - Retourne les maxima X d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_XMin" title="ST_XMin">ST_XMin</a> - Retourne les minima X d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Y" title="ST_Y">ST_Y</a> - Renvoie la coordonnée Y d'un point.</li><li class="listitem"><a class="link" href="#ST_YMax" title="ST_YMax">ST_YMax</a> - Retourne les maxima Y d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_YMin" title="ST_YMin">ST_YMin</a> - Retourne les minima Y d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Z" title="ST_Z">ST_Z</a> - Renvoie la coordonnée Z d'un point.</li><li class="listitem"><a class="link" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a> - Retourne les maxima Z d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a> - Retourne les minima Z d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Zmflag" title="ST_Zmflag">ST_Zmflag</a> - Retourne un code indiquant la dimension des coordonnées ZM d'une géométrie.</li><li class="listitem"><a class="link" href="#TG_Equals" title="Equals">Equals</a> - Retourne vrai si deux topogeometries sont composées des mêmes primitives topologiques.</li><li class="listitem"><a class="link" href="#TG_Intersects" title="Intersects">Intersects</a> - Retourne true si une paire de primitives des deux topogeometries s'intersectent.</li><li class="listitem"><a class="link" href="#UpdateGeometrySRID" title="UpdateGeometrySRID">UpdateGeometrySRID</a> - Met à jour le SRID de tous les éléments d'une colonne géométrique et les métadonnées de la table.</li><li class="listitem"><a class="link" href="#geometry_overlaps_nd" title="&amp;&amp;&amp;">&amp;&amp;&amp;</a> - Renvoie TRUE si la boîte de délimitation n-D de A intersecte la boîte de délimitation n-D de B.</li><li class="listitem"><a class="link" href="#overlaps_nd_geometry_gidx" title="&amp;&amp;&amp;(geometry,gidx)">&amp;&amp;&amp;(geometry,gidx)</a> - Renvoie TRUE si la boîte de délimitation n-D (en cache) d'une géométrie intersecte une boîte de délimitation de précision flottante n-D (GIDX).</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_geometry" title="&amp;&amp;&amp;(gidx,geometry)">&amp;&amp;&amp;(gidx,geometry)</a> - Renvoie TRUE si une boîte de délimitation de précision flottante n-D (GIDX) intersecte la boîte de délimitation n-D (mise en cache) d'une géométrie.</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_gidx" title="&amp;&amp;&amp;(gidx,gidx)">&amp;&amp;&amp;(gidx,gidx)</a> - Renvoie TRUE si deux boîtes de délimitation (GIDX) de précision flottante n-D se croisent.</li></ul></div></section><section class="section" id="PostGIS_Curved_GeometryFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.9. Fonctions d'aide aux géométries courbes de PostGIS</h2></div></div></div><p>Les fonctions ci-dessous sont des fonctions PostGIS qui peuvent utiliser CIRCULARSTRING, CURVEPOLYGON et d'autres types de géométrie courbe</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a> - Ajoute une colonne de géométrie à une table existante.</li><li class="listitem"><a class="link" href="#Box2D" title="Box2D">Box2D</a> - Renvoie une BOX2D représentant l'étendue 2D d'une géométrie.</li><li class="listitem"><a class="link" href="#Box3D" title="Box3D">Box3D</a> - Renvoie une BOX3D représentant l'étendue 3D d'une géométrie.</li><li class="listitem"><a class="link" href="#DropGeometryColumn" title="DropGeometryColumn">DropGeometryColumn</a> - Supprime une colonne géométrique d'une table spatiale.</li><li class="listitem"><a class="link" href="#GeometryType" title="GeometryType">GeometryType</a> - Renvoie le type d'une géométrie sous forme de texte.</li><li class="listitem"><a class="link" href="#PostGIS_AddBBox" title="PostGIS_AddBBox">PostGIS_AddBBox</a> - Ajoute une bounding box à la géométrie.</li><li class="listitem"><a class="link" href="#PostGIS_DropBBox" title="PostGIS_DropBBox">PostGIS_DropBBox</a> - Supprime le cache de la boîte de délimitation de la géométrie.</li><li class="listitem"><a class="link" href="#PostGIS_HasBBox" title="PostGIS_HasBBox">PostGIS_HasBBox</a> - Renvoie TRUE si la bbox de cette géométrie est en cache, sinon FALSE.</li><li class="listitem"><a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a> - Fonction d'agrégation qui renvoie la boîte de délimitation 3D des géométries.</li><li class="listitem"><a class="link" href="#ST_Affine" title="ST_Affine">ST_Affine</a> - Appliquer une transformation affine 3D à une géométrie.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Renvoie la représentation OGC/ISO Well-Known Binary (WKB) de la géométrie/geography sans les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a> - Renvoie la représentation Extended Well-Known Binary (EWKB) de la géométrie avec les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a> - Renvoie la représentation Well-Known Text (WKT) de la géométrie avec les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsHEXEWKB" title="ST_AsHEXEWKB">ST_AsHEXEWKB</a> - Renvoie une géométrie au format HEXEWKB (en tant que texte) en utilisant l'encodage little-endian (NDR) ou big-endian (XDR).</li><li class="listitem"><a class="link" href="#ST_AsSVG" title="ST_AsSVG">ST_AsSVG</a> - Renvoie les données de chemin SVG pour une géométrie.</li><li class="listitem"><a class="link" href="#ST_AsText" title="ST_AsText">ST_AsText</a> - Renvoie la représentation Well-Known Text (WKT) de la géométrie/geography sans métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a> - Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie d'entrée en utilisant l'algorithme DBSCAN.</li><li class="listitem"><a class="link" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a> - Fonction agrégée qui regroupe les géométries en fonction de la distance de séparation.</li><li class="listitem"><a class="link" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a> - Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée, regroupement en utilisant la distance de séparation.</li><li class="listitem"><a class="link" href="#ST_Collect" title="ST_Collect">ST_Collect</a> - Crée une géométrie GeometryCollection ou Multi à partir d'un ensemble de géométries.</li><li class="listitem"><a class="link" href="#ST_CoordDim" title="ST_CoordDim">ST_CoordDim</a> - Renvoie la dimension des coordonnées d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a> - Convertit une géométrie contenant des courbes en une géométrie linéaire.</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Renvoie la distance entre deux valeurs de geometry ou geography.</li><li class="listitem"><a class="link" href="#ST_Dump" title="ST_Dump">ST_Dump</a> - Renvoie un ensemble de lignes geometry_dump pour les composants d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a> - Renvoie un ensemble de lignes geometry_dump pour les coordonnées dans une géométrie.</li><li class="listitem"><a class="link" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a> - Renvoie le dernier point d'une LineString ou CircularLineString.</li><li class="listitem"><a class="link" href="#ST_EstimatedExtent" title="ST_EstimatedExtent">ST_EstimatedExtent</a> - Renvoie l'étendue estimée d'une table spatiale.</li><li class="listitem"><a class="link" href="#ST_FlipCoordinates" title="ST_FlipCoordinates">ST_FlipCoordinates</a> - Renvoie une version d'une géométrie dont les axes X et Y sont inversés.</li><li class="listitem"><a class="link" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a> - Forcer les géométries à passer en "mode bidimensionnel".</li><li class="listitem"><a class="link" href="#ST_ForceCurve" title="ST_ForceCurve">ST_ForceCurve</a> - Retransformation d'une géométrie dans son type de courbure, le cas échéant.</li><li class="listitem"><a class="link" href="#ST_ForceSFS" title="ST_ForceSFS">ST_ForceSFS</a> - Forcer les géométries à utiliser uniquement les types de géométrie SFS 1.1.</li><li class="listitem"><a class="link" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a> - Force les géométries en mode XYZ. Il s'agit d'un alias de ST_Force3DZ.</li><li class="listitem"><a class="link" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a> - Forcer les géométries en mode XYM.</li><li class="listitem"><a class="link" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a> - Forcer les géométries en mode XYZ.</li><li class="listitem"><a class="link" href="#ST_Force_4D" title="ST_Force4D">ST_Force4D</a> - Forcer les géométries en mode XYZM.</li><li class="listitem"><a class="link" href="#ST_Force_Collection" title="ST_ForceCollection">ST_ForceCollection</a> - Convertir la géométrie en une GEOMETRYCOLLECTION.</li><li class="listitem"><a class="link" href="#ST_GeoHash" title="ST_GeoHash">ST_GeoHash</a> - Retourne une représentation GeoHash de la géométrie.</li><li class="listitem"><a class="link" href="#ST_GeogFromWKB" title="ST_GeogFromWKB">ST_GeogFromWKB</a> - Retourne un objet de type geography à partir de sa représentation binaire Well-Know Binary (WKB ou EWKB).</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a> - Retourne un objet ST_Geometry à partir de sa représentation binaire étendue (Extended Well-Known Binary representation, EWKB).</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a> - Retourne un objet ST_Geometry à partir de sa représentation textuelle étendue (Extended Well-Known Text representation, EWKT).</li><li class="listitem"><a class="link" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a> - Retourne un objet ST_Geometry à partir de sa représentation textuelle Well-Known Text (WKT).</li><li class="listitem"><a class="link" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a> - Retourne un objet de type geometry à partir de sa représentation binaire Well-Know Binary (WKB) et d'un SRID optionnel.</li><li class="listitem"><a class="link" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a> - Renvoie un élément d'une collection de géométries.</li><li class="listitem"><a class="link" href="#ST_Geometry_EQ" title="=">=</a> - Renvoie TRUE si les coordonnées et l'ordre des coordonnées de la géométrie/géographie A sont les mêmes que les coordonnées et l'ordre des coordonnées de la géométrie/géographie B.</li><li class="listitem"><a class="link" href="#ST_Geometry_Overbelow" title="&amp;&lt;|">&amp;&lt;|</a> - Renvoie TRUE si la boîte englobante de A chevauche ou est inférieure à celle de B.</li><li class="listitem"><a class="link" href="#ST_HasArc" title="ST_HasArc">ST_HasArc</a> - Teste si une géométrie contient un arc de cercle</li><li class="listitem"><a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Teste si deux géométries se croisent (elles ont au moins un point en commun)</li><li class="listitem"><a class="link" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a> - Teste si les points de départ et d'arrivée d'une LineString coïncident. Pour une PolyhedralSurface, teste si elle est fermée (volumétrique).</li><li class="listitem"><a class="link" href="#ST_IsCollection" title="ST_IsCollection">ST_IsCollection</a> - Teste si une géométrie est un type de collection de géométrie.</li><li class="listitem"><a class="link" href="#ST_IsEmpty" title="ST_IsEmpty">ST_IsEmpty</a> - Teste si une géométrie est vide.</li><li class="listitem"><a class="link" href="#ST_LineToCurve" title="ST_LineToCurve">ST_LineToCurve</a> - Convertit une géométrie linéaire en une géométrie courbe.</li><li class="listitem"><a class="link" href="#ST_MemSize" title="ST_MemSize">ST_MemSize</a> - Renvoie la quantité d'espace mémoire que prend une géométrie.</li><li class="listitem"><a class="link" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a> - Retourne le nombre de points (vertex) d'un objet géométrique.</li><li class="listitem"><a class="link" href="#ST_NRings" title="ST_NRings">ST_NRings</a> - Renvoie le nombre d'anneaux dans une géométrie polygonale.</li><li class="listitem"><a class="link" href="#ST_PointFromWKB" title="ST_PointFromWKB">ST_PointFromWKB</a> - Construit une géométrie depuis la représentation binaire WKB et le SRID donné</li><li class="listitem"><a class="link" href="#ST_PointN" title="ST_PointN">ST_PointN</a> - Renvoie le Nième point de la première LineString ou LineString circulaire d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Points" title="ST_Points">ST_Points</a> - Renvoie un MultiPoint contenant les coordonnées d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Rotate" title="ST_Rotate">ST_Rotate</a> - Fait pivoter une géométrie autour d'un point d'origine.</li><li class="listitem"><a class="link" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a> - Fait pivoter une géométrie autour de l'axe Z.</li><li class="listitem"><a class="link" href="#ST_SRID" title="ST_SRID">ST_SRID</a> - Renvoie l'identifiant de référence spatiale d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Scale" title="ST_Scale">ST_Scale</a> - Met à l'échelle une géométrie en fonction de facteurs donnés.</li><li class="listitem"><a class="link" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> - Définir le SRID d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a> - Renvoie le premier point d'une LineString.</li><li class="listitem"><a class="link" href="#ST_Summary" title="ST_Summary">ST_Summary</a> - Renvoie un résumé textuel du contenu d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_SwapOrdinates" title="ST_SwapOrdinates">ST_SwapOrdinates</a> - Renvoie une version de la géométrie donnée avec les valeurs d'ordonnées permutées.</li><li class="listitem"><a class="link" href="#ST_TransScale" title="ST_TransScale">ST_TransScale</a> - Traduit et met à l'échelle une géométrie en fonction des paramètres offset et factor spécifiés.</li><li class="listitem"><a class="link" href="#ST_Transform" title="ST_Transform">ST_Transform</a> - Renvoie une nouvelle géométrie dont les coordonnées ont été transformées dans un système de référence spatial différent.</li><li class="listitem"><a class="link" href="#ST_Translate" title="ST_Translate">ST_Translate</a> - Traduit une géométrie en fonction de décalages donnés.</li><li class="listitem"><a class="link" href="#ST_XMax" title="ST_XMax">ST_XMax</a> - Retourne les maxima X d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_XMin" title="ST_XMin">ST_XMin</a> - Retourne les minima X d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_YMax" title="ST_YMax">ST_YMax</a> - Retourne les maxima Y d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_YMin" title="ST_YMin">ST_YMin</a> - Retourne les minima Y d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a> - Retourne les maxima Z d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a> - Retourne les minima Z d'une boîte de délimitation 2D ou 3D ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Zmflag" title="ST_Zmflag">ST_Zmflag</a> - Retourne un code indiquant la dimension des coordonnées ZM d'une géométrie.</li><li class="listitem"><a class="link" href="#UpdateGeometrySRID" title="UpdateGeometrySRID">UpdateGeometrySRID</a> - Met à jour le SRID de tous les éléments d'une colonne géométrique et les métadonnées de la table.</li><li class="listitem"><a class="link" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a> - Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) contient une autre boîte de délimitation de précision flottante 2D (BOX2DF).</li><li class="listitem"><a class="link" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a> - Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) contient la boîte de délimitation 2D d'une géométrie.</li><li class="listitem"><a class="link" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a> - Renvoie TRUE si la boîte de délimitation 2D d'une géométrie contient une boîte de délimitation de précision flottante 2D (GIDX).</li><li class="listitem"><a class="link" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a> - Renvoi VRAI si la boite englobante 2D de A intersecte la boite englobante 2D de B.</li><li class="listitem"><a class="link" href="#geometry_overlaps_nd" title="&amp;&amp;&amp;">&amp;&amp;&amp;</a> - Renvoie TRUE si la boîte de délimitation n-D de A intersecte la boîte de délimitation n-D de B.</li><li class="listitem"><a class="link" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a> - Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) est contenue dans une autre boîte de délimitation de précision flottante 2D.</li><li class="listitem"><a class="link" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a> - Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) est contenue dans la boîte de délimitation 2D d'une géométrie.</li><li class="listitem"><a class="link" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a> - Renvoie TRUE si la boîte de délimitation 2D d'une géométrie est contenue dans une boîte de délimitation 2D à précision flottante (BOX2DF).</li><li class="listitem"><a class="link" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a> - Renvoie TRUE si deux boîtes de délimitation 2D à précision flottante (BOX2DF) se croisent.</li><li class="listitem"><a class="link" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a> - Renvoie TRUE si une boîte de délimitation 2D de précision flottante (BOX2DF) intersecte la boîte de délimitation 2D (mise en cache) d'une géométrie.</li><li class="listitem"><a class="link" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a> - Renvoie TRUE si la boîte de délimitation 2D (en cache) d'une géométrie intersecte une boîte de délimitation 2D de précision flottante (BOX2DF).</li><li class="listitem"><a class="link" href="#overlaps_nd_geometry_gidx" title="&amp;&amp;&amp;(geometry,gidx)">&amp;&amp;&amp;(geometry,gidx)</a> - Renvoie TRUE si la boîte de délimitation n-D (en cache) d'une géométrie intersecte une boîte de délimitation de précision flottante n-D (GIDX).</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_geometry" title="&amp;&amp;&amp;(gidx,geometry)">&amp;&amp;&amp;(gidx,geometry)</a> - Renvoie TRUE si une boîte de délimitation de précision flottante n-D (GIDX) intersecte la boîte de délimitation n-D (mise en cache) d'une géométrie.</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_gidx" title="&amp;&amp;&amp;(gidx,gidx)">&amp;&amp;&amp;(gidx,gidx)</a> - Renvoie TRUE si deux boîtes de délimitation (GIDX) de précision flottante n-D se croisent.</li></ul></div></section><section class="section" id="PostGIS_PS_GeometryFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.10. Fonctions de support des surfaces polyédriques de PostGIS</h2></div></div></div><p>Les fonctions ci-dessous sont des fonctions PostGIS qui peuvent utiliser les géométries POLYHEDRALSURFACE, POLYHEDRALSURFACEM</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#Box2D" title="Box2D">Box2D</a> - Renvoie une BOX2D représentant l'étendue 2D d'une géométrie.</li><li class="listitem"><a class="link" href="#Box3D" title="Box3D">Box3D</a> - Renvoie une BOX3D représentant l'étendue 3D d'une géométrie.</li><li class="listitem"><a class="link" href="#CG_3DArea" title="CG_3DArea">CG_3DArea</a> - Calcule la surface des géométries de surface 3D. Retourne 0 pour les solides.</li><li class="listitem"><a class="link" href="#CG_3DConvexHull" title="CG_3DConvexHull">CG_3DConvexHull</a> - Calcule l'enveloppe convexe 3D d'une géométrie.</li><li class="listitem"><a class="link" href="#CG_3DDifference" title="CG_3DDifference">CG_3DDifference</a> - Effectuer une différence 3D</li><li class="listitem"><a class="link" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a> - Réaliser une intersection 3D</li><li class="listitem"><a class="link" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a> - Perform 3D union using postgis_sfcgal.</li><li class="listitem"><a class="link" href="#CG_ApproximateMedialAxis" title="CG_ApproximateMedialAxis">CG_ApproximateMedialAxis</a> - Calculer l'axe médian approximatif d'une géométrie aréolaire.</li><li class="listitem"><a class="link" href="#CG_Extrude" title="CG_Extrude">CG_Extrude</a> - Extruder une surface vers un volume</li><li class="listitem"><a class="link" href="#CG_ForceLHR" title="CG_ForceLHR">CG_ForceLHR</a> - Force l'orientation LHR d'un objet</li><li class="listitem"><a class="link" href="#CG_IsPlanar" title="CG_IsPlanar">CG_IsPlanar</a> - Vérifie si une surface est planaire ou non</li><li class="listitem"><a class="link" href="#CG_IsSolid" title="CG_IsSolid">CG_IsSolid</a> - Teste si la géométrie est un solide. Aucun contrôle de validité n'est effectué.</li><li class="listitem"><a class="link" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a> - Transformer la géométrie dans un solide. Aucune vérification n'est effectuée. Pour obtenir un solide valide, la géométrie d'entrée doit être une surface polyédrique fermée ou un TIN fermé.</li><li class="listitem"><a class="link" href="#CG_StraightSkeleton" title="CG_StraightSkeleton">CG_StraightSkeleton</a> - Calcule un squelette (straight skeleton) à partir d'une géométrie</li><li class="listitem"><a class="link" href="#CG_Tesselate" title="CG_Tesselate">CG_Tesselate</a> - Effectue la tessellation de la surface d'un polygone ou d'une surface polyédrique et renvoie un TIN ou une collection de TINS</li><li class="listitem"><a class="link" href="#CG_Visibility" title="CG_Visibility">CG_Visibility</a> - Calculer un polygone de visibilité à partir d'un point ou d'un segment dans une géométrie polygonale</li><li class="listitem"><a class="link" href="#CG_Volume" title="CG_Volume">CG_Volume</a> - Calcule le volume d'un solide 3D. S'il est appliqué à des géométries de surface (même fermées), il renvoie 0.</li><li class="listitem"><a class="link" href="#GeometryType" title="GeometryType">GeometryType</a> - Renvoie le type d'une géométrie sous forme de texte.</li><li class="listitem"><a class="link" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a> - Calcule la surface des géométries de surface 3D. Retourne 0 pour les solides.</li><li class="listitem"><a class="link" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a> - Renvoie le point 3D sur g1 qui est le plus proche de g2. Il s'agit du premier point de la ligne 3D la plus courte.</li><li class="listitem"><a class="link" href="#ST_3DConvexHull" title="ST_3DConvexHull">ST_3DConvexHull</a> - Calcule l'enveloppe convexe 3D d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_3DDFullyWithin" title="ST_3DDFullyWithin">ST_3DDFullyWithin</a> - Teste si deux géométries 3D sont entièrement comprises dans une distance 3D donnée</li><li class="listitem"><a class="link" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a> - Teste si deux géométries 3D se trouvent à une distance 3D donnée</li><li class="listitem"><a class="link" href="#ST_3DDifference" title="ST_3DDifference">ST_3DDifference</a> - Effectuer une différence 3D</li><li class="listitem"><a class="link" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a> - Renvoie la distance cartésienne minimale en 3D (basée sur la référence spatiale) entre deux géométries en unités projetées.</li><li class="listitem"><a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a> - Fonction d'agrégation qui renvoie la boîte de délimitation 3D des géométries.</li><li class="listitem"><a class="link" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a> - Réaliser une intersection 3D</li><li class="listitem"><a class="link" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a> - Teste si deux géométries se croisent dans l'espace en 3D - uniquement pour les points, les lignes, les polygones, les surfaces polyédriques (aire)</li><li class="listitem"><a class="link" href="#ST_3DLongestLine" title="ST_3DLongestLine">ST_3DLongestLine</a> - Renvoie la ligne 3D la plus longue entre deux géométries</li><li class="listitem"><a class="link" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a> - Renvoie la distance maximale cartésienne 3D (basée sur la référence spatiale) entre deux géométries en unités projetées.</li><li class="listitem"><a class="link" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a> - Renvoie la ligne 3D la plus courte entre deux géométries</li><li class="listitem"><a class="link" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a> - Effectuer l'union 3D.</li><li class="listitem"><a class="link" href="#ST_Affine" title="ST_Affine">ST_Affine</a> - Appliquer une transformation affine 3D à une géométrie.</li><li class="listitem"><a class="link" href="#ST_ApproximateMedialAxis" title="ST_ApproximateMedialAxis">ST_ApproximateMedialAxis</a> - Calculer l'axe médian approximatif d'une géométrie aréolaire.</li><li class="listitem"><a class="link" href="#ST_Area" title="ST_Area">ST_Area</a> - Renvoie l'aire d'une géométrie polygonale.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Renvoie la représentation OGC/ISO Well-Known Binary (WKB) de la géométrie/geography sans les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a> - Renvoie la représentation Extended Well-Known Binary (EWKB) de la géométrie avec les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a> - Renvoie la représentation Well-Known Text (WKT) de la géométrie avec les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Renvoyer la géométrie en tant qu'élément GML version 2 ou 3.</li><li class="listitem"><a class="link" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a> - Renvoie une géométrie au format X3D xml node element : ISO-IEC-19776-1.2-X3DEncodings-XML</li><li class="listitem"><a class="link" href="#ST_CoordDim" title="ST_CoordDim">ST_CoordDim</a> - Renvoie la dimension des coordonnées d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a> - Renvoie la dimension topologique d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Dump" title="ST_Dump">ST_Dump</a> - Renvoie un ensemble de lignes geometry_dump pour les composants d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a> - Renvoie un ensemble de lignes geometry_dump pour les coordonnées dans une géométrie.</li><li class="listitem"><a class="link" href="#ST_Expand" title="ST_Expand">ST_Expand</a> - Renvoie une boîte de délimitation développée à partir d'une autre boîte de délimitation ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Extent" title="ST_Extent">ST_Extent</a> - Fonction agrégée qui renvoie la boîte de délimitation des géométries.</li><li class="listitem"><a class="link" href="#ST_Extrude" title="ST_Extrude">ST_Extrude</a> - Extruder une surface vers un volume</li><li class="listitem"><a class="link" href="#ST_FlipCoordinates" title="ST_FlipCoordinates">ST_FlipCoordinates</a> - Renvoie une version d'une géométrie dont les axes X et Y sont inversés.</li><li class="listitem"><a class="link" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a> - Forcer les géométries à passer en "mode bidimensionnel".</li><li class="listitem"><a class="link" href="#ST_ForceLHR" title="ST_ForceLHR">ST_ForceLHR</a> - Force l'orientation LHR d'un objet</li><li class="listitem"><a class="link" href="#ST_ForceRHR" title="ST_ForceRHR">ST_ForceRHR</a> - Force l'orientation des sommets d'un polygone à suivre la règle de la main droite.</li><li class="listitem"><a class="link" href="#ST_ForceSFS" title="ST_ForceSFS">ST_ForceSFS</a> - Forcer les géométries à utiliser uniquement les types de géométrie SFS 1.1.</li><li class="listitem"><a class="link" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a> - Force les géométries en mode XYZ. Il s'agit d'un alias de ST_Force3DZ.</li><li class="listitem"><a class="link" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a> - Forcer les géométries en mode XYZ.</li><li class="listitem"><a class="link" href="#ST_Force_Collection" title="ST_ForceCollection">ST_ForceCollection</a> - Convertir la géométrie en une GEOMETRYCOLLECTION.</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a> - Retourne un objet ST_Geometry à partir de sa représentation binaire étendue (Extended Well-Known Binary representation, EWKB).</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a> - Retourne un objet ST_Geometry à partir de sa représentation textuelle étendue (Extended Well-Known Text representation, EWKT).</li><li class="listitem"><a class="link" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a> - Prend en paramètre une représentation GML d'une géométrie et renvoie un objet PostGIS de type geometry</li><li class="listitem"><a class="link" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a> - Renvoie un élément d'une collection de géométries.</li><li class="listitem"><a class="link" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a> - Renvoie le type SQL-MM d'une géométrie sous forme de texte.</li><li class="listitem"><a class="link" href="#ST_Geometry_EQ" title="=">=</a> - Renvoie TRUE si les coordonnées et l'ordre des coordonnées de la géométrie/géographie A sont les mêmes que les coordonnées et l'ordre des coordonnées de la géométrie/géographie B.</li><li class="listitem"><a class="link" href="#ST_Geometry_Overbelow" title="&amp;&lt;|">&amp;&lt;|</a> - Renvoie TRUE si la boîte englobante de A chevauche ou est inférieure à celle de B.</li><li class="listitem"><a class="link" href="#ST_Geometry_Same" title="~=">~=</a> - Renvoie TRUE si la boîte de délimitation de A est la même que celle de B.</li><li class="listitem"><a class="link" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a> - Teste si les points de départ et d'arrivée d'une LineString coïncident. Pour une PolyhedralSurface, teste si elle est fermée (volumétrique).</li><li class="listitem"><a class="link" href="#ST_IsPlanar" title="ST_IsPlanar">ST_IsPlanar</a> - Vérifie si une surface est planaire ou non</li><li class="listitem"><a class="link" href="#ST_IsSolid" title="ST_IsSolid">ST_IsSolid</a> - Teste si la géométrie est un solide. Aucun contrôle de validité n'est effectué.</li><li class="listitem"><a class="link" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a> - Transformer la géométrie dans un solide. Aucune vérification n'est effectuée. Pour obtenir un solide valide, la géométrie d'entrée doit être une surface polyédrique fermée ou un TIN fermé.</li><li class="listitem"><a class="link" href="#ST_MemSize" title="ST_MemSize">ST_MemSize</a> - Renvoie la quantité d'espace mémoire que prend une géométrie.</li><li class="listitem"><a class="link" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a> - Retourne le nombre de points (vertex) d'un objet géométrique.</li><li class="listitem"><a class="link" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> - Renvoie le nombre d'éléments dans une collection de géométrie.</li><li class="listitem"><a class="link" href="#ST_NumPatches" title="ST_NumPatches">ST_NumPatches</a> - Renvoie le nombre de faces d'une surface polyédrique. Retourne null pour les géométries non polyédriques.</li><li class="listitem"><a class="link" href="#ST_PatchN" title="ST_PatchN">ST_PatchN</a> - Renvoie la Nième géométrie (face) d'une PolyhedralSurface.</li><li class="listitem"><a class="link" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a> - Renvoie une version d'une géométrie dont les points en double ont été supprimés.</li><li class="listitem"><a class="link" href="#ST_Reverse" title="ST_Reverse">ST_Reverse</a> - Retourne la géométrie avec l'ordre des sommets inversé.</li><li class="listitem"><a class="link" href="#ST_Rotate" title="ST_Rotate">ST_Rotate</a> - Fait pivoter une géométrie autour d'un point d'origine.</li><li class="listitem"><a class="link" href="#ST_RotateX" title="ST_RotateX">ST_RotateX</a> - Fait pivoter une géométrie autour de l'axe X.</li><li class="listitem"><a class="link" href="#ST_RotateY" title="ST_RotateY">ST_RotateY</a> - Fait pivoter une géométrie autour de l'axe Y.</li><li class="listitem"><a class="link" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a> - Fait pivoter une géométrie autour de l'axe Z.</li><li class="listitem"><a class="link" href="#ST_Scale" title="ST_Scale">ST_Scale</a> - Met à l'échelle une géométrie en fonction de facteurs donnés.</li><li class="listitem"><a class="link" href="#ST_ShiftLongitude" title="ST_ShiftLongitude">ST_ShiftLongitude</a> - Décale les coordonnées de longitude d'une géométrie entre -180..180 et 0..360.</li><li class="listitem"><a class="link" href="#ST_StraightSkeleton" title="ST_StraightSkeleton">ST_StraightSkeleton</a> - Calcule un squelette (straight skeleton) à partir d'une géométrie</li><li class="listitem"><a class="link" href="#ST_Summary" title="ST_Summary">ST_Summary</a> - Renvoie un résumé textuel du contenu d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_SwapOrdinates" title="ST_SwapOrdinates">ST_SwapOrdinates</a> - Renvoie une version de la géométrie donnée avec les valeurs d'ordonnées permutées.</li><li class="listitem"><a class="link" href="#ST_Tesselate" title="ST_Tesselate">ST_Tesselate</a> - Effectue la tessellation de la surface d'un polygone ou d'une surface polyédrique et renvoie un TIN ou une collection de TINS</li><li class="listitem"><a class="link" href="#ST_Transform" title="ST_Transform">ST_Transform</a> - Renvoie une nouvelle géométrie dont les coordonnées ont été transformées dans un système de référence spatial différent.</li><li class="listitem"><a class="link" href="#ST_Volume" title="ST_Volume">ST_Volume</a> - Calcule le volume d'un solide 3D. S'il est appliqué à des géométries de surface (même fermées), il renvoie 0.</li><li class="listitem"><a class="link" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a> - Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) contient une autre boîte de délimitation de précision flottante 2D (BOX2DF).</li><li class="listitem"><a class="link" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a> - Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) contient la boîte de délimitation 2D d'une géométrie.</li><li class="listitem"><a class="link" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a> - Renvoie TRUE si la boîte de délimitation 2D d'une géométrie contient une boîte de délimitation de précision flottante 2D (GIDX).</li><li class="listitem"><a class="link" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a> - Renvoi VRAI si la boite englobante 2D de A intersecte la boite englobante 2D de B.</li><li class="listitem"><a class="link" href="#geometry_overlaps_nd" title="&amp;&amp;&amp;">&amp;&amp;&amp;</a> - Renvoie TRUE si la boîte de délimitation n-D de A intersecte la boîte de délimitation n-D de B.</li><li class="listitem"><a class="link" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a> - Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) est contenue dans une autre boîte de délimitation de précision flottante 2D.</li><li class="listitem"><a class="link" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a> - Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) est contenue dans la boîte de délimitation 2D d'une géométrie.</li><li class="listitem"><a class="link" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a> - Renvoie TRUE si la boîte de délimitation 2D d'une géométrie est contenue dans une boîte de délimitation 2D à précision flottante (BOX2DF).</li><li class="listitem"><a class="link" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a> - Renvoie TRUE si deux boîtes de délimitation 2D à précision flottante (BOX2DF) se croisent.</li><li class="listitem"><a class="link" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a> - Renvoie TRUE si une boîte de délimitation 2D de précision flottante (BOX2DF) intersecte la boîte de délimitation 2D (mise en cache) d'une géométrie.</li><li class="listitem"><a class="link" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a> - Renvoie TRUE si la boîte de délimitation 2D (en cache) d'une géométrie intersecte une boîte de délimitation 2D de précision flottante (BOX2DF).</li><li class="listitem"><a class="link" href="#overlaps_nd_geometry_gidx" title="&amp;&amp;&amp;(geometry,gidx)">&amp;&amp;&amp;(geometry,gidx)</a> - Renvoie TRUE si la boîte de délimitation n-D (en cache) d'une géométrie intersecte une boîte de délimitation de précision flottante n-D (GIDX).</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_geometry" title="&amp;&amp;&amp;(gidx,geometry)">&amp;&amp;&amp;(gidx,geometry)</a> - Renvoie TRUE si une boîte de délimitation de précision flottante n-D (GIDX) intersecte la boîte de délimitation n-D (mise en cache) d'une géométrie.</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_gidx" title="&amp;&amp;&amp;(gidx,gidx)">&amp;&amp;&amp;(gidx,gidx)</a> - Renvoie TRUE si deux boîtes de délimitation (GIDX) de précision flottante n-D se croisent.</li></ul></div></section><section class="section" id="PostGIS_TypeFunctionMatrix"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.11. Matrice d'aide aux fonctions de PostGIS</h2></div></div></div><p>Vous trouverez ci-dessous une liste alphabétique des fonctions spatiales spécifiques de PostGIS et des types de données spatiales qu'elles utilisent ou de la conformité OGC/SQL à laquelle elles tentent de se conformer.</p><p>
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Un <span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span> signifie que la fonction fonctionne nativement avec le type ou le sous-type.</li><li class="listitem">Un <span class="inlinemediaobject"><img src="images/matrix_transform.png"/></span> signifie qu'il fonctionne mais avec une transformation intégrée utilisant la géométrie, la transformation vers une référence spatiale "meilleur srid", puis la transformation à nouveau. Les résultats peuvent ne pas être conformes aux attentes pour les grandes zones ou les zones aux pôles et peuvent accumuler des erreurs en virgule flottante.</li><li class="listitem">Un <span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span> signifie que la fonction fonctionne avec le type en raison d'un transfert automatique vers un autre type, tel que box3d, plutôt que d'une prise en charge directe du type.</li><li class="listitem">Un <span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span> signifie que la fonction n'est disponible que si PostGIS a été compilé avec le support SFCGAL.</li><li class="listitem">geom - Support géométrique 2D de base (x,y).</li><li class="listitem">geog - Support géographique de base en 2D (x,y).</li><li class="listitem">2.5D - géométries de base en 2D dans un espace 3 D/4D (avec coordonnée Z ou M).</li><li class="listitem">PS - Surfaces polyédriques</li><li class="listitem">T - Triangles et surfaces irrégulières triangulées (TIN)</li></ul></div><p>
    </p><p>
      </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col style="text-align: left; " class="function"/><col style="text-align: center; " class="geometry"/><col style="text-align: center; " class="geography"/><col style="text-align: center; " class="25D"/><col style="text-align: center; " class="Curves"/><col style="text-align: center; " class="SQLMM"/><col style="text-align: center; " class="PS"/><col style="text-align: center; " class="T"/></colgroup><thead><tr><th style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">Fonction</th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">geom</th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">geog</th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">2.5D</th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">Courbes</th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">SQL MM</th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">PS</th><th style="text-align: center; border-bottom: 1px solid ; ">T</th></tr></thead><tbody><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Collect" title="ST_Collect">ST_Collect</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineFromMultiPoint" title="ST_LineFromMultiPoint">ST_LineFromMultiPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakeEnvelope" title="ST_MakeEnvelope">ST_MakeEnvelope</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakePointM" title="ST_MakePointM">ST_MakePointM</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Point" title="ST_Point">ST_Point</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointZ" title="ST_PointZ">ST_PointZ</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointM" title="ST_PointM">ST_PointM</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Polygon" title="ST_Polygon">ST_Polygon</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_HexagonGrid" title="ST_HexagonGrid">ST_HexagonGrid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Hexagon" title="ST_Hexagon">ST_Hexagon</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SquareGrid" title="ST_SquareGrid">ST_SquareGrid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Square" title="ST_Square">ST_Square</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Letters" title="ST_Letters">ST_Letters</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GeometryType" title="GeometryType">GeometryType</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_BoundingDiagonal" title="ST_BoundingDiagonal">ST_BoundingDiagonal</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CoordDim" title="ST_CoordDim">ST_CoordDim</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Dump" title="ST_Dump">ST_Dump</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DumpSegments" title="ST_DumpSegments">ST_DumpSegments</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DumpRings" title="ST_DumpRings">ST_DumpRings</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Envelope" title="ST_Envelope">ST_Envelope</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_HasArc" title="ST_HasArc">ST_HasArc</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_InteriorRingN" title="ST_InteriorRingN">ST_InteriorRingN</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NumCurves" title="ST_NumCurves">ST_NumCurves</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CurveN" title="ST_CurveN">ST_CurveN</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsCollection" title="ST_IsCollection">ST_IsCollection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsEmpty" title="ST_IsEmpty">ST_IsEmpty</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsPolygonCCW" title="ST_IsPolygonCCW">ST_IsPolygonCCW </a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsRing" title="ST_IsRing">ST_IsRing</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_M" title="ST_M">ST_M</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MemSize" title="ST_MemSize">ST_MemSize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NDims" title="ST_NDims">ST_NDims</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NRings" title="ST_NRings">ST_NRings</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NumInteriorRing" title="ST_NumInteriorRing">ST_NumInteriorRing</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NumPatches" title="ST_NumPatches">ST_NumPatches</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NumPoints" title="ST_NumPoints">ST_NumPoints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PatchN" title="ST_PatchN">ST_PatchN</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointN" title="ST_PointN">ST_PointN</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Points" title="ST_Points">ST_Points</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Summary" title="ST_Summary">ST_Summary</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_X" title="ST_X">ST_X</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Y" title="ST_Y">ST_Y</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Z" title="ST_Z">ST_Z</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Zmflag" title="ST_Zmflag">ST_Zmflag</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_HasZ" title="ST_HasZ">ST_HasZ</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_HasM" title="ST_HasM">ST_HasM</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AddPoint" title="ST_AddPoint">ST_AddPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CollectionExtract" title="ST_CollectionExtract">ST_CollectionExtract</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CollectionHomogenize" title="ST_CollectionHomogenize">ST_CollectionHomogenize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Scroll" title="ST_Scroll">ST_Scroll</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_FlipCoordinates" title="ST_FlipCoordinates">ST_FlipCoordinates</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Force_4D" title="ST_Force4D">ST_Force4D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Force_Collection" title="ST_ForceCollection">ST_ForceCollection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ForceCurve" title="ST_ForceCurve">ST_ForceCurve</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ForceSFS" title="ST_ForceSFS">ST_ForceSFS</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ForceRHR" title="ST_ForceRHR">ST_ForceRHR</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineExtend" title="ST_LineExtend">ST_LineExtend</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineToCurve" title="ST_LineToCurve">ST_LineToCurve</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Multi" title="ST_Multi">ST_Multi</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Normalize" title="ST_Normalize">ST_Normalize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Project" title="ST_Project">ST_Project</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_QuantizeCoordinates" title="ST_QuantizeCoordinates">ST_QuantizeCoordinates </a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemovePoint" title="ST_RemovePoint">ST_RemovePoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemoveIrrelevantPointsForView" title="ST_RemoveIrrelevantPointsForView">ST_RemoveIrrelevantPointsForView</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemoveSmallParts" title="ST_RemoveSmallParts">ST_RemoveSmallParts</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Reverse" title="ST_Reverse">ST_Reverse</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SetPoint" title="ST_SetPoint">ST_SetPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ShiftLongitude" title="ST_ShiftLongitude">ST_ShiftLongitude</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_WrapX" title="ST_WrapX">ST_WrapX</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Snap" title="ST_Snap">ST_Snap</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SwapOrdinates" title="ST_SwapOrdinates">ST_SwapOrdinates</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsValidDetail" title="ST_IsValidDetail">ST_IsValidDetail</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsValidReason" title="ST_IsValidReason">ST_IsValidReason</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_InverseTransformPipeline" title="ST_InverseTransformPipeline">ST_InverseTransformPipeline</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SRID" title="ST_SRID">ST_SRID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Transform" title="ST_Transform">ST_Transform</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_srs_codes" title="postgis_srs_codes">postgis_srs_codes</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_srs" title="postgis_srs">postgis_srs</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_srs_all" title="postgis_srs_all">postgis_srs_all</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_srs_search" title="postgis_srs_search">postgis_srs_search</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_BdPolyFromText" title="ST_BdPolyFromText">ST_BdPolyFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_BdMPolyFromText" title="ST_BdMPolyFromText">ST_BdMPolyFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeogFromText" title="ST_GeogFromText">ST_GeogFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeographyFromText" title="ST_GeographyFromText">ST_GeographyFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomCollFromText" title="ST_GeomCollFromText">ST_GeomCollFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromMARC21" title="ST_GeomFromMARC21">ST_GeomFromMARC21</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeometryFromText" title="ST_GeometryFromText">ST_GeometryFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineFromText" title="ST_LineFromText">ST_LineFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MLineFromText" title="ST_MLineFromText">ST_MLineFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MPointFromText" title="ST_MPointFromText">ST_MPointFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MPolyFromText" title="ST_MPolyFromText">ST_MPolyFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointFromText" title="ST_PointFromText">ST_PointFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PolygonFromText" title="ST_PolygonFromText">ST_PolygonFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_WKTToSQL" title="ST_WKTToSQL">ST_WKTToSQL</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeogFromWKB" title="ST_GeogFromWKB">ST_GeogFromWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineFromWKB" title="ST_LineFromWKB">ST_LineFromWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LinestringFromWKB" title="ST_LinestringFromWKB">ST_LinestringFromWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointFromWKB" title="ST_PointFromWKB">ST_PointFromWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_WKBToSQL" title="ST_WKBToSQL">ST_WKBToSQL</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Box2dFromGeoHash" title="ST_Box2dFromGeoHash">ST_Box2dFromGeoHash</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromGeoHash" title="ST_GeomFromGeoHash">ST_GeomFromGeoHash</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromGeoJSON" title="ST_GeomFromGeoJSON">ST_GeomFromGeoJSON</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromKML" title="ST_GeomFromKML">ST_GeomFromKML</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromTWKB" title="ST_GeomFromTWKB">ST_GeomFromTWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GMLToSQL" title="ST_GMLToSQL">ST_GMLToSQL</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineFromEncodedPolyline" title="ST_LineFromEncodedPolyline">ST_LineFromEncodedPolyline</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointFromGeoHash" title="ST_PointFromGeoHash">ST_PointFromGeoHash</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_FromFlatGeobufToTable" title="ST_FromFlatGeobufToTable">ST_FromFlatGeobufToTable</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_FromFlatGeobuf" title="ST_FromFlatGeobuf">ST_FromFlatGeobuf</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsText" title="ST_AsText">ST_AsText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsHEXEWKB" title="ST_AsHEXEWKB">ST_AsHEXEWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsEncodedPolyline" title="ST_AsEncodedPolyline">ST_AsEncodedPolyline</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsFlatGeobuf" title="ST_AsFlatGeobuf">ST_AsFlatGeobuf</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsGeobuf" title="ST_AsGeobuf">ST_AsGeobuf</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsKML" title="ST_AsKML">ST_AsKML</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsLatLonText" title="ST_AsLatLonText">ST_AsLatLonText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsMARC21" title="ST_AsMARC21">ST_AsMARC21</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsSVG" title="ST_AsSVG">ST_AsSVG</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsTWKB" title="ST_AsTWKB">ST_AsTWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeoHash" title="ST_GeoHash">ST_GeoHash</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#geometry_overlaps_nd" title="&amp;&amp;&amp;">&amp;&amp;&amp;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#overlaps_nd_geometry_gidx" title="&amp;&amp;&amp;(geometry,gidx)">&amp;&amp;&amp;(geometry,gidx)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#overlaps_nd_gidx_geometry" title="&amp;&amp;&amp;(gidx,geometry)">&amp;&amp;&amp;(gidx,geometry)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#overlaps_nd_gidx_gidx" title="&amp;&amp;&amp;(gidx,gidx)">&amp;&amp;&amp;(gidx,gidx)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Overleft" title="&amp;&lt;">&amp;&lt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Overbelow" title="&amp;&lt;|">&amp;&lt;|</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Overright" title="&amp;&gt;">&amp;&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Left" title="&lt;&lt;">&lt;&lt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Below" title="&lt;&lt;|">&lt;&lt;|</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_EQ" title="=">=</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Right" title="&gt;&gt;">&gt;&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Contained" title="@">@</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Overabove" title="|&amp;&gt;">|&amp;&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Above" title="|&gt;&gt;">|&gt;&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Contain" title="~">~</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Same" title="~=">~=</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#geometry_distance_cpa" title="|=|">|=|</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#geometry_distance_box" title="&lt;#&gt;">&lt;#&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#geometry_distance_centroid_nd" title="&lt;&lt;-&gt;&gt;">&lt;&lt;-&gt;&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Contains" title="ST_Contains">ST_Contains</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Covers" title="ST_Covers">ST_Covers</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Equals" title="ST_Equals">ST_Equals</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineCrossingDirection" title="ST_LineCrossingDirection">ST_LineCrossingDirection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Relate" title="ST_Relate">ST_Relate</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RelateMatch" title="ST_RelateMatch">ST_RelateMatch</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Touches" title="ST_Touches">ST_Touches</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Within" title="ST_Within">ST_Within</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DDFullyWithin" title="ST_3DDFullyWithin">ST_3DDFullyWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointInsideCircle" title="ST_PointInsideCircle">ST_PointInsideCircle</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Area" title="ST_Area">ST_Area</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Azimuth" title="ST_Azimuth">ST_Azimuth</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Angle" title="ST_Angle">ST_Angle</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClosestPoint" title="ST_ClosestPoint">ST_ClosestPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DistanceSphere" title="ST_DistanceSphere">ST_DistanceSphere</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Distance_Spheroid" title="ST_DistanceSpheroid">ST_DistanceSpheroid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_FrechetDistance" title="ST_FrechetDistance">ST_FrechetDistance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_HausdorffDistance" title="ST_HausdorffDistance">ST_HausdorffDistance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Length" title="ST_Length">ST_Length</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Length2D" title="ST_Length2D">ST_Length2D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DLength" title="ST_3DLength">ST_3DLength</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Length_Spheroid" title="ST_LengthSpheroid">ST_LengthSpheroid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DLongestLine" title="ST_3DLongestLine">ST_3DLongestLine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MinimumClearance" title="ST_MinimumClearance">ST_MinimumClearance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MinimumClearanceLine" title="ST_MinimumClearanceLine">ST_MinimumClearanceLine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Perimeter2D" title="ST_Perimeter2D">ST_Perimeter2D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DPerimeter" title="ST_3DPerimeter">ST_3DPerimeter</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClipByBox2D" title="ST_ClipByBox2D">ST_ClipByBox2D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Difference" title="ST_Difference">ST_Difference</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_transform.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MemUnion" title="ST_MemUnion">ST_MemUnion</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Node" title="ST_Node">ST_Node</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Split" title="ST_Split">ST_Split</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Subdivide" title="ST_Subdivide">ST_Subdivide</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SymDifference" title="ST_SymDifference">ST_SymDifference</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Union" title="ST_Union">ST_Union</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_transform.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ChaikinSmoothing" title="ST_ChaikinSmoothing">ST_ChaikinSmoothing</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_FilterByM" title="ST_FilterByM">ST_FilterByM</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeneratePoints" title="ST_GeneratePoints">ST_GeneratePoints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeometricMedian" title="ST_GeometricMedian">ST_GeometricMedian </a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MaximumInscribedCircle" title="ST_MaximumInscribedCircle">ST_MaximumInscribedCircle</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LargestEmptyCircle" title="ST_LargestEmptyCircle">ST_LargestEmptyCircle</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MinimumBoundingCircle" title="ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MinimumBoundingRadius" title="ST_MinimumBoundingRadius">ST_MinimumBoundingRadius</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_OrientedEnvelope" title="ST_OrientedEnvelope">ST_OrientedEnvelope</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_OffsetCurve" title="ST_OffsetCurve">ST_OffsetCurve</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointOnSurface" title="ST_PointOnSurface">ST_PointOnSurface</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Polygonize" title="ST_Polygonize">ST_Polygonize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SharedPaths" title="ST_SharedPaths">ST_SharedPaths</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SimplifyPolygonHull" title="ST_SimplifyPolygonHull">ST_SimplifyPolygonHull</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SetEffectiveArea" title="ST_SetEffectiveArea">ST_SetEffectiveArea</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_VoronoiLines" title="ST_VoronoiLines">ST_VoronoiLines</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_VoronoiPolygons" title="ST_VoronoiPolygons">ST_VoronoiPolygons</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CoverageUnion" title="ST_CoverageUnion">ST_CoverageUnion</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Affine" title="ST_Affine">ST_Affine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Rotate" title="ST_Rotate">ST_Rotate</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RotateX" title="ST_RotateX">ST_RotateX</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RotateY" title="ST_RotateY">ST_RotateY</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Scale" title="ST_Scale">ST_Scale</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Translate" title="ST_Translate">ST_Translate</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_TransScale" title="ST_TransScale">ST_TransScale</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Box2D" title="Box2D">Box2D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Box3D" title="Box3D">Box3D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_EstimatedExtent" title="ST_EstimatedExtent">ST_EstimatedExtent</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Expand" title="ST_Expand">ST_Expand</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Extent" title="ST_Extent">ST_Extent</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakeBox2D" title="ST_MakeBox2D">ST_MakeBox2D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DMakeBox" title="ST_3DMakeBox">ST_3DMakeBox</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_XMax" title="ST_XMax">ST_XMax</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_XMin" title="ST_XMin">ST_XMin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_YMax" title="ST_YMax">ST_YMax</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_YMin" title="ST_YMin">ST_YMin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DLineInterpolatePoint" title="ST_3DLineInterpolatePoint">ST_3DLineInterpolatePoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineInterpolatePoints" title="ST_LineInterpolatePoints">ST_LineInterpolatePoints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineLocatePoint" title="ST_LineLocatePoint">ST_LineLocatePoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LocateBetween" title="ST_LocateBetween">ST_LocateBetween</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LocateBetweenElevations" title="ST_LocateBetweenElevations">ST_LocateBetweenElevations</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_InterpolatePoint" title="ST_InterpolatePoint">ST_InterpolatePoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AddMeasure" title="ST_AddMeasure">ST_AddMeasure</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DistanceCPA" title="ST_DistanceCPA">ST_DistanceCPA</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CPAWithin" title="ST_CPAWithin">ST_CPAWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_backend" title="postgis.backend">postgis.backend</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_gdal_datapath" title="postgis.gdal_datapath">postgis.gdal_datapath</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_gdal_enabled_drivers" title="postgis.gdal_enabled_drivers">postgis.gdal_enabled_drivers</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_enable_outdb_rasters" title="postgis.enable_outdb_rasters">postgis.enable_outdb_rasters</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_gdal_vsi_options" title="postgis.gdal_vsi_options">postgis.gdal_vsi_options</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#PostGIS_AddBBox" title="PostGIS_AddBBox">PostGIS_AddBBox</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#PostGIS_DropBBox" title="PostGIS_DropBBox">PostGIS_DropBBox</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#PostGIS_HasBBox" title="PostGIS_HasBBox">PostGIS_HasBBox</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_sfcgal_version" title="postgis_sfcgal_version">postgis_sfcgal_version</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_sfcgal_full_version" title="postgis_sfcgal_full_version">postgis_sfcgal_full_version</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_ForceLHR" title="CG_ForceLHR">CG_ForceLHR</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_IsPlanar" title="CG_IsPlanar">CG_IsPlanar</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_IsSolid" title="CG_IsSolid">CG_IsSolid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Orientation" title="CG_Orientation">CG_Orientation</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Area" title="CG_Area">CG_Area</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_3DArea" title="CG_3DArea">CG_3DArea</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Volume" title="CG_Volume">CG_Volume</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ForceLHR" title="ST_ForceLHR">ST_ForceLHR</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsPlanar" title="ST_IsPlanar">ST_IsPlanar</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsSolid" title="ST_IsSolid">ST_IsSolid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Orientation" title="ST_Orientation">ST_Orientation</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Volume" title="ST_Volume">ST_Volume</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Intersection" title="CG_Intersection">CG_Intersection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Intersects" title="CG_Intersects">CG_Intersects</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_3DIntersects" title="CG_3DIntersects">CG_3DIntersects</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Difference" title="CG_Difference">CG_Difference</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DDifference" title="ST_3DDifference">ST_3DDifference</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_3DDifference" title="CG_3DDifference">CG_3DDifference</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Distance" title="CG_Distance">CG_Distance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_3DDistance" title="CG_3DDistance">CG_3DDistance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DConvexHull" title="ST_3DConvexHull">ST_3DConvexHull</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_3DConvexHull" title="CG_3DConvexHull">CG_3DConvexHull</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Union" title="CG_Union">CG_Union</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AlphaShape" title="ST_AlphaShape">ST_AlphaShape</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_AlphaShape" title="CG_AlphaShape">CG_AlphaShape</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ApproximateMedialAxis" title="ST_ApproximateMedialAxis">ST_ApproximateMedialAxis</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_ApproximateMedialAxis" title="CG_ApproximateMedialAxis">CG_ApproximateMedialAxis</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ConstrainedDelaunayTriangles" title="ST_ConstrainedDelaunayTriangles">ST_ConstrainedDelaunayTriangles</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_ConstrainedDelaunayTriangles" title="CG_ConstrainedDelaunayTriangles">CG_ConstrainedDelaunayTriangles</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Extrude" title="ST_Extrude">ST_Extrude</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Extrude" title="CG_Extrude">CG_Extrude</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_ExtrudeStraightSkeleton" title="CG_ExtrudeStraightSkeleton">CG_ExtrudeStraightSkeleton</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MinkowskiSum" title="ST_MinkowskiSum">ST_MinkowskiSum</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_MinkowskiSum" title="CG_MinkowskiSum">CG_MinkowskiSum</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_OptimalAlphaShape" title="ST_OptimalAlphaShape">ST_OptimalAlphaShape</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_OptimalAlphaShape" title="CG_OptimalAlphaShape">CG_OptimalAlphaShape</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_StraightSkeleton" title="CG_StraightSkeleton">CG_StraightSkeleton</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_StraightSkeleton" title="ST_StraightSkeleton">ST_StraightSkeleton</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Tesselate" title="ST_Tesselate">ST_Tesselate</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Tesselate" title="CG_Tesselate">CG_Tesselate</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Triangulate" title="CG_Triangulate">CG_Triangulate</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Visibility" title="CG_Visibility">CG_Visibility</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#getfaceedges_returntype" title="getfaceedges_returntype">getfaceedges_returntype</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#topogeometry" title="TopoGeometry">TopoGeometry</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#validatetopology_returntype" title="validatetopology_returntype">validatetopology_returntype</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#topoelement" title="TopoElement">TopoElement</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#topoelementarray" title="TopoElementArray">TopoElementArray</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#AddTopoGeometryColumn" title="AddTopoGeometryColumn">AddTopoGeometryColumn</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RenameTopoGeometryColumn" title="RenameTopoGeometryColumn">RenameTopoGeometryColumn</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#DropTopology" title="DropTopology">DropTopology</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RenameTopology" title="RenameTopology">RenameTopology</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#DropTopoGeometryColumn" title="DropTopoGeometryColumn">DropTopoGeometryColumn</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Populate_Topology_Layer" title="Populate_Topology_Layer">Populate_Topology_Layer</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopologySummary" title="TopologySummary">TopologySummary</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ValidateTopologyRelation" title="ValidateTopologyRelation">ValidateTopologyRelation</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#FindTopology" title="FindTopology">FindTopology</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#FindLayer" title="FindLayer">FindLayer</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CreateTopology" title="CreateTopology">CreateTopology</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CopyTopology" title="CopyTopology">CopyTopology</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_InitTopoGeo" title="ST_InitTopoGeo">ST_InitTopoGeo</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CreateTopoGeo" title="ST_CreateTopoGeo">ST_CreateTopoGeo</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoGeo_AddPoint" title="TopoGeo_AddPoint">TopoGeo_AddPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoGeo_AddPolygon" title="TopoGeo_AddPolygon">TopoGeo_AddPolygon</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoGeo_LoadGeometry" title="TopoGeo_LoadGeometry">TopoGeo_LoadGeometry</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AddIsoNode" title="ST_AddIsoNode">ST_AddIsoNode</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AddIsoEdge" title="ST_AddIsoEdge">ST_AddIsoEdge</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AddEdgeNewFaces" title="ST_AddEdgeNewFaces">ST_AddEdgeNewFaces</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AddEdgeModFace" title="ST_AddEdgeModFace">ST_AddEdgeModFace</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemEdgeNewFace" title="ST_RemEdgeNewFace">ST_RemEdgeNewFace</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemEdgeModFace" title="ST_RemEdgeModFace">ST_RemEdgeModFace</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ChangeEdgeGeom" title="ST_ChangeEdgeGeom">ST_ChangeEdgeGeom</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ModEdgeHeal" title="ST_ModEdgeHeal">ST_ModEdgeHeal</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NewEdgeHeal" title="ST_NewEdgeHeal">ST_NewEdgeHeal</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MoveIsoNode" title="ST_MoveIsoNode">ST_MoveIsoNode</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NewEdgesSplit" title="ST_NewEdgesSplit">ST_NewEdgesSplit</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemoveIsoNode" title="ST_RemoveIsoNode">ST_RemoveIsoNode</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemoveIsoEdge" title="ST_RemoveIsoEdge">ST_RemoveIsoEdge</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetEdgeByPoint" title="GetEdgeByPoint">GetEdgeByPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetFaceByPoint" title="GetFaceByPoint">GetFaceByPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetFaceContainingPoint" title="GetFaceContainingPoint">GetFaceContainingPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetNodeByPoint" title="GetNodeByPoint">GetNodeByPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetTopologyID" title="GetTopologyID">GetTopologyID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetTopologySRID" title="GetTopologySRID">GetTopologySRID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetTopologyName" title="GetTopologyName">GetTopologyName</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GetFaceEdges" title="ST_GetFaceEdges">ST_GetFaceEdges</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GetFaceGeometry" title="ST_GetFaceGeometry">ST_GetFaceGeometry</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetNodeEdges" title="GetNodeEdges">GetNodeEdges</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopologyPolygonize" title="Polygonize">Polygonize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#AddNode" title="AddNode">AddNode</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#AddEdge" title="AddEdge">AddEdge</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#AddFace" title="AddFace">AddFace</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TP_ST_Simplify" title="ST_Simplify">ST_Simplify</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TP_RemoveUnusedPrimitives" title="RemoveUnusedPrimitives">RemoveUnusedPrimitives</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoElementArray_Agg" title="TopoElementArray_Agg">TopoElementArray_Agg</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoElement" title="TopoElement">TopoElement</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#clearTopoGeom" title="clearTopoGeom">clearTopoGeom</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoGeom_addElement" title="TopoGeom_addElement">TopoGeom_addElement</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoGeom_remElement" title="TopoGeom_remElement">TopoGeom_remElement</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoGeom_addTopoGeom" title="TopoGeom_addTopoGeom">TopoGeom_addTopoGeom</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#toTopoGeom_editor_proxy" title="toTopoGeom">toTopoGeom</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetTopoGeomElementArray" title="GetTopoGeomElementArray">GetTopoGeomElementArray</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetTopoGeomElements" title="GetTopoGeomElements">GetTopoGeomElements</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TG_ST_SRID" title="ST_SRID">ST_SRID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#AsGML" title="AsGML">AsGML</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#AsTopoJSON" title="AsTopoJSON">AsTopoJSON</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TG_Equals" title="Equals">Equals</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TG_Intersects" title="Intersects">Intersects</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#geomval" title="geomval">geomval</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#addbandarg" title="addbandarg">addbandarg</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#rastbandarg" title="rastbandarg">rastbandarg</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#raster" title="raster">raster</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#reclassarg" title="reclassarg">reclassarg</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#summarystats" title="summarystats">summarystats</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#unionarg" title="unionarg">unionarg</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_DropRasterConstraints" title="DropRasterConstraints">DropRasterConstraints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_AddOverviewConstraints" title="AddOverviewConstraints">AddOverviewConstraints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_DropOverviewConstraints" title="DropOverviewConstraints">DropOverviewConstraints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_PostGIS_GDAL_Version" title="PostGIS_GDAL_Version">PostGIS_GDAL_Version</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_PostGIS_Raster_Lib_Build_Date" title="PostGIS_Raster_Lib_Build_Date">PostGIS_Raster_Lib_Build_Date</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_PostGIS_Raster_Lib_Version" title="PostGIS_Raster_Lib_Version">PostGIS_Raster_Lib_Version</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Contour" title="ST_Contour">ST_Contour</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_InterpolateRaster" title="ST_InterpolateRaster">ST_InterpolateRaster</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_UpdateRasterSRID" title="UpdateRasterSRID">UpdateRasterSRID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_CreateOverview" title="ST_CreateOverview">ST_CreateOverview</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AsRaster" title="ST_AsRaster">ST_AsRaster</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Band" title="ST_Band">ST_Band</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MakeEmptyCoverage" title="ST_MakeEmptyCoverage">ST_MakeEmptyCoverage</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Tile" title="ST_Tile">ST_Tile</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Retile" title="ST_Retile">ST_Retile</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_FromGDALRaster" title="ST_FromGDALRaster">ST_FromGDALRaster</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Height" title="ST_Height">ST_Height</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_IsEmpty" title="ST_IsEmpty">ST_IsEmpty</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MemSize" title="ST_MemSize">ST_MemSize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelHeight" title="ST_PixelHeight">ST_PixelHeight</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelWidth" title="ST_PixelWidth">ST_PixelWidth</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_RasterToWorldCoord" title="ST_RasterToWorldCoord">ST_RasterToWorldCoord</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Rotation" title="ST_Rotation">ST_Rotation</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Summary" title="ST_Summary">ST_Summary</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_UpperLeftX" title="ST_UpperLeftX">ST_UpperLeftX</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_UpperLeftY" title="ST_UpperLeftY">ST_UpperLeftY</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Width" title="ST_Width">ST_Width</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_WorldToRasterCoord" title="ST_WorldToRasterCoord">ST_WorldToRasterCoord</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_WorldToRasterCoordX" title="ST_WorldToRasterCoordX">ST_WorldToRasterCoordX</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_WorldToRasterCoordY" title="ST_WorldToRasterCoordY">ST_WorldToRasterCoordY</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_BandNoDataValue" title="ST_BandNoDataValue">ST_BandNoDataValue</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_BandIsNoData" title="ST_BandIsNoData">ST_BandIsNoData</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_BandPath" title="ST_BandPath">ST_BandPath</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_BandFileSize" title="ST_BandFileSize">ST_BandFileSize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_BandFileTimestamp" title="ST_BandFileTimestamp">ST_BandFileTimestamp</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MinPossibleValue" title="ST_MinPossibleValue">ST_MinPossibleValue</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_HasNoBand" title="ST_HasNoBand">ST_HasNoBand</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Value" title="ST_Value">ST_Value</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_NearestValue" title="ST_NearestValue">ST_NearestValue</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetZ" title="ST_SetZ">ST_SetZ</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetM" title="ST_SetM">ST_SetM</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Neighborhood" title="ST_Neighborhood">ST_Neighborhood</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetValues" title="ST_SetValues">ST_SetValues</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_DumpValues" title="ST_DumpValues">ST_DumpValues</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelOfValue" title="ST_PixelOfValue">ST_PixelOfValue</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetGeoReference" title="ST_SetGeoReference">ST_SetGeoReference</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetRotation" title="ST_SetRotation">ST_SetRotation</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetScale" title="ST_SetScale">ST_SetScale</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetUpperLeft" title="ST_SetUpperLeft">ST_SetUpperLeft</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Reskew" title="ST_Reskew">ST_Reskew</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Resize" title="ST_Resize">ST_Resize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetBandIsNoData" title="ST_SetBandIsNoData">ST_SetBandIsNoData</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetBandPath" title="ST_SetBandPath">ST_SetBandPath</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetBandIndex" title="ST_SetBandIndex">ST_SetBandIndex</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Count" title="ST_Count">ST_Count</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_CountAgg" title="ST_CountAgg">ST_CountAgg</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Histogram" title="ST_Histogram">ST_Histogram</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Quantile" title="ST_Quantile">ST_Quantile</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_ValueCount" title="ST_ValueCount">ST_ValueCount</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_RastFromWKB" title="ST_RastFromWKB">ST_RastFromWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_RastFromHexWKB" title="ST_RastFromHexWKB">ST_RastFromHexWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AsBinary" title="ST_AsBinary/ST_AsWKB">ST_AsBinary/ST_AsWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AsHexWKB" title="ST_AsHexWKB">ST_AsHexWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AsJPEG" title="ST_AsJPEG">ST_AsJPEG</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AsTIFF" title="ST_AsTIFF">ST_AsTIFF</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_ColorMap" title="ST_ColorMap">ST_ColorMap</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Grayscale" title="ST_Grayscale">ST_Grayscale</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Intersection" title="ST_Intersection">ST_Intersection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MapAlgebra_expr" title="ST_MapAlgebra (expression version)">ST_MapAlgebra (expression version)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MapAlgebraExpr" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MapAlgebraFct2" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_InvDistWeight4ma" title="ST_InvDistWeight4ma">ST_InvDistWeight4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MinDist4ma" title="ST_MinDist4ma">ST_MinDist4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Box3D" title="Box3D">Box3D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Envelope" title="ST_Envelope">ST_Envelope</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MinConvexHull" title="ST_MinConvexHull">ST_MinConvexHull</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Polygon" title="ST_Polygon">ST_Polygon</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Raster_Intersect" title="&amp;&amp;">&amp;&amp;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Raster_OverLeft" title="&amp;&lt;">&amp;&lt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Raster_OverRight" title="&amp;&gt;">&amp;&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Raster_EQ" title="=">=</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Raster_Contained" title="@">@</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Raster_Same" title="~=">~=</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Raster_Contains" title="~">~</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Contains" title="ST_Contains">ST_Contains</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Covers" title="ST_Covers">ST_Covers</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Touches" title="ST_Touches">ST_Touches</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_NotSameAlignmentReason" title="ST_NotSameAlignmentReason">ST_NotSameAlignmentReason</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Within" title="ST_Within">ST_Within</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_DWithin" title="ST_DWithin">ST_DWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#stdaddr" title="stdaddr">stdaddr</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#rulestab" title="rules table">rules table</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#lextab" title="lex table">lex table</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#gaztab" title="gaz table">gaz table</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#debug_standardize_address" title="debug_standardize_address">debug_standardize_address</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#parse_address" title="parse_address">parse_address</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#standardize_address" title="standardize_address">standardize_address</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Drop_Indexes_Generate_Script" title="Drop_Indexes_Generate_Script">Drop_Indexes_Generate_Script</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Drop_Nation_Tables_Generate_Script" title="Drop_Nation_Tables_Generate_Script">Drop_Nation_Tables_Generate_Script</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Drop_State_Tables_Generate_Script" title="Drop_State_Tables_Generate_Script">Drop_State_Tables_Generate_Script</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Geocode" title="Geocode">Geocode</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Geocode_Intersection" title="Geocode_Intersection">Geocode_Intersection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Get_Geocode_Setting" title="Get_Geocode_Setting">Get_Geocode_Setting</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Get_Tract" title="Get_Tract">Get_Tract</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Install_Missing_Indexes" title="Install_Missing_Indexes">Install_Missing_Indexes</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Loader_Generate_Census_Script" title="Loader_Generate_Census_Script">Loader_Generate_Census_Script</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Missing_Indexes_Generate_Script" title="Missing_Indexes_Generate_Script">Missing_Indexes_Generate_Script</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Pprint_Addy" title="Pprint_Addy">Pprint_Addy</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Reverse_Geocode" title="Reverse_Geocode">Reverse_Geocode</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Topology_Load_Tiger" title="Topology_Load_Tiger">Topology_Load_Tiger</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; ">
      <a class="link" href="#Set_Geocode_Setting" title="Set_Geocode_Setting">Set_Geocode_Setting</a>
    </td><td style="text-align: center; border-right: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; "> </td><td style="text-align: center; "> </td></tr></tbody></table></div><p>
    </p></section><section class="section" id="NewFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.12. Fonctions PostGIS nouvelles, améliorées ou modifiées</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#idm50607">13.12.1. Fonctions PostGIS nouvelles ou améliorées en 3.5</a></span></li><li><span class="section"><a href="#idm50739">13.12.2. Fonctions PostGIS nouvelles ou améliorées en 3.4</a></span></li><li><span class="section"><a href="#idm50835">13.12.3. Fonctions PostGIS nouvelles ou améliorées en 3.3</a></span></li><li><span class="section"><a href="#idm50883">13.12.4. Fonctions PostGIS nouvelles ou améliorées en 3.2</a></span></li><li><span class="section"><a href="#idm50988">13.12.5. Fonctions PostGIS nouvelles ou améliorées en 3.1</a></span></li><li><span class="section"><a href="#idm51069">13.12.6. Fonctions PostGIS nouvelles ou améliorées en 3.0</a></span></li><li><span class="section"><a href="#idm51177">13.12.7. Fonctions PostGIS nouvelles ou améliorées en 2.5</a></span></li><li><span class="section"><a href="#idm51270">13.12.8. Fonctions PostGIS nouvelles ou améliorées en 2.4</a></span></li><li><span class="section"><a href="#idm51342">13.12.9. Fonctions PostGIS nouvelles ou améliorées en 2.3</a></span></li><li><span class="section"><a href="#idm51459">13.12.10. Fonctions PostGIS nouvelles ou améliorées en 2.2</a></span></li><li><span class="section"><a href="#idm51648">13.12.11. Fonctions PostGIS nouvelles ou améliorées en 2.1</a></span></li><li><span class="section"><a href="#idm52014">13.12.12. Fonctions PostGIS nouvelles ou améliorées en 2.0</a></span></li><li><span class="section"><a href="#idm52644">13.12.13. Fonctions PostGIS nouvelles ou améliorées en 1.5</a></span></li><li><span class="section"><a href="#idm52742">13.12.14. Fonctions PostGIS nouvelles ou améliorées en 1.4</a></span></li><li><span class="section"><a href="#idm52777">13.12.15. Fonctions PostGIS nouvelles ou améliorées en 1.3</a></span></li></ul></div><section class="section" id="idm50607"><div class="titlepage"><div><div><h3 class="title">13.12.1. Fonctions PostGIS nouvelles ou améliorées en 3.5</h3></div></div></div><p>Les fonctions indiquées ci-dessous sont des fonctions PostGIS qui ont été ajoutées ou améliorées.</p><p>Fonctions nouvelles dans PostGIS 3.5</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#CG_3DArea" title="CG_3DArea">CG_3DArea</a> - Disponibilité : 3.5.0 Calcule la surface des géométries de surface 3D. Retourne 0 pour les solides.</li><li class="listitem"><a class="link" href="#CG_3DConvexHull" title="CG_3DConvexHull">CG_3DConvexHull</a> - Disponibilité : 3.5.0 Calcule l'enveloppe convexe 3D d'une géométrie.</li><li class="listitem"><a class="link" href="#CG_3DDifference" title="CG_3DDifference">CG_3DDifference</a> - Disponibilité : 3.5.0 Effectuer une différence 3D</li><li class="listitem"><a class="link" href="#CG_3DDistance" title="CG_3DDistance">CG_3DDistance</a> - Disponibilité : 3.5.0 Calcule la distance 3D minimale entre deux géométries</li><li class="listitem"><a class="link" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a> - Disponibilité : 3.5.0 Réaliser une intersection 3D</li><li class="listitem"><a class="link" href="#CG_3DIntersects" title="CG_3DIntersects">CG_3DIntersects</a> - Disponibilité : 3.5.0 Teste si deux géométries 3D intersectent</li><li class="listitem"><a class="link" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a> - Disponibilité : 3.5.0 Perform 3D union using postgis_sfcgal.</li><li class="listitem"><a class="link" href="#CG_AlphaShape" title="CG_AlphaShape">CG_AlphaShape</a> - Availability: 3.5.0 - requires SFCGAL &gt;= 1.4.1. Calcul d'une forme Alpha entourant une géométrie</li><li class="listitem"><a class="link" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a> - Disponibilité : 3.5.0 - nécessite SFCGAL &gt;= 1.5.0. Calcul de la partition convexe approximative de la géométrie du polygone</li><li class="listitem"><a class="link" href="#CG_ApproximateMedialAxis" title="CG_ApproximateMedialAxis">CG_ApproximateMedialAxis</a> - Disponibilité : 3.5.0 Calculer l'axe médian approximatif d'une géométrie aréolaire.</li><li class="listitem"><a class="link" href="#CG_Area" title="CG_Area">CG_Area</a> - Disponibilité : 3.5.0 Calcule la surface d'une géométrie</li><li class="listitem"><a class="link" href="#CG_Difference" title="CG_Difference">CG_Difference</a> - Disponibilité : 3.5.0 Calcul la différence géométrique entre deux géométries</li><li class="listitem"><a class="link" href="#CG_Distance" title="CG_Distance">CG_Distance</a> - Disponibilité : 3.5.0 Calcule la distance minimale entre deux géométries</li><li class="listitem"><a class="link" href="#CG_Extrude" title="CG_Extrude">CG_Extrude</a> - Disponibilité : 3.5.0 Extruder une surface vers un volume</li><li class="listitem"><a class="link" href="#CG_ExtrudeStraightSkeleton" title="CG_ExtrudeStraightSkeleton">CG_ExtrudeStraightSkeleton</a> - Disponibilité : 3.5.0 - nécessite SFCGAL &gt;= 1.5.0. Extrusion de squelette droit</li><li class="listitem"><a class="link" href="#CG_ForceLHR" title="CG_ForceLHR">CG_ForceLHR</a> - Disponibilité : 3.5.0 Force l'orientation LHR d'un objet</li><li class="listitem"><a class="link" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a> - Disponibilité : 3.5.0 - nécessite SFCGAL &gt;= 1.5.0. Calcul de la partition convexe approximative de la géométrie du polygone</li><li class="listitem"><a class="link" href="#CG_Intersection" title="CG_Intersection">CG_Intersection</a> - Disponibilité : 3.5.0 Calcul l'intersection de deux géométries</li><li class="listitem"><a class="link" href="#CG_Intersects" title="CG_Intersects">CG_Intersects</a> - Disponibilité : 3.5.0 Teste si deux géométries se croisent (elles ont au moins un point en commun)</li><li class="listitem"><a class="link" href="#CG_IsPlanar" title="CG_IsPlanar">CG_IsPlanar</a> - Disponibilité : 3.5.0 Vérifie si une surface est planaire ou non</li><li class="listitem"><a class="link" href="#CG_IsSolid" title="CG_IsSolid">CG_IsSolid</a> - Disponibilité : 3.5.0 Teste si la géométrie est un solide. Aucun contrôle de validité n'est effectué.</li><li class="listitem"><a class="link" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a> - Disponibilité : 3.5.0 Transformer la géométrie dans un solide. Aucune vérification n'est effectuée. Pour obtenir un solide valide, la géométrie d'entrée doit être une surface polyédrique fermée ou un TIN fermé.</li><li class="listitem"><a class="link" href="#CG_MinkowskiSum" title="CG_MinkowskiSum">CG_MinkowskiSum</a> - Disponibilité : 3.5.0 Effectue la somme de Minkowski</li><li class="listitem"><a class="link" href="#CG_OptimalAlphaShape" title="CG_OptimalAlphaShape">CG_OptimalAlphaShape</a> - Availability: 3.5.0 - requires SFCGAL &gt;= 1.4.1. Calcule une forme alpha entourant une géométrie en utilisant une valeur alpha "optimale".</li><li class="listitem"><a class="link" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a> - Disponibilité : 3.5.0 - nécessite SFCGAL &gt;= 1.5.0. Calcul d'une partition convexe optimale de la géométrie du polygone</li><li class="listitem"><a class="link" href="#CG_Orientation" title="CG_Orientation">CG_Orientation</a> - Disponibilité : 3.5.0 Détermine l'orientation d'une surface</li><li class="listitem"><a class="link" href="#CG_StraightSkeleton" title="CG_StraightSkeleton">CG_StraightSkeleton</a> - Disponibilité : 3.5.0 Calcule un squelette (straight skeleton) à partir d'une géométrie</li><li class="listitem"><a class="link" href="#CG_Tesselate" title="CG_Tesselate">CG_Tesselate</a> - Disponibilité : 3.5.0 Effectue la tessellation de la surface d'un polygone ou d'une surface polyédrique et renvoie un TIN ou une collection de TINS</li><li class="listitem"><a class="link" href="#CG_Triangulate" title="CG_Triangulate">CG_Triangulate</a> - Disponibilité : 3.5.0 Triangule une géométrie polygonale</li><li class="listitem"><a class="link" href="#CG_Union" title="CG_Union">CG_Union</a> - Disponibilité : 3.5.0 Calcule l'union de deux géométries</li><li class="listitem"><a class="link" href="#CG_Visibility" title="CG_Visibility">CG_Visibility</a> - Disponibilité : 3.5.0 - nécessite SFCGAL &gt;= 1.5.0. Calculer un polygone de visibilité à partir d'un point ou d'un segment dans une géométrie polygonale</li><li class="listitem"><a class="link" href="#CG_Volume" title="CG_Volume">CG_Volume</a> - Disponibilité : 3.5.0 Calcule le volume d'un solide 3D. S'il est appliqué à des géométries de surface (même fermées), il renvoie 0.</li><li class="listitem"><a class="link" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a> - Disponibilité : 3.5.0 - nécessite SFCGAL &gt;= 1.5.0. Calcul de la partition y-monotone de la géométrie du polygone</li><li class="listitem"><a class="link" href="#ST_HasM" title="ST_HasM">ST_HasM</a> - Disponibilité : 3.5.0 Vérifie si une géométrie a une dimension M (mesure).</li><li class="listitem"><a class="link" href="#ST_HasZ" title="ST_HasZ">ST_HasZ</a> - Disponibilité : 3.5.0 Vérifie si une géométrie possède une dimension Z.</li><li class="listitem"><a class="link" href="#ST_RemoveIrrelevantPointsForView" title="ST_RemoveIrrelevantPointsForView">ST_RemoveIrrelevantPointsForView</a> - Disponibilité : 3.5.0 Removes points that are irrelevant for rendering a specific rectangluar view of a geometry.</li><li class="listitem"><a class="link" href="#ST_RemoveSmallParts" title="ST_RemoveSmallParts">ST_RemoveSmallParts</a> - Disponibilité : 3.5.0 Removes small parts (polygon rings or linestrings) of a geometry.</li><li class="listitem"><a class="link" href="#TopoGeo_LoadGeometry" title="TopoGeo_LoadGeometry">TopoGeo_LoadGeometry</a> - Disponibilité : 3.5.0 Charge une géométrie dans une topologie existante, en effectuant de l'accrochage et des divisions si nécessaire.</li></ul></div><p>Fonctions améliorées dans PostGIS 3.5</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a> - Amélioration : 3.5.0 - ajout de l'argument touched. Returns the raster clipped by the input geometry. If band number is not specified, all bands are processed. If crop is not specified or TRUE, the output raster is cropped. If touched is set to TRUE, then touched pixels are included, otherwise only if the center of the pixel is in the geometry it is included.</li></ul></div><p>Fonctions modifiées dans PostGIS 3.5</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Modifié : la version 3.5.0 permet de spécifier la colonne contenant l'identifiant de l'élément Renvoyer une géométrie ou un élément au format GeoJSON.</li><li class="listitem"><a class="link" href="#ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a> - Modifié : 3.5.0 : la logique implémentée utilise désormais un test de confinement dans un tampon, plutôt que l'algorithme ST_MaxDistance. Les résultats seront différents de ceux des versions précédentes, mais devraient être plus proches des attentes de l'utilisateur. Teste si une géométrie se trouve entièrement à une distance d'une autre géométrie</li></ul></div></section><section class="section" id="idm50739"><div class="titlepage"><div><div><h3 class="title">13.12.2. Fonctions PostGIS nouvelles ou améliorées en 3.4</h3></div></div></div><p>Les fonctions indiquées ci-dessous sont des fonctions PostGIS qui ont été ajoutées ou améliorées.</p><p>Fonctions nouvelles dans PostGIS 3.4</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#PostGIS_GEOS_Compiled_Version" title="PostGIS_GEOS_Compiled_Version">PostGIS_GEOS_Compiled_Version</a> - Disponibilité : 3.4.0 Renvoie le numéro de version de la librairie GEOS avec laquelle PostGIS a été construit.</li><li class="listitem"><a class="link" href="#PostGIS_PROJ_Compiled_Version" title="PostGIS_PROJ_Compiled_Version">PostGIS_PROJ_Compiled_Version</a> - Disponibilité : 3.5.0 Returns the version number of the PROJ library against which PostGIS was built.</li><li class="listitem"><a class="link" href="#RenameTopoGeometryColumn" title="RenameTopoGeometryColumn">RenameTopoGeometryColumn</a> - Disponibilité : 3.4.0 Renomme une colonne topogeometry</li><li class="listitem"><a class="link" href="#RenameTopology" title="RenameTopology">RenameTopology</a> - Disponibilité : 3.4.0 Renomme une topologie</li><li class="listitem"><a class="link" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a> - Disponibilité : 3.4.0 Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée, en regroupant les géométries en entrée en ensembles connectés.</li><li class="listitem"><a class="link" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a> - Disponibilité : 3.4.0 Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée, regroupement en utilisant la distance de séparation.</li><li class="listitem"><a class="link" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a> - Disponibilité : 3.4.0 Fonction window qui trouve les endroits où les polygones ne forment pas une couverture valide.</li><li class="listitem"><a class="link" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> - Disponibilité : 3.4.0 Fonction window qui simplifie les bords d'une couverture polygonale.</li><li class="listitem"><a class="link" href="#ST_CoverageUnion" title="ST_CoverageUnion">ST_CoverageUnion</a> - Disponibilité : 3.4.0 - nécessite GEOS &gt;= 3.8.0 Calcule l'union d'un ensemble de polygones formant une couverture en supprimant les arêtes communes.</li><li class="listitem"><a class="link" href="#ST_InverseTransformPipeline" title="ST_InverseTransformPipeline">ST_InverseTransformPipeline</a> - Disponibilité : 3.4.0 Renvoie une nouvelle géométrie dont les coordonnées ont été transformées dans un système de référence spatial différent en utilisant l'inverse d'un pipeline de transformation de coordonnées défini.</li><li class="listitem"><a class="link" href="#ST_LargestEmptyCircle" title="ST_LargestEmptyCircle">ST_LargestEmptyCircle</a> - Disponibilité : 3.4.0. Calcule le plus grand cercle ne recouvrant pas une géométrie.</li><li class="listitem"><a class="link" href="#ST_LineExtend" title="ST_LineExtend">ST_LineExtend</a> - Disponibilité : 3.4.0 Renvoie une ligne prolongée vers l'avant et vers l'arrière selon les distances spécifiées.</li><li class="listitem"><a class="link" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a> - Disponibilité : 3.4.0 Retourner une nouvelle géométrie avec des coordonnées transformées dans un système de référence spatial différent à l'aide d'un pipeline de transformation de coordonnées défini.</li><li class="listitem"><a class="link" href="#TopoElement" title="TopoElement">TopoElement</a> - Disponibilité : 3.4.0 Convertit une topogeometry en un topoelement.</li><li class="listitem"><a class="link" href="#debug_standardize_address" title="debug_standardize_address">debug_standardize_address</a> - Disponibilité : 3.4.0 Retourne une chaîne au format json avec les jetons d'entrée et les normalisations</li><li class="listitem"><a class="link" href="#postgis_srs" title="postgis_srs">postgis_srs</a> - Disponibilité : 3.4.0 Renvoyer une fiche de métadonnées pour l'autorité et le srid demandés.</li><li class="listitem"><a class="link" href="#postgis_srs_all" title="postgis_srs_all">postgis_srs_all</a> - Disponibilité : 3.4.0 Renvoie des enregistrements de métadonnées pour chaque système de référence spatiale dans la base de données Proj sous-jacente.</li><li class="listitem"><a class="link" href="#postgis_srs_codes" title="postgis_srs_codes">postgis_srs_codes</a> - Disponibilité : 3.4.0 Renvoie la liste des codes SRS associés à l'autorité donnée.</li><li class="listitem"><a class="link" href="#postgis_srs_search" title="postgis_srs_search">postgis_srs_search</a> - Disponibilité : 3.4.0 Renvoyer les enregistrements de métadonnées pour les systèmes de coordonnées projetées dont les zones d'utilisation contiennent entièrement le paramètre bounds.</li></ul></div><p>Fonctions améliorées dans PostGIS 3.4</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a> - Amélioration : 3.4.0 inclut désormais les configurations supplémentaires PROJ NETWORK_ENABLED, URL_ENDPOINT et DATABASE_PATH pour l'emplacement proj.db  Donne des informations complètes sur la version de PostGIS et la configuration du packaging.</li><li class="listitem"><a class="link" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a> - Amélioration : 3.4.0 inclut désormais PROJ NETWORK_ENABLED, URL_ENDPOINT et DATABASE_PATH pour l'emplacement proj.db  Renvoie le numéro de version de la librairie PROJ4.</li><li class="listitem"><a class="link" href="#ST_AsSVG" title="ST_AsSVG">ST_AsSVG</a> - Amélioration : 3.4.0 pour prendre en charge tous les types de courbes Renvoie les données de chemin SVG pour une géométrie.</li><li class="listitem"><a class="link" href="#ST_ClosestPoint" title="ST_ClosestPoint">ST_ClosestPoint</a> - Amélioré : 3.4.0 - Prise en charge de la geography. Renvoie le point 2D sur g1 qui est le plus proche de g2. Il s'agit du premier point de la ligne la plus courte d'une géométrie à l'autre.</li><li class="listitem"><a class="link" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a> - Amélioration : 3.4.0 - La prise en charge de la géographie a été introduite. Renvoie la partie d'une ligne située entre deux emplacements fractionnaires.</li><li class="listitem"><a class="link" href="#ST_Project" title="ST_Project">ST_Project</a> - Amélioration : 3.4.0 Autorise les arguments géométriques et la forme en deux points omettant l'azimut. Renvoie un point projeté à partir d'un point de départ en fonction d'une distance et d'un azimut.</li><li class="listitem"><a class="link" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a> - Améliration : 3.4.0 ajout des options de rééchantillonnage max et min Rééchantillonne un raster, en utilisant l'algorithme spécifié, les nouvelles dimensions, un coin arbitraire de la grille et un ensemble de paramètres de géo-référencement définis ou empruntés à un autre raster.</li><li class="listitem"><a class="link" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a> - Améliration : 3.4.0 ajout des options de rééchantillonnage max et min Rééchantillonne un raster en ajustant juste son échelle (ou la taille des pixels). Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline), Lanczos, Max ou Min. La valeur par défaut est NearestNeighbor.</li><li class="listitem"><a class="link" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a> - Amélioré : 3.4.0 - Prise en charge de la geography. Renvoie la ligne 2D la plus courte entre deux géométries</li></ul></div><p>Fonctions modifiées dans PostGIS 3.4</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#PostGIS_Extensions_Upgrade" title="PostGIS_Extensions_Upgrade">PostGIS_Extensions_Upgrade</a> - Modifié : 3.4.0 pour ajouter l'argument target_version. Packages et mises à jour des extensions PostGIS (par exemple postgis_raster, postgis_topology, postgis_sfcgal) vers la version donnée ou la plus récente.</li></ul></div></section><section class="section" id="idm50835"><div class="titlepage"><div><div><h3 class="title">13.12.3. Fonctions PostGIS nouvelles ou améliorées en 3.3</h3></div></div></div><p>Les fonctions indiquées ci-dessous sont des fonctions PostGIS qui ont été ajoutées ou améliorées.</p><p>Fonctions nouvelles dans PostGIS 3.3</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#TP_RemoveUnusedPrimitives" title="RemoveUnusedPrimitives">RemoveUnusedPrimitives</a> - Disponibilité : 3.3.0 Supprime les primitives topologiques qui ne sont pas nécessaires pour définir les objets TopoGeometry existants.</li><li class="listitem"><a class="link" href="#ST_3DConvexHull" title="ST_3DConvexHull">ST_3DConvexHull</a> - Disponibilité : 3.3.0 Calcule l'enveloppe convexe 3D d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a> - Disponibilité : 3.3.0 la variante agrégée a été ajoutée Effectuer l'union 3D.</li><li class="listitem"><a class="link" href="#ST_AsMARC21" title="ST_AsMARC21">ST_AsMARC21</a> - Disponibilité : 3.3.0  Renvoie la géométrie sous forme d'enregistrement MARC21/XML avec un champ de données géographiques (034).</li><li class="listitem"><a class="link" href="#ST_GeomFromMARC21" title="ST_GeomFromMARC21">ST_GeomFromMARC21</a> - Disponibilité : 3.3.0, nécessite libxml2 2.6+ Prend les données géographiques MARC21/XML en entrée et renvoie un objet géométrique PostGIS.</li><li class="listitem"><a class="link" href="#ST_Letters" title="ST_Letters">ST_Letters</a> - Disponibilité : 3.3.0 Renvoie les lettres d'entrée rendues sous forme de géométrie avec une position de départ par défaut à l'origine et une hauteur de texte par défaut de 100.</li><li class="listitem"><a class="link" href="#ST_OptimalAlphaShape" title="ST_OptimalAlphaShape">ST_OptimalAlphaShape</a> - Disponibilité : 3.3.0 - nécessite SFCGAL &gt;= 1.4.1. Calcule une forme alpha entourant une géométrie en utilisant une valeur alpha "optimale".</li><li class="listitem"><a class="link" href="#ST_SimplifyPolygonHull" title="ST_SimplifyPolygonHull">ST_SimplifyPolygonHull</a> - Disponibilité : 3.3.0. Calcule une enveloppe extérieure ou intérieure simplifiée préservant la topologie d'une géométrie polygonale.</li><li class="listitem"><a class="link" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a> - Disponibilité : 3.3.0. Calcule la triangulation de Delaunay contrainte des polygones</li><li class="listitem"><a class="link" href="#postgis_sfcgal_full_version" title="postgis_sfcgal_full_version">postgis_sfcgal_full_version</a> - Disponibilité : 3.3.0 Retourne la version complète de SFCGAL en cours d'utilisation, y compris les versions CGAL et Boost</li></ul></div><p>Fonctions améliorées dans PostGIS 3.3</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a> - Amélioré : 3.3.0, implémentation native de GEOS activée pour GEOS 3.11+ Calcule une géométrie éventuellement concave qui contient tous les sommets de la géométrie d'entrée</li><li class="listitem"><a class="link" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a> - Amélioration : 3.3.0 accepte un paramètre direct. Renvoie les lignes formées par la couture d'une MultiLineString.</li></ul></div><p>Fonctions modifiées dans PostGIS 3.3</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#PostGIS_Extensions_Upgrade" title="PostGIS_Extensions_Upgrade">PostGIS_Extensions_Upgrade</a> - Modifié : 3.3.0 support pour les mises à jour à partir de n'importe quelle version de PostGIS. Ne fonctionne pas sur tous les systèmes. Packages et mises à jour des extensions PostGIS (par exemple postgis_raster, postgis_topology, postgis_sfcgal) vers la version donnée ou la plus récente.</li></ul></div></section><section class="section" id="idm50883"><div class="titlepage"><div><div><h3 class="title">13.12.4. Fonctions PostGIS nouvelles ou améliorées en 3.2</h3></div></div></div><p>Les fonctions indiquées ci-dessous sont des fonctions PostGIS qui ont été ajoutées ou améliorées.</p><p>Fonctions nouvelles dans PostGIS 3.2</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#FindLayer" title="FindLayer">FindLayer</a> - Disponibilité : 3.2.0 Renvoie un enregistrement topology.layer par différents moyens.</li><li class="listitem"><a class="link" href="#FindTopology" title="FindTopology">FindTopology</a> - Disponibilité : 3.2.0 Renvoie un enregistrement topologique par différents moyens.</li><li class="listitem"><a class="link" href="#GetFaceContainingPoint" title="GetFaceContainingPoint">GetFaceContainingPoint</a> - Disponibilité : 3.2.0 Recherche la face contenant un point.</li><li class="listitem"><a class="link" href="#ST_AsFlatGeobuf" title="ST_AsFlatGeobuf">ST_AsFlatGeobuf</a> - Disponibilité : 3.2.0 Renvoie une représentation FlatGeobuf d'un ensemble de lignes.</li><li class="listitem"><a class="link" href="#RT_ST_Contour" title="ST_Contour">ST_Contour</a> - Disponibilité : 3.2.0 Génère un ensemble de courbes de niveau vectorielles depuis la bande raster spécifiée, en utilisant l'algorithme de contour GDAL.</li><li class="listitem"><a class="link" href="#ST_DumpSegments" title="ST_DumpSegments">ST_DumpSegments</a> - Disponibilité : 3.2.0 Renvoie un ensemble de lignes geometry_dump pour les segments d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_FromFlatGeobuf" title="ST_FromFlatGeobuf">ST_FromFlatGeobuf</a> - Disponibilité : 3.2.0 Lit les données FlatGeobuf.</li><li class="listitem"><a class="link" href="#ST_FromFlatGeobufToTable" title="ST_FromFlatGeobufToTable">ST_FromFlatGeobufToTable</a> - Disponibilité : 3.2.0 Crée une table basée sur la structure des données FlatGeobuf.</li><li class="listitem"><a class="link" href="#RT_ST_InterpolateRaster" title="ST_InterpolateRaster">ST_InterpolateRaster</a> - Disponibilité : 3.2.0 Interpole une surface quadrillée à partir d'un ensemble de points 3-d, en utilisant les coordonnées X et Y des points sur la grille et la coordonnée Z des points pour l'élévation des points.</li><li class="listitem"><a class="link" href="#TG_ST_SRID" title="ST_SRID">ST_SRID</a> - Disponibilité : 3.2.0 Renvoie l'identifiant de référence spatiale d'une topogeometry.</li><li class="listitem"><a class="link" href="#ST_Scroll" title="ST_Scroll">ST_Scroll</a> - Disponibilité : 3.2.0 Modifier le point de départ d'une LineString fermée.</li><li class="listitem"><a class="link" href="#RT_ST_SetM" title="ST_SetM">ST_SetM</a> - Disponibilité : 3.2.0 Retourne une géométrie avec les mêmes coordonnées X/Y que la géométrie d'entrée, et avec la coordonnée M copiée depuis les valeurs du raster selon l'algorithme d'interpolation en paramètre.</li><li class="listitem"><a class="link" href="#RT_ST_SetZ" title="ST_SetZ">ST_SetZ</a> - Disponibilité : 3.2.0 Retourne une géométrie avec les mêmes coordonnées X/Y que la géométrie d'entrée, et avec la coordonnée Z copiée depuis les valeurs du raster selon l'algorithme d'interpolation en paramètre.</li><li class="listitem"><a class="link" href="#TopoGeom_addTopoGeom" title="TopoGeom_addTopoGeom">TopoGeom_addTopoGeom</a> - Disponibilité : 3.2 Ajoute un élément d'une TopoGeometry à la définition d'une autre TopoGeometry.</li><li class="listitem"><a class="link" href="#ValidateTopologyRelation" title="ValidateTopologyRelation">ValidateTopologyRelation</a> - Disponibilité : 3.2.0 Renvoie des informations sur les enregistrements de relations topologiques non valides</li><li class="listitem"><a class="link" href="#postgis_gdal_vsi_options" title="postgis.gdal_vsi_options">postgis.gdal_vsi_options</a> - Disponibilité : 3.2.0 Une chaîne de configuration pour définir les options utilisées lors de l'utilisation d'un raster out-db.</li></ul></div><p>Fonctions améliorées dans PostGIS 3.2</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#GetFaceByPoint" title="GetFaceByPoint">GetFaceByPoint</a> - Amélioration : 3.2.0 mise en œuvre plus efficace et contrat plus clair, arrêt du fonctionnement avec des topologies non valides. Recherche la face intersectant un point donné.</li><li class="listitem"><a class="link" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a> - Amélioré : 3.2.0 Support pour max_radius Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée en utilisant l'algorithme K-means.</li><li class="listitem"><a class="link" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> - Amélioration : 3.2.0, ajout d'options d'algorithme, 'linework' et 'structure' qui nécessite GEOS &gt;= 3.10.0. Tente de rendre valide une géométrie invalide sans perdre de sommets.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a> - Amélioration : 3.2.0 Plus rapide, désormais implémenté en C. Retourne le centroïde (point géométrique) de la zone représentée par un pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a> - Amélioration : 3.2.0 Plus rapide, désormais implémenté en C. Retourne le centroïde (point géométrique) pour chaque pixel de la bande raster, avec sa valeur et les coordonnées raster X et Y. Le point géométrique est le centroïde de la zone représentée par un pixel.</li><li class="listitem"><a class="link" href="#ST_Point" title="ST_Point">ST_Point</a> - Amélioration : 3.2.0 srid a été ajouté comme argument optionnel supplémentaire. Les anciennes installations nécessitent une combinaison avec ST_SetSRID pour marquer le srid sur la géométrie. Crée un point avec des valeurs X, Y et SRID.</li><li class="listitem"><a class="link" href="#ST_PointM" title="ST_PointM">ST_PointM</a> - Amélioration : 3.2.0 srid a été ajouté comme argument optionnel supplémentaire. Les anciennes installations nécessitent une combinaison avec ST_SetSRID pour marquer le srid sur la géométrie. Crée un point avec des valeurs X, Y, M et SRID.</li><li class="listitem"><a class="link" href="#ST_PointZ" title="ST_PointZ">ST_PointZ</a> - Amélioration : 3.2.0 srid a été ajouté comme argument optionnel supplémentaire. Les anciennes installations nécessitent une combinaison avec ST_SetSRID pour marquer le srid sur la géométrie. Crée un point avec des valeurs X, Y, Z et SRID.</li><li class="listitem"><a class="link" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a> - Amélioration : 3.2.0 srid a été ajouté comme argument optionnel supplémentaire. Les anciennes installations nécessitent une combinaison avec ST_SetSRID pour marquer le srid sur la géométrie. Crée un point avec des valeurs X, Y, Z, M et SRID.</li><li class="listitem"><a class="link" href="#ST_RemovePoint" title="ST_RemovePoint">ST_RemovePoint</a> - Amélioration : 3.2.0 Supprime un point d'une ligne.</li><li class="listitem"><a class="link" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a> - Amélioration : 3.2.0 Renvoie une version d'une géométrie dont les points en double ont été supprimés.</li><li class="listitem"><a class="link" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a> - Amélioré : 3.2.0 renvoie un point pour toutes les géométries. Le comportement précédent renvoyait NULL si l'entrée n'était pas une LineString. Renvoie le premier point d'une LineString.</li><li class="listitem"><a class="link" href="#RT_ST_Value" title="ST_Value">ST_Value</a> - Amélioration : 3.2.0 ajout du paramètre optionnel resample. Retourne la valeur d'une bande raster spécifiée au pixel donné par columnx, rowy, ou à un point géométrique spécifié. Le numéro de bande démarre à 1, et la bande 1 est utilisée si non spécifié. Si exclude_nodata_value vaut false, tous les pixels y compris ceux ayant la valeur nodata sont considérés comme intersectés et leur valeur sera retournée. Si exclude_nodata_value n'est pas spécifié, la valeur est lue depuis les méta-données du raster.</li><li class="listitem"><a class="link" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a> - Enhanced: 3.2.0 added support for returning signed identifier. Adds a linestring to an existing topology using a tolerance and possibly splitting existing edges/faces.</li></ul></div><p>Fonctions modifiées dans PostGIS 3.2</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a> - Modifié : 3.2.0 support pour TIN, n'utilise pas geos, ne linéarise pas les courbes Renvoie la limite d'une géométrie.</li><li class="listitem"><a class="link" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a> - Modifié : 3.2.0 a ajouté le paramètre optionnel bbox, effectuant des vérifications de l'étiquetage des faces et de la liaison des arêtes. Renvoie un ensemble d'objets validatetopology_returntype détaillant les problèmes liés à la topologie.</li></ul></div></section><section class="section" id="idm50988"><div class="titlepage"><div><div><h3 class="title">13.12.5. Fonctions PostGIS nouvelles ou améliorées en 3.1</h3></div></div></div><p>Les fonctions indiquées ci-dessous sont des fonctions PostGIS qui ont été ajoutées ou améliorées.</p><p>Fonctions nouvelles dans PostGIS 3.1</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_Hexagon" title="ST_Hexagon">ST_Hexagon</a> - Disponibilité : 3.1.0 Renvoie un seul hexagone, en utilisant la taille du bord et les coordonnées de la cellule fournies dans l'espace de la grille de l'hexagone.</li><li class="listitem"><a class="link" href="#ST_HexagonGrid" title="ST_HexagonGrid">ST_HexagonGrid</a> - Disponibilité : 3.1.0 Renvoie un ensemble d'hexagones et d'indices de cellules qui couvrent complètement les limites de l'argument géométrie.</li><li class="listitem"><a class="link" href="#ST_MaximumInscribedCircle" title="ST_MaximumInscribedCircle">ST_MaximumInscribedCircle</a> - Disponibilité : 3.1.0. Calcule le plus grand cercle contenu dans une géométrie.</li><li class="listitem"><a class="link" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a> - Disponibilité : 3.1.0. Renvoie une géométrie valide dont les points sont arrondis en fonction de la tolérance de la grille.</li><li class="listitem"><a class="link" href="#ST_Square" title="ST_Square">ST_Square</a> - Disponibilité : 3.1.0 Renvoie un seul carré, en utilisant la taille du bord et la coordonnée de la cellule fournies dans l'espace de la grille du carré.</li><li class="listitem"><a class="link" href="#ST_SquareGrid" title="ST_SquareGrid">ST_SquareGrid</a> - Disponibilité : 3.1.0 Renvoie un ensemble de carrés de grille et d'indices de cellules qui couvrent complètement les limites de l'argument géométrie.</li></ul></div><p>Fonctions améliorées dans PostGIS 3.1</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a> - Amélioré : support du paramètre optionnel de précision dans la version 3.1.0. Renvoie la représentation Well-Known Text (WKT) de la géométrie avec les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a> - Amélioration : 3.1.0 Prise en charge des géométries et des poids en 3D Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée en utilisant l'algorithme K-means.</li><li class="listitem"><a class="link" href="#ST_Difference" title="ST_Difference">ST_Difference</a> - Amélioration : 3.1.0 accepte un paramètre gridSize. Calcule une géométrie représentant la partie de la géométrie A qui n'intersecte pas la géométrie B.</li><li class="listitem"><a class="link" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Amélioration : 3.1.0 accepte un paramètre gridSize Calcule une géométrie représentant la partie partagée des géométries A et B.</li><li class="listitem"><a class="link" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> - Amélioration : 3.1.0, suppression des coordonnées avec des valeurs NaN. Tente de rendre valide une géométrie invalide sans perdre de sommets.</li><li class="listitem"><a class="link" href="#ST_Subdivide" title="ST_Subdivide">ST_Subdivide</a> - Amélioration : 3.1.0 accepte un paramètre gridSize. Calcule une subdivision rectiligne d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_SymDifference" title="ST_SymDifference">ST_SymDifference</a> - Amélioration : 3.1.0 accepte un paramètre gridSize. Calcule une géométrie représentant les parties des géométries A et B qui ne s'intersectent pas.</li><li class="listitem"><a class="link" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a> - Amélioré : 3.1.0 Ajout d'un paramètre de marge. Crée un polygone rectangulaire dans Web Mercator (SRID:3857) en utilisant le système de tuiles XYZ.</li><li class="listitem"><a class="link" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a> - Amélioration : 3.1.0 accepte un paramètre gridSize. Calcule l'union des composantes d'une seule géométrie.</li><li class="listitem"><a class="link" href="#ST_Union" title="ST_Union">ST_Union</a> - Amélioration : 3.1.0 accepte un paramètre gridSize. Calcule une géométrie représentant l'union des ensembles de points des géométries d'entrée.</li></ul></div><p>Fonctions modifiées dans PostGIS 3.1</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_ST_Count" title="ST_Count">ST_Count</a> - Changement : 3.1.0 - Suppression des variantes ST_Count(rastertable, rastercolumn, ...). Utiliser  à la place. Renvoie le nombre de pixels dans une bande donnée d'un raster ou d'une couverture raster. Si aucune bande n'est spécifiée, la valeur par défaut est la bande 1. Si exclude_nodata_value est true, seuls les pixels dont la valeur est différente de la valeur nodata seront comptés.</li><li class="listitem"><a class="link" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a> - Modifié : 3.1.0. Ajout de la prise en charge pour pouvoir passer une valeur Z non nulle. Force les géométries en mode XYZ. Il s'agit d'un alias de ST_Force3DZ.</li><li class="listitem"><a class="link" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a> - Modifié : 3.1.0. Ajout de la prise en charge de pouvoir passer une valeur M non nulle. Forcer les géométries en mode XYM.</li><li class="listitem"><a class="link" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a> - Modifié : 3.1.0. Ajout de la prise en charge pour pouvoir passer une valeur Z non nulle. Forcer les géométries en mode XYZ.</li><li class="listitem"><a class="link" href="#ST_Force_4D" title="ST_Force4D">ST_Force4D</a> - Modifié : 3.1.0. Ajout de la prise en charge de pouvoir passer des valeurs Z et M non nulles. Forcer les géométries en mode XYZM.</li><li class="listitem"><a class="link" href="#RT_ST_Histogram" title="ST_Histogram">ST_Histogram</a> - Changement : 3.1.0 Suppression de la variante ST_Histogram(table_name, column_name).  Retourne un ensemble d'enregistrements résumant une distribution de données raster ou de couverture raster, dans des classes distinctes. Le nombre de classes est calculé automatiquement s'il n'est pas spécifié.</li><li class="listitem"><a class="link" href="#RT_ST_Quantile" title="ST_Quantile">ST_Quantile</a> - Changement : 3.1.0 Suppression de la variante ST_Quantile(table_name, column_name).  Calcule les quantiles d'un raster ou d'une couverture raster, dans le contexte de l'échantillon ou de la population. Ainsi, une valeur peut être examinée pour se situer au percentile de 25%, 50% ou 75% du raster.</li><li class="listitem"><a class="link" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a> - Changement : 3.1.0 Suppression des variantes ST_SummaryStats(rastertable, rastercolumn, ...). Utiliser  à la place.  Retourne des résumés statistiques (count, sum, mean, stddev, min, max) pour une bande raster ou une couverture raster spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li></ul></div></section><section class="section" id="idm51069"><div class="titlepage"><div><div><h3 class="title">13.12.6. Fonctions PostGIS nouvelles ou améliorées en 3.0</h3></div></div></div><p>Les fonctions indiquées ci-dessous sont des fonctions PostGIS qui ont été ajoutées ou améliorées.</p><p>Fonctions nouvelles dans PostGIS 3.0</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#CG_ConstrainedDelaunayTriangles" title="CG_ConstrainedDelaunayTriangles">CG_ConstrainedDelaunayTriangles</a> - Disponibilité : 3.0.0 Renvoie une triangulation de Delaunay contrainte autour de la géométrie d'entrée donnée.</li><li class="listitem"><a class="link" href="#ST_3DLineInterpolatePoint" title="ST_3DLineInterpolatePoint">ST_3DLineInterpolatePoint</a> - Disponibilité : 3.0.0 Renvoie un point interpolé le long d'une ligne 3D à un emplacement fractionnaire.</li><li class="listitem"><a class="link" href="#ST_ConstrainedDelaunayTriangles" title="ST_ConstrainedDelaunayTriangles">ST_ConstrainedDelaunayTriangles</a> - Disponibilité : 3.0.0 Renvoie une triangulation de Delaunay contrainte autour de la géométrie d'entrée donnée.</li><li class="listitem"><a class="link" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a> - Disponibilité : 3.0.0 Crée un polygone rectangulaire dans Web Mercator (SRID:3857) en utilisant le système de tuiles XYZ.</li></ul></div><p>Fonctions améliorées dans PostGIS 3.0</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a> - Amélioration : 3.0 - ajout de la prise en charge du Feature ID. Fonction d'agrégation renvoyant une représentation MVT d'un ensemble de lignes.</li><li class="listitem"><a class="link" href="#ST_Contains" title="ST_Contains">ST_Contains</a> - Amélioration : 3.0.0 a permis la prise en charge de GEOMETRYCOLLECTION Tests si chaque point de B est situé dans A, et que leurs intérieurs ont un point commun</li><li class="listitem"><a class="link" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a> - Amélioration : 3.0.0 a permis la prise en charge de GEOMETRYCOLLECTION Tests si chaque point de B se trouve à l'intérieur de A</li><li class="listitem"><a class="link" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a> - Amélioration : 3.0.0 a permis la prise en charge de GEOMETRYCOLLECTION Tests si chaque point de A se trouve dans B</li><li class="listitem"><a class="link" href="#ST_Covers" title="ST_Covers">ST_Covers</a> - Amélioration : 3.0.0 a permis la prise en charge de GEOMETRYCOLLECTION Tests si chaque point de B est situé dans A</li><li class="listitem"><a class="link" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a> - Amélioration : 3.0.0 a permis la prise en charge de GEOMETRYCOLLECTION Teste si deux géométries ont en commun certains points intérieurs, mais pas tous</li><li class="listitem"><a class="link" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a> - Amélioration : la version 3.0.0 a mis en place un nombre minimum de segments par arc linéarisé afin d'éviter une rupture topologique. Convertit une géométrie contenant des courbes en une géométrie linéaire.</li><li class="listitem"><a class="link" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a> - Amélioration : 3.0.0 a permis la prise en charge de GEOMETRYCOLLECTION Teste si deux géométries n'ont pas de points communs</li><li class="listitem"><a class="link" href="#ST_Equals" title="ST_Equals">ST_Equals</a> - Amélioration : 3.0.0 a permis la prise en charge de GEOMETRYCOLLECTION Teste si deux géométries comprennent le même ensemble de points</li><li class="listitem"><a class="link" href="#ST_GeneratePoints" title="ST_GeneratePoints">ST_GeneratePoints</a> - Amélioration : 3.0.0, ajout du paramètre seed Génère un multipoint de points aléatoires contenus dans un polygone ou un multipolygone.</li><li class="listitem"><a class="link" href="#ST_GeomFromGeoJSON" title="ST_GeomFromGeoJSON">ST_GeomFromGeoJSON</a> - Amélioré : 3.0.0 La géométrie parsée prend par défaut la valeur SRID=4326 si elle n'est pas spécifiée autrement. Prend en entrée une géométrie au format geojson et renvoie un objet Postgis de type geometry</li><li class="listitem"><a class="link" href="#ST_LocateBetween" title="ST_LocateBetween">ST_LocateBetween</a> - Amélioration : 3.0.0 - ajout de la prise en charge du POLYGONE, du TIN et du TRIANGLE. Renvoie les parties d'une géométrie qui correspondent à un intervalle de mesure.</li><li class="listitem"><a class="link" href="#ST_LocateBetweenElevations" title="ST_LocateBetweenElevations">ST_LocateBetweenElevations</a> - Amélioration : 3.0.0 - ajout de la prise en charge du POLYGONE, du TIN et du TRIANGLE. Renvoie les parties d'une géométrie qui se trouvent dans un intervalle d'élévation (Z).</li><li class="listitem"><a class="link" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a> - Amélioration : 3.0.0 a permis la prise en charge de GEOMETRYCOLLECTION Teste si deux géométries ont la même dimension et se croisent, mais si chacune a au moins un point qui n'est pas dans l'autre</li><li class="listitem"><a class="link" href="#ST_Relate" title="ST_Relate">ST_Relate</a> - Amélioration : 3.0.0 a permis la prise en charge de GEOMETRYCOLLECTION Teste si deux géométries ont une relation topologique correspondant à un modèle de matrice d'intersection, ou calcule leur matrice d'intersection</li><li class="listitem"><a class="link" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a> - Amélioration : 3.0.0 La segmentation de géométrie produit désormais des sous-segments de longueur égale Renvoie une geometry/geography modifiée dont aucun segment ne dépasse une distance donnée.</li><li class="listitem"><a class="link" href="#ST_Touches" title="ST_Touches">ST_Touches</a> - Amélioration : 3.0.0 a permis la prise en charge de GEOMETRYCOLLECTION Teste si deux géométries ont au moins un point en commun, mais que leurs intérieurs ne se croisent pas</li><li class="listitem"><a class="link" href="#ST_Within" title="ST_Within">ST_Within</a> - Amélioration : 3.0.0 a permis la prise en charge de GEOMETRYCOLLECTION Tests si chaque point de A se trouve dans B, et que leurs intérieurs ont un point commun</li></ul></div><p>Fonctions modifiées dans PostGIS 3.0</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#PostGIS_Extensions_Upgrade" title="PostGIS_Extensions_Upgrade">PostGIS_Extensions_Upgrade</a> - Modifié : 3.0.0 pour repackager les extensions libres et supporter postgis_raster. Packages et mises à jour des extensions PostGIS (par exemple postgis_raster, postgis_topology, postgis_sfcgal) vers la version donnée ou la plus récente.</li><li class="listitem"><a class="link" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a> - Modifié : 3.0.0 - Version SFCGAL supprimée Renvoie la distance cartésienne minimale en 3D (basée sur la référence spatiale) entre deux géométries en unités projetées.</li><li class="listitem"><a class="link" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a> - Modifié : 3.0.0 SFCGAL backend supprimé, GEOS backend supporte les TINs. Teste si deux géométries se croisent dans l'espace en 3D - uniquement pour les points, les lignes, les polygones, les surfaces polyédriques (aire)</li><li class="listitem"><a class="link" href="#ST_Area" title="ST_Area">ST_Area</a> - Modifié : 3.0.0 - ne dépend plus de SFCGAL. Renvoie l'aire d'une géométrie polygonale.</li><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Modifié : la version 3.0.0 prend en charge les enregistrements en tant que données d'entrée Renvoyer une géométrie ou un élément au format GeoJSON.</li><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Modifié : 3.0.0 SRID de sortie si ce n'est pas EPSG:4326. Renvoyer une géométrie ou un élément au format GeoJSON.</li><li class="listitem"><a class="link" href="#ST_AsKML" title="ST_AsKML">ST_AsKML</a> - Modifié : 3.0.0 - Suppression de la signature de la variante "versioned" Renvoyer la géométrie sous forme d'élément KML.</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Modifié : 3.0.0 - ne dépend plus de SFCGAL. Renvoie la distance entre deux valeurs de geometry ou geography.</li><li class="listitem"><a class="link" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Modifié : 3.0.0 ne dépend pas de SFCGAL. Calcule une géométrie représentant la partie partagée des géométries A et B.</li><li class="listitem"><a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Modifié : 3.0.0 La version SFCGAL a été supprimée et la prise en charge native des TINS 2D a été ajoutée. Teste si deux géométries se croisent (elles ont au moins un point en commun)</li><li class="listitem"><a class="link" href="#ST_Union" title="ST_Union">ST_Union</a> - Modifié : 3.0.0 ne dépend pas de SFCGAL. Calcule une géométrie représentant l'union des ensembles de points des géométries d'entrée.</li></ul></div></section><section class="section" id="idm51177"><div class="titlepage"><div><div><h3 class="title">13.12.7. Fonctions PostGIS nouvelles ou améliorées en 2.5</h3></div></div></div><p>Les fonctions indiquées ci-dessous sont des fonctions PostGIS qui ont été ajoutées ou améliorées.</p><p>Fonctions nouvelles dans PostGIS 2.5</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#PostGIS_Extensions_Upgrade" title="PostGIS_Extensions_Upgrade">PostGIS_Extensions_Upgrade</a> - Disponibilité : 2.5.0 Packages et mises à jour des extensions PostGIS (par exemple postgis_raster, postgis_topology, postgis_sfcgal) vers la version donnée ou la plus récente.</li><li class="listitem"><a class="link" href="#ST_Angle" title="ST_Angle">ST_Angle</a> - Disponibilité : 2.5.0 Renvoie l'angle entre deux vecteurs définis par 3 ou 4 points, ou 2 lignes.</li><li class="listitem"><a class="link" href="#RT_ST_AsHexWKB" title="ST_AsHexWKB">ST_AsHexWKB</a> - Disponibilité : 2.5.0  Retourne la représentation hexadécimale Well-Known Binary (WKB) de ce raster.</li><li class="listitem"><a class="link" href="#RT_ST_BandFileSize" title="ST_BandFileSize">ST_BandFileSize</a> - Disponibilité : 2.5.0 Retourne la taille du fichier d'une bande stockée sur le système de fichier. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_BandFileTimestamp" title="ST_BandFileTimestamp">ST_BandFileTimestamp</a> - Disponibilité : 2.5.0 Retourne le timestamp du fichier d'une bande stockée sur le système de fichier. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#ST_ChaikinSmoothing" title="ST_ChaikinSmoothing">ST_ChaikinSmoothing</a> - Disponibilité : 2.5.0 Renvoie une version lissée d'une géométrie, en utilisant l'algorithme Chaikin</li><li class="listitem"><a class="link" href="#ST_FilterByM" title="ST_FilterByM">ST_FilterByM</a> - Disponibilité : 2.5.0 Supprime les vertices en fonction de leur valeur M</li><li class="listitem"><a class="link" href="#RT_ST_Grayscale" title="ST_Grayscale">ST_Grayscale</a> - Disponibilité : 2.5.0  Crée un nouveau raster à 1 bande 8BUI à partir du raster source et des bandes spécifiées représentant les composantes rouge, vert et bleu</li><li class="listitem"><a class="link" href="#ST_LineInterpolatePoints" title="ST_LineInterpolatePoints">ST_LineInterpolatePoints</a> - Disponibilité : 2.5.0 Renvoie des points interpolés le long d'une ligne à un intervalle fractionnaire.</li><li class="listitem"><a class="link" href="#ST_OrientedEnvelope" title="ST_OrientedEnvelope">ST_OrientedEnvelope</a> - Disponibilité : 2.5.0.  Renvoie un rectangle de surface minimale contenant une géométrie.</li><li class="listitem"><a class="link" href="#ST_QuantizeCoordinates" title="ST_QuantizeCoordinates">ST_QuantizeCoordinates </a> - Disponibilité : 2.5.0 Met à zéro les bits de poids faible des coordonnées</li><li class="listitem"><a class="link" href="#RT_ST_RastFromHexWKB" title="ST_RastFromHexWKB">ST_RastFromHexWKB</a> - Disponibilité : 2.5.0 Retourne un raster à partir d'un raster Well-Known Binary (WKB) en hexadécimal.</li><li class="listitem"><a class="link" href="#RT_ST_RastFromWKB" title="ST_RastFromWKB">ST_RastFromWKB</a> - Disponibilité : 2.5.0 Retourne un raster à partir d'un raster Well-Known Binary (WKB).</li><li class="listitem"><a class="link" href="#RT_ST_SetBandIndex" title="ST_SetBandIndex">ST_SetBandIndex</a> - Disponibilité : 2.5.0 Met à jour le numéro de bande externe d'une bande out-db</li><li class="listitem"><a class="link" href="#RT_ST_SetBandPath" title="ST_SetBandPath">ST_SetBandPath</a> - Disponibilité : 2.5.0 Met à jour le chemin externe et le numéro de bande d'une bande out-db</li></ul></div><p>Fonctions améliorées dans PostGIS 2.5</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_ST_AsBinary" title="ST_AsBinary/ST_AsWKB">ST_AsBinary/ST_AsWKB</a> - Amélioration : 2.5.0 Ajout de ST_AsWKB Retourne la représentation Well-Known Binary (WKB) de ce raster.</li><li class="listitem"><a class="link" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a> - Amélioration : 2.5.0 - ajout de la prise en charge des requêtes parallèles. Fonction d'agrégation renvoyant une représentation MVT d'un ensemble de lignes.</li><li class="listitem"><a class="link" href="#ST_AsText" title="ST_AsText">ST_AsText</a> - Amélioration : 2.5 - introduction de la précision des paramètres optionnels. Renvoie la représentation Well-Known Text (WKT) de la géométrie/geography sans métadonnées SRID.</li><li class="listitem"><a class="link" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a> - Amélioration : 2.5.0 ajout de outdbbandnum, filesize et filetimestamp pour les rasters outdb. Retourne les méta-données de base d'une bande raster spécifique. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a> - Amélioration : 2.5.0 - La prise en charge de la géométrie ST_Buffer a été améliorée pour permettre la spécification de la mise en mémoire tampon latérale side=both|left|right. Calcule une géométrie couvrant tous les points situés à une distance donnée d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_GeomFromGeoJSON" title="ST_GeomFromGeoJSON">ST_GeomFromGeoJSON</a> - Amélioration : 2.5.0 peut maintenant accepter json et jsonb comme entrées. Prend en entrée une géométrie au format geojson et renvoie un objet Postgis de type geometry</li><li class="listitem"><a class="link" href="#ST_GeometricMedian" title="ST_GeometricMedian">ST_GeometricMedian </a> - Amélioré : 2.5.0 Ajout de la prise en charge de M comme poids des points. Renvoie la médiane géométrique d'un MultiPoint.</li><li class="listitem"><a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Amélioré : 2.5.0 Supporte GEOMETRYCOLLECTION. Teste si deux géométries se croisent (elles ont au moins un point en commun)</li><li class="listitem"><a class="link" href="#ST_OffsetCurve" title="ST_OffsetCurve">ST_OffsetCurve</a> - Amélioration : 2.5 - ajout de la prise en charge de GEOMETRYCOLLECTION et MULTILINESTRING Renvoie une ligne décalée par rapport à une distance et un côté donnés à partir d'une ligne en entrée.</li><li class="listitem"><a class="link" href="#ST_Scale" title="ST_Scale">ST_Scale</a> - Amélioration : la prise en charge de la mise à l'échelle par rapport à une origine locale (paramètre origin) a été introduite dans la version 2.5.0. Met à l'échelle une géométrie en fonction de facteurs donnés.</li><li class="listitem"><a class="link" href="#ST_Split" title="ST_Split">ST_Split</a> - Amélioration : la prise en charge de la division d'un polygone par une ligne multiple a été introduite dans la version 2.5.0. Renvoie une collection de géométries créées en divisant une géométrie par une autre géométrie.</li><li class="listitem"><a class="link" href="#ST_Subdivide" title="ST_Subdivide">ST_Subdivide</a> - Amélioration : 2.5.0 réutilise les points existants lors de la division d'un polygone, le nombre de vertex est réduit de 8 à 5. Calcule une subdivision rectiligne d'une géométrie.</li></ul></div><p>Fonctions modifiées dans PostGIS 2.5</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a> - Changement : 2.5.0 - ajout des colonnes can_read et can_write. Retourne la liste des formats raster supportés par PostGIS via GDAL. Seuls les formats avec can_write=True peuvent être utilisés par ST_AsGDALRaster</li></ul></div></section><section class="section" id="idm51270"><div class="titlepage"><div><div><h3 class="title">13.12.8. Fonctions PostGIS nouvelles ou améliorées en 2.4</h3></div></div></div><p>Les fonctions indiquées ci-dessous sont des fonctions PostGIS qui ont été ajoutées ou améliorées.</p><p>Fonctions nouvelles dans PostGIS 2.4</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_AsGeobuf" title="ST_AsGeobuf">ST_AsGeobuf</a> - Disponibilité : 2.4.0 Retourne une représentation Geobuf d'un ensemble de lignes.</li><li class="listitem"><a class="link" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a> - Disponibilité : 2.4.0 Fonction d'agrégation renvoyant une représentation MVT d'un ensemble de lignes.</li><li class="listitem"><a class="link" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a> - Disponibilité : 2.4.0 Transforme une géométrie dans l'espace de coordonnées d'une tuile MVT.</li><li class="listitem"><a class="link" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a> - Disponibilité : la prise en charge du type geography a été introduite dans la version 2.4.0. Renvoie le centre géométrique d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a> - Disponibilité : 2.4.0 Oriente tous les anneaux extérieurs dans le sens inverse des aiguilles d'une montre et tous les anneaux intérieurs dans le sens des aiguilles d'une montre.</li><li class="listitem"><a class="link" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a> - Disponibilité : 2.4.0 Oriente tous les anneaux extérieurs dans le sens des aiguilles d'une montre et tous les anneaux intérieurs dans le sens inverse des aiguilles d'une montre.</li><li class="listitem"><a class="link" href="#ST_FrechetDistance" title="ST_FrechetDistance">ST_FrechetDistance</a> - Disponibilité : 2.4.0 - nécessite GEOS &gt;= 3.7.0 Renvoie la distance de Fréchet entre deux géométries.</li><li class="listitem"><a class="link" href="#ST_IsPolygonCCW" title="ST_IsPolygonCCW">ST_IsPolygonCCW </a> - Disponibilité : 2.4.0 Teste si les polygones ont des anneaux extérieurs orientés dans le sens inverse des aiguilles d'une montre et des anneaux intérieurs orientés dans le sens des aiguilles d'une montre.</li><li class="listitem"><a class="link" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a> - Disponibilité : 2.4.0 Teste si les polygones ont des anneaux extérieurs orientés dans le sens des aiguilles d'une montre et des anneaux intérieurs orientés dans le sens inverse des aiguilles d'une montre.</li><li class="listitem"><a class="link" href="#RT_ST_MakeEmptyCoverage" title="ST_MakeEmptyCoverage">ST_MakeEmptyCoverage</a> - Disponibilité : 2.4.0  Couvre une zone géo-référencée avec une grille raster de tuiles vides.</li></ul></div><p>Fonctions améliorées dans PostGIS 2.4</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a> - Amélioré : 2.4.1 L'étape de chargement de la zone de tabulation du code postal 5 (zcta5) a été corrigée et, lorsqu'elle est activée, les données zcta5 sont chargées sous la forme d'une table unique appelée zcta5_all dans le cadre du chargement du script de la nation. Génère un script shell pour la plate-forme spécifiée qui charge les données dans les tables county et state.</li><li class="listitem"><a class="link" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a> - Amélioré : 2.4.0 L'objet norm_addy comprend des champs supplémentaires zip4 et address_alphanumeric. Étant donné une adresse textuelle, cette fonction renvoie un type composite norm_addy qui contient le suffixe de la route, le préfixe et le type normalisé, la rue, le nom de la rue, etc. divisés en champs distincts. Cette fonction fonctionne uniquement avec les données de recherche fournies avec le géocodeur tiger (pas besoin pour les données de recensement tiger).</li><li class="listitem"><a class="link" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a> - Amélioré : 2.4.0 L'objet norm_addy comprend des champs supplémentaires zip4 et address_alphanumeric. Étant donné une adresse textuelle, cette fonction renvoie un type composite norm_addy qui contient le suffixe de la route, le préfixe et le type normalisé, la rue, le nom de la rue, etc. divisés en champs distincts. Cette fonction fonctionne uniquement avec les données de recherche fournies avec le géocodeur tiger (pas besoin pour les données de recensement tiger). Nécessite l'extension address_standardizer.</li><li class="listitem"><a class="link" href="#Reverse_Geocode" title="Reverse_Geocode">Reverse_Geocode</a> - Amélioration : 2.4.1 si le jeu de données optionnel zcta5 est chargé, la fonction reverse_geocode peut résoudre l'état et le code postal même si les données spécifiques à l'état ne sont pas chargées. Voir  pour plus de détails sur le chargement des données zcta5. Prend un point géométrique dans un système spatial connu et renvoie un enregistrement contenant un tableau d'adresses théoriquement possibles et un tableau de rues transversales. Si include_strnum_range = true, la plage de rues est incluse dans les rues transversales.</li><li class="listitem"><a class="link" href="#ST_AsTWKB" title="ST_AsTWKB">ST_AsTWKB</a> - Amélioration : 2.4.0 amélioration de la mémoire et de la vitesse. Renvoie la géométrie sous forme de TWKB, diminutif de "Tiny Well-Known Binary"</li><li class="listitem"><a class="link" href="#ST_Covers" title="ST_Covers">ST_Covers</a> - Amélioration : 2.4.0 Ajout de la prise en charge des polygones dans les polygones et des lignes dans les polygones pour le type geography Tests si chaque point de B est situé dans A</li><li class="listitem"><a class="link" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a> - Amélioration : 2.4.0 a ajouté la prise en charge de la tolérance de l'écart maximal et de l'angle maximal, ainsi que de la sortie symétrique. Convertit une géométrie contenant des courbes en une géométrie linéaire.</li><li class="listitem"><a class="link" href="#ST_Project" title="ST_Project">ST_Project</a> - Amélioration : 2.4.0 Autorise les distances négatives et les azimuts non normalisés. Renvoie un point projeté à partir d'un point de départ en fonction d'une distance et d'un azimut.</li><li class="listitem"><a class="link" href="#ST_Reverse" title="ST_Reverse">ST_Reverse</a> - Amélioration : la prise en charge des courbes a été introduite dans la version 2.4.0. Retourne la géométrie avec l'ordre des sommets inversé.</li></ul></div><p>Fonctions modifiées dans PostGIS 2.4</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_Geometry_EQ" title="=">=</a> - Modifié : 2.4.0, dans les versions précédentes, il s'agissait d'une égalité de boîte de délimitation et non d'une égalité géométrique. Si vous avez besoin d'une égalité de boîte de délimitation, utilisez  à la place. Renvoie TRUE si les coordonnées et l'ordre des coordonnées de la géométrie/géographie A sont les mêmes que les coordonnées et l'ordre des coordonnées de la géométrie/géographie B.</li><li class="listitem"><a class="link" href="#ST_Node" title="ST_Node">ST_Node</a> - Modifié : 2.4.0 cette fonction utilise GEOSNode en interne au lieu de GEOSUnaryUnion. Cela peut entraîner un ordre et une direction différents des lignes résultantes par rapport à PostGIS &lt; 2.4.  Nœuds d'une collection de lignes.</li></ul></div></section><section class="section" id="idm51342"><div class="titlepage"><div><div><h3 class="title">13.12.9. Fonctions PostGIS nouvelles ou améliorées en 2.3</h3></div></div></div><p>Les fonctions indiquées ci-dessous sont des fonctions PostGIS qui ont été ajoutées ou améliorées.</p><p>Fonctions nouvelles dans PostGIS 2.3</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#overlaps_nd_geometry_gidx" title="&amp;&amp;&amp;(geometry,gidx)">&amp;&amp;&amp;(geometry,gidx)</a> - Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+. Renvoie TRUE si la boîte de délimitation n-D (en cache) d'une géométrie intersecte une boîte de délimitation de précision flottante n-D (GIDX).</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_geometry" title="&amp;&amp;&amp;(gidx,geometry)">&amp;&amp;&amp;(gidx,geometry)</a> - Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+. Renvoie TRUE si une boîte de délimitation de précision flottante n-D (GIDX) intersecte la boîte de délimitation n-D (mise en cache) d'une géométrie.</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_gidx" title="&amp;&amp;&amp;(gidx,gidx)">&amp;&amp;&amp;(gidx,gidx)</a> - Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+. Renvoie TRUE si deux boîtes de délimitation (GIDX) de précision flottante n-D se croisent.</li><li class="listitem"><a class="link" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a> - Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+. Renvoie TRUE si deux boîtes de délimitation 2D à précision flottante (BOX2DF) se croisent.</li><li class="listitem"><a class="link" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a> - Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+. Renvoie TRUE si une boîte de délimitation 2D de précision flottante (BOX2DF) intersecte la boîte de délimitation 2D (mise en cache) d'une géométrie.</li><li class="listitem"><a class="link" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a> - Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+. Renvoie TRUE si la boîte de délimitation 2D (en cache) d'une géométrie intersecte une boîte de délimitation 2D de précision flottante (BOX2DF).</li><li class="listitem"><a class="link" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a> - Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+. Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) est contenue dans une autre boîte de délimitation de précision flottante 2D.</li><li class="listitem"><a class="link" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a> - Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+. Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) est contenue dans la boîte de délimitation 2D d'une géométrie.</li><li class="listitem"><a class="link" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a> - Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+. Renvoie TRUE si la boîte de délimitation 2D d'une géométrie est contenue dans une boîte de délimitation 2D à précision flottante (BOX2DF).</li><li class="listitem"><a class="link" href="#Populate_Topology_Layer" title="Populate_Topology_Layer">Populate_Topology_Layer</a> - Disponibilité : 2.3.0 Ajoute les entrées manquantes à la table topology.layer en lisant les métadonnées des tables topo.</li><li class="listitem"><a class="link" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a> - Disponibilité : 2.3.0 Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie d'entrée en utilisant l'algorithme DBSCAN.</li><li class="listitem"><a class="link" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a> - Disponibilité : 2.3.0 Fonction Window qui renvoie un identifiant de cluster pour chaque géométrie en entrée en utilisant l'algorithme K-means.</li><li class="listitem"><a class="link" href="#ST_GeneratePoints" title="ST_GeneratePoints">ST_GeneratePoints</a> - Disponibilité : 2.3.0 Génère un multipoint de points aléatoires contenus dans un polygone ou un multipolygone.</li><li class="listitem"><a class="link" href="#ST_GeometricMedian" title="ST_GeometricMedian">ST_GeometricMedian </a> - Disponibilité : 2.3.0 Renvoie la médiane géométrique d'un MultiPoint.</li><li class="listitem"><a class="link" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a> - Disponibilité : 2.3.0 - La prise en charge des éléments d'entrée MultiPoint a été introduite Crée une LineString à partir de géométries Point, MultiPoint ou LineString.</li><li class="listitem"><a class="link" href="#ST_MinimumBoundingRadius" title="ST_MinimumBoundingRadius">ST_MinimumBoundingRadius</a> - Disponibilité - 2.3.0 Renvoie le point central et le rayon du plus petit cercle contenant une géométrie.</li><li class="listitem"><a class="link" href="#ST_MinimumClearance" title="ST_MinimumClearance">ST_MinimumClearance</a> - Disponibilité : 2.3.0 Renvoie la clearance (le dégagement) d'une géométrie, une mesure de la robustesse d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_MinimumClearanceLine" title="ST_MinimumClearanceLine">ST_MinimumClearanceLine</a> - Disponibilité : 2.3.0 - nécessite GEOS &gt;= 3.6.0 Renvoie la chaîne de lignes à deux points couvrant le dégagement (clearance) minimum d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Normalize" title="ST_Normalize">ST_Normalize</a> - Disponibilité : 2.3.0 Renvoie la géométrie sous sa forme canonique.</li><li class="listitem"><a class="link" href="#ST_Points" title="ST_Points">ST_Points</a> - Disponibilité : 2.3.0 Renvoie un MultiPoint contenant les coordonnées d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_VoronoiLines" title="ST_VoronoiLines">ST_VoronoiLines</a> - Disponibilité : 2.3.0 Renvoie les limites des polygones de Voronoï des sommets d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_VoronoiPolygons" title="ST_VoronoiPolygons">ST_VoronoiPolygons</a> - Disponibilité : 2.3.0 Renvoie les cellules de la représentation de Voronoï des sommets d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_WrapX" title="ST_WrapX">ST_WrapX</a> - Disponibilité : 2.3.0 nécessite GEOS Enveloppe une géométrie autour d'une valeur X.</li><li class="listitem"><a class="link" href="#TopoGeom_addElement" title="TopoGeom_addElement">TopoGeom_addElement</a> - Disponibilité : 2.3 Ajoute un élément à la définition d'une TopoGeometry.</li><li class="listitem"><a class="link" href="#TopoGeom_remElement" title="TopoGeom_remElement">TopoGeom_remElement</a> - Disponibilité : 2.3 Supprime un élément de la définition d'une TopoGeometry.</li><li class="listitem"><a class="link" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a> - Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+. Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) contient une autre boîte de délimitation de précision flottante 2D (BOX2DF).</li><li class="listitem"><a class="link" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a> - Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+. Renvoie TRUE si une boîte de délimitation de précision flottante 2D (BOX2DF) contient la boîte de délimitation 2D d'une géométrie.</li><li class="listitem"><a class="link" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a> - Disponibilité : 2.3.0 le support des Block Range INdexes (BRIN) a été introduit. Nécessite PostgreSQL 9.5+. Renvoie TRUE si la boîte de délimitation 2D d'une géométrie contient une boîte de délimitation de précision flottante 2D (GIDX).</li></ul></div><p>Fonctions améliorées dans PostGIS 2.3</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_Contains" title="ST_Contains">ST_Contains</a> - Amélioré : 2.3.0 Amélioration du court-circuit PIP étendu à la prise en charge des multipoints avec peu de points. Les versions précédentes ne prenaient en charge que les points dans les polygones. Tests si chaque point de B est situé dans A, et que leurs intérieurs ont un point commun</li><li class="listitem"><a class="link" href="#ST_Covers" title="ST_Covers">ST_Covers</a> - Amélioration : 2.3.0 Amélioration du court-circuit PIP pour la géométrie étendue à la prise en charge des multipoints avec peu de points. Les versions précédentes ne prenaient en charge que les points dans les polygones. Tests si chaque point de B est situé dans A</li><li class="listitem"><a class="link" href="#ST_Expand" title="ST_Expand">ST_Expand</a> - Amélioration : 2.3.0 : prise en charge de l'expansion d'une boîte par différentes quantités dans différentes dimensions. Renvoie une boîte de délimitation développée à partir d'une autre boîte de délimitation ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Amélioré : 2.3.0 Amélioration du court-circuit PIP étendu à la prise en charge des multipoints avec peu de points. Les versions précédentes ne prenaient en charge que les points dans les polygones. Teste si deux géométries se croisent (elles ont au moins un point en commun)</li><li class="listitem"><a class="link" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a> - Amélioration : 2.3.0 La segmentation d'objets geography produit désormais des sous-segments de longueur égale Renvoie une geometry/geography modifiée dont aucun segment ne dépasse une distance donnée.</li><li class="listitem"><a class="link" href="#ST_Transform" title="ST_Transform">ST_Transform</a> - Amélioration : la version 2.3.0 a introduit la prise en charge du texte PROJ.4 direct. Renvoie une nouvelle géométrie dont les coordonnées ont été transformées dans un système de référence spatial différent.</li><li class="listitem"><a class="link" href="#ST_Within" title="ST_Within">ST_Within</a> - Amélioration : 2.3.0 Amélioration du court-circuit PIP pour la géométrie étendue à la prise en charge des multipoints avec peu de points. Les versions précédentes ne prenaient en charge que les points dans les polygones. Tests si chaque point de A se trouve dans B, et que leurs intérieurs ont un point commun</li></ul></div><p>Fonctions modifiées dans PostGIS 2.3</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_PointN" title="ST_PointN">ST_PointN</a> - Modifié : 2.3.0 : indexation négative disponible (-1 est le dernier point)  Renvoie le Nième point de la première LineString ou LineString circulaire d'une géométrie.</li></ul></div></section><section class="section" id="idm51459"><div class="titlepage"><div><div><h3 class="title">13.12.10. Fonctions PostGIS nouvelles ou améliorées en 2.2</h3></div></div></div><p>Les fonctions indiquées ci-dessous sont des fonctions PostGIS qui ont été ajoutées ou améliorées.</p><p>Fonctions nouvelles dans PostGIS 2.2</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#geometry_distance_centroid_nd" title="&lt;&lt;-&gt;&gt;">&lt;&lt;-&gt;&gt;</a> - Disponibilité : 2.2.0 -- KNN disponible uniquement pour PostgreSQL 9.1+ Renvoie la distance n-D entre les géométries A et B ou les boîtes englobantes</li><li class="listitem"><a class="link" href="#ST_3DDifference" title="ST_3DDifference">ST_3DDifference</a> - Disponibilité : 2.2.0 Effectuer une différence 3D</li><li class="listitem"><a class="link" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a> - Disponibilité : 2.2.0 Effectuer l'union 3D.</li><li class="listitem"><a class="link" href="#ST_ApproximateMedialAxis" title="ST_ApproximateMedialAxis">ST_ApproximateMedialAxis</a> - Disponibilité : 2.2.0 Calculer l'axe médian approximatif d'une géométrie aréolaire.</li><li class="listitem"><a class="link" href="#ST_AsEncodedPolyline" title="ST_AsEncodedPolyline">ST_AsEncodedPolyline</a> - Disponibilité : 2.2.0 Renvoie une polyligne encodée à partir d'une géométrie LineString.</li><li class="listitem"><a class="link" href="#ST_AsTWKB" title="ST_AsTWKB">ST_AsTWKB</a> - Disponibilité : 2.2.0 Renvoie la géométrie sous forme de TWKB, diminutif de "Tiny Well-Known Binary"</li><li class="listitem"><a class="link" href="#ST_BoundingDiagonal" title="ST_BoundingDiagonal">ST_BoundingDiagonal</a> - Disponibilité : 2.2.0 Retourne la diagonale de la boîte englobante pour la géométrie en argument.</li><li class="listitem"><a class="link" href="#ST_CPAWithin" title="ST_CPAWithin">ST_CPAWithin</a> - Disponibilité : 2.2.0 Teste si le point d'approche le plus proche de deux trajectoires se trouve dans la distance spécifiée.</li><li class="listitem"><a class="link" href="#ST_ClipByBox2D" title="ST_ClipByBox2D">ST_ClipByBox2D</a> - Disponibilité : 2.2.0 Calcule la partie d'une géométrie située à l'intérieur d'un rectangle.</li><li class="listitem"><a class="link" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a> - Disponibilité : 2.2.0 Renvoie une mesure au point d'approche le plus proche de deux trajectoires.</li><li class="listitem"><a class="link" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a> - Disponibilité : 2.2.0 Fonction d'agrégation qui regroupe les géométries en entrée en ensembles connectés.</li><li class="listitem"><a class="link" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a> - Disponibilité : 2.2.0 Fonction agrégée qui regroupe les géométries en fonction de la distance de séparation.</li><li class="listitem"><a class="link" href="#RT_ST_CountAgg" title="ST_CountAgg">ST_CountAgg</a> - Disponibilité : 2.2.0  Agrégat. Renvoie le nombre de pixels dans une bande donnée d'un ensemble de rasters. Si aucune bande n'est spécifiée, la valeur par défaut est la bande 1. Si exclude_nodata_value est true, seuls les pixels différents de la valeur NODATA seront comptés.</li><li class="listitem"><a class="link" href="#RT_CreateOverview" title="ST_CreateOverview">ST_CreateOverview</a> - Disponibilité : 2.2.0 Créé une version à plus faible résolution d'une colonne raster.</li><li class="listitem"><a class="link" href="#ST_DistanceCPA" title="ST_DistanceCPA">ST_DistanceCPA</a> - Disponibilité : 2.2.0 Renvoie la distance entre le point d'approche le plus proche de deux trajectoires.</li><li class="listitem"><a class="link" href="#ST_ForceCurve" title="ST_ForceCurve">ST_ForceCurve</a> - Disponibilité : 2.2.0 Retransformation d'une géométrie dans son type de courbure, le cas échéant.</li><li class="listitem"><a class="link" href="#ST_IsPlanar" title="ST_IsPlanar">ST_IsPlanar</a> - Disponibilité : 2.2.0 : Ce point était documenté dans la version 2.1.0 mais a été accidentellement omis dans la version 2.1. Vérifie si une surface est planaire ou non</li><li class="listitem"><a class="link" href="#ST_IsSolid" title="ST_IsSolid">ST_IsSolid</a> - Disponibilité : 2.2.0 Teste si la géométrie est un solide. Aucun contrôle de validité n'est effectué.</li><li class="listitem"><a class="link" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a> - Disponibilité : 2.2.0 Teste si la géométrie est une trajectoire valide.</li><li class="listitem"><a class="link" href="#ST_LineFromEncodedPolyline" title="ST_LineFromEncodedPolyline">ST_LineFromEncodedPolyline</a> - Disponibilité : 2.2.0 Crée une LineString depuis une polyligne encodée ( "Encoded Polyline" ).</li><li class="listitem"><a class="link" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a> - Disponibilité : 2.2.0 Transformer la géométrie dans un solide. Aucune vérification n'est effectuée. Pour obtenir un solide valide, la géométrie d'entrée doit être une surface polyédrique fermée ou un TIN fermé.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a> - Disponibilité : 2.2.0 : Possibilité d'ajouter un masque Version avec fonction de rappel - Retourne un raster à une bande à partir d'un ou plusieurs rasters d'entrée, d'index de bandes et d'une fonction de rappel spécifiée par l'utilisateur.</li><li class="listitem"><a class="link" href="#RT_ST_MemSize" title="ST_MemSize">ST_MemSize</a> - Disponibilité : 2.2.0 Retourne l'espace utilisé par le raster (en octets).</li><li class="listitem"><a class="link" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a> - Disponibilité : 2.2.0 Renvoie une version d'une géométrie dont les points en double ont été supprimés.</li><li class="listitem"><a class="link" href="#RT_Retile" title="ST_Retile">ST_Retile</a> - Disponibilité : 2.2.0 Retourne un ensemble de tuiles configurées à partir d'une couverture raster composée de tuiles arbitraires.</li><li class="listitem"><a class="link" href="#ST_SetEffectiveArea" title="ST_SetEffectiveArea">ST_SetEffectiveArea</a> - Disponibilité : 2.2.0 Définit la surface effective de chaque sommet, en utilisant l'algorithme Visvalingam-Whyatt.</li><li class="listitem"><a class="link" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a> - Disponibilité : 2.2.0 Renvoie une représentation simplifiée d'une géométrie, en utilisant l'algorithme de Visvalingam-Whyatt</li><li class="listitem"><a class="link" href="#ST_Subdivide" title="ST_Subdivide">ST_Subdivide</a> - Disponibilité : 2.2.0 Calcule une subdivision rectiligne d'une géométrie.</li><li class="listitem"><a class="link" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a> - Disponibilité : 2.2.0  Agrégat. Retourne des résumés statistiques (count, sum, mean, stddev, min, max) pour une bande raster spécifiée pour une ensemble de rasters. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#ST_SwapOrdinates" title="ST_SwapOrdinates">ST_SwapOrdinates</a> - Disponibilité : 2.2.0 Renvoie une version de la géométrie donnée avec les valeurs d'ordonnées permutées.</li><li class="listitem"><a class="link" href="#ST_Volume" title="ST_Volume">ST_Volume</a> - Disponibilité : 2.2.0 Calcule le volume d'un solide 3D. S'il est appliqué à des géométries de surface (même fermées), il renvoie 0.</li><li class="listitem"><a class="link" href="#parse_address" title="parse_address">parse_address</a> - Disponibilité : 2.2.0 Prend une adresse d'une ligne et la décompose en plusieurs parties</li><li class="listitem"><a class="link" href="#postgis_enable_outdb_rasters" title="postgis.enable_outdb_rasters">postgis.enable_outdb_rasters</a> - Disponibilité : 2.2.0 Une option de configuration booléenne pour permettre l'accès aux bandes matricielles de out-db.</li><li class="listitem"><a class="link" href="#postgis_gdal_datapath" title="postgis.gdal_datapath">postgis.gdal_datapath</a> - Disponibilité : 2.2.0 Une option de configuration pour régler la valeur de l'option GDAL_DATA de GDAL. Si elle n'est pas assignée, la valeur de la variable d'environnement GDAL_DATA est utilisée.</li><li class="listitem"><a class="link" href="#postgis_gdal_enabled_drivers" title="postgis.gdal_enabled_drivers">postgis.gdal_enabled_drivers</a> - Disponibilité : 2.2.0 Option de configuration permettant de définir les drivers GDAL activés dans l'environnement PostGIS. Affecte la variable de configuration GDAL GDAL_SKIP.</li><li class="listitem"><a class="link" href="#standardize_address" title="standardize_address">standardize_address</a> - Disponibilité : 2.2.0 Renvoie une forme stdaddr d'une adresse d'entrée en utilisant les tables lex, gaz et rule.</li><li class="listitem"><a class="link" href="#geometry_distance_cpa" title="|=|">|=|</a> - Disponibilité : 2.2.0. La prise en charge des index est disponible uniquement pour PostgreSQL 9.5+ Renvoie la distance entre les trajectoires A et B à leur point d'approche le plus proche.</li></ul></div><p>Fonctions améliorées dans PostGIS 2.2</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a> - Amélioré : 2.2.0 -- Comportement KNN ("K nearest neighbor") réel pour la géométrie et la géographie pour PostgreSQL 9.5+. Note : pour la géographie, KNN est basé sur la sphère plutôt que sur le sphéroïde. Pour PostgreSQL 9.4 et moins, le support de la géographie est nouveau mais ne supporte que le centroïde de la boîte de délimitation. Renvoie la distance en 2D entre A et B.</li><li class="listitem"><a class="link" href="#AsTopoJSON" title="AsTopoJSON">AsTopoJSON</a> - Amélioration : 2.2.1 ajout de la prise en charge des entrées "puntal" Renvoie la représentation TopoJSON d'une topogeometry.</li><li class="listitem"><a class="link" href="#ST_Area" title="ST_Area">ST_Area</a> - Amélioration : 2.2.0 - mesure sur sphéroïde effectuée avec GeographicLib pour une meilleure précision et robustesse. Nécessite PROJ &gt;= 4.9.0 pour profiter de la nouvelle fonctionnalité. Renvoie l'aire d'une géométrie polygonale.</li><li class="listitem"><a class="link" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a> - Amélioration : 2.2.0 : Prise en charge des coordonnées géographiques et de l'inversion des axes (x/y, long/lat). Voir les options pour plus de détails. Renvoie une géométrie au format X3D xml node element : ISO-IEC-19776-1.2-X3DEncodings-XML</li><li class="listitem"><a class="link" href="#ST_Azimuth" title="ST_Azimuth">ST_Azimuth</a> - Amélioration : 2.2.0 mesure sur sphéroïde effectuée avec GeographicLib pour améliorer la précision et la robustesse. Nécessite PROJ &gt;= 4.9.0 pour profiter de la nouvelle fonctionnalité. Renvoie l'azimut basé sur le nord d'une ligne entre deux points.</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Amélioration : 2.2.0 - mesure sur sphéroïde effectuée avec GeographicLib pour une meilleure précision et robustesse. Nécessite PROJ &gt;= 4.9.0 pour profiter de la nouvelle fonctionnalité. Renvoie la distance entre deux valeurs de geometry ou geography.</li><li class="listitem"><a class="link" href="#ST_Scale" title="ST_Scale">ST_Scale</a> - Amélioration : La prise en charge de la mise à l'échelle de toutes les dimensions (paramètre factor) a été introduite dans la version 2.2.0. Met à l'échelle une géométrie en fonction de facteurs donnés.</li><li class="listitem"><a class="link" href="#ST_Split" title="ST_Split">ST_Split</a> - Amélioration : la version 2.2.0 prend en charge la division d'une ligne par une limite multiligne, multipoint ou (multi)polygone. Renvoie une collection de géométries créées en divisant une géométrie par une autre géométrie.</li><li class="listitem"><a class="link" href="#ST_Summary" title="ST_Summary">ST_Summary</a> - Amélioré : 2.2.0 Ajout de la prise en charge des TIN et des courbes Renvoie un résumé textuel du contenu d'une géométrie.</li></ul></div><p>Fonctions modifiées dans PostGIS 2.2</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a> - Modifié : 2.2.0 -- Pour les utilisateurs de PostgreSQL 9.5, l'ancienne syntaxe Hybrid peut être plus lente, donc vous voudrez vous débarrasser de ce hack si vous exécutez votre code uniquement sur PostGIS 2.2+ 9.5+. Voir les exemples ci-dessous. Renvoie la distance en 2D entre A et B.</li><li class="listitem"><a class="link" href="#Get_Geocode_Setting" title="Get_Geocode_Setting">Get_Geocode_Setting</a> - Modifié : 2.2.0 : les paramètres par défaut sont désormais conservés dans une table appelée geocode_settings_default. Les paramètres personnalisés sont dans geocode_settings et ne contiennent que ceux qui ont été définis par l'utilisateur. Renvoie la valeur d'un paramètre spécifique stocké dans la table tiger.geocode_settings.</li><li class="listitem"><a class="link" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a> - Modifié : 2.2.0 - si 2 géométries 2D sont saisies, un point 2D est renvoyé (au lieu de l'ancien comportement supposant 0 pour Z manquant). Dans le cas de 2D et 3D, Z n'est plus supposé être 0 pour Z manquant. Renvoie le point 3D sur g1 qui est le plus proche de g2. Il s'agit du premier point de la ligne 3D la plus courte.</li><li class="listitem"><a class="link" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a> - Modifié : 2.2.0 - Dans le cas de la 2D et de la 3D, Z n'est plus considéré comme égal à 0 en cas de Z manquant. Renvoie la distance cartésienne minimale en 3D (basée sur la référence spatiale) entre deux géométries en unités projetées.</li><li class="listitem"><a class="link" href="#ST_3DLongestLine" title="ST_3DLongestLine">ST_3DLongestLine</a> - Modifié : 2.2.0 - si 2 géométries 2D sont saisies, un point 2D est renvoyé (au lieu de l'ancien comportement supposant 0 pour Z manquant). Dans le cas de 2D et 3D, Z n'est plus supposé être 0 pour Z manquant. Renvoie la ligne 3D la plus longue entre deux géométries</li><li class="listitem"><a class="link" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a> - Modifié : 2.2.0 - Dans le cas de la 2D et de la 3D, Z n'est plus considéré comme égal à 0 en cas de Z manquant. Renvoie la distance maximale cartésienne 3D (basée sur la référence spatiale) entre deux géométries en unités projetées.</li><li class="listitem"><a class="link" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a> - Modifié : 2.2.0 - si 2 géométries 2D sont saisies, un point 2D est renvoyé (au lieu de l'ancien comportement supposant 0 pour Z manquant). Dans le cas de 2D et 3D, Z n'est plus supposé être 0 pour Z manquant. Renvoie la ligne 3D la plus courte entre deux géométries</li><li class="listitem"><a class="link" href="#ST_DistanceSphere" title="ST_DistanceSphere">ST_DistanceSphere</a> - Modifié : 2.2.0 Dans les versions antérieures, cette fonction s'appelait ST_Distance_Sphere Renvoie la distance minimale en mètres entre deux géométries lon/lat en utilisant un modèle de terre sphérique.</li><li class="listitem"><a class="link" href="#ST_Distance_Spheroid" title="ST_DistanceSpheroid">ST_DistanceSpheroid</a> - Modifié : 2.2.0 Dans les versions précédentes, cette fonction était appelée ST_Distance_Sphéroïde Renvoie la distance minimale entre deux géométries lon/lat en utilisant un modèle de terre sphéroïdale.</li><li class="listitem"><a class="link" href="#ST_Equals" title="ST_Equals">ST_Equals</a> - Modifié : 2.2.0 Retourne vrai même pour les géométries invalides si elles sont binairement égales Teste si deux géométries comprennent le même ensemble de points</li><li class="listitem"><a class="link" href="#ST_Length_Spheroid" title="ST_LengthSpheroid">ST_LengthSpheroid</a> - Modifié : 2.2.0 Dans les versions précédentes, cette fonction s'appelait ST_Length_Spheroid et avait l'alias ST_3DLength_Spheroid Renvoie la longueur/périmètre 2D ou 3D d'une géométrie lon/lat sur un sphéroïde.</li><li class="listitem"><a class="link" href="#ST_MemSize" title="ST_MemSize">ST_MemSize</a> - Modifié : 2.2.0 nom modifié en ST_MemSize pour respecter la convention de nommage. Renvoie la quantité d'espace mémoire que prend une géométrie.</li><li class="listitem"><a class="link" href="#ST_PointInsideCircle" title="ST_PointInsideCircle">ST_PointInsideCircle</a> - Modifié : 2.2.0 Dans les versions précédentes, cette fonction était appelée ST_Point_Inside_Circle Teste si un point géométrique se trouve à l'intérieur d'un cercle défini par un centre et un rayon</li><li class="listitem"><a class="link" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a> - Modifié : 2.2.0 les valeurs pour id1 et id2 ont été échangées pour "edge crosses node" pour être cohérent avec la description de l'erreur. Renvoie un ensemble d'objets validatetopology_returntype détaillant les problèmes liés à la topologie.</li></ul></div></section><section class="section" id="idm51648"><div class="titlepage"><div><div><h3 class="title">13.12.11. Fonctions PostGIS nouvelles ou améliorées en 2.1</h3></div></div></div><p>Les fonctions indiquées ci-dessous sont des fonctions PostGIS qui ont été ajoutées ou améliorées.</p><p>Fonctions nouvelles dans PostGIS 2.1</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_Raster_EQ" title="=">=</a> - Disponibilité : 2.1.0  Retourne TRUE si la boîte englobante de A est la même que celle de B. Utilise des boîtes englobantes en double précision.</li><li class="listitem"><a class="link" href="#AsTopoJSON" title="AsTopoJSON">AsTopoJSON</a> - Disponibilité : 2.1.0  Renvoie la représentation TopoJSON d'une topogeometry.</li><li class="listitem"><a class="link" href="#Drop_Nation_Tables_Generate_Script" title="Drop_Nation_Tables_Generate_Script">Drop_Nation_Tables_Generate_Script</a> - Disponibilité : 2.1.0 Génère un script qui supprime toutes les tables du schéma spécifié qui commencent par county_all, state_all ou code d'état suivi de county ou state.</li><li class="listitem"><a class="link" href="#Get_Geocode_Setting" title="Get_Geocode_Setting">Get_Geocode_Setting</a> - Disponibilité : 2.1.0 Renvoie la valeur d'un paramètre spécifique stocké dans la table tiger.geocode_settings.</li><li class="listitem"><a class="link" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a> - Disponibilité : 2.1.0  Génère un script shell pour la plate-forme spécifiée qui charge les données dans les tables county et state.</li><li class="listitem"><a class="link" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a> - Disponibilité : 2.1.0 Étant donné une adresse textuelle, cette fonction renvoie un type composite norm_addy qui contient le suffixe de la route, le préfixe et le type normalisé, la rue, le nom de la rue, etc. divisés en champs distincts. Cette fonction fonctionne uniquement avec les données de recherche fournies avec le géocodeur tiger (pas besoin pour les données de recensement tiger). Nécessite l'extension address_standardizer.</li><li class="listitem"><a class="link" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a> - Disponibilité : 2.1.0 Calcule la surface des géométries de surface 3D. Retourne 0 pour les solides.</li><li class="listitem"><a class="link" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a> - Disponibilité : 2.1.0 Réaliser une intersection 3D</li><li class="listitem"><a class="link" href="#ST_Box2dFromGeoHash" title="ST_Box2dFromGeoHash">ST_Box2dFromGeoHash</a> - Disponibilité : 2.1.0 Retourne une BOX2D à partir d'une chaîne GeoHash.</li><li class="listitem"><a class="link" href="#RT_ST_ColorMap" title="ST_ColorMap">ST_ColorMap</a> - Disponibilité : 2.1.0  Crée un nouveau raster comprenant jusqu'à quatre bandes 8BUI (niveaux de gris, RGB, RGBA) à partir du raster source et d'une bande spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_Contains" title="ST_Contains">ST_Contains</a> - Disponibilité : 2.1.0 Retourne true si aucun point du raster rastB ne se trouve à l'extérieur du raster rastA et si au moins un point de l'intérieur du raster rastB se trouve à l'intérieur du raster rastA.</li><li class="listitem"><a class="link" href="#RT_ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a> - Disponibilité : 2.1.0 Retourne true si rastB intersecte l'intérieur de rastA, mais pas la frontière ou l'extérieur de rastA.</li><li class="listitem"><a class="link" href="#RT_ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a> - Disponibilité : 2.1.0 Retourne true si aucun point du raster rastA ne se trouve à l'extérieur du raster rastB.</li><li class="listitem"><a class="link" href="#RT_ST_Covers" title="ST_Covers">ST_Covers</a> - Disponibilité : 2.1.0 Retourne true si aucun point du raster rastB ne se trouve à l'extérieur du raster rastA.</li><li class="listitem"><a class="link" href="#RT_ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a> - Disponibilité : 2.1.0 Retourne true si les rasters rastA et rastB se trouvent entièrement à une distance donnée l'un de l'autre.</li><li class="listitem"><a class="link" href="#RT_ST_DWithin" title="ST_DWithin">ST_DWithin</a> - Disponibilité : 2.1.0 Retourne true si les rasters rastA et rastB se trouvent à une distance donnée l'un de l'autre.</li><li class="listitem"><a class="link" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a> - Disponibilité : 2.1.0 Renvoie la triangulation de Delaunay des sommets d'une géométrie.</li><li class="listitem"><a class="link" href="#RT_ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a> - Disponibilité : 2.1.0 Retourne true si le raster rastA n'intersecte pas spatialement le rastB.</li><li class="listitem"><a class="link" href="#RT_ST_DumpValues" title="ST_DumpValues">ST_DumpValues</a> - Disponibilité : 2.1.0 Retourne les valeurs d'une bande raster spécifiée, sous forme d'un tableau à deux dimensions.</li><li class="listitem"><a class="link" href="#ST_Extrude" title="ST_Extrude">ST_Extrude</a> - Disponibilité : 2.1.0 Extruder une surface vers un volume</li><li class="listitem"><a class="link" href="#ST_ForceLHR" title="ST_ForceLHR">ST_ForceLHR</a> - Disponibilité : 2.1.0 Force l'orientation LHR d'un objet</li><li class="listitem"><a class="link" href="#RT_ST_FromGDALRaster" title="ST_FromGDALRaster">ST_FromGDALRaster</a> - Disponibilité : 2.1.0 Retourne un raster depuis un fichier raster supporté par GDAL.</li><li class="listitem"><a class="link" href="#ST_GeomFromGeoHash" title="ST_GeomFromGeoHash">ST_GeomFromGeoHash</a> - Disponibilité : 2.1.0 Retourne une geometry depuis une chaîne GeoHash.</li><li class="listitem"><a class="link" href="#RT_ST_InvDistWeight4ma" title="ST_InvDistWeight4ma">ST_InvDistWeight4ma</a> - Disponibilité : 2.1.0 Fonction de traitement des données raster qui interpole la valeur d'un pixel à partir de son voisinage.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a> - Disponibilité : 2.1.0 Version avec fonction de rappel - Retourne un raster à une bande à partir d'un ou plusieurs rasters d'entrée, d'index de bandes et d'une fonction de rappel spécifiée par l'utilisateur.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebra_expr" title="ST_MapAlgebra (expression version)">ST_MapAlgebra (expression version)</a> - Disponibilité : 2.1.0 Version avec expression - Retourne un raster à une bande à partir d'un ou deux rasters d'entrée, d'index de bandes et d'une ou plusieurs expressions SQL spécifiées par l'utilisateur.</li><li class="listitem"><a class="link" href="#RT_ST_MinConvexHull" title="ST_MinConvexHull">ST_MinConvexHull</a> - Disponibilité : 2.1.0  Retourne la géométrie de l'enveloppe convexe du raster en excluant les pixels NODATA.</li><li class="listitem"><a class="link" href="#RT_ST_MinDist4ma" title="ST_MinDist4ma">ST_MinDist4ma</a> - Disponibilité : 2.1.0 Fonction de traitement des données raster qui renvoie la distance minimale (en nombre de pixels) entre le pixel d'intérêt et un pixel voisin ayant une valeur.</li><li class="listitem"><a class="link" href="#ST_MinkowskiSum" title="ST_MinkowskiSum">ST_MinkowskiSum</a> - Disponibilité : 2.1.0 Effectue la somme de Minkowski</li><li class="listitem"><a class="link" href="#RT_ST_NearestValue" title="ST_NearestValue">ST_NearestValue</a> - Disponibilité : 2.1.0 Retourne la valeur la plus proche différent de NODATA pour une bande raster spécifiée au pixel donné par columnx et rowy, ou à un point géométrique spécifié dans le même système de référence spatial que le raster.</li><li class="listitem"><a class="link" href="#RT_ST_Neighborhood" title="ST_Neighborhood">ST_Neighborhood</a> - Disponibilité : 2.1.0 Retourne un tableau 2-D de double avec les valeurs non NODATA autour du pixel de la bande spécifiée, aux coordonnées spécifiées par columnX &amp; rowY ou par un point géométrique dans le même système de référence spatial que le raster.</li><li class="listitem"><a class="link" href="#RT_ST_NotSameAlignmentReason" title="ST_NotSameAlignmentReason">ST_NotSameAlignmentReason</a> - Disponibilité : 2.1.0 Retourne un texte indiquant si les rasters sont alignés et, s'ils ne le sont pas, la raison du problème.</li><li class="listitem"><a class="link" href="#ST_Orientation" title="ST_Orientation">ST_Orientation</a> - Disponibilité : 2.1.0 Détermine l'orientation d'une surface</li><li class="listitem"><a class="link" href="#RT_ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a> - Disponibilité : 2.1.0 Retourne true si les raster rastA et rastB intersectent mais que l'un ne contient pas complètement l'autre.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a> - Disponibilité : 2.1.0 Retourne le centroïde (point géométrique) de la zone représentée par un pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a> - Disponibilité : 2.1.0 Retourne le centroïde (point géométrique) pour chaque pixel de la bande raster, avec sa valeur et les coordonnées raster X et Y. Le point géométrique est le centroïde de la zone représentée par un pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a> - Disponibilité : 2.1.0 Retourne le point géométrique du coin supérieur gauche du pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a> - Disponibilité : 2.1.0 Retourne un point géométrique pour chaque pixel de la bande raster, avec sa valeur et ses coordonnées raster X et Y. Les coordonnées du points sont ceux du coin supérieur gauche du pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelOfValue" title="ST_PixelOfValue">ST_PixelOfValue</a> - Disponibilité : 2.1.0 Retourne les coordonnées columnx, rowy du pixel dont la valeur est égale à la valeur recherchée.</li><li class="listitem"><a class="link" href="#ST_PointFromGeoHash" title="ST_PointFromGeoHash">ST_PointFromGeoHash</a> - Disponibilité : 2.1.0 Retourne un point à partir d'une chaîne GeoHash.</li><li class="listitem"><a class="link" href="#RT_ST_RasterToWorldCoord" title="ST_RasterToWorldCoord">ST_RasterToWorldCoord</a> - Disponibilité : 2.1.0 Retourne le coin supérieur gauche du raster, sous forme de coordonnées X et Y (longitude et latitude) d'un colonne et d'une ligne. Les numéros de colonne et de ligne commencent à 1.</li><li class="listitem"><a class="link" href="#RT_ST_Resize" title="ST_Resize">ST_Resize</a> - Disponibilité : 2.1.0 Nécessite GDAL 1.6.1+ Redimensionne un raster à une nouvelle largeur/hauteur</li><li class="listitem"><a class="link" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a> - Disponibilité : 2.1.0 Retourne un raster avec la rugosité d'un MNT.</li><li class="listitem"><a class="link" href="#RT_ST_SetValues" title="ST_SetValues">ST_SetValues</a> - Disponibilité : 2.1.0 Retourne un nouveau raster en modifiant les valeurs de certains pixels d'une bande spécifiée.</li><li class="listitem"><a class="link" href="#TP_ST_Simplify" title="ST_Simplify">ST_Simplify</a> - Disponibilité : 2.1.0 Renvoie une version géométrique "simplifiée" de la TopoGeometry donnée en utilisant l'algorithme de Douglas-Peucker.</li><li class="listitem"><a class="link" href="#ST_StraightSkeleton" title="ST_StraightSkeleton">ST_StraightSkeleton</a> - Disponibilité : 2.1.0 Calcule un squelette (straight skeleton) à partir d'une géométrie</li><li class="listitem"><a class="link" href="#RT_ST_Summary" title="ST_Summary">ST_Summary</a> - Disponibilité : 2.1.0 Retourne un résumé du contenu du raster sous forme de texte.</li><li class="listitem"><a class="link" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a> - Disponibilité : 2.1.0 Retourne un raster avec l'index de position topographique (TPI) calculé.</li><li class="listitem"><a class="link" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a> - Disponibilité : 2.1.0 Retourne un raster avec l'indice de rugosité du terrain (TRI) calculé.</li><li class="listitem"><a class="link" href="#ST_Tesselate" title="ST_Tesselate">ST_Tesselate</a> - Disponibilité : 2.1.0 Effectue la tessellation de la surface d'un polygone ou d'une surface polyédrique et renvoie un TIN ou une collection de TINS</li><li class="listitem"><a class="link" href="#RT_ST_Tile" title="ST_Tile">ST_Tile</a> - Disponibilité : 2.1.0 Retourne un ensemble de rasters issus de la division d'un raster d'entrée selon les dimensions spécifiées pour les rasters de sortie.</li><li class="listitem"><a class="link" href="#RT_ST_Touches" title="ST_Touches">ST_Touches</a> - Disponibilité : 2.1.0 Retourne true si les raster rastA et rastB ont au moins un point en commun mais que leurs intérieurs n'intersectent pas.</li><li class="listitem"><a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a> - Disponibilité : 2.1.0 Ajout de la variante ST_Union(rast, unionarg). Retourne l'union d'un ensemble de tuiles raster, en un seul raster composé de 1 ou plusieurs bandes.</li><li class="listitem"><a class="link" href="#RT_ST_Within" title="ST_Within">ST_Within</a> - Disponibilité : 2.1.0 Retourne true si aucun point du raster rastA ne se trouve à l'extérieur du raster rastB et si au moins un point de l'intérieur du raster rastA se trouve à l'intérieur du raster rastB.</li><li class="listitem"><a class="link" href="#RT_ST_WorldToRasterCoord" title="ST_WorldToRasterCoord">ST_WorldToRasterCoord</a> - Disponibilité : 2.1.0 Retourne le coin supérieur gauche comme colonne et ligne, en fonction de coordonnées géométriques X et Y (longitude et latitude) ou un point géométrique dans le système de référence spatial du raster.</li><li class="listitem"><a class="link" href="#Set_Geocode_Setting" title="Set_Geocode_Setting">Set_Geocode_Setting</a> - Disponibilité : 2.1.0 Définit un paramètre qui affecte le comportement des fonctions du géocodeur.</li><li class="listitem"><a class="link" href="#RT_UpdateRasterSRID" title="UpdateRasterSRID">UpdateRasterSRID</a> - Disponibilité : 2.1.0 Change le SRID de tous les rasters dans la table et colonne en paramètres.</li><li class="listitem"><a class="link" href="#clearTopoGeom" title="clearTopoGeom">clearTopoGeom</a> - Disponibilité : 2.1 Efface le contenu d'une géométrie topo.</li><li class="listitem"><a class="link" href="#postgis_backend" title="postgis.backend">postgis.backend</a> - Disponibilité : 2.1.0 Le backend qui sera utilisé par les fonctions lorsque GEOS et SFCGAL se recouvrent. Options : geos ou sfcgal. Valeur par défaut geos.</li><li class="listitem"><a class="link" href="#postgis_sfcgal_version" title="postgis_sfcgal_version">postgis_sfcgal_version</a> - Disponibilité : 2.1.0 Retourne la version de SFCGAL utilisée</li></ul></div><p>Fonctions améliorées dans PostGIS 2.1</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a> - Amélioration : 2.1.0 ajout du paramètre addbandarg. Retourne un raster avec la/les nouvelle(s) bande(s) ajouté(s) à un index donné, de type et valeur initiale donnés. Si aucun index n'est spécifié, la bande est ajoutée à la fin.</li><li class="listitem"><a class="link" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a> - Amélioration : 2.1.0 introduction du support des bandes out-db. Retourne un raster avec la/les nouvelle(s) bande(s) ajouté(s) à un index donné, de type et valeur initiale donnés. Si aucun index n'est spécifié, la bande est ajoutée à la fin.</li><li class="listitem"><a class="link" href="#RT_ST_AsBinary" title="ST_AsBinary/ST_AsWKB">ST_AsBinary/ST_AsWKB</a> - Amélioration : 2.1.0 Ajout de outasin Retourne la représentation Well-Known Binary (WKB) de ce raster.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Amélioration : 2.1.0 La prise en charge des identifiants a été introduite pour GML 3. Renvoyer la géométrie en tant qu'élément GML version 2 ou 3.</li><li class="listitem"><a class="link" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> - Amélioration : 2.1.0 Utilise ST_MapAlgebra() et ajout du paramètre optionnel interpolate_nodata Retourne l'exposition (par défaut, en degrés) d'une bande raster d'élévation. Utile pour l'analyse de terrain.</li><li class="listitem"><a class="link" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a> - Amélioration : 2.1.0 introduction du support pour Triangle Renvoie la limite d'une géométrie.</li><li class="listitem"><a class="link" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a> - Amélioration : 2.1.0 Réécrit en C Returns the raster clipped by the input geometry. If band number is not specified, all bands are processed. If crop is not specified or TRUE, the output raster is cropped. If touched is set to TRUE, then touched pixels are included, otherwise only if the center of the pixel is in the geometry it is included.</li><li class="listitem"><a class="link" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a> - Amélioration : la version 2.1.0 a amélioré la vitesse de la géographie. Voir Making Geography faster pour plus de détails. Teste si deux géométries se trouvent à une distance donnée</li><li class="listitem"><a class="link" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a> - Amélioration : la prise en charge des géométries courbes a été introduite dans la version 2.1.0. Teste si deux géométries se trouvent à une distance donnée</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Amélioration : la version 2.1.0 a amélioré la vitesse pour le type geography. Voir Making Geography faster pour plus de détails. Renvoie la distance entre deux valeurs de geometry ou geography.</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Amélioration : 2.1.0 - la prise en charge des géométries courbes a été introduite. Renvoie la distance entre deux valeurs de geometry ou geography.</li><li class="listitem"><a class="link" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a> - Amélioration : 2.1.0 Ajout de la variante 2 Fonction de traitement des données raster qui calcule le nombre de valeurs de pixels uniques dans un voisinage.</li><li class="listitem"><a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a> - Amélioré : 2.1.0 Vitesse plus rapide. Réimplémentation en C natif. Renvoie un ensemble de lignes geometry_dump pour les coordonnées dans une géométrie.</li><li class="listitem"><a class="link" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a> - Amélioration : 2.1.0 Utilise ST_MapAlgebra() et ajout du paramètre optionnel interpolate_nodata Retourne l'hypothétique éclairage d'une bande raster d'élévation en utilisant les valeurs d'azimut, d'altitude, de luminosité et d'échelle fournies.</li><li class="listitem"><a class="link" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> - Amélioration : 2.1.0, ajout du support pour GEOMETRYCOLLECTION et MULTIPOINT. Tente de rendre valide une géométrie invalide sans perdre de sommets.</li><li class="listitem"><a class="link" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a> - Amélioration : 2.1.0 Ajout de la variante 2 Fonction de traitement des données raster qui calcule la valeur maximale d'un pixel dans un voisinage.</li><li class="listitem"><a class="link" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a> - Amélioration : 2.1.0 Ajout de la variante 2 Fonction de traitement des données raster qui calcule la valeur moyenne d'un pixel dans un voisinage.</li><li class="listitem"><a class="link" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a> - Amélioration : 2.1.0 Ajout de la variante 2 Fonction de traitement des données raster qui calcule la valeur minimale d'un pixel dans un voisinage.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a> - Amélioration : 2.1.0 ajout du paramètre optionnel exclude_nodata_value. Retourne la géométrie polygonale qui délimite chaque pixel de la bande raster, avec la valeur et les coordonnées raster X et Y de chaque pixel.</li><li class="listitem"><a class="link" href="#RT_ST_Polygon" title="ST_Polygon">ST_Polygon</a> - Amélioration : 2.1.0 Vitesse améliorée (entièrement en C) et le multipolygone retourné est garanti d'être valide. Retourne une géométrie multipolygonale formée par l'union des pixels dont la valeur est différente de nodata. Si aucune bande bandnum n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a> - Amélioration : 2.1.0 Ajout de la variante 2 Fonction de traitement des données raster qui calcule la plage de valeurs des pixels dans un voisinage.</li><li class="listitem"><a class="link" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a> - Amélioration : 2.1.0 ajout de la variante agrégée Retourne true si les rasters ont les mêmes skew, scale, spatial ref, et offset (les pixels peuvent être placés sur la même grille sans être coupés) et false si ce n'est pas le cas, avec une NOTICE détaillant le problème.</li><li class="listitem"><a class="link" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a> - Amélioration : la prise en charge des objets de type geography a été introduite dans la version 2.1.0. Renvoie une geometry/geography modifiée dont aucun segment ne dépasse une distance donnée.</li><li class="listitem"><a class="link" href="#RT_ST_SetGeoReference" title="ST_SetGeoReference">ST_SetGeoReference</a> - Amélioration : 2.1.0 Ajout de la variante ST_SetGeoReference(raster, double precision, ...) Définit les 6 paramètres de géo-référencement en un seul appel. Les nombres doivent être séparés par un espace. Accepte les formats GDAL (par défaut) ou ESRI.</li><li class="listitem"><a class="link" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a> - Amélioration : 2.1.0 La variante de ST_SetValue() avec la géométrie supporte n'importe quelle type de géométrie, pas uniquement des points. La variante avec la géométrie est une enveloppe autour de la variante de ST_SetValues() avec geomval[] Retourne un nouveau raster en modifiant la valeur du pixel pour la bande spécifiée et aux coordonnées columnx, rowy, ou pour tous les pixels qui intersectent une géométrie spécifiée. Le numéro de bande démarre à 1, et la bande 1 est utilisée si non spécifié.</li><li class="listitem"><a class="link" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a> - Amélioration : 2.1.0 Utilise ST_MapAlgebra() et ajout des paramètres optionnels units, scale, interpolate_nodata Retourne la pente (par défaut, en degrés) d'une bande raster d'élévation. Utile pour l'analyse de terrain.</li><li class="listitem"><a class="link" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> - Amélioration : 2.1.0 Ajout de la variante 2 Fonction de traitement des données raster qui calcule l'écart type des valeurs des pixels dans un voisinage.</li><li class="listitem"><a class="link" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a> - Amélioration : 2.1.0 Ajout de la variante 2 Fonction de traitement des données raster qui calcule la somme de toutes les valeurs de pixels dans un voisinage.</li><li class="listitem"><a class="link" href="#ST_Summary" title="ST_Summary">ST_Summary</a> - Amélioré : 2.1.0 Indicateur S pour indiquer si le système de référence spatiale est connu Renvoie un résumé textuel du contenu d'une géométrie.</li><li class="listitem"><a class="link" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a> - Amélioration : 2.1.0 Ajout de la variante ST_Transform(rast, alignto) Reprojette un raster depuis un système de référence spatial vers un autre, en utilisant l'algorithme de rééchantillonnage spécifié. Les algorithmes possibles sont NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a> - Amélioration : 2.1.0 Vitesse améliorée (entièrement en C). Retourne l'union d'un ensemble de tuiles raster, en un seul raster composé de 1 ou plusieurs bandes.</li><li class="listitem"><a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a> - Amélioration : 2.1.0 ST_Union(rast) (variante 1) permet l'union sur toutes les bandes de tous les rasters d'entrée. Les versions précédentes de PostGIS ne prenaient en compte que la première bande. Retourne l'union d'un ensemble de tuiles raster, en un seul raster composé de 1 ou plusieurs bandes.</li><li class="listitem"><a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a> - Amélioration : 2.1.0 ST_Union(rast, uniontype) (variante 4) permet l'union de toutes les bandes de tous les rasters d'entrée. Retourne l'union d'un ensemble de tuiles raster, en un seul raster composé de 1 ou plusieurs bandes.</li><li class="listitem"><a class="link" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a> - Amélioré : 2.1.0 ajoute la version d'une TopoGeometry existante. Convertit une géométrie simple en une géométrie topographique.</li></ul></div><p>Fonctions modifiées dans PostGIS 2.1</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> - Changement : 2.1.0 Dans les versions précédentes, les valeurs retournées étaient en radians. Désormais, les valeurs retournées sont par défaut en degrés Retourne l'exposition (par défaut, en degrés) d'une bande raster d'élévation. Utile pour l'analyse de terrain.</li><li class="listitem"><a class="link" href="#ST_EstimatedExtent" title="ST_EstimatedExtent">ST_EstimatedExtent</a> - Modifié : 2.1.0. Jusqu'à la version 2.0.x, cette fonction était appelée ST_Estimated_Extent. Renvoie l'étendue estimée d'une table spatiale.</li><li class="listitem"><a class="link" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a> - Modifié : 2.1.0. Jusqu'à la version 2.0.x, elle s'appelait ST_Force_2D. Forcer les géométries à passer en "mode bidimensionnel".</li><li class="listitem"><a class="link" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a> - Modifié : 2.1.0. Jusqu'à la version 2.0.x, elle s'appelait ST_Force_3D. Force les géométries en mode XYZ. Il s'agit d'un alias de ST_Force3DZ.</li><li class="listitem"><a class="link" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a> - Modifié : 2.1.0. Jusqu'à la version 2.0.x, elle s'appelait ST_Force_3DM. Forcer les géométries en mode XYM.</li><li class="listitem"><a class="link" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a> - Modifié : 2.1.0. Jusqu'à la version 2.0.x, elle s'appelait ST_Force_3DZ. Forcer les géométries en mode XYZ.</li><li class="listitem"><a class="link" href="#ST_Force_4D" title="ST_Force4D">ST_Force4D</a> - Modifié : 2.1.0. Jusqu'à la version 2.0.x, elle s'appelait ST_Force_4D. Forcer les géométries en mode XYZM.</li><li class="listitem"><a class="link" href="#ST_Force_Collection" title="ST_ForceCollection">ST_ForceCollection</a> - Modifié : 2.1.0. Jusqu'à la version 2.0.x, cette fonction était appelée ST_Force_Collection. Convertir la géométrie en une GEOMETRYCOLLECTION.</li><li class="listitem"><a class="link" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a> - Changement : 2.1.0 Dans les versions précédentes, l'azimut et l'altitude étaient exprimés en radians. Désormais, l'azimut et l'altitude sont exprimés en degrés Retourne l'hypothétique éclairage d'une bande raster d'élévation en utilisant les valeurs d'azimut, d'altitude, de luminosité et d'échelle fournies.</li><li class="listitem"><a class="link" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a> - Modifié : 2.1.0. Jusqu'à la version 2.0.x, cette fonction était appelée ST_Line_Interpolate_Point. Renvoie un point interpolé le long d'une ligne à un emplacement fractionnaire.</li><li class="listitem"><a class="link" href="#ST_LineLocatePoint" title="ST_LineLocatePoint">ST_LineLocatePoint</a> - Modifié : 2.1.0. Jusqu'à la version 2.0.x, cette fonction était appelée ST_Line_Locate_Point. Renvoie l'emplacement fractionnaire du point le plus proche d'un point sur une ligne.</li><li class="listitem"><a class="link" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a> - Modifié : 2.1.0. Jusqu'à la version 2.0.x, cette fonction était appelée ST_Line_Substring. Renvoie la partie d'une ligne située entre deux emplacements fractionnaires.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a> - Changement : 2.1.1 Changement du comportement de behavior of exclude_nodata_value. Retourne le centroïde (point géométrique) pour chaque pixel de la bande raster, avec sa valeur et les coordonnées raster X et Y. Le point géométrique est le centroïde de la zone représentée par un pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a> - Changement : 2.1.1 Changement du comportement de behavior of exclude_nodata_value. Retourne un point géométrique pour chaque pixel de la bande raster, avec sa valeur et ses coordonnées raster X et Y. Les coordonnées du points sont ceux du coin supérieur gauche du pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a> - Changement : 2.1.1 Changement du comportement de behavior of exclude_nodata_value. Retourne la géométrie polygonale qui délimite chaque pixel de la bande raster, avec la valeur et les coordonnées raster X et Y de chaque pixel.</li><li class="listitem"><a class="link" href="#RT_ST_Polygon" title="ST_Polygon">ST_Polygon</a> - Changement : 2.1.0 Dans les versions précédentes, retournait parfois un polygone, retourne désormais toujours un multipolygon. Retourne une géométrie multipolygonale formée par l'union des pixels dont la valeur est différente de nodata. Si aucune bande bandnum n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a> - Changement : 2.1.0 Jusqu'à la version 2.0.x, cette fonction était appelée ST_Raster2WorldCoordX Retourne la coordonnée X du coin supérieur gauche du raster à column et row. Les numéros de colonne et de ligne commencent à 1.</li><li class="listitem"><a class="link" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a> - Changement : 2.1.0 Jusqu'à la version 2.0.x, cette fonction était appelée ST_Raster2WorldCoordY Retourne la coordonnée Y du coin supérieur gauche du raster à column et row. Les numéros de colonne et de ligne commencent à 1.</li><li class="listitem"><a class="link" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a> - Changement : 2.1.0 Fonctionne avec les rasters sans SRID Rééchantillonne un raster en ajustant juste son échelle (ou la taille des pixels). Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline), Lanczos, Max ou Min. La valeur par défaut est NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_Reskew" title="ST_Reskew">ST_Reskew</a> - Changement : 2.1.0 Fonctionne avec les rasters sans SRID Rééchantillonne un raster en ajustant simplement son obliquité (skew, ou paramètre de rotation). Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor.</li><li class="listitem"><a class="link" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a> - Modifié : 2.1.0 Suite à l'introduction de la prise en charge du type geography, l'utilisation ST_Segmentize('LINESTRING(1 2, 3 4)', 0.5) provoque une erreur de fonction ambiguë. L'entrée doit être correctement typée en tant que geometry ou geography. Utilisez ST_GeomFromText, ST_GeogFromText ou un cast vers le type requis (par exemple, ST_Segmentize('LINESTRING(1 2, 3 4)'::geometry, 0.5) ) Renvoie une geometry/geography modifiée dont aucun segment ne dépasse une distance donnée.</li><li class="listitem"><a class="link" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a> - Changement : 2.1.0 Dans les versions précédentes, les valeurs retournées étaient en radians. Désormais, les valeurs retournées sont par défaut en degrés Retourne la pente (par défaut, en degrés) d'une bande raster d'élévation. Utile pour l'analyse de terrain.</li><li class="listitem"><a class="link" href="#RT_ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a> - Changement : 2.1.0 Fonctionne avec les rasters sans SRID Rééchantillonne un raster en l'accrochant sur une grille. Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_WorldToRasterCoordX" title="ST_WorldToRasterCoordX">ST_WorldToRasterCoordX</a> - Changement : 2.1.0 Dans les versions précédentes, cette fonctionne était appelée ST_World2RasterCoordX Retourne la colonne dans le raster du point géométrique (pt) ou des coordonnées X et Y (xw, yw) exprimés dans le système de référence spatial du raster.</li><li class="listitem"><a class="link" href="#RT_ST_WorldToRasterCoordY" title="ST_WorldToRasterCoordY">ST_WorldToRasterCoordY</a> - Changement : 2.1.0 Dans les versions précédentes, cette fonctionne était appelée ST_World2RasterCoordY Retourne la ligne dans le raster du point géométrique (pt) ou des coordonnées X et Y (xw, yw) exprimés dans le système de référence spatial du raster.</li></ul></div></section><section class="section" id="idm52014"><div class="titlepage"><div><div><h3 class="title">13.12.12. Fonctions PostGIS nouvelles ou améliorées en 2.0</h3></div></div></div><p>Les fonctions indiquées ci-dessous sont des fonctions PostGIS qui ont été ajoutées ou améliorées.</p><p>Fonctions nouvelles dans PostGIS 2.0</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_Raster_Intersect" title="&amp;&amp;">&amp;&amp;</a> - Disponibilité : 2.0.0 Retourne TRUE si la boite englobante de A intersecte la boite englobante de B.</li><li class="listitem"><a class="link" href="#geometry_overlaps_nd" title="&amp;&amp;&amp;">&amp;&amp;&amp;</a> - Disponibilité : 2.0.0 Renvoie TRUE si la boîte de délimitation n-D de A intersecte la boîte de délimitation n-D de B.</li><li class="listitem"><a class="link" href="#geometry_distance_box" title="&lt;#&gt;">&lt;#&gt;</a> - Disponibilité : 2.0.0 -- KNN disponible uniquement pour PostgreSQL 9.1+ Renvoie la distance 2D entre les boîtes de délimitation A et B.</li><li class="listitem"><a class="link" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a> - Disponibilité : 2.0.0 -- Le KNN fournit des voisins les plus proches basés sur les distances entre les centroïdes géométriques au lieu des distances réelles. Résultats exacts pour les points, inexacts pour tous les autres types. Disponible pour PostgreSQL 9.1+ Renvoie la distance en 2D entre A et B.</li><li class="listitem"><a class="link" href="#RT_Raster_Contained" title="@">@</a> - Disponibilité : 2.0.0 ajout de raster @ raster, raster @ geometry Retourne TRUE si la boîte englobante de A est contenue dans celle de B. Utilise des boîtes englobantes en double précision.</li><li class="listitem"><a class="link" href="#RT_Raster_Contained" title="@">@</a> - Disponibilité : 2.0.5 ajout de geometry @ raster  Retourne TRUE si la boîte englobante de A est contenue dans celle de B. Utilise des boîtes englobantes en double précision.</li><li class="listitem"><a class="link" href="#AddEdge" title="AddEdge">AddEdge</a> - Disponibilité : 2.0.0 Ajoute une arête linéaire à la table des arêtes et les points de départ et d'arrivée associés à la table des nœuds de points du schéma topologique spécifié en utilisant la géométrie linéaire spécifiée et renvoie l'identifiant de l'arête nouvelle (ou existante).</li><li class="listitem"><a class="link" href="#AddFace" title="AddFace">AddFace</a> - Disponibilité : 2.0.0 Enregistre une primitive de face dans une topologie et obtient son identifiant.</li><li class="listitem"><a class="link" href="#AddNode" title="AddNode">AddNode</a> - Disponibilité : 2.0.0 Ajoute un nœud ponctuel à la table des nœuds dans le schéma topologique spécifié et renvoie le nodeid du nouveau nœud. Si le point existe déjà en tant que nœud, l'identifiant du nœud existant est renvoyé.</li><li class="listitem"><a class="link" href="#RT_AddOverviewConstraints" title="AddOverviewConstraints">AddOverviewConstraints</a> - Disponibilité : 2.0.0 Marque une colonne raster comme étant un aperçu d'une autre colonne.</li><li class="listitem"><a class="link" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a> - Disponibilité : 2.0.0 Ajoute des contraintes raster à une table pour une colonne spécifique pour contraindre le système de référence spatial, l'échelle, la taille des blocs, l'alignement, le nombre de bandes, le type de pixels, la contrainte d'unicité spatiale. La table doit être chargée avec des données pour que les contraintes puissent être inférées. Retourne true si les contraintes ont été ajoutées, ou émet une notice sinon.</li><li class="listitem"><a class="link" href="#AsGML" title="AsGML">AsGML</a> - Disponibilité : 2.0.0  Renvoie la représentation GML d'une topogeometry.</li><li class="listitem"><a class="link" href="#CopyTopology" title="CopyTopology">CopyTopology</a> - Disponibilité : 2.0.0 Copie une topologie (nœuds, arêtes, faces, couches et TopoGeometries) dans un nouveau schéma</li><li class="listitem"><a class="link" href="#RT_DropOverviewConstraints" title="DropOverviewConstraints">DropOverviewConstraints</a> - Disponibilité : 2.0.0 Supprime les contraintes d'aperçu de la colonne.</li><li class="listitem"><a class="link" href="#RT_DropRasterConstraints" title="DropRasterConstraints">DropRasterConstraints</a> - Disponibilité : 2.0.0 Supprime des contraintes raster PostGIS raster sur une colonne raster d'une table. Utile pour recharger des données ou mettre à jour les données d'une colonne raster.</li><li class="listitem"><a class="link" href="#Drop_Indexes_Generate_Script" title="Drop_Indexes_Generate_Script">Drop_Indexes_Generate_Script</a> - Disponibilité : 2.0.0 Génère un script qui supprime toutes les clés non primaires et les index non uniques sur le schéma tiger et le schéma spécifié par l'utilisateur. Le schéma par défaut est tiger_data si aucun schéma n'est spécifié.</li><li class="listitem"><a class="link" href="#Drop_State_Tables_Generate_Script" title="Drop_State_Tables_Generate_Script">Drop_State_Tables_Generate_Script</a> - Disponibilité : 2.0.0 Génère un script qui supprime toutes les tables du schéma spécifié qui sont préfixées par l'abréviation de l'état. La valeur par défaut du schéma est tiger_data si aucun schéma n'est spécifié.</li><li class="listitem"><a class="link" href="#Geocode_Intersection" title="Geocode_Intersection">Geocode_Intersection</a> - Disponibilité : 2.0.0 Prend 2 rues qui s'intersectent et un état, une ville, un code postal, et produit un ensemble d'emplacements possibles sur la première rue croisée qui est à l'intersection, comprend également un "geomout" comme emplacement du point en NAD 83 long lat, une adresse_normalisée (addy) pour chaque emplacement, et l'évaluation. Plus la note est basse, plus la correspondance est probable. Les résultats sont triés en fonction de la note la plus basse. Il est possible d'indiquer le nombre maximum de résultats, la valeur par défaut étant de 10. Utilise les données Tiger (edges, faces, addr), la correspondance floue de PostgreSQL (soundex, levenshtein).</li><li class="listitem"><a class="link" href="#GetEdgeByPoint" title="GetEdgeByPoint">GetEdgeByPoint</a> - Disponibilité : 2.0.0 Trouve l'identifiant d'une arête qui coupe un point donné.</li><li class="listitem"><a class="link" href="#GetFaceByPoint" title="GetFaceByPoint">GetFaceByPoint</a> - Disponibilité : 2.0.0 Recherche la face intersectant un point donné.</li><li class="listitem"><a class="link" href="#GetNodeByPoint" title="GetNodeByPoint">GetNodeByPoint</a> - Disponibilité : 2.0.0 Recherche l'identifiant d'un nœud à un point donné.</li><li class="listitem"><a class="link" href="#GetNodeEdges" title="GetNodeEdges">GetNodeEdges</a> - Disponibilité : 2.0  Renvoie un ensemble ordonné d'arêtes incidentes au nœud donné.</li><li class="listitem"><a class="link" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a> - Disponibilité : 2.0.0  Renvoie l'ensemble ordonné des identifiants d'arêtes signés rencontrés en évoluant sur un côté d'arête donné.</li><li class="listitem"><a class="link" href="#GetTopoGeomElements" title="GetTopoGeomElements">GetTopoGeomElements</a> - Disponibilité : 2.0.0 Renvoie un ensemble d'objets topoelement contenant les éléments topologiques element_id,element_type de la TopoGeometry donnée (éléments primitifs).</li><li class="listitem"><a class="link" href="#GetTopologySRID" title="GetTopologySRID">GetTopologySRID</a> - Disponibilité : 2.0.0 Renvoie le SRID d'une topologie dans la table topology.topology en fonction du nom de la topologie.</li><li class="listitem"><a class="link" href="#Get_Tract" title="Get_Tract">Get_Tract</a> - Disponibilité : 2.0.0 Renvoie le secteur de recensement ou le champ de la table des secteurs où se trouve la géométrie. Par défaut, le nom court du secteur est renvoyé.</li><li class="listitem"><a class="link" href="#Install_Missing_Indexes" title="Install_Missing_Indexes">Install_Missing_Indexes</a> - Disponibilité : 2.0.0 Recherche toutes les tables dont les colonnes clés sont utilisées dans les jointures du géocodeur et les conditions de filtrage qui n'ont pas d'index utilisés sur ces colonnes et les ajoute.</li><li class="listitem"><a class="link" href="#Loader_Generate_Census_Script" title="Loader_Generate_Census_Script">Loader_Generate_Census_Script</a> - Disponibilité : 2.0.0  Génère un script shell pour la plate-forme spécifiée et les états spécifiés qui téléchargera les tables de données Tiger census state tract, bg et tabblocks, les structurera et les chargera dans le schéma tiger_data. Chaque script d'état est renvoyé sous la forme d'un enregistrement distinct.</li><li class="listitem"><a class="link" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a> - Disponibilité : 2.0.0 pour prendre en charge les données structurées de Tiger 2010 et charger les tableaux de secteurs de recensement (tract), de groupes d'îlots (bg) et d'îlots (tabblocks). Génère un script shell pour la plateforme spécifiée et les états spécifiés qui téléchargera les données Tiger, les structurera et les chargera dans le schéma tiger_data. Chaque script d'état est renvoyé sous la forme d'un enregistrement séparé. La dernière version prend en charge les modifications structurelles de Tiger 2010 et charge également les tableaux de secteurs de recensement, de groupes d'îlots et d'îlots.</li><li class="listitem"><a class="link" href="#Missing_Indexes_Generate_Script" title="Missing_Indexes_Generate_Script">Missing_Indexes_Generate_Script</a> - Disponibilité : 2.0.0 Recherche toutes les tables dont les colonnes clés sont utilisées dans les jointures du géocodeur et qui n'ont pas d'index sur ces colonnes, et génère le DDL SQL permettant de définir l'index pour ces tables.</li><li class="listitem"><a class="link" href="#TopologyPolygonize" title="Polygonize">Polygonize</a> - Disponibilité : 2.0.0 Recherche et enregistre toutes les faces définies par les arêtes de la topologie.</li><li class="listitem"><a class="link" href="#Reverse_Geocode" title="Reverse_Geocode">Reverse_Geocode</a> - Disponibilité : 2.0.0  Prend un point géométrique dans un système spatial connu et renvoie un enregistrement contenant un tableau d'adresses théoriquement possibles et un tableau de rues transversales. Si include_strnum_range = true, la plage de rues est incluse dans les rues transversales.</li><li class="listitem"><a class="link" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a> - Disponibilité : 2.0.0 Renvoie le point 3D sur g1 qui est le plus proche de g2. Il s'agit du premier point de la ligne 3D la plus courte.</li><li class="listitem"><a class="link" href="#ST_3DDFullyWithin" title="ST_3DDFullyWithin">ST_3DDFullyWithin</a> - Disponibilité : 2.0.0 Teste si deux géométries 3D sont entièrement comprises dans une distance 3D donnée</li><li class="listitem"><a class="link" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a> - Disponibilité : 2.0.0 Teste si deux géométries 3D se trouvent à une distance 3D donnée</li><li class="listitem"><a class="link" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a> - Disponibilité : 2.0.0 Renvoie la distance cartésienne minimale en 3D (basée sur la référence spatiale) entre deux géométries en unités projetées.</li><li class="listitem"><a class="link" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a> - Disponibilité : 2.0.0 Teste si deux géométries se croisent dans l'espace en 3D - uniquement pour les points, les lignes, les polygones, les surfaces polyédriques (aire)</li><li class="listitem"><a class="link" href="#ST_3DLongestLine" title="ST_3DLongestLine">ST_3DLongestLine</a> - Disponibilité : 2.0.0 Renvoie la ligne 3D la plus longue entre deux géométries</li><li class="listitem"><a class="link" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a> - Disponibilité : 2.0.0 Renvoie la distance maximale cartésienne 3D (basée sur la référence spatiale) entre deux géométries en unités projetées.</li><li class="listitem"><a class="link" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a> - Disponibilité : 2.0.0 Renvoie la ligne 3D la plus courte entre deux géométries</li><li class="listitem"><a class="link" href="#ST_AddEdgeModFace" title="ST_AddEdgeModFace">ST_AddEdgeModFace</a> - Disponibilité : 2.0  Ajoutez une nouvelle arête et, si elle divise une face, modifiez la face d'origine et ajoutez une nouvelle face.</li><li class="listitem"><a class="link" href="#ST_AddEdgeNewFaces" title="ST_AddEdgeNewFaces">ST_AddEdgeNewFaces</a> - Disponibilité : 2.0  Ajoutez une nouvelle arête et, si elle divise une face, supprimez la face d'origine et remplacez-la par deux nouvelles faces.</li><li class="listitem"><a class="link" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a> - Disponibilité : 2.0.0 - nécessite GDAL &gt;= 1.6.0.  Retourne la tuile raster dans le format GDAL raster spécifié. Les formats raster disponibles sont ceux supportés par votre bibliothèque compilée. Utilisez ST_GDALDrivers() pour obtenir la liste des formats supportés par votre bibliothèque.</li><li class="listitem"><a class="link" href="#RT_ST_AsJPEG" title="ST_AsJPEG">ST_AsJPEG</a> - Disponibilité : 2.0.0 - nécessite GDAL &gt;= 1.6.0.  Retourne les bandes sélectionnées du raster sous la forme d'une image JPEG (sous forme de tableau d'octets). Si aucune bande n'est spécifiée, et que le raster a 1 ou plus de 3 bandes, seule la première bande est utilisée. Si le raster a exactement 3 bandes, les 3 bandes sont utilisées et mappées en RGB.</li><li class="listitem"><a class="link" href="#ST_AsLatLonText" title="ST_AsLatLonText">ST_AsLatLonText</a> - Disponibilité : 2.0 Renvoie la représentation en degrés, minutes et secondes du point donné.</li><li class="listitem"><a class="link" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a> - Disponibilité : 2.0.0 - nécessite GDAL &gt;= 1.6.0.  Retourne les bandes sélectionnées du raster sous la forme d'une image PNG (sous forme de tableau d'octets). Si aucune bande n'est spécifiée et que le raster a 1, 3 ou 4 bandes, toutes les bandes sont utilisées. Si aucune bande n'est spécifiée et que le raster a 2 ou plus de 4 bandes, seule la bande 1 est utilisée. Les bandes sont mappées en RGB ou RGBA.</li><li class="listitem"><a class="link" href="#RT_ST_AsRaster" title="ST_AsRaster">ST_AsRaster</a> - Disponibilité : 2.0.0 - nécessite GDAL &gt;= 1.6.0.  Convertit une géométrie PostGIS en un raster PostGIS.</li><li class="listitem"><a class="link" href="#RT_ST_AsTIFF" title="ST_AsTIFF">ST_AsTIFF</a> - Disponibilité : 2.0.0 - nécessite GDAL &gt;= 1.6.0.  Retourne les bandes sélectionnées du raster sous la forme d'une seule image TIFF (sous forme de tableau d'octets). Si aucune bande n'est spécifiée ou si l'une des bandes spécifiées n'existe pas dans le raster, toutes les bandes sont utilisées.</li><li class="listitem"><a class="link" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a> - Disponibilité : 2.0.0: ISO-IEC-19776-1.2-X3DEncodings-XML Renvoie une géométrie au format X3D xml node element : ISO-IEC-19776-1.2-X3DEncodings-XML</li><li class="listitem"><a class="link" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> - Disponibilité : 2.0.0  Retourne l'exposition (par défaut, en degrés) d'une bande raster d'élévation. Utile pour l'analyse de terrain.</li><li class="listitem"><a class="link" href="#RT_ST_Band" title="ST_Band">ST_Band</a> - Disponibilité : 2.0.0 Retourne une ou plusieurs bandes d'un raster existant en tant que nouveau raster. Utile pour construire de nouveaux rasters à partir de rasters existants.</li><li class="listitem"><a class="link" href="#RT_ST_BandIsNoData" title="ST_BandIsNoData">ST_BandIsNoData</a> - Disponibilité : 2.0.0 Retourne true si la bande ne contient que des valeurs nodata.</li><li class="listitem"><a class="link" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a> - Disponibilité : 2.0.0  Returns the raster clipped by the input geometry. If band number is not specified, all bands are processed. If crop is not specified or TRUE, the output raster is cropped. If touched is set to TRUE, then touched pixels are included, otherwise only if the center of the pixel is in the geometry it is included.</li><li class="listitem"><a class="link" href="#ST_CollectionHomogenize" title="ST_CollectionHomogenize">ST_CollectionHomogenize</a> - Disponibilité : 2.0.0 Renvoie la représentation la plus simple d'une collection de géométries.</li><li class="listitem"><a class="link" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a> - Disponibilité : 2.0.0 Calcule une géométrie éventuellement concave qui contient tous les sommets de la géométrie d'entrée</li><li class="listitem"><a class="link" href="#RT_ST_Count" title="ST_Count">ST_Count</a> - Disponibilité : 2.0.0  Renvoie le nombre de pixels dans une bande donnée d'un raster ou d'une couverture raster. Si aucune bande n'est spécifiée, la valeur par défaut est la bande 1. Si exclude_nodata_value est true, seuls les pixels dont la valeur est différente de la valeur nodata seront comptés.</li><li class="listitem"><a class="link" href="#ST_CreateTopoGeo" title="ST_CreateTopoGeo">ST_CreateTopoGeo</a> - Disponibilité : 2.0  Ajoute une collection de géométries à une topologie vide donnée et renvoie un message détaillant le succès.</li><li class="listitem"><a class="link" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a> - Disponibilité : 2.0.0 Fonction de traitement des données raster qui calcule le nombre de valeurs de pixels uniques dans un voisinage.</li><li class="listitem"><a class="link" href="#ST_FlipCoordinates" title="ST_FlipCoordinates">ST_FlipCoordinates</a> - Disponibilité : 2.0.0 Renvoie une version d'une géométrie dont les axes X et Y sont inversés.</li><li class="listitem"><a class="link" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a> - Disponibilité : 2.0.0 - nécessite GDAL &gt;= 1.6.0.  Retourne la liste des formats raster supportés par PostGIS via GDAL. Seuls les formats avec can_write=True peuvent être utilisés par ST_AsGDALRaster</li><li class="listitem"><a class="link" href="#ST_GeomFromGeoJSON" title="ST_GeomFromGeoJSON">ST_GeomFromGeoJSON</a> - Disponibilité : 2.0.0 nécessite JSON-C &gt;= 0.9 Prend en entrée une géométrie au format geojson et renvoie un objet Postgis de type geometry</li><li class="listitem"><a class="link" href="#ST_GetFaceEdges" title="ST_GetFaceEdges">ST_GetFaceEdges</a> - Disponibilité : 2.0  Renvoie un ensemble d'arêtes ordonnées qui délimitent aface.</li><li class="listitem"><a class="link" href="#RT_ST_HasNoBand" title="ST_HasNoBand">ST_HasNoBand</a> - Disponibilité : 2.0.0 Retourne true si le raster n'a pas la bande spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a> - Disponibilité : 2.0.0  Retourne l'hypothétique éclairage d'une bande raster d'élévation en utilisant les valeurs d'azimut, d'altitude, de luminosité et d'échelle fournies.</li><li class="listitem"><a class="link" href="#RT_ST_Histogram" title="ST_Histogram">ST_Histogram</a> - Disponibilité : 2.0.0  Retourne un ensemble d'enregistrements résumant une distribution de données raster ou de couverture raster, dans des classes distinctes. Le nombre de classes est calculé automatiquement s'il n'est pas spécifié.</li><li class="listitem"><a class="link" href="#ST_InterpolatePoint" title="ST_InterpolatePoint">ST_InterpolatePoint</a> - Disponibilité : 2.0.0 Renvoie la mesure interpolée d'une géométrie la plus proche d'un point.</li><li class="listitem"><a class="link" href="#RT_ST_IsEmpty" title="ST_IsEmpty">ST_IsEmpty</a> - Disponibilité : 2.0.0 Retourne true si le raster est vide (largeur = 0 et hauteur = 0). Sinon, retourne false.</li><li class="listitem"><a class="link" href="#ST_IsValidDetail" title="ST_IsValidDetail">ST_IsValidDetail</a> - Disponibilité : 2.0.0 Renvoie une ligne valid_detail indiquant si une géométrie est valide ou sinon une raison et une localisation.</li><li class="listitem"><a class="link" href="#ST_IsValidReason" title="ST_IsValidReason">ST_IsValidReason</a> - Disponibilité : la version 2.0 prend des flags. Renvoie un texte indiquant si une géométrie est valide, ou la raison de son invalidité.</li><li class="listitem"><a class="link" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a> - Disponibilité : 2.0.0 - La prise en charge des éléments d'entrée LineString a été introduite Crée une LineString à partir de géométries Point, MultiPoint ou LineString.</li><li class="listitem"><a class="link" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> - Disponibilité : 2.0.0 Tente de rendre valide une géométrie invalide sans perdre de sommets.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraExpr" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a> - Disponibilité : 2.0.0  Version avec raster à 1 bande : Crée un nouveau raster à une bande formé par l'application d'une opération algébrique PostgreSQL valide sur la bande d'entrée du raster et du type de pixel fourni. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a> - Disponibilité : 2.0.0  Version avec 2 bandes : Crée un nouveau raster à une bande formé en appliquant une opération algébrique PostgreSQL valide sur les deux bandes du raster d'entrée et du type de pixel fourni. La bande 1 de chaque raster est utilisée si aucun numéro de bande n'est spécifié. Le raster résultant sera aligné (échelle, obliquité et coins) sur la grille définie par le premier raster et aura son étendue définie par le paramètre "extenttype". Les valeurs de "extenttype" peuvent être : INTERSECTION, UNION, FIRST, SECOND.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> - Disponibilité : 2.0.0 Version à 1 bande - Crée un nouveau raster à une bande formé par l'application d'une fonction PostgreSQL valide sur la bande d'entrée du raster et sur le type de pixel fourni. La bande 1 est utilisée si aucune bande n'est spécifiée.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraFct2" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> - Disponibilité : 2.0.0 Version à 2 bandes - Crée un nouveau raster à une bande formé par l'application d'une fonction PostgreSQL valide sur les 2 bandes d'entrée du raster et sur le type de pixel fourni. La bande 1 est utilisée si aucune bande n'est spécifiée. Le type d'étendue INTERSECTION est utilisé si non spécifié.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> - Disponibilité : 2.0.0  Version à 1 bande : Algèbre cartographique Plus proche voisin en utilisant une fonction PostgreSQL définie par l'utilisateur. Retourne un raster dont les valeurs sont le résultat d'une fonction utilisateur PLPGSQL prenant un voisinage des valeurs de la bande raster d'entrée.</li><li class="listitem"><a class="link" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a> - Disponibilité : 2.0.0 Fonction de traitement des données raster qui calcule la valeur maximale d'un pixel dans un voisinage.</li><li class="listitem"><a class="link" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a> - Disponibilité : 2.0.0 Fonction de traitement des données raster qui calcule la valeur moyenne d'un pixel dans un voisinage.</li><li class="listitem"><a class="link" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a> - Disponibilité : 2.0.0 Fonction de traitement des données raster qui calcule la valeur minimale d'un pixel dans un voisinage.</li><li class="listitem"><a class="link" href="#ST_ModEdgeHeal" title="ST_ModEdgeHeal">ST_ModEdgeHeal</a> - Disponibilité : 2.0 Répare deux arêtes en supprimant le nœud qui les relie, en modifiant la première arête et en supprimant la seconde. Renvoie l'identifiant du nœud supprimé.</li><li class="listitem"><a class="link" href="#ST_MoveIsoNode" title="ST_MoveIsoNode">ST_MoveIsoNode</a> - Disponibilité : 2.0.0  Déplace un nœud isolé dans une topologie d'un point à un autre. Si la nouvelle géométrie apoint existe en tant que noeud, une erreur est générée. Retourne la description du déplacement.</li><li class="listitem"><a class="link" href="#ST_NewEdgeHeal" title="ST_NewEdgeHeal">ST_NewEdgeHeal</a> - Disponibilité : 2.0 Répare deux arêtes en supprimant le nœud qui les relie, en supprimant les deux arêtes et en les remplaçant par une arête dont la direction est la même que la première arête fournie.</li><li class="listitem"><a class="link" href="#ST_Node" title="ST_Node">ST_Node</a> - Disponibilité : 2.0.0 Nœuds d'une collection de lignes.</li><li class="listitem"><a class="link" href="#ST_NumPatches" title="ST_NumPatches">ST_NumPatches</a> - Disponibilité : 2.0.0 Renvoie le nombre de faces d'une surface polyédrique. Retourne null pour les géométries non polyédriques.</li><li class="listitem"><a class="link" href="#ST_OffsetCurve" title="ST_OffsetCurve">ST_OffsetCurve</a> - Disponibilité : 2.0 Renvoie une ligne décalée par rapport à une distance et un côté donnés à partir d'une ligne en entrée.</li><li class="listitem"><a class="link" href="#ST_PatchN" title="ST_PatchN">ST_PatchN</a> - Disponibilité : 2.0.0 Renvoie la Nième géométrie (face) d'une PolyhedralSurface.</li><li class="listitem"><a class="link" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a> - Disponibilité 2.0.0 : La prise en charge du type geography a été introduite Renvoie la longueur de la limite d'une géométrie polygonale ou d'une géographie.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a> - Disponibilité : 2.0.0 Retourne la géométrie polygonale qui délimite le pixel pour une ligne et colonne spécifiées.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a> - Disponibilité : 2.0.0 Retourne la géométrie polygonale qui délimite chaque pixel de la bande raster, avec la valeur et les coordonnées raster X et Y de chaque pixel.</li><li class="listitem"><a class="link" href="#ST_Project" title="ST_Project">ST_Project</a> - Disponibilité : 2.0.0 Renvoie un point projeté à partir d'un point de départ en fonction d'une distance et d'un azimut.</li><li class="listitem"><a class="link" href="#RT_ST_Quantile" title="ST_Quantile">ST_Quantile</a> - Disponibilité : 2.0.0  Calcule les quantiles d'un raster ou d'une couverture raster, dans le contexte de l'échantillon ou de la population. Ainsi, une valeur peut être examinée pour se situer au percentile de 25%, 50% ou 75% du raster.</li><li class="listitem"><a class="link" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a> - Disponibilité : 2.0.0 Fonction de traitement des données raster qui calcule la plage de valeurs des pixels dans un voisinage.</li><li class="listitem"><a class="link" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a> - Disponibilité : 2.0.0  Crée un nouveau raster composé de types de bandes reclassifiés par rapport à l'original. La bande n est la bande à modifier. Si nband n'est pas spécifié, la bande 1 est utilisée. Toutes les autres bandes sont retournées inchangées. Cas d'utilisation : convertir une bande 16BUI en 8BUI et ainsi de suite pour un rendu plus simple en tant que formats visualisables.</li><li class="listitem"><a class="link" href="#ST_RelateMatch" title="ST_RelateMatch">ST_RelateMatch</a> - Disponibilité : 2.0.0 Teste si une matrice d'intersection DE-9IM correspond à un modèle de matrice d'intersection</li><li class="listitem"><a class="link" href="#ST_RemEdgeModFace" title="ST_RemEdgeModFace">ST_RemEdgeModFace</a> - Disponibilité : 2.0  Supprime une arête et, si l'arête sépare deux faces, supprime une face et modifie l'autre face pour couvrir l'espace des deux.</li><li class="listitem"><a class="link" href="#ST_RemEdgeNewFace" title="ST_RemEdgeNewFace">ST_RemEdgeNewFace</a> - Disponibilité : 2.0  Enlève une arête et, si l'arête enlevée séparait deux faces, supprime les faces originales et les remplace par une nouvelle face.</li><li class="listitem"><a class="link" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a> - Disponibilité : 2.0.0 Nécessite GDAL 1.6.1+ Rééchantillonne un raster, en utilisant l'algorithme spécifié, les nouvelles dimensions, un coin arbitraire de la grille et un ensemble de paramètres de géo-référencement définis ou empruntés à un autre raster.</li><li class="listitem"><a class="link" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a> - Disponibilité : 2.0.0 Nécessite GDAL 1.6.1+ Rééchantillonne un raster en ajustant juste son échelle (ou la taille des pixels). Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline), Lanczos, Max ou Min. La valeur par défaut est NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_Reskew" title="ST_Reskew">ST_Reskew</a> - Disponibilité : 2.0.0 Nécessite GDAL 1.6.1+ Rééchantillonne un raster en ajustant simplement son obliquité (skew, ou paramètre de rotation). Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a> - Disponibilité : 2.0.0 Retourne true si les rasters ont les mêmes skew, scale, spatial ref, et offset (les pixels peuvent être placés sur la même grille sans être coupés) et false si ce n'est pas le cas, avec une NOTICE détaillant le problème.</li><li class="listitem"><a class="link" href="#RT_ST_SetBandIsNoData" title="ST_SetBandIsNoData">ST_SetBandIsNoData</a> - Disponibilité : 2.0.0 Définit la valeur du flag isnodata de la bande à TRUE.</li><li class="listitem"><a class="link" href="#ST_SharedPaths" title="ST_SharedPaths">ST_SharedPaths</a> - Disponibilité : 2.0.0 Renvoie une collection contenant les chemins partagés par les deux lignes/multilignes en entrée.</li><li class="listitem"><a class="link" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a> - Disponibilité : 2.0.0  Retourne la pente (par défaut, en degrés) d'une bande raster d'élévation. Utile pour l'analyse de terrain.</li><li class="listitem"><a class="link" href="#ST_Snap" title="ST_Snap">ST_Snap</a> - Disponibilité : 2.0.0 Accrocher les segments et les sommets de la géométrie d'entrée aux sommets d'une géométrie de référence.</li><li class="listitem"><a class="link" href="#RT_ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a> - Disponibilité : 2.0.0 Nécessite GDAL 1.6.1+ Rééchantillonne un raster en l'accrochant sur une grille. Les nouvelles valeurs des pixels sont calculées en utilisant l'algorithme de rééchantillonnage NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor.</li><li class="listitem"><a class="link" href="#ST_Split" title="ST_Split">ST_Split</a> - Disponibilité : 2.0.0 nécessite GEOS Renvoie une collection de géométries créées en divisant une géométrie par une autre géométrie.</li><li class="listitem"><a class="link" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> - Disponibilité : 2.0.0 Fonction de traitement des données raster qui calcule l'écart type des valeurs des pixels dans un voisinage.</li><li class="listitem"><a class="link" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a> - Disponibilité : 2.0.0 Fonction de traitement des données raster qui calcule la somme de toutes les valeurs de pixels dans un voisinage.</li><li class="listitem"><a class="link" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a> - Disponibilité : 2.0.0  Retourne des résumés statistiques (count, sum, mean, stddev, min, max) pour une bande raster ou une couverture raster spécifiée. Si aucune bande n'est spécifiée, la bande 1 est utilisée.</li><li class="listitem"><a class="link" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a> - Disponibilité : 2.0.0 Nécessite GDAL 1.6.1+ Reprojette un raster depuis un système de référence spatial vers un autre, en utilisant l'algorithme de rééchantillonnage spécifié. Les algorithmes possibles sont NearestNeighbor (plus proche voisin), Bilinear (Bilinéaire), Cubic (Cubique), CubicSpline (Cubique Spline) ou Lanczos. La valeur par défaut est NearestNeighbor.</li><li class="listitem"><a class="link" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a> - Disponibilité : 2.0.0 Calcule l'union des composantes d'une seule géométrie.</li><li class="listitem"><a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a> - Disponibilité : 2.0.0  Retourne l'union d'un ensemble de tuiles raster, en un seul raster composé de 1 ou plusieurs bandes.</li><li class="listitem"><a class="link" href="#RT_ST_ValueCount" title="ST_ValueCount">ST_ValueCount</a> - Disponibilité : 2.0.0  Retourne un ensemble d'enregistrements contenant une valeur de pixels et le nombre de pixels ayant cette valeur dans la bande du raster spécifié (ou de la couverture raster). Si aucune bande n'est spécifiée, la bande 1 est utilisée. Par défaut, les pixels de valeur nodata ne sont pas comptés, et toutes les autres valeurs sont retournées, avec leur valeur arrondies à l'entier le plus proche.</li><li class="listitem"><a class="link" href="#TopoElementArray_Agg" title="TopoElementArray_Agg">TopoElementArray_Agg</a> - Disponibilité : 2.0.0 Renvoie un topoelementarray pour un ensemble de tableaux de type, element_id (topoelements).</li><li class="listitem"><a class="link" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a> - Disponibilité : 2.0.0 Adds a linestring to an existing topology using a tolerance and possibly splitting existing edges/faces.</li><li class="listitem"><a class="link" href="#TopoGeo_AddPoint" title="TopoGeo_AddPoint">TopoGeo_AddPoint</a> - Disponibilité : 2.0.0 Ajoute un point à une topologie existante en utilisant une tolérance et en divisant éventuellement une arête existante.</li><li class="listitem"><a class="link" href="#TopoGeo_AddPolygon" title="TopoGeo_AddPolygon">TopoGeo_AddPolygon</a> - Disponibilité : 2.0.0 Ajoute un polygone à une topologie existante en utilisant une tolérance et en divisant éventuellement les arêtes/faces existantes. Renvoie les identifiants des faces.</li><li class="listitem"><a class="link" href="#TopologySummary" title="TopologySummary">TopologySummary</a> - Disponibilité : 2.0.0 Prend un nom de topologie et fournit des totaux récapitulatifs des types d'objets dans la topologie.</li><li class="listitem"><a class="link" href="#Topology_Load_Tiger" title="Topology_Load_Tiger">Topology_Load_Tiger</a> - Disponibilité : 2.0.0  Charge une région définie de données tiger dans une topologie PostGIS et transforme les données tiger en référence spatiale de la topologie et en s'adaptant à la tolérance de précision de la topologie.</li><li class="listitem"><a class="link" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a> - Disponibilité : 2.0 Convertit une géométrie simple en une géométrie topographique.</li><li class="listitem"><a class="link" href="#RT_Raster_Contains" title="~">~</a> - Disponibilité : 2.0.0 Retourne TRUE si la boîte englobante de A contient celle de B. Utilise des boîtes englobantes en double précision.</li><li class="listitem"><a class="link" href="#RT_Raster_Same" title="~=">~=</a> - Disponibilité : 2.0.0 Renvoie TRUE si la boîte de délimitation de A est la même que celle de B.</li></ul></div><p>Fonctions améliorées dans PostGIS 2.0</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a> - Amélioration : 2.0.0 introduction du support des surfaces polyédriques. Renvoi VRAI si la boite englobante 2D de A intersecte la boite englobante 2D de B.</li><li class="listitem"><a class="link" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a> - Amélioration : 2.0.0 introduction du paramètre use_typmod. Le comportement par défaut est de créer une colonne géométrique avec modificateur de type au lieu de contraintes sur la colonne. Ajoute une colonne de géométrie à une table existante.</li><li class="listitem"><a class="link" href="#Box2D" title="Box2D">Box2D</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Renvoie une BOX2D représentant l'étendue 2D d'une géométrie.</li><li class="listitem"><a class="link" href="#Box3D" title="Box3D">Box3D</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Renvoie une BOX3D représentant l'étendue 3D d'une géométrie.</li><li class="listitem"><a class="link" href="#CreateTopology" title="CreateTopology">CreateTopology</a> - Amélioration : 2.0 ajout de la signature acceptant hasZ Crée un nouveau schéma topologique et l'enregistre dans la table topology.topology.</li><li class="listitem"><a class="link" href="#Geocode" title="Geocode">Geocode</a> - Amélioration : 2.0.0 pour prendre en charge les données structurées Tiger 2010 et révision de certaines logiques pour améliorer la vitesse et la précision du géocodage, et pour décaler le point de la ligne centrale vers le côté de la rue où se trouve l'adresse. Le nouveau paramètre max_results permet de spécifier le nombre de meilleurs résultats ou de renvoyer uniquement le meilleur résultat. Prend une adresse sous forme de chaîne de caractères (ou autre adresse normalisée) et produit un ensemble de lieux possibles comprenant une géométrie de point en NAD 83 long lat, une adresse normalisée pour chacun d'entre eux et l'évaluation. Plus la note est basse, plus la correspondance est probable. Les résultats sont triés par ordre décroissant. Il est possible d'indiquer en option le nombre maximum de résultats (10 par défaut) et la restriction de la région (NULL par défaut)</li><li class="listitem"><a class="link" href="#GeometryType" title="GeometryType">GeometryType</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Renvoie le type d'une géométrie sous forme de texte.</li><li class="listitem"><a class="link" href="#Populate_Geometry_Columns" title="Populate_Geometry_Columns">Populate_Geometry_Columns</a> - Amélioration : 2.0.0 L'argument optionnel use_typmod a été introduit pour controler si les colonnes sont créés avec des modificateurs de type ou des contraintes de vérification. Assure que les colonnes géométriques sont définies avec des modificateurs de type ou qu'elles sont soumises à des contraintes spatiales appropriées.</li><li class="listitem"><a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Fonction d'agrégation qui renvoie la boîte de délimitation 3D des géométries.</li><li class="listitem"><a class="link" href="#ST_Affine" title="ST_Affine">ST_Affine</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Appliquer une transformation affine 3D à une géométrie.</li><li class="listitem"><a class="link" href="#ST_Area" title="ST_Area">ST_Area</a> - Amélioration : 2.0.0 - la prise en charge des surfaces polyédriques 2D a été introduite. Renvoie l'aire d'une géométrie polygonale.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Renvoie la représentation OGC/ISO Well-Known Binary (WKB) de la géométrie/geography sans les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Amélioration : 2.0.0 le support pour des dimensions de coordonnées plus élevées a été introduit. Renvoie la représentation OGC/ISO Well-Known Binary (WKB) de la géométrie/geography sans les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Amélioration : 2.0.0 le support pour spécifier endian avec geography a été introduit. Renvoie la représentation OGC/ISO Well-Known Binary (WKB) de la géométrie/geography sans les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Renvoie la représentation Extended Well-Known Binary (EWKB) de la géométrie avec les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a> - Amélioration : la version 2.0.0 a introduit la prise en charge de la geography, des surfaces polyédriques, des triangles et des TIN. Renvoie la représentation Well-Known Text (WKT) de la géométrie avec les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Amélioration : la prise en charge du préfixe 2.0.0 a été introduite. L'option 4 pour GML3 a été introduite pour permettre l'utilisation de LineString au lieu de Curve tag pour les lignes. La prise en charge GML3 des surfaces polyédriques et des TINS a été introduite. L'option 32 a été introduite pour produire la boîte. Renvoyer la géométrie en tant qu'élément GML version 2 ou 3.</li><li class="listitem"><a class="link" href="#ST_AsKML" title="ST_AsKML">ST_AsKML</a> - Amélioré : 2.0.0 - Ajout d'un préfixe namespace, utilisation d'arguments par défaut et d'arguments nommés Renvoyer la géométrie sous forme d'élément KML.</li><li class="listitem"><a class="link" href="#ST_Azimuth" title="ST_Azimuth">ST_Azimuth</a> - Amélioration : la prise en charge du type geography a été introduite dans la version 2.0.0. Renvoie l'azimut basé sur le nord d'une ligne entre deux points.</li><li class="listitem"><a class="link" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a> - Amélioration : 2.0.0 introduction du support TIN et surfaces polyédriques. Ne renvoie plus une exception si une GEOMETRY EMPTY est passée. Renvoie la dimension topologique d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Dump" title="ST_Dump">ST_Dump</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Renvoie un ensemble de lignes geometry_dump pour les composants d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Renvoie un ensemble de lignes geometry_dump pour les coordonnées dans une géométrie.</li><li class="listitem"><a class="link" href="#ST_Expand" title="ST_Expand">ST_Expand</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Renvoie une boîte de délimitation développée à partir d'une autre boîte de délimitation ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Extent" title="ST_Extent">ST_Extent</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Fonction agrégée qui renvoie la boîte de délimitation des géométries.</li><li class="listitem"><a class="link" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a> - Amélioration : 2.0.0 introduction du support des surfaces polyédriques. Forcer les géométries à passer en "mode bidimensionnel".</li><li class="listitem"><a class="link" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a> - Amélioration : 2.0.0 introduction du support des surfaces polyédriques. Force les géométries en mode XYZ. Il s'agit d'un alias de ST_Force3DZ.</li><li class="listitem"><a class="link" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a> - Amélioration : 2.0.0 introduction du support des surfaces polyédriques. Forcer les géométries en mode XYZ.</li><li class="listitem"><a class="link" href="#ST_Force_Collection" title="ST_ForceCollection">ST_ForceCollection</a> - Amélioration : 2.0.0 introduction du support des surfaces polyédriques. Convertir la géométrie en une GEOMETRYCOLLECTION.</li><li class="listitem"><a class="link" href="#ST_ForceRHR" title="ST_ForceRHR">ST_ForceRHR</a> - Amélioration : 2.0.0 introduction du support des surfaces polyédriques. Force l'orientation des sommets d'un polygone à suivre la règle de la main droite.</li><li class="listitem"><a class="link" href="#ST_GMLToSQL" title="ST_GMLToSQL">ST_GMLToSQL</a> - Amélioration : 2.0.0 introduction du support TIN et surfaces polyédriques. Retourne un objet de type ST_Geometry à partir de sa représentation GML. Alias pour ST_GeomFromGML</li><li class="listitem"><a class="link" href="#ST_GMLToSQL" title="ST_GMLToSQL">ST_GMLToSQL</a> - Amélioration : 2.0.0 paramètre optionnel de srid par défaut ajouté. Retourne un objet de type ST_Geometry à partir de sa représentation GML. Alias pour ST_GeomFromGML</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a> - Amélioration : 2.0.0 introduction du support TIN et surfaces polyédriques. Retourne un objet ST_Geometry à partir de sa représentation binaire étendue (Extended Well-Known Binary representation, EWKB).</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a> - Amélioration : 2.0.0 introduction du support TIN et surfaces polyédriques. Retourne un objet ST_Geometry à partir de sa représentation textuelle étendue (Extended Well-Known Text representation, EWKT).</li><li class="listitem"><a class="link" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a> - Amélioration : 2.0.0 introduction du support TIN et surfaces polyédriques. Prend en paramètre une représentation GML d'une géométrie et renvoie un objet PostGIS de type geometry</li><li class="listitem"><a class="link" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a> - Amélioration : 2.0.0 paramètre optionnel de srid par défaut ajouté. Prend en paramètre une représentation GML d'une géométrie et renvoie un objet PostGIS de type geometry</li><li class="listitem"><a class="link" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Renvoie un élément d'une collection de géométries.</li><li class="listitem"><a class="link" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a> - Amélioration : 2.0.0 introduction du support des surfaces polyédriques. Renvoie le type SQL-MM d'une géométrie sous forme de texte.</li><li class="listitem"><a class="link" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a> - Amélioration : 2.0.0 introduction du support des surfaces polyédriques. Teste si les points de départ et d'arrivée d'une LineString coïncident. Pour une PolyhedralSurface, teste si elle est fermée (volumétrique).</li><li class="listitem"><a class="link" href="#ST_MakeEnvelope" title="ST_MakeEnvelope">ST_MakeEnvelope</a> - Amélioré : 2.0 : La possibilité de spécifier une enveloppe sans spécifier un SRID a été introduite. Crée un polygone rectangulaire à partir des coordonnées minimales et maximales.</li><li class="listitem"><a class="link" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> - Amélioré : 2.0.1, améliorations de la vitesse Tente de rendre valide une géométrie invalide sans perdre de sommets.</li><li class="listitem"><a class="link" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a> - Amélioration : 2.0.0 introduction du support des surfaces polyédriques. Retourne le nombre de points (vertex) d'un objet géométrique.</li><li class="listitem"><a class="link" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Renvoie le nombre d'éléments dans une collection de géométrie.</li><li class="listitem"><a class="link" href="#ST_Relate" title="ST_Relate">ST_Relate</a> - Amélioration : 2.0.0 - ajout de la prise en charge de la spécification de boundary node rule. Teste si deux géométries ont une relation topologique correspondant à un modèle de matrice d'intersection, ou calcule leur matrice d'intersection</li><li class="listitem"><a class="link" href="#ST_Rotate" title="ST_Rotate">ST_Rotate</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Fait pivoter une géométrie autour d'un point d'origine.</li><li class="listitem"><a class="link" href="#ST_Rotate" title="ST_Rotate">ST_Rotate</a> - Amélioration : 2.0.0 des paramètres supplémentaires ont été ajoutés pour spécifier l'origine de la rotation. Fait pivoter une géométrie autour d'un point d'origine.</li><li class="listitem"><a class="link" href="#ST_RotateX" title="ST_RotateX">ST_RotateX</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Fait pivoter une géométrie autour de l'axe X.</li><li class="listitem"><a class="link" href="#ST_RotateY" title="ST_RotateY">ST_RotateY</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Fait pivoter une géométrie autour de l'axe Y.</li><li class="listitem"><a class="link" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Fait pivoter une géométrie autour de l'axe Z.</li><li class="listitem"><a class="link" href="#ST_Scale" title="ST_Scale">ST_Scale</a> - Amélioration : 2.0.0 introduction du support TIN, Triangles et surfaces polyédriques. Met à l'échelle une géométrie en fonction de facteurs donnés.</li><li class="listitem"><a class="link" href="#ST_ShiftLongitude" title="ST_ShiftLongitude">ST_ShiftLongitude</a> - Amélioration : 2.0.0 introduction du support TIN et surfaces polyédriques. Décale les coordonnées de longitude d'une géométrie entre -180..180 et 0..360.</li><li class="listitem"><a class="link" href="#ST_Summary" title="ST_Summary">ST_Summary</a> - Amélioré : la version 2.0.0 a ajouté la prise en charge du type geography Renvoie un résumé textuel du contenu d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Transform" title="ST_Transform">ST_Transform</a> - Amélioration : 2.0.0 introduction du support des surfaces polyédriques. Renvoie une nouvelle géométrie dont les coordonnées ont été transformées dans un système de référence spatial différent.</li><li class="listitem"><a class="link" href="#RT_ST_Value" title="ST_Value">ST_Value</a> - Amélioration : 2.0.0 ajout du paramètre optionnel exclude_nodata_value. Retourne la valeur d'une bande raster spécifiée au pixel donné par columnx, rowy, ou à un point géométrique spécifié. Le numéro de bande démarre à 1, et la bande 1 est utilisée si non spécifié. Si exclude_nodata_value vaut false, tous les pixels y compris ceux ayant la valeur nodata sont considérés comme intersectés et leur valeur sera retournée. Si exclude_nodata_value n'est pas spécifié, la valeur est lue depuis les méta-données du raster.</li><li class="listitem"><a class="link" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a> - Amélioration : 2.0.0 détection plus efficace des croisements d'arêtes et correction des faux positifs qui existaient dans les versions précédentes. Renvoie un ensemble d'objets validatetopology_returntype détaillant les problèmes liés à la topologie.</li></ul></div><p>Fonctions modifiées dans PostGIS 2.0</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a> - Changement : 2.0.0 Cette fonction ne met plus à jour geometry_columns maintenant que geometry_columns est une vue basée sur le catalogue système. Par défaut, elle ne créée plus de contraintes mais utilise le modificateur de type de PostgreSQL. Ainsi, par exemple, créer une colonne de type POINT WGS84 est désormais équivalent à : ALTER TABLE some_table ADD COLUMN geom geometry(Point,4326) ;  Ajoute une colonne de géométrie à une table existante.</li><li class="listitem"><a class="link" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a> - Changement : 2.0.0 Si l'ancien mécanisme basé sur les contraintes est nécessaire, utiliser le paramètre use_typmod avec la valeur false. Ajoute une colonne de géométrie à une table existante.</li><li class="listitem"><a class="link" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a> - Changement : 2.0.0 Les vues ne peuvent plus être enregistrées dans geometry_columns. Cependant, les vues construites à partir de tables contenant des géométries définies avec le modificateur de type et n'utilisant pas de fonctions d'encapsulation seront enregistrées dans la vue geometry_columns car elles héritent du mécanisme des tables dont elles sont issues. Les vues utilisant des fonctions renvoyant d'autres géométries doivent être transtypées vers des géométries avec modificateur de type pour pouvoir être correctement référencées dans la vue geometry_columns. Cf. .  Ajoute une colonne de géométrie à une table existante.</li><li class="listitem"><a class="link" href="#RT_Box3D" title="Box3D">Box3D</a> - Changement : 2.0.0 Dans les versions antérieures à la version 2.0, utilisait le type box2d au lieu de box3d. Comme box2d est un type obsolète, il a été remplacé par box3d. Retourne la représentation 3d de la boîte englobante du raster.</li><li class="listitem"><a class="link" href="#DropGeometryColumn" title="DropGeometryColumn">DropGeometryColumn</a> - Changement : 2.0.0 Fonction assurant la rétro compatibilité. Maintenant que geometry_columns est une vue basée sur les catalogues du système, la colonne géométrique peut être supprimée d'une table comme tout autre colonne en utilisant ALTER TABLE Supprime une colonne géométrique d'une table spatiale.</li><li class="listitem"><a class="link" href="#DropGeometryTable" title="DropGeometryTable">DropGeometryTable</a> - Changement : 2.0.0 Function assurant la rétro compatibilité. Maintenant que geometry_columns est une vue basée sur les catalogues du système, une table spatiale peut etre supprimée comme tout autre table en utilisant ALTER TABLE Supprime une table et toutes ces références dans geometry_columns.</li><li class="listitem"><a class="link" href="#Populate_Geometry_Columns" title="Populate_Geometry_Columns">Populate_Geometry_Columns</a> - Changement : 2.0.0 Par défaut, utilise les modificateurs de type au lieu de contraintes de vérification pour contraindre les types géométriques. Le comportement basé sur les contraintes peut être activé en mettant le nouveau paramètre use_typmod à false. Assure que les colonnes géométriques sont définies avec des modificateurs de type ou qu'elles sont soumises à des contraintes spatiales appropriées.</li><li class="listitem"><a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a> - Modifié : 2.0.0 Dans les versions précédentes, cette fonction était appelée ST_Extent3D Fonction d'agrégation qui renvoie la boîte de délimitation 3D des géométries.</li><li class="listitem"><a class="link" href="#ST_3DLength" title="ST_3DLength">ST_3DLength</a> - Modifié : 2.0.0 Dans les versions précédentes, cette fonction était appelée ST_Length3D Renvoie la longueur 3D d'une géométrie linéaire.</li><li class="listitem"><a class="link" href="#ST_3DMakeBox" title="ST_3DMakeBox">ST_3DMakeBox</a> - Modifié : 2.0.0 Dans les versions précédentes, cette fonction s'appelait ST_MakeBox3D Crée un BOX3D défini par deux géométries de points 3D.</li><li class="listitem"><a class="link" href="#ST_3DPerimeter" title="ST_3DPerimeter">ST_3DPerimeter</a> - Modifié : 2.0.0 Dans les versions antérieures, il s'appelait ST_Perimeter3D Renvoie le périmètre 3D d'une géométrie polygonale.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Modifié : 2.0.0 Les entrées de cette fonction ne peuvent pas être inconnues, elles doivent être des géométries. Des constructions telles que ST_AsBinary('POINT(1 2)') ne sont plus valides et vous obtiendrez une erreur de type n st_asbinary(unknown) is not unique. Un code comme celui-là doit être changé en ST_AsBinary('POINT(1 2)'::geometry);. Si cela n'est pas possible, alors installez legacy.sql. Renvoie la représentation OGC/ISO Well-Known Binary (WKB) de la géométrie/geography sans les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Modifié : 2.0.0 utiliser les args nommés par défaut Renvoyer la géométrie en tant qu'élément GML version 2 ou 3.</li><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Modifié : 2.0.0 supporte les args par défaut et les args nommés. Renvoyer une géométrie ou un élément au format GeoJSON.</li><li class="listitem"><a class="link" href="#ST_AsSVG" title="ST_AsSVG">ST_AsSVG</a> - Modifié : 2.0.0 pour utiliser les args par défaut et supporter les args nommés Renvoie les données de chemin SVG pour une géométrie.</li><li class="listitem"><a class="link" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a> - Modifié : 2.0.0 ne fonctionne plus avec les MultiLineStrings à géométrie unique. Dans les anciennes versions de PostGIS, une MultiLineString à géométrie unique fonctionnait avec cette fonction et renvoyait le point final. Dans la version 2.0.0, elle renvoie NULL comme toute autre MultiLineString. L'ancien comportement était une fonctionnalité non documentée, mais les personnes qui supposaient que leurs données étaient stockées en tant que LINESTRING peuvent voir ces dernières retourner NULL dans la version 2.0.0. Renvoie le dernier point d'une LineString ou CircularLineString.</li><li class="listitem"><a class="link" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a> - Changement : 2.0.6, 2.1.3 - aucun driver n'est activé par défaut, sauf si la variable GUC ou d'environnement gdal_enabled_drivers est définie. Retourne la liste des formats raster supportés par PostGIS via GDAL. Seuls les formats avec can_write=True peuvent être utilisés par ST_AsGDALRaster</li><li class="listitem"><a class="link" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a> - Changement : 2.0.0 dans les version précédentes de PostGIS ST_GeomFromText('GEOMETRYCOLLECTION(EMPTY)') etait autorisé. C'est désormais interdit dans PostGIS 2.0.0 pour respecter la norme SQL/MM. La forme privilégiée désormais est : ST_GeomFromText('GEOMETRYCOLLECTION EMPTY') Retourne un objet ST_Geometry à partir de sa représentation textuelle Well-Known Text (WKT).</li><li class="listitem"><a class="link" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a> - Changement : 2.0.0. Les versions antérieures renvoient NULL pour les géometries simples (un seul objet). Renvoie désormais la géométrie pour le cas ST_GeometryN(..,1). Renvoie un élément d'une collection de géométries.</li><li class="listitem"><a class="link" href="#ST_IsEmpty" title="ST_IsEmpty">ST_IsEmpty</a> - Modifié : 2.0.0 Dans les versions précédentes de PostGIS, ST_GeomFromText('GEOMETRYCOLLECTION(EMPTY)') était autorisé. Ceci est maintenant illégal dans PostGIS 2.0.0 pour mieux se conformer aux normes SQL/MM Teste si une géométrie est vide.</li><li class="listitem"><a class="link" href="#ST_Length" title="ST_Length">ST_Length</a> - Modifié : 2.0.0 Rupture -- dans les versions précédentes, appliquer ceci à un MULTI/POLYGONE de type geography donnait le périmètre du POLYGONE/MULTIPOLYGONE. Dans la version 2.0.0, cette fonction a été modifiée pour retourner 0 afin d'être en ligne avec le comportement de la géométrie. Veuillez utiliser ST_Perimeter si vous souhaitez obtenir le périmètre d'un polygone Renvoie la longueur 2D d'une géométrie linéaire.</li><li class="listitem"><a class="link" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a> - Modifié : 2.0.0 dans les versions précédentes, cette fonction était appelée ST_Locate_Along_Measure. Renvoie le(s) point(s) d'une géométrie qui correspond(ent) à une valeur de mesure.</li><li class="listitem"><a class="link" href="#ST_LocateBetween" title="ST_LocateBetween">ST_LocateBetween</a> - Modifié : 2.0.0 - dans les versions précédentes, cette fonction s'appelait ST_Locate_Between_Measures. Renvoie les parties d'une géométrie qui correspondent à un intervalle de mesure.</li><li class="listitem"><a class="link" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a> - Modifié : 2.0 - Dans les versions antérieures, cette fonction était mal nommée ST_ModEdgesSplit Fractionner une arête en créant un nouveau nœud le long d'une arête existante, en modifiant l'arête d'origine et en ajoutant une nouvelle arête.</li><li class="listitem"><a class="link" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> - Modifié : 2.0.0 Dans les versions précédentes, cette fonction renvoyait NULL si la géométrie n'était pas de type collection/MULTI. 2.0.0+ renvoie maintenant 1 pour les géométries simples, par exemple POLYGONE, LINESTRING, POINT. Renvoie le nombre d'éléments dans une collection de géométrie.</li><li class="listitem"><a class="link" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a> - Modifié : 2.0.0 - dans les versions antérieures, il permettait de passer un MULTIPOLYGONE, renvoyant le nombre d'anneaux intérieurs du premier POLYGONE. Renvoie le nombre d'anneaux intérieurs (trous) d'un polygone.</li><li class="listitem"><a class="link" href="#ST_PointN" title="ST_PointN">ST_PointN</a> - Modifié : la version 2.0.0 ne fonctionne plus avec les multi-lignes à géométrie unique. Dans les anciennes versions de PostGIS, une multi-ligne d'une seule ligne fonctionnait parfaitement avec cette fonction et renvoyait le point de départ. Dans la version 2.0.0, elle renvoie simplement NULL comme n'importe quelle autre multi-ligne. Renvoie le Nième point de la première LineString ou LineString circulaire d'une géométrie.</li><li class="listitem"><a class="link" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a> - Changement : 2.0.0. Dans les versions WKTRaster, cette fonction était appelée ST_PixelSizeX. Renvoie la composante X de la largeur du pixel dans l'unité du système de référence spatial.</li><li class="listitem"><a class="link" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a> - Changement : 2.0.0. Dans les versions WKTRaster, cette fonction était appelée ST_PixelSizeY. Renvoie la composante Y de la hauteur du pixel dans l'unité du système de référence spatial.</li><li class="listitem"><a class="link" href="#RT_ST_SetScale" title="ST_SetScale">ST_SetScale</a> - Changement : 2.0.0 Dans les versions WKTRaster, cette fonction était appelée ST_SetPixelSize. Définit la résolution des pixels en X et Y en unité du système de référence spatial : nombre d'unités/pixel en largeur/hauteur.</li><li class="listitem"><a class="link" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a> - Modifié : 2.0.0 ne fonctionne plus avec les MultiLineStrings à géométrie unique. Dans les anciennes versions de PostGIS, une MultiLineString à géométrie unique fonctionnait sans problème avec cette fonction et renvoyait le point de départ. Dans la version 2.0.0, elle renvoie simplement NULL comme toute autre MultiLineString. L'ancien comportement était une fonctionnalité non documentée, mais les personnes qui supposaient que leurs données étaient stockées en tant que LINESTRING peuvent voir ces données retourner NULL dans la version 2.0.0. Renvoie le premier point d'une LineString.</li></ul></div></section><section class="section" id="idm52644"><div class="titlepage"><div><div><h3 class="title">13.12.13. Fonctions PostGIS nouvelles ou améliorées en 1.5</h3></div></div></div><p>Les fonctions indiquées ci-dessous sont des fonctions PostGIS qui ont été ajoutées ou améliorées.</p><p>Fonctions nouvelles dans PostGIS 1.5</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a> - Disponibilité : 1.5.0 le support de la géographie a été introduit. Renvoi VRAI si la boite englobante 2D de A intersecte la boite englobante 2D de B.</li><li class="listitem"><a class="link" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a> - Disponibilité : 1.5 Renvoie le numéro de version de la librairie libxml2.</li><li class="listitem"><a class="link" href="#ST_AddMeasure" title="ST_AddMeasure">ST_AddMeasure</a> - Disponibilité : 1.5.0 Interpole les mesures le long d'une géométrie linéaire.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Disponibilité : 1.5.0 Le support de la géographie a été introduit. Renvoie la représentation OGC/ISO Well-Known Binary (WKB) de la géométrie/geography sans les métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Disponibilité : 1.5.0 Le support de la géographie a été introduit. Renvoyer la géométrie en tant qu'élément GML version 2 ou 3.</li><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Disponibilité : 1.5.0 Le support de la géographie a été introduit. Renvoyer une géométrie ou un élément au format GeoJSON.</li><li class="listitem"><a class="link" href="#ST_AsText" title="ST_AsText">ST_AsText</a> - Disponibilité : 1.5 - le support de la geography a été introduit. Renvoie la représentation Well-Known Text (WKT) de la géométrie/geography sans métadonnées SRID.</li><li class="listitem"><a class="link" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a> - Disponibilité : 1.5 - ST_Buffer a été amélioré pour prendre en charge différents types de terminaisons et de jointures. Ceux-ci sont utiles, par exemple, pour convertir les lignes de route en routes polygonales avec des bords plats ou carrés au lieu de bords arrondis. Un petit wrapper pour la geography a été ajouté.  Calcule une géométrie couvrant tous les points situés à une distance donnée d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_ClosestPoint" title="ST_ClosestPoint">ST_ClosestPoint</a> - Disponibilité : 1.5.0 Renvoie le point 2D sur g1 qui est le plus proche de g2. Il s'agit du premier point de la ligne la plus courte d'une géométrie à l'autre.</li><li class="listitem"><a class="link" href="#ST_CollectionExtract" title="ST_CollectionExtract">ST_CollectionExtract</a> - Disponibilité : 1.5.0 Pour une collection de géométries spécifiée, renvoie une multi-géométrie contenant uniquement des éléments d'un type spécifié.</li><li class="listitem"><a class="link" href="#ST_Covers" title="ST_Covers">ST_Covers</a> - Disponibilité : 1.5 - le support de la geography a été introduit.  Tests si chaque point de B est situé dans A</li><li class="listitem"><a class="link" href="#ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a> - Disponibilité : 1.5.0 Teste si une géométrie se trouve entièrement à une distance d'une autre géométrie</li><li class="listitem"><a class="link" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a> - Disponibilité : la prise en charge du type geography a été introduite dans la version 1.5.0 Teste si deux géométries se trouvent à une distance donnée</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Disponibilité : 1.5.0 La prise en charge du type geography a été introduite dans la version 1.5. Amélioration de la vitesse pour les géométries planaires afin de mieux gérer les géométries de grande taille ou à nombreux sommets Renvoie la distance entre deux valeurs de geometry ou geography.</li><li class="listitem"><a class="link" href="#ST_DistanceSphere" title="ST_DistanceSphere">ST_DistanceSphere</a> - Disponibilité : 1.5 - la prise en charge d'autres types de géométrie que les points a été introduite. Les versions précédentes ne fonctionnaient qu'avec des points. Renvoie la distance minimale en mètres entre deux géométries lon/lat en utilisant un modèle de terre sphérique.</li><li class="listitem"><a class="link" href="#ST_Distance_Spheroid" title="ST_DistanceSpheroid">ST_DistanceSpheroid</a> - Disponibilité : 1.5 - la prise en charge d'autres types de géométrie que les points a été introduite. Les versions précédentes ne fonctionnaient qu'avec des points. Renvoie la distance minimale entre deux géométries lon/lat en utilisant un modèle de terre sphéroïdale.</li><li class="listitem"><a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a> - Disponibilité : 1.5.0 Renvoie un ensemble de lignes geometry_dump pour les coordonnées dans une géométrie.</li><li class="listitem"><a class="link" href="#ST_Envelope" title="ST_Envelope">ST_Envelope</a> - Disponibilité : 1.5.0 changement pour renvoyer un type double précision à la place de float4 Renvoie une géométrie représentant la boîte de délimitation d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_Expand" title="ST_Expand">ST_Expand</a> - Disponibilité : 1.5.0 comportement modifié pour afficher les coordonnées en double précision au lieu des coordonnées float4. Renvoie une boîte de délimitation développée à partir d'une autre boîte de délimitation ou d'une géométrie.</li><li class="listitem"><a class="link" href="#ST_GMLToSQL" title="ST_GMLToSQL">ST_GMLToSQL</a> - Disponibilité : 1.5, nécessite libxml2 1.6+ Retourne un objet de type ST_Geometry à partir de sa représentation GML. Alias pour ST_GeomFromGML</li><li class="listitem"><a class="link" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a> - Disponibilité : 1.5, nécessite libxml2 1.6+ Prend en paramètre une représentation GML d'une géométrie et renvoie un objet PostGIS de type geometry</li><li class="listitem"><a class="link" href="#ST_GeomFromKML" title="ST_GeomFromKML">ST_GeomFromKML</a> - Disponibilité : 1.5, nécessite libxml2 2.6+ Prend en entrée une géométrie au format KML et renvoie un objet Postgis de type geometry</li><li class="listitem"><a class="link" href="#ST_HausdorffDistance" title="ST_HausdorffDistance">ST_HausdorffDistance</a> - Disponibilité : 1.5.0 Renvoie la distance de Hausdorff entre deux géométries.</li><li class="listitem"><a class="link" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Disponibilité : La version 1.5 a introduit la prise en charge du type de données geography. Calcule une géométrie représentant la partie partagée des géométries A et B.</li><li class="listitem"><a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Disponibilité : la version 1.5 a introduit la prise en charge du type geography. Teste si deux géométries se croisent (elles ont au moins un point en commun)</li><li class="listitem"><a class="link" href="#ST_Length" title="ST_Length">ST_Length</a> - Disponibilité : 1.5.0 La prise en charge du type geography a été introduite dans la version 1.5. Renvoie la longueur 2D d'une géométrie linéaire.</li><li class="listitem"><a class="link" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a> - Disponibilité : 1.5.0 Renvoie la ligne 2D la plus longue entre deux géométries.</li><li class="listitem"><a class="link" href="#ST_MakeEnvelope" title="ST_MakeEnvelope">ST_MakeEnvelope</a> - Disponibilité : 1.5 Crée un polygone rectangulaire à partir des coordonnées minimales et maximales.</li><li class="listitem"><a class="link" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a> - Disponibilité : 1.5.0 Renvoie la plus grande distance 2D entre deux géométries en unités projetées.</li><li class="listitem"><a class="link" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a> - Disponibilité : 1.5.0 Renvoie la ligne 2D la plus courte entre deux géométries</li><li class="listitem"><a class="link" href="#ST_Geometry_Same" title="~=">~=</a> - Disponibilité : 1.5.0 comportement changé Renvoie TRUE si la boîte de délimitation de A est la même que celle de B.</li></ul></div></section><section class="section" id="idm52742"><div class="titlepage"><div><div><h3 class="title">13.12.14. Fonctions PostGIS nouvelles ou améliorées en 1.4</h3></div></div></div><p>Les fonctions indiquées ci-dessous sont des fonctions PostGIS qui ont été ajoutées ou améliorées.</p><p>Fonctions nouvelles dans PostGIS 1.4</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#Populate_Geometry_Columns" title="Populate_Geometry_Columns">Populate_Geometry_Columns</a> - Disponibilité : 1.4.0 Assure que les colonnes géométriques sont définies avec des modificateurs de type ou qu'elles sont soumises à des contraintes spatiales appropriées.</li><li class="listitem"><a class="link" href="#ST_Collect" title="ST_Collect">ST_Collect</a> - Disponibilité : 1.4.0 - ST_Collect(geomarray) a été introduit. ST_Collect a été amélioré pour gérer plus de géométries plus rapidement. Crée une géométrie GeometryCollection ou Multi à partir d'un ensemble de géométries.</li><li class="listitem"><a class="link" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a> - Disponibilité : 1.4.0 Tests si chaque point de B se trouve à l'intérieur de A</li><li class="listitem"><a class="link" href="#ST_GeoHash" title="ST_GeoHash">ST_GeoHash</a> - Disponibilité : 1.4.0 Retourne une représentation GeoHash de la géométrie.</li><li class="listitem"><a class="link" href="#ST_IsValidReason" title="ST_IsValidReason">ST_IsValidReason</a> - Disponibilité : 1.4 Renvoie un texte indiquant si une géométrie est valide, ou la raison de son invalidité.</li><li class="listitem"><a class="link" href="#ST_LineCrossingDirection" title="ST_LineCrossingDirection">ST_LineCrossingDirection</a> - Disponibilité : 1.4 Renvoie un nombre indiquant le comportement de croisement de deux LineStrings</li><li class="listitem"><a class="link" href="#ST_LocateBetweenElevations" title="ST_LocateBetweenElevations">ST_LocateBetweenElevations</a> - Disponibilité : 1.4.0 Renvoie les parties d'une géométrie qui se trouvent dans un intervalle d'élévation (Z).</li><li class="listitem"><a class="link" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a> - Disponibilité : 1.4.0 - création de ST_MakeLine(geomarray). L'agrégat spatial ST_MakeLine amélioré pour supporter plus de points plus rapidement. Crée une LineString à partir de géométries Point, MultiPoint ou LineString.</li><li class="listitem"><a class="link" href="#ST_MinimumBoundingCircle" title="ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a> - Disponibilité : 1.4.0 Retourne le plus petit cercle polygonal qui contient une géométrie.</li><li class="listitem"><a class="link" href="#ST_Union" title="ST_Union">ST_Union</a> - Disponibilité : 1.4.0 - ST_Union a été amélioré. ST_Union(geomarray) a été introduit ainsi qu'une collecte d'agrégats plus rapide dans PostgreSQL. Calcule une géométrie représentant l'union des ensembles de points des géométries d'entrée.</li></ul></div></section><section class="section" id="idm52777"><div class="titlepage"><div><div><h3 class="title">13.12.15. Fonctions PostGIS nouvelles ou améliorées en 1.3</h3></div></div></div><p>Les fonctions indiquées ci-dessous sont des fonctions PostGIS qui ont été ajoutées ou améliorées.</p><p>Fonctions nouvelles dans PostGIS 1.3</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Disponibilité : 1.3.2 Renvoyer la géométrie en tant qu'élément GML version 2 ou 3.</li><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Disponibilité : 1.3.4 Renvoyer une géométrie ou un élément au format GeoJSON.</li><li class="listitem"><a class="link" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a> - Disponibilité : 1.3.0 Convertit une géométrie contenant des courbes en une géométrie linéaire.</li><li class="listitem"><a class="link" href="#ST_LineToCurve" title="ST_LineToCurve">ST_LineToCurve</a> - Disponibilité : 1.3.0 Convertit une géométrie linéaire en une géométrie courbe.</li><li class="listitem"><a class="link" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a> - Disponibilité : 1.3.3 Renvoie une représentation simplifiée et valide d'une géométrie, en utilisant l'algorithme de Douglas-Peucker.</li></ul></div></section></section></section><section class="chapter" id="idm52797"><div class="titlepage"><div><div><h1 class="title">Chapter 14. Rapporter un problème</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#idm52799">14.1. Rapporter un problème logiciel</a></span></li><li><span class="section"><a href="#idm52810">14.2. Signaler les problèmes de documentation</a></span></li></ul></div><section class="section" id="idm52799"><div class="titlepage"><div><div><h2 class="title" style="clear: both">14.1. Rapporter un problème logiciel</h2></div></div></div><p>Rapporter un problème est effectivement fondamental afin d'aider le développement de PostGIS. Un rapport de bug efficace permet à l'équipe des développeurs de PostGIS de reproduire le problème. Le rapport est donc pertinent s'il contient le script qui le déclenche et toutes les informations à propos de l'environnement dans lequel il a été détecté. De bonnes informations peuvent être obtenus par l’exécution de <code class="code">SELECT postgis_full_version()</code> [pour postgis] et <code class="code">SELECT version()</code> [pour postgresql].</p><p>Si vous n'utilisez pas la dernière version, il vaut la peine de jeter un coup d'œil à son <a class="link" href="https://git.osgeo.org/gitea/postgis/postgis/raw/branch/master/NEWS" target="_top">journal des changements de la version</a> d'abord, pour savoir si votre bug a déjà été corrigé.</p><p>L'utilisation du <a class="link" href="http://trac.osgeo.org/postgis/" target="_top">PostGIS bug tracker</a> permettra de s'assurer que vos rapports ne sont pas rejetés et vous tiendra informé du processus de traitement. Avant de signaler un nouveau bug, veuillez interroger la base de données pour voir s'il s'agit d'un bug connu, et si c'est le cas, veuillez ajouter toute nouvelle information que vous possédez à son sujet.</p><p>Vous pouvez lire l'article de Simon Tatham sur <a class="link" href="http://www.chiark.greenend.org.uk/~sgtatham/bugs.html" target="_top">Comment signaler efficacement les bugs</a> avant de déposer un nouveau rapport.</p></section><section class="section" id="idm52810"><div class="titlepage"><div><div><h2 class="title" style="clear: both">14.2. Signaler les problèmes de documentation</h2></div></div></div><p>La documentation doit refléter fidèlement les caractéristiques et le comportement du logiciel. Si ce n'est pas le cas, cela peut être dû à un bug du logiciel ou à une erreur ou une lacune dans la documentation.</p><p>Les problèmes de documentation peuvent également être signalés au <a class="link" href="http://trac.osgeo.org/postgis" target="_top">PostGIS bug tracker</a>.</p><p>Si votre révision est triviale, décrivez-la simplement dans une nouvelle question du bug tracker, en précisant son emplacement dans la documentation.</p><p>Si vos modifications sont plus importantes, il est préférable d'utiliser un correctif. Il s'agit d'un processus en quatre étapes sous Unix (en supposant que vous ayez déjà installé <a class="link" href="https://git-scm.com/" target="_top">git</a>) :</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Clonez le dépôt git de PostGIS. Sous Unix, tapez :</p><p><span class="command"><strong>git clone https://git.osgeo.org/gitea/postgis/postgis.git</strong></span></p><p>Cela sera stocké dans le répertoire postgis</p></li><li class="listitem"><p>Faites vos changements sur la documentation avec votre éditeur de texte favori. Sur Unix, tapez (pour exemple) :</p><p><span class="command"><strong>vim doc/postgis.xml</strong></span></p><p>Remarquez que la documentation est écrite avec DocBook XML au lieu de HTML, donc si vous ne vous sentez pas familier avec cela, vous devriez suivre les exemples dans la suite de la documentation.</p></li><li class="listitem"><p>Faites un correctif contenant les différences avec une copie de la documentation principale. Sur Unix, tapez :</p><p><span class="command"><strong>git diff doc/postgis.xml &gt; doc.patch</strong></span></p></li><li class="listitem"><p>Ajoutez le correctif à un nouveau ticket dans le système de suivi de bogues.</p></li></ol></div></section></section><section class="appendix" id="release_notes"><div class="titlepage"><div><div><h1 class="title">Appendix A. Annexes</h1></div><div><h3 class="subtitle"><em>Notes de version</em></h3></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#idm52838">A.1. PostGIS 3.5.2</a></span></li><li><span class="section"><a href="#idm52850">A.2. PostGIS 3.5.1</a></span></li><li><span class="section"><a href="#idm52891">A.3. PostGIS 3.5.0</a></span></li></ul></div><section class="section" id="idm52838"><div class="titlepage"><div><div><h2 class="title" style="clear: both">A.1. PostGIS 3.5.2</h2></div></div></div><p>2025/01/18</p><p>This version requires PostgreSQL 12-17, GEOS 3.8 or higher, and Proj 6.1+. To take advantage of all features, GEOS 3.12+ is needed. To take advantage of all SFCGAL features, SFCGAL 1.5.0+ is needed.</p><section class="simplesect" id="idm52842"><div class="titlepage"><div><div><h3 class="title">Bug Fixes</h3></div></div></div><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5677" target="_top">#5677</a>, Retain SRID during unary union (Paul Ramsey)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5833" target="_top">#5833</a>, pg_upgrade fix for postgis_sfcgal (Regina Obe)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5564" target="_top">#5564</a>, BRIN crash fix and support for parallel in PG17+ (Paul Ramsey, Regina Obe)</p></section></section><section class="section" id="idm52850"><div class="titlepage"><div><div><h2 class="title" style="clear: both">A.2. PostGIS 3.5.1</h2></div></div></div><p>2024/12/22</p><p>This version requires PostgreSQL 12-17, GEOS 3.8 or higher, and Proj 6.1+. To take advantage of all features, GEOS 3.12+ is needed. To take advantage of all SFCGAL features, SFCGAL 1.5.0+ is needed.</p><section class="simplesect" id="idm52854"><div class="titlepage"><div><div><h3 class="title">Changements avec rupture</h3></div></div></div><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5677" target="_top">#5677</a>, Retain SRID during unary union (Paul Ramsey)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5792" target="_top">#5792</a>, [topology] Prevent topology corruption with TopoGeo_addPoint near almost collinear edges (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5795" target="_top">#5795</a>, [topology] Fix ST_NewEdgesSplit can cause invalid topology (Björn Harrtell)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5794" target="_top">#5794</a>, [topology] Fix crash in TopoGeo_addPoint (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5785" target="_top">#5785</a>, [raster] ST_MapAlgebra segfaults when expression references a supernumerary rast argument (Dian M Fay)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5787" target="_top">#5787</a>, Check that ST_ChangeEdgeGeom doesn't change winding of rings (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5791" target="_top">#5791</a>, Add legacy stubs for old transaction functions to allow pg_upgrade (Regina Obe)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5800" target="_top">#5800</a>, PROJ compiled version reading the wrong minor and micro (Regina Obe)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5790" target="_top">#5790</a>, Non-schema qualified calls causing issue with materialized views (Regina Obe)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5812" target="_top">#5812</a>, Performance regression in ST_Within (Paul Ramsey)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5815" target="_top">#5815</a>, Remove hash/merge promise from &lt;&gt; operator (Paul Ramsey)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5823" target="_top">#5823</a>, Build support for Pg18 (Paul Ramsey)</p></section><section class="simplesect" id="idm52880"><div class="titlepage"><div><div><h3 class="title">Améliorations</h3></div></div></div><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5782" target="_top">#5782</a>, Improve robustness of min distance calculation (Sandro Santilli)</p><p>[topology] Speedup topology building when closing large rings with many holes (Björn Harrtell)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5810" target="_top">#5810</a>, Update tiger geocoder to handle TIGER 2024 data (Regina Obe)</p></section><section class="simplesect" id="idm52887"><div class="titlepage"><div><div><h3 class="title">Changements avec rupture</h3></div></div></div><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5799" target="_top">#5799</a>, make ST_TileEnvelope clip envelopes to tile plane extent (Paul Ramsey)</p></section></section><section class="section" id="idm52891"><div class="titlepage"><div><div><h2 class="title" style="clear: both">A.3. PostGIS 3.5.0</h2></div></div></div><p>2024/09/25</p><p>This version requires PostgreSQL 12-17, GEOS 3.8 or higher, and Proj 6.1+. To take advantage of all features, GEOS 3.12+ is needed. To take advantage of all SFCGAL features, SFCGAL 1.5.0+ is needed.</p><p>Un grand merci à nos équipes de traduction, en particulier :</p><p>Dapeng Wang, Zuo Chenwei from HighGo (Chinese Team)</p><p>Teramoto Ikuhiro (Japanese Team)</p><p>Vincent Bre (French Team)</p><section class="simplesect" id="idm52899"><div class="titlepage"><div><div><h3 class="title">Changements avec rupture</h3></div></div></div><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5546" target="_top">#5546</a>, TopoGeometry &lt;&gt; TopoGeometry is now ambiguous, to get the old behaviour, assuming your TopoGeometry objects are named tg1 and tg2, use: ( id(tg1) &lt;&gt; id(tg2) OR topology_id(tg1) &lt;&gt; topology_id(tg2) OR layer_id(tg1) &lt;&gt; layer_id(tg2) OR type(tg1) &lt;&gt; type(tg2) ) (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5536" target="_top">#5536</a>, comments are not anymore included in PostGIS extensions (Sandro Santilli)</p><p>xmllint is now required to build comments (Sandro Santilli)</p><p>DocBook5 XSL is now required to build html (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5602" target="_top">#5602</a>, Drop support for GEOS 3.6 and 3.7 (Regina Obe)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5571" target="_top">#5571</a>, Improve ST_GeneratePoints performance, but old seeded pseudo random points will need to be regenerated.</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5596" target="_top">#5596</a>, GH-749, Allow promoting column as an id in ST_AsGeoJson(record,..). Views and materialized views that use the ST_AsGeoJSON(record ..) will need rebuilding to upgrade to new signature (Jan Tojnar)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5496" target="_top">#5496</a>, ST_Clip all variants replaced, will require rebuilding of materialized views that use them (funding from The National Institute for Agricultural and Food Research and Technology (INIA-CSIC)), Regina Obe</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5659" target="_top">#5659</a>, ST_DFullyWithin behaviour has changed to be ST_Contains(ST_Buffer(A, R), B) (Paul Ramsey)</p><p>Remove the WFS_locks extra package. (Paul Ramsey)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5747" target="_top">5747</a>, <a class="link" href="https://github.com/postgis/postgis/pull/776" target="_top">GH-776</a>, ST_Length: Return 0 for CurvePolygon (Dan Baston)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5770" target="_top">5770</a>, support for GEOS 3.13 and RelateNG. Most functionality remains the same, but new GEOS predicate implementation has a few small changes.</p><p>Boundary Node Rule relate matrices might be different when using the "multi-valent end point" rule.</p><p>Relate matrices for situations with invalid MultiPolygons with shared boundaries might be different. Run ST_MakeValid to get valid inputs to feed to the calculation.</p><p>Zero length LineStrings are treated as if they are the equivalent Point object.</p></section><section class="simplesect" id="idm52926"><div class="titlepage"><div><div><h3 class="title">Deprecated signatures</h3></div></div></div><p><a class="link" href="https://github.com/postgis/postgis/pull/761" target="_top">GH-761</a>, ST_StraightSkeleton =
&gt; CG_StraightSkeleton (Loïc Bartoletti)</p><p><a class="link" href="https://git.osgeo.org/gitea/postgis/postgis/pulls/189" target="_top">GH-189</a>, All SFCGAL functions now use the prefix CG_, with the old ones using ST_ being deprecated. (Loïc Bartoletti)</p></section><section class="simplesect" id="idm52932"><div class="titlepage"><div><div><h3 class="title">Nouvelles fonctionnalités</h3></div></div></div><p>Improvements in the 'postgis' script: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>new command list-enabled</p></li><li class="listitem"><p>new command list-all</p></li><li class="listitem"><p>command upgrade upgrades all databases that need to be</p></li><li class="listitem"><p>command status reports status of all databases</p></li></ul></div><p> (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5742" target="_top">#5742</a>, expose version of PROJ at compile time (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5721" target="_top">#5721</a>, postgis_topology: Allow sharing sequences between different topologies (Lars Opsahl)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5667" target="_top">#5667</a>, postgis_topology: TopoGeo_LoadGeometry (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5055" target="_top">#5055</a>, add explicit &lt;&gt; geometry operator to prevent non-unique error with &lt;&gt; and != (Paul Ramsey)</p><p>Add ST_HasZ/ST_HasM (Loïc Bartoletti)</p><p><a class="link" href="https://git.osgeo.org/gitea/postgis/postgis/pulls/123" target="_top">GT-123</a>, postgis_sfcgal: CG_YMonotonePartition, CG_ApproxConvexPartition, CG_GreeneApproxConvexPartition and CG_OptimalConvexPartition (Loïc Bartoletti)</p><p><a class="link" href="https://git.osgeo.org/gitea/postgis/postgis/pulls/156" target="_top">GT-156</a>, postgis_sfcgal: CG_Visibility (Loïc Bartoletti)</p><p><a class="link" href="https://git.osgeo.org/gitea/postgis/postgis/pulls/157" target="_top">GT-157</a>, postgis_sfcgal: Add ST_ExtrudeStraightSkeleton (Loïc Bartoletti)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5496" target="_top">#5496</a>, postgis_raster: ST_Clip support for touched (Regina Obe)</p><p><a class="link" href="https://github.com/postgis/postgis/pull/760" target="_top">GH-760</a>, postgis_sfcgal: CG_Intersection, CG_3DIntersects, CG_Intersects, CG_Difference, CG_Union (and aggregate), CG_Triangulate, CG_Area, CG_3DDistance, CG_Distance (Loïc Bartoletti)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5687" target="_top">#5687</a>, Don't rely on search_path to determine postgis schema Fix for PG17 security change (Regina Obe)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5705" target="_top">#5705</a>, <a class="link" href="https://github.com/postgis/postgis/pull/767" target="_top">GH-767</a>, ST_RemoveIrrelevantPointsForView (Sam Peters)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5706" target="_top">#5706</a>, <a class="link" href="https://github.com/postgis/postgis/pull/768" target="_top">GH-768</a>, ST_RemoveSmallParts (Sam Peters)</p></section><section class="simplesect" id="idm52971"><div class="titlepage"><div><div><h3 class="title">Améliorations</h3></div></div></div><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5550" target="_top">5550</a>, Fix upgrades from 2.x in sandboxed systems (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/3587" target="_top">#3587</a>, postgis_topology: faster load of big lines in topologies (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5670" target="_top">#5670</a>, postgis_topology: faster ST_CreateTopoGeo (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5531" target="_top">#5531</a>, documentation format upgraded to DocBook 5 (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5543" target="_top">#5543</a>, allow building without documentation (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5596" target="_top">#5596</a>, <a class="link" href="https://github.com/postgis/postgis/pull/749" target="_top">GH-749</a>, Allow promoting column as an id in ST_AsGeoJson(record,..). (Jan Tojnar)</p><p><a class="link" href="https://github.com/postgis/postgis/pull/744" target="_top">GH-744</a>, Don't create docbook.css for the HTML manual, use style.css instead (Chris Mayo)</p><p>Faster implementation of point-in-poly cached index (Paul Ramsey)</p><p>Improve performance of ST_GeneratePoints (Paul Ramsey)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5361" target="_top">#5361</a>, ST_CurveN, ST_NumCurves and consistency in accessors on curved geometry (Paul Ramsey)</p><p><a class="link" href="https://github.com/postgis/postgis/pull/761" target="_top">GH-761</a>, postgis_sfcgal: Add an optional parameter to CG_StraightSkeleton (was ST_StraightSkeleton) to use m as a distance in result (Hannes Janetzek, Loïc Bartoletti)</p></section></section></section></div></body></html>
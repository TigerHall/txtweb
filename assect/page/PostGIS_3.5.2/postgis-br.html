<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>PostGIS 3.5.2 Manual</title><link rel="stylesheet" type="text/css" href="style.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.79.2"/><meta name="description" content="PostGIS é uma extensão para o sistema de banco de dados objeto-relacional PostgreSQL que permite que objetos SIG (Sistema de Informação Geográfica) sejam armazenados em banco de dados. O PostGIS inclui suporte a índices espaciais baseado em GiST R-Tree, e funções para analise e processamento de objetos SIG.  Este é o manual para a versão 3.5.2 This work is licensed under a Creative Commons Attribution-Share Alike 3.0 License. Feel free to use this material any way you like, but we ask that you attribute credit to the PostGIS Project and wherever possible, a link back to https://postgis.net."/></head><body><div class="book" id="idm1"><div class="titlepage"><div><div><h1 class="title">PostGIS 3.5.2 Manual</h1></div><div><div class="author"><h3 class="author"><span class="orgname">The PostGIS Development Group</span></h3></div></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>PostGIS é uma extensão para o sistema de banco de dados objeto-relacional <a class="link" href="https://www.postgresql.org/" target="_top">PostgreSQL</a> que permite que objetos SIG (Sistema de Informação Geográfica) sejam armazenados em banco de dados. O PostGIS inclui suporte a índices espaciais baseado em GiST R-Tree, e funções para analise e processamento de objetos SIG.</p><p><span class="inlinemediaobject"><img src="images/PostGIS_logo.png"/></span>
            <span class="inlinemediaobject"><img src="images/osgeo_logo.png"/></span>
      </p><p>Este é o manual para a versão 3.5.2</p><p><span class="inlinemediaobject"><img src="images/ccbysa.png"/></span> This work is licensed under a <a class="link" href="http://creativecommons.org/licenses/by-sa/3.0/" target="_top">Creative Commons Attribution-Share Alike 3.0 License</a>. Feel free to use this material any way you like, but we ask that you attribute credit to the PostGIS Project and wherever possible, a link back to <a class="link" href="https://postgis.net" target="_top">https://postgis.net</a>.</p></div></div></div><hr/></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="chapter"><a href="#postgis_introduction">1. Introdução</a></span><ul><li><span class="section"><a href="#psc">1.1. Comitê Diretor do Projeto</a></span></li><li><span class="section"><a href="#credits_core_present">1.2. Contribuidores Núclero Atuais</a></span></li><li><span class="section"><a href="#credits_core_past">1.3. Contribuidores Núclero Passado</a></span></li><li><span class="section"><a href="#credits_other_contributors">1.4. Outros Contribuidores</a></span></li></ul></li><li><span class="chapter"><a href="#postgis_installation">2. Instalação do PostGIS</a></span><ul><li><span class="section"><a href="#install_short_version">2.1. Versão Reduzida</a></span></li><li><span class="section"><a href="#PGInstall">2.2. Compilando e instalando da fonte: detalhado</a></span></li><li><span class="section"><a href="#installing_pagc_address_standardizer">2.3. Instalando e usando o padronizador de endereço</a></span></li><li><span class="section"><a href="#loading_extras_tiger_geocoder">2.4. Installing, Upgrading Tiger Geocoder, and loading data</a></span></li><li><span class="section"><a href="#idm989">2.5. Problemas comuns durante a instalação</a></span></li></ul></li><li><span class="chapter"><a href="#postgis_administration">3. PostGIS Administration</a></span><ul><li><span class="section"><a href="#database_tuning_configuration">3.1. Performance Tuning</a></span></li><li><span class="section"><a href="#raster_configuration">3.2. Configuring raster support</a></span></li><li><span class="section"><a href="#create_spatial_db">3.3. Creating spatial databases</a></span></li><li><span class="section"><a href="#upgrading">3.4. Upgrading spatial databases</a></span></li></ul></li><li><span class="chapter"><a href="#using_postgis_dbmanagement">4. Data Management</a></span><ul><li><span class="section"><a href="#RefObject">4.1. Carregando dados GIS (Vector)</a></span></li><li><span class="section"><a href="#PostGIS_Geometry">4.2. Geometry Data Type</a></span></li><li><span class="section"><a href="#PostGIS_Geography">4.3. Tipo de geografia POstGIS</a></span></li><li><span class="section"><a href="#OGC_Validity">4.4. Geometry Validation</a></span></li><li><span class="section"><a href="#spatial_ref_sys">4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems</a></span></li><li><span class="section"><a href="#idm2035">4.6. Criando uma Tabela Espacial </a></span></li><li><span class="section"><a href="#loading-data">4.7. Carregando dados GIS (Vector)</a></span></li><li><span class="section"><a href="#extracting-data">4.8. Criando uma Tabela Espacial </a></span></li><li><span class="section"><a href="#build-indexes">4.9. Construindo índidces</a></span></li></ul></li><li><span class="chapter"><a href="#using_postgis_query">5. Spatial Queries</a></span><ul><li><span class="section"><a href="#eval_spatial_rel">5.1. Determining Spatial Relationships</a></span></li><li><span class="section"><a href="#using-query-indexes">5.2. Using Spatial Indexes</a></span></li><li><span class="section"><a href="#examples_spatial_sql">5.3. Examples of Spatial SQL</a></span></li></ul></li><li><span class="chapter"><a href="#performance_tips">6. Dicas de desempenho</a></span><ul><li><span class="section"><a href="#small_tables_large_objects">6.1. Pequenas tabelas de grandes geometrias</a></span></li><li><span class="section"><a href="#database_clustering">6.2. CLUSTERizando índices geométricos</a></span></li><li><span class="section"><a href="#avoiding_dimension_conversion">6.3. Evitando conversão de dimensões</a></span></li></ul></li><li><span class="chapter"><a href="#reference">7. Referência do PostGIS</a></span><ul><li><span class="section"><a href="#PostGIS_Types">7.1. PostgreSQL PostGIS Geometry/Geography/Box Types</a></span></li><li><span class="section"><a href="#Management_Functions">7.2. Funções de Gestão</a></span></li><li><span class="section"><a href="#Geometry_Constructors">7.3. Construtores de geometria</a></span></li><li><span class="section"><a href="#Geometry_Accessors">7.4. Acessors de Geometria</a></span></li><li><span class="section"><a href="#Geometry_Editors">7.5. Editores de geometria</a></span></li><li><span class="section"><a href="#Geometry_Validation">7.6. Geometry Validation</a></span></li><li><span class="section"><a href="#SRS_Functions">7.7. Spatial Reference System Functions</a></span></li><li><span class="section"><a href="#Geometry_Inputs">7.8. Geometry Input</a></span></li><li><span class="section"><a href="#Geometry_Outputs">7.9. Geometry Output</a></span></li><li><span class="section"><a href="#Operators">7.10. Operadores</a></span></li><li><span class="section"><a href="#Spatial_Relationships">7.11. Spatial Relationships</a></span></li><li><span class="section"><a href="#Measurement_Functions">7.12. Measurement Functions</a></span></li><li><span class="section"><a href="#Overlay_Functions">7.13. Overlay Functions</a></span></li><li><span class="section"><a href="#Geometry_Processing">7.14. Processamento de Geometria</a></span></li><li><span class="section"><a href="#Coverage">7.15. Coverages</a></span></li><li><span class="section"><a href="#Affine_Transformation">7.16. Affine Transformations</a></span></li><li><span class="section"><a href="#Clustering_Functions">7.17. Clustering Functions</a></span></li><li><span class="section"><a href="#BBox_Functions">7.18. Bounding Box Functions</a></span></li><li><span class="section"><a href="#Linear_Referencing">7.19. Referência linear </a></span></li><li><span class="section"><a href="#Temporal">7.20. Trajectory Functions</a></span></li><li><span class="section"><a href="#Version_Functions">7.21. Version Functions</a></span></li><li><span class="section"><a href="#PostGIS_GUC">7.22. Grandes Variáveis Unificadas Personalizadas do PostGIS (GUCs)</a></span></li><li><span class="section"><a href="#Troubleshooting_Functions">7.23. Troubleshooting Functions</a></span></li></ul></li><li><span class="chapter"><a href="#reference_sfcgal">8. SFCGAL Functions Reference</a></span><ul><li><span class="section"><a href="#sfcgal_management">8.1. SFCGAL Management Functions</a></span></li><li><span class="section"><a href="#sfcgal_accessors">8.2. SFCGAL Accessors and Setters</a></span></li><li><span class="section"><a href="#sfcgal_processing">8.3. SFCGAL Processing and Relationship Functions</a></span></li></ul></li><li><span class="chapter"><a href="#Topology">9. Topologia</a></span><ul><li><span class="section"><a href="#Topology_Types">9.1. Tipos de topologia</a></span></li><li><span class="section"><a href="#Topology_Domains">9.2. Domínios de Topologia</a></span></li><li><span class="section"><a href="#Topology_ManagementFunctions">9.3. Gerenciamento de Topologia e TopoGeometria</a></span></li><li><span class="section"><a href="#Topology_StatsManagement">9.4. Topology Statistics Management</a></span></li><li><span class="section"><a href="#Topology_Constructors">9.5. Construtores de topologia</a></span></li><li><span class="section"><a href="#Topology_Editing">9.6. Editores de Topologia</a></span></li><li><span class="section"><a href="#Topology_Accessors">9.7. Assessores de Topologia</a></span></li><li><span class="section"><a href="#Topology_Processing">9.8. Processamento de Topologia</a></span></li><li><span class="section"><a href="#TopoGeometry_Constructors">9.9. Construtores de TopoGeometria</a></span></li><li><span class="section"><a href="#TopoGeometry_Editors">9.10. Editores de TopoGeometria</a></span></li><li><span class="section"><a href="#TopoGeom_Accessors">9.11. Assessores de TopoGeometria</a></span></li><li><span class="section"><a href="#TopoGeometry_Outputs">9.12. TopoGeometry Outputs</a></span></li><li><span class="section"><a href="#Topology_Relationships">9.13. Relações de Topologia Espacial</a></span></li><li><span class="section"><a href="#Topology_Import_Export">9.14. Importing and exporting Topologies</a></span></li></ul></li><li><span class="chapter"><a href="#using_raster_dataman">10. Gerência de dados raster, pesquisas e aplicações </a></span><ul><li><span class="section"><a href="#RT_Loading_Rasters">10.1. Carregando e criando dados matriciais</a></span></li><li><span class="section"><a href="#RT_Raster_Catalog">10.2. Catálogos Raster</a></span></li><li><span class="section"><a href="#RT_Raster_Applications">10.3. Construindo Aplicações Personalizadas com o PostGIS Raster</a></span></li></ul></li><li><span class="chapter"><a href="#RT_reference">11. Referência Raster</a></span><ul><li><span class="section"><a href="#Raster_Types">11.1. Tipos de suporte de dados raster</a></span></li><li><span class="section"><a href="#Raster_Management_Functions">11.2. Gerenciamento Raster</a></span></li><li><span class="section"><a href="#Raster_Constructors">11.3. Construtores Raster</a></span></li><li><span class="section"><a href="#Raster_Accessors">11.4. Assessores Raster</a></span></li><li><span class="section"><a href="#RasterBand_Accessors">11.5. Assessores de banda raster</a></span></li><li><span class="section"><a href="#Raster_Pixel_Accessors">11.6. Assessores e Setters de Pixel Raster</a></span></li><li><span class="section"><a href="#Raster_Editors">11.7. Editores Raster</a></span></li><li><span class="section"><a href="#RasterBand_Editors">11.8. Editores de Banda Raster</a></span></li><li><span class="section"><a href="#RasterBand_Stats">11.9. Análises e Estatísticas de Banda Raster</a></span></li><li><span class="section"><a href="#Raster_Inputs">11.10. Raster Inputs</a></span></li><li><span class="section"><a href="#Raster_Outputs">11.11. Raster Outputs</a></span></li><li><span class="section"><a href="#Raster_Processing_MapAlgebra">11.12. Processamento Raster</a></span></li><li><span class="section"><a href="#Raster_Processing_MapAlgebra_Callbacks">11.13. Funções retorno de mapa algébrico embutido</a></span></li><li><span class="section"><a href="#Raster_Processing_DEM">11.14. Processamento Raster</a></span></li><li><span class="section"><a href="#Raster_Processing_Geometry">11.15. Raster para Geometria </a></span></li><li><span class="section"><a href="#RT_Operators">11.16. Operadores Raster</a></span></li><li><span class="section"><a href="#Raster_Relationships">11.17. Relações raster e raster de banda espacial </a></span></li><li><span class="section"><a href="#Raster_Tips">11.18. Raster Tips</a></span></li></ul></li><li><span class="chapter"><a href="#Extras">12. PostGIS Extras</a></span><ul><li><span class="section"><a href="#Address_Standardizer">12.1. Padronizador de endereço</a></span></li><li><span class="section"><a href="#Tiger_Geocoder">12.2. Tiger Geocoder</a></span></li></ul></li><li><span class="chapter"><a href="#PostGIS_Special_Functions_Index">13. PostGIS Special Functions Index</a></span><ul><li><span class="section"><a href="#PostGIS_Aggregate_Functions">13.1. PostGIS Aggregate Functions</a></span></li><li><span class="section"><a href="#PostGIS_Window_Functions">13.2. PostGIS Window Functions</a></span></li><li><span class="section"><a href="#PostGIS_SQLMM_Functions">13.3. PostGIS SQL-MM Compliant Functions</a></span></li><li><span class="section"><a href="#PostGIS_GeographyFunctions">13.4. PostGIS Geography Support Functions</a></span></li><li><span class="section"><a href="#PostGIS_RasterFunctions">13.5. PostGIS Raster Support Functions</a></span></li><li><span class="section"><a href="#PostGIS_Geometry_DumpFunctions">13.6. PostGIS Geometry / Geography / Raster Dump Functions</a></span></li><li><span class="section"><a href="#PostGIS_BoxFunctions">13.7. PostGIS Box Functions</a></span></li><li><span class="section"><a href="#PostGIS_3D_Functions">13.8. PostGIS Functions that support 3D</a></span></li><li><span class="section"><a href="#PostGIS_Curved_GeometryFunctions">13.9. PostGIS Curved Geometry Support Functions</a></span></li><li><span class="section"><a href="#PostGIS_PS_GeometryFunctions">13.10. PostGIS Polyhedral Surface Support Functions</a></span></li><li><span class="section"><a href="#PostGIS_TypeFunctionMatrix">13.11. PostGIS Function Support Matrix</a></span></li><li><span class="section"><a href="#NewFunctions">13.12. New, Enhanced or changed PostGIS Functions</a></span></li></ul></li><li><span class="chapter"><a href="#idm52746">14. Reporting Problems</a></span><ul><li><span class="section"><a href="#idm52748">14.1. Reporting Software Bugs</a></span></li><li><span class="section"><a href="#idm52759">14.2. Reporting Documentation Issues</a></span></li></ul></li><li><span class="appendix"><a href="#release_notes">A. Apêndice</a></span><ul><li><span class="section"><a href="#idm52787">A.1. PostGIS 3.5.2</a></span></li><li><span class="section"><a href="#idm52799">A.2. PostGIS 3.5.1</a></span></li><li><span class="section"><a href="#idm52840">A.3. PostGIS 3.5.0</a></span></li></ul></li></ul></div><section class="chapter" id="postgis_introduction"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Introdução</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#psc">1.1. Comitê Diretor do Projeto</a></span></li><li><span class="section"><a href="#credits_core_present">1.2. Contribuidores Núclero Atuais</a></span></li><li><span class="section"><a href="#credits_core_past">1.3. Contribuidores Núclero Passado</a></span></li><li><span class="section"><a href="#credits_other_contributors">1.4. Outros Contribuidores</a></span></li></ul></div><p>PostGIS is a spatial extension for the PostgreSQL relational database that was created by Refractions Research Inc, as a spatial database technology research project. Refractions is a GIS and database consulting company in Victoria, British Columbia, Canada, specializing in data integration and custom software development.</p><p>PostGIS is now a project of the OSGeo Foundation and is developed and funded by many FOSS4G developers and organizations all over the world that gain great benefit from its functionality and versatility.</p><p>The PostGIS project development group plans on supporting and enhancing PostGIS to better support a range of important GIS functionality in the areas of OGC and SQL/MM spatial standards, advanced topological constructs (coverages, surfaces, networks), data source for desktop user interface tools for viewing and editing GIS data, and web-based access tools.</p><section class="section" id="psc"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1.1. Comitê Diretor do Projeto</h2></div></div></div><p>O Comitê Diretor do Projeto PostGIS (PSC - Project Steering Comitee, em inglês) é responsável pela direção geral, ciclos de lançamento, documentação e os esforços para o projeto. Além disso, o comitê dá suporte ao usuário comum, aceita e aprova novas melhorias da comunidade e vota em questões diversas envolvendo o PostGIS, como por exemplo, uma permissão de commit direta, novos membros do comitê e mudanças significativas da API (Application Programming Interface). </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Raúl Marín Rodríguez</span></dt><dd><p>MVT support, Bug fixing, Performance and stability improvements, GitHub curation, alignment of PostGIS with PostgreSQL releases</p></dd><dt><span class="term">Regina Obe</span></dt><dd><p>CI and website maintenance, Windows production and experimental builds, documentation, alignment of PostGIS with PostgreSQL releases, X3D support, TIGER geocoder support, management functions.</p></dd><dt><span class="term">Darafei Praliaskouski</span></dt><dd><p>Index improvements, bug fixing and geometry/geography function improvements, SFCGAL, raster, GitHub curation, and ci maintenance.</p></dd><dt><span class="term">Paul Ramsey (Presidente)</span></dt><dd><p>Co-founder of PostGIS project. General bug fixing, geography support, geography and geometry index support (2D, 3D, nD index and anything spatial index), underlying geometry internal structures, GEOS functionality integration and alignment with GEOS releases, alignment of PostGIS with PostgreSQL releases, loader/dumper, and Shapefile GUI loader.</p></dd><dt><span class="term">Sandro Santilli</span></dt><dd><p>Bug fixes and maintenance, ci maintenance, git mirror management, management functions, integration of new GEOS functionality and alignment with GEOS releases, topology support, and raster framework and low level API functions.</p></dd></dl></div></section><section class="section" id="credits_core_present"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1.2. Contribuidores Núclero Atuais</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Nicklas Avén</span></dt><dd><p>Melhorias em funções de distância (incluindo suporte a distância 3D e funções de relacionamento), Tiny WKB (TWKB) (em desenvolvimento) e suporte ao usuário geral.</p></dd><dt><span class="term">Loïc Bartoletti</span></dt><dd><p>SFCGAL enhancements and maintenance and ci support</p></dd><dt><span class="term">Dan Baston</span></dt><dd><p>Geometry clustering function additions, other geometry algorithm enhancements, GEOS enhancements and general user support</p></dd><dt><span class="term">Martin Davis</span></dt><dd><p>GEOS enhancements and documentation</p></dd><dt><span class="term">Björn Harrtell</span></dt><dd><p>MapBox Vector Tile, GeoBuf, and Flatgeobuf functions. Gitea testing and GitLab experimentation.</p></dd><dt><span class="term">Aliaksandr Kalenik</span></dt><dd><p>Geometry Processing, PostgreSQL gist, general bug fixing</p></dd></dl></div></section><section class="section" id="credits_core_past"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1.3. Contribuidores Núclero Passado</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Bborie Park</span></dt><dd><p>Prior PSC Member. Raster development, integration with GDAL, raster loader, user support, general bug fixing, testing on various OS (Slackware, Mac, Windows, and more)</p></dd><dt><span class="term">Mark Cave-Ayland</span></dt><dd><p>Prior PSC Member. Coordinated bug fixing and maintenance effort, spatial index selectivity and binding, loader/dumper, and Shapefile GUI Loader, integration of new and new function enhancements.</p></dd><dt><span class="term">Jorge Arévalo</span></dt><dd><p>Desenvolvimento Raster, suporte do driver GDAL e importador.</p></dd><dt><span class="term">Olivier Courtin</span></dt><dd><p>Funções para entrada e saída de XML (KML, GML)/GeoJSon, suporte a 3D e correção de bugs.</p></dd><dt><span class="term">Chris Hodgson</span></dt><dd><p>Antigo membro do comitê. Desenvolvimento em geral, manutenção do website e buildbot, gerente da incubação na OSGeo.</p></dd><dt><span class="term">Mateusz Loskot</span></dt><dd><p>Suporte CMake para o PostGIS, criou o carregador raster original em Python e funções de baixo nível da API raster</p></dd><dt><span class="term">Kevin Neufeld</span></dt><dd><p>Ex PSC. Documentação e suporte a ferramentas de documentação, suporte e manutenção do builbot, suporte avançado de usuários em listas de discussão e melhorias em funções do PostGIS</p></dd><dt><span class="term">Dave Blasby</span></dt><dd><p>Desenvolvedor original e co-fundador do PostGIS. Dave escreveu os objetos do servidor, chamadas de índices e muitas das funcionalidades analíticas presentes no servidor.</p></dd><dt><span class="term">Jeff Lounsbury</span></dt><dd><p>Desenvolvedor original do importador/exportador de shapefiles. Atual representante do Dono do Projeto.</p></dd><dt><span class="term">Mark Leslie</span></dt><dd><p>Manutenção e desenvolvimento de funções do núcleo. Melhorias para o suporte a curvas e no importador GUI.</p></dd><dt><span class="term">Pierre Racine</span></dt><dd><p>Architect of PostGIS raster implementation. Raster overall architecture, prototyping, programming support</p></dd><dt><span class="term">David Zwarg</span></dt><dd><p>Desenvolvimento raster (funções analíticas de álgebra de mapas)</p></dd></dl></div></section><section class="section" id="credits_other_contributors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1.4. Outros Contribuidores</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Contribuidores Individuais</span></dt><dd><p>
				</p><table style="border: 0; " class="simplelist"><tr><td>Alex Bodnaru</td><td>Gino Lucrezi</td><td>Maxime Guillaud</td></tr><tr><td>Alex Mayrhofer</td><td>Greg Troxel</td><td>Maxime van Noppen</td></tr><tr><td>Andrea Peri</td><td>Guillaume Lelarge</td><td>Maxime Schoemans</td></tr><tr><td>Andreas Forø Tollefsen</td><td>Giuseppe Broccolo</td><td>Michael Fuhr</td></tr><tr><td>Andreas Neumann</td><td>Han Wang</td><td>Mike Toews</td></tr><tr><td>Andrew Gierth</td><td>Hans Lemuet</td><td>Nathan Wagner</td></tr><tr><td>Anne Ghisla</td><td>Haribabu Kommi</td><td>Nathaniel Clay</td></tr><tr><td>Antoine Bajolet</td><td>Havard Tveite</td><td>Nikita Shulga</td></tr><tr><td>Arthur Lesuisse</td><td>IIDA Tetsushi</td><td>Norman Vine</td></tr><tr><td>Artur Zakirov</td><td>Ingvild Nystuen</td><td>Patricia Tozer</td></tr><tr><td>Barbara Phillipot</td><td>Jackie Leng</td><td>Rafal Magda</td></tr><tr><td>Ben Jubb</td><td>James Addison</td><td>Ralph Mason</td></tr><tr><td>Bernhard Reiter</td><td>James Marca</td><td>Rémi Cura</td></tr><tr><td>Björn Esser</td><td>Jan Katins</td><td>Richard Greenwood</td></tr><tr><td>Brian Hamlin</td><td>Jan Tojnar</td><td>Robert Coup</td></tr><tr><td>Bruce Rindahl</td><td>Jason Smith</td><td>Roger Crew</td></tr><tr><td>Bruno Wolff III</td><td>Jeff Adams</td><td>Ron Mayer</td></tr><tr><td>Bryce L. Nordgren</td><td>Jelte Fennema</td><td>Sam Peters</td></tr><tr><td>Carl Anderson</td><td>Jim Jones</td><td>Sebastiaan Couwenberg</td></tr><tr><td>Charlie Savage</td><td>Joe Conway</td><td>Sergei Shoulbakov</td></tr><tr><td>Chris Mayo</td><td>Jonne Savolainen</td><td>Sergey Fedoseev</td></tr><tr><td>Christian Schroeder</td><td>Jose Carlos Martinez Llari</td><td>Shinichi Sugiyama</td></tr><tr><td>Christoph Berg</td><td>Jörg Habenicht</td><td>Shoaib Burq</td></tr><tr><td>Christoph Moench-Tegeder</td><td>Julien Rouhaud</td><td>Silvio Grosso</td></tr><tr><td>Dane Springmeyer</td><td>Kashif Rasul</td><td>Stefan Corneliu Petrea</td></tr><tr><td>Dapeng Wang</td><td>Klaus Foerster</td><td>Steffen Macke</td></tr><tr><td>Daryl Herzmann</td><td>Kris Jurka</td><td>Stepan Kuzmin</td></tr><tr><td>Dave Fuhry</td><td>Laurenz Albe</td><td>Stephen Frost</td></tr><tr><td>David Zwarg</td><td>Lars Roessiger</td><td>Steven Ottens</td></tr><tr><td>David Zwarg</td><td>Leo Hsu</td><td>Talha Rizwan</td></tr><tr><td>David Zwarg</td><td>Loic Dachary</td><td>Teramoto Ikuhiro</td></tr><tr><td>Dian M Fay</td><td>Luca S. Percich</td><td>Tom Glancy</td></tr><tr><td>Dmitry Vasilyev</td><td>Lucas C. Villa Real</td><td>Tom van Tilburg</td></tr><tr><td>Eduin Carrillo</td><td>Maria Arias de Reyna</td><td>Victor Collod</td></tr><tr><td>Esteban Zimanyi</td><td>Marc Ducobu</td><td>Vincent Bre</td></tr><tr><td>Eugene Antimirov</td><td>Mark Sondheim</td><td>Vincent Mora</td></tr><tr><td>Even Rouault</td><td>Markus Schaber</td><td>Vincent Picavet</td></tr><tr><td>Florian Weimer</td><td>Markus Wanner</td><td>Volf Tomáš</td></tr><tr><td>Frank Warmerdam</td><td>Matt Amos</td><td>Zuo Chenwei</td></tr><tr><td>George Silva</td><td>Matt Bretl</td><td> </td></tr><tr><td>Gerald Fenoy</td><td>Matthias Bay</td><td> </td></tr></table><p>
			</p></dd><dt><span class="term">Patrocinadores corporativos</span></dt><dd><p>Estas são entidades corporativas que contribuiram com horas home, hospedagem ou suporte monetário direto ao projeto PostGIS </p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><a class="link" href="https://aiven.io" target="_top">Aiven</a></li><li class="listitem"><a class="link" href="https://arrival3d.com" target="_top">Arrival 3D</a></li><li class="listitem"><a class="link" href="http://gfoss.it" target="_top">Associazione Italiana per l'Informazione Geografica Libera (GFOSS.it)</a></li><li class="listitem"><a class="link" href="https://www.ausvet.com.au" target="_top">AusVet</a></li><li class="listitem">Avencia</li><li class="listitem"><a class="link" href="https://www.azavea.com" target="_top">Azavea</a></li><li class="listitem"><a class="link" href="https://www.boundlessgeo.com" target="_top">Boundless</a></li><li class="listitem"><a class="link" href="https://www.cadcorp.com" target="_top">Cadcorp</a></li><li class="listitem"><a class="link" href="https://www.camptocamp.com" target="_top">Camptocamp</a></li><li class="listitem"><a class="link" href="https://carto.com" target="_top">Carto</a></li><li class="listitem"><a class="link" href="https://www.crunchydata.com" target="_top">Crunchy Data</a></li><li class="listitem"><a class="link" href="https://www.boston.gov" target="_top">City of Boston (DND)</a></li><li class="listitem"><a class="link" href="https://www.hel.fi" target="_top">City of Helsinki</a></li><li class="listitem"><a class="link" href="https://blog.cleverelephant.ca" target="_top">Clever Elephant Solutions</a></li><li class="listitem"><a class="link" href="https://www.alveo.coop" target="_top">Cooperativa Alveo</a></li><li class="listitem"><a class="link" href="http://www.elecnor-deimos.com" target="_top">Deimos Space</a></li><li class="listitem"><a class="link" href="https://www.faunalia.eu" target="_top">Faunalia</a></li><li class="listitem"><a class="link" href="https://gov.bc.ca" target="_top">Geographic Data BC</a></li><li class="listitem"><a class="link" href="https://www.highgo.ca" target="_top">HighGo</a></li><li class="listitem">Hunter Systems Group</li><li class="listitem"><a class="link" href="https://pti-agriambio.csic.es" target="_top">
&gt;The National Institute for Agricultural and Food Research and Technology (INIA-CSIC)</a></li><li class="listitem"><a class="link" href="https://www.isciences.com" target="_top">ISciences, LLC</a></li><li class="listitem"><a class="link" href="https://www.kontur.io" target="_top">Kontur</a></li><li class="listitem"><a class="link" href="https://www.lidwala.com" target="_top">Lidwala Consulting Engineers</a></li><li class="listitem"><a class="link" href="https://www.jirotech.com" target="_top">LISAsoft</a></li><li class="listitem">Logical Tracking &amp; Tracing International AG</li><li class="listitem">Maponics</li><li class="listitem"><a class="link" href="http://www.mtri.org" target="_top">Michigan Tech Research Institute</a></li><li class="listitem"><a class="link" href="https://www.nrcan.gc.ca" target="_top">Natural Resources Canada</a></li><li class="listitem">Norwegian Forest and Landscape Institute</li><li class="listitem"><a class="link" href="https://www.nibio.no/" target="_top">Norwegian Institute of Bioeconomy Research (NIBIO)</a></li><li class="listitem"><a class="link" href="https://www.osgeo.org" target="_top">OSGeo</a></li><li class="listitem"><a class="link" href="https://oslandia.com" target="_top">Oslandia</a></li><li class="listitem"><a class="link" href="https://www.palantir.com" target="_top">Palantir Technologies</a></li><li class="listitem"><a class="link" href="https://www.paragoncorporation.com" target="_top">Paragon Corporation</a></li><li class="listitem"><a class="link" href="https://www.r3-gis.com" target="_top">R3 GIS</a></li><li class="listitem"><a class="link" href="http://www.refractions.net" target="_top">Refractions Research</a></li><li class="listitem"><a class="link" href="https://www.regione.toscana.it" target="_top">Regione Toscana - SITA</a></li><li class="listitem"><a class="link" href="https://www.safe.com" target="_top">Safe Software</a></li><li class="listitem">Sirius Corporation plc</li><li class="listitem"><a class="link" href="http://www.uster.ch" target="_top">Stadt Uster</a></li><li class="listitem"><a class="link" href="https://www.ucdavis.edu" target="_top">UC Davis Center for Vectorborne Diseases</a></li><li class="listitem"><a class="link" href="https://www.ulaval.ca" target="_top">Université Laval</a></li><li class="listitem"><a class="link" href="https://hiu.state.gov" target="_top">U.S. Department of State (HIU)</a></li><li class="listitem"><a class="link" href="https://www.zonarsystems.com" target="_top">Zonar Systems</a></li></ul></div><p>
		</p></dd><dt><span class="term">Campanhas de financiamento coletivo</span></dt><dd><p>Crowd funding campaigns - Campanhas de financiamento de multidões são campanhas que executamos para obter os recursos que queremos para financiar um projeto por um grande número de pessoas. Cada campanha é especificamente focada em um recurso ou conjunto de recursos específicos. Cada patrocinador utiliza uma fração pequena do financiamento necessário e com o número suficiente de pessoas / organizações contribuindo, temos os fundos para pagar o trabalho que vai ajudar muitos. Se você tiver uma idéia de um recurso que você acha que muitos outros estariam dispostos a co-financiar, por favor, postar para o <a class="link" href="https://lists.osgeo.org/mailman/listinfo/postgis-users" target="_top">newsgroup PostGIS</a> suas ideias, e juntos podemos fazer isso acontecer. </p><p>A versão 2.0.0 foi a primeira em que testamos esta estratégia. Utilizamos o <a class="link" href="http://www.pledgebank.com" target="_top">PledgeBank</a> e conseguimos realizar duas campanhas bem sucedidas.</p><p><a class="link" href="http://www.pledgebank.com/postgistopology" target="_top"><span class="bold"><strong>postgistopology</strong></span></a> - 10 patrocinadores, cada um contribuiu com USD $250,00 para a construção da função toTopoGeometry e melhorias gerais no suporte a topologia da versão 2.0.0. Aconteceu!</p><p><a class="link" href="http://www.pledgebank.com/postgis64windows" target="_top"><span class="bold"><strong>postgis64windows</strong></span></a> - 20 patrocinadores, contribuiram com $100 USD cada, para pagar para a compilação do PostGIS no Windows 64bits. Aconteceu. Agora temos uma versão 64-bits do PostGIS 2.0.1 disponível na PostgreSQL Stack Builder.</p></dd><dt><span class="term">Bibliotecas importantes</span></dt><dd><p>The <a class="link" href="https://libgeos.org" target="_top">GEOS</a> geometry operations library</p><p>The <a class="link" href="https://gdal.org" target="_top">GDAL</a> Geospatial Data Abstraction Library used to power much of the raster functionality introduced in PostGIS 2. In kind, improvements needed in GDAL to support PostGIS are contributed back to the GDAL project.</p><p>The <a class="link" href="https://www.proj4.org" target="_top">PROJ</a> cartographic projection library</p><p>Por último, mas não menos importante, o <a class="link" href="http://www.postgresql.org" target="_top">PostgreSQL DBMS</a>, o gigante sobre qual o PostGIS se apóia. Muito da velocidade e flexibilidade do PostGIS não seria possível sem a extensibilidade, um grande analisador de consultas, índice GIST e uma variedade de funcionalidades SQL dadas pelos PostgreSQl.</p></dd></dl></div></section></section><section class="chapter" id="postgis_installation"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Instalação do PostGIS</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#install_short_version">2.1. Versão Reduzida</a></span></li><li><span class="section"><a href="#PGInstall">2.2. Compilando e instalando da fonte: detalhado</a></span></li><li><span class="section"><a href="#installing_pagc_address_standardizer">2.3. Instalando e usando o padronizador de endereço</a></span></li><li><span class="section"><a href="#loading_extras_tiger_geocoder">2.4. Installing, Upgrading Tiger Geocoder, and loading data</a></span></li><li><span class="section"><a href="#idm989">2.5. Problemas comuns durante a instalação</a></span></li></ul></div><p>Este capítulo detalha os passos necessários para instalar o PostGIS. </p><section class="section" id="install_short_version"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.1. Versão Reduzida</h2></div></div></div><p>Para compilar, assumindo que você tem todas as dependências em seu caminho de busca (search path):</p><pre class="programlisting">tar -xvzf postgis-3.5.2.tar.gz
cd postgis-3.5.2
./configure
make
make install</pre><p>Assim que o PostGIS esteja instalado, ele precisa ser habilitado em cada banco de dados que você deseje utilizá-lo. </p></section><section class="section" id="PGInstall"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.2. Compilando e instalando da fonte: detalhado</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#install_getting_source">2.2.1. Obtendo o Fonte</a></span></li><li><span class="section"><a href="#install_requirements">2.2.2. Instalando pacotes requeridos</a></span></li><li><span class="section"><a href="#installation_configuration">2.2.3. Configuração</a></span></li><li><span class="section"><a href="#idm678">2.2.4. Construindo</a></span></li><li><span class="section"><a href="#make_install_postgis_extensions">2.2.5. Contruindo extensões PostGIS e implantado-as</a></span></li><li><span class="section"><a href="#idm750">2.2.6. Testando</a></span></li><li><span class="section"><a href="#idm778">2.2.7. Instalação</a></span></li></ul></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Muitos sistemas operacionas agora incluem pacotes pré-compilados para PostgreSQL / PostGIS. Em muitos casos, a compilação só é necessário se você quiser as versões ponta ou você é um mantenedor do pacote. </p><p>This section includes general compilation instructions, if you are compiling for Windows etc or another OS, you may find additional more detailed help at <a class="link" href="https://trac.osgeo.org/postgis/wiki/UsersWikiInstall" target="_top">PostGIS User contributed compile guides</a> and <a class="link" href="http://trac.osgeo.org/postgis/wiki/DevWikiMain" target="_top">PostGIS Dev Wiki</a>.</p><p>Pre-Built Packages for various OS are listed in <a class="link" href="https://trac.osgeo.org/postgis/wiki/UsersWikiPackages" target="_top">PostGIS Pre-built Packages</a></p><p>Se você é um usuário windows, você pode obter builds estáveis via Stackbuilder <a class="link" href="http://www.postgis.org/download/windows/" target="_top">PostGIS Windows download site</a> Também <a class="link" href="http://www.postgis.org/download/windows/experimental.php" target="_top">  builds experimentais para windows</a> são builds lançadadas geramente uma ou duas vezes por semana ou sempre que algo emocionante acontece. Você pode usá-los para experimentar os lançamentos em progresso de PostGIS</p></td></tr></table></div><p>The PostGIS module is an extension to the PostgreSQL backend server. As such, PostGIS 3.5.2 <span class="emphasis"><em>requires</em></span> full PostgreSQL server headers access in order to compile. It can be built against PostgreSQL versions 12 - 17. Earlier versions of PostgreSQL are <span class="emphasis"><em>not</em></span> supported. </p><p>Refer to the PostgreSQL installation guides if you haven't already installed PostgreSQL. <a class="link" href="https://www.postgresql.org" target="_top"> https://www.postgresql.org </a> . </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para funcionalidade da GEOS, quando você instalar o PostgreSQL você pode ter que linkar explicitamente o PostgreSQL contra a biblioteca padrão C++: </p><pre class="programlisting">LDFLAGS=-lstdc++ ./configure [YOUR OPTIONS HERE]</pre><p>Isto é uma forma de contornar as exceções falso-positivas da interação do C++ com ferramentas de desenvolvimento mais antigas. Se você experimentar problemas estranho (backend fechando de forma inesperada ou coisas similares), tente este truque. Isto irá requerir que você compile o PostgreSQL do zero, claro. </p></td></tr></table></div><p>Os passos a seguir demonstram a configuração e compilação dos fontes do PostGIS. Eles são escritos para usuários de Linux e não funcionarão em Windows ou Mac. </p><section class="section" id="install_getting_source"><div class="titlepage"><div><div><h3 class="title">2.2.1. Obtendo o Fonte</h3></div></div></div><p>Obtenha o fonte do PostGIS através da seção de downloads do website <a class="link" href="https://download.osgeo.org/postgis/source/postgis-3.5.2.tar.gz" target="_top"> https://download.osgeo.org/postgis/source/postgis-3.5.2.tar.gz </a> </p><pre class="programlisting">wget https://download.osgeo.org/postgis/source/postgis-3.5.2.tar.gz
tar -xvzf postgis-3.5.2.tar.gz
cd postgis-3.5.2</pre><p>Isto irá criar um diretório chamado <code class="varname">postgis-3.5.2</code> no diretório de trabalho atual. </p><p>Outra alternativa ,é o checkout da fonte do <a class="link" href="http://subversion.apache.org/" target="_top"> svn </a> repository <a class="link" href="http://svn.osgeo.org/postgis/trunk/" target="_top"> http://svn.osgeo.org/postgis/trunk/ </a> . </p><pre class="programlisting">git clone https://git.osgeo.org/gitea/postgis/postgis.git postgis
cd postgis
sh autogen.sh
    </pre><p>Mude para o recém criado <code class="varname">postgis-3.5.2</code> diretório para continuar a instalação. </p><pre class="programlisting">./configure</pre></section><section class="section" id="install_requirements"><div class="titlepage"><div><div><h3 class="title">2.2.2. Instalando pacotes requeridos</h3></div></div></div><p>PostGIS tem os seguintes requisitos para a construção e uso: </p><p>
	  <span class="bold"><strong>Necessário</strong></span>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>PostgreSQL 12 - 17. A complete installation of PostgreSQL (including server headers) is required. PostgreSQL is available from <a class="link" href="https://www.postgresql.org" target="_top"> https://www.postgresql.org </a> . </p><p>For a full PostgreSQL / PostGIS support matrix and PostGIS/GEOS support matrix refer to <a class="link" href="https://trac.osgeo.org/postgis/wiki/UsersWikiPostgreSQLPostGIS" target="_top">https://trac.osgeo.org/postgis/wiki/UsersWikiPostgreSQLPostGIS</a> </p></li><li class="listitem"><p>Compilador GNU C (<code class="filename"> gcc</code>). Alguns outros compiladores ANSI C podem ser utilizados para compilar o PostGIS, mas nós encontramos menos problemas ao compilar com  <code class="filename">gcc</code>. </p></li><li class="listitem"><p>GNU Make (<code class="filename">gmake</code> ou <code class="filename">make</code>). Para varios sistemas, GNU <code class="filename">make</code> é a versão padrão do make. Verifique a versão invocando <code class="filename">make -v</code>. Outras versões do <code class="filename">make</code> pode não processar o PostGIS <code class="filename">Makefile</code> corretamente. </p></li><li class="listitem"><p>Proj reprojection library. Proj 6.1 or above is required. The Proj library is used to provide coordinate reprojection support within PostGIS. Proj is available for download from <a class="link" href="https://proj.org/" target="_top"> https://proj.org/ </a> . </p></li><li class="listitem"><p>GEOS geometry library, version 3.8.0 or greater, but GEOS 3.12+ is required to take full advantage of all the new functions and features. GEOS is available for download from <a class="link" href="https://libgeos.org/" target="_top"> https://libgeos.org </a>. </p></li><li class="listitem"><p>LibXML2, version 2.5.x or higher. LibXML2 is currently used in some imports functions (ST_GeomFromGML and ST_GeomFromKML). LibXML2 is available for download from <a class="link" href="https://gitlab.gnome.org/GNOME/libxml2/-/releases" target="_top">https://gitlab.gnome.org/GNOME/libxml2/-/releases</a>. </p></li><li class="listitem"><p>JSON-C, versão 0.9 ou maior. JSON-C é atualmente utilizado para importar GeoJSON através da função ST_GeomFromGeoJson. JSON-C está disponível para download em <a class="link" href="https://github.com/json-c/json-c/releases" target="_top">https://github.com/json-c/json-c/releases/</a>. </p></li><li class="listitem"><p>GDAL, version 3+ is preferred. This is required for raster support. <a class="link" href="https://gdal.org/download.html" target="_top">https://gdal.org/download.html</a>. </p></li><li class="listitem"><p>Este parâmetro está atualmente sem funcionalidade, já que o pacote somente irá instalar na localização do PostgreSQL. Visite <a class="link" href="http://trac.osgeo.org/postgis/ticket/635" target="_top">http://trac.osgeo.org/postgis/ticket/635 </a> para acompanhar este bug. </p></li></ul></div><p>
	  <span class="bold"><strong>Opcional</strong></span>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Certifique-se também de ativar os dispositivos que deseja usar como está descrito em <a class="xref" href="#install_short_version" title="2.1. Versão Reduzida">Section 2.1, “Versão Reduzida”</a>. </p></li><li class="listitem"><p>GTK (requer GTK+2.0, 2.8+) para compilar o shp2pgsql-gui para formar o carregador de arquivo. <a class="link" href="http://www.gtk.org/" target="_top"> http://www.gtk.org/ </a> . </p></li><li class="listitem"><p>SFCGAL, 1.4.1 or higher is required and 1.5.0+ is needed to be able to use all functionality. SFCGAL can be used to provide additional 2D and 3D advanced analysis functions to PostGIS cf <a class="xref" href="#reference_sfcgal" title="Chapter 8. SFCGAL Functions Reference">Chapter 8, <em>SFCGAL Functions Reference</em></a>. And also allow to use SFCGAL rather than GEOS for some 2D functions provided by both backends (like ST_Intersection or ST_Area, for instance). A PostgreSQL configuration variable <code class="code">postgis.backend</code> allow end user to control which backend he want to use if SFCGAL is installed (GEOS by default). Nota: SFCGAL 1.2 require at least CGAL 4.3 and Boost 1.54 (cf: <a class="link" href="https://sfcgal.org" target="_top">https://sfcgal.org</a>) <a class="link" href="https://gitlab.com/sfcgal/SFCGAL/" target="_top">https://gitlab.com/sfcgal/SFCGAL/</a>. </p></li><li class="listitem"><p>In order to build the <a class="xref" href="#Address_Standardizer" title="12.1. Padronizador de endereço">Section 12.1, “Padronizador de endereço”</a> you will also need PCRE <a class="link" href="http://www.pcre.org" target="_top">http://www.pcre.org</a> (which generally is already installed on nix systems). <a class="xref" href="#Address_Standardizer" title="12.1. Padronizador de endereço">Section 12.1, “Padronizador de endereço”</a> will automatically be built if it detects a PCRE library, or you pass in a valid <code class="varname">--with-pcre-dir=/path/to/pcre</code> during configure. </p></li><li class="listitem"><p>To enable ST_AsMVT protobuf-c library 1.1.0 or higher (for usage) and the protoc-c compiler (for building) are required. Also, pkg-config is required to verify the correct minimum version of protobuf-c. See <a class="link" href="https://github.com/protobuf-c/protobuf-c" target="_top">protobuf-c</a>. By default, Postgis will use Wagyu to validate MVT polygons faster which requires a c++11 compiler. It will use CXXFLAGS and the same compiler as the PostgreSQL installation. To disable this and use GEOS instead use the <code class="varname">--without-wagyu</code> during the configure step. </p></li><li class="listitem"><p>CUnit (<code class="filename">CUnit</code>). Isto é necessário para o teste de regressão. <a class="link" href="http://cunit.sourceforge.net/" target="_top">http://cunit.sourceforge.net/</a> </p></li><li class="listitem"><p>DocBook (<code class="filename">xsltproc</code>)é necessário para a construção da documentação. Docbook esta disponível em <a class="link" href="http://www.docbook.org/" target="_top"> http://www.docbook.org/ </a> . </p></li><li class="listitem"><p>DBLatex (<code class="filename">dblatex</code>) é necessário para a construção da documentação em formato PDF. DBLatex está disponível em <a class="link" href="http://dblatex.sourceforge.net/" target="_top"> http://dblatex.sourceforge.net/ </a> . </p></li><li class="listitem"><p>ImageMagick (<code class="filename">convert</code>) é necessário para gerar as imagens usadas na documentação. ImageMagick está disponível em <a class="link" href="http://www.imagemagick.org/" target="_top"> http://www.imagemagick.org/ </a> . </p></li></ul></div></section><section class="section" id="installation_configuration"><div class="titlepage"><div><div><h3 class="title">2.2.3. Configuração</h3></div></div></div><p>Como a maior parte das instalações Linux, o primeiro passo é gerar o Makefile que será utilizado para construção do código fonte. Isto é feito utilizando o script shell </p><p>
		<span class="command"><strong>./configure</strong></span>
	  </p><p>Sem parâmetros adicionais, este comando tentará automaticamente localizar os componentes necessários e bibliotecas para construção do fonte do PostGIS em seu sistema. Embora esta é a forma comum de uso do <span class="command"><strong>./configure</strong></span>, o script aceita diversos parâmetros para aqueles que tem as bibliotecas e programas necessários em localizações do sistema operacional que não são padrão. </p><p>A lista a seguir mostra apenas os parâmetros comumente utilizados. Para uma lista completa, utilize os parâmetros <span class="command"><strong>--help</strong></span> ou <span class="command"><strong>--help=short</strong></span>. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--with-library-minor-version</code></span></dt><dd><p>Starting with PostGIS 3.0, the library files generated by default will no longer have the minor version as part of the file name. This means all PostGIS 3 libs will end in <code class="code">postgis-3</code>. This was done to make pg_upgrade easier, with downside that you can only install one version PostGIS 3 series in your server. To get the old behavior of file including the minor version: e.g. <code class="code">postgis-3.0</code> add this switch to your configure statement.</p></dd><dt><span class="term"><code class="option">--prefix=PREFIX</code></span></dt><dd><p>Esta é a localização onde as bibliotecas do PostGIS e scripts SQL serão instalados. Por padrão, esta localização é a mesma detectada pela instalação do PostgreSQL. </p><div class="caution"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Caution]" src="images/caution.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Este parâmetro está atualmente sem funcionalidade, já que o pacote somente irá instalar na localização do PostgreSQL. Visite <a class="link" href="http://trac.osgeo.org/postgis/ticket/635" target="_top">http://trac.osgeo.org/postgis/ticket/635 </a> para acompanhar este bug. </p></td></tr></table></div></dd><dt><span class="term"><code class="option">--with-pgconfig=FILE</code></span></dt><dd><p>O PostgreSQL oferece um utilitário chamado <span class="command"><strong>pg_config</strong></span> para habilitar extensões como o PostGIS a localizar a instalação do PostgreSQL. Use o parâmetro (<span class="command"><strong>--with-pgconfig=/path/to/pg_config</strong></span> para especificar manualmente uma instalação específica do PostgreSQL que será usada pelo PostGIS. </p></dd><dt><span class="term"><code class="option">--with-gdalconfig=FILE</code></span></dt><dd><p>GDAL, uma biblioteca requerida, provê funcionalidades necessárias para o suporte a raster. Use o comando <span class="command"><strong>gdal-config</strong></span> para localizar o diretório de instalação da GDAL. Use este parâmetro (<span class="command"><strong>--with-gdalconfig=/path/to/gdal-config</strong></span>) para manualmente especificar uma instalação em particular da GDAL que o PostGIS irá utilizar. </p></dd><dt><span class="term"><code class="option">--with-geosconfig=FILE</code></span></dt><dd><p>GEOS é uma biblioteca requerida, dá um utilitário chamado <span class="command"><strong>geos-config</strong></span> para localizar o diretório de instalação da GEOS. Use este parâmetro (<span class="command"><strong>--with-geosconfig=/path/to/geos-config</strong></span>) para especificar manualmente uma instalação da GEOS que o PostGIS irá utilizar. </p></dd><dt><span class="term"><code class="option">--with-xml2config=FILE</code></span></dt><dd><p>LibXML is the library required for doing GeomFromKML/GML processes. It normally is found if you have libxml installed, but if not or you want a specific version used, you'll need to point PostGIS at a specific <code class="filename">xml2-config</code> confi file to enable software installations to locate the LibXML installation directory. Use this parameter (<span class="command"><strong>&gt;--with-xml2config=/path/to/xml2-config</strong></span>) to manually specify a particular LibXML installation that PostGIS will build against. </p></dd><dt><span class="term"><code class="option">--with-projdir=DIR</code></span></dt><dd><p>A Proj4 é uma bilbioteca pra reprojeção de coordenadas, na qual o PostGIS depende. Use este parâmetro (<span class="command"><strong>--with-projdir=/path/to/projdir</strong></span> para especificar manualmente uma instalação do Proj4 que o PostGIS irá utilizar para compilação. </p></dd><dt><span class="term"><code class="option">--with-libiconv=DIR</code></span></dt><dd><p>Diretório onde o iconv esta instalado. </p></dd><dt><span class="term"><code class="option">--with-jsondir=DIR</code></span></dt><dd><p><a class="link" href="http://oss.metaparadigm.com/json-c/" target="_top">JSON-C</a> é uma biblioteca MIT-licensed JSON exigida pelo suporte PostGIS ST_GeomFromJSON . Use esse parâmetro (<span class="command"><strong>--with-jsondir=/path/to/jsondir</strong></span>) para especificar manualmente  uma instalação do JSON-C que o PostGIS irá construir contra. </p></dd><dt><span class="term"><code class="option">--with-pcredir=DIR</code></span></dt><dd><p><a class="link" href="http://www.pcre.org/" target="_top">PCRE</a> é uma biblioteca BSD-licensed Perl Compatible Regular Expression requerida pela extensão address_standardizer. Use esse parâmetro (<span class="command"><strong>--with-pcredir=/path/to/pcredir</strong></span>) para especificar manualmente uma instalação do PCRE que o PostGIS irá construir contra. </p></dd><dt><span class="term"><code class="option">--with-gui</code></span></dt><dd><p>Compile a interface de usuário para importação de dados (requer GTK+2.0). Isto irá criar a ferramenta de interface gráfica shp2pgsql-gui para o utilitário shp2pgsql. </p></dd><dt><span class="term"><code class="option">--without-raster</code></span></dt><dd><p>Instalar suporte a raster </p></dd><dt><span class="term"><code class="option">--without-topology</code></span></dt><dd><p>Disable topology support. There is no corresponding library as all logic needed for topology is in postgis-3.5.2 library. </p></dd><dt><span class="term"><code class="option">--with-gettext=no</code></span></dt><dd><p>Por padrão o PostGIS vai tentar detectar o suporte gettext e compilar com ele, porém se você tiver problemas incompatíveis que causem dano de carregamento, você pode o desabilitar com esse comando. Referir-se ao ticket <a class="link" href="http://trac.osgeo.org/postgis/ticket/748" target="_top">http://trac.osgeo.org/postgis/ticket/748</a> para um exemplo de problema resolvido configurando com este. NOTA: que você não está perdendo muito desligando isso. É usado para ajuda internacional para o carregador GUI que ainda não está documentado e permanece experimental.  </p></dd><dt><span class="term"><code class="option">--with-sfcgal=PATH</code></span></dt><dd><p>Por padrão PostGIS não tentará instalar com suporte sfcgal sem esta mudança. <code class="varname">PATH</code> é um argumento opcional que permite especificar um PATH alternativo para sfcgal-config. </p></dd><dt><span class="term"><code class="option">--without-phony-revision</code></span></dt><dd><p>Disable updating postgis_revision.h to match current HEAD of the git repository. </p></dd></dl></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se conseguiu o PostGIS do SVN <a class="link" href="http://svn.osgeo.org/postgis/trunk/" target="_top"> depósito </a> , o primeiro passo é fazer funcionar o script </p><p>
		  <span class="command"><strong>./autogen.sh</strong></span>
		</p><p>Este script gera a <span class="command"><strong>configurar</strong></span> script que na volta é usada para personalizar a instalação do PostGIS. </p><p>Se em vez de conseguir o PostGIS como tarball, rodando <span class="command"><strong>./autogen.sh</strong></span> não é necessariamente como <span class="command"><strong>configurar</strong></span> já foi gerado. </p></td></tr></table></div></section><section class="section" id="idm678"><div class="titlepage"><div><div><h3 class="title">2.2.4. Construindo</h3></div></div></div><p>Uma vez que o Makefile tenha sido gerado, compilar o PostGIS é simples como rodar o comando </p><p>
		<span class="command"><strong>make</strong></span>
	  </p><p>A última linha da saída deve ser "<code class="code">PostGIS was built successfully. Ready to install.</code>." </p><p>As of PostGIS v1.4.0, all the functions have comments generated from the documentation. If you wish to install these comments into your spatial databases later, run the command which requires docbook. The postgis_comments.sql and other package comments files raster_comments.sql, topology_comments.sql are also packaged in the tar.gz distribution in the doc folder so no need to make comments if installing from the tar ball. Comments are also included as part of the CREATE EXTENSION install. </p><p>
		<span class="command"><strong>make comments</strong></span>
	  </p><p>Apresentado ao PostGIS 2.0. Isto gera html cheat sheets adequadas para referências rápidas ou para handouts dos estudantes. Exige xsltproc para construir e vai gerar 4 arquivos no folder do documento <code class="filename">topology_cheatsheet.html</code>, <code class="filename">tiger_geocoder_cheatsheet.html</code>, <code class="filename">raster_cheatsheet.html</code>, <code class="filename">postgis_cheatsheet.html</code> </p><p>Você pode baixar alguns pre-construídos disponíveis em html e pdf de  <a class="link" href="http://www.postgis.us/study_guides" target="_top">PostGIS / PostgreSQL Study Guides</a></p><p>
		<span class="command"><strong>make cheatsheets</strong></span>
	  </p></section><section class="section" id="make_install_postgis_extensions"><div class="titlepage"><div><div><h3 class="title">2.2.5. Contruindo extensões PostGIS e implantado-as</h3></div></div></div><p>As extensões do PostGIS são contruídas e instaladas automaticamente se você estiver usando PostgreSQL 9.1 ou superior. </p><p>Se você está compilando do repositório, você precisa de compilar a função de descrições primeiro. Estas são compiladas se você possui o docbook instalado. Você pode também construir manualmente com o comando: </p><p>
	  <span class="command"><strong>make comments</strong></span>
    </p><p>Construir a documentação não é necessário se você está construindo de uma versão de lançamento no formato tar ball, já que estas são empacotadas pré-construídas com o tar ball.</p><p>Se você está construindo o PostGIS contra o PostgreSQL 9.1, as extensão devem ser automaticamente construídas como parte do processo de make. Você pode, contudo, se necessário, construir das pastas de extensões ou copiar os arquivos se você precisar dos mesmos em um servidor diferente. </p><pre class="programlisting">cd extensions
cd postgis
make clean
make
export PGUSER=postgres #overwrite psql variables
make check #to test before install
make install
# to test extensions
make check RUNTESTFLAGS=--extension</pre><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><code class="code">make check</code> uses psql to run tests and as such can use psql environment variables. Common ones useful to override are <code class="varname">PGUSER</code>,<code class="varname">PGPORT</code>, and <code class="varname">PGHOST</code>. Refer to <a class="link" href="https://www.postgresql.org/docs/current/libpq-envars.html" target="_top">psql environment variables</a> </p></td></tr></table></div><p>Os arquivos de extensões sempre serão os mesmos para a mesma versão do PostGIS, independente do Sistemas Operacional, então é fácil copiar os arquivos de extensão de um sistema operacional para outro, desde que você tenha os binários do PostGIS instalados em seus servidores. </p><p>Se você deseja instalar as extensões manualmente em um servidor diferente, do seu servidor de desenvolvimento, você precisará copiar os seguintes arquivos da pasta de extensões para a pasta<code class="filename">PostgreSQL /share/extension</code> da sua instalação do PostgreSQL, bem como os binários necessários para o PostGIS, se você não os tem ainda no servidor de destino. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Existe arquivos de controle que denotam informações como a versão da extensão a ser instalada, caso não seja especificada. <code class="filename">postgis.control, postgis_topology.control</code>. </p></li><li class="listitem"><p>Todos os arquivos na pasta /sql de cada extensão. Note que estes precisam ser copiados para a raiz da pasta share/extension do PostgreSQL <code class="filename">extensions/postgis/sql/*.sql</code>, <code class="filename">extensions/postgis_topology/sql/*.sql</code> </p></li></ul></div><p>Once you do that, you should see <code class="varname">postgis</code>, <code class="varname">postgis_topology</code> as available extensions in PgAdmin -&gt; extensions.</p><p>Se você está utilizando psql, pode verificar quais estensões estão instaladas executando essa query:</p><pre class="programlisting">SELECT name, default_version,installed_version
FROM pg_available_extensions WHERE name LIKE 'postgis%' or name LIKE 'address%';

             name             | default_version | installed_version
------------------------------+-----------------+-------------------
 address_standardizer         | 3.5.2         | 3.5.2
 address_standardizer_data_us | 3.5.2         | 3.5.2
 postgis                      | 3.5.2         | 3.5.2
 postgis_raster               | 3.5.2         | 3.5.2
 postgis_sfcgal               | 3.5.2         |
 postgis_tiger_geocoder       | 3.5.2         | 3.5.2
 postgis_topology             | 3.5.2         |
(6 rows)</pre><p>Se você tem a extensão instalada no banco de dados de seu interesse, você a verá mencionada na coluna <code class="varname">installed_version</code>. Se você não receber nenhum registro de volta, significa que você não tem extensões do PostGIS instaladas no servidor. PgAdmin III 1.14+ também irá lhe dar esta informação na seção <code class="varname">extensions</code> do navegador de banco de dados e até permitirá o upgrade ou a desinstação utilizando o clique com o botão direito.</p><p>Se você tem extensões disponíveis, pode instalar a extensão postgis no seu database escolhido usando a interface da extensão pgAdmin ou rodando esses comandos sql:</p><pre class="programlisting">CREATE EXTENSION postgis;
CREATE EXTENSION postgis_raster;
CREATE EXTENSION postgis_sfcgal;
CREATE EXTENSION fuzzystrmatch; --needed for postgis_tiger_geocoder
--optional used by postgis_tiger_geocoder, or can be used standalone
CREATE EXTENSION address_standardizer;
CREATE EXTENSION address_standardizer_data_us;
CREATE EXTENSION postgis_tiger_geocoder;
CREATE EXTENSION postgis_topology;</pre><p>No psql você pode ver quais versões foram instaladas e qual esquema eles estão instalando. </p><pre class="programlisting">\connect mygisdb
\x
\dx postgis*</pre><pre class="screen">List of installed extensions
-[ RECORD 1 ]-------------------------------------------------
Name        | postgis
Version     | 3.5.2
Schema      | public
Description | PostGIS geometry, geography, and raster spat..
-[ RECORD 2 ]-------------------------------------------------
Name        | postgis_raster
Version     | 3.0.0dev
Schema      | public
Description | PostGIS raster types and functions
-[ RECORD 3 ]-------------------------------------------------
Name        | postgis_tiger_geocoder
Version     | 3.5.2
Schema      | tiger
Description | PostGIS tiger geocoder and reverse geocoder
-[ RECORD 4 ]-------------------------------------------------
Name        | postgis_topology
Version     | 3.5.2
Schema      | topology
Description | PostGIS topology spatial types and functions</pre><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Extensões table  <code class="varname">spatial_ref_sys</code>, <code class="varname">layer</code>, <code class="varname">topology</code>  não podem ter o backup feito explicitamente. Só podem ser feito o backup quando a respectiva <code class="varname">postgis</code> ou <code class="varname">postgis_topology</code> extensão estiver com o backup feito, o que só acontece quando você faz backup de todo o database. Assim como PostGIS 2.0.1, somente os registros srid não compactados com o PostGIS tem o backup quando há o backup do database, então não faça mudanças nos srids que nós compactamos e espere que suas mudanças estejam lá. Coloque em um em um bilhete se encontrar algum problema. As estruturas de extensões table nunca têm o backup feito desde que elas são criadas com <code class="code">CREATE EXTENSION</code> e supostas a serem as mesmas para uma dada versão de uma extensão. Estes comportamentos são construídos na extensão  atual do PostSQL, portanto não há nada que possamos fazer a respeito.</p></td></tr></table></div><p>Se você instalou 3.5.2 sem usar nosso sistema de extensão maravilhoso, você pode mudar para uma extensão baseada em primeiro atualizando para a última micro versão rodando as scripts atualizadas:
<code class="filename">postgis_upgrade_22_minor.sql</code>,<code class="filename">raster_upgrade_22_minor.sql</code>,<code class="filename">topology_upgrade_22_minor.sql</code>. </p><pre class="programlisting">CREATE EXTENSION postgis FROM unpackaged;
CREATE EXTENSION postgis_raster FROM unpackaged;
CREATE EXTENSION postgis_topology FROM unpackaged;
CREATE EXTENSION postgis_tiger_geocoder FROM unpackaged;
</pre></section><section class="section" id="idm750"><div class="titlepage"><div><div><h3 class="title">2.2.6. Testando</h3></div></div></div><p>Se desejar testar o PostGIS, rode </p><p>
		<span class="command"><strong>make check</strong></span>
	  </p><p>O comando acima irá rodar através de várias verificações e testes de regressão usando a biblioteca gerada contra o database do PostreSQL atual. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você configurou o PostGIS usando o não padronizado PostgreSQL, GEOS, ou Proj4 localizações, talvez você precise adicionar a biblioteca de localizações deles à LD_LIBRARY_PATH variável de ambiente.   </p></td></tr></table></div><div class="caution"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Caution]" src="images/caution.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Atualmente, o <span class="command"><strong>faz verificação</strong></span> confia nas variáveis de ambiente <code class="code">PATH</code> e <code class="code">PGPORT</code> quando vai fazer as verificações - ele  <span class="emphasis"><em>não</em></span> usa a versão PostgreSQL que talvez tenha sido especificada utilizando o parâmetro de configuração <span class="command"><strong>--with-pgconfig</strong></span>. Portanto, certifique-se que para modificar seu PATH para ser compatível com a instalação do PostgreSQL detectada durante a configuração ou esteja preparado para iminentes aborrecimentos.  </p></td></tr></table></div><p>If successful, make check will produce the output of almost 500 tests. The results will look similar to the following (numerous lines omitted below): </p><pre class="programlisting">CUnit - A unit testing framework for C - Version 2.1-3
     http://cunit.sourceforge.net/

        .
        .
        .

Run Summary:    Type  Total    Ran Passed Failed Inactive
              suites     44     44    n/a      0        0
               tests    300    300    300      0        0
             asserts   4215   4215   4215      0      n/a
Elapsed time =    0.229 seconds

        .
        .
        .

Running tests

        .
        .
        .

Run tests: 134
Failed: 0


-- if you build with SFCGAL

        .
        .
        .

Running tests

        .
        .
        .

Run tests: 13
Failed: 0

-- if you built with raster support

        .
        .
        .

Run Summary:    Type  Total    Ran Passed Failed Inactive
              suites     12     12    n/a      0        0
               tests     65     65     65      0        0
             asserts  45896  45896  45896      0      n/a


        .
        .
        .

Running tests

        .
        .
        .

Run tests: 101
Failed: 0

-- topology regress

.
.
.

Running tests

        .
        .
        .

Run tests: 51
Failed: 0

-- if you built --with-gui, you should see this too

     CUnit - A unit testing framework for C - Version 2.1-2
     http://cunit.sourceforge.net/

        .
        .
        .

Run Summary:    Type  Total    Ran Passed Failed Inactive
              suites      2      2    n/a      0        0
               tests      4      4      4      0        0
             asserts      4      4      4      0      n/a</pre><p>As extensões <code class="varname">postgis_tiger_geocoder</code> and <code class="varname">address_standardizer</code> , atualmente só suportam o modelo PostgreSQL installcheck. Para testá-los use abaixo. Nota: fazer a instalação não é necessária se você já instalou na raiz do folder code do PostGIS.</p><p>Para address_standardizer: </p><pre class="programlisting">cd extensions/address_standardizer
make install
make installcheck
          </pre><p>Saída deve parecer com: </p><pre class="screen">============== dropping database "contrib_regression" ==============
DROP DATABASE
============== creating database "contrib_regression" ==============
CREATE DATABASE
ALTER DATABASE
============== running regression test queries        ==============
test test-init-extensions     ... ok
test test-parseaddress        ... ok
test test-standardize_address_1 ... ok
test test-standardize_address_2 ... ok

=====================
 All 4 tests passed.
=====================</pre><p>Para o geocoder tiger, certifique-se que você tem extensões portgis e fuzzystratch  disponíveis no seu PostgreSQL. Os testes address_standardizer também irão desprezar se seus postgis construídos com address_standardizer suportar: </p><pre class="programlisting">cd extensions/postgis_tiger_geocoder
make install
make installcheck
          </pre><p>saída deve parecer com: </p><pre class="screen">============== dropping database "contrib_regression" ==============
DROP DATABASE
============== creating database "contrib_regression" ==============
CREATE DATABASE
ALTER DATABASE
============== installing fuzzystrmatch               ==============
CREATE EXTENSION
============== installing postgis                     ==============
CREATE EXTENSION
============== installing postgis_tiger_geocoder      ==============
CREATE EXTENSION
============== installing address_standardizer        ==============
CREATE EXTENSION
============== running regression test queries        ==============
test test-normalize_address   ... ok
test test-pagc_normalize_address ... ok

=====================
All 2 tests passed.
=====================</pre></section><section class="section" id="idm778"><div class="titlepage"><div><div><h3 class="title">2.2.7. Instalação</h3></div></div></div><p>Para instalar o PostGIS, digite </p><p>
		<span class="command"><strong>make install</strong></span>
	  </p><p>Isso irá copiar a instalação dos arquivos do PostGIS para suas subdireções específicas pelo <span class="command"><strong>--prefix</strong></span> parâmetro de configuração. Particularmente: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Os binários do carregador e do dumper estão instalados no <code class="filename">[prefix]/bin</code>. </p></li><li class="listitem"><p>Os arquivos SQL, como <code class="filename">postgis.sql</code>, estão instalados em <code class="filename">[prefix]/share/contrib</code>. </p></li><li class="listitem"><p>As bibliotecas do PostGIS estão instaladas em <code class="filename">[prefix]/lib</code>. </p></li></ul></div><p>Se anteriormente você rodou o comando <span class="command"><strong>make comments</strong></span>  para gerar o arquivo <code class="filename">postgis_comments.sql</code>, <code class="filename">raster_comments.sql</code>, instale o arquivo sql para executar  </p><p>
		<span class="command"><strong>make comments-install</strong></span>
	  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><code class="filename">postgis_comments.sql</code>, <code class="filename">raster_comments.sql</code>, <code class="filename">topology_comments.sql</code> foi separado da construção típica e instalações alvo desde que como isso, veio a dependência extra do <span class="command"><strong>xsltproc</strong></span>. </p></td></tr></table></div></section></section><section class="section" id="installing_pagc_address_standardizer"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.3. Instalando e usando o padronizador de endereço</h2></div></div></div><p>A extensão <code class="code">address_standardizer</code> era usada para ser um pacote separado que requeria download separado. Do PostGIS 2.2 em diante é compactado. Para mais informações sobre o address_standardize, o que ele faz e como fazer sua configuração, referir-se <a class="xref" href="#Address_Standardizer" title="12.1. Padronizador de endereço">Section 12.1, “Padronizador de endereço”</a>.</p><p>O padronizador pode ser usado em conjunção com a extensão tiger geocoder  PostGIS compactada como uma reposição para a <a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a> discutida. Para usar como reposição <a class="xref" href="#tiger_pagc_address_standardizing" title="2.4.2. Usando Padronizador de Endereço com Tiger Geocoder">Section 2.4.2, “Usando Padronizador de Endereço com Tiger Geocoder”</a>. Você também pode utilizar como um building block para seu próprio geocoder ou como padronizar seu endereço para uma comparação de endereços mais fácil. </p><p>O padronizador de endereço confia no PCRE que já está instalado na maioria dos sistemas Nix, mas você pode baixar a última versão em: <a class="link" href="http://www.pcre.org" target="_top">http://www.pcre.org</a>. Se durante <a class="xref" href="#installation_configuration" title="2.2.3. Configuração">Section 2.2.3, “Configuração”</a>, o PCRE é encontrado, então a extensão do padronizador de endereço será automaticamente construída. Se você tem um pcre personalizado que queira usar, passe a configurar <code class="code">--with-pcredir=/path/to/pcre</code> onde  <code class="filename">/path/to/pcre</code> é a pasta root para o seu pcre incluso e lista lib.</p><p>Para usuários do Windows, o pacote PostGIS 2.1+ já está compactado com o address_standardizer, então não precisa compilar podendo seguir direto para o passo <code class="code">CREATE EXTENSION</code>.</p><p>Uma vez que instalou, você pode conectar no seu banco de dados e rodar o SQL:</p><pre class="programlisting">CREATE EXTENSION address_standardizer;</pre><p>O teste seguinte não requere tables rules, gaz ou lex.</p><pre class="programlisting">SELECT num, street, city, state, zip
 FROM parse_address('1 Devonshire Place PH301, Boston, MA 02109');</pre><p>Saída deve ser</p><pre class="screen">num |         street         |  city  | state |  zip
-----+------------------------+--------+-------+-------
 1   | Devonshire Place PH301 | Boston | MA    | 02109</pre></section><section class="section" id="loading_extras_tiger_geocoder"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.4. Installing, Upgrading Tiger Geocoder, and loading data</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#install_tiger_geocoder_extension">2.4.1. Tiger Geocoder Enabling your PostGIS database</a></span></li><li><span class="section"><a href="#tiger_pagc_address_standardizing">2.4.2. Usando Padronizador de Endereço com Tiger Geocoder</a></span></li><li><span class="section"><a href="#tiger_geocoder_required_tools">2.4.3. Required tools for tiger data loading</a></span></li><li><span class="section"><a href="#upgrade_tiger_geocoder">2.4.4. Upgrading your Tiger Geocoder Install and Data</a></span></li></ul></div><p>Extras like Tiger geocoder may not be packaged in your PostGIS distribution. If you are missing the tiger geocoder extension or want a newer version than what your install comes with, then use the <code class="filename">share/extension/postgis_tiger_geocoder.*</code> files from the packages in <a class="link" href="http://postgis.net/windows_downloads/" target="_top">Windows Unreleased Versions</a> section for your version of PostgreSQL. Although these packages are for windows, the postgis_tiger_geocoder extension files will work on any OS since the extension is an SQL/plpgsql only extension.</p><section class="section" id="install_tiger_geocoder_extension"><div class="titlepage"><div><div><h3 class="title">2.4.1. Tiger Geocoder Enabling your PostGIS database</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>These directions assume your PostgreSQL installation already has the postgis_tiger_geocoder extension installed.</p></li><li class="listitem"><p>Conecte ao seu banco de dados vis psql ou pgAdmin ou qualquer outra ferramenta e execute os comandos SQL seguintes. Note que se você está instalando em um banco de dados que já possui o postgis, você não precisa fazer o primeiro passo. Se você já tem a extensão <code class="varname">fuzzystrmatch</code> instalada, não é preciso fazer o segundo passo também.</p><pre class="programlisting">CREATE EXTENSION postgis;
CREATE EXTENSION fuzzystrmatch;
CREATE EXTENSION postgis_tiger_geocoder;
--this one is optional if you want to use the rules based standardizer (pagc_normalize_address)
CREATE EXTENSION address_standardizer;</pre><p>Se você já tem a extensão postgis_tiger_geocoder instalada e só quer atualizar para a última versão, execute:</p><pre class="programlisting">ALTER EXTENSION postgis UPDATE;
ALTER EXTENSION postgis_tiger_geocoder UPDATE;</pre><p>Se você fez entradas personalizadas ou alterações nos <code class="varname">tiger.loader_platform</code> e <code class="varname">tiger.loader_variables</code> , talvez você  precisará atualizar estes.</p></li><li class="listitem"><p>Para confirmar que sua instalação está funcionando corretamente, execute esse sql no seu banco de dados:</p><pre class="programlisting">SELECT na.address, na.streetname,na.streettypeabbrev, na.zip
        FROM normalize_address('1 Devonshire Place, Boston, MA 02109') AS na;</pre><p>Qual deve sair</p><pre class="screen">address | streetname | streettypeabbrev |  zip
---------+------------+------------------+-------
           1 | Devonshire | Pl               | 02109</pre></li><li class="listitem"><p>Criar um novo registro na table <code class="varname">tiger.loader_platform</code> com os paths dos seus executáveis e servidor. </p><p>Então, por exemplo, para criar um perfil chamado debbie que segue a convenção <code class="code">sh</code>, você deveria fazer:</p><pre class="programlisting">INSERT INTO tiger.loader_platform(os, declare_sect, pgbin, wget, unzip_command, psql, path_sep,
                   loader, environ_set_command, county_process_command)
SELECT 'debbie', declare_sect, pgbin, wget, unzip_command, psql, path_sep,
           loader, environ_set_command, county_process_command
  FROM tiger.loader_platform
  WHERE os = 'sh';</pre><p>E então, edite os paths na coluna <span class="emphasis"><em>declare_sect</em></span> para aqueles que servem ao pg, unzip, shp2pgsql, psql, etc da Debbie.</p><p>Se você não editou essa table <code class="varname">loader_platform</code>, ela só irá conter casos comuns de localizações de itens e você terá que editar a script gerada depois que ela for gerada.</p></li><li class="listitem"><p>As of PostGIS 2.4.1 the Zip code-5 digit tabulation area <code class="varname">zcta5</code> load step was revised to load current zcta5 data and is part of the <a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a> when enabled. It is turned off by default because it takes quite a bit of time to load (20 to 60 minutes), takes up quite a bit of disk space, and is not used that often.</p><p>To enable it, do the following:</p><pre class="programlisting">UPDATE tiger.loader_lookuptables SET load = true WHERE table_name = 'zcta520';</pre><p>If present the <a class="xref" href="#Geocode" title="Geocode">Geocode</a> function can use it if a boundary filter is added to limit to just zips in that boundary. The <a class="xref" href="#Reverse_Geocode" title="Reverse_Geocode">Reverse_Geocode</a> function uses it if the returned address is missing a zip, which often happens with highway reverse geocoding.</p></li><li class="listitem"><p>Criar uma pasta chamada <code class="filename">gisdata</code> na raiz do servidor ou do seu computador local, se você tem uma rede de conexão rápida com o servidor. Essa pasta está onde os arquivos tiger serão baixados e processados. Se não estiver satisfeito em ter a pasta na raiz do servidor  ou, simplesmente, quiser alterar para uma outra pasta para representação, edite o campo <code class="varname">staging_fold</code> na table <code class="varname">tiger.loader_variables</code>.</p></li><li class="listitem"><p>Criar uma pasta chamada temp na pasta <code class="filename">gisdata</code> ou onde designar a <code class="varname">staging_fold</code>. Esta será a pasta onde o carregador extrai os dados tiger baixados. </p></li><li class="listitem"><p>Then run the <a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a> SQL function make sure to use the name of your custom profile and copy the script to a .sh or .bat file. So for example to build the nation load:</p><pre class="programlisting">psql -c "SELECT Loader_Generate_Nation_Script('debbie')" -d geocoder -tA &gt; /gisdata/nation_script_load.sh</pre></li><li class="listitem"><p>Run the generated nation load commandline scripts.</p><pre class="programlisting">cd /gisdata
sh nation_script_load.sh</pre></li><li class="listitem"><p>After you are done running the nation script, you should have three tables in your <code class="code">tiger_data</code> schema and they should be filled with data. Confirm you do by doing the following queries from psql or pgAdmin</p><pre class="programlisting">SELECT count(*) FROM tiger_data.county_all;</pre><pre class="screen">count
-------
  3235
(1 row)</pre><pre class="programlisting">SELECT count(*) FROM tiger_data.state_all;</pre><pre class="screen">count
-------
    56
(1 row)
</pre><p>This will only have data if you marked zcta5 to be loaded</p><pre class="programlisting">SELECT count(*) FROM tiger_data.zcta5_all;</pre><pre class="screen">count
-------
  33933
(1 row)
</pre></li><li class="listitem"><p>By default the tables corresponding to <code class="varname">bg</code>, <code class="varname">tract</code>, <code class="varname">tabblock20</code> are not loaded. These tables are not used by the geocoder but are used by folks for population statistics. If you wish to load them as part of your state loads, run the following statement to enable them.</p><pre class="programlisting">UPDATE tiger.loader_lookuptables SET load = true WHERE load = false AND lookup_name IN('tract', 'bg', 'tabblock20');</pre><p>Alternatively you can load just these tables after loading state data using the <a class="xref" href="#Loader_Generate_Census_Script" title="Loader_Generate_Census_Script">Loader_Generate_Census_Script</a></p></li><li class="listitem"><p>For each state you want to load data for, generate a state script <a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a>.</p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>DO NOT Generate the state script until you have already loaded the nation data, because the state script utilizes county list loaded by nation script.</p></td></tr></table></div></li><li class="listitem"><pre class="programlisting">psql -c "SELECT Loader_Generate_Script(ARRAY['MA'], 'debbie')" -d geocoder -tA &gt; /gisdata/ma_load.sh</pre></li><li class="listitem"><p>Executar as scripts commandlines geradas</p><pre class="programlisting">cd /gisdata
sh ma_load.sh</pre></li><li class="listitem"><p>Depois que terminar de carregar todos os dados ou estiver parado em um ponto, é bom analisar todas as tiger tables para atualizar as estatísticas (incluindo as estatísticas herdadas)</p><pre class="programlisting">SELECT install_missing_indexes();
vacuum (analyze, verbose) tiger.addr;
vacuum (analyze, verbose) tiger.edges;
vacuum (analyze, verbose) tiger.faces;
vacuum (analyze, verbose) tiger.featnames;
vacuum (analyze, verbose) tiger.place;
vacuum (analyze, verbose) tiger.cousub;
vacuum (analyze, verbose) tiger.county;
vacuum (analyze, verbose) tiger.state;
vacuum (analyze, verbose) tiger.zcta5;
vacuum (analyze, verbose) tiger.zip_lookup_base;
vacuum (analyze, verbose) tiger.zip_state;
vacuum (analyze, verbose) tiger.zip_state_loc;</pre></li></ol></div></section><section class="section" id="tiger_pagc_address_standardizing"><div class="titlepage"><div><div><h3 class="title">2.4.2. Usando Padronizador de Endereço com Tiger Geocoder</h3></div></div></div><p>Uma das maiores queixas das pessoas é a função normalizador de endereços <a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a> que normaliza um endereço para preparação antes da geocoding. O normalizador está longe da perfeição e tentar corrigir suas imperfeições demanda um grande número de recursos. Como tal nós integramos com outro projeto que tem um mecanismo de padronizador de endereços muito melhor. Para usar esse novo address_standardizer, você compila a extensão como está descrito em <a class="xref" href="#installing_pagc_address_standardizer" title="2.3. Instalando e usando o padronizador de endereço">Section 2.3, “Instalando e usando o padronizador de endereço”</a> e instala como uma extensão no seu banco de dados. </p><p>Uma vez que você instala essa extensão no mesmo banco de dados que instalou <code class="code">postgis_tiger_geocoder</code>, então o <a class="xref" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a> pode ser usado ao invés do <a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a>. Essa extensão é avessa ao tiger, logo pode  ser usada com outras fontes de dados como: endereços internacionais. A extensão tiger geocoder vem compactada com suas próprias versões personalizadas de <a class="xref" href="#rulestab" title="rules table">rules table</a> ( <code class="code">tiger.pagc_rules</code>) , <a class="xref" href="#gaztab" title="gaz table">gaz table</a> (<code class="code">tiger.pagc_gaz</code>), e <a class="xref" href="#lextab" title="lex table">lex table</a> (<code class="code">tiger.pagc_lex</code>). Essas você pode adicionar e atualizar para melhorar sua experiência com o padronizador de acordo com suas necessidades.</p></section><section class="section" id="tiger_geocoder_required_tools"><div class="titlepage"><div><div><h3 class="title">2.4.3. Required tools for tiger data loading</h3></div></div></div><p>O carregador processa dados de downloads do site de censo para os respectivos arquivos de nação, solicitações de estados, extrai os arquivos e carrega cada estado para seu grupo separado de state tables. Cada state table herda das tables definidas no esquema <code class="varname">tiger</code> sendo suficiente apenas para pesquisar aquelas tables para acessar todos os dados e derrubar um conjunto de state tables a qualquer momento usando o <a class="xref" href="#Drop_State_Tables_Generate_Script" title="Drop_State_Tables_Generate_Script">Drop_State_Tables_Generate_Script</a> se quiser recarregar um estado ou não precisa de um estado mais.</p><p>Para ser capaz de carregar dados, você vai precisar das seguintes ferramentas:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Uma ferramenta para descompactar os arquivos compactados do site de censo.</p><p>Para Unix como sistemas: executável <code class="varname">unzip</code> que é instalado, normalmente, na maioria dos Unix como plataformas.</p><p>Para Windows, 7-zip é uma ferramenta comprimir/descomprimir grátis que você pode baixar no <a class="link" href="http://www.7-zip.org/" target="_top">http://www.7-zip.org/</a>  </p></li><li class="listitem"><p><code class="filename">shp2pgsql</code> commandline que é instalada por padrão quando você instala o PostGIS.</p></li><li class="listitem"><p><code class="filename">wget</code> que é uma ferramente grabber da internet, instalada na maioria dos sistemas Unix/Linux.</p><p>Se você está no Windows, você pode obter binários pre compilados do <a class="link" href="http://gnuwin32.sourceforge.net/packages/wget.htm" target="_top">http://gnuwin32.sourceforge.net/packages/wget.htm</a> </p></li></ul></div><p>If you are upgrading from tiger_2010, you'll need to first generate and run <a class="xref" href="#Drop_Nation_Tables_Generate_Script" title="Drop_Nation_Tables_Generate_Script">Drop_Nation_Tables_Generate_Script</a>. Before you load any state data, you need to load the nation wide data which you do with <a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a>. Which will generate a loader script for you. <a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a> is a one-time step that should be done for upgrading (from a prior year tiger census data) and for new installs.</p><p>Para carregar dados do estado referir-se a <a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a> para gerar uma script de dados de carregamento para sua plataforma para os estados que deseja. Note que você pode instalar estes gradativamente. Você não precisa carregar todos os estados de uma só vez. Pode carregá-los à medida que for precisando deles. </p><p>Depois que os estados desejados forem carregados, certifique-se de executar o: </p><pre class="programlisting">SELECT install_missing_indexes();</pre><p> como está descrito em <a class="xref" href="#Install_Missing_Indexes" title="Install_Missing_Indexes">Install_Missing_Indexes</a>.</p><p>Para testar que está tudo funcionando normalmente, tente executar um geocode em um endereço no seu estado, usando <a class="xref" href="#Geocode" title="Geocode">Geocode</a> </p></section><section class="section" id="upgrade_tiger_geocoder"><div class="titlepage"><div><div><h3 class="title">2.4.4. Upgrading your Tiger Geocoder Install and Data</h3></div></div></div><p>First upgrade your postgis_tiger_geocoder extension as follows:</p><pre class="programlisting">ALTER EXTENSION postgis_tiger_geocoder UPDATE;</pre><p>Em seguida, derrube todas as nation tables e carregue as novas. Gere uma drop script com essa declaração SQL, como está detalhado em <a class="xref" href="#Drop_Nation_Tables_Generate_Script" title="Drop_Nation_Tables_Generate_Script">Drop_Nation_Tables_Generate_Script</a></p><pre class="programlisting">SELECT drop_nation_tables_generate_script();</pre><p>Execute as declarações geradas drop SQL.</p><p>Gere uma script que carrega uma nação com SELECIONAR como está detalhado em <a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a></p><p><span class="bold"><strong>Para windows</strong></span></p><pre class="programlisting">SELECT loader_generate_nation_script('windows'); </pre><p><span class="bold"><strong>Para unix/linux</strong></span></p><pre class="programlisting">SELECT loader_generate_nation_script('sh');</pre><p>Refer to <a class="xref" href="#install_tiger_geocoder_extension" title="2.4.1. Tiger Geocoder Enabling your PostGIS database">Section 2.4.1, “Tiger Geocoder Enabling your PostGIS database”</a> for instructions on how to run the generate script. This only needs to be done once.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>You can have a mix of different year state tables and can upgrade each state separately. Before you upgrade a state you first need to drop the prior year state tables for that state using <a class="xref" href="#Drop_State_Tables_Generate_Script" title="Drop_State_Tables_Generate_Script">Drop_State_Tables_Generate_Script</a>.</p></td></tr></table></div></section></section><section class="section" id="idm989"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.5. Problemas comuns durante a instalação</h2></div></div></div><p>Existem várias coisas para averiguar quando a instalação ou atualização não saem como o esperado.  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Certifique-se que instalou o PostgreSQL 12 ou mais novo e que você está compilando contra a mesma versão da fonte PostgreSQL  assim como a versão do PostgreSQL que está sendo executada. Confusões podem acontecer quando sua distribuição (Linux) já instalou o PostgreSQL, ou você instalou o PostgreSQL antes e se esqueceu disso. PostGIS só irá funcionar com o PostgreSQL 12 ou mais novo, e mensagens estranhas e inesperadas de erro aparecerão se você usar uma versão mais antiga. Para verificar a versão PostgreSQL que está sendo executada, conecte ao banco de dados usando psql e faça essa consulta: </p><pre class="programlisting">SELECT version();</pre><p>Se você está usando uma distribuição baseada em RPM, você pode confirmar a existência de pacotes pre instalados utilizando o comando <span class="command"><strong>rpm</strong></span> como segue: <span class="command"><strong>rpm -qa | grep postgresql</strong></span> </p></li><li class="listitem"><p>Se sua atualização falhar, certifique-se que você está restaurando em um banco de dados que já possui o PostGIS instalado. </p><pre class="programlisting">SELECT postgis_full_version();</pre></li></ol></div><p>Também certifique que a configuração detectou a localização e versão corretas do PostgreSQL, da biblioteca do Proj4 e da biblioteca do GEOS.  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>A saída da configuração foi usada para gerar o arquivo <code class="filename">postgis_config.h</code>. Verifique que as variáveis <code class="varname">POSTGIS_PGSQL_VERSION</code>, <code class="varname">POSTGIS_PROJ_VERSION</code> e <code class="varname">POSTGIS_GEOS_VERSION</code>  foram configuradas corretamente.  </p></li></ol></div></section></section><section class="chapter" id="postgis_administration"><div class="titlepage"><div><div><h1 class="title">Chapter 3. PostGIS Administration</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#database_tuning_configuration">3.1. Performance Tuning</a></span></li><li><span class="section"><a href="#raster_configuration">3.2. Configuring raster support</a></span></li><li><span class="section"><a href="#create_spatial_db">3.3. Creating spatial databases</a></span></li><li><span class="section"><a href="#upgrading">3.4. Upgrading spatial databases</a></span></li></ul></div><section class="section" id="database_tuning_configuration"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3.1. Performance Tuning</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#idm1024">3.1.1. Startup</a></span></li><li><span class="section"><a href="#idm1049">3.1.2. Runtime</a></span></li></ul></div><p>Tuning for PostGIS performance is much like tuning for any PostgreSQL workload. The only additional consideration is that geometries and rasters are usually large, so memory-related optimizations generally have more of an impact on PostGIS than other types of PostgreSQL queries.</p><p>For general details about optimizing PostgreSQL, refer to <a class="link" href="https://wiki.postgresql.org/wiki/Tuning_Your_PostgreSQL_Server" target="_top">Tuning your PostgreSQL Server</a>.</p><p>For PostgreSQL 9.4+ configuration can be set at the server level without touching <code class="code">postgresql.conf</code> or <code class="code">postgresql.auto.conf</code> by using the <code class="code">ALTER SYSTEM</code> command.</p><pre class="programlisting">ALTER SYSTEM SET work_mem = '256MB';
-- this forces non-startup configs to take effect for new connections
SELECT pg_reload_conf();
-- show current setting value
-- use SHOW ALL to see all settings
SHOW work_mem;</pre><p>In addition to the Postgres settings, PostGIS has some custom settings which are listed in <a class="xref" href="#PostGIS_GUC" title="7.22. Grandes Variáveis Unificadas Personalizadas do PostGIS (GUCs)">Section 7.22, “Grandes Variáveis Unificadas Personalizadas do PostGIS (GUCs)”</a>.</p><section class="section" id="idm1024"><div class="titlepage"><div><div><h3 class="title">3.1.1. Startup</h3></div></div></div><p>These settings are configured in <code class="code">postgresql.conf</code>: </p><p>
         <a class="link" href="http://www.postgresql.org/docs/current/static/runtime-config-query.html#GUC-CONSTRAINT-EXCLUSION" target="_top">constraint_exclusion</a>
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Default: partition </p></li><li class="listitem"><p>This is generally used for table partitioning. The default for this is set to "partition" which is ideal for PostgreSQL 8.4 and above since it will force the planner to only analyze tables for constraint consideration if they are in an inherited hierarchy and not pay the planner penalty otherwise. </p></li></ul></div><p>
         <a class="link" href="http://www.postgresql.org/docs/current/static/runtime-config-resource.html#GUC-SHARED-BUFFERS" target="_top">shared_buffers</a>
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Default: ~128MB in PostgreSQL 9.6 </p></li><li class="listitem"><p>Set to about 25% to 40% of available RAM. On windows you may not be able to set as high. </p></li></ul></div><p><a class="link" href="https://www.postgresql.org/docs/current/static/runtime-config-resource.html#GUC-MAX-WORKER-PROCESSES" target="_top">max_worker_processes</a> This setting is only available for PostgreSQL 9.4+. For PostgreSQL 9.6+ this setting has additional importance in that it controls the max number of processes you can have for parallel queries. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Default: 8 </p></li><li class="listitem"><p>Sets the maximum number of background processes that the system can support. This parameter can only be set at server start. </p></li></ul></div></section><section class="section" id="idm1049"><div class="titlepage"><div><div><h3 class="title">3.1.2. Runtime</h3></div></div></div><p><a class="link" href="http://www.postgresql.org/docs/current/static/runtime-config-resource.html#GUC-WORK-MEM" target="_top">work_mem</a> - sets the size of memory used for sort operations and complex queries </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Default: 1-4MB </p></li><li class="listitem"><p>Adjust up for large dbs, complex queries, lots of RAM </p></li><li class="listitem"><p>Adjust down for many concurrent users or low RAM. </p></li><li class="listitem"><p>If you have lots of RAM and few developers: </p><pre class="programlisting">SET work_mem TO '256MB';</pre><p>
          </p></li></ul></div><p><a class="link" href="http://www.postgresql.org/docs/current/static/runtime-config-resource.html#GUC-MAINTENANCE-WORK-MEM" target="_top">maintenance_work_mem</a> - the memory size used for VACUUM, CREATE INDEX, etc. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Default: 16-64MB </p></li><li class="listitem"><p>Generally too low - ties up I/O, locks objects while swapping memory </p></li><li class="listitem"><p>Recommend 32MB to 1GB on production servers w/lots of RAM, but depends on the # of concurrent users. If you have lots of RAM and few developers: </p><pre class="programlisting">SET maintenance_work_mem TO '1GB';</pre><p>
          </p></li></ul></div><p>
        <a class="link" href="https://www.postgresql.org/docs/current/static/runtime-config-resource.html#GUC-MAX-PARALLEL-WORKERS-PER-GATHER" target="_top">max_parallel_workers_per_gather</a>
      </p><p>This setting is only available for PostgreSQL 9.6+ and will only affect PostGIS 2.3+, since only PostGIS 2.3+ supports parallel queries. If set to higher than 0, then some queries such as those involving relation functions like <code class="code">ST_Intersects</code> can use multiple processes and can run more than twice as fast when doing so. If you have a lot of processors to spare, you should change the value of this to as many processors as you have. Also make sure to bump up <code class="code">max_worker_processes</code> to at least as high as this number. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Default: 0 </p></li><li class="listitem"><p>Sets the maximum number of workers that can be started by a single <code class="varname">Gather</code> node. Parallel workers are taken from the pool of processes established by <code class="varname">max_worker_processes</code>. Note that the requested number of workers may not actually be available at run time. If this occurs, the plan will run with fewer workers than expected, which may be inefficient. Setting this value to 0, which is the default, disables parallel query execution. </p></li></ul></div></section></section><section class="section" id="raster_configuration"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3.2. Configuring raster support</h2></div></div></div><p>If you enabled raster support you may want to read below how to properly configure it. </p><p>As of PostGIS 2.1.3, out-of-db rasters and all raster drivers are disabled by default. In order to re-enable these, you need to set the following environment variables <code class="varname">POSTGIS_GDAL_ENABLED_DRIVERS</code> and <code class="varname">POSTGIS_ENABLE_OUTDB_RASTERS</code> in the server environment. For PostGIS 2.2, you can use the more cross-platform approach of setting the corresponding <a class="xref" href="#PostGIS_GUC" title="7.22. Grandes Variáveis Unificadas Personalizadas do PostGIS (GUCs)">Section 7.22, “Grandes Variáveis Unificadas Personalizadas do PostGIS (GUCs)”</a>.</p><p>If you want to enable offline raster:</p><pre class="programlisting">POSTGIS_ENABLE_OUTDB_RASTERS=1</pre><p>Any other setting or no setting at all will disable out of db rasters.</p><p>In order to enable all GDAL drivers available in your GDAL install, set this environment variable as follows</p><pre class="programlisting">POSTGIS_GDAL_ENABLED_DRIVERS=ENABLE_ALL</pre><p>If you want to only enable specific drivers, set your environment variable as follows:</p><pre class="programlisting">POSTGIS_GDAL_ENABLED_DRIVERS="GTiff PNG JPEG GIF XYZ"</pre><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If you are on windows, do not quote the driver list</p></td></tr></table></div><p>Setting environment variables varies depending on OS. For PostgreSQL installed on Ubuntu or Debian via apt-postgresql, the preferred way is to edit <code class="filename">/etc/postgresql/<em class="replaceable"><code>10</code></em>/<em class="replaceable"><code>main</code></em>/environment</code> where 10 refers to version of PostgreSQL and main refers to the cluster.</p><p>On windows, if you are running as a service, you can set via System variables which for Windows 7 you can get to by right-clicking on Computer-&gt;Properties Advanced System Settings or in explorer navigating to <code class="varname">Control Panel\All Control Panel Items\System</code>. Then clicking <span class="emphasis"><em>Advanced System Settings -&gt;Advanced-&gt;Environment Variables</em></span> and adding new system variables.</p><p>After you set the environment variables, you'll need to restart your PostgreSQL service for the changes to take effect.</p></section><section class="section" id="create_spatial_db"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3.3. Creating spatial databases</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#create_new_db_extensions">3.3.1. Spatially enable database using EXTENSION</a></span></li><li><span class="section"><a href="#create_new_db">3.3.2. Spatially enable database without using EXTENSION (discouraged)</a></span></li></ul></div><section class="section" id="create_new_db_extensions"><div class="titlepage"><div><div><h3 class="title">3.3.1. Spatially enable database using EXTENSION</h3></div></div></div><p>If you are using PostgreSQL 9.1+ and have compiled and installed the extensions/postgis modules, you can turn a database into a spatial one using the EXTENSION mechanism. </p><p>Core postgis extension includes geometry, geography, spatial_ref_sys and all the functions and comments. Raster and topology are packaged as a separate extension. </p><p>Run the following SQL snippet in the database you want to enable spatially: </p><pre class="programlisting">CREATE EXTENSION IF NOT EXISTS plpgsql;
      CREATE EXTENSION postgis;
      CREATE EXTENSION postgis_raster; -- OPTIONAL
      CREATE EXTENSION postgis_topology; -- OPTIONAL
</pre><p>
	</p></section><section class="section" id="create_new_db"><div class="titlepage"><div><div><h3 class="title">3.3.2. Spatially enable database without using EXTENSION (discouraged)</h3></div></div></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This is generally only needed if you cannot or don't want to get PostGIS installed in the PostgreSQL extension directory (for example during testing, development or in a restricted environment).</p></td></tr></table></div><p>Adding PostGIS objects and function definitions into your database is done by loading the various sql files located in <code class="filename">[prefix]/share/contrib</code> as specified during the build phase. </p><p>The core PostGIS objects (geometry and geography types, and their support functions) are in the <code class="filename">postgis.sql</code> script. Raster objects are in the <code class="filename">rtpostgis.sql</code> script. Topology objects are in the <code class="filename">topology.sql</code> script. </p><p>For a complete set of EPSG coordinate system definition identifiers, you can also load the <code class="filename">spatial_ref_sys.sql</code> definitions file and populate the <code class="varname">spatial_ref_sys</code> table. This will permit you to perform ST_Transform() operations on geometries. </p><p>If you wish to add comments to the PostGIS functions, you can find them in the <code class="filename">postgis_comments.sql</code> script. Comments can be viewed by simply typing <span class="command"><strong>\dd [function_name]</strong></span> from a <span class="command"><strong>psql</strong></span> terminal window. </p><p>Run the following Shell commands in your terminal: </p><pre class="programlisting">DB=[yourdatabase]
    SCRIPTSDIR=`pg_config --sharedir`/contrib/postgis-3.4/

    # Core objects
    psql -d ${DB} -f ${SCRIPTSDIR}/postgis.sql
    psql -d ${DB} -f ${SCRIPTSDIR}/spatial_ref_sys.sql
    psql -d ${DB} -f ${SCRIPTSDIR}/postgis_comments.sql # OPTIONAL

    # Raster support (OPTIONAL)
    psql -d ${DB} -f ${SCRIPTSDIR}/rtpostgis.sql
    psql -d ${DB} -f ${SCRIPTSDIR}/raster_comments.sql # OPTIONAL

    # Topology support (OPTIONAL)
    psql -d ${DB} -f ${SCRIPTSDIR}/topology.sql
    psql -d ${DB} -f ${SCRIPTSDIR}/topology_comments.sql # OPTIONAL
</pre><p>
  </p></section></section><section class="section" id="upgrading"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3.4. Upgrading spatial databases</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#soft_upgrade">3.4.1. Soft upgrade</a></span></li><li><span class="section"><a href="#hard_upgrade">3.4.2. Hard upgrade</a></span></li></ul></div><p>Upgrading existing spatial databases can be tricky as it requires replacement or introduction of new PostGIS object definitions. </p><p>Unfortunately not all definitions can be easily replaced in a live database, so sometimes your best bet is a dump/reload process. </p><p>PostGIS provides a SOFT UPGRADE procedure for minor or bugfix releases, and a HARD UPGRADE procedure for major releases. </p><p>Before attempting to upgrade PostGIS, it is always worth to backup your data. If you use the -Fc flag to pg_dump you will always be able to restore the dump with a HARD UPGRADE. </p><section class="section" id="soft_upgrade"><div class="titlepage"><div><div><h3 class="title">3.4.1. Soft upgrade</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#soft_upgrade_extensions">3.4.1.1. Soft Upgrade 9.1+ using extensions</a></span></li><li><span class="section"><a href="#soft_upgrade_sql_script">3.4.1.2. Soft Upgrade Pre 9.1+ or without extensions</a></span></li></ul></div><p>If you installed your database using extensions, you'll need to upgrade using the extension model as well. If you installed using the old sql script way, you are advised to switch your install to extensions because the script way is no longer supported. </p><section class="section" id="soft_upgrade_extensions"><div class="titlepage"><div><div><h4 class="title">3.4.1.1. Soft Upgrade 9.1+ using extensions</h4></div></div></div><p>If you originally installed PostGIS with extensions, then you need to upgrade using extensions as well. Doing a minor upgrade with extensions, is fairly painless.</p><p>If you are running PostGIS 3 or above, then you should use the <a class="xref" href="#PostGIS_Extensions_Upgrade" title="PostGIS_Extensions_Upgrade">PostGIS_Extensions_Upgrade</a> function to upgrade to the latest version you have installed.</p><pre class="programlisting">SELECT postgis_extensions_upgrade();</pre><p>If you are running PostGIS 2.5 or lower, then do the following:</p><pre class="programlisting">ALTER EXTENSION postgis UPDATE;
SELECT postgis_extensions_upgrade();
-- This second call is needed to rebundle postgis_raster extension
SELECT postgis_extensions_upgrade();
</pre><p>If you have multiple versions of PostGIS installed, and you don't want to upgrade to the latest, you can explicitly specify the version as follows:</p><pre class="programlisting">ALTER EXTENSION postgis UPDATE TO "3.5.2";
ALTER EXTENSION postgis_topology UPDATE TO "3.5.2";</pre><p>If you get an error notice something like:</p><pre class="programlisting">No migration path defined for … to 3.5.2</pre><p>Then you'll need to backup your database, create a fresh one as described in <a class="xref" href="#create_new_db_extensions" title="3.3.1. Spatially enable database using EXTENSION">Section 3.3.1, “Spatially enable database using EXTENSION”</a> and then restore your backup on top of this new database.</p><p>If you get a notice message like:</p><pre class="programlisting">Version "3.5.2" of extension "postgis" is already installed</pre><p>Then everything is already up to date and you can safely ignore it. <span class="bold"><strong>UNLESS</strong></span> you're attempting to upgrade from an development version to the next (which doesn't get a new version number); in that case you can append "next" to the version string, and next time you'll need to drop the "next" suffix again: </p><pre class="programlisting">ALTER EXTENSION postgis UPDATE TO "3.5.2next";
ALTER EXTENSION postgis_topology UPDATE TO "3.5.2next";</pre><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If you installed PostGIS originally without a version specified, you can often skip the reinstallation of postgis extension before restoring since the backup just has <code class="code">CREATE EXTENSION postgis</code> and thus picks up the newest latest version during restore.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If you are upgrading PostGIS extension from a version prior to 3.0.0, you will have a new extension <span class="emphasis"><em>postgis_raster</em></span> which you can safely drop, if you don't need raster support. You can drop as follows:</p><pre class="programlisting">DROP EXTENSION postgis_raster;</pre></td></tr></table></div></section><section class="section" id="soft_upgrade_sql_script"><div class="titlepage"><div><div><h4 class="title">3.4.1.2. Soft Upgrade Pre 9.1+ or without extensions</h4></div></div></div><p>This section applies only to those who installed PostGIS not using extensions. If you have extensions and try to upgrade with this approach you'll get messages like:</p><pre class="programlisting">can't drop … because postgis extension depends on it</pre><p>NOTE: if you are moving from PostGIS 1.* to PostGIS 2.* or from PostGIS 2.* prior to r7409, you cannot use this procedure but would rather need to do a <a class="link" href="#hard_upgrade" title="3.4.2. Hard upgrade">HARD UPGRADE</a>. </p><p>After compiling and installing (make install) you should find a set of <code class="filename">*_upgrade.sql</code> files in the installation folders. You can list them all with: </p><pre class="programlisting">ls `pg_config --sharedir`/contrib/postgis-3.5.2/*_upgrade.sql</pre><p>Load them all in turn, starting from <code class="filename">postgis_upgrade.sql</code>. </p><pre class="programlisting">psql -f postgis_upgrade.sql -d your_spatial_database</pre><p>The same procedure applies to raster, topology and sfcgal extensions, with upgrade files named <code class="filename">rtpostgis_upgrade.sql</code>, <code class="filename">topology_upgrade.sql</code> and <code class="filename">sfcgal_upgrade.sql</code> respectively. If you need them: </p><pre class="programlisting">psql -f rtpostgis_upgrade.sql -d your_spatial_database</pre><pre class="programlisting">psql -f topology_upgrade.sql -d your_spatial_database</pre><pre class="programlisting">psql -f sfcgal_upgrade.sql -d your_spatial_database</pre><p>You are advised to switch to an extension based install by running</p><pre class="programlisting">psql -c "SELECT postgis_extensions_upgrade();"</pre><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If you can't find the <code class="filename">postgis_upgrade.sql</code> specific for upgrading your version you are using a version too early for a soft upgrade and need to do a <a class="link" href="#hard_upgrade" title="3.4.2. Hard upgrade">HARD UPGRADE</a>. </p></td></tr></table></div><p>The <a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a> function should inform you about the need to run this kind of upgrade using a "procs need upgrade" message. </p></section></section><section class="section" id="hard_upgrade"><div class="titlepage"><div><div><h3 class="title">3.4.2. Hard upgrade</h3></div></div></div><p>By HARD UPGRADE we mean full dump/reload of postgis-enabled databases. You need a HARD UPGRADE when PostGIS objects' internal storage changes or when SOFT UPGRADE is not possible. The <a class="link" href="#release_notes" title="Appendix A. Apêndice">Release Notes</a> appendix reports for each version whether you need a dump/reload (HARD UPGRADE) to upgrade. </p><p>The dump/reload process is assisted by the postgis_restore script which takes care of skipping from the dump all definitions which belong to PostGIS (including old ones), allowing you to restore your schemas and data into a database with PostGIS installed without getting duplicate symbol errors or bringing forward deprecated objects. </p><p>Supplementary instructions for windows users are available at <a class="link" href="http://trac.osgeo.org/postgis/wiki/UsersWikiWinUpgrade" target="_top">Windows Hard upgrade</a>.</p><p>The Procedure is as follows: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Create a "custom-format" dump of the database you want to upgrade (let's call it <code class="varname">olddb</code>) include binary blobs (-b) and verbose (-v) output. The user can be the owner of the db, need not be postgres super account. </p><pre class="programlisting">pg_dump -h localhost -p 5432 -U postgres -Fc -b -v -f "/somepath/olddb.backup" olddb</pre></li><li class="listitem"><p>Do a fresh install of PostGIS in a new database -- we'll refer to this database as <code class="varname">newdb</code>. Please refer to <a class="xref" href="#create_new_db" title="3.3.2. Spatially enable database without using EXTENSION (discouraged)">Section 3.3.2, “Spatially enable database without using EXTENSION (discouraged)”</a> and <a class="xref" href="#create_new_db_extensions" title="3.3.1. Spatially enable database using EXTENSION">Section 3.3.1, “Spatially enable database using EXTENSION”</a> for instructions on how to do this. </p><p>The spatial_ref_sys entries found in your dump will be restored, but they will not override existing ones in spatial_ref_sys. This is to ensure that fixes in the official set will be properly propagated to restored databases. If for any reason you really want your own overrides of standard entries just don't load the spatial_ref_sys.sql file when creating the new db. </p><p>If your database is really old or you know you've been using long deprecated functions in your views and functions, you might need to load <code class="filename">legacy.sql</code> for all your functions and views etc. to properly come back. Only do this if _really_ needed. Consider upgrading your views and functions before dumping instead, if possible. The deprecated functions can be later removed by loading <code class="filename">uninstall_legacy.sql</code>. </p></li><li class="listitem"><p>Restore your backup into your fresh <code class="varname">newdb</code> database using postgis_restore. Unexpected errors, if any, will be printed to the standard error stream by psql. Keep a log of those. </p><pre class="programlisting">postgis_restore "/somepath/olddb.backup" | psql -h localhost -p 5432 -U postgres newdb 2&gt; errors.txt</pre></li></ol></div><p>Errors may arise in the following cases: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Some of your views or functions make use of deprecated PostGIS objects. In order to fix this you may try loading <code class="filename">legacy.sql</code> script prior to restore or you'll have to restore to a version of PostGIS which still contains those objects and try a migration again after porting your code. If the <code class="filename">legacy.sql</code> way works for you, don't forget to fix your code to stop using deprecated functions and drop them loading <code class="filename">uninstall_legacy.sql</code>. </p></li><li class="listitem"><p>Some custom records of spatial_ref_sys in dump file have an invalid SRID value. Valid SRID values are bigger than 0 and smaller than 999000. Values in the 999000.999999 range are reserved for internal use while values &gt; 999999 can't be used at all. All your custom records with invalid SRIDs will be retained, with those &gt; 999999 moved into the reserved range, but the spatial_ref_sys table would lose a check constraint guarding for that invariant to hold and possibly also its primary key ( when multiple invalid SRIDS get converted to the same reserved SRID value ). </p><p>In order to fix this you should copy your custom SRS to a SRID with a valid value (maybe in the 910000..910999 range), convert all your tables to the new srid (see <a class="xref" href="#UpdateGeometrySRID" title="UpdateGeometrySRID">UpdateGeometrySRID</a>), delete the invalid entry from spatial_ref_sys and re-construct the check(s) with: </p><pre class="programlisting">
ALTER TABLE spatial_ref_sys ADD CONSTRAINT spatial_ref_sys_srid_check check (srid 
&gt; 0 AND srid &lt; 999000 );
</pre><pre class="programlisting">ALTER TABLE spatial_ref_sys ADD PRIMARY KEY(srid));
    </pre><p>If you are upgrading an old database containing french <a class="link" href="https://en.wikipedia.org/wiki/Institut_g%C3%A9ographique_national" target="_top"> IGN </a> cartography, you will have probably SRIDs out of range and you will see, when importing your database, issues like this : </p><pre class="programlisting">WARNING: SRID 310642222 converted to 999175 (in reserved zone)</pre><p>In this case, you can try following steps : first throw out completely the IGN from the sql which is resulting from postgis_restore. So, after having run : </p><pre class="programlisting">postgis_restore "/somepath/olddb.backup" &gt; olddb.sql</pre><p>run this command : </p><pre class="programlisting">grep -v IGNF olddb.sql &gt; olddb-without-IGN.sql</pre><p>Create then your newdb, activate the required Postgis extensions, and insert properly the french system IGN with : <a class="link" href="https://raw.githubusercontent.com/Remi-C/IGN_spatial_ref_for_PostGIS/master/Put_IGN_SRS_into_Postgis.sql" target="_top"> this script </a> After these operations, import your data : </p><pre class="programlisting">psql -h localhost -p 5432 -U postgres -d newdb -f olddb-without-IGN.sql  2&gt; errors.txt</pre></li></ol></div></section></section></section><section class="chapter" id="using_postgis_dbmanagement"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Data Management</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#RefObject">4.1. Carregando dados GIS (Vector)</a></span></li><li><span class="section"><a href="#PostGIS_Geometry">4.2. Geometry Data Type</a></span></li><li><span class="section"><a href="#PostGIS_Geography">4.3. Tipo de geografia POstGIS</a></span></li><li><span class="section"><a href="#OGC_Validity">4.4. Geometry Validation</a></span></li><li><span class="section"><a href="#spatial_ref_sys">4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems</a></span></li><li><span class="section"><a href="#idm2035">4.6. Criando uma Tabela Espacial </a></span></li><li><span class="section"><a href="#loading-data">4.7. Carregando dados GIS (Vector)</a></span></li><li><span class="section"><a href="#extracting-data">4.8. Criando uma Tabela Espacial </a></span></li><li><span class="section"><a href="#build-indexes">4.9. Construindo índidces</a></span></li></ul></div><section class="section" id="RefObject"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.1. Carregando dados GIS (Vector)</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#OGC_Geometry">4.1.1. OGC Geometry</a></span></li><li><span class="section"><a href="#SQL_MM_Part3">4.1.2. SQL-MM Part 3</a></span></li><li><span class="section"><a href="#OpenGISWKBWKT">4.1.3. OpenGIS WKB e WKT</a></span></li></ul></div><section class="section" id="OGC_Geometry"><div class="titlepage"><div><div><h3 class="title">4.1.1. OGC Geometry</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#Point">4.1.1.1. Ponto</a></span></li><li><span class="section"><a href="#LineString">4.1.1.2. LineString</a></span></li><li><span class="section"><a href="#LinearRing">4.1.1.3. LinearRing</a></span></li><li><span class="section"><a href="#Polygon">4.1.1.4. Polígono</a></span></li><li><span class="section"><a href="#MultiPoint">4.1.1.5. MultiPoint</a></span></li><li><span class="section"><a href="#MultiLineString">4.1.1.6. MultiLineString</a></span></li><li><span class="section"><a href="#MultiPolygon">4.1.1.7. MultiPolygon</a></span></li><li><span class="section"><a href="#GeometryCollection">4.1.1.8. GeometryCollection</a></span></li><li><span class="section"><a href="#PolyhedralSurface">4.1.1.9. PolyhedralSurface</a></span></li><li><span class="section"><a href="#Triangle">4.1.1.10. Triangle</a></span></li><li><span class="section"><a href="#TIN">4.1.1.11. TIN</a></span></li></ul></div><p>The Open Geospatial Consortium (OGC) developed the <a class="link" href="https://www.ogc.org/standards/sfa" target="_top"><span class="emphasis"><em>Simple Features Access</em></span></a> standard (SFA) to provide a model for geospatial data. It defines the fundamental spatial type of <span class="bold"><strong>Geometry</strong></span>, along with operations which manipulate and transform geometry values to perform spatial analysis tasks. PostGIS implements the OGC Geometry model as the PostgreSQL data types <a class="link" href="#PostGIS_Geometry" title="4.2. Geometry Data Type">geometry</a> and <a class="link" href="#PostGIS_Geography" title="4.3. Tipo de geografia POstGIS">geography</a>. </p><p>Geometry is an <span class="emphasis"><em>abstract</em></span> type. Geometry values belong to one of its <span class="emphasis"><em>concrete</em></span> subtypes which represent various kinds and dimensions of geometric shapes. These include the <span class="bold"><strong>atomic</strong></span> types <a class="link" href="#Point" title="4.1.1.1. Ponto">Point</a>, <a class="link" href="#LineString" title="4.1.1.2. LineString">LineString</a>, <a class="link" href="#LinearRing" title="4.1.1.3. LinearRing">LinearRing</a> and <a class="link" href="#Polygon" title="4.1.1.4. Polígono">Polygon</a>, and the <span class="bold"><strong>collection</strong></span> types <a class="link" href="#MultiPoint" title="4.1.1.5. MultiPoint">MultiPoint</a>, <a class="link" href="#MultiLineString" title="4.1.1.6. MultiLineString">MultiLineString</a>, <a class="link" href="#MultiPolygon" title="4.1.1.7. MultiPolygon">MultiPolygon</a> and <a class="link" href="#GeometryCollection" title="4.1.1.8. GeometryCollection">GeometryCollection</a>. The <a class="link" href="https://portal.ogc.org/files/?artifact_id=25355" target="_top"><span class="emphasis"><em>Simple Features Access - Part 1: Common architecture v1.2.1</em></span></a> adds subtypes for the structures <a class="link" href="#PolyhedralSurface" title="4.1.1.9. PolyhedralSurface">PolyhedralSurface</a>, <a class="link" href="#Triangle" title="4.1.1.10. Triangle">Triangle</a> and <a class="link" href="#TIN" title="4.1.1.11. TIN">TIN</a>. </p><p>Geometry models shapes in the 2-dimensional Cartesian plane. The PolyhedralSurface, Triangle, and TIN types can also represent shapes in 3-dimensional space. The size and location of shapes are specified by their <span class="bold"><strong>coordinates</strong></span>. Each coordinate has a X and Y <span class="bold"><strong>ordinate</strong></span> value determining its location in the plane. Shapes are constructed from points or line segments, with points specified by a single coordinate, and line segments by two coordinates. </p><p>Coordinates may contain optional Z and M ordinate values. The Z ordinate is often used to represent elevation. The M ordinate contains a measure value, which may represent time or distance. If Z or M values are present in a geometry value, they must be defined for each point in the geometry. If a geometry has Z or M ordinates the <span class="bold"><strong>coordinate dimension</strong></span> is 3D; if it has both Z and M the coordinate dimension is 4D. </p><p>Geometry values are associated with a <span class="bold"><strong>spatial reference system</strong></span> indicating the coordinate system in which it is embedded. The spatial reference system is identified by the geometry SRID number. The units of the X and Y axes are determined by the spatial reference system. In <span class="bold"><strong>planar</strong></span> reference systems the X and Y coordinates typically represent easting and northing, while in <span class="bold"><strong>geodetic</strong></span> systems they represent longitude and latitude. SRID 0 represents an infinite Cartesian plane with no units assigned to its axes. See <a class="xref" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a>. </p><p>The geometry <span class="bold"><strong>dimension</strong></span> is a property of geometry types. Point types have dimension 0, linear types have dimension 1, and polygonal types have dimension 2. Collections have the dimension of the maximum element dimension. </p><p>A geometry value may be <span class="bold"><strong>empty</strong></span>. Empty values contain no vertices (for atomic geometry types) or no elements (for collections). </p><p>An important property of geometry values is their spatial <span class="bold"><strong>extent</strong></span> or <span class="bold"><strong>bounding box</strong></span>, which the OGC model calls <span class="bold"><strong>envelope</strong></span>. This is the 2 or 3-dimensional box which encloses the coordinates of a geometry. It is an efficient way to represent a geometry's extent in coordinate space and to check whether two geometries interact. </p><p>The geometry model allows evaluating topological spatial relationships as described in <a class="xref" href="#DE-9IM" title="5.1.1. Dimensionally Extended 9-Intersection Model">Section 5.1.1, “Dimensionally Extended 9-Intersection Model”</a>. To support this the concepts of <span class="bold"><strong>interior</strong></span>, <span class="bold"><strong>boundary</strong></span> and <span class="bold"><strong>exterior</strong></span> are defined for each geometry type. Geometries are topologically closed, so they always contain their boundary. The boundary is a geometry of dimension one less than that of the geometry itself. </p><p>The OGC geometry model defines validity rules for each geometry type. These rules ensure that geometry values represents realistic situations (e.g. it is possible to specify a polygon with a hole lying outside the shell, but this makes no sense geometrically and is thus invalid). PostGIS also allows storing and manipulating invalid geometry values. This allows detecting and fixing them if needed. See <a class="xref" href="#OGC_Validity" title="4.4. Geometry Validation">Section 4.4, “Geometry Validation”</a> </p><section class="section" id="Point"><div class="titlepage"><div><div><h4 class="title">4.1.1.1. Ponto</h4></div></div></div><p>A Point is a 0-dimensional geometry that represents a single location in coordinate space.</p><pre class="programlisting">POINT (1 2)
POINT Z (1 2 3)
POINT ZM (1 2 3 4)
</pre></section><section class="section" id="LineString"><div class="titlepage"><div><div><h4 class="title">4.1.1.2. LineString</h4></div></div></div><p>A LineString is a 1-dimensional line formed by a contiguous sequence of line segments. Each line segment is defined by two points, with the end point of one segment forming the start point of the next segment. An OGC-valid LineString has either zero or two or more points, but PostGIS also allows single-point LineStrings. LineStrings may cross themselves (self-intersect). A LineString is <span class="bold"><strong>closed</strong></span> if the start and end points are the same. A LineString is <span class="bold"><strong>simple</strong></span> if it does not self-intersect. </p><pre class="programlisting">LINESTRING (1 2, 3 4, 5 6)</pre></section><section class="section" id="LinearRing"><div class="titlepage"><div><div><h4 class="title">4.1.1.3. LinearRing</h4></div></div></div><p>A LinearRing is a LineString which is both closed and simple. The first and last points must be equal, and the line must not self-intersect.</p><pre class="programlisting">LINEARRING (0 0 0, 4 0 0, 4 4 0, 0 4 0, 0 0 0)</pre></section><section class="section" id="Polygon"><div class="titlepage"><div><div><h4 class="title">4.1.1.4. Polígono</h4></div></div></div><p>A Polygon is a 2-dimensional planar region, delimited by an exterior boundary (the shell) and zero or more interior boundaries (holes). Each boundary is a <a class="link" href="#LinearRing" title="4.1.1.3. LinearRing">LinearRing</a>. </p><pre class="programlisting">POLYGON ((0 0 0,4 0 0,4 4 0,0 4 0,0 0 0),(1 1 0,2 1 0,2 2 0,1 2 0,1 1 0))</pre></section><section class="section" id="MultiPoint"><div class="titlepage"><div><div><h4 class="title">4.1.1.5. MultiPoint</h4></div></div></div><p>A MultiPoint is a collection of Points.</p><pre class="programlisting">MULTIPOINT ( (0 0), (1 2) )</pre></section><section class="section" id="MultiLineString"><div class="titlepage"><div><div><h4 class="title">4.1.1.6. MultiLineString</h4></div></div></div><p>A MultiLineString is a collection of LineStrings. A MultiLineString is closed if each of its elements is closed. </p><pre class="programlisting">MULTILINESTRING ( (0 0,1 1,1 2), (2 3,3 2,5 4) )</pre></section><section class="section" id="MultiPolygon"><div class="titlepage"><div><div><h4 class="title">4.1.1.7. MultiPolygon</h4></div></div></div><p>A MultiPolygon is a collection of non-overlapping, non-adjacent Polygons. Polygons in the collection may touch only at a finite number of points. </p><pre class="programlisting">MULTIPOLYGON (((1 5, 5 5, 5 1, 1 1, 1 5)), ((6 5, 9 1, 6 1, 6 5)))</pre></section><section class="section" id="GeometryCollection"><div class="titlepage"><div><div><h4 class="title">4.1.1.8. GeometryCollection</h4></div></div></div><p>A GeometryCollection is a heterogeneous (mixed) collection of geometries.</p><pre class="programlisting">GEOMETRYCOLLECTION ( POINT(2 3), LINESTRING(2 3, 3 4))</pre></section><section class="section" id="PolyhedralSurface"><div class="titlepage"><div><div><h4 class="title">4.1.1.9. PolyhedralSurface</h4></div></div></div><p>A PolyhedralSurface is a contiguous collection of patches or facets which share some edges. Each patch is a planar Polygon. If the Polygon coordinates have Z ordinates then the surface is 3-dimensional.</p><pre class="programlisting">POLYHEDRALSURFACE Z (
  ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
  ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)),
  ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
  ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
  ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),
  ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )</pre></section><section class="section" id="Triangle"><div class="titlepage"><div><div><h4 class="title">4.1.1.10. Triangle</h4></div></div></div><p>A Triangle is a polygon defined by three distinct non-collinear vertices. Because a Triangle is a polygon it is specified by four coordinates, with the first and fourth being equal. </p><pre class="programlisting">TRIANGLE ((0 0, 0 9, 9 0, 0 0))</pre></section><section class="section" id="TIN"><div class="titlepage"><div><div><h4 class="title">4.1.1.11. TIN</h4></div></div></div><p>A TIN is a collection of non-overlapping <a class="link" href="#Triangle" title="4.1.1.10. Triangle">Triangle</a>s representing a <a class="link" href="https://en.wikipedia.org/wiki/Triangulated_irregular_network" target="_top">Triangulated Irregular Network</a>. </p><pre class="programlisting">TIN Z ( ((0 0 0, 0 0 1, 0 1 0, 0 0 0)), ((0 0 0, 0 1 0, 1 1 0, 0 0 0)) )</pre></section></section><section class="section" id="SQL_MM_Part3"><div class="titlepage"><div><div><h3 class="title">4.1.2. SQL-MM Part 3</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#CircularString">4.1.2.1. CircularString</a></span></li><li><span class="section"><a href="#CompoundCurve">4.1.2.2. CompoundCurve</a></span></li><li><span class="section"><a href="#CurvePolygon">4.1.2.3. CurvePolygon</a></span></li><li><span class="section"><a href="#MultiCurve">4.1.2.4. MultiCurve</a></span></li><li><span class="section"><a href="#MultiSurface">4.1.2.5. MultiSurface</a></span></li></ul></div><p>The <a class="link" href="https://www.iso.org/obp/ui/#iso:std:iso-iec:13249:-3:ed-5:v1:en" target="_top"><span class="emphasis"><em>ISO/IEC 13249-3 SQL Multimedia - Spatial</em></span></a> standard (SQL/MM) extends the OGC SFA to define Geometry subtypes containing curves with circular arcs. The SQL/MM types support 3DM, 3DZ and 4D coordinates. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Todos as comparações de pontos flutuantes dentro da implementação SQL-MM são representadas com uma tolerância específica, atualmente 1E-8. </p></td></tr></table></div><section class="section" id="CircularString"><div class="titlepage"><div><div><h4 class="title">4.1.2.1. CircularString</h4></div></div></div><p>CircularString is the basic curve type, similar to a LineString in the linear world. A single arc segment is specified by three points: the start and end points (first and third) and some other point on the arc. To specify a closed circle the start and end points are the same and the middle point is the opposite point on the circle diameter (which is the center of the arc). In a sequence of arcs the end point of the previous arc is the start point of the next arc, just like the segments of a LineString. This means that a CircularString must have an odd number of points greater than 1.</p><pre class="programlisting">CIRCULARSTRING(0 0, 1 1, 1 0)

CIRCULARSTRING(0 0, 4 0, 4 4, 0 4, 0 0)</pre></section><section class="section" id="CompoundCurve"><div class="titlepage"><div><div><h4 class="title">4.1.2.2. CompoundCurve</h4></div></div></div><p>Uma curva composta é uma curva única e contínua que tem segmentos curvados (circulares) e lineares. Isto significa que, além de ter componentes bem formados, o ponto final de cada componente (exceto o último) deve ser coincidente com o ponto inicial do componente seguinte.</p><pre class="programlisting">COMPOUNDCURVE( CIRCULARSTRING(0 0, 1 1, 1 0),(1 0, 0 1))</pre></section><section class="section" id="CurvePolygon"><div class="titlepage"><div><div><h4 class="title">4.1.2.3. CurvePolygon</h4></div></div></div><p>Um POLÍGONOCURVO é como um polígono, com um anel externo e zero ou mais anéis internos. A diferença é que um anel pode obter a forma de uma string circular, linear ou composta.  </p><p>Assim como o PostGIS 1.4, o PostGIS suporta curvas compostas em um polígono curvo. </p><pre class="programlisting">CURVEPOLYGON(
  CIRCULARSTRING(0 0, 4 0, 4 4, 0 4, 0 0),
  (1 1, 3 3, 3 1, 1 1) )</pre><p>Example: A CurvePolygon with the shell defined by a CompoundCurve containing a CircularString and a LineString, and a hole defined by a CircularString</p><pre class="programlisting">CURVEPOLYGON(
  COMPOUNDCURVE( CIRCULARSTRING(0 0,2 0, 2 1, 2 3, 4 3),
                 (4 3, 4 5, 1 4, 0 0)),
  CIRCULARSTRING(1.7 1, 1.4 0.4, 1.6 0.4, 1.6 0.5, 1.7 1) )</pre></section><section class="section" id="MultiCurve"><div class="titlepage"><div><div><h4 class="title">4.1.2.4. MultiCurve</h4></div></div></div><p>A MULTICURVA é uma coleção de curvas, que podem incluir strings lineares, circulares e compostas. </p><pre class="programlisting">MULTICURVE( (0 0, 5 5), CIRCULARSTRING(4 0, 4 4, 8 4))</pre></section><section class="section" id="MultiSurface"><div class="titlepage"><div><div><h4 class="title">4.1.2.5. MultiSurface</h4></div></div></div><p>Esta é uma coleção de superfícies, que podem ser polígonos (lineares) ou polígonos curvos.</p><pre class="programlisting">MULTISURFACE(
  CURVEPOLYGON(
    CIRCULARSTRING( 0 0, 4 0, 4 4, 0 4, 0 0),
    (1 1, 3 3, 3 1, 1 1)),
  ((10 10, 14 12, 11 10, 10 10), (11 11, 11.5 11, 11 11.5, 11 11)))</pre></section></section><section class="section" id="OpenGISWKBWKT"><div class="titlepage"><div><div><h3 class="title">4.1.3. OpenGIS WKB e WKT</h3></div></div></div><p>A especificação OpenGIS define dois caminhos padrão de expressar objetos espaciais: o Well-Known Text (WKT) e o Well-Known Binary (WKB). Ambos incluem informação sobre o tipo do objeto e as coordenadas que os formam.</p><p>A representação bem conhecida de texto do sistema de referência espacial. Um exemplo de uma representação WKT SRS é:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>POINT(0 0)</p></li><li class="listitem"><p>POINT(0 0)</p></li><li class="listitem"><p>POINT(0 0)</p></li><li class="listitem"><p>POINT EMPTY</p></li><li class="listitem"><p>LINESTRING(0 0,1 1,1 2)</p></li><li class="listitem"><p>LINESTRING</p></li><li class="listitem"><p>POLYGON((0 0,4 0,4 4,0 4,0 0),(1 1, 2 1, 2 2, 1 2,1 1))</p></li><li class="listitem"><p>MULTIPOINT((0 0),(1 2))</p></li><li class="listitem"><p>MULTIPOINT((0 0),(1 2))</p></li><li class="listitem"><p>MULTIPOINT</p></li><li class="listitem"><p>MULTILINESTRING((0 0,1 1,1 2),(2 3,3 2,5 4))</p></li><li class="listitem"><p>MULTIPOLYGON(((0 0,4 0,4 4,0 4,0 0),(1 1,2 1,2 2,1 2,1 1)), ((-1 -1,-1 -2,-2 -2,-2 -1,-1 -1)))</p></li><li class="listitem"><p>GEOMETRYCOLLECTION(POINT(2 3),LINESTRING(2 3,3 4))</p></li><li class="listitem"><p>GEOMETRYCOLLECTION</p></li></ul></div><p>Input and output of WKT is provided by the functions <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a> and <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>:</p><pre class="programlisting">text WKT = ST_AsText(geometry);
geometry = ST_GeomFromText(text WKT, SRID);</pre><p>Por exemplo, uma declaração inserida válida para criar e inserir um objeto espacial OGC seria:</p><pre class="programlisting">INSERT INTO geotable ( geom, name )
  VALUES ( ST_GeomFromText('POINT(-126.4 45.32)', 312), 'A Place');</pre><p>Well-Known Binary (WKB) provides a portable, full-precision representation of spatial data as binary data (arrays of bytes). Examples of the WKB representations of spatial objects are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>POINT(0 0)</p><p>WKB: 0101000000000000000000F03F000000000000F03</p></li><li class="listitem"><p>LINESTRING(0 0,1 1,1 2)</p><p>WKB: 0102000000020000000000000000000040000000000000004000000000000022400000000000002240</p></li></ul></div><p>Input and output of WKB is provided by the functions <a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> and <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>:</p><pre class="programlisting">bytea WKB = ST_AsBinary(geometry);
geometry = ST_GeomFromWKB(bytea WKB, SRID);
</pre><p>Por exemplo, uma declaração inserida válida para criar e inserir um objeto espacial OGC seria:</p><pre class="programlisting">INSERT INTO geotable ( geom, name )
  VALUES ( ST_GeomFromWKB('\x0101000000000000000000f03f000000000000f03f', 312), 'A Place');</pre></section></section><section class="section" id="PostGIS_Geometry"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.2. Geometry Data Type</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#EWKB_EWKT">4.2.1. OpenGIS WKB e WKT</a></span></li></ul></div><p>PostGIS implements the OGC Simple Features model by defining a PostgreSQL data type called <code class="varname">geometry</code>. It represents all of the geometry subtypes by using an internal type code (see <a class="xref" href="#GeometryType" title="GeometryType">GeometryType</a> and <a class="xref" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a>). This allows modelling spatial features as rows of tables defined with a column of type <code class="varname">geometry</code>. </p><p>The <code class="varname">geometry</code> data type is <span class="emphasis"><em>opaque</em></span>, which means that all access is done via invoking functions on geometry values. Functions allow creating geometry objects, accessing or updating all internal fields, and compute new geometry values. PostGIS supports all the functions specified in the OGC <a class="link" href="https://portal.ogc.org/files/?artifact_id=25354" target="_top"><span class="emphasis"><em>Simple feature access - Part 2: SQL option</em></span></a> (SFS) specification, as well many others. See <a class="xref" href="#reference" title="Chapter 7. Referência do PostGIS">Chapter 7, <em>Referência do PostGIS</em></a> for the full list of functions.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>PostGIS follows the SFA standard by prefixing spatial functions with "ST_". This was intended to stand for "Spatial and Temporal", but the temporal part of the standard was never developed. Instead it can be interpreted as "Spatial Type". </p></td></tr></table></div><p>A especificação OpenGIS também requer que o formato do armazenamento interno dos objetos espacias incluam um identificador de sistema de referência espacial (SRID). O SRID é fundamental na criação de objetos espaciais para a inserção no banco de dados. Consulte <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a> e <a class="xref" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a></p><p>To make querying geometry efficient PostGIS defines various kinds of spatial indexes, and spatial operators to use them. See <a class="xref" href="#build-indexes" title="4.9. Construindo índidces">Section 4.9, “Construindo índidces”</a> and <a class="xref" href="#using-query-indexes" title="5.2. Using Spatial Indexes">Section 5.2, “Using Spatial Indexes”</a> for details. </p><section class="section" id="EWKB_EWKT"><div class="titlepage"><div><div><h3 class="title">4.2.1. OpenGIS WKB e WKT</h3></div></div></div><p>OGC SFA specifications initially supported only 2D geometries, and the geometry SRID is not included in the input/output representations. The OGC SFA specification 1.2.1 (which aligns with the ISO 19125 standard) adds support for 3D (ZYZ) and measured (XYM and XYZM) coordinates, but still does not include the SRID value.</p><p>Because of these limitations PostGIS defined extended EWKB and EWKT formats. They provide 3D (XYZ and XYM) and 4D (XYZM) coordinate support and include SRID information. Including all geometry information allows PostGIS to use EWKB as the format of record (e.g. in DUMP files). </p><p>EWKB and EWKT are used for the "canonical forms" of PostGIS data objects. For input, the canonical form for binary data is EWKB, and for text data either EWKB or EWKT is accepted. This allows geometry values to be created by casting a text value in either HEXEWKB or EWKT to a geometry value using <code class="varname">::geometry</code>. For output, the canonical form for binary is EWKB, and for text it is HEXEWKB (hex-encoded EWKB). </p><p>For example this statement creates a geometry by casting from an EWKT text value, and outputs it using the canonical form of HEXEWKB:</p><pre class="programlisting">SELECT 'SRID=4;POINT(0 0)'::geometry;
  geometry
  ----------------------------------------------------
  01010000200400000000000000000000000000000000000000
</pre><p>PostGIS EWKT output has a few differences to OGC WKT:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>For 3DZ geometries the Z qualifier is omitted:</p><p>POINT(0 0)</p><p>POINT(0 0)</p></li><li class="listitem"><p>For 3DM geometries the M qualifier is included:</p><p>POINT(0 0)</p><p>POINT(0 0)</p></li><li class="listitem"><p>For 4D geometries the ZM qualifier is omitted:</p><p>POINT(0 0)</p><p>POINT(0 0)</p></li></ul></div><p>EWKT avoids over-specifying dimensionality and the inconsistencies that can occur with the OGC/ISO format, such as: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>POINT(0 0)</p></li><li class="listitem"><p>POINT(0 0)</p></li><li class="listitem"><p>POINT(0 0)</p></li></ul></div><div class="caution"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Caution]" src="images/caution.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Os formatos estendidos do PostGIS estão atualmente superset de OGC  (cada WKB/WKT válido é um EWKB/EWKT válido), mas isto pode airar no futuro, especificamente se OGC sai com um novo formato conflitando com nossas extensões. Assim, você NÃO DEVE confiar neste aspecto!  </p></td></tr></table></div><p>A seguir, exemplos das representações de textos (WKT) dos objetos espaciais das características: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>POINT(0 0 0) -- XYZ</p></li><li class="listitem"><p>SRID=32632;POINT(0 0) -- XY with SRID</p></li><li class="listitem"><p>POINTM(0 0 0) -- XYM</p></li><li class="listitem"><p>POINT(0 0 0 0) -- XYZM</p></li><li class="listitem"><p>SRID=4326;MULTIPOINTM(0 0 0,1 2 1) -- XYM with SRID</p></li><li class="listitem"><p>MULTILINESTRING((0 0 0,1 1 0,1 2 1),(2 3 1,3 2 1,5 4 1))</p></li><li class="listitem"><p>POLYGON((0 0 0,4 0 0,4 4 0,0 4 0,0 0 0),(1 1 0,2 1 0,2 2 0,1 2 0,1 1 0))</p></li><li class="listitem"><p>MULTIPOLYGON(((0 0 0,4 0 0,4 4 0,0 4 0,0 0 0),(1 1 0,2 1 0,2 2 0,1 2 0,1 1 0)),((-1 -1 0,-1 -2 0,-2 -2 0,-2 -1 0,-1 -1 0)))</p></li><li class="listitem"><p>GEOMETRYCOLLECTIONM( POINTM(2 3 9), LINESTRINGM(2 3 4, 3 4 5) )</p></li><li class="listitem"><p>MULTICURVE( (0 0, 5 5), CIRCULARSTRING(4 0, 4 4, 8 4) )</p></li><li class="listitem"><p>POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)), ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)), ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)), ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )</p></li><li class="listitem"><p>TRIANGLE ((0 0, 0 9, 9 0, 0 0))</p></li><li class="listitem"><p>TIN( ((0 0 0, 0 0 1, 0 1 0, 0 0 0)), ((0 0 0, 0 1 0, 1 1 0, 0 0 0)) )</p></li></ul></div><p>Entrada/Saída destes formatos estão disponíveis usando as seguintes interfaces:</p><pre class="programlisting">bytea EWKB = ST_AsEWKB(geometry);
text EWKT = ST_AsEWKT(geometry);
geometry = ST_GeomFromEWKB(bytea EWKB);
geometry = ST_GeomFromEWKT(text EWKT);</pre><p>Por exemplo, uma declaração inserida válida para criar e inserir um objeto espacial seria:</p><pre class="programlisting">INSERT INTO geotable ( geom, name )
  VALUES ( ST_GeomFromEWKT('SRID=312;POINTM(-126.4 45.32 15)'), 'A Place' )</pre></section></section><section class="section" id="PostGIS_Geography"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.3. Tipo de geografia POstGIS</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#Create_Geography_Tables">4.3.1. Criando uma Tabela Espacial </a></span></li><li><span class="section"><a href="#Use_Geography_Tables">4.3.2. Tipo de geografia POstGIS</a></span></li><li><span class="section"><a href="#PostGIS_GeographyVSGeometry">4.3.3. Quando usar o tipo de dados Geografia sobre os dados Geometria</a></span></li><li><span class="section"><a href="#PostGIS_Geography_AdvancedFAQ">4.3.4. FAQ de Geografia Avançada</a></span></li></ul></div><p>O tipo de dados PostGIS <code class="varname">geography</code> oferece suporte nativo para recursos espaciais representados em coordenadas "geográficas" (às vezes chamadas de coordenadas "geodésicas", "lat/lon" ou "lon/lat"). As coordenadas geográficas são coordenadas esféricas expressas em unidades angulares (graus). </p><p>A base para a geometria PostGIS é um plano. O menor caminho entre dois pontos no plano é uma linha. Isso quer dizer que cálculos em geometrias (áreas, distâncias, cumprimentos, interseções etc) podem ser feitos usando matemática cartesiana e vetores de linhas.  </p><p>A base para a geometria PostGIS é um plano. O menor caminho entre dois pontos no plano é uma linha. Isso quer dizer que cálculos em geometrias (áreas, distâncias, cumprimentos, interseções etc) podem ser feitos usando matemática cartesiana e vetores de linhas. </p><p>Devido à matemática fundamental ser muito mais complicada, existem poucas funções definidas pela geografia em vez da geometria. Ao longo do tempo, à media que os algorítimos forem adicionados, as capacidades da geografia serão expandidas. </p><p>Like the geometry data type, geography data is associated with a spatial reference system via a spatial reference system identifier (SRID). Any geodetic (long/lat based) spatial reference system defined in the <code class="varname">spatial_ref_sys</code> table can be used. (Prior to PostGIS 2.2, the geography type supported only WGS 84 geodetic (SRID:4326)). You can add your own custom geodetic spatial reference system as described in <a class="xref" href="#user-spatial-ref-sys" title="4.5.2. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5.2, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a>.</p><p>For all spatial reference systems the units returned by measurement functions (e.g. <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_Length" title="ST_Length">ST_Length</a>, <a class="xref" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a>, <a class="xref" href="#ST_Area" title="ST_Area">ST_Area</a>) and for the distance argument of <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a> are in meters.</p><section class="section" id="Create_Geography_Tables"><div class="titlepage"><div><div><h3 class="title">4.3.1. Criando uma Tabela Espacial </h3></div></div></div><p>You can create a table to store geography data using the <a class="link" href="https://www.postgresql.org/docs/current/sql-createtable.html" target="_top">CREATE TABLE</a> SQL statement with a column of type <code class="varname">geography</code>. The following example creates a table with a geography column storing 2D LineStrings in the WGS84 geodetic coordinate system (SRID 4326):</p><pre class="programlisting">CREATE TABLE global_points (
    id SERIAL PRIMARY KEY,
    name VARCHAR(64),
    location geography(POINT,4326)
  );</pre><p>The geography type supports two optional type modifiers:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Os valores permitidos para o modificador de tipo são: PONTO, LINESTRING, POLÍGONO, MULTIPONTO, MULTILINESTRING, MULTIPOLÍGONO. O modificador também suporta restrições de dimensionalidade através de sufixos: Z, M, e ZM. Então, por exemplo, um modificador de 'LINESTRINGM' só permitiria line strings com três dimensões, e trataria a terceira dimensão como uma medida. Da mesma forma, 'PONTOZM' esperaria dados de quatro dimensões.  </p></li><li class="listitem"><p>the SRID modifier restricts the spatial reference system SRID to a particular number. If omitted, the SRID defaults to 4326 (WGS84 geodetic), and all calculations are performed using WGS84. </p></li></ul></div><p/><p>Examples of creating tables with geography columns:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Create a table with 2D POINT geography with the default SRID 4326 (WGS84 long/lat):</p><pre class="programlisting">CREATE TABLE ptgeogwgs(gid serial PRIMARY KEY, geog geography(POINT) );</pre></li><li class="listitem"><p>Create a table with 2D POINT geography in NAD83 longlat:</p><pre class="programlisting">CREATE TABLE ptgeognad83(gid serial PRIMARY KEY, geog geography(POINT,4269) );</pre></li><li class="listitem"><p>Create a table with 3D (XYZ) POINTs and an explicit SRID of 4326:</p><pre class="programlisting">CREATE TABLE ptzgeogwgs84(gid serial PRIMARY KEY, geog geography(POINTZ,4326) );</pre></li><li class="listitem"><p>Create a table with 2D LINESTRING geography with the default SRID 4326:</p><pre class="programlisting">CREATE TABLE lgeog(gid serial PRIMARY KEY, geog geography(LINESTRING) );</pre></li><li class="listitem"><p>Create a table with 2D POLYGON geography with the SRID 4267 (NAD 1927 long lat):</p><pre class="programlisting">CREATE TABLE lgeognad27(gid serial PRIMARY KEY, geog geography(POLYGON,4267) );</pre></li></ul></div><p>Geography fields are registered in the <code class="varname">geography_columns</code> system view. You can query the <code class="varname">geography_columns</code> view and see that the table is listed:</p><pre class="programlisting">SELECT * FROM geography_columns;</pre><p>Criar um índice funciona da mesma forma que uma GEOMETRIA. O PostGIS irá notar que o tipo de coluna é GEOGRAFIA e criará um índice baseado em esfera apropriado em vez do de costume usado para GEOMETRIA. </p><pre class="programlisting">-- Index the test table with a spherical index
CREATE INDEX global_points_gix ON global_points USING GIST ( location );</pre></section><section class="section" id="Use_Geography_Tables"><div class="titlepage"><div><div><h3 class="title">4.3.2. Tipo de geografia POstGIS</h3></div></div></div><p>You can insert data into geography tables in the same way as geometry. Geometry data will autocast to the geography type if it has SRID 4326. The <a class="link" href="#EWKB_EWKT" title="4.2.1. OpenGIS WKB e WKT">EWKT and EWKB</a> formats can also be used to specify geography values.</p><pre class="programlisting">-- Add some data into the test table
INSERT INTO global_points (name, location) VALUES ('Town', 'SRID=4326;POINT(-110 30)');
INSERT INTO global_points (name, location) VALUES ('Forest', 'SRID=4326;POINT(-109 29)');
INSERT INTO global_points (name, location) VALUES ('London', 'SRID=4326;POINT(0 49)');
</pre><p>Any geodetic (long/lat) spatial reference system listed in <code class="varname">spatial_ref_sys</code> table may be specified as a geography SRID. Non-geodetic coordinate systems raise an error if used. </p><pre class="programlisting">-- NAD 83 lon/lat
SELECT 'SRID=4269;POINT(-123 34)'::geography;
                    geography
----------------------------------------------------
 0101000020AD1000000000000000C05EC00000000000004140
</pre><pre class="programlisting">-- NAD27 lon/lat
SELECT 'SRID=4267;POINT(-123 34)'::geography;
                    geography
----------------------------------------------------
 0101000020AB1000000000000000C05EC00000000000004140
</pre><pre class="programlisting">-- NAD83 UTM zone meters - gives an error since it is a meter-based planar projection
SELECT 'SRID=26910;POINT(-123 34)'::geography;

ERROR:  Only lon/lat coordinate systems are supported in geography.
</pre><p>As funções de consulta e medida usam unidades em metros. Então, os parâmetros de distância deveriam ser esperados em metros (ou metros quadrados para áreas). </p><pre class="programlisting">-- A distance query using a 1000km tolerance
SELECT name FROM global_points WHERE ST_DWithin(location, 'SRID=4326;POINT(-110 29)'::geography, 1000000);</pre><p>You can see the power of geography in action by calculating how close a plane flying a great circle route from Seattle to London (LINESTRING(-122.33 47.606, 0.0 51.5)) comes to Reykjavik (POINT(-21.96 64.15)) (<a class="link" href="http://gc.kls2.com/cgi-bin/gc?PATH=SEA-LHR" target="_top">map the route</a>). </p><p>O tipo GEOGRAFIA calcula a verdadeira menor distância sobre a esfera entre Reykjavik e o grande caminho de voo circular entre Seattle e Londres. </p><pre class="programlisting">-- Distance calculation using GEOGRAPHY
SELECT ST_Distance('LINESTRING(-122.33 47.606, 0.0 51.5)'::geography, 'POINT(-21.96 64.15)'::geography);
   st_distance
-----------------
 122235.23815667</pre><p><a class="link" href="http://gc.kls2.com/cgi-bin/gc?PATH=SEA-LHR" target="_top">Great Circle mapper</a> A GEOMETRIA calcula a distância cartesiana insignificante entre Reykjavik e o caminho direto de Seattle para Londres marcado em um mapa. As unidades nominais do resultado podem ser chamadas de "graus", mas o resultado não corresponde a nenhuma diferença angular verdadeira entre os pontos, então, chamá-las de "graus" é incoerente. </p><pre class="programlisting">-- Distance calculation using GEOMETRY
SELECT ST_Distance('LINESTRING(-122.33 47.606, 0.0 51.5)'::geometry, 'POINT(-21.96 64.15)'::geometry);
      st_distance
--------------------
 13.342271221453624
</pre></section><section class="section" id="PostGIS_GeographyVSGeometry"><div class="titlepage"><div><div><h3 class="title">4.3.3. Quando usar o tipo de dados Geografia sobre os dados Geometria</h3></div></div></div><p>The geography data type allows you to store data in longitude/latitude coordinates, but at a cost: there are fewer functions defined on GEOGRAPHY than there are on GEOMETRY; those functions that are defined take more CPU time to execute.</p><p>O tipo que você escolheu deveria ser condicionado da área de trabalho esperada da aplicação que você está construindo. Seus dados irão abranger o globo ou uma grande área continental, ou é local para um estado, condado ou município?  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Se seus dados estiverem contidos em uma pequena área, talvez perceba que escolher uma projeção apropriada e usar GEOMETRIA é a melhor solução, em termos de desempenho e funcionalidades disponíveis. </p></li><li class="listitem"><p>Se seus dados são globais ou cobrem uma região continental, você pode perceber que GEOGRAFIA permite que você construa uma sistema sem ter que se preocupar com detalhes de projeção. Você armazena seus dados em longitude/latitude, e usa as funções que foram definidas em GEOGRAFIA. </p></li><li class="listitem"><p>Se você não entende de projeções, não quer aprender sobre elas e está preparado para aceitar as limitações em funcionalidade disponíveis em GEOGRAFIA, então pode ser mais fácil se usar GEOGRAFIA em vez de GEOMETRIA. Simplesmente carregue seus dados como longitude/latitude e comece a partir daqui. </p></li></ul></div><p>Recorra a <a class="xref" href="#PostGIS_TypeFunctionMatrix" title="13.11. PostGIS Function Support Matrix">Section 13.11, “PostGIS Function Support Matrix”</a> para uma comparação entre o que é suportado pela Geografia vs. Geometria. Para uma breve lista e descrição das funções da Geografia, recorra a <a class="xref" href="#PostGIS_GeographyFunctions" title="13.4. PostGIS Geography Support Functions">Section 13.4, “PostGIS Geography Support Functions”</a> </p></section><section class="section" id="PostGIS_Geography_AdvancedFAQ"><div class="titlepage"><div><div><h3 class="title">4.3.4. FAQ de Geografia Avançada</h3></div></div></div><div class="qandaset" id="idm1611"><ul><li><a href="#idm1612">4.3.4.1. Você calcula na esfera ou esferoide? </a></li><li><a href="#idm1618">4.3.4.2. E a linha de data e os pólos? </a></li><li><a href="#idm1623">4.3.4.3. Qual é o maior arco que pode ser processado? </a></li><li><a href="#idm1628">4.3.4.4. Por que é tão lento para calcular a área da Europa / Rússia / insira uma grande região geográfica aqui ?</a></li></ul><table style="border: 0; width: 100%;"><colgroup><col style="text-align: left; width: 1%; "/><col/></colgroup><tbody><tr class="question" id="idm1612"><td style="text-align: left; vertical-align: top; " id="idm1613"><p><strong>4.3.4.1.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>Você calcula na esfera ou esferoide? </p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>Por padrão, todos os cálculos de distância e área são feitos no esferoide. Você irá encontrar que os resultados dos cálculos nas áreas locais combinam com os resultados locais planares em boas projeções locais. Em grandes áreas, os cálculos esferoidais são mais precisos que os feitos em um plano projetado.  </p><p>Todas as funções de geografia têm a opção de usar um cálculo esférico, configurando um parâmetro booleano final para 'FALSO'. isto irá acelerar os cálculos, particularmente para casos onde as geometrias são bem simples. </p></td></tr><tr class="question" id="idm1618"><td style="text-align: left; vertical-align: top; " id="idm1619"><p><strong>4.3.4.2.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>E a linha de data e os pólos? </p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>Nenhum cálculo possui a compreensão de linha de data ou polos, as coordenadas são esféricas (longitude/latitude), então uma forma que cruza a linha de data não é, de um ponto de cálculo de view, diferente de nenhuma outra forma. </p></td></tr><tr class="question" id="idm1623"><td style="text-align: left; vertical-align: top; " id="idm1624"><p><strong>4.3.4.3.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>Qual é o maior arco que pode ser processado? </p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>Nós usamos grandes arcos círculos como a "linha de interpolação" entre dois pontos. Isso significa que quaisquer dois pontos estão de fato juntaram-se de duas maneiras, depende qual direção você vá no grande círculo. Todo o nosso código assume que os pontos estão juntos pelo *menor* dos dois caminhos ao longo do grande círculo. Como consequência, formas que têm arcos de mais de 180 graus não serão modeladas corretamente. </p></td></tr><tr class="question" id="idm1628"><td style="text-align: left; vertical-align: top; " id="idm1629"><p><strong>4.3.4.4.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>Por que é tão lento para calcular a área da Europa / Rússia / insira uma grande região geográfica aqui ?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>Porque o polígono é muito grande! Grandes áreas são ruins por duas razões: seus limites são grandes, logo o índice tende a puxar o traço, não importa qual consulta você execute; o número de vértices é enorme, e testes (distância, contenção) têm que atravessar a lista de vértices pelo meno uma vez e algumas vezes, N vezes (com N sendo o número de vértices em outra característica candidata).  </p><p>As with GEOMETRY, we recommend that when you have very large polygons, but are doing queries in small areas, you "denormalize" your geometric data into smaller chunks so that the index can effectively subquery parts of the object and so queries don't have to pull out the whole object every time. Please consult <a class="xref" href="#ST_Subdivide" title="ST_Subdivide">ST_Subdivide</a> function documentation. Just because you *can* store all of Europe in one polygon doesn't mean you *should*.</p></td></tr></tbody></table></div></section></section><section class="section" id="OGC_Validity"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.4. Geometry Validation</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#Simple_Geometry">4.4.1. Simple Geometry</a></span></li><li><span class="section"><a href="#Valid_Geometry">4.4.2. Valid Geometry</a></span></li><li><span class="section"><a href="#Managing_Validity">4.4.3. Managing Validity</a></span></li></ul></div><p>PostGIS is compliant with the Open Geospatial Consortium’s (OGC) Simple Features specification. That standard defines the concepts of geometry being <span class="emphasis"><em>simple</em></span> and <span class="emphasis"><em>valid</em></span>. These definitions allow the Simple Features geometry model to represent spatial objects in a consistent and unambiguous way that supports efficient computation. (Note: the OGC SF and SQL/MM have the same definitions for simple and valid.) </p><section class="section" id="Simple_Geometry"><div class="titlepage"><div><div><h3 class="title">4.4.1. Simple Geometry</h3></div></div></div><p>A <span class="emphasis"><em>simple</em></span> geometry is one that has no anomalous geometric points, such as self intersection or self tangency. </p><p>Um <code class="varname">POINT</code> é herdado <span class="emphasis"><em>simple</em></span> como um objeto geométrico 0-dimensional. </p><p><code class="varname">MULTIPOINT</code>s são <span class="emphasis"><em>simple</em></span> se nenhuma de duas coordenadas (<code class="varname">POINT</code>s) forem iguais (tenham o valor de coordenadas idêntico).</p><p>A <code class="varname">LINESTRING</code> is <span class="emphasis"><em>simple</em></span> if it does not pass through the same point twice, except for the endpoints. If the endpoints of a simple LineString are identical it is called <span class="emphasis"><em>closed</em></span> and referred to as a Linear Ring.</p><div class="informaltable"><table style="border: none;"><colgroup><col/></colgroup><tbody><tr><td><p><span class="emphasis"><em><span class="bold"><strong>(a)</strong></span> and <span class="bold"><strong>(c)</strong></span> are simple <code class="varname">LINESTRING</code>s. <span class="bold"><strong>(b)</strong></span> and <span class="bold"><strong>(d)</strong></span> are not simple. <span class="bold"><strong>(c)</strong></span> is a closed Linear Ring. </em></span></p></td></tr></tbody></table><table style="border: none;"><colgroup><col/><col/></colgroup><tbody><tr><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_issimple01.png"/><div class="caption"><p><span class="bold"><strong>(a)</strong></span></p></div></div></div></td><td style="text-align: center; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_issimple02.png"/><div class="caption"><p><span class="bold"><strong>(b)</strong></span></p></div></div></div></td></tr><tr><td style="text-align: center; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_issimple03.png"/><div class="caption"><p><span class="bold"><strong>(c)</strong></span></p></div></div></div></td><td style="text-align: center; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_issimple04.png"/><div class="caption"><p><span class="bold"><strong>(d)</strong></span></p></div></div></div></td></tr></tbody></table></div><p>A <code class="varname">MULTILINESTRING</code> is <span class="emphasis"><em>simple</em></span> only if all of its elements are simple and the only intersection between any two elements occurs at points that are on the boundaries of both elements. </p><div class="informaltable"><table style="border: none;"><colgroup><col/></colgroup><tbody><tr><td><p><span class="emphasis"><em><span class="bold"><strong>(e)</strong></span> and <span class="bold"><strong>(f)</strong></span> are simple <code class="varname">MULTILINESTRING</code>s. <span class="bold"><strong>(g)</strong></span> is not simple. </em></span></p></td></tr></tbody></table><table style="border: none;"><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="text-align: center; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_issimple05.png"/><div class="caption"><p><span class="bold"><strong>(e)</strong></span></p></div></div></div></td><td style="text-align: center; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_issimple06.png"/><div class="caption"><p><span class="bold"><strong>(f)</strong></span></p></div></div></div></td><td style="text-align: center; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_issimple07.png"/><div class="caption"><p><span class="bold"><strong>(g)</strong></span></p></div></div></div></td></tr></tbody></table></div><p><code class="varname">POLYGON</code>s are formed from linear rings, so valid polygonal geometry is always <span class="emphasis"><em>simple</em></span>.</p><p>To test if a geometry is simple use the <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a> function:</p><pre class="programlisting">SELECT
   ST_IsSimple('LINESTRING(0 0, 100 100)') AS straight,
   ST_IsSimple('LINESTRING(0 0, 100 100, 100 0, 0 100)') AS crossing;

 straight | crossing
----------+----------
 t        | f
</pre><p>Generally, PostGIS functions do not require geometric arguments to be simple. Simplicity is primarily used as a basis for defining geometric validity. It is also a requirement for some kinds of spatial data models (for example, linear networks often disallow lines that cross). Multipoint and linear geometry can be made simple using <a class="xref" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a>. </p></section><section class="section" id="Valid_Geometry"><div class="titlepage"><div><div><h3 class="title">4.4.2. Valid Geometry</h3></div></div></div><p>Geometry validity primarily applies to 2-dimensional geometries (<code class="varname">POLYGON</code>s and <code class="varname">MULTIPOLYGON</code>s) . Validity is defined by rules that allow polygonal geometry to model planar areas unambiguously. </p><p>A <code class="varname">POLYGON</code> is <span class="emphasis"><em>valid</em></span> if: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>the polygon boundary rings (the exterior shell ring and interior hole rings) are <span class="emphasis"><em>simple</em></span> (do not cross or self-touch). Because of this a polygon cannot have cut lines, spikes or loops. This implies that polygon holes must be represented as interior rings, rather than by the exterior ring self-touching (a so-called "inverted hole"). </p></li><li class="listitem"><p>boundary rings do not cross </p></li><li class="listitem"><p>boundary rings may touch at points but only as a tangent (i.e. not in a line) </p></li><li class="listitem"><p>interior rings are contained in the exterior ring </p></li><li class="listitem"><p>the polygon interior is simply connected (i.e. the rings must not touch in a way that splits the polygon into more than one part) </p></li></ol></div><div class="informaltable"><table style="border: none;"><colgroup><col/></colgroup><tbody><tr><td><p><span class="emphasis"><em><span class="bold"><strong>(h)</strong></span> and <span class="bold"><strong>(i)</strong></span> are valid <code class="varname">POLYGON</code>s. <span class="bold"><strong>(j-m)</strong></span> are invalid. <span class="bold"><strong>(j)</strong></span> can be represented as a valid <code class="varname">MULTIPOLYGON</code>. </em></span></p></td></tr></tbody></table><table style="border: none;"><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid01.png"/><div class="caption"><p><span class="bold"><strong>(h)</strong></span></p></div></div></div></td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid02.png"/><div class="caption"><p><span class="bold"><strong>(i)</strong></span></p></div></div></div></td><td style="text-align: center; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid03.png"/><div class="caption"><p><span class="bold"><strong>(j)</strong></span></p></div></div></div></td></tr><tr><td style="text-align: center; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid04.png"/><div class="caption"><p><span class="bold"><strong>(k)</strong></span></p></div></div></div></td><td style="text-align: center; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid05.png"/><div class="caption"><p><span class="bold"><strong>(l)</strong></span></p></div></div></div></td><td style="text-align: center; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid06.png"/><div class="caption"><p><span class="bold"><strong>(m)</strong></span></p></div></div></div></td></tr></tbody></table></div><p>A <code class="varname">MULTIPOLYGON</code> is <span class="emphasis"><em>valid</em></span> if: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>its element <code class="varname">POLYGON</code>s are valid </p></li><li class="listitem"><p>elements do not overlap (i.e. their interiors must not intersect) </p></li><li class="listitem"><p>elements touch only at points (i.e. not along a line) </p></li></ol></div><div class="informaltable"><table style="border: none;"><colgroup><col/></colgroup><tbody><tr><td><p><span class="emphasis"><em><span class="bold"><strong>(n)</strong></span> is a valid <code class="varname">MULTIPOLYGON</code>. <span class="bold"><strong>(o)</strong></span> and <span class="bold"><strong>(p)</strong></span> are invalid. </em></span></p></td></tr></tbody></table><table style="border: none;"><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="text-align: center; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid09.png"/><div class="caption"><p><span class="bold"><strong>(n)</strong></span></p></div></div></div></td><td style="text-align: center; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid07.png"/><div class="caption"><p><span class="bold"><strong>(o)</strong></span></p></div></div></div></td><td style="text-align: center; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_isvalid08.png"/><div class="caption"><p><span class="bold"><strong>(p)</strong></span></p></div></div></div></td></tr></tbody></table></div><p>These rules mean that valid polygonal geometry is also <span class="emphasis"><em>simple</em></span>. </p><p>For linear geometry the only validity rule is that <code class="varname">LINESTRING</code>s must have at least two points and have non-zero length (or equivalently, have at least two distinct points.) Note that non-simple (self-intersecting) lines are valid. </p><pre class="programlisting">SELECT
   ST_IsValid('LINESTRING(0 0, 1 1)') AS len_nonzero,
   ST_IsValid('LINESTRING(0 0, 0 0, 0 0)') AS len_zero,
   ST_IsValid('LINESTRING(10 10, 150 150, 180 50, 20 130)') AS self_int;

 len_nonzero | len_zero | self_int
-------------+----------+----------
 t           | f        | t
</pre><p><code class="varname">POINT</code> and <code class="varname">MULTIPOINT</code> geometries have no validity rules. </p></section><section class="section" id="Managing_Validity"><div class="titlepage"><div><div><h3 class="title">4.4.3. Managing Validity</h3></div></div></div><p>PostGIS allows creating and storing both valid and invalid Geometry. This allows invalid geometry to be detected and flagged or fixed. There are also situations where the OGC validity rules are stricter than desired (examples of this are zero-length linestrings and polygons with inverted holes.) </p><p>Many of the functions provided by PostGIS rely on the assumption that geometry arguments are valid. For example, it does not make sense to calculate the area of a polygon that has a hole defined outside of the polygon, or to construct a polygon from a non-simple boundary line. Assuming valid geometric inputs allows functions to operate more efficiently, since they do not need to check for topological correctness. (Notable exceptions are that zero-length lines and polygons with inversions are generally handled correctly.) Also, most PostGIS functions produce valid geometry output if the inputs are valid. This allows PostGIS functions to be chained together safely. </p><p>If you encounter unexpected error messages when calling PostGIS functions (such as "GEOS Intersection() threw an error!"), you should first confirm that the function arguments are valid. If they are not, then consider using one of the techniques below to ensure the data you are processing is valid. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If a function reports an error with valid inputs, then you may have found an error in either PostGIS or one of the libraries it uses, and you should report this to the PostGIS project. The same is true if a PostGIS function returns an invalid geometry for valid input.</p></td></tr></table></div><p>To test if a geometry is valid use the <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a> function: </p><pre class="programlisting">SELECT ST_IsValid('POLYGON ((20 180, 180 180, 180 20, 20 20, 20 180))');
-----------------
 t
</pre><p>Information about the nature and location of an geometry invalidity are provided by the <a class="xref" href="#ST_IsValidDetail" title="ST_IsValidDetail">ST_IsValidDetail</a> function: </p><pre class="programlisting">SELECT valid, reason, ST_AsText(location) AS location
    FROM ST_IsValidDetail('POLYGON ((20 20, 120 190, 50 190, 170 50, 20 20))') AS t;

 valid |      reason       |                  location
-------+-------------------+---------------------------------------------
 f     | Self-intersection | POINT(91.51162790697674 141.56976744186045)
</pre><p>In some situations it is desirable to correct invalid geometry automatically. Use the <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> function to do this. (<code class="code">ST_MakeValid</code> is a case of a spatial function that <span class="emphasis"><em>does</em></span> allow invalid input!) </p><p>By default, PostGIS does not check for validity when loading geometry, because validity testing can take a lot of CPU time for complex geometries. If you do not trust your data sources, you can enforce a validity check on your tables by adding a check constraint:</p><pre class="programlisting">ALTER TABLE mytable
  ADD CONSTRAINT geometry_valid_check
        CHECK (ST_IsValid(geom));</pre></section></section><section class="section" id="spatial_ref_sys"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#spatial_ref_sys_table">4.5.1. SPATIAL_REF_SYS Table</a></span></li><li><span class="section"><a href="#user-spatial-ref-sys">4.5.2. The SPATIAL_REF_SYS Table and Spatial Reference Systems</a></span></li></ul></div><p>A <a class="link" href="https://en.wikipedia.org/wiki/Spatial_reference_system" target="_top">Spatial Reference System</a> (SRS) (also called a Coordinate Reference System (CRS)) defines how geometry is referenced to locations on the Earth's surface. There are three types of SRS: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A <span class="bold"><strong>geodetic</strong></span> SRS uses angular coordinates (longitude and latitude) which map directly to the surface of the earth. </p></li><li class="listitem"><p>A <span class="bold"><strong>projected</strong></span> SRS uses a mathematical projection transformation to "flatten" the surface of the spheroidal earth onto a plane. It assigns location coordinates in a way that allows direct measurement of quantities such as distance, area, and angle. The coordinate system is Cartesian, which means it has a defined origin point and two perpendicular axes (usually oriented North and East). Each projected SRS uses a stated length unit (usually metres or feet). A projected SRS may be limited in its area of applicability to avoid distortion and fit within the defined coordinate bounds. </p></li><li class="listitem"><p>A <span class="bold"><strong>local</strong></span> SRS is a Cartesian coordinate system which is not referenced to the earth's surface. In PostGIS this is specified by a SRID value of 0. </p></li></ul></div><p>There are many different spatial reference systems in use. Common SRSes are standardized in the European Petroleum Survey Group <a class="link" href="http://www.epsg.org/" target="_top">EPSG database</a>. For convenience PostGIS (and many other spatial systems) refers to SRS definitions using an integer identifier called a SRID. </p><p>A geometry is associated with a Spatial Reference System by its SRID value, which is accessed by <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a>. The SRID for a geometry can be assigned using <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>. Some geometry constructor functions allow supplying a SRID (such as <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a> and <a class="xref" href="#ST_MakeEnvelope" title="ST_MakeEnvelope">ST_MakeEnvelope</a>). The <a class="link" href="#EWKB_EWKT" title="4.2.1. OpenGIS WKB e WKT">EWKT</a> format supports SRIDs with the <code class="code">SRID=n;</code> prefix. </p><p>Spatial functions processing pairs of geometries (such as <a class="link" href="#Overlay_Functions" title="7.13. Overlay Functions">overlay</a> and <a class="link" href="#Spatial_Relationships" title="7.11. Spatial Relationships">relationship</a> functions) require that the input geometries are in the same spatial reference system (have the same SRID). Geometry data can be transformed into a different spatial reference system using <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a> and <a class="xref" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a>. Geometry returned from functions has the same SRS as the input geometries. </p><section class="section" id="spatial_ref_sys_table"><div class="titlepage"><div><div><h3 class="title">4.5.1. SPATIAL_REF_SYS Table</h3></div></div></div><p>The <code class="varname">SPATIAL_REF_SYS</code> table used by PostGIS is an OGC-compliant database table that defines the available spatial reference systems. It holds the numeric SRIDs and textual descriptions of the coordinate systems. </p><p>A tabela <code class="varname">SPATIAL_REF_SYS</code> de definição está como segue:</p><pre class="programlisting">CREATE TABLE spatial_ref_sys (
  srid       INTEGER NOT NULL PRIMARY KEY,
  auth_name  VARCHAR(256),
  auth_srid  INTEGER,
  srtext     VARCHAR(2048),
  proj4text  VARCHAR(2048)
)</pre><p>As opções da commandline são:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">srid</code></span></dt><dd><p>Um valor inteiro que só identifica o Sistema de Referenciação Espacial (SRS) dentro do banco de dados. </p></dd><dt><span class="term"><code class="varname">auth_name</code></span></dt><dd><p>O nome do corpo padrão ou corpos padrẽos que estão sendo citados por este sistema de referência. Por exemplo, "EPSG" seria um <code class="varname">AUTH_NAME</code> válido.</p></dd><dt><span class="term"><code class="varname">auth_srid</code></span></dt><dd><p>The ID of the Spatial Reference System as defined by the Authority cited in the <code class="varname">auth_name</code>. In the case of EPSG, this is the EPSG code.</p></dd><dt><span class="term"><code class="varname">srtext</code></span></dt><dd><p>A representação bem conhecida de texto do sistema de referência espacial. Um exemplo de uma representação WKT SRS é:</p><pre class="programlisting">PROJCS["NAD83 / UTM Zone 10N",
  GEOGCS["NAD83",
        DATUM["North_American_Datum_1983",
          SPHEROID["GRS 1980",6378137,298.257222101]
        ],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]
  ],
  PROJECTION["Transverse_Mercator"],
  PARAMETER["latitude_of_origin",0],
  PARAMETER["central_meridian",-123],
  PARAMETER["scale_factor",0.9996],
  PARAMETER["false_easting",500000],
  PARAMETER["false_northing",0],
  UNIT["metre",1]
]</pre><p>For a discussion of SRS WKT, see the OGC standard <a class="link" href="http://docs.opengeospatial.org/is/12-063r5/12-063r5.html" target="_top">Well-known text representation of coordinate reference systems</a>. </p></dd><dt><span class="term"><code class="varname">proj4text</code></span></dt><dd><p>O PostGIS usa a biblioteca Proj4 para fornecer capacidades de transformação de coordenada. A coluna <code class="varname">PROJ4TEXT</code> contém a string de definição da coordenada Proj4 para um SRID específico. Por exemplo:</p><pre class="programlisting">+proj=utm +zone=10 +ellps=clrk66 +datum=NAD27 +units=m</pre><p>Para maiores informações a respeito, veja o website do Proj4 <a class="link" href="http://trac.osgeo.org/proj/" target="_top">http://trac.osgeo.org/proj/</a>. O arquivo <code class="filename">spatial_ref_sys.sql</code> contém as definições <code class="varname">SRTEXT</code> e <code class="varname">PROJ4TEXT</code> para todas as projeções EPSG.</p></dd></dl></div><p>When retrieving spatial reference system definitions for use in transformations, PostGIS uses fhe following strategy: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>If <code class="varname">auth_name</code> and <code class="varname">auth_srid</code> are present (non-NULL) use the PROJ SRS based on those entries (if one exists). </p></li><li class="listitem"><p>If <code class="varname">srtext</code> is present create a SRS using it, if possible. </p></li><li class="listitem"><p>If <code class="varname">proj4text</code> is present create a SRS using it, if possible. </p></li></ul></div></section><section class="section" id="user-spatial-ref-sys"><div class="titlepage"><div><div><h3 class="title">4.5.2. The SPATIAL_REF_SYS Table and Spatial Reference Systems</h3></div></div></div><p>The PostGIS <code class="varname">spatial_ref_sys</code> table contains over 3000 of the most common spatial reference system definitions that are handled by the <a class="link" href="https://proj.org" target="_top">PROJ</a> projection library. But there are many coordinate systems that it does not contain. You can add SRS definitions to the table if you have the required information about the spatial reference system. Or, you can define your own custom spatial reference system if you are familiar with PROJ constructs. Keep in mind that most spatial reference systems are regional and have no meaning when used outside of the bounds they were intended for.</p><p>Uma ótima fonte para encontrar sistemas de referência espacial não definidos na configuração central é <a class="link" href="http://spatialreference.org/" target="_top">http://spatialreference.org/</a></p><p>Alguns dos sistemas de referência espacial mais comumente usados são: <a class="link" href="http://spatialreference.org/ref/epsg/4326/" target="_top">4326 - WGS 84 Long Lat</a>, <a class="link" href="http://spatialreference.org/ref/epsg/4269/" target="_top">4269 - NAD 83 Long Lat</a>, <a class="link" href="http://spatialreference.org/ref/epsg/3395/" target="_top">3395 - WGS 84 World Mercator</a>, <a class="link" href="http://spatialreference.org/ref/epsg/2163/" target="_top">2163 - US National Atlas Equal Area</a>,  Spatial reference systems para cadaNAD 83, WGS 84 UTM zona - zonas UTM  são as mais ideais para medição, mas só cobrem 6-graus regiões.  </p><p>Vários estados dos EUA no sistema de referência espacial (em metros ou pés) - normalmente um ou 2 existem por estado. A maioria dos que estão em metros estão no centro, mas muitos dos que estão em pés ou foram criados por ESRI precisarão de <a class="link" href="http://spatialreference.org" target="_top">spatialreference.org</a>. </p><p>You can even define non-Earth-based coordinate systems, such as <a class="link" href="http://spatialreference.org/ref/iau2000/mars-2000/" target="_top">Mars 2000</a> This Mars coordinate system is non-planar (it's in degrees spheroidal), but you can use it with the <code class="varname">geography</code> type to obtain length and proximity measurements in meters instead of degrees.</p><p>Here is an example of loading a custom coordinate system using an unassigned SRID and the PROJ definition for a US-centric Lambert Conformal projection:</p><pre class="programlisting">INSERT INTO spatial_ref_sys (srid, proj4text)
VALUES ( 990000,
  '+proj=lcc  +lon_0=-95 +lat_0=25 +lat_1=25 +lat_2=25 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs'
);
</pre></section></section><section class="section" id="idm2035"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.6. Criando uma Tabela Espacial </h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#Create_Spatial_Table">4.6.1. Criando uma Tabela Espacial </a></span></li><li><span class="section"><a href="#geometry_columns">4.6.2. A GEOMETRY_COLUMNS VIEW</a></span></li><li><span class="section"><a href="#Manual_Register_Spatial_Column">4.6.3. Registrando manualmente as colunas geométricas em geometry_columns</a></span></li></ul></div><section class="section" id="Create_Spatial_Table"><div class="titlepage"><div><div><h3 class="title">4.6.1. Criando uma Tabela Espacial </h3></div></div></div><p>You can create a table to store geometry data using the <a class="link" href="https://www.postgresql.org/docs/current/sql-createtable.html" target="_top">CREATE TABLE</a> SQL statement with a column of type <code class="varname">geometry</code>. The following example creates a table with a geometry column storing 2D (XY) LineStrings in the BC-Albers coordinate system (SRID 3005):</p><pre class="programlisting">CREATE TABLE roads (
    id SERIAL PRIMARY KEY,
    name VARCHAR(64),
    geom geometry(LINESTRING,3005)
  );</pre><p>The <code class="varname">geometry</code> type supports two optional <span class="bold"><strong>type modifiers</strong></span>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>O modificador de tipo espacial <span class="bold"><strong/></span> restringe o tipo de formas e dimensões permitidas na coluna. O valor pode ser qualquer um dos subtipos de geometria <a class="link" href="#RefObject" title="4.1. Carregando dados GIS (Vector)">suportados</a> (por exemplo, POINT, LINESTRING, POLYGON, MULTIPOINT, MULTILINESTRING, MULTIPOLYGON, GEOMETRYCOLLECTION etc.). O modificador oferece suporte a restrições de dimensionalidade de coordenadas adicionando sufixos: Z, M e ZM. Por exemplo, um modificador de "LINESTRINGM" permite apenas linhas com três dimensões e trata a terceira dimensão como uma medida. Da mesma forma, 'POINTZM' requer dados de quatro dimensões (XYZM). </p></li><li class="listitem"><p>the <span class="bold"><strong>SRID modifier</strong></span> restricts the <a class="link" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">spatial reference system</a> SRID to a particular number. If omitted, the SRID defaults to 0. </p></li></ul></div><p/><p>Examples of creating tables with geometry columns:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Create a table holding any kind of geometry with the default SRID:</p><pre class="programlisting">CREATE TABLE geoms(gid serial PRIMARY KEY, geom geometry );</pre></li><li class="listitem"><p>Create a table with 2D POINT geometry with the default SRID:</p><pre class="programlisting">CREATE TABLE pts(gid serial PRIMARY KEY, geom geometry(POINT) );</pre></li><li class="listitem"><p>Create a table with 3D (XYZ) POINTs and an explicit SRID of 3005:</p><pre class="programlisting">CREATE TABLE pts(gid serial PRIMARY KEY, geom geometry(POINTZ,3005) );</pre></li><li class="listitem"><p>Create a table with 4D (XYZM) LINESTRING geometry with the default SRID:</p><pre class="programlisting">CREATE TABLE lines(gid serial PRIMARY KEY, geom geometry(LINESTRINGZM) );</pre></li><li class="listitem"><p>Create a table with 2D POLYGON geometry with the SRID 4267 (NAD 1927 long lat):</p><pre class="programlisting">CREATE TABLE polys(gid serial PRIMARY KEY, geom geometry(POLYGON,4267) );</pre></li></ul></div><p>It is possible to have more than one geometry column in a table. This can be specified when the table is created, or a column can be added using the <a class="link" href="https://www.postgresql.org/docs/current/sql-altertable.html" target="_top">ALTER TABLE</a> SQL statement. This example adds a column that can hold 3D LineStrings:</p><pre class="programlisting">ALTER TABLE roads ADD COLUMN geom2 geometry(LINESTRINGZ,4326);</pre></section><section class="section" id="geometry_columns"><div class="titlepage"><div><div><h3 class="title">4.6.2. A GEOMETRY_COLUMNS VIEW</h3></div></div></div><p>A OGC <span class="emphasis"><em>Simple Features Specification for SQL</em></span> define a tabela de metadados <code class="varname">GEOMETRY_COLUMNS</code> para descrever a estrutura da tabela de geometria. No PostGIS <code class="varname">geometry_columns</code> é uma visualização que lê as tabelas de catálogo do sistema de banco de dados. Isso garante que as informações de metadados espaciais sejam sempre consistentes com as tabelas e visualizações definidas atualmente. A estrutura da visualização é:</p><pre class="programlisting">\d geometry_columns</pre><pre class="screen">View "public.geometry_columns"
      Column       |          Type          | Modifiers
-------------------+------------------------+-----------
 f_table_catalog   | character varying(256) |
 f_table_schema    | character varying(256) |
 f_table_name      | character varying(256) |
 f_geometry_column | character varying(256) |
 coord_dimension   | integer                |
 srid              | integer                |
 type              | character varying(30)  |</pre><p>As opções da commandline são:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">f_table_catalog, f_table_schema, f_table_name</code></span></dt><dd><p>O nome completo da tabela de característica que contém a coluna geométrica. Note que os termos "catálogo" e "esquema" são Oracle. Não existe um análogo do "catálogo" PostgreSQL, logo a coluna é deixada em branco -- para "esquema" o nome do esquema PostgreSQL é usado (<code class="varname">public</code> é o padrão).</p></dd><dt><span class="term"><code class="varname">f_geometry_column</code></span></dt><dd><p>O nome da coluna geométrica na tabela característica. </p></dd><dt><span class="term"><code class="varname">coord_dimension</code></span></dt><dd><p>A dimensão espacial (2, 3 ou 4 dimensões) da coluna. </p></dd><dt><span class="term"><code class="varname">srid</code></span></dt><dd><p>A ID do sistema de referência espacial usado para a geometria de coordenadas nessa tabela. É uma referência de chave estrangeira para a tabela <code class="varname">spatial_ref_sys</code> (consulte <a class="xref" href="#spatial_ref_sys_table" title="4.5.1. SPATIAL_REF_SYS Table">Section 4.5.1, “SPATIAL_REF_SYS Table”</a>).</p></dd><dt><span class="term"><code class="varname">type</code></span></dt><dd><p>O tipo do objeto espacial. Para restringir a coluna espacial a um tipo só, use um dos: PONTO, LINESTRING, POLÍGONO, MULTIPONTO, MULTILINESTRING, MULTIPOLÍGONO, GEOMETRYCOLLECTION ou versões correspondentes XYM  PONTOM, LINESTRINGM, POLÍGONOM, MULTIPOINTM, MULTILINESTRINGM, MULTIPOLÍGONOM, GEOMETRYCOLLECTIONM. Para coleções heterogêneas (do tipo mistas), você pode usar "GEOMETRIA" como o tipo. </p></dd></dl></div></section><section class="section" id="Manual_Register_Spatial_Column"><div class="titlepage"><div><div><h3 class="title">4.6.3. Registrando manualmente as colunas geométricas em geometry_columns</h3></div></div></div><p>Two of the cases where you may need this are the case of SQL Views and bulk inserts. For bulk insert case, you can correct the registration in the geometry_columns table by constraining the column or doing an alter table. For views, you could expose using a CAST operation. Note, if your column is typmod based, the creation process would register it correctly, so no need to do anything. Also views that have no spatial function applied to the geometry will register the same as the underlying table geometry column.</p><pre class="programlisting">-- Lets say you have a view created like this
CREATE VIEW public.vwmytablemercator AS
        SELECT gid, ST_Transform(geom, 3395) As geom, f_name
        FROM public.mytable;

-- For it to register correctly
-- You need to cast the geometry
--
DROP VIEW public.vwmytablemercator;
CREATE VIEW  public.vwmytablemercator AS
        SELECT gid, ST_Transform(geom, 3395)::geometry(Geometry, 3395) As geom, f_name
        FROM public.mytable;

-- If you know the geometry type for sure is a 2D POLYGON then you could do
DROP VIEW public.vwmytablemercator;
CREATE VIEW  public.vwmytablemercator AS
        SELECT gid, ST_Transform(geom,3395)::geometry(Polygon, 3395) As geom, f_name
        FROM public.mytable;</pre><pre class="programlisting">--Lets say you created a derivative table by doing a bulk insert
SELECT poi.gid, poi.geom, citybounds.city_name
INTO myschema.my_special_pois
FROM poi INNER JOIN citybounds ON ST_Intersects(citybounds.geom, poi.geom);

-- Create 2D index on new table
CREATE INDEX idx_myschema_myspecialpois_geom_gist
  ON myschema.my_special_pois USING gist(geom);

-- If your points are 3D points or 3M points,
-- then you might want to create an nd index instead of a 2D index
CREATE INDEX my_special_pois_geom_gist_nd
        ON my_special_pois USING gist(geom gist_geometry_ops_nd);

-- To manually register this new table's geometry column in geometry_columns.
-- Note it will also change the underlying structure of the table to
-- to make the column typmod based.
SELECT populate_geometry_columns('myschema.my_special_pois'::regclass);

-- If you are using PostGIS 2.0 and for whatever reason, you
-- you need the constraint based definition behavior
-- (such as case of inherited tables where all children do not have the same type and srid)
-- set optional use_typmod argument to false
SELECT populate_geometry_columns('myschema.my_special_pois'::regclass, false); </pre><p>Although the old-constraint based method is still supported, a constraint-based geometry column used directly in a view, will not register correctly in geometry_columns, as will a typmod one. In this example we define a column using typmod and another using constraints.</p><pre class="programlisting">CREATE TABLE pois_ny(gid SERIAL PRIMARY KEY, poi_name text, cat text, geom geometry(POINT,4326));
SELECT AddGeometryColumn('pois_ny', 'geom_2160', 2160, 'POINT', 2, false);</pre><p>Se executarmos em psql</p><pre class="programlisting">\d pois_ny;</pre><p>Observamos que elas são definidas de maneira diferente -- uma é typmod, outra é restrição </p><pre class="screen">Table "public.pois_ny"
  Column   |         Type          |                       Modifiers

-----------+-----------------------+------------------------------------------------------
 gid       | integer               | not null default nextval('pois_ny_gid_seq'::regclass)
 poi_name  | text                  |
 cat       | character varying(20) |
 geom      | geometry(Point,4326)  |
 geom_2160 | geometry              |
Indexes:
    "pois_ny_pkey" PRIMARY KEY, btree (gid)
Check constraints:
    "enforce_dims_geom_2160" CHECK (st_ndims(geom_2160) = 2)
    "enforce_geotype_geom_2160" CHECK (geometrytype(geom_2160) = 'POINT'::text
        OR geom_2160 IS NULL)
    "enforce_srid_geom_2160" CHECK (st_srid(geom_2160) = 2160)</pre><p>Nas geometry_columns, elas registram corretamente</p><pre class="programlisting">SELECT f_table_name, f_geometry_column, srid, type
        FROM geometry_columns
        WHERE f_table_name = 'pois_ny';</pre><pre class="screen">f_table_name | f_geometry_column | srid | type
-------------+-------------------+------+-------
pois_ny      | geom              | 4326 | POINT
pois_ny      | geom_2160         | 2160 | POINT</pre><p>Entretanto -- se se quiséssemos criar uma view como essa</p><pre class="programlisting">CREATE VIEW vw_pois_ny_parks AS
SELECT *
  FROM pois_ny
  WHERE cat='park';

SELECT f_table_name, f_geometry_column, srid, type
        FROM geometry_columns
        WHERE f_table_name = 'vw_pois_ny_parks';</pre><p>A coluna baseada em typmod registra corretamente, mas a baseada em restrições não.</p><pre class="screen">f_table_name   | f_geometry_column | srid |   type
------------------+-------------------+------+----------
 vw_pois_ny_parks | geom              | 4326 | POINT
 vw_pois_ny_parks | geom_2160         |    0 | GEOMETRY</pre><p>Isto pode modificar as versões futuras do PostGIS, mas por enquanto para forçar a restrição baseada em coluna view registrar corretamente, precisamos fazer isto: </p><pre class="programlisting">DROP VIEW vw_pois_ny_parks;
CREATE VIEW vw_pois_ny_parks AS
SELECT gid, poi_name, cat,
  geom,
  geom_2160::geometry(POINT,2160) As geom_2160
  FROM pois_ny
  WHERE cat = 'park';
SELECT f_table_name, f_geometry_column, srid, type
        FROM geometry_columns
        WHERE f_table_name = 'vw_pois_ny_parks';</pre><pre class="screen">f_table_name   | f_geometry_column | srid | type
------------------+-------------------+------+-------
 vw_pois_ny_parks | geom              | 4326 | POINT
 vw_pois_ny_parks | geom_2160         | 2160 | POINT</pre></section></section><section class="section" id="loading-data"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.7. Carregando dados GIS (Vector)</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#load-data-sql">4.7.1. Usando SQL para recuperar dados</a></span></li><li><span class="section"><a href="#shp2pgsql_usage">4.7.2. shp2pgsql: Using the ESRI Shapefile Loader</a></span></li></ul></div><p>Uma vez que tenha criado uma tabela espacial, você está pronto para atualizar os dados GIS no banco de dados. No momento, existe duas formas de colocar os dados no banco de dados PostGIS/PostgreSQL: usando as declarações SQL ou usando o shape file loader/dumper.</p><section class="section" id="load-data-sql"><div class="titlepage"><div><div><h3 class="title">4.7.1. Usando SQL para recuperar dados</h3></div></div></div><p>Se os dados espaciais puderem ser convertidos em uma representação de texto (como WKT ou WKB), o uso do SQL poderá ser a maneira mais fácil de inserir os dados no PostGIS. Os dados podem ser carregados em massa no PostGIS/PostgreSQL carregando um arquivo de texto de instruções SQL <code class="code">INSERT</code> usando o utilitário SQL <code class="code">psql</code>.</p><p>Um arquivo de atualização de dados (<code class="filename">roads.sql</code> por exemplo) deve se parecer com:</p><pre class="programlisting">BEGIN;
INSERT INTO roads (road_id, roads_geom, road_name)
  VALUES (1,'LINESTRING(191232 243118,191108 243242)','Jeff Rd');
INSERT INTO roads (road_id, roads_geom, road_name)
  VALUES (2,'LINESTRING(189141 244158,189265 244817)','Geordie Rd');
INSERT INTO roads (road_id, roads_geom, road_name)
  VALUES (3,'LINESTRING(192783 228138,192612 229814)','Paul St');
INSERT INTO roads (road_id, roads_geom, road_name)
  VALUES (4,'LINESTRING(189412 252431,189631 259122)','Graeme Ave');
INSERT INTO roads (road_id, roads_geom, road_name)
  VALUES (5,'LINESTRING(190131 224148,190871 228134)','Phil Tce');
INSERT INTO roads (road_id, roads_geom, road_name)
  VALUES (6,'LINESTRING(198231 263418,198213 268322)','Dave Cres');
COMMIT;</pre><p>O arquivo SQL pode ser carregado no PostgreSQL usando <code class="code">psql</code>:</p><pre class="programlisting">psql -d [database] -f roads.sql</pre></section><section class="section" id="shp2pgsql_usage"><div class="titlepage"><div><div><h3 class="title">4.7.2. shp2pgsql: Using the ESRI Shapefile Loader</h3></div></div></div><p>O carregador de dados  <code class="filename">shp2pgsql</code> converte ESRI Shape files em SQL adequado para inserção dentro de um banco de dados PostGIS/PostgreSQL, seja em formato de geometria ou geografia. O carregador possui vários modos de operação distinguidos pelas linhas de bandeiras de comando:  </p><p>Juntamente com o comando carregador shp2pgsql, existe uma interface <code class="filename">shp2pgsql-gui</code> gráfica com a maioria das opções como o carregador, mas pode ser mais fácil de usar para um carregamento único non-scripted ou se você é novo no PostGIS. Pode ser configurado como um plugin do PgAdminIII. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">(c|a|d|p) Essas são opções mutualmente exclusivas: </span></dt><dd><p>
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-c</code></span></dt><dd><p>Cria uma tabela nova e popula do shapefile. <span class="emphasis"><em>Este é o modo padrão.</em></span> </p></dd><dt><span class="term"><code class="option">-a</code></span></dt><dd><p>Anexa dados do shapefile dentro do banco de dados da tabela. Note que para usar esta opção para carregar vários arquivos, eles devem ter os mesmos atributos e tipos de dados.  </p></dd><dt><span class="term"><code class="option">-d</code></span></dt><dd><p>Derruba a tabela do banco de dados, criando uma nova tabela com os dados do shapefile. </p></dd><dt><span class="term"><code class="option">-p</code></span></dt><dd><p>Produz somente a criação da tabela do código SQL, sem adicionar nenhum dado de fato. Isto pode ser usado se você precisar separar completamente a tabela de criação e os passos de carregamento de dados.  </p></dd></dl></div><p>
        </p></dd><dt><span class="term"><code class="option">-?</code></span></dt><dd><p>Exibir tela de ajuda.  </p></dd><dt><span class="term"><code class="option">-D</code></span></dt><dd><p>Use o formato PostgreSQL "dump" para os dados de saída. Pode ser combinado com -a, -c e -d. É muito mais rápido para carregar que o formato padrão "insert" SQL. Use isto para dados muito grandes.  </p></dd><dt><span class="term"><code class="option">-s [&lt;FROM_SRID&gt;:]&lt;SRID&gt;</code></span></dt><dd><p>Cria e popula as tabelas de geometria com o SRID específico. Especifica, opcionalmente, que o shapefile de entrada usa o FROM_SRID dado, caso em que as geometrias serão reprojetadas para o SRID alvo. FROM_SRID não pode ser especificado com -D.  </p></dd><dt><span class="term"><code class="option">-k</code></span></dt><dd><p>Mantém identificadores (coluna, esquema e atributos). Note que os atributos no shapefile estão todos em CAIXAALTA. </p></dd><dt><span class="term"><code class="option">-i</code></span></dt><dd><p>Coage todos os inteiros para 32-bit integers padrão, não cria 64-bit bigints, mesmo se a assinatura  DBF parecer justificar ele.  </p></dd><dt><span class="term"><code class="option">-I</code></span></dt><dd><p>Cria um índice GiST na coluna geométrica. </p></dd><dt><span class="term"><code class="option">-m</code></span></dt><dd><p>-m <code class="filename">a_file_name</code> Especifica um arquivo contendo um conjunto de mapas de nomes (longos) de colunas para nomes de colunas DBF com 10 caracteres. O conteúdo deste arquivo é uma ou mais linhas de dois nomes separados por um espaço branco e seguindo ou liderando espaço. Por exemplo:  </p><pre class="programlisting">COLUMNNAME DBFFIELD1
AVERYLONGCOLUMNNAME DBFFIELD2</pre><p>
        </p></dd><dt><span class="term"><code class="option">-S</code></span></dt><dd><p>Gera geometrias simples em vez de MULTI geometrias. Só irá ter sucesso se todas as geometrias forem de fato únicas (ex.: um MULTIPOLÍGONO com uma única shell, ou um MULTIPONTO com um único vértice). </p></dd><dt><span class="term"><code class="option">-t &lt;dimensionality&gt;</code></span></dt><dd><p>Força a geometria de saída a ter dimensionalidade especificada. Use as strings seguintes para indicar a dimensionalidade: 2D, 3DZ, 3DM, 4D. </p><p>Se a entrada tiver poucas dimensões especificadas, a saída terá essas dimensões cheias com zeros. Se a entrada tiver mais dimensões especificadas, as que indesejadas serão tiradas.  </p></dd><dt><span class="term"><code class="option">-w</code></span></dt><dd><p>Gera o formato WKT em vez do WKB. Note que isto pode introduzir impulsos de coordenadas para perda de precisão.  </p></dd><dt><span class="term"><code class="option">-e</code></span></dt><dd><p>Execute cada declaração por si mesma, sem usar uma transação. Isto permite carregar a maioria dos dados bons quando existem geometrias ruins que geram erros. Note que não pode ser usado com a bandeira -D como o formato "dump" sempre usa a transação.  </p></dd><dt><span class="term"><code class="option">-W &lt;encoding&gt;</code></span></dt><dd><p>Especifica codificação dos dados de entrada (arquivo dbf). Quando usado, todos os atributos do dbf são convertidos da codificação especificada para UTF8. A saída SQL resultante conterá um comando <code class="code">SET CLIENT_ENCODING to UTF8</code>, então o backend será capaz de reconverter do UTF8 para qualquer codificação que o banco de dados estiver configurado para usar internamente.   </p></dd><dt><span class="term"><code class="option">-N &lt;policy&gt;</code></span></dt><dd><p>Políticas para lidar com geometrias NULAS (insert*,skip,abort) </p></dd><dt><span class="term"><code class="option">-n</code></span></dt><dd><p>-n Só importa arquivo DBF. Se seus dados não possuem shapefile correspondente, ele irá trocar automaticamente para este modo e carregar só o dbf. Então, só é necessário configurar esta bandeira se você tiver um shapefile completo, e se quiser os dados atributos e nenhuma geometria.  </p></dd><dt><span class="term"><code class="option">-G</code></span></dt><dd><p>Use geografia em vez de geometria (requer dados long/lat) em WGS84 long lat (SRID=4326) </p></dd><dt><span class="term"><code class="option">-T &lt;tablespace&gt;</code></span></dt><dd><p>Especifica o espaço para a nova tabela. Os índices continuarão usando espaço padrão a menos que o parâmetro -X também seja usado. A documentação PostgreSQL tem uma boa descrição quando usa espaços personalizados.  </p></dd><dt><span class="term"><code class="option">-X &lt;tablespace&gt;</code></span></dt><dd><p>Especifica o espaço para os novos índices da tabela. Isto se aplica ao primeiro índice chave, e o índice GIST espacial, se -I também for usado.  </p></dd><dt><span class="term"><code class="option">-Z</code></span></dt><dd><p>When used, this flag will prevent the generation of <code class="code">ANALYZE</code> statements. Without the -Z flag (default behavior), the <code class="code">ANALYZE</code> statements will be generated. </p></dd></dl></div><p>Uma seção exemplo usando o carregador para criar um arquivo de entrada e atualizando ele pode parecer com:  </p><pre class="programlisting">
# shp2pgsql -c -D -s 4269 -i -I shaperoads.shp myschema.roadstable 
&gt; roads.sql
# psql -d roadsdb -f roads.sql
</pre><p>Uma conversão e um upload podem ser feitos em apenas um passo usando encadeamento UNIX:  </p><pre class="programlisting"># shp2pgsql shaperoads.shp myschema.roadstable | psql -d roadsdb</pre></section></section><section class="section" id="extracting-data"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.8. Criando uma Tabela Espacial </h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#extract-data-sql">4.8.1. Usando SQL para recuperar dados</a></span></li><li><span class="section"><a href="#pgsql2shp-usage">4.8.2. Usando o Dumper</a></span></li></ul></div><p>Os dados podem ser extraídos do banco da dados usando o SQL ou o Shape file loader/dumper. Na seção do SQL discutiremos alguns dos operadores disponíveis para comparações e consultas em tabelas espaciais.  </p><section class="section" id="extract-data-sql"><div class="titlepage"><div><div><h3 class="title">4.8.1. Usando SQL para recuperar dados</h3></div></div></div><p>A maneira mais direta de extrair dados espaciais do banco de dados é usar uma consulta SQL <code class="code">SELECT</code> para definir o conjunto de dados a ser extraído e despejar as colunas resultantes em um arquivo de texto analisável:</p><pre class="programlisting">db=# SELECT road_id, ST_AsText(road_geom) AS geom, road_name FROM roads;

road_id | geom                                    | road_name
--------+-----------------------------------------+-----------
          1 | LINESTRING(191232 243118,191108 243242) | Jeff Rd
          2 | LINESTRING(189141 244158,189265 244817) | Geordie Rd
          3 | LINESTRING(192783 228138,192612 229814) | Paul St
          4 | LINESTRING(189412 252431,189631 259122) | Graeme Ave
          5 | LINESTRING(190131 224148,190871 228134) | Phil Tce
          6 | LINESTRING(198231 263418,198213 268322) | Dave Cres
          7 | LINESTRING(218421 284121,224123 241231) | Chris Way
(6 rows)</pre><p>Entretanto, às vezes algum tipo de restrição será necessária para cortar o número de campos retornados. No caso de restrições baseadas em atributos, só use a mesma sintaxe SQL como normal com uma tabela não espacial. No caso de restrições espaciais, os operadores seguintes são úteis/disponíveis: </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="function">ST_Intersects</code></span></dt><dd><p>This function tells whether two geometries share any space.</p></dd><dt><span class="term"><code class="code">=</code></span></dt><dd><p>Isto testa se duas geometrias são geometricamente iguais. Por exemplo, se 'POLYGON((0 0,1 1,1 0,0 0))' é o mesmo que  'POLYGON((0 0,1 1,1 0,0 0))' (é). </p></dd></dl></div><p>Next, you can use these operators in queries. Note that when specifying geometries and boxes on the SQL command line, you must explicitly turn the string representations into geometries function. The 312 is a fictitious spatial reference system that matches our data. So, for example:</p><pre class="programlisting">SELECT road_id, road_name
  FROM roads
  WHERE roads_geom='SRID=312;LINESTRING(191232 243118,191108 243242)'::geometry;</pre><p>A consulta acima retornaria um único relato da tabela "ROADS_GEOM"na qual a geometria era igual ao valor. </p><p>To check whether some of the roads passes in the area defined by a polygon:</p><pre class="programlisting">SELECT road_id, road_name
FROM roads
WHERE ST_Intersects(roads_geom, 'SRID=312;POLYGON((...))');</pre><p>The most common spatial query will probably be a "frame-based" query, used by client software, like data browsers and web mappers, to grab a "map frame" worth of data for display. </p><p>Usando o operador "&amp;&amp;" , você pode especificar uma CAIXA3D como uma caracetrística de comparação ou uma GEOMETRIA. Entretanto, quando você especifica uma GEOMETRIA, a caixa delimitadora dela será usada para a comparação. </p><p>Using a "BOX3D" object for the frame, such a query looks like this:</p><pre class="programlisting">
SELECT ST_AsText(roads_geom) AS geom
FROM roads
WHERE
  roads_geom &amp;&amp; ST_MakeEnvelope(191232, 243117,191232, 243119,312);
</pre><p>Observe o uso do SRID 312, para especificar a projeção do envelope. </p></section><section class="section" id="pgsql2shp-usage"><div class="titlepage"><div><div><h3 class="title">4.8.2. Usando o Dumper</h3></div></div></div><p>A tabela dumper <code class="filename">pgsql2shp</code> conecta diretamente ao banco de dados e converte uma tabela (possivelmente definida por uma consulta) em um shapefile. A sintaxe básica é: </p><pre class="programlisting">
pgsql2shp [&lt;options
&gt;] &lt;database
&gt; [&lt;schema
&gt;.]&lt;table&gt;
</pre><pre class="programlisting">
pgsql2shp [&lt;options
&gt;] &lt;database
&gt; &lt;query&gt;
</pre><p>As opções da commandline são:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-f &lt;filename&gt;</code></span></dt><dd><p>Atribui a saída a um filename específico. </p></dd><dt><span class="term"><code class="option">-h &lt;host&gt;</code></span></dt><dd><p>O hospedeiro do banco de dados para se conectar. </p></dd><dt><span class="term"><code class="option">-p &lt;port&gt;</code></span></dt><dd><p>A porta para conectar no hospedeiro do banco de dados.</p></dd><dt><span class="term"><code class="option">-P &lt;password&gt;</code></span></dt><dd><p>A senha para usar quando conectar ao banco de dados. </p></dd><dt><span class="term"><code class="option">-u &lt;user&gt;</code></span></dt><dd><p>O nome de usuário para usar quando conectado ao banco de dados. </p></dd><dt><span class="term"><code class="option">-g &lt;geometry column&gt;</code></span></dt><dd><p>No caso de tabelas com várias colunas geométricas, a coluna para usar quando atribuindo o shapefile. </p></dd><dt><span class="term"><code class="option">-b</code></span></dt><dd><p>Use um cursor binário. Isto tornará a operação mais rápida, mas não funcionará se qualquer atributo NÃO-geométrico na tabela necessitar de um cast para o texto. </p></dd><dt><span class="term"><code class="option">-r</code></span></dt><dd><p>Modo cru. Não derruba o campo <code class="varname">gid</code>, ou escapa o nome das colunas. </p></dd><dt><span class="term"><code class="option">-m filename</code></span></dt><dd><p>Remapeia os identificadores para nomes com dez caracteres. O conteúdo do arquivo é linhas de dois símbolos separados por um único espaço branco e nenhum espaço seguindo ou à frente: VERYLONGSYMBOL SHORTONE ANOTHERVERYLONGSYMBOL SHORTER etc.</p></dd></dl></div></section></section><section class="section" id="build-indexes"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.9. Construindo índidces</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#gist_indexes">4.9.1. Índices GiST</a></span></li><li><span class="section"><a href="#brin_indexes">4.9.2. BRIN Indexes</a></span></li><li><span class="section"><a href="#spgist_indexes">4.9.3. SP-GiST Indexes</a></span></li><li><span class="section"><a href="#tuning-index-usage">4.9.4. Construindo índidces</a></span></li></ul></div><p>Spatial indexes make using a spatial database for large data sets possible. Without indexing, a search for features requires a sequential scan of every record in the database. Indexing speeds up searching by organizing the data into a structure which can be quickly traversed to find matching records. </p><p>The B-tree index method commonly used for attribute data is not very useful for spatial data, since it only supports storing and querying data in a single dimension. Data such as geometry (which has 2 or more dimensions) requires an index method that supports range query across all the data dimensions. One of the key advantages of PostgreSQL for spatial data handling is that it offers several kinds of index methods which work well for multi-dimensional data: GiST, BRIN and SP-GiST indexes.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>Os índices GiST (Generalized Search Tree)</strong></span> dividem os dados em "coisas para um lado", "coisas que se sobrepõem", "coisas que estão dentro" e podem ser usados em uma ampla variedade de tipos de dados, inclusive dados GIS. O PostGIS usa um índice R-Tree implementado sobre o GiST para indexar dados espaciais. O GiST é o método de índice espacial mais comumente usado e versátil, e oferece um desempenho de consulta muito bom. </p></li><li class="listitem"><p><span class="bold"><strong>BRIN (Block Range Index)</strong></span> indexes operate by summarizing the spatial extent of ranges of table records. Search is done via a scan of the ranges. BRIN is only appropriate for use for some kinds of data (spatially sorted, with infrequent or no update). But it provides much faster index create time, and much smaller index size. </p></li><li class="listitem"><p><span class="bold"><strong>SP-GiST (Space-Partitioned Generalized Search Tree)</strong></span> is a generic index method that supports partitioned search trees such as quad-trees, k-d trees, and radix trees (tries). </p></li></ul></div><p>Spatial indexes store only the bounding box of geometries. Spatial queries use the index as a <span class="bold"><strong>primary filter</strong></span> to quickly determine a set of geometries potentially matching the query condition. Most spatial queries require a <span class="bold"><strong>secondary filter</strong></span> that uses a spatial predicate function to test a more specific spatial condition. For more information on queying with spatial predicates see <a class="xref" href="#using-query-indexes" title="5.2. Using Spatial Indexes">Section 5.2, “Using Spatial Indexes”</a>. </p><p>See also the <a class="link" href="https://postgis.net/workshops/postgis-intro/indexing.html" target="_top">PostGIS Workshop section on spatial indexes</a>, and the <a class="link" href="https://www.postgresql.org/docs/current/indexes.html" target="_top">PostgreSQL manual</a>. </p><section class="section" id="gist_indexes"><div class="titlepage"><div><div><h3 class="title">4.9.1. Índices GiST</h3></div></div></div><p>GiST significa "Árvores de Pesquisa Generalizada" e é uma forma genérica de classificar. Além disso, ele é usado para acelerar pesquisas em todos os tipos de estruturas de dados irregulares (arranjos inteiros, dados espectrais etc) que não são agradáveis à classificação normal B-Tree.  </p><p>Uma vez que uma tabela de dados GIS excede pouco mais de mil filas, você irá querer construir um índice para acelerar pesquisas espaciais dos dados (a menos que suas pesquisas sejam baseadas em atributos, você vai querer construir um índice normal nos campos de atributo). </p><p>A sintaxe para construir um índice GiST em uma coluna "geométrica" é a seguinte: </p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename] USING GIST ( [geometryfield] ); </pre><p>The above syntax will always build a 2D-index. To get the an n-dimensional index for the geometry type, you can create one using this syntax:</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename] USING GIST ([geometryfield] gist_geometry_ops_nd);</pre><p>Building a spatial index is a computationally intensive exercise. It also blocks write access to your table for the time it creates, so on a production system you may want to do in in a slower CONCURRENTLY-aware way:</p><pre class="programlisting">CREATE INDEX CONCURRENTLY [indexname] ON [tablename] USING GIST ( [geometryfield] ); </pre><p>After building an index, it is sometimes helpful to force PostgreSQL to collect table statistics, which are used to optimize query plans:</p><pre class="programlisting">VACUUM ANALYZE [table_name] [(column_name)];</pre></section><section class="section" id="brin_indexes"><div class="titlepage"><div><div><h3 class="title">4.9.2. BRIN Indexes</h3></div></div></div><p>BRIN stands for "Block Range Index". It is a general-purpose index method introduced in PostgreSQL 9.5. BRIN is a <span class="emphasis"><em>lossy</em></span> index method, meaning that a secondary check is required to confirm that a record matches a given search condition (which is the case for all provided spatial indexes). It provides much faster index creation and much smaller index size, with reasonable read performance. Its primary purpose is to support indexing very large tables on columns which have a correlation with their physical location within the table. In addition to spatial indexing, BRIN can speed up searches on various kinds of attribute data structures (integer, arrays etc). For more information see the <a class="link" href="https://www.postgresql.org/docs/current/brin.html" target="_top">PostgreSQL manual</a>. </p><p>Once a spatial table exceeds a few thousand rows, you will want to build an index to speed up spatial searches of the data. GiST indexes are very performant as long as their size doesn't exceed the amount of RAM available for the database, and as long as you can afford the index storage size, and the cost of index update on write. Otherwise, for very large tables BRIN index can be considered as an alternative.</p><p>A BRIN index stores the bounding box enclosing all the geometries contained in the rows in a contiguous set of table blocks, called a <span class="emphasis"><em>block range</em></span>. When executing a query using the index the block ranges are scanned to find the ones that intersect the query extent. This is efficient only if the data is physically ordered so that the bounding boxes for block ranges have minimal overlap (and ideally are mutually exclusive). The resulting index is very small in size, but is typically less performant for read than a GiST index over the same data.</p><p>Building a BRIN index is much less CPU-intensive than building a GiST index. It's common to find that a BRIN index is ten times faster to build than a GiST index over the same data. And because a BRIN index stores only one bounding box for each range of table blocks, it's common to use up to a thousand times less disk space than a GiST index.</p><p>You can choose the number of blocks to summarize in a range. If you decrease this number, the index will be bigger but will probably provide better performance.</p><p>For BRIN to be effective, the table data should be stored in a physical order which minimizes the amount of block extent overlap. It may be that the data is already sorted appropriately (for instance, if it is loaded from another dataset that is already sorted in spatial order). Otherwise, this can be accomplished by sorting the data by a one-dimensional spatial key. One way to do this is to create a new table sorted by the geometry values (which in recent PostGIS versions uses an efficient Hilbert curve ordering): </p><pre class="programlisting">CREATE TABLE table_sorted AS
   SELECT * FROM table  ORDER BY geom;
</pre><p>Alternatively, data can be sorted in-place by using a GeoHash as a (temporary) index, and clustering on that index: </p><pre class="programlisting">CREATE INDEX idx_temp_geohash ON table
    USING btree (ST_GeoHash( ST_Transform( geom, 4326 ), 20));
CLUSTER table USING idx_temp_geohash;
</pre><p>A sintaxe para criar um índice BRIN em uma coluna <code class="code">geometry</code> é a seguinte:</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename] USING BRIN ( [geome_col] ); </pre><p>The above syntax builds a 2D index. To build a 3D-dimensional index, use this syntax:</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename]
    USING BRIN ([geome_col] brin_geometry_inclusion_ops_3d);</pre><p>You can also get a 4D-dimensional index using the 4D operator class:</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename]
    USING BRIN ([geome_col] brin_geometry_inclusion_ops_4d);</pre><p>The above commands use the default number of blocks in a range, which is 128. To specify the number of blocks to summarise in a range, use this syntax</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename]
    USING BRIN ( [geome_col] ) WITH (pages_per_range = [number]); </pre><p>Keep in mind that a BRIN index only stores one index entry for a large number of rows. If your table stores geometries with a mixed number of dimensions, it's likely that the resulting index will have poor performance. You can avoid this performance penalty by choosing the operator class with the least number of dimensions of the stored geometries </p><p>The <code class="code">geography</code> datatype is supported for BRIN indexing. The syntax for building a BRIN index on a geography column is:</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename] USING BRIN ( [geog_col] ); </pre><p>The above syntax builds a 2D-index for geospatial objects on the spheroid. </p><p>Currently, only "inclusion support" is provided, meaning that just the <code class="varname">&amp;&amp;</code>, <code class="varname">~</code> and <code class="varname">@</code> operators can be used for the 2D cases (for both <code class="code">geometry</code> and <code class="code">geography</code>), and just the <code class="varname">&amp;&amp;&amp;</code> operator for 3D geometries. There is currently no support for kNN searches.</p><p>An important difference between BRIN and other index types is that the database does not maintain the index dynamically. Changes to spatial data in the table are simply appended to the end of the index. This will cause index search performance to degrade over time. The index can be updated by performing a <code class="code">VACUUM</code>, or by using a special function <code class="code">brin_summarize_new_values(regclass)</code>. For this reason BRIN may be most appropriate for use with data that is read-only, or only rarely changing. For more information refer to the <a class="link" href="https://www.postgresql.org/docs/current/brin-intro.html#BRIN-OPERATION" target="_top">manual</a>. </p><p>To summarize using BRIN for spatial data: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Index build time is very fast, and index size is very small.</p></li><li class="listitem"><p>Index query time is slower than GiST, but can still be very acceptable.</p></li><li class="listitem"><p>Requires table data to be sorted in a spatial ordering.</p></li><li class="listitem"><p>Requires manual index maintenance.</p></li><li class="listitem"><p>Most appropriate for very large tables, with low or no overlap (e.g. points), which are static or change infrequently.</p></li><li class="listitem"><p>More effective for queries which return relatively large numbers of data records.</p></li></ul></div></section><section class="section" id="spgist_indexes"><div class="titlepage"><div><div><h3 class="title">4.9.3. SP-GiST Indexes</h3></div></div></div><p>SP-GiST stands for "Space-Partitioned Generalized Search Tree" and is a generic form of indexing for multi-dimensional data types that supports partitioned search trees, such as quad-trees, k-d trees, and radix trees (tries). The common feature of these data structures is that they repeatedly divide the search space into partitions that need not be of equal size. In addition to spatial indexing, SP-GiST is used to speed up searches on many kinds of data, such as phone routing, ip routing, substring search, etc. For more information see the <a class="link" href="https://www.postgresql.org/docs/current/spgist.html" target="_top">PostgreSQL manual</a>. </p><p>As it is the case for GiST indexes, SP-GiST indexes are lossy, in the sense that they store the bounding box enclosing spatial objects. SP-GiST indexes can be considered as an alternative to GiST indexes.</p><p>Once a GIS data table exceeds a few thousand rows, an SP-GiST index may be used to speed up spatial searches of the data. The syntax for building an SP-GiST index on a "geometry" column is as follows:</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename] USING SPGIST ( [geometryfield] ); </pre><p>The above syntax will build a 2-dimensional index. A 3-dimensional index for the geometry type can be created using the 3D operator class:</p><pre class="programlisting">CREATE INDEX [indexname] ON [tablename] USING SPGIST ([geometryfield] spgist_geometry_ops_3d);</pre><p>Building a spatial index is a computationally intensive operation. It also blocks write access to your table for the time it creates, so on a production system you may want to do in in a slower CONCURRENTLY-aware way:</p><pre class="programlisting">CREATE INDEX CONCURRENTLY [indexname] ON [tablename] USING SPGIST ( [geometryfield] ); </pre><p>After building an index, it is sometimes helpful to force PostgreSQL to collect table statistics, which are used to optimize query plans:</p><pre class="programlisting">VACUUM ANALYZE [table_name] [(column_name)];</pre><p>An SP-GiST index can accelerate queries involving the following operators:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>&lt;&lt;, &amp;&lt;, &amp;&gt;, &gt;&gt;, &lt;&lt;|, &amp;&lt;|, |&amp;&gt;, |&gt;&gt;, &amp;&amp;, @&gt;, &lt;@, and ~=, for 2-dimensional indexes,</p></li><li class="listitem"><p>&amp;/&amp;, ~==, @&gt;&gt;, and &lt;&lt;@, for 3-dimensional indexes.</p></li></ul></div><p>There is no support for kNN searches at the moment.</p></section><section class="section" id="tuning-index-usage"><div class="titlepage"><div><div><h3 class="title">4.9.4. Construindo índidces</h3></div></div></div><p>Ordinarily, indexes invisibly speed up data access: once an index is built, the PostgreSQL query planner automatically decides when to use it to improve query performance. But there are some situations where the planner does not choose to use existing indexes, so queries end up using slow sequential scans instead of a spatial index.</p><p>Se você achar que seus índices não estão sendo usados (ou seus atributos) há algumas coisas que pode fazer: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Examine the query plan and check your query actually computes the thing you need. An erroneous JOIN, either forgotten or to the wrong table, can unexpectedly retrieve table records multiple times. To get the query plan, execute with <code class="code">EXPLAIN</code> in front of the query.</p></li><li class="listitem"><p>Make sure statistics are gathered about the number and distributions of values in a table, to provide the query planner with better information to make decisions around index usage. <span class="command"><strong>VACUUM ANALYZE</strong></span> will compute both.</p><p>You should regularly vacuum your databases anyways. Many PostgreSQL DBAs run <span class="command"><strong>VACUUM</strong></span> as an off-peak cron job on a regular basis.</p></li><li class="listitem"><p>If vacuuming does not help, you can temporarily force the planner to use the index information by using the command <span class="command"><strong>SET ENABLE_SEQSCAN TO OFF;</strong></span>. This way you can check whether the planner is at all able to generate an index-accelerated query plan for your query. You should only use this command for debugging; generally speaking, the planner knows better than you do about when to use indexes. Once you have run your query, do not forget to run <span class="command"><strong>SET ENABLE_SEQSCAN TO ON;</strong></span> so that the planner will operate normally for other queries.</p></li><li class="listitem"><p>If <span class="command"><strong>SET ENABLE_SEQSCAN TO OFF;</strong></span> helps your query to run faster, your Postgres is likely not tuned for your hardware. If you find the planner wrong about the cost of sequential versus index scans try reducing the value of <code class="varname">RANDOM_PAGE_COST</code> in <code class="code">postgresql.conf</code>, or use <span class="command"><strong>SET RANDOM_PAGE_COST TO 1.1;</strong></span>. The default value for <code class="varname">RANDOM_PAGE_COST</code> is 4.0. Try setting it to 1.1 (for SSD) or 2.0 (for fast magnetic disks). Decreasing the value makes the planner more likely to use index scans.</p></li><li class="listitem"><p>If <span class="command"><strong>SET ENABLE_SEQSCAN TO OFF;</strong></span> does not help your query, the query may be using a SQL construct that the Postgres planner is not yet able to optimize. It may be possible to rewrite the query in a way that the planner is able to handle. For example, a subquery with an inline SELECT may not produce an efficient plan, but could possibly be rewritten using a LATERAL JOIN.</p></li></ul></div><p>For more information see the Postgres manual section on <a class="link" href="https://www.postgresql.org/docs/current/runtime-config-query.html" target="_top">Query Planning</a>. </p></section></section></section><section class="chapter" id="using_postgis_query"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Spatial Queries</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#eval_spatial_rel">5.1. Determining Spatial Relationships</a></span></li><li><span class="section"><a href="#using-query-indexes">5.2. Using Spatial Indexes</a></span></li><li><span class="section"><a href="#examples_spatial_sql">5.3. Examples of Spatial SQL</a></span></li></ul></div><p>The <span class="emphasis"><em>raison d'etre</em></span> of spatial databases is to perform queries inside the database which would ordinarily require desktop GIS functionality. Using PostGIS effectively requires knowing what spatial functions are available, how to use them in queries, and ensuring that appropriate indexes are in place to provide good performance. </p><section class="section" id="eval_spatial_rel"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.1. Determining Spatial Relationships</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#DE-9IM">5.1.1. Dimensionally Extended 9-Intersection Model</a></span></li><li><span class="section"><a href="#named-spatial-rel">5.1.2. Named Spatial Relationships</a></span></li><li><span class="section"><a href="#general-spatial-rel">5.1.3. General Spatial Relationships</a></span></li></ul></div><p>Spatial relationships indicate how two geometries interact with one another. They are a fundamental capability for querying geometry. </p><section class="section" id="DE-9IM"><div class="titlepage"><div><div><h3 class="title">5.1.1. Dimensionally Extended 9-Intersection Model</h3></div></div></div><p>According to the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OpenGIS Simple Features Implementation Specification for SQL</a>, "the basic approach to comparing two geometries is to make pair-wise tests of the intersections between the Interiors, Boundaries and Exteriors of the two geometries and to classify the relationship between the two geometries based on the entries in the resulting 'intersection' matrix."</p><p>In the theory of point-set topology, the points in a geometry embedded in 2-dimensional space are categorized into three sets: </p><div class="glosslist"><dl><dt><span class="glossterm">Boundary</span></dt><dd class="glossdef"><p>The boundary of a geometry is the set of geometries of the next lower dimension. For <code class="varname">POINT</code>s, which have a dimension of 0, the boundary is the empty set. The boundary of a <code class="varname">LINESTRING</code> is the two endpoints. For <code class="varname">POLYGON</code>s, the boundary is the linework of the exterior and interior rings.</p></dd><dt><span class="glossterm">Interior</span></dt><dd class="glossdef"><p>The interior of a geometry are those points of a geometry that are not in the boundary. For <code class="varname">POINT</code>s, the interior is the point itself. The interior of a <code class="varname">LINESTRING</code> is the set of points between the endpoints. For <code class="varname">POLYGON</code>s, the interior is the areal surface inside the polygon.</p></dd><dt><span class="glossterm">Exterior</span></dt><dd class="glossdef"><p>The exterior of a geometry is the rest of the space in which the geometry is embedded; in other words, all points not in the interior or on the boundary of the geometry. It is a 2-dimensional non-closed surface. </p></dd></dl></div><p>The <a class="link" href="http://en.wikipedia.org/wiki/DE-9IM" target="_top">Dimensionally Extended 9-Intersection Model</a> (DE-9IM) describes the spatial relationship between two geometries by specifying the dimensions of the 9 intersections between the above sets for each geometry. The intersection dimensions can be formally represented in a 3x3 <span class="bold"><strong>intersection matrix</strong></span>. </p><p>For a geometry <span class="emphasis"><em>g</em></span> the <span class="emphasis"><em>Interior</em></span>, <span class="emphasis"><em>Boundary</em></span>, and <span class="emphasis"><em>Exterior</em></span> are denoted using the notation <span class="emphasis"><em>I(g)</em></span>, <span class="emphasis"><em>B(g)</em></span>, and <span class="emphasis"><em>E(g)</em></span>. Also, <span class="emphasis"><em>dim(s)</em></span> denotes the dimension of a set <span class="emphasis"><em>s</em></span> with the domain of <code class="literal">{0,1,2,F}</code>: </p><div class="itemizedlist"><ul class="itemizedlist compact" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code> =&gt; point</p></li><li class="listitem"><p><code class="literal">1</code> =&gt; line</p></li><li class="listitem"><p><code class="literal">2</code> =&gt; area</p></li><li class="listitem"><p><code class="literal">F</code> =&gt; empty set</p></li></ul></div><p>Using this notation, the intersection matrix for two geometries <span class="emphasis"><em>a</em></span> and <span class="emphasis"><em>b</em></span> is:</p><div class="styledtable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="bold"><strong>Interior</strong></span></th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="bold"><strong>Boundary</strong></span></th><th style="text-align: center; border-bottom: 1px solid ; "><span class="bold"><strong>Exterior</strong></span></th></tr></thead><tbody><tr><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="bold"><strong>Interior</strong></span></td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="emphasis"><em>dim( I(a) ∩ I(b) )</em></span></td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="emphasis"><em>dim( I(a) ∩ B(b) )</em></span></td><td style="text-align: center; border-bottom: 1px solid ; "><span class="emphasis"><em>dim( I(a) ∩ E(b) )</em></span></td></tr><tr><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="bold"><strong>Boundary</strong></span></td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="emphasis"><em>dim( B(a) ∩ I(b) )</em></span></td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="emphasis"><em>dim( B(a) ∩ B(b) )</em></span></td><td style="text-align: center; border-bottom: 1px solid ; "><span class="emphasis"><em>dim( B(a) ∩ E(b) )</em></span></td></tr><tr><td style="text-align: center; border-right: 1px solid ; "><span class="bold"><strong>Exterior</strong></span></td><td style="text-align: center; border-right: 1px solid ; "><span class="emphasis"><em>dim( E(a) ∩ I(b) )</em></span></td><td style="text-align: center; border-right: 1px solid ; "><span class="emphasis"><em>dim( E(a) ∩ B(b) )</em></span></td><td style="text-align: center; "><span class="emphasis"><em>dim( E(a) ∩ E(b) )</em></span></td></tr></tbody></table></div><p>Visually, for two overlapping polygonal geometries, this looks like:</p><div class="informaltable"><table style="border: none;"><colgroup><col style="width: 80pt; "/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "><div class="informalfigure"><div style="text-align: center; " class="mediaobject"><table style="border: 0; cellpadding: 0; cellspacing: 0;"><tr><td style="text-align: center; vertical-align: middle; "><img style="text-align: middle; " src="images/de9im04.png"/></td></tr></table></div></div></td></tr><tr><td style="text-align: center; vertical-align: middle; border-right: 1px solid ; "><div class="informalfigure"><div style="text-align: center; " class="mediaobject"><table style="border: 0; cellpadding: 0; cellspacing: 0;"><tr><td style="text-align: center; vertical-align: middle; "><img style="text-align: middle; " src="images/de9im03.png"/></td></tr></table></div></div></td><td><table style="width: 100%; border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/><col/></colgroup><thead style="vertical-align: middle; "><tr><th style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "> </th><th style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="bold"><strong>Interior</strong></span></th><th style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="bold"><strong>Boundary</strong></span></th><th style="vertical-align: middle; border-bottom: 1px solid ; "><span class="bold"><strong>Exterior</strong></span></th></tr></thead><tbody style="vertical-align: middle; "><tr><td style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; ">
                                <span class="bold"><strong>Interior</strong></span>
                            </td><td style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im05.png"/></div></div><p><span class="emphasis"><em>dim( I(a) ∩ I(b) ) = </em></span><span class="bold"><strong>2</strong></span></p></td><td style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im06.png"/></div></div><p><span class="emphasis"><em>dim( I(a) ∩ B(b) = </em></span><span class="bold"><strong>1</strong></span></p></td><td style="vertical-align: middle; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im07.png"/></div></div><p><span class="emphasis"><em>dim( I(a) ∩ E(b) ) = </em></span><span class="bold"><strong>2</strong></span></p></td></tr><tr><td style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "><span class="bold"><strong>Boundary</strong></span></td><td style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im08.png"/></div></div><p><span class="emphasis"><em>dim( B(a) ∩ I(b) ) = </em></span><span class="bold"><strong>1</strong></span></p></td><td style="vertical-align: middle; border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im09.png"/></div></div><p><span class="emphasis"><em>dim( B(a) ∩ B(b) ) = </em></span><span class="bold"><strong>0</strong></span></p></td><td style="vertical-align: middle; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im10.png"/></div></div><p><span class="emphasis"><em>dim( B(a) ∩ E(b) ) = </em></span><span class="bold"><strong>1</strong></span></p></td></tr><tr><td style="vertical-align: middle; border-right: 1px solid ; "><span class="bold"><strong>Exterior</strong></span></td><td style="vertical-align: middle; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im11.png"/></div></div><p><span class="emphasis"><em>dim( E(a) ∩ I(b) ) = </em></span><span class="bold"><strong>2</strong></span></p></td><td style="vertical-align: middle; border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im12.png"/></div></div><p><span class="emphasis"><em>dim( E(a) ∩ B(b) ) = </em></span><span class="bold"><strong>1</strong></span></p></td><td style="vertical-align: middle; "><div class="informalfigure"><div class="mediaobject"><img src="images/de9im13.png"/></div></div><p><span class="emphasis"><em>dim( E(a) ∩ E(b) = </em></span><span class="bold"><strong>2</strong></span></p></td></tr></tbody></table></td></tr></tbody></table></div><p>Reading from left to right and top to bottom, the intersection matrix is represented as the text string '<span class="bold"><strong>212101212</strong></span>'.</p><p>For more information, refer to:</p><div class="itemizedlist"><ul class="itemizedlist compact" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OpenGIS Simple Features Implementation Specification for SQL</a> (version 1.1, section 2.1.13.2)</p></li><li class="listitem"><p><a class="link" href="https://en.wikipedia.org/wiki/DE-9IM" target="_top">Wikipedia: Dimensionally Extended Nine-Intersection Model (DE-9IM)</a></p></li><li class="listitem"><p><a class="link" href="http://docs.geotools.org/latest/userguide/library/jts/dim9.html" target="_top">GeoTools: Point Set Theory and the DE-9IM Matrix</a></p></li></ul></div></section><section class="section" id="named-spatial-rel"><div class="titlepage"><div><div><h3 class="title">5.1.2. Named Spatial Relationships</h3></div></div></div><p>To make it easy to determine common spatial relationships, the OGC SFS defines a set of <span class="emphasis"><em>named spatial relationship predicates</em></span>. PostGIS provides these as the functions <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a>, <a class="xref" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a>, <a class="xref" href="#ST_Touches" title="ST_Touches">ST_Touches</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a>. It also defines the non-standard relationship predicates <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, and <a class="xref" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>. </p><p>Spatial predicates are usually used as conditions in SQL <code class="code">WHERE</code> or <code class="code">JOIN</code> clauses. The named spatial predicates automatically use a spatial index if one is available, so there is no need to use the bounding box operator <code class="code">&amp;&amp;</code> as well. For example: </p><pre class="programlisting">SELECT city.name, state.name, city.geom
FROM city JOIN state ON ST_Intersects(city.geom, state.geom);
</pre><p>For more details and illustrations, see the <a class="link" href="https://postgis.net/workshops/postgis-intro/spatial_relationships.html" target="_top">PostGIS Workshop.</a></p></section><section class="section" id="general-spatial-rel"><div class="titlepage"><div><div><h3 class="title">5.1.3. General Spatial Relationships</h3></div></div></div><p>In some cases the named spatial relationships are insufficient to provide a desired spatial filter condition. </p><div class="informaltable"><table style="border: none;"><colgroup><col/></colgroup><tbody><tr><td><div style="float: right;" class="informalfigure-float"><div class="informalfigure"><div style="text-align: left; " class="mediaobject"><img style="text-align: left; " src="images/de9im01.png"/></div></div></div><p>For example, consider a linear dataset representing a road network. It may be required to identify all road segments that cross each other, not at a point, but in a line (perhaps to validate some business rule). In this case <a class="xref" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a> does not provide the necessary spatial filter, since for linear features it returns <code class="varname">true</code> only where they cross at a point. </p>
                <p>A two-step solution would be to first compute the actual intersection (<a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>) of pairs of road lines that spatially intersect (<a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>), and then check if the intersection's <a class="xref" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a> is '<code class="varname">LINESTRING</code>' (properly dealing with cases that return <code class="varname">GEOMETRYCOLLECTION</code>s of <code class="varname">[MULTI]POINT</code>s, <code class="varname">[MULTI]LINESTRING</code>s, etc.).</p>
                <p>Clearly, a simpler and faster solution is desirable.</p></td></tr></tbody></table></div><div class="informaltable"><table style="border: none;"><colgroup><col/></colgroup><tbody><tr><td><p> </p><div style="float: right;" class="informalfigure-float"><div class="informalfigure"><div style="text-align: right; " class="mediaobject"><img style="text-align: right; " src="images/de9im02.png"/></div></div></div> <p>A second example is locating wharves that intersect a lake's boundary on a line and where one end of the wharf is up on shore. In other words, where a wharf is within but not completely contained by a lake, intersects the boundary of a lake on a line, and where exactly one of the wharf's endpoints is within or on the boundary of the lake. It is possible to use a combination of spatial predicates to find the required features:</p> <div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p><a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>(lake, wharf) = TRUE</p></li><li class="listitem"><p><a class="xref" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>(lake, wharf) = FALSE</p></li><li class="listitem"><p><a class="xref" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a>(<a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>(wharf, lake)) = 'LINESTRING'</p></li><li class="listitem"><p><a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a>(<a class="xref" href="#ST_Multi" title="ST_Multi">ST_Multi</a>(<a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>(<a class="xref" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a>(wharf), <a class="xref" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a>(lake)))) = 1</p><p>... but needless to say, this is quite complicated.</p></li></ul></div></td></tr></tbody></table></div><p>These requirements can be met by computing the full DE-9IM intersection matrix. PostGIS provides the <a class="xref" href="#ST_Relate" title="ST_Relate">ST_Relate</a> function to do this: </p><pre class="programlisting">SELECT ST_Relate( 'LINESTRING (1 1, 5 5)',
                  'POLYGON ((3 3, 3 7, 7 7, 7 3, 3 3))' );
st_relate
-----------
1010F0212
</pre><p>To test a particular spatial relationship, an <span class="bold"><strong>intersection matrix pattern</strong></span> is used. This is the matrix representation augmented with the additional symbols <code class="literal">{T,*}</code>: </p><div class="itemizedlist"><ul class="itemizedlist compact" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">T</code> =&gt; intersection dimension is non-empty; i.e. is in <code class="literal">{0,1,2}</code></p></li><li class="listitem"><p><code class="literal">*</code> =&gt; don't care</p></li></ul></div><p>Using intersection matrix patterns, specific spatial relationships can be evaluated in a more succinct way. The <a class="xref" href="#ST_Relate" title="ST_Relate">ST_Relate</a> and the <a class="xref" href="#ST_RelateMatch" title="ST_RelateMatch">ST_RelateMatch</a> functions can be used to test intersection matrix patterns. For the first example above, the intersection matrix pattern specifying two lines intersecting in a line is '<span class="bold"><strong>1*1***1**</strong></span>':</p><pre class="programlisting">-- Find road segments that intersect in a line
SELECT a.id
FROM roads a, roads b
WHERE a.id != b.id
      AND a.geom &amp;&amp; b.geom
      AND ST_Relate(a.geom, b.geom, '1*1***1**');</pre><p>For the second example, the intersection matrix pattern specifying a line partly inside and partly outside a polygon is '<span class="bold"><strong>102101FF2</strong></span>':</p><pre class="programlisting">
-- Find wharves partly on a lake's shoreline
SELECT a.lake_id, b.wharf_id
FROM lakes a, wharfs b
WHERE a.geom &amp;&amp; b.geom
      AND ST_Relate(a.geom, b.geom, '102101FF2');
</pre></section></section><section class="section" id="using-query-indexes"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.2. Using Spatial Indexes</h2></div></div></div><p>When constructing queries using spatial conditions, for best performance it is important to ensure that a spatial index is used, if one exists (see <a class="xref" href="#build-indexes" title="4.9. Construindo índidces">Section 4.9, “Construindo índidces”</a>). To do this, a spatial operator or index-aware function must be used in a <code class="code">WHERE</code> or <code class="code">ON</code> clause of the query. </p><p>Spatial operators include the bounding box operators (of which the most commonly used is <a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a>; see <a class="xref" href="#operators-bbox" title="7.10.1. Bounding Box Operators">Section 7.10.1, “Bounding Box Operators”</a> for the full list) and the distance operators used in nearest-neighbor queries (the most common being <a class="xref" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a>; see <a class="xref" href="#operators-distance" title="7.10.2. Operadores">Section 7.10.2, “Operadores”</a> for the full list.) </p><p>Index-aware functions automatically add a bounding box operator to the spatial condition. Index-aware functions include the named spatial relationship predicates <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>, <a class="xref" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a>, <a class="xref" href="#ST_Touches" title="ST_Touches">ST_Touches</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a>, and <a class="xref" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a>, and the distance predicates <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a>, <a class="xref" href="#ST_3DDFullyWithin" title="ST_3DDFullyWithin">ST_3DDFullyWithin</a>, and <a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a> .) </p><p>Functions such as <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a> do <span class="emphasis"><em>not</em></span> use indexes to optimize their operation. For example, the following query would be quite slow on a large table:</p><pre class="programlisting">
SELECT geom
FROM geom_table
WHERE ST_Distance( geom, 'SRID=312;POINT(100000 200000)' ) &lt; 100
</pre><p>This query selects all the geometries in <code class="code">geom_table</code> which are within 100 units of the point (100000, 200000). It will be slow because it is calculating the distance between each point in the table and the specified point, ie. one <code class="varname">ST_Distance()</code> calculation is computed for <span class="bold"><strong>every</strong></span> row in the table. </p><p>The number of rows processed can be reduced substantially by using the index-aware function <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>:</p><pre class="programlisting">SELECT geom
FROM geom_table
WHERE ST_DWithin( geom, 'SRID=312;POINT(100000 200000)', 100 )
</pre><p>This query selects the same geometries, but it does it in a more efficient way. This is enabled by <code class="varname">ST_DWithin()</code> using the <code class="varname">&amp;&amp;</code> operator internally on an expanded bounding box of the query geometry. If there is a spatial index on <code class="code">geom</code>, the query planner will recognize that it can use the index to reduce the number of rows scanned before calculating the distance. The spatial index allows retrieving only records with geometries whose bounding boxes overlap the expanded extent and hence which <span class="emphasis"><em>might</em></span> be within the required distance. The actual distance is then computed to confirm whether to include the record in the result set. </p><p>For more information and examples see the <a class="link" href="https://postgis.net/workshops/postgis-intro/indexing.html" target="_top">PostGIS Workshop</a>. </p></section><section class="section" id="examples_spatial_sql"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.3. Examples of Spatial SQL</h2></div></div></div><p>The examples in this section make use of a table of linear roads, and a table of polygonal municipality boundaries. The definition of the <code class="varname">bc_roads</code> table is:</p><pre class="programlisting">Column    | Type              | Description
----------+-------------------+-------------------
gid       | integer           | Unique ID
name      | character varying | Road Name
geom      | geometry          | Location Geometry (Linestring)</pre><p>The definition of the <code class="varname">bc_municipality</code> table is:</p><pre class="programlisting">Column   | Type              | Description
---------+-------------------+-------------------
gid      | integer           | Unique ID
code     | integer           | Unique ID
name     | character varying | City / Town Name
geom     | geometry          | Location Geometry (Polygon)</pre><div class="qandaset" id="idm2904"><ul><li><a href="#qa_total_length_roads">5.3.1. What is the total length of all roads, expressed in kilometers?</a></li><li><a href="#idm2911">5.3.2. How large is the city of Prince George, in hectares?</a></li><li><a href="#idm2917">5.3.3. What is the largest municipality in the province, by area?</a></li><li><a href="#idm2924">5.3.4. What is the length of roads fully contained within each municipality?</a></li><li><a href="#idm2931">5.3.5. Create a new table with all the roads within the city of Prince George.</a></li><li><a href="#idm2937">5.3.6. What is the length in kilometers of "Douglas St" in Victoria?</a></li><li><a href="#idm2942">5.3.7. What is the largest municipality polygon that has a hole?</a></li></ul><table style="border: 0; width: 100%;"><colgroup><col style="text-align: left; width: 1%; "/><col/></colgroup><tbody><tr class="question" id="qa_total_length_roads"><td style="text-align: left; vertical-align: top; " id="idm2906"><p><strong>5.3.1.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>What is the total length of all roads, expressed in kilometers?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>You can answer this question with a very simple piece of SQL:</p><pre class="programlisting">SELECT sum(ST_Length(geom))/1000 AS km_roads FROM bc_roads;

km_roads
------------------
70842.1243039643
</pre></td></tr><tr class="question" id="idm2911"><td style="text-align: left; vertical-align: top; " id="idm2912"><p><strong>5.3.2.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>How large is the city of Prince George, in hectares?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>This query combines an attribute condition (on the municipality name) with a spatial calculation (of the polygon area):</p><pre class="programlisting">SELECT
  ST_Area(geom)/10000 AS hectares
FROM bc_municipality
WHERE name = 'PRINCE GEORGE';

hectares
------------------
32657.9103824927
</pre></td></tr><tr class="question" id="idm2917"><td style="text-align: left; vertical-align: top; " id="idm2918"><p><strong>5.3.3.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>What is the largest municipality in the province, by area?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>This query uses a spatial measurement as an ordering value. There are several ways of approaching this problem, but the most efficient is below:</p><pre class="programlisting">SELECT
  name,
  ST_Area(geom)/10000 AS hectares
FROM bc_municipality
ORDER BY hectares DESC
LIMIT 1;

name           | hectares
---------------+-----------------
TUMBLER RIDGE  | 155020.02556131
</pre><p>Note that in order to answer this query we have to calculate the area of every polygon. If we were doing this a lot it would make sense to add an area column to the table that could be indexed for performance. By ordering the results in a descending direction, and them using the PostgreSQL "LIMIT" command we can easily select just the largest value without using an aggregate function like MAX().</p></td></tr><tr class="question" id="idm2924"><td style="text-align: left; vertical-align: top; " id="idm2925"><p><strong>5.3.4.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>What is the length of roads fully contained within each municipality?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>This is an example of a "spatial join", which brings together data from two tables (with a join) using a spatial interaction ("contained") as the join condition (rather than the usual relational approach of joining on a common key):</p><pre class="programlisting">SELECT
  m.name,
  sum(ST_Length(r.geom))/1000 as roads_km
FROM bc_roads AS r
JOIN bc_municipality AS m
  ON ST_Contains(m.geom, r.geom)
GROUP BY m.name
ORDER BY roads_km;

name                        | roads_km
----------------------------+------------------
SURREY                      | 1539.47553551242
VANCOUVER                   | 1450.33093486576
LANGLEY DISTRICT            | 833.793392535662
BURNABY                     | 773.769091404338
PRINCE GEORGE               | 694.37554369147
...</pre><p>This query takes a while, because every road in the table is summarized into the final result (about 250K roads for the example table). For smaller datasets (several thousand records on several hundred) the response can be very fast.</p></td></tr><tr class="question" id="idm2931"><td style="text-align: left; vertical-align: top; " id="idm2932"><p><strong>5.3.5.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>Create a new table with all the roads within the city of Prince George.</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><p>This is an example of an "overlay", which takes in two tables and outputs a new table that consists of spatially clipped or cut resultants. Unlike the "spatial join" demonstrated above, this query creates new geometries. An overlay is like a turbo-charged spatial join, and is useful for more exact analysis work:</p><pre class="programlisting">CREATE TABLE pg_roads as
SELECT
  ST_Intersection(r.geom, m.geom) AS intersection_geom,
  ST_Length(r.geom) AS rd_orig_length,
  r.*
FROM bc_roads AS r
JOIN bc_municipality AS m
  ON ST_Intersects(r.geom, m.geom)
WHERE
  m.name = 'PRINCE GEORGE';
</pre></td></tr><tr class="question" id="idm2937"><td style="text-align: left; vertical-align: top; " id="idm2938"><p><strong>5.3.6.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>What is the length in kilometers of "Douglas St" in Victoria?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><pre class="programlisting">SELECT
  sum(ST_Length(r.geom))/1000 AS kilometers
FROM bc_roads r
JOIN bc_municipality m
  ON ST_Intersects(m.geom, r.geom
WHERE
  r.name = 'Douglas St'
  AND m.name = 'VICTORIA';

kilometers
------------------
4.89151904172838
</pre></td></tr><tr class="question" id="idm2942"><td style="text-align: left; vertical-align: top; " id="idm2943"><p><strong>5.3.7.</strong></p></td><td style="text-align: left; vertical-align: top; "><p>What is the largest municipality polygon that has a hole?</p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "/><td style="text-align: left; vertical-align: top; "><pre class="programlisting">
SELECT gid, name, ST_Area(geom) AS area
FROM bc_municipality
WHERE ST_NRings(geom) 
&gt; 1
ORDER BY area DESC LIMIT 1;

gid  | name         | area
-----+--------------+------------------
12   | SPALLUMCHEEN | 257374619.430216

</pre></td></tr></tbody></table></div></section></section><section class="chapter" id="performance_tips"><div class="titlepage"><div><div><h1 class="title">Chapter 6. Dicas de desempenho</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#small_tables_large_objects">6.1. Pequenas tabelas de grandes geometrias</a></span></li><li><span class="section"><a href="#database_clustering">6.2. CLUSTERizando índices geométricos</a></span></li><li><span class="section"><a href="#avoiding_dimension_conversion">6.3. Evitando conversão de dimensões</a></span></li></ul></div><section class="section" id="small_tables_large_objects"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.1. Pequenas tabelas de grandes geometrias</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#idm2951">6.1.1. Descrição do problema</a></span></li><li><span class="section"><a href="#idm2960">6.1.2. Soluções</a></span></li></ul></div><section class="section" id="idm2951"><div class="titlepage"><div><div><h3 class="title">6.1.1. Descrição do problema</h3></div></div></div><p>Versões atuais do PostgreSQL (incluindo a 8.0) sofrem de um problem no otimizador de queries quando falamos de tabelas TOAST. As tabelas TOAST são extensões utilizadas para armazenamento de grandes valores (no sentido de tamanho do dado) que não cabem normalmente nas páginas de dados (grandes blocos de texto, imagens ou geometrias complexas com muitos vértices, veja <a class="link" href="http://www.postgresql.org/docs/current/static/storage-toast.html" target="_top">a documentação oficial</a> para maiores informações).</p><p>Este problema ocorre se você possui tabelas com geometrias grandes, mas não muitas linhas (uma tabela dos limites todos os países europeus em alta resolução). A tabela em si, é pequena, mas utiliza muito espaço TOAST. Em nosso exemplo, a tabela em si possuía apenas 80 linhas e utilizava apenas 3 páginas de dados, mas a tabela TOAST utilizava 8225 páginas de dados.</p><p>Emita uma pesquisa onde você utiliza o operador &amp;&amp; para pesquisa por um retângulo envolvente que bate com poucas dessas linhas. O otimizador de pesquisas ve esta tabela contendo apenas 3 páginas e 80 linhas. Como a tabela é pequena, ele estima que um scan sequencial em uma tabela tão pequena será mais rápida do que utilizar um índice, ignorando o mesmo. Geralmente esta estimativa é correta, mas em nosso caso o operador &amp;&amp; tem que buscar todas as geometrias em disco para comparação dos retângulos envolventes, lendo todas as páginas TOAST também.</p><p>Para visualizar se você sofre com este bug, utilize um "EXPLAIN ANALYZE" na pesquisa em questão. Para maiores informações e detalhes técnicos, você pode recorrer a lista do postgres sobre desempenho: http://archives.postgresql.org/pgsql-performance/2005-02/msg00030.php</p><p>and newer thread on PostGIS <a class="link" href="https://lists.osgeo.org/pipermail/postgis-devel/2017-June/026209.html" target="_top">https://lists.osgeo.org/pipermail/postgis-devel/2017-June/026209.html</a></p></section><section class="section" id="idm2960"><div class="titlepage"><div><div><h3 class="title">6.1.2. Soluções</h3></div></div></div><p>O pessoal responsável pelo PostgreSQL está tentando resolver esta questão por transformar o otimizador de pesquisas ciente das tabelas TOAST. Por enquanto, existem duas soluções:</p><p>A primeira solução é forçar o estimador de pesquisar a utilizar o índice. Emita um comando "SET enable_seqscan TO off" ao servidor antes de emitir a pesquisa. Isto força o estimador a evitar scans sequenciais sempre que possível, utilizando o índice GIST como de costume. Mas esta flag deve ser setada para cada conexão e causa o estimador a decidir mal em outros casos, portanto, você deve habilitar "SET enable_seqscan TO on;" após a pesquisa.</p><p>A segunda solução é fazer a pesquisa sequencial tão rápida quanto o estimador imagina. Isto pode ser feito criando uma coluna adicional que cacheia o retângulo envolvente e realizando as pesquisas em cima desta coluna. Em nosso exemplo, os comandos são:</p><pre class="programlisting">SELECT AddGeometryColumn('myschema','mytable','bbox','4326','GEOMETRY','2');
UPDATE mytable SET bbox = ST_Envelope(ST_Force2D(geom));</pre><p>Altere sua query para usar o operador &amp;&amp; contra o retângulo envolvente ao invés da colunas geométrica, assim:</p><pre class="programlisting">
SELECT geom_column
FROM mytable
WHERE bbox &amp;&amp; ST_SetSRID('BOX3D(0 0,1 1)'::box3d,4326);
</pre><p>Claro, se você alterar ou adicionar colunas a mytable, você deve manter o retângulo envolvente em sincronia. A forma mais transparente de fazer isto seria através de triggers, mas você também querer modificar sua aplicação para manter a coluna do retângulo envolvente atualizada or executar a query de UPDATE após cada modificação.</p></section></section><section class="section" id="database_clustering"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.2. CLUSTERizando índices geométricos</h2></div></div></div><p>Para tabelas que são basicamente somente-leitura, e onde um único índice é utilizado pela maioria das queries, PostgreSQL oferece o comando CLUSTER. Este comando fisicamente reordena todas as linhas da tabela assim como as do índice, assim possibilitando duas melhorias de desempenho: primeiro, para pesquisas de intervalo de índice, o número de pesquisas na tabela de dados é dramaticamente reduzido. Segundo, se seu conjunto de trabalho concentra-se em pequenos intervalos nos índices, você tem um cache mais eficiente, pois todas as informações estão divididas em poucas páginas de dados. (Sinta se convidado para ler a documentação do comando CLUSTER do manual do PostgreSQL.)</p><p>Contudo, atualmente o Postgresql não permite a clusterização de índices geométricos GIST, pois estes índices simplesmente ignoram valores nulos, retornando um erro como:</p><pre class="programlisting">lwgeom=# CLUSTER my_geom_index ON my_table;
ERROR: cannot cluster when index access method does not handle null values
HINT: You may be able to work around this by marking column "geom" NOT NULL.</pre><p>Como a HINT da mensagem te diz, você pode adicionar uma constraint "not null" na tabela para contornar o problema.</p><pre class="programlisting">lwgeom=# ALTER TABLE my_table ALTER COLUMN geom SET not null;
ALTER TABLE</pre><p>Claro, isto não vai funcionar se você de fato precisa de valores NULL em sua coluna geométrica. Adicionalmente, você deve usar o método acima para adicionar a constraint. Utilizar uma constraint do tipo CHECK como "ALTER TABLE blubb ADD CHECK (geometry is not null);" não irá funcionar.</p></section><section class="section" id="avoiding_dimension_conversion"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.3. Evitando conversão de dimensões</h2></div></div></div><p>Algumas vezes, você tem dados que são 3D ou 4D em sua tabela, mas sempre acessa-os usando métodos OpenGIS, como ST_AsText() ou ST_AsBinary(), que somente funcionam em geometrias 2D. Eles fazem isso internamente chamando a função ST_Force2D(), que introduza um gasto extra para grandes geometrias. Para evitar este gasto extra, pode ser viável dropar essas dimensões adicionais para sempre:</p><pre class="programlisting">UPDATE mytable SET geom = ST_Force2D(geom);
VACUUM FULL ANALYZE mytable;</pre><p>Note que se você adicionou sua coluna geométrica utilizando o método AddGeometryColumn(), existirá uma constraint na dimensão da geometria. Para contornar isto, você precisará dropar a constraint também. Lembre-se de atualizar a entrada na tabela geometry_columns e recriar a constraint posteriormente.</p><p>No caso de grandes tabelas, pode ser sábio dividir este UPDATE em porções menores, restringindo o UPDATE a pequenas partes da tabela com o uso de uma cláusula WHERE sobre sua PRIMARY KEY ou outro critério, rodando um VACUUM, entre os UPDATEs. Isto reduz drasticamente a necessidade de espaço em disco temporário. Adicionalmente, se você tem geometrias de dimensões mistas, restrigir o UPDATE por "WHERE dimension(the_geom)&gt;2" pula as geometrias que já estão em 2D.</p></section></section><section class="chapter" id="reference"><div class="titlepage"><div><div><h1 class="title">Chapter 7. Referência do PostGIS</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#PostGIS_Types">7.1. PostgreSQL PostGIS Geometry/Geography/Box Types</a></span></li><li><span class="section"><a href="#Management_Functions">7.2. Funções de Gestão</a></span></li><li><span class="section"><a href="#Geometry_Constructors">7.3. Construtores de geometria</a></span></li><li><span class="section"><a href="#Geometry_Accessors">7.4. Acessors de Geometria</a></span></li><li><span class="section"><a href="#Geometry_Editors">7.5. Editores de geometria</a></span></li><li><span class="section"><a href="#Geometry_Validation">7.6. Geometry Validation</a></span></li><li><span class="section"><a href="#SRS_Functions">7.7. Spatial Reference System Functions</a></span></li><li><span class="section"><a href="#Geometry_Inputs">7.8. Geometry Input</a></span></li><li><span class="section"><a href="#Geometry_Outputs">7.9. Geometry Output</a></span></li><li><span class="section"><a href="#Operators">7.10. Operadores</a></span></li><li><span class="section"><a href="#Spatial_Relationships">7.11. Spatial Relationships</a></span></li><li><span class="section"><a href="#Measurement_Functions">7.12. Measurement Functions</a></span></li><li><span class="section"><a href="#Overlay_Functions">7.13. Overlay Functions</a></span></li><li><span class="section"><a href="#Geometry_Processing">7.14. Processamento de Geometria</a></span></li><li><span class="section"><a href="#Coverage">7.15. Coverages</a></span></li><li><span class="section"><a href="#Affine_Transformation">7.16. Affine Transformations</a></span></li><li><span class="section"><a href="#Clustering_Functions">7.17. Clustering Functions</a></span></li><li><span class="section"><a href="#BBox_Functions">7.18. Bounding Box Functions</a></span></li><li><span class="section"><a href="#Linear_Referencing">7.19. Referência linear </a></span></li><li><span class="section"><a href="#Temporal">7.20. Trajectory Functions</a></span></li><li><span class="section"><a href="#Version_Functions">7.21. Version Functions</a></span></li><li><span class="section"><a href="#PostGIS_GUC">7.22. Grandes Variáveis Unificadas Personalizadas do PostGIS (GUCs)</a></span></li><li><span class="section"><a href="#Troubleshooting_Functions">7.23. Troubleshooting Functions</a></span></li></ul></div><p>As funções descritas abaixo são as que um usuário do PostGIS devem precisar. Existem outras funções que são necessárias para suportar os objetos PostGIS mas que não são de uso comum pelo usuário.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O PostGIS iniciou uma transição da convenção de nomenclatura existente para uma convenção em torno do SQL-MM. Como resultado, a maioria das funções que você conhece e ama foram renomeadas usando o padrão de tipo espacial (com o prefixo ST). As funções anteriores ainda existem, porém não são listadas nesta documentação onde as funções atualizadas são equivalentes. As funções que não possuem prefixo ST_ não listadas nesta documentação estão obsoletas e serão removidas em futuros lançamentos, então PAREM DE UTILIZÁ-LAS.</p></td></tr></table></div><section class="section" id="PostGIS_Types"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.1. PostgreSQL PostGIS Geometry/Geography/Box Types</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Essa seção lista os tipos de dados PostgreSQL instalados pelo PostGIS. Note que descrevemos que o comportamento desses é muito importante , especialmente quando designando suas próprias funções.  </p><p>Each data type describes its type casting behavior. A <a class="link" href="https://www.postgresql.org/docs/current/sql-expressions.html#SQL-SYNTAX-TYPE-CASTS" target="_top">type cast</a> converts values of one data type into another type. PostgreSQL allows defining casting behavior for custom types, along with the functions used to convert type values. Casts can have <span class="bold"><strong>automatic</strong></span> behavior, which allows automatic conversion of a function argument to a type supported by the function.</p><p>Some casts have <span class="bold"><strong>explicit</strong></span> behavior, which means the cast must be specified using the syntax <code class="varname">CAST(myval As sometype)</code> or <code class="varname">myval::sometype</code>. Explicit casting avoids the issue of ambiguous casts, which can occur when using an overloaded function which does not support a given type. For example, a function may accept a box2d or a box3d, but not a geometry. Since geometry has an automatic cast to both box types, this produces an "ambiguous function" error. To prevent the error use an explicit cast to the desired box type.</p><p>All data types can be cast to <code class="varname">text</code>, so this does not need to be specified explicitly.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#box2d_type">box2d</a></span><span class="refpurpose"> — The type representing a 2-dimensional bounding box. </span></li><li><span class="refentrytitle"><a href="#box3d_type">box3d</a></span><span class="refpurpose"> — The type representing a 3-dimensional bounding box. </span></li><li><span class="refentrytitle"><a href="#geometry">geometry</a></span><span class="refpurpose"> — geografia é um tipo de dado espacial usado para representar uma característica no sistema de coordenada da terra-redonda. </span></li><li><span class="refentrytitle"><a href="#geometry_dump">geometry_dump</a></span><span class="refpurpose"> — A composite type used to describe the parts of complex geometry.</span></li><li><span class="refentrytitle"><a href="#geography">geography</a></span><span class="refpurpose"> — The type representing spatial features with geodetic (ellipsoidal) coordinate systems.</span></li></ul></div><div class="refentry" id="box2d_type"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>box2d — The type representing a 2-dimensional bounding box. </p></div><div class="refsection" id="idm3006"><h2>Descrição</h2><p>a caixa3d é um tipo de dados postgis usados para representar a caixa enclosing de um ageometria ou conjunto de geometrias. A ST_3DExtent retorna um objeto caixa3d.</p><p>The representation contains the values <code class="varname">xmin, ymin, xmax, ymax</code>. These are the minimum and maximum values of the X and Y extents. </p><p><code class="varname">box2d</code> objects have a text representation which looks like <code class="code">BOX(1 2,5 6)</code>. </p></div><div class="refsection" id="idm3014"><h2>Comportamento Casting</h2><p>Essa seção lista os casts automáticos bem como os explícitos permitidos para esse tipo de dados </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Cast To</td><td style="border-bottom: 1px solid ; ">Comportamento</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">box3d</td><td style="border-bottom: 1px solid ; ">automático</td></tr><tr><td style="border-right: 1px solid ; ">geometry</td><td>automático</td></tr></tbody></table></div></div><div class="refsection" id="idm3029"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_BoxFunctions" title="13.7. PostGIS Box Functions">Section 13.7, “PostGIS Box Functions”</a></p></div></div><div class="refentry" id="box3d_type"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>box3d — The type representing a 3-dimensional bounding box. </p></div><div class="refsection" id="idm3037"><h2>Descrição</h2><p>a caixa3d é um tipo de dados postgis usados para representar a caixa enclosing de um ageometria ou conjunto de geometrias. A ST_3DExtent retorna um objeto caixa3d. </p><p>The representation contains the values <code class="varname">xmin, ymin, zmin, xmax, ymax, zmax</code>. These are the minimum and maximum values of the X, Y and Z extents. </p><p><code class="varname">box3d</code> objects have a text representation which looks like <code class="code">BOX3D(1 2 3,5 6 5)</code>. </p></div><div class="refsection" id="idm3045"><h2>Comportamento Casting</h2><p>Essa seção lista os casts automáticos bem como os explícitos permitidos para esse tipo de dados </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Cast To</td><td style="border-bottom: 1px solid ; ">Comportamento</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">box</td><td style="border-bottom: 1px solid ; ">automático</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">box2d</td><td style="border-bottom: 1px solid ; ">automático</td></tr><tr><td style="border-right: 1px solid ; ">geometry</td><td>automático</td></tr></tbody></table></div></div><div class="refsection" id="idm3063"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_BoxFunctions" title="13.7. PostGIS Box Functions">Section 13.7, “PostGIS Box Functions”</a></p></div></div><div class="refentry" id="geometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>geometry — geografia é um tipo de dado espacial usado para representar uma característica no sistema de coordenada da terra-redonda. </p></div><div class="refsection" id="idm3071"><h2>Descrição</h2><p>geografia é um tipo de dado espacial usado para representar uma característica no sistema de coordenada da terra-redonda. </p><p>All spatial operations on geometry use the units of the Spatial Reference System the geometry is in.</p></div><div class="refsection" id="idm3075"><h2>Comportamento Casting</h2><p>Essa seção lista os casts automáticos bem como os explícitos permitidos para esse tipo de dados </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Cast To</td><td style="border-bottom: 1px solid ; ">Comportamento</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">box</td><td style="border-bottom: 1px solid ; ">automático</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">box2d</td><td style="border-bottom: 1px solid ; ">automático</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">box3d</td><td style="border-bottom: 1px solid ; ">automático</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">bytea</td><td style="border-bottom: 1px solid ; ">automático</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">geography</td><td style="border-bottom: 1px solid ; ">automático</td></tr><tr><td style="border-right: 1px solid ; ">texto</td><td>automático</td></tr></tbody></table></div></div><div class="refsection" id="idm3102"><h2>Veja também</h2><p><a class="xref" href="#RefObject" title="4.1. Carregando dados GIS (Vector)">Section 4.1, “Carregando dados GIS (Vector)”</a>, <a class="xref" href="#PostGIS_Geography" title="4.3. Tipo de geografia POstGIS">Section 4.3, “Tipo de geografia POstGIS”</a></p></div></div><div class="refentry" id="geometry_dump"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>geometry_dump — A composite type used to describe the parts of complex geometry.</p></div><div class="refsection" id="idm3111"><h2>Descrição</h2><p><code class="varname">geometry_dump</code> is a <a class="link" href="https://www.postgresql.org/docs/current/rowtypes.html" target="_top">composite data type</a> containing the fields:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">geom</code> - a geometry representing a component of the dumped geometry. The geometry type depends on the originating function.</p></li><li class="listitem"><p><code class="varname">path[]</code> - an integer array that defines the navigation path within the dumped geometry to the <code class="varname">geom</code> component. The path array is 1-based (i.e. <code class="varname">path[1]</code> is the first element.)</p></li></ul></div><p>It is used by the <code class="varname">ST_Dump*</code> family of functions as an output type to explode a complex geometry into its constituent parts.</p></div><div class="refsection" id="idm3127"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_Geometry_DumpFunctions" title="13.6. PostGIS Geometry / Geography / Raster Dump Functions">Section 13.6, “PostGIS Geometry / Geography / Raster Dump Functions”</a> </p></div></div><div class="refentry" id="geography"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>geography — The type representing spatial features with geodetic (ellipsoidal) coordinate systems.</p></div><div class="refsection" id="idm3135"><h2>Descrição</h2><p>geografia é um tipo de dado espacial usado para representar uma característica no sistema de coordenada da terra-redonda.  </p><p>Spatial operations on the geography type provide more accurate results by taking the ellipsoidal model into account. </p></div><div class="refsection" id="idm3139"><h2>Comportamento Casting</h2><p>Essa seção lista os casts automáticos bem como os explícitos permitidos para esse tipo de dados </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Cast To</td><td style="border-bottom: 1px solid ; ">Comportamento</td></tr><tr><td style="border-right: 1px solid ; ">geometry</td><td>explícito</td></tr></tbody></table></div></div><div class="refsection" id="idm3151"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_Geography" title="4.3. Tipo de geografia POstGIS">Section 4.3, “Tipo de geografia POstGIS”</a>, <a class="xref" href="#PostGIS_Geography" title="4.3. Tipo de geografia POstGIS">Section 4.3, “Tipo de geografia POstGIS”</a></p></div></div></section><section class="section" id="Management_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.2. Funções de Gestão</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions assist in defining tables containing geometry columns. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#AddGeometryColumn">AddGeometryColumn</a></span><span class="refpurpose"> — Remove uma coluna geometria de uma spatial table.</span></li><li><span class="refentrytitle"><a href="#DropGeometryColumn">DropGeometryColumn</a></span><span class="refpurpose"> — Remove uma coluna geometria de uma spatial table.</span></li><li><span class="refentrytitle"><a href="#DropGeometryTable">DropGeometryTable</a></span><span class="refpurpose"> — Derruba uma table e todas suas referências em geometry_columns.</span></li><li><span class="refentrytitle"><a href="#Find_SRID">Find_SRID</a></span><span class="refpurpose"> — Returns the SRID defined for a geometry column.</span></li><li><span class="refentrytitle"><a href="#Populate_Geometry_Columns">Populate_Geometry_Columns</a></span><span class="refpurpose"> — Ensures geometry columns are defined with type modifiers or have appropriate spatial constraints.</span></li><li><span class="refentrytitle"><a href="#UpdateGeometrySRID">UpdateGeometrySRID</a></span><span class="refpurpose"> — Updates the SRID of all features in a geometry column, and the table metadata. </span></li></ul></div><div class="refentry" id="AddGeometryColumn"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AddGeometryColumn — Remove uma coluna geometria de uma spatial table.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">AddGeometryColumn</strong>(</code>varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, integer  <var class="pdparam">srid</var>, varchar  <var class="pdparam">type</var>, integer  <var class="pdparam">dimension</var>, boolean  <var class="pdparam">use_typmod=true</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AddGeometryColumn</strong>(</code>varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, integer  <var class="pdparam">srid</var>, varchar  <var class="pdparam">type</var>, integer  <var class="pdparam">dimension</var>, boolean  <var class="pdparam">use_typmod=true</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AddGeometryColumn</strong>(</code>varchar  <var class="pdparam">catalog_name</var>, varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, integer  <var class="pdparam">srid</var>, varchar  <var class="pdparam">type</var>, integer  <var class="pdparam">dimension</var>, boolean  <var class="pdparam">use_typmod=true</var><code>)</code>;</p></div></div><div class="refsection" id="idm3239"><h2>Descrição</h2><p>Adiciona uma coluna geometria à uma table de atributos. O <code class="varname">schema_name</code> é o nome da table esquema. O <code class="varname">srid</code> deve ser um valor de referência inteiro para uma entrada na table SPATIAL_REF_SYS. O <code class="varname">tipo</code> deve ser uma string correspondente ao tipo da geometria, por exemplo: 'POLÍGONO' ou 'MULTILINSTRING'. Um erro é descartado se o esquema não existe (ou não é visível no search_path atual) ou a SRID especificada, tipo de geometria ou dimensão é inválida. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Alterado: 2.0.0 Essa função não atualiza mais a geometry_columns desde que ela é a view que lê dos catálogos de sistema. Por padrão, isso não cria restrições, mas usa a construção no comportamento do tipo modificador do PostgreSQL. Então, por exemplo, construir uma coluna wgs84 POINT com essa função é equivalente a:  <code class="code">ALTER TABLE some_table ADD COLUMN geom geometry(Point,4326);</code> </p><p class="changed">Alterado: 2.0.0 Se você exige o comportamento antigo de restrições use o padrão <code class="varname">use_typmod</code>, mas configure isso para falso.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Alterações: 2.0.0 Views não podem ser registradas manualmente mais em geometry_columns, porém as views construídas contra as geometrias typmod tables e usadas sem as funções wrapper irão se registrar corretamente, porque elas herdam um comportamento typmod da table column mãe. As views que usam funções geométricas que fazem outras geometrias saírem, precisarão de ser lançadas para as geometrias typmod, para essas colunas serem registradas corretamente em geometry_columns. Use <a class="xref" href="#Manual_Register_Spatial_Column" title="4.6.3. Registrando manualmente as colunas geométricas em geometry_columns">Section 4.6.3, “Registrando manualmente as colunas geométricas em geometry_columns”</a>. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p class="enhanced">Melhorias: 2.0.0 argumento use_typmod introduzido. Padrões para criar colunas de geometria typmod ao invés das baseadas em obstáculos.</p></div><div class="refsection" id="idm3267"><h2>Exemplos</h2><pre class="programlisting">-- Create schema to hold data
CREATE SCHEMA my_schema;
-- Create a new simple PostgreSQL table
CREATE TABLE my_schema.my_spatial_table (id serial);

-- Describing the table shows a simple table with a single "id" column.
postgis=# \d my_schema.my_spatial_table
                                                         Table "my_schema.my_spatial_table"
 Column |  Type   |                                Modifiers
--------+---------+-------------------------------------------------------------------------
 id     | integer | not null default nextval('my_schema.my_spatial_table_id_seq'::regclass)

-- Add a spatial column to the table
SELECT AddGeometryColumn ('my_schema','my_spatial_table','geom',4326,'POINT',2);

-- Add a point using the old constraint based behavior
SELECT AddGeometryColumn ('my_schema','my_spatial_table','geom_c',4326,'POINT',2, false);

--Add a curvepolygon using old constraint behavior
SELECT AddGeometryColumn ('my_schema','my_spatial_table','geomcp_c',4326,'CURVEPOLYGON',2, false);

-- Describe the table again reveals the addition of a new geometry columns.
\d my_schema.my_spatial_table
                            addgeometrycolumn
-------------------------------------------------------------------------
 my_schema.my_spatial_table.geomcp_c SRID:4326 TYPE:CURVEPOLYGON DIMS:2
(1 row)

                                    Table "my_schema.my_spatial_table"
  Column  |         Type         |                                Modifiers
----------+----------------------+-------------------------------------------------------------------------
 id       | integer              | not null default nextval('my_schema.my_spatial_table_id_seq'::regclass)
 geom     | geometry(Point,4326) |
 geom_c   | geometry             |
 geomcp_c | geometry             |
Check constraints:
    "enforce_dims_geom_c" CHECK (st_ndims(geom_c) = 2)
    "enforce_dims_geomcp_c" CHECK (st_ndims(geomcp_c) = 2)
    "enforce_geotype_geom_c" CHECK (geometrytype(geom_c) = 'POINT'::text OR geom_c IS NULL)
    "enforce_geotype_geomcp_c" CHECK (geometrytype(geomcp_c) = 'CURVEPOLYGON'::text OR geomcp_c IS NULL)
    "enforce_srid_geom_c" CHECK (st_srid(geom_c) = 4326)
    "enforce_srid_geomcp_c" CHECK (st_srid(geomcp_c) = 4326)

-- geometry_columns view also registers the new columns --
SELECT f_geometry_column As col_name, type, srid, coord_dimension As ndims
    FROM geometry_columns
    WHERE f_table_name = 'my_spatial_table' AND f_table_schema = 'my_schema';

 col_name |     type     | srid | ndims
----------+--------------+------+-------
 geom     | Point        | 4326 |     2
 geom_c   | Point        | 4326 |     2
 geomcp_c | CurvePolygon | 4326 |     2
</pre></div><div class="refsection" id="idm3270"><h2>Veja também</h2><p><a class="xref" href="#DropGeometryColumn" title="DropGeometryColumn">DropGeometryColumn</a>, <a class="xref" href="#DropGeometryTable" title="DropGeometryTable">DropGeometryTable</a>, <a class="xref" href="#geometry_columns" title="4.6.2. A GEOMETRY_COLUMNS VIEW">Section 4.6.2, “A GEOMETRY_COLUMNS VIEW”</a>, <a class="xref" href="#Manual_Register_Spatial_Column" title="4.6.3. Registrando manualmente as colunas geométricas em geometry_columns">Section 4.6.3, “Registrando manualmente as colunas geométricas em geometry_columns”</a></p></div></div><div class="refentry" id="DropGeometryColumn"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>DropGeometryColumn — Remove uma coluna geometria de uma spatial table.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">DropGeometryColumn</strong>(</code>varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">DropGeometryColumn</strong>(</code>varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">DropGeometryColumn</strong>(</code>varchar  <var class="pdparam">catalog_name</var>, varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm3319"><h2>Descrição</h2><p>Remove uma coluna geometria de uma table espacial. Note que o schema_name precisará combinar com o campo f_table_schema da fila da table na table geometry_columns.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Alterações: 2.0.0 Essa função é fornecida para compatibilidade atrasada. Desde que geometry_columns é uma view contra os sistemas catalogados, você pode derrubar uma coluna geométrica como qualquer outra table column usando  <code class="code">ALTERAR TABLE</code></p></td></tr></table></div></div><div class="refsection" id="idm3338"><h2>Exemplos</h2><pre class="programlisting">SELECT DropGeometryColumn ('my_schema','my_spatial_table','geom');
                        ----RESULT output ---
                                          dropgeometrycolumn
------------------------------------------------------
 my_schema.my_spatial_table.geom effectively removed.

-- In PostGIS 2.0+ the above is also equivalent to the standard
-- the standard alter table.  Both will deregister from geometry_columns
ALTER TABLE my_schema.my_spatial_table DROP column geom;
                </pre></div><div class="refsection" id="idm3341"><h2>Veja também</h2><p><a class="xref" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a>, <a class="xref" href="#DropGeometryTable" title="DropGeometryTable">DropGeometryTable</a>, <a class="xref" href="#geometry_columns" title="4.6.2. A GEOMETRY_COLUMNS VIEW">Section 4.6.2, “A GEOMETRY_COLUMNS VIEW”</a></p></div></div><div class="refentry" id="DropGeometryTable"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>DropGeometryTable — Derruba uma table e todas suas referências em geometry_columns.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">DropGeometryTable</strong>(</code>varchar  <var class="pdparam">table_name</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">DropGeometryTable</strong>(</code>varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">DropGeometryTable</strong>(</code>varchar  <var class="pdparam">catalog_name</var>, varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm3380"><h2>Descrição</h2><p>Derruba uma table e todas as suas referências em geometry_columns. Nota: use current_schema() nas instalações schema-aware pgsql se o esquema não for fornecido. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Alterações: 2.0.0 Essa função é fornecida para compatibilidade atrasada. Desde que geometry_columns é uma view contra os sistemas catalogados, você pode derrubar uma table com colunas geométricas como qualquer outra table usando  <code class="code">DERRUBAR TABLE</code></p></td></tr></table></div></div><div class="refsection" id="idm3386"><h2>Exemplos</h2><pre class="programlisting">SELECT DropGeometryTable ('my_schema','my_spatial_table');
----RESULT output ---
my_schema.my_spatial_table dropped.

-- The above is now equivalent to --
DROP TABLE my_schema.my_spatial_table;
                </pre></div><div class="refsection" id="idm3389"><h2>Veja também</h2><p><a class="xref" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a>, <a class="xref" href="#DropGeometryColumn" title="DropGeometryColumn">DropGeometryColumn</a>, <a class="xref" href="#geometry_columns" title="4.6.2. A GEOMETRY_COLUMNS VIEW">Section 4.6.2, “A GEOMETRY_COLUMNS VIEW”</a></p></div></div><div class="refentry" id="Find_SRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Find_SRID — Returns the SRID defined for a geometry column.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">Find_SRID</strong>(</code>varchar  <var class="pdparam">a_schema_name</var>, varchar  <var class="pdparam">a_table_name</var>, varchar  <var class="pdparam">a_geomfield_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm3413"><h2>Descrição</h2><p>Returns the integer SRID of the specified geometry column by searching through the GEOMETRY_COLUMNS table. If the geometry column has not been properly added (e.g. with the <a class="xref" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a> function), this function will not work.</p></div><div class="refsection" id="idm3417"><h2>Exemplos</h2><pre class="programlisting">SELECT Find_SRID('public', 'tiger_us_state_2007', 'geom_4269');
find_srid
----------
4269
</pre></div><div class="refsection" id="idm3420"><h2>Veja também</h2><p><a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="Populate_Geometry_Columns"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Populate_Geometry_Columns — Ensures geometry columns are defined with type modifiers or have appropriate spatial constraints.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Populate_Geometry_Columns</strong>(</code>boolean  <var class="pdparam">use_typmod=true</var><code>)</code>;</p><p><code class="funcdef">int <strong class="fsfunc">Populate_Geometry_Columns</strong>(</code>oid <var class="pdparam">relation_oid</var>, boolean  <var class="pdparam">use_typmod=true</var><code>)</code>;</p></div></div><div class="refsection" id="idm3445"><h2>Descrição</h2><p>Assegura que as colunas geométricas são definidas com modificadores de tipo ou têm obstáculos espaciais apropriados. Isso garante que serão registrados corretamente na view <code class="varname">geometry_columns</code>. Por padrão, irá converter todas as colunas geométricas com nenhum modificador de tipo para os que têm o modificador. para obter esse comportamento antigo use <code class="varname">use_typmod=false</code> </p><p>Para compatibilidades atrasadas e necessidades espaciais como a herança das tables, onde cada table child talvez tenha um tipo geométrico diferente, a última verificação do comportamento ainda é suportada. Se você precisar do último comportamento, você tem de passar o novo argumento opcional como falso <code class="varname">use_typmod=false</code>. Quando isso for feito, as colunas geométricas serão criadas sem modificadores de tipo, mas terão 3 obstáculos definidos. Isso significa que cada coluna geométrica pertencente a uma table tem, pelo menos, três obstáculos: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">enforce_dims_the_geom</code> - assegura que toda geometria tenha a mesma dimensão (veja <a class="xref" href="#ST_NDims" title="ST_NDims">ST_NDims</a>)</p></li><li class="listitem"><p><code class="varname">enforce_geotype_the_geom</code> - assegura que toda geometria seja do mesmo tipo (veja <a class="xref" href="#GeometryType" title="GeometryType">GeometryType</a>)</p></li><li class="listitem"><p><code class="varname">enforce_srid_the_geom</code> - assegura que toda geometria tenha a mesma projeção (veja <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a>)</p></li></ul></div><p>Se uma table <code class="varname">oid</code> é fornecida, essa função tenta determinar a srid, a dimensão e o tipo geométrico de todas as colunas geométricas na table, adicionando restrições se necessário. Se for bem-sucedido, uma fila apropriada é inserida na table geometry_columns, senão, a exceção é pega e uma notificação de erro surge, descrevendo o problema.</p><p>Se o  <code class="varname">oid</code> de uma view é fornecido, como com uma table oid, essa função tenta determinar a srid, dimensão e tipo de todas as geometrias na view, inserindo entradas apropriadas na table <code class="varname">geometry_columns</code>, mas nada é feito para executar obstáculos.</p><p>A variante sem parâmetro é um simples wrapper para a variante parametrizada que trunca primeiro e repopula a table geometry_columns para cada table espacial e view no banco de dados, adicionando obstáculos espaciais para tables onde são apropriados. Isso retorna um resumo do número de colunas geométricas detectadas no banco de dados e o número que foi inserido na table <code class="varname">geometry_columns</code>. A versão parametrizada retorna, simplesmente, o número de filas inseridas na table <code class="varname">geometry_columns</code>.</p><p class="availability">Disponibilidade: 1.4.0</p><p class="changed">Alterações: 2.0.0 Por padrão, utilize modificadores de tipo ao invés de verificar restrições para restringir os tipos de geometria. Você pode verificar restrições de comportamento ao invés de usar o novo <code class="varname">use_typmod</code> e configurá-lo para falso.</p><p class="enhanced">Melhorias: 2.0.0 <code class="varname">use_typmod</code>  argumento opcional foi introduzido, permitindo controlar se as colunas forem criadas com modificadores de tipo ou com verificação de restrições. </p></div><div class="refsection" id="idm3478"><h2>Exemplos</h2><pre class="programlisting">CREATE TABLE public.myspatial_table(gid serial, geom geometry);
INSERT INTO myspatial_table(geom) VALUES(ST_GeomFromText('LINESTRING(1 2, 3 4)',4326) );
-- This will now use typ modifiers.  For this to work, there must exist data
SELECT Populate_Geometry_Columns('public.myspatial_table'::regclass);

populate_geometry_columns
--------------------------
                        1


\d myspatial_table

                                   Table "public.myspatial_table"
 Column |           Type            |                           Modifiers
--------+---------------------------+---------------------------------------------------------------
 gid    | integer                   | not null default nextval('myspatial_table_gid_seq'::regclass)
 geom   | geometry(LineString,4326) |
</pre><pre class="programlisting">-- This will change the geometry columns to use constraints if they are not typmod or have constraints already.
--For this to work, there must exist data
CREATE TABLE public.myspatial_table_cs(gid serial, geom geometry);
INSERT INTO myspatial_table_cs(geom) VALUES(ST_GeomFromText('LINESTRING(1 2, 3 4)',4326) );
SELECT Populate_Geometry_Columns('public.myspatial_table_cs'::regclass, false);
populate_geometry_columns
--------------------------
                        1
\d myspatial_table_cs

                          Table "public.myspatial_table_cs"
 Column |   Type   |                            Modifiers
--------+----------+------------------------------------------------------------------
 gid    | integer  | not null default nextval('myspatial_table_cs_gid_seq'::regclass)
 geom   | geometry |
Check constraints:
    "enforce_dims_geom" CHECK (st_ndims(geom) = 2)
    "enforce_geotype_geom" CHECK (geometrytype(geom) = 'LINESTRING'::text OR geom IS NULL)
    "enforce_srid_geom" CHECK (st_srid(geom) = 4326)</pre></div></div><div class="refentry" id="UpdateGeometrySRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>UpdateGeometrySRID — Updates the SRID of all features in a geometry column, and the table metadata. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">UpdateGeometrySRID</strong>(</code>varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">UpdateGeometrySRID</strong>(</code>varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">UpdateGeometrySRID</strong>(</code>varchar  <var class="pdparam">catalog_name</var>, varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm3533"><h2>Descrição</h2><p>Atualiza a SRID de todas as características em uma coluna geométrica, atualizando restrições e referências na geometry_columns. Nota: use current_schema() nas instalações schema-aware pgsql se o esquema não for fornecido.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm3544"><h2>Exemplos</h2><p>Insert geometries into roads table with a SRID set already using <a class="link" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">EWKT format</a>:</p><pre class="programlisting">COPY roads (geom) FROM STDIN;
SRID=4326;LINESTRING(0 0, 10 10)
SRID=4326;LINESTRING(10 10, 15 0)
\.
                </pre><p>Isso irá alterar a srid das roads tables para 4326 de qualquer coisa que tenha sido antes</p><pre class="programlisting">SELECT UpdateGeometrySRID('roads','geom',4326);</pre><p>O exemplo anterior é equivalente a esta declaração DDL</p><pre class="programlisting">ALTER TABLE roads
  ALTER COLUMN geom TYPE geometry(MULTILINESTRING, 4326)
    USING ST_SetSRID(geom,4326);</pre><p>Se você obteve a projeção errada (ou comprou como desconhecido) no carregamento e quer transformar para mercartor, tudo de uma vez, você pode fazer isso com DDL, mas não existe uma função de gestão equivalente do PostGIS.</p><pre class="programlisting">ALTER TABLE roads
 ALTER COLUMN geom TYPE geometry(MULTILINESTRING, 3857) USING ST_Transform(ST_SetSRID(geom,4326),3857) ;</pre></div><div class="refsection" id="idm3555"><h2>Veja também</h2><p><a class="xref" href="#RT_UpdateRasterSRID" title="UpdateRasterSRID">UpdateRasterSRID</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a> </p></div></div></section><section class="section" id="Geometry_Constructors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.3. Construtores de geometria</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_Collect">ST_Collect</a></span><span class="refpurpose"> — Creates a GeometryCollection or Multi* geometry from a set of geometries.</span></li><li><span class="refentrytitle"><a href="#ST_LineFromMultiPoint">ST_LineFromMultiPoint</a></span><span class="refpurpose"> — Cria uma linestring de um multiponto geométrico.</span></li><li><span class="refentrytitle"><a href="#ST_MakeEnvelope">ST_MakeEnvelope</a></span><span class="refpurpose"> — Cria um polígono retangular formado a partir dos mínimos e máximos dados. Os valores de entrada devem ser em SRS especificados pelo SRID.</span></li><li><span class="refentrytitle"><a href="#ST_MakeLine">ST_MakeLine</a></span><span class="refpurpose"> — Cria uma Linestring de ponto, multiponto ou linha das geometrias.</span></li><li><span class="refentrytitle"><a href="#ST_MakePoint">ST_MakePoint</a></span><span class="refpurpose"> — Creates a 2D, 3DZ or 4D Point.</span></li><li><span class="refentrytitle"><a href="#ST_MakePointM">ST_MakePointM</a></span><span class="refpurpose"> — Cria um ponto com uma coordenada x y e medida.</span></li><li><span class="refentrytitle"><a href="#ST_MakePolygon">ST_MakePolygon</a></span><span class="refpurpose"> — Creates a Polygon from a shell and optional list of holes.</span></li><li><span class="refentrytitle"><a href="#ST_Point">ST_Point</a></span><span class="refpurpose"> — Creates a Point with X, Y and SRID values.</span></li><li><span class="refentrytitle"><a href="#ST_PointZ">ST_PointZ</a></span><span class="refpurpose"> — Creates a Point with X, Y, Z and SRID values.</span></li><li><span class="refentrytitle"><a href="#ST_PointM">ST_PointM</a></span><span class="refpurpose"> — Creates a Point with X, Y, M and SRID values.</span></li><li><span class="refentrytitle"><a href="#ST_PointZM">ST_PointZM</a></span><span class="refpurpose"> — Creates a Point with X, Y, Z, M and SRID values.</span></li><li><span class="refentrytitle"><a href="#ST_Polygon">ST_Polygon</a></span><span class="refpurpose"> — Creates a Polygon from a LineString with a specified SRID.</span></li><li><span class="refentrytitle"><a href="#ST_TileEnvelope">ST_TileEnvelope</a></span><span class="refpurpose"> — Creates a rectangular Polygon in Web Mercator (SRID:3857) using the XYZ tile system.</span></li><li><span class="refentrytitle"><a href="#ST_HexagonGrid">ST_HexagonGrid</a></span><span class="refpurpose"> — Returns a set of hexagons and cell indices that completely cover the bounds of the geometry argument.</span></li><li><span class="refentrytitle"><a href="#ST_Hexagon">ST_Hexagon</a></span><span class="refpurpose"> — Returns a single hexagon, using the provided edge size and cell coordinate within the hexagon grid space.</span></li><li><span class="refentrytitle"><a href="#ST_SquareGrid">ST_SquareGrid</a></span><span class="refpurpose"> — Returns a set of grid squares and cell indices that completely cover the bounds of the geometry argument.</span></li><li><span class="refentrytitle"><a href="#ST_Square">ST_Square</a></span><span class="refpurpose"> — Returns a single square, using the provided edge size and cell coordinate within the square grid space.</span></li><li><span class="refentrytitle"><a href="#ST_Letters">ST_Letters</a></span><span class="refpurpose"> — Returns the input letters rendered as geometry with a default start position at the origin and default text height of 100.</span></li></ul></div><div class="refentry" id="ST_Collect"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Collect — Creates a GeometryCollection or Multi* geometry from a set of geometries.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Collect</strong>(</code>geometry <var class="pdparam">g1</var>, geometry <var class="pdparam">g2</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Collect</strong>(</code>geometry[] <var class="pdparam">g1_array</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Collect</strong>(</code>geometry set <var class="pdparam">g1field</var><code>)</code>;</p></div></div><div class="refsection" id="idm3590"><h2>Descrição</h2><p>Collects geometries into a geometry collection. The result is either a Multi* or a GeometryCollection, depending on whether the input geometries have the same or different types (homogeneous or heterogeneous). The input geometries are left unchanged within the collection. </p><p><span class="bold"><strong>Variant 1:</strong></span> accepts two input geometries</p><p><span class="bold"><strong>Variant 2:</strong></span> accepts an array of geometries</p><p><span class="bold"><strong>Variant 3:</strong></span> aggregate function accepting a rowset of geometries.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If any of the input geometries are collections (Multi* or GeometryCollection) ST_Collect returns a GeometryCollection (since that is the only type which can contain nested collections). To prevent this, use <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a> in a subquery to expand the input collections to their atomic elements (see example below). </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_Collect and <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a> appear similar, but in fact operate quite differently. ST_Collect aggregates geometries into a collection without changing them in any way. ST_Union geometrically merges geometries where they overlap, and splits linestrings at intersections. It may return single geometries when it dissolves boundaries. </p></td></tr></table></div><p class="availability">Disponibilidade: 1.4.0 - ST_MakeLine(geomarray) foi introduzida. A ST_MakeLine agrega funções que foram melhoradas para lidar com mais pontos mais rápido. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm3614"><h2>Exemplos - Uso XLink</h2><p>Collect 2D points.</p><pre class="programlisting">SELECT ST_AsText( ST_Collect( ST_GeomFromText('POINT(1 2)'),
        ST_GeomFromText('POINT(-2 3)') ));

st_astext
----------
MULTIPOINT((1 2),(-2 3))
</pre><p>Collect 3D points.</p><pre class="programlisting">SELECT ST_AsEWKT( ST_Collect( ST_GeomFromEWKT('POINT(1 2 3)'),
                ST_GeomFromEWKT('POINT(1 2 4)') ) );

                st_asewkt
-------------------------
 MULTIPOINT(1 2 3,1 2 4)
 </pre><p>Collect curves.</p><pre class="programlisting">SELECT ST_AsText( ST_Collect( 'CIRCULARSTRING(220268 150415,220227 150505,220227 150406)',
                'CIRCULARSTRING(220227 150406,2220227 150407,220227 150406)'));

                st_astext
------------------------------------------------------------------------------------
MULTICURVE(CIRCULARSTRING(220268 150415,220227 150505,220227 150406),
 CIRCULARSTRING(220227 150406,2220227 150407,220227 150406))
</pre></div><div class="refsection" id="idm3622"><h2>Exemplos: Utilizando versão banco de dados</h2><p>Using an array constructor for a subquery.</p><pre class="programlisting">SELECT ST_Collect( ARRAY( SELECT geom FROM sometable ) );
</pre><p>Using an array constructor for values.</p><pre class="programlisting">SELECT ST_AsText(  ST_Collect(
                ARRAY[ ST_GeomFromText('LINESTRING(1 2, 3 4)'),
                        ST_GeomFromText('LINESTRING(3 4, 4 5)') ] )) As wktcollect;

--wkt collect --
MULTILINESTRING((1 2,3 4),(3 4,4 5))
</pre></div><div class="refsection" id="idm3628"><h2>Exemplos: Versão espacial agregada</h2><p>Creating multiple collections by grouping geometries in a table.</p><pre class="programlisting">SELECT stusps, ST_Collect(f.geom) as geom
         FROM (SELECT stusps, (ST_Dump(geom)).geom As geom
                                FROM
                                somestatetable ) As f
        GROUP BY stusps
</pre></div><div class="refsection" id="idm3632"><h2>Veja também</h2><p><a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a></p></div></div><div class="refentry" id="ST_LineFromMultiPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineFromMultiPoint — Cria uma linestring de um multiponto geométrico.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineFromMultiPoint</strong>(</code>geometry  <var class="pdparam">aMultiPoint</var><code>)</code>;</p></div></div><div class="refsection" id="idm3649"><h2>Descrição</h2><p>Cria uma LineString de uma geometria MultiPointo.</p><p>Use <a class="xref" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a> to create lines from Point or LineString inputs.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm3658"><h2>Exemplos</h2><p>Cria uma LineString de uma geometria MultiPointo.</p><pre class="programlisting">SELECT ST_AsEWKT(  ST_LineFromMultiPoint('MULTIPOINT(1 2 3, 4 5 6, 7 8 9)')  ));

--result--
LINESTRING(1 2 3,4 5 6,7 8 9)
</pre></div><div class="refsection" id="idm3662"><h2>Veja também</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_AsKML" title="ST_AsKML">ST_AsKML</a></p></div></div><div class="refentry" id="ST_MakeEnvelope"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakeEnvelope — Cria um polígono retangular formado a partir dos mínimos e máximos dados. Os valores de entrada devem ser em SRS especificados pelo SRID.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakeEnvelope</strong>(</code>float <var class="pdparam">xmin</var>, float <var class="pdparam">ymin</var>, float <var class="pdparam">xmax</var>, float <var class="pdparam">ymax</var>, integer <var class="pdparam">srid=unknown</var><code>)</code>;</p></div></div><div class="refsection" id="idm3691"><h2>Descrição</h2><p>Cria um polígono retangular formado a partir do mínimo e máximo, pela dada shell. Os valores de entradas devem ser SRS especificados pelo SRID. Se nenhum SRID for especificado o sistema de referência espacial desconhecido é  assumido</p><p class="availability">Disponibilidade: 1.5</p><p class="enhanced">Melhorias: 2.0: Habilidade para especificar um pacote sem especificar um SRID foi introduzida.</p></div><div class="refsection" id="idm3696"><h2>Exemplo: Construindo um polígono bounding box</h2><pre class="programlisting">SELECT ST_AsText( ST_MakeEnvelope(10, 10, 11, 11, 4326) );

st_asewkt
-----------
POLYGON((10 10, 10 11, 11 11, 11 10, 10 10))
</pre></div><div class="refsection" id="idm3699"><h2>Veja também</h2><p><a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_MakeLine"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakeLine — Cria uma Linestring de ponto, multiponto ou linha das geometrias.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakeLine</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakeLine</strong>(</code>geometry[] <var class="pdparam">geoms_array</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakeLine</strong>(</code>geometry set <var class="pdparam">geoms</var><code>)</code>;</p></div></div><div class="refsection" id="idm3733"><h2>Descrição</h2><p>Creates a LineString containing the points of Point, MultiPoint, or LineString geometries. Other geometry types cause an error. </p><p><span class="bold"><strong>Variant 1:</strong></span> accepts two input geometries</p><p><span class="bold"><strong>Variant 2:</strong></span> accepts an array of geometries</p><p><span class="bold"><strong>Variant 3:</strong></span> aggregate function accepting a rowset of geometries. To ensure the order of the input geometries use <code class="varname">ORDER BY</code> in the function call, or a subquery with an <code class="varname">ORDER BY</code> clause.</p><p>Repeated nodes at the beginning of input LineStrings are collapsed to a single point. Repeated points in Point and MultiPoint inputs are not collapsed. <a class="xref" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a> can be used to collapse repeated points from the output LineString. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p class="availability">Disponibilidad: 2.0.0 - Suporte para elementos de entrada linestring foi introduzido </p><p class="availability">Disponibilidad: 2.0.0 - Suporte para elementos de entrada linestring foi introduzido </p><p class="availability">Disponibilidade: 1.4.0 - ST_MakeLine(geomarray) foi introduzida. A ST_MakeLine agrega funções que foram melhoradas para lidar com mais pontos mais rápido. </p></div><div class="refsection" id="idm3753"><h2>Exemplos: Utilizando versão banco de dados</h2><p>Create a line composed of two points.</p><pre class="programlisting">SELECT ST_AsText( ST_MakeLine(ST_Point(1,2), ST_Point(3,4)) );

          st_astext
---------------------
 LINESTRING(1 2,3 4)
</pre><p>Cria uma CAIXA2D definida pelos pontos 2 3D dados das geometrias.</p><pre class="programlisting">SELECT ST_AsEWKT( ST_MakeLine(ST_MakePoint(1,2,3), ST_MakePoint(3,4,5) ));

                st_asewkt
-------------------------
 LINESTRING(1 2 3,3 4 5)
</pre><p>Cria uma Linestring de ponto, multiponto ou linha das geometrias.</p><pre class="programlisting">select ST_AsText( ST_MakeLine( 'LINESTRING(0 0, 1 1)', 'LINESTRING(2 2, 3 3)' ) );

          st_astext
-----------------------------
 LINESTRING(0 0,1 1,2 2,3 3)
</pre></div><div class="refsection" id="idm3761"><h2>Exemplos: Utilizando versão banco de dados</h2><p>Create a line from an array formed by a subquery with ordering.</p><pre class="programlisting">SELECT ST_MakeLine( ARRAY( SELECT ST_Centroid(geom) FROM visit_locations ORDER BY visit_time) );
</pre><p>Create a 3D line from an array of 3D points</p><pre class="programlisting">SELECT ST_AsEWKT( ST_MakeLine(
          ARRAY[ ST_MakePoint(1,2,3), ST_MakePoint(3,4,5), ST_MakePoint(6,6,6) ]  ));

                st_asewkt
-------------------------
LINESTRING(1 2 3,3 4 5,6 6 6)
</pre></div><div class="refsection" id="idm3767"><h2>Exemplos: Versão espacial agregada</h2><p>Esse exemplo pega uma sequência de pontos do GPS e cria um relato para cada torre gps onde o campo geométrico é uma line string composta com os pontos do gps na ordem da viagem.  </p><p>Using aggregate <code class="varname">ORDER BY</code> provides a correctly-ordered LineString.</p><pre class="programlisting">SELECT gps.track_id, ST_MakeLine(gps.geom ORDER BY gps_time) As geom
        FROM gps_points As gps
        GROUP BY track_id;</pre><p>Prior to PostgreSQL 9, ordering in a subquery can be used. However, sometimes the query plan may not respect the order of the subquery.</p><pre class="programlisting">SELECT gps.track_id, ST_MakeLine(gps.geom) As geom
        FROM ( SELECT track_id, gps_time, geom
                        FROM gps_points ORDER BY track_id, gps_time ) As gps
        GROUP BY track_id;</pre></div><div class="refsection" id="idm3775"><h2>Veja também</h2><p><a class="xref" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a> </p></div></div><div class="refentry" id="ST_MakePoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakePoint — Creates a 2D, 3DZ or 4D Point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakePoint</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakePoint</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">z</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakePoint</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">z</var>, float <var class="pdparam">m</var><code>)</code>;</p></div></div><div class="refsection" id="idm3826"><h2>Descrição</h2><p>Creates a 2D XY, 3D XYZ or 4D XYZM Point geometry. Use <a class="xref" href="#ST_MakePointM" title="ST_MakePointM">ST_MakePointM</a> to make points with XYM coordinates.</p><p>Use <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> to specify a SRID for the created point.</p><p>While not OGC-compliant, <code class="varname">ST_MakePoint</code> is faster and more precise than <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a> and <a class="xref" href="#ST_PointFromText" title="ST_PointFromText">ST_PointFromText</a>. It is also easier to use for numeric coordinate values.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>For geodetic coordinates, <code class="varname">X</code> is longitude and <code class="varname">Y</code> is latitude</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The functions <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_PointZ" title="ST_PointZ">ST_PointZ</a>, <a class="xref" href="#ST_PointM" title="ST_PointM">ST_PointM</a>, and <a class="xref" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a> can be used to create points with a given SRID. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm3850"><h2>Exemplos</h2><pre class="programlisting">-- Create a point with unknown SRID
SELECT ST_MakePoint(-71.1043443253471, 42.3150676015829);

-- Create a point in the WGS 84 geodetic CRS
SELECT ST_SetSRID(ST_MakePoint(-71.1043443253471, 42.3150676015829),4326);

-- Create a 3D point (e.g. has altitude)
SELECT ST_MakePoint(1, 2,1.5);

-- Get z of point
SELECT ST_Z(ST_MakePoint(1, 2,1.5));
result
-------
1.5</pre></div><div class="refsection" id="idm3853"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_PointFromText" title="ST_PointFromText">ST_PointFromText</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_MakePointM" title="ST_MakePointM">ST_MakePointM</a>, <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_PointZ" title="ST_PointZ">ST_PointZ</a>, <a class="xref" href="#ST_PointM" title="ST_PointM">ST_PointM</a>, <a class="xref" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a> </p></div></div><div class="refentry" id="ST_MakePointM"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakePointM — Cria um ponto com uma coordenada x y e medida.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakePointM</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">m</var><code>)</code>;</p></div></div><div class="refsection" id="idm3882"><h2>Descrição</h2><p>Creates a point with X, Y and M (measure) ordinates. Use <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a> to make points with XY, XYZ, or XYZM coordinates.</p><p>Use <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> to specify a SRID for the created point.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>For geodetic coordinates, <code class="varname">X</code> is longitude and <code class="varname">Y</code> is latitude</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The functions <a class="xref" href="#ST_PointM" title="ST_PointM">ST_PointM</a>, and <a class="xref" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a> can be used to create points with an M value and a given SRID. </p></td></tr></table></div></div><div class="refsection" id="idm3896"><h2>Exemplos</h2><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a> is used for text output because <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a> does not support M values.</p></td></tr></table></div><p>Create point with unknown SRID.</p><pre class="programlisting">SELECT ST_AsEWKT(  ST_MakePointM(-71.1043443253471, 42.3150676015829, 10)  );

                                   st_asewkt
-----------------------------------------------
 POINTM(-71.1043443253471 42.3150676015829 10)
</pre><p>Cria um ponto com uma coordenada x y e medida.</p><pre class="programlisting">SELECT ST_AsEWKT( ST_SetSRID(  ST_MakePointM(-71.104, 42.315, 10),  4326));

                                                st_asewkt
---------------------------------------------------------
SRID=4326;POINTM(-71.104 42.315 10)
</pre><p>Get measure of created point.</p><pre class="programlisting">SELECT ST_M(  ST_MakePointM(-71.104, 42.315, 10)  );

result
-------
10
</pre></div><div class="refsection" id="idm3908"><h2>Veja também</h2><p><a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_PointM" title="ST_PointM">ST_PointM</a>, <a class="xref" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a></p></div></div><div class="refentry" id="ST_MakePolygon"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakePolygon — Creates a Polygon from a shell and optional list of holes.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakePolygon</strong>(</code>geometry <var class="pdparam">linestring</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakePolygon</strong>(</code>geometry <var class="pdparam">outerlinestring</var>, geometry[] <var class="pdparam">interiorlinestrings</var><code>)</code>;</p></div></div><div class="refsection" id="idm3937"><h2>Descrição</h2><p>Cria uma polígono formado pela dada shell. As geometrias de entrada devem ser LINESTRINGS fechadas.</p><p><span class="bold"><strong>Variant 1:</strong></span> Accepts one shell LineString.</p><p><span class="bold"><strong>Variant 2:</strong></span> Accepts a shell LineString and an array of inner (hole) LineStrings. A geometry array can be constructed using the PostgreSQL array_agg(), ARRAY[] or ARRAY() constructs.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Essa função não aceitará uma MULTILINESTRING. Use <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a> ou <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a> para gerar line strings. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm3952"><h2>Exemplos: Utilizando versão banco de dados</h2><p>Cria uma LineString de uma string Encoded Polyline.</p><pre class="programlisting">SELECT ST_MakePolygon( ST_GeomFromText('LINESTRING(75 29,77 29,77 29, 75 29)'));
</pre><p>Create a Polygon from an open LineString, using <a class="xref" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a> and <a class="xref" href="#ST_AddPoint" title="ST_AddPoint">ST_AddPoint</a> to close it.</p><pre class="programlisting">SELECT ST_MakePolygon( ST_AddPoint(foo.open_line, ST_StartPoint(foo.open_line)) )
FROM (
  SELECT ST_GeomFromText('LINESTRING(75 29,77 29,77 29, 75 29)') As open_line) As foo;
</pre><p>Cria uma LineString de uma string Encoded Polyline.</p><pre class="programlisting">SELECT ST_AsEWKT( ST_MakePolygon( 'LINESTRING(75.15 29.53 1,77 29 1,77.6 29.5 1, 75.15 29.53 1)'));

st_asewkt
-----------
POLYGON((75.15 29.53 1,77 29 1,77.6 29.5 1,75.15 29.53 1))
</pre><p>Create a Polygon from a LineString with measures</p><pre class="programlisting">SELECT ST_AsEWKT( ST_MakePolygon( 'LINESTRINGM(75.15 29.53 1,77 29 1,77.6 29.5 2, 75.15 29.53 2)' ));

st_asewkt
----------
POLYGONM((75.15 29.53 1,77 29 1,77.6 29.5 2,75.15 29.53 2))
</pre></div><div class="refsection" id="idm3964"><h2>Exemplos: estrutura de dentro e estrutura de fora</h2><p>Construir um donut com um buraco de formiga</p><pre class="programlisting">SELECT ST_MakePolygon( ST_ExteriorRing( ST_Buffer(ring.line,10)),
        ARRAY[  ST_Translate(ring.line, 1, 1),
                ST_ExteriorRing(ST_Buffer(ST_Point(20,20),1)) ]
        )
FROM (SELECT ST_ExteriorRing(
        ST_Buffer(ST_Point(10,10),10,10)) AS line ) AS ring;
</pre><p>Create a set of province boundaries with holes representing lakes. The input is a table of province Polygons/MultiPolygons and a table of water linestrings. Lines forming lakes are determined by using <a class="xref" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a>. The province linework is extracted by using <a class="xref" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a>. As required by <code class="code">ST_MakePolygon</code>, the boundary is forced to be a single LineString by using <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a>. (However, note that if a province has more than one region or has islands this will produce an invalid polygon.) Using a LEFT JOIN ensures all provinces are included even if they have no lakes. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A construção CASE é usada porque sustentar uma coleção de nulos em ST_MakePolygon resulta em NULO. </p></td></tr></table></div><pre class="programlisting">SELECT p.gid, p.province_name,
        CASE WHEN array_agg(w.geom) IS NULL
        THEN p.geom
        ELSE  ST_MakePolygon( ST_LineMerge(ST_Boundary(p.geom)),
                        array_agg(w.geom)) END
FROM
        provinces p LEFT JOIN waterlines w
                ON (ST_Within(w.geom, p.geom) AND ST_IsClosed(w.geom))
GROUP BY p.gid, p.province_name, p.geom;
</pre><p>Another technique is to utilize a correlated subquery and the ARRAY() constructor that converts a row set to an array.</p><pre class="programlisting">SELECT p.gid,  p.province_name,
    CASE WHEN EXISTS( SELECT w.geom
        FROM waterlines w
        WHERE ST_Within(w.geom, p.geom)
        AND ST_IsClosed(w.geom))
    THEN ST_MakePolygon(
        ST_LineMerge(ST_Boundary(p.geom)),
        ARRAY( SELECT w.geom
            FROM waterlines w
            WHERE ST_Within(w.geom, p.geom)
            AND ST_IsClosed(w.geom)))
    ELSE p.geom
    END AS geom
FROM provinces p;
</pre></div><div class="refsection" id="idm3978"><h2>Veja também</h2><p>
				<a class="xref" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea</a>
				<a class="xref" href="#ST_Polygon" title="ST_Polygon">ST_Polygon</a>
			</p></div></div><div class="refentry" id="ST_Point"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Point — Creates a Point with X, Y and SRID values.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Point</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Point</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, integer <var class="pdparam">srid=unknown</var><code>)</code>;</p></div></div><div class="refsection" id="idm4011"><h2>Descrição</h2><p>Returns a Point with the given X and Y coordinate values. This is the SQL-MM equivalent for <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a> that takes just X and Y.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>For geodetic coordinates, <code class="varname">X</code> is longitude and <code class="varname">Y</code> is latitude</p></td></tr></table></div><p class="enhanced">Enhanced: 3.2.0 srid as an extra optional argument was added. Older installs require combining with ST_SetSRID to mark the srid on the geometry.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 6.1.2</p></div><div class="refsection" id="idm4024"><h2>Exemplos: Geometria </h2><pre class="programlisting">SELECT ST_Point( -71.104, 42.315);</pre><p>Creating a point with SRID specified:</p><pre class="programlisting">SELECT ST_Point( -71.104, 42.315, 4326);</pre><p>Alternative way of specifying SRID:</p><pre class="programlisting">SELECT ST_SetSRID( ST_Point( -71.104, 42.315), 4326);</pre></div><div class="refsection" id="idm4031"><h2>Exemplos: Geografia</h2><p>Create <a class="link" href="#PostGIS_Geography" title="4.3. Tipo de geografia POstGIS">geography</a> points using the <code class="varname">::</code> cast syntax:</p><pre class="programlisting">SELECT ST_Point( -71.104, 42.315, 4326)::geography;</pre><p>Pre-PostGIS 3.2 code, using <code class="varname">CAST</code>:</p><pre class="programlisting">SELECT CAST( ST_SetSRID(ST_Point( -71.104, 42.315), 4326) AS geography);</pre><p>If the point coordinates are not in a geodetic coordinate system (such as WGS84), then they must be reprojected before casting to a geography. In this example a point in Pennsylvania State Plane feet (SRID 2273) is projected to WGS84 (SRID 4326).</p><pre class="programlisting">SELECT ST_Transform( ST_Point( 3637510, 3014852, 2273), 4326)::geography;</pre></div><div class="refsection" id="idm4042"><h2>Veja também</h2><p><a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_PointZ" title="ST_PointZ">ST_PointZ</a>, <a class="xref" href="#ST_PointM" title="ST_PointM">ST_PointM</a>, <a class="xref" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="ST_PointZ"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointZ — Creates a Point with X, Y, Z and SRID values.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PointZ</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">z</var>, integer <var class="pdparam">srid=unknown</var><code>)</code>;</p></div></div><div class="refsection" id="idm4072"><h2>Descrição</h2><p>Retorna uma ST_Point com os valores de coordenada dados. Heterônimo OGC para ST_MakePoint.</p><p class="enhanced">Enhanced: 3.2.0 srid as an extra optional argument was added. Older installs require combining with ST_SetSRID to mark the srid on the geometry.</p></div><div class="refsection" id="idm4076"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_PointZ(-71.104, 42.315, 3.4, 4326)</pre><pre class="programlisting">SELECT ST_PointZ(-71.104, 42.315, 3.4, srid =&gt; 4326)</pre><pre class="programlisting">SELECT ST_PointZ(-71.104, 42.315, 3.4)</pre></div><div class="refsection" id="idm4081"><h2>Veja também</h2><p><a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_PointFromText" title="ST_PointFromText">ST_PointFromText</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_MakePointM" title="ST_MakePointM">ST_MakePointM</a></p></div></div><div class="refentry" id="ST_PointM"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointM — Creates a Point with X, Y, M and SRID values.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PointM</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">m</var>, integer <var class="pdparam">srid=unknown</var><code>)</code>;</p></div></div><div class="refsection" id="idm4109"><h2>Descrição</h2><p>Retorna uma ST_Point com os valores de coordenada dados. Heterônimo OGC para ST_MakePoint.</p><p class="enhanced">Enhanced: 3.2.0 srid as an extra optional argument was added. Older installs require combining with ST_SetSRID to mark the srid on the geometry.</p></div><div class="refsection" id="idm4113"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_PointM(-71.104, 42.315, 3.4, 4326)</pre><pre class="programlisting">SELECT ST_PointM(-71.104, 42.315, 3.4, srid =&gt; 4326)</pre><pre class="programlisting">SELECT ST_PointM(-71.104, 42.315, 3.4)</pre></div><div class="refsection" id="idm4118"><h2>Veja também</h2><p><a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_PointFromText" title="ST_PointFromText">ST_PointFromText</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_MakePointM" title="ST_MakePointM">ST_MakePointM</a></p></div></div><div class="refentry" id="ST_PointZM"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointZM — Creates a Point with X, Y, Z, M and SRID values.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PointZM</strong>(</code>float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">z</var>, float <var class="pdparam">m</var>, integer <var class="pdparam">srid=unknown</var><code>)</code>;</p></div></div><div class="refsection" id="idm4149"><h2>Descrição</h2><p>Retorna uma ST_Point com os valores de coordenada dados. Heterônimo OGC para ST_MakePoint.</p><p class="enhanced">Enhanced: 3.2.0 srid as an extra optional argument was added. Older installs require combining with ST_SetSRID to mark the srid on the geometry.</p></div><div class="refsection" id="idm4153"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_PointZM(-71.104, 42.315, 3.4, 4.5, 4326)</pre><pre class="programlisting">SELECT ST_PointZM(-71.104, 42.315, 3.4, 4.5, srid =&gt; 4326)</pre><pre class="programlisting">SELECT ST_PointZM(-71.104, 42.315, 3.4, 4.5)</pre></div><div class="refsection" id="idm4158"><h2>Veja também</h2><p><a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_PointM" title="ST_PointM">ST_PointM</a>, <a class="xref" href="#ST_PointZ" title="ST_PointZ">ST_PointZ</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a></p></div></div><div class="refentry" id="ST_Polygon"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Polygon — Creates a Polygon from a LineString with a specified SRID.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Polygon</strong>(</code>geometry  <var class="pdparam">lineString</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm4181"><h2>Descrição</h2><p>Returns a polygon built from the given LineString and sets the spatial reference system from the <code class="varname">srid</code>.</p><p>ST_Polygon is similar to <a class="xref" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a> Variant 1 with the addition of setting the SRID.</p><p>, <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Essa função não aceitará uma MULTILINESTRING. Use <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a> ou <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a> para gerar line strings. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 8.3.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm4207"><h2>Exemplos</h2><p>Create a 2D polygon.</p><pre class="programlisting">SELECT ST_AsText( ST_Polygon('LINESTRING(75 29, 77 29, 77 29, 75 29)'::geometry, 4326) );

-- result --
POLYGON((75 29, 77 29, 77 29, 75 29))
</pre><p>Create a 3D polygon.</p><pre class="programlisting">SELECT ST_AsEWKT( ST_Polygon( ST_GeomFromEWKT('LINESTRING(75 29 1, 77 29 2, 77 29 3, 75 29 1)'), 4326) );

-- result --
SRID=4326;POLYGON((75 29 1, 77 29 2, 77 29 3, 75 29 1))
</pre></div><div class="refsection" id="idm4213"><h2>Veja também</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a>, <a class="xref" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a></p></div></div><div class="refentry" id="ST_TileEnvelope"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_TileEnvelope — Creates a rectangular Polygon in <a class="link" href="https://en.wikipedia.org/wiki/Web_Mercator_projection" target="_top">Web Mercator</a> (SRID:3857) using the <a class="link" href="https://en.wikipedia.org/wiki/Tiled_web_map" target="_top">XYZ tile system</a>.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_TileEnvelope</strong>(</code>integer <var class="pdparam">tileZoom</var>, integer <var class="pdparam">tileX</var>, integer <var class="pdparam">tileY</var>, geometry <var class="pdparam">bounds=SRID=3857;LINESTRING(-20037508.342789 -20037508.342789,20037508.342789 20037508.342789)</var>, float <var class="pdparam">margin=0.0</var><code>)</code>;</p></div></div><div class="refsection" id="idm4248"><h2>Descrição</h2><p>Creates a rectangular Polygon giving the extent of a tile in the <a class="link" href="https://en.wikipedia.org/wiki/Tiled_web_map" target="_top">XYZ tile system</a>. The tile is specified by the zoom level Z and the XY index of the tile in the grid at that level. Can be used to define the tile bounds required by <a class="xref" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a> to convert geometry into the MVT tile coordinate space. </p><p>By default, the tile envelope is in the <a class="link" href="https://en.wikipedia.org/wiki/Web_Mercator_projection" target="_top">Web Mercator</a> coordinate system (SRID:3857) using the standard range of the Web Mercator system (-20037508.342789, 20037508.342789). This is the most common coordinate system used for MVT tiles. The optional <code class="varname">bounds</code> parameter can be used to generate tiles in any coordinate system. It is a geometry that has the SRID and extent of the "Zoom Level zero" square within which the XYZ tile system is inscribed.</p><p>The optional <code class="varname">margin</code> parameter can be used to expand a tile by the given percentage. E.g. <code class="varname">margin=0.125</code> expands the tile by 12.5%, which is equivalent to buffer=512 when the tile extent size is 4096, as used in <a class="xref" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a>. This is useful to create a tile buffer to include data lying outside of the tile's visible area, but whose existence affects the tile rendering. For example, a city name (a point) could be near an edge of a tile, so its label should be rendered on two tiles, even though the point is located in the visible area of just one tile. Using expanded tiles in a query will include the city point in both tiles. Use a negative value to shrink the tile instead. Values less than -0.5 are prohibited because that would eliminate the tile completely. Do not specify a margin when using with <code class="varname">ST_AsMVTGeom</code>. See the example for <a class="xref" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a>.</p><p class="enhanced">Melhorias: 2.0.0 parâmetro opcional padrão srid adicionado.</p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm4264"><h2>Exemplo: Construindo um polígono bounding box</h2><pre class="programlisting">SELECT ST_AsText( ST_TileEnvelope(2, 1, 1) );

 st_astext
------------------------------
 POLYGON((-10018754.1713945 0,-10018754.1713945 10018754.1713945,0 10018754.1713945,0 0,-10018754.1713945 0))

SELECT ST_AsText( ST_TileEnvelope(3, 1, 1, ST_MakeEnvelope(-180, -90, 180, 90, 4326) ) );

                      st_astext
------------------------------------------------------
 POLYGON((-135 45,-135 67.5,-90 67.5,-90 45,-135 45))
</pre></div><div class="refsection" id="idm4267"><h2>Veja também</h2><p><a class="xref" href="#ST_MakeEnvelope" title="ST_MakeEnvelope">ST_MakeEnvelope</a></p></div></div><div class="refentry" id="ST_HexagonGrid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_HexagonGrid — Returns a set of hexagons and cell indices that completely cover the bounds of the geometry argument.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_HexagonGrid</strong>(</code>float8 <var class="pdparam">size</var>, geometry <var class="pdparam">bounds</var><code>)</code>;</p></div></div><div class="refsection" id="idm4286"><h2>Descrição</h2><p>Starts with the concept of a hexagon tiling of the plane. (Not a hexagon tiling of the globe, this is not the <a class="link" href="https://github.com/uber/h3" target="_top">H3</a> tiling scheme.) For a given planar SRS, and a given edge size, starting at the origin of the SRS, there is one unique hexagonal tiling of the plane, Tiling(SRS, Size). This function answers the question: what hexagons in a given Tiling(SRS, Size) overlap with a given bounds.</p><p><span class="inlinemediaobject"><img src="images/st_hexagongrid01.png"/></span></p><p>The SRS for the output hexagons is the SRS provided by the bounds geometry.</p><p>Doubling or tripling the edge size of the hexagon generates a new parent tiling that fits with the origin tiling. Unfortunately, it is not possible to generate parent hexagon tilings that the child tiles perfectly fit inside.</p><p><span class="inlinemediaobject"><img src="images/st_hexagongrid02.png"/></span></p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm4301"><h2>Exemplos: Utilizando versão banco de dados</h2><p>To do a point summary against a hexagonal tiling, generate a hexagon grid using the extent of the points as the bounds, then spatially join to that grid.</p><pre class="programlisting">SELECT COUNT(*), hexes.geom
FROM
    ST_HexagonGrid(
        10000,
        ST_SetSRID(ST_EstimatedExtent('pointtable', 'geom'), 3857)
    ) AS hexes
    INNER JOIN
    pointtable AS pts
    ON ST_Intersects(pts.geom, hexes.geom)
GROUP BY hexes.geom;</pre></div><div class="refsection" id="idm4305"><h2>Exemplo: Construindo um polígono bounding box</h2><p>If we generate a set of hexagons for each polygon boundary and filter out those that do not intersect their hexagons, we end up with a tiling for each polygon.</p><p><span class="inlinemediaobject"><img src="images/st_hexagongrid03.png"/></span></p><p>Tiling states results in a hexagon coverage of each state, and multiple hexagons overlapping at the borders between states.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The LATERAL keyword is implied for set-returning functions when referring to a prior table in the FROM list. So CROSS JOIN LATERAL, CROSS JOIN, or just plain , are equivalent constructs for this example.</p></td></tr></table></div><pre class="programlisting">SELECT admin1.gid, hex.geom
FROM
    admin1
    CROSS JOIN
    ST_HexagonGrid(100000, admin1.geom) AS hex
WHERE
    adm0_a3 = 'USA'
    AND
    ST_Intersects(admin1.geom, hex.geom)</pre></div><div class="refsection" id="idm4316"><h2>Veja também</h2><p><a class="xref" href="#ST_EstimatedExtent" title="ST_EstimatedExtent">ST_EstimatedExtent</a>, <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_Hexagon"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Hexagon — Returns a single hexagon, using the provided edge size and cell coordinate within the hexagon grid space.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Hexagon</strong>(</code>float8 <var class="pdparam">size</var>, integer <var class="pdparam">cell_i</var>, integer <var class="pdparam">cell_j</var>, geometry <var class="pdparam">origin</var><code>)</code>;</p></div></div><div class="refsection" id="idm4344"><h2>Descrição</h2><p>Uses the same hexagon tiling concept as <a class="xref" href="#ST_HexagonGrid" title="ST_HexagonGrid">ST_HexagonGrid</a>, but generates just one hexagon at the desired cell coordinate. Optionally, can adjust origin coordinate of the tiling, the default origin is at 0,0. </p><p>Hexagons are generated with no SRID set, so use <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> to set the SRID to the one you expect.</p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm4351"><h2>Example: Creating a hexagon at the origin</h2><pre class="programlisting">SELECT ST_AsText(ST_SetSRID(ST_Hexagon(1.0, 0, 0), 3857));

POLYGON((-1 0,-0.5
         -0.866025403784439,0.5
         -0.866025403784439,1
         0,0.5
         0.866025403784439,-0.5
         0.866025403784439,-1 0)) </pre></div><div class="refsection" id="idm4354"><h2>Veja também</h2><p><a class="xref" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a>, <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a></p></div></div><div class="refentry" id="ST_SquareGrid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SquareGrid — Returns a set of grid squares and cell indices that completely cover the bounds of the geometry argument.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_SquareGrid</strong>(</code>float8 <var class="pdparam">size</var>, geometry <var class="pdparam">bounds</var><code>)</code>;</p></div></div><div class="refsection" id="idm4375"><h2>Descrição</h2><p>Starts with the concept of a square tiling of the plane. For a given planar SRS, and a given edge size, starting at the origin of the SRS, there is one unique square tiling of the plane, Tiling(SRS, Size). This function answers the question: what grids in a given Tiling(SRS, Size) overlap with a given bounds.</p><p>The SRS for the output squares is the SRS provided by the bounds geometry.</p><p>Doubling or edge size of the square generates a new parent tiling that perfectly fits with the original tiling. Standard web map tilings in mercator are just powers-of-two square grids in the mercator plane.</p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm4381"><h2>Exemplo: Construindo um polígono bounding box</h2><p>The grid will fill the whole bounds of the country, so if you want just squares that touch the country you will have to filter afterwards with ST_Intersects.</p><pre class="programlisting">WITH grid AS (
SELECT (ST_SquareGrid(1, ST_Transform(geom,4326))).*
FROM admin0 WHERE name = 'Canada'
)
  SELEcT ST_AsText(geom)
  FROM grid</pre></div><div class="refsection" id="idm4385"><h2>Example: Counting points in squares (using single chopped grid)</h2><p>To do a point summary against a square tiling, generate a square grid using the extent of the points as the bounds, then spatially join to that grid. Note the estimated extent might be off from actual extent, so be cautious and at very least make sure you've analyzed your table.</p><pre class="programlisting">SELECT COUNT(*), squares.geom
    FROM
    pointtable AS pts
    INNER JOIN
    ST_SquareGrid(
        1000,
        ST_SetSRID(ST_EstimatedExtent('pointtable', 'geom'), 3857)
    ) AS squares
    ON ST_Intersects(pts.geom, squares.geom)
    GROUP BY squares.geom</pre></div><div class="refsection" id="idm4389"><h2>Example: Counting points in squares using set of grid per point</h2><p>This yields the same result as the first example but will be slower for a large number of points</p><pre class="programlisting">SELECT COUNT(*), squares.geom
    FROM
    pointtable AS pts
    INNER JOIN
    ST_SquareGrid(
        1000,
       pts.geom
    ) AS squares
    ON ST_Intersects(pts.geom, squares.geom)
    GROUP BY squares.geom</pre></div><div class="refsection" id="idm4393"><h2>Veja também</h2><p><a class="xref" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a>, <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_Square"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Square — Returns a single square, using the provided edge size and cell coordinate within the square grid space.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Square</strong>(</code>float8 <var class="pdparam">size</var>, integer <var class="pdparam">cell_i</var>, integer <var class="pdparam">cell_j</var>, geometry <var class="pdparam">origin</var><code>)</code>;</p></div></div><div class="refsection" id="idm4421"><h2>Descrição</h2><p>Uses the same square tiling concept as <a class="xref" href="#ST_SquareGrid" title="ST_SquareGrid">ST_SquareGrid</a>, but generates just one square at the desired cell coordinate. Optionally, can adjust origin coordinate of the tiling, the default origin is at 0,0. </p><p>Squares are generated with no SRID set, so use <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> to set the SRID to the one you expect.</p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm4428"><h2>Example: Creating a square at the origin</h2><pre class="programlisting">SELECT ST_AsText(ST_SetSRID(ST_Square(1.0, 0, 0), 3857));

 POLYGON((0 0,0 1,1 1,1 0,0 0))</pre></div><div class="refsection" id="idm4431"><h2>Veja também</h2><p><a class="xref" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a>, <a class="xref" href="#ST_SquareGrid" title="ST_SquareGrid">ST_SquareGrid</a>, <a class="xref" href="#ST_Hexagon" title="ST_Hexagon">ST_Hexagon</a></p></div></div><div class="refentry" id="ST_Letters"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Letters — Returns the input letters rendered as geometry with a default start position at the origin and default text height of 100.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Letters</strong>(</code>text <var class="pdparam"> letters</var>, json <var class="pdparam"> font</var><code>)</code>;</p></div></div><div class="refsection" id="idm4452"><h2>Descrição</h2><p>Uses a built-in font to render out a string as a multipolygon geometry. The default text height is 100.0, the distance from the bottom of a descender to the top of a capital. The default start position places the start of the baseline at the origin. Over-riding the font involves passing in a json map, with a character as the key, and base64 encoded TWKB for the font shape, with the fonts having a height of 1000 units from the bottom of the descenders to the tops of the capitals. </p><p>The text is generated at the origin by default, so to reposition and resize the text, first apply the <code class="code">ST_Scale</code> function and then apply the <code class="code">ST_Translate</code> function.</p><p class="availability">Availability: 3.3.0</p></div><div class="refsection" id="idm4459"><h2>Exemplo: Construindo um polígono bounding box</h2><pre class="programlisting">SELECT ST_AsText(ST_Letters('Yo'), 1);</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_letters01.png"/><div class="caption"><p>Letters generated by ST_Letters</p></div></div></div></div><div class="refsection" id="idm4468"><h2>Example: Scaling and moving words</h2><pre class="programlisting">SELECT ST_Translate(ST_Scale(ST_Letters('Yo'), 10, 10), 100,100);</pre></div><div class="refsection" id="idm4471"><h2>Veja também</h2><p><a class="xref" href="#ST_AsTWKB" title="ST_AsTWKB">ST_AsTWKB</a>, <a class="xref" href="#ST_Scale" title="ST_Scale">ST_Scale</a>, <a class="xref" href="#ST_Translate" title="ST_Translate">ST_Translate</a></p></div></div></section><section class="section" id="Geometry_Accessors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.4. Acessors de Geometria</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#GeometryType">GeometryType</a></span><span class="refpurpose"> — Retorna o tipo de geometria de valor ST_Geometry. </span></li><li><span class="refentrytitle"><a href="#ST_Boundary">ST_Boundary</a></span><span class="refpurpose"> — Retorna o encerramento da borda combinatória dessa geometria. </span></li><li><span class="refentrytitle"><a href="#ST_BoundingDiagonal">ST_BoundingDiagonal</a></span><span class="refpurpose"> — Retorna a diagonal da geometria fornecida da caixa limitada. </span></li><li><span class="refentrytitle"><a href="#ST_CoordDim">ST_CoordDim</a></span><span class="refpurpose"> — Retorna a dimensão da coordenada do valor ST_Geometry.</span></li><li><span class="refentrytitle"><a href="#ST_Dimension">ST_Dimension</a></span><span class="refpurpose"> — Retorna a dimensão da coordenada do valor ST_Geometry. </span></li><li><span class="refentrytitle"><a href="#ST_Dump">ST_Dump</a></span><span class="refpurpose"> — Returns a set of <code class="varname">geometry_dump</code> rows for the components of a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_DumpPoints">ST_DumpPoints</a></span><span class="refpurpose"> — Retorna um texto resumo dos conteúdos da geometria.</span></li><li><span class="refentrytitle"><a href="#ST_DumpSegments">ST_DumpSegments</a></span><span class="refpurpose"> — Retorna um texto resumo dos conteúdos da geometria.</span></li><li><span class="refentrytitle"><a href="#ST_DumpRings">ST_DumpRings</a></span><span class="refpurpose"> — Returns a set of <code class="varname">geometry_dump</code> rows for the exterior and interior rings of a Polygon.</span></li><li><span class="refentrytitle"><a href="#ST_EndPoint">ST_EndPoint</a></span><span class="refpurpose"> — Retorna o número de pontos em um valor ST_LineString ou ST_CircularString. </span></li><li><span class="refentrytitle"><a href="#ST_Envelope">ST_Envelope</a></span><span class="refpurpose"> — Retorna uma geometria representando a precisão da dobrada (float8) da caixa limitada da geometria fornecida.</span></li><li><span class="refentrytitle"><a href="#ST_ExteriorRing">ST_ExteriorRing</a></span><span class="refpurpose"> — Retorna o número de anéis interiores de um polígono.  </span></li><li><span class="refentrytitle"><a href="#ST_GeometryN">ST_GeometryN</a></span><span class="refpurpose"> — Retorna o tipo de geometria de valor ST_Geometry. </span></li><li><span class="refentrytitle"><a href="#ST_GeometryType">ST_GeometryType</a></span><span class="refpurpose"> — Retorna o tipo de geometria de valor ST_Geometry. </span></li><li><span class="refentrytitle"><a href="#ST_HasArc">ST_HasArc</a></span><span class="refpurpose"> — Tests if a geometry contains a circular arc</span></li><li><span class="refentrytitle"><a href="#ST_InteriorRingN">ST_InteriorRingN</a></span><span class="refpurpose"> — Retorna o número de anéis interiores de um polígono. </span></li><li><span class="refentrytitle"><a href="#ST_NumCurves">ST_NumCurves</a></span><span class="refpurpose"> — Return the number of component curves in a CompoundCurve.</span></li><li><span class="refentrytitle"><a href="#ST_CurveN">ST_CurveN</a></span><span class="refpurpose"> — Returns the Nth component curve geometry of a CompoundCurve.</span></li><li><span class="refentrytitle"><a href="#ST_IsClosed">ST_IsClosed</a></span><span class="refpurpose"> — Retorna  <code class="varname">VERDADEIRO</code> se os pontos de começo e fim da <code class="varname">LINESTRING</code> são coincidentes. Para superfície poliédrica está fechada (volumétrica).  </span></li><li><span class="refentrytitle"><a href="#ST_IsCollection">ST_IsCollection</a></span><span class="refpurpose"> — Retorna verdadeiro se essa geometria é uma coleção vazia, polígono, ponto etc.</span></li><li><span class="refentrytitle"><a href="#ST_IsEmpty">ST_IsEmpty</a></span><span class="refpurpose"> — Tests if a geometry is empty.</span></li><li><span class="refentrytitle"><a href="#ST_IsPolygonCCW">ST_IsPolygonCCW </a></span><span class="refpurpose"> — Tests if Polygons have exterior rings oriented counter-clockwise and interior rings oriented clockwise. </span></li><li><span class="refentrytitle"><a href="#ST_IsPolygonCW">ST_IsPolygonCW </a></span><span class="refpurpose"> — Tests if Polygons have exterior rings oriented clockwise and interior rings oriented counter-clockwise. </span></li><li><span class="refentrytitle"><a href="#ST_IsRing">ST_IsRing</a></span><span class="refpurpose"> — Tests if a LineString is closed and simple.</span></li><li><span class="refentrytitle"><a href="#ST_IsSimple">ST_IsSimple</a></span><span class="refpurpose"> — Retorna (VERDADEIRA) se essa geometria não tem nenhum ponto irregular, como auto intersecção ou tangenciação.  </span></li><li><span class="refentrytitle"><a href="#ST_M">ST_M</a></span><span class="refpurpose"> — Returns the M coordinate of a Point.</span></li><li><span class="refentrytitle"><a href="#ST_MemSize">ST_MemSize</a></span><span class="refpurpose"> — Retorna o tipo de geometria de valor ST_Geometry. </span></li><li><span class="refentrytitle"><a href="#ST_NDims">ST_NDims</a></span><span class="refpurpose"> — Retorna a dimensão da coordenada do valor ST_Geometry.</span></li><li><span class="refentrytitle"><a href="#ST_NPoints">ST_NPoints</a></span><span class="refpurpose"> — Retorna o número de pontos (vértices) em uma geometria.</span></li><li><span class="refentrytitle"><a href="#ST_NRings">ST_NRings</a></span><span class="refpurpose"> — Retorna o número de anéis interiores de um polígono. </span></li><li><span class="refentrytitle"><a href="#ST_NumGeometries">ST_NumGeometries</a></span><span class="refpurpose"> — Retorna o número de pontos em uma geometria. Funciona para todas as geometrias.</span></li><li><span class="refentrytitle"><a href="#ST_NumInteriorRings">ST_NumInteriorRings</a></span><span class="refpurpose"> — Retorna o número de anéis interiores de um polígono. </span></li><li><span class="refentrytitle"><a href="#ST_NumInteriorRing">ST_NumInteriorRing</a></span><span class="refpurpose"> — Retorna o número de anéis interiores de um polígono na geometria. Sinônimo para ST_NumInteriorRings.</span></li><li><span class="refentrytitle"><a href="#ST_NumPatches">ST_NumPatches</a></span><span class="refpurpose"> — Retorna o número de faces em uma superfícies poliédrica. Retornará nulo para geometrias não poliédricas. </span></li><li><span class="refentrytitle"><a href="#ST_NumPoints">ST_NumPoints</a></span><span class="refpurpose"> — Retorna o número de pontos em um valor ST_LineString ou ST_CircularString. </span></li><li><span class="refentrytitle"><a href="#ST_PatchN">ST_PatchN</a></span><span class="refpurpose"> — Retorna o tipo de geometria de valor ST_Geometry. </span></li><li><span class="refentrytitle"><a href="#ST_PointN">ST_PointN</a></span><span class="refpurpose"> — Retorna o número de pontos em um valor ST_LineString ou ST_CircularString.  </span></li><li><span class="refentrytitle"><a href="#ST_Points">ST_Points</a></span><span class="refpurpose"> — Retorna uma multilinestring contendo todas as coordenadas de uma geometria.  </span></li><li><span class="refentrytitle"><a href="#ST_StartPoint">ST_StartPoint</a></span><span class="refpurpose"> — Returns the first point of a LineString.</span></li><li><span class="refentrytitle"><a href="#ST_Summary">ST_Summary</a></span><span class="refpurpose"> — Retorna um texto resumo dos conteúdos da geometria. </span></li><li><span class="refentrytitle"><a href="#ST_X">ST_X</a></span><span class="refpurpose"> — Returns the X coordinate of a Point.</span></li><li><span class="refentrytitle"><a href="#ST_Y">ST_Y</a></span><span class="refpurpose"> — Returns the Y coordinate of a Point.</span></li><li><span class="refentrytitle"><a href="#ST_Z">ST_Z</a></span><span class="refpurpose"> — Returns the Z coordinate of a Point.</span></li><li><span class="refentrytitle"><a href="#ST_Zmflag">ST_Zmflag</a></span><span class="refpurpose"> — Retorna a dimensão da coordenada do valor ST_Geometry.</span></li><li><span class="refentrytitle"><a href="#ST_HasZ">ST_HasZ</a></span><span class="refpurpose"> — Checks if a geometry has a Z dimension.</span></li><li><span class="refentrytitle"><a href="#ST_HasM">ST_HasM</a></span><span class="refpurpose"> — Checks if a geometry has an M (measure) dimension.</span></li></ul></div><div class="refentry" id="GeometryType"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GeometryType — Retorna o tipo de geometria de valor ST_Geometry. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">GeometryType</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm4491"><h2>Descrição</h2><p>Retorna o tipo de geometria como uma string. Exemplos: 'LINESTRING', 'POLÍGONO', 'MULTIPOINT', etc.</p><p>OGC SPEC s2.1.1.1 - Retorna o nome do sub tipo ocasional da geometria da qual essa geometria ocasiona é um membro. O nome do sub tipo ocasional retorna como uma string. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Essa função também indica se a geometria é medida, retornando uma string da forma 'POINTM'.</p></td></tr></table></div><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm4519"><h2>Exemplos</h2><pre class="programlisting">SELECT GeometryType(ST_GeomFromText('LINESTRING(77.29 29.07,77.42 29.26,77.27 29.31,77.29 29.07)'));
 geometrytype
--------------
 LINESTRING
</pre><pre class="programlisting">SELECT ST_GeometryType(ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'));
                        --result
                        POLYHEDRALSURFACE
                        </pre><pre class="programlisting">SELECT GeometryType(geom) as result
  FROM
    (SELECT
       ST_GeomFromEWKT('TIN (((
                0 0 0,
                0 0 1,
                0 1 0,
                0 0 0
            )), ((
                0 0 0,
                0 1 0,
                1 1 0,
                0 0 0
            ))
            )')  AS geom
    ) AS g;
 result
--------
 TIN    </pre></div><div class="refsection" id="idm4524"><h2>Veja também</h2><p><a class="xref" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a></p></div></div><div class="refentry" id="ST_Boundary"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Boundary — Retorna o encerramento da borda combinatória dessa geometria. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Boundary</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm4540"><h2>Descrição</h2><p>Retorna o encerramento do limite combinatório dessa geometria. O limite combinatório é definido com descrito na seção 3.12.3.2 do OGC SPEC. Porque o resultado dessa função é um encerramento, e por isso topologicamente fechado, o limite resultante pode ser representado usando geometrias primitivas representacionais como foi discutido no OGC SPEC, seção 3.12.2.</p><p>Desempenhado pelo módulo GEOS</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Anterior a 2.0.0, essa função abre uma exceção se usada com <code class="varname">GEOMETRYCOLLECTION</code>. A partir do 2.0.0 ela vai retornar NULA (entrada não suportada).</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  OGC SPEC s2.1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 5.1.17</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p class="enhanced">Melhorias: 2.1.0 suporte para Triângulo foi introduzido</p><p class="changed">Changed: 3.2.0 support for TIN, does not use geos, does not linearize curves</p></div><div class="refsection" id="idm4562"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_boundary01.png"/><div class="caption"><p>Linestring com pontos de limite cobertos</p></div></div></div><p>
				</p><pre class="programlisting">SELECT ST_Boundary(geom)
FROM (SELECT 'LINESTRING(100 150,50 60, 70 80, 160 170)'::geometry As geom) As f;
                                </pre><p>
</p><pre class="screen"><em class="lineannotation"><span class="lineannotation">
ST_AsText output
</span></em>
MULTIPOINT((100 150),(160 170))
</pre><p>
						  </p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_boundary02.png"/><div class="caption"><p>furos de polígono com multilinestring limite</p></div></div></div><p>
				</p><pre class="programlisting">SELECT ST_Boundary(geom)
FROM (SELECT
'POLYGON (( 10 130, 50 190, 110 190, 140 150, 150 80, 100 10, 20 40, 10 130 ),
        ( 70 40, 100 50, 120 80, 80 110, 50 90, 70 40 ))'::geometry As geom) As f;
                                </pre><p>
</p><pre class="screen"><em class="lineannotation"><span class="lineannotation">
ST_AsText output
</span></em>
MULTILINESTRING((10 130,50 190,110 190,140 150,150 80,100 10,20 40,10 130),
        (70 40,100 50,120 80,80 110,50 90,70 40))
</pre><p>
						</p></td></tr></tbody></table></div><pre class="programlisting">SELECT ST_AsText(ST_Boundary(ST_GeomFromText('LINESTRING(1 1,0 0, -1 1)')));
st_astext
-----------
MULTIPOINT((1 1),(-1 1))

SELECT ST_AsText(ST_Boundary(ST_GeomFromText('POLYGON((1 1,0 0, -1 1, 1 1))')));
st_astext
----------
LINESTRING(1 1,0 0,-1 1,1 1)

--Using a 3d polygon
SELECT ST_AsEWKT(ST_Boundary(ST_GeomFromEWKT('POLYGON((1 1 1,0 0 1, -1 1 1, 1 1 1))')));

st_asewkt
-----------------------------------
LINESTRING(1 1 1,0 0 1,-1 1 1,1 1 1)

--Using a 3d multilinestring
SELECT ST_AsEWKT(ST_Boundary(ST_GeomFromEWKT('MULTILINESTRING((1 1 1,0 0 0.5, -1 1 1),(1 1 0.5,0 0 0.5, -1 1 0.5, 1 1 0.5) )')));

st_asewkt
----------
MULTIPOINT((-1 1 1),(1 1 0.75))
</pre></div><div class="refsection" id="idm4591"><h2>Veja também</h2><p><a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a>, <a class="xref" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a></p></div></div><div class="refentry" id="ST_BoundingDiagonal"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BoundingDiagonal — Retorna a diagonal da geometria fornecida da caixa limitada. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_BoundingDiagonal</strong>(</code>geometry  <var class="pdparam">geom</var>, boolean  <var class="pdparam">fits=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm4612"><h2>Descrição</h2><p>Retorna a diagonal da geometria fornecida da caixa limitada em linestring. Se a entrada da geometria está vazia, a linha diagonal também está, caso contrário é uma linestring de 2-pontos com valores mínimos de cada dimensão no ponto de início e com valores máximos no ponte de fim.  </p><p>O parâmetro <code class="varname">fits</code> especifica se o que se encaixa melhor é necessário. Se negativo, a diagonal de uma caixa limitadora de alguma forma pode ser aceita (é mais rápido obter para geometrias com muitos vértices). De qualquer forma, a caixa limitadora da linha diagonal retornada sempre cobre a geometria de entrada.  </p><p>A linestring da geometria retornada sempre retém SRID e dimensionalidade (Z e M presentes) da geometria de entrada.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Em casos degenerados (um único vértice na entrada) a linestring retornada será topologicamente inválida (sem interior). Isso não não torna o retorno semanticamente inválido.   </p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports M coordinates. </p></div><div class="refsection" id="idm4629"><h2>Exemplos</h2><pre class="programlisting">-- Get the minimum X in a buffer around a point
SELECT ST_X(ST_StartPoint(ST_BoundingDiagonal(
  ST_Buffer(ST_Point(0,0),10)
)));
 st_x
------
  -10
                </pre></div><div class="refsection" id="idm4632"><h2>Veja também</h2><p><a class="xref" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a>, <a class="xref" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a>, <a class="xref" href="#ST_X" title="ST_X">ST_X</a>, <a class="xref" href="#ST_Y" title="ST_Y">ST_Y</a>, <a class="xref" href="#ST_Z" title="ST_Z">ST_Z</a>, <a class="xref" href="#ST_M" title="ST_M">ST_M</a>, <a class="xref" href="#geometry_overlaps_nd" title="&amp;&amp;&amp;">&amp;&amp;&amp;</a> </p></div></div><div class="refentry" id="ST_CoordDim"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CoordDim — Retorna a dimensão da coordenada do valor ST_Geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_CoordDim</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm4654"><h2>Descrição</h2><p>Retorna a dimensão da coordenada do valor ST_Geometry.</p><p>Esse é o pseudônimo condescendente do MM para <a class="xref" href="#ST_NDims" title="ST_NDims">ST_NDims</a></p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm4684"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_CoordDim('CIRCULARSTRING(1 2 3, 1 3 4, 5 6 7, 8 9 10, 11 12 13)');
                        ---result--
                                3

                                SELECT ST_CoordDim(ST_Point(1,2));
                        --result--
                                2

                </pre></div><div class="refsection" id="idm4687"><h2>Veja também</h2><p><a class="xref" href="#ST_NDims" title="ST_NDims">ST_NDims</a></p></div></div><div class="refentry" id="ST_Dimension"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Dimension — Retorna a dimensão da coordenada do valor ST_Geometry. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_Dimension</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm4703"><h2>Descrição</h2><p>A dimensão herdada desse objeto geométrico, que deve ser menor que ou igual à dimensão coordenada. OGC SPEC s2.1.1.1 -  retorna 0 para  <code class="varname">PONTO</code>, 1 para <code class="varname">LINESTRING</code>, 2 para <code class="varname">POLÍGONO</code>, e a dimensão mais larga dos componentes de uma <code class="varname">COLEÇÃODEGEOMETRIA</code>. Se desconhecida (geometria vazia) nula é retornada. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.2</p><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas e TINs foi introduzido. Não abre mais exceção se uma geometria vazia é dada.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Anterior à 2.0.0, essa função abre uma exceção se usada com uma geometria vazia.  </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm4725"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_Dimension('GEOMETRYCOLLECTION(LINESTRING(1 1,0 0),POINT(0 0))');
ST_Dimension
-----------
1
</pre></div><div class="refsection" id="idm4728"><h2>Veja também</h2><p><a class="xref" href="#ST_NDims" title="ST_NDims">ST_NDims</a></p></div></div><div class="refentry" id="ST_Dump"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Dump — Returns a set of <code class="varname">geometry_dump</code> rows for the components of a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry_dump[] <strong class="fsfunc">ST_Dump</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm4745"><h2>Descrição</h2><p>A set-returning function (SRF) that extracts the components of a geometry. It returns a set of <a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a> rows, each containing a geometry (<em class="parameter"><code>geom</code></em> field) and an array of integers (<em class="parameter"><code>path</code></em> field). </p><p>For an atomic geometry type (POINT,LINESTRING,POLYGON) a single record is returned with an empty <em class="parameter"><code>path</code></em> array and the input geometry as <em class="parameter"><code>geom</code></em>. For a collection or multi-geometry a record is returned for each of the collection components, and the <em class="parameter"><code>path</code></em> denotes the position of the component inside the collection.</p><p>ST_Dump is useful for expanding geometries. It is the inverse of a <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a> / GROUP BY, in that it creates new rows. For example it can be use to expand MULTIPOLYGONS into POLYGONS.</p><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p class="availability">Availability: PostGIS 1.0.0RC1. Requires PostgreSQL 7.3 or higher.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Anteriores a 1.3.4, essa função falha se usada com geometrias que contêm CURVAS. Isso é consertado em 1.3.4+</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm4777"><h2>Exemplos Padrão</h2><pre class="programlisting">SELECT sometable.field1, sometable.field1,
      (ST_Dump(sometable.geom)).geom AS geom
FROM sometable;

-- Break a compound curve into its constituent linestrings and circularstrings
SELECT ST_AsEWKT(a.geom), ST_HasArc(a.geom)
  FROM ( SELECT (ST_Dump(p_geom)).geom AS geom
         FROM (SELECT ST_GeomFromEWKT('COMPOUNDCURVE(CIRCULARSTRING(0 0, 1 1, 1 0),(1 0, 0 1))') AS p_geom) AS b
        ) AS a;
          st_asewkt          | st_hasarc
-----------------------------+----------
 CIRCULARSTRING(0 0,1 1,1 0) | t
 LINESTRING(1 0,0 1)         | f
(2 rows)</pre></div><div class="refsection" id="idm4780"><h2>Exemplos de Superfícies Poliédricas, TIN e Triângulos </h2><pre class="programlisting">-- Polyhedral surface example
-- Break a Polyhedral surface into its faces
SELECT (a.p_geom).path[1] As path, ST_AsEWKT((a.p_geom).geom) As geom_ewkt
  FROM (SELECT ST_Dump(ST_GeomFromEWKT('POLYHEDRALSURFACE(
((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),  ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),  ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1))
)') ) AS p_geom )  AS a;

 path |                geom_ewkt
------+------------------------------------------
    1 | POLYGON((0 0 0,0 0 1,0 1 1,0 1 0,0 0 0))
    2 | POLYGON((0 0 0,0 1 0,1 1 0,1 0 0,0 0 0))
    3 | POLYGON((0 0 0,1 0 0,1 0 1,0 0 1,0 0 0))
    4 | POLYGON((1 1 0,1 1 1,1 0 1,1 0 0,1 1 0))
    5 | POLYGON((0 1 0,0 1 1,1 1 1,1 1 0,0 1 0))
    6 | POLYGON((0 0 1,1 0 1,1 1 1,0 1 1,0 0 1))</pre><pre class="programlisting">-- TIN --
SELECT (g.gdump).path, ST_AsEWKT((g.gdump).geom) as wkt
  FROM
    (SELECT
       ST_Dump( ST_GeomFromEWKT('TIN (((
                0 0 0,
                0 0 1,
                0 1 0,
                0 0 0
            )), ((
                0 0 0,
                0 1 0,
                1 1 0,
                0 0 0
            ))
            )') ) AS gdump
    ) AS g;
-- result --
 path |                 wkt
------+-------------------------------------
 {1}  | TRIANGLE((0 0 0,0 0 1,0 1 0,0 0 0))
 {2}  | TRIANGLE((0 0 0,0 1 0,1 1 0,0 0 0))
</pre></div><div class="refsection" id="idm4784"><h2>Veja também</h2><p><a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a>, <a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a></p></div></div><div class="refentry" id="ST_DumpPoints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DumpPoints — Retorna um texto resumo dos conteúdos da geometria.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry_dump[] <strong class="fsfunc">ST_DumpPoints</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm4804"><h2>Descrição</h2><p>A set-returning function (SRF) that extracts the coordinates (vertices) of a geometry. It returns a set of <a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a> rows, each containing a geometry (<em class="parameter"><code>geom</code></em> field) and an array of integers (<em class="parameter"><code>path</code></em> field). </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>the <em class="parameter"><code>geom</code></em> field <code class="varname">POINT</code>s represent the coordinates of the supplied geometry. </p></li><li class="listitem"><p>the <em class="parameter"><code>path</code></em> field (an <code class="varname">integer[]</code>) is an index enumerating the coordinate positions in the elements of the supplied geometry. The indices are 1-based. For example, for a <code class="varname">LINESTRING</code> the paths are <code class="varname">{i}</code> where <code class="varname">i</code> is the <code class="varname">nth</code> coordinate in the <code class="varname">LINESTRING</code>. For a <code class="varname">POLYGON</code> the paths are <code class="varname">{i,j}</code> where <code class="varname">i</code> is the ring number (1 is outer; inner rings follow) and <code class="varname">j</code> is the coordinate position in the ring. </p></li></ul></div><p>To obtain a single geometry containing the coordinates use <a class="xref" href="#ST_Points" title="ST_Points">ST_Points</a>. </p><p class="enhanced">Enhanced: 2.1.0 Faster speed. Reimplemented as native-C.</p><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p class="availability">Disponibilidade: 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm4849"><h2>Classic Explode a Table of LineStrings into nodes</h2><pre class="programlisting">SELECT edge_id, (dp).path[1] As index, ST_AsText((dp).geom) As wktnode
FROM (SELECT 1 As edge_id
        , ST_DumpPoints(ST_GeomFromText('LINESTRING(1 2, 3 4, 10 10)')) AS dp
     UNION ALL
     SELECT 2 As edge_id
        , ST_DumpPoints(ST_GeomFromText('LINESTRING(3 5, 5 6, 9 10)')) AS dp
   ) As foo;
 edge_id | index |    wktnode
---------+-------+--------------
       1 |     1 | POINT(1 2)
       1 |     2 | POINT(3 4)
       1 |     3 | POINT(10 10)
       2 |     1 | POINT(3 5)
       2 |     2 | POINT(5 6)
       2 |     3 | POINT(9 10)</pre></div><div class="refsection" id="idm4852"><h2>Exemplos Padrão</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_dumppoints01.png"/></div></div><pre class="programlisting">SELECT path, ST_AsText(geom)
FROM (
  SELECT (ST_DumpPoints(g.geom)).*
  FROM
    (SELECT
       'GEOMETRYCOLLECTION(
          POINT ( 0 1 ),
          LINESTRING ( 0 3, 3 4 ),
          POLYGON (( 2 0, 2 3, 0 2, 2 0 )),
          POLYGON (( 3 0, 3 3, 6 3, 6 0, 3 0 ),
                   ( 5 1, 4 2, 5 2, 5 1 )),
          MULTIPOLYGON (
                  (( 0 5, 0 8, 4 8, 4 5, 0 5 ),
                   ( 1 6, 3 6, 2 7, 1 6 )),
                  (( 5 4, 5 8, 6 7, 5 4 ))
          )
        )'::geometry AS geom
    ) AS g
  ) j;

   path    | st_astext
-----------+------------
 {1,1}     | POINT(0 1)
 {2,1}     | POINT(0 3)
 {2,2}     | POINT(3 4)
 {3,1,1}   | POINT(2 0)
 {3,1,2}   | POINT(2 3)
 {3,1,3}   | POINT(0 2)
 {3,1,4}   | POINT(2 0)
 {4,1,1}   | POINT(3 0)
 {4,1,2}   | POINT(3 3)
 {4,1,3}   | POINT(6 3)
 {4,1,4}   | POINT(6 0)
 {4,1,5}   | POINT(3 0)
 {4,2,1}   | POINT(5 1)
 {4,2,2}   | POINT(4 2)
 {4,2,3}   | POINT(5 2)
 {4,2,4}   | POINT(5 1)
 {5,1,1,1} | POINT(0 5)
 {5,1,1,2} | POINT(0 8)
 {5,1,1,3} | POINT(4 8)
 {5,1,1,4} | POINT(4 5)
 {5,1,1,5} | POINT(0 5)
 {5,1,2,1} | POINT(1 6)
 {5,1,2,2} | POINT(3 6)
 {5,1,2,3} | POINT(2 7)
 {5,1,2,4} | POINT(1 6)
 {5,2,1,1} | POINT(5 4)
 {5,2,1,2} | POINT(5 8)
 {5,2,1,3} | POINT(6 7)
 {5,2,1,4} | POINT(5 4)
(29 rows)</pre></div><div class="refsection" id="idm4859"><h2>Exemplos de Superfícies Poliédricas, TIN e Triângulos </h2><pre class="programlisting">-- Polyhedral surface cube --
SELECT (g.gdump).path, ST_AsEWKT((g.gdump).geom) as wkt
  FROM
    (SELECT
       ST_DumpPoints(ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )') ) AS gdump
    ) AS g;
-- result --
  path   |     wkt
---------+--------------
 {1,1,1} | POINT(0 0 0)
 {1,1,2} | POINT(0 0 1)
 {1,1,3} | POINT(0 1 1)
 {1,1,4} | POINT(0 1 0)
 {1,1,5} | POINT(0 0 0)
 {2,1,1} | POINT(0 0 0)
 {2,1,2} | POINT(0 1 0)
 {2,1,3} | POINT(1 1 0)
 {2,1,4} | POINT(1 0 0)
 {2,1,5} | POINT(0 0 0)
 {3,1,1} | POINT(0 0 0)
 {3,1,2} | POINT(1 0 0)
 {3,1,3} | POINT(1 0 1)
 {3,1,4} | POINT(0 0 1)
 {3,1,5} | POINT(0 0 0)
 {4,1,1} | POINT(1 1 0)
 {4,1,2} | POINT(1 1 1)
 {4,1,3} | POINT(1 0 1)
 {4,1,4} | POINT(1 0 0)
 {4,1,5} | POINT(1 1 0)
 {5,1,1} | POINT(0 1 0)
 {5,1,2} | POINT(0 1 1)
 {5,1,3} | POINT(1 1 1)
 {5,1,4} | POINT(1 1 0)
 {5,1,5} | POINT(0 1 0)
 {6,1,1} | POINT(0 0 1)
 {6,1,2} | POINT(1 0 1)
 {6,1,3} | POINT(1 1 1)
 {6,1,4} | POINT(0 1 1)
 {6,1,5} | POINT(0 0 1)
(30 rows)</pre><pre class="programlisting">-- Triangle --
SELECT (g.gdump).path, ST_AsText((g.gdump).geom) as wkt
  FROM
    (SELECT
       ST_DumpPoints( ST_GeomFromEWKT('TRIANGLE ((
                0 0,
                0 9,
                9 0,
                0 0
            ))') ) AS gdump
    ) AS g;
-- result --
 path |    wkt
------+------------
 {1}  | POINT(0 0)
 {2}  | POINT(0 9)
 {3}  | POINT(9 0)
 {4}  | POINT(0 0)
</pre><pre class="programlisting">-- TIN --
SELECT (g.gdump).path, ST_AsEWKT((g.gdump).geom) as wkt
  FROM
    (SELECT
       ST_DumpPoints( ST_GeomFromEWKT('TIN (((
                0 0 0,
                0 0 1,
                0 1 0,
                0 0 0
            )), ((
                0 0 0,
                0 1 0,
                1 1 0,
                0 0 0
            ))
            )') ) AS gdump
    ) AS g;
-- result --
  path   |     wkt
---------+--------------
 {1,1,1} | POINT(0 0 0)
 {1,1,2} | POINT(0 0 1)
 {1,1,3} | POINT(0 1 0)
 {1,1,4} | POINT(0 0 0)
 {2,1,1} | POINT(0 0 0)
 {2,1,2} | POINT(0 1 0)
 {2,1,3} | POINT(1 1 0)
 {2,1,4} | POINT(0 0 0)
(8 rows)
</pre></div><div class="refsection" id="idm4864"><h2>Veja também</h2><p><a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a>, <a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a></p></div></div><div class="refentry" id="ST_DumpSegments"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DumpSegments — Retorna um texto resumo dos conteúdos da geometria.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry_dump[] <strong class="fsfunc">ST_DumpSegments</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm4884"><h2>Descrição</h2><p>A set-returning function (SRF) that extracts the segments of a geometry. It returns a set of <a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a> rows, each containing a geometry (<em class="parameter"><code>geom</code></em> field) and an array of integers (<em class="parameter"><code>path</code></em> field). </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>the <em class="parameter"><code>geom</code></em> field <code class="varname">LINESTRING</code>s represent the linear segments of the supplied geometry, while the <code class="varname">CIRCULARSTRING</code>s represent the arc segments. </p></li><li class="listitem"><p>the <em class="parameter"><code>path</code></em> field (an <code class="varname">integer[]</code>) is an index enumerating the segment start point positions in the elements of the supplied geometry. The indices are 1-based. For example, for a <code class="varname">LINESTRING</code> the paths are <code class="varname">{i}</code> where <code class="varname">i</code> is the <code class="varname">nth</code> segment start point in the <code class="varname">LINESTRING</code>. For a <code class="varname">POLYGON</code> the paths are <code class="varname">{i,j}</code> where <code class="varname">i</code> is the ring number (1 is outer; inner rings follow) and <code class="varname">j</code> is the segment start point position in the ring. </p></li></ul></div><p class="availability">Availability: 3.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm4918"><h2>Exemplos Padrão</h2><pre class="programlisting">SELECT path, ST_AsText(geom)
FROM (
    SELECT (ST_DumpSegments(g.geom)).*
    FROM (SELECT 'GEOMETRYCOLLECTION(
    LINESTRING(1 1, 3 3, 4 4),
    POLYGON((5 5, 6 6, 7 7, 5 5))
)'::geometry AS geom
        ) AS g
) j;

  path   │      st_astext
---------------------------------
 {1,1}   │ LINESTRING(1 1,3 3)
 {1,2}   │ LINESTRING(3 3,4 4)
 {2,1,1} │ LINESTRING(5 5,6 6)
 {2,1,2} │ LINESTRING(6 6,7 7)
 {2,1,3} │ LINESTRING(7 7,5 5)
(5 rows)</pre></div><div class="refsection" id="idm4921"><h2>Exemplos de Superfícies Poliédricas, TIN e Triângulos </h2><pre class="programlisting">-- Triangle --
SELECT path, ST_AsText(geom)
FROM (
    SELECT (ST_DumpSegments(g.geom)).*
    FROM (SELECT 'TRIANGLE((
        0 0,
        0 9,
        9 0,
        0 0
    ))'::geometry AS geom
        ) AS g
) j;

 path  │      st_astext
 ---------------------------------
 {1,1} │ LINESTRING(0 0,0 9)
 {1,2} │ LINESTRING(0 9,9 0)
 {1,3} │ LINESTRING(9 0,0 0)
(3 rows)
</pre><pre class="programlisting">-- TIN --
SELECT path, ST_AsEWKT(geom)
FROM (
    SELECT (ST_DumpSegments(g.geom)).*
    FROM (SELECT 'TIN(((
        0 0 0,
        0 0 1,
        0 1 0,
        0 0 0
    )), ((
        0 0 0,
        0 1 0,
        1 1 0,
        0 0 0
    ))
    )'::geometry AS geom
        ) AS g
) j;

  path   │        st_asewkt
  ---------------------------------
 {1,1,1} │ LINESTRING(0 0 0,0 0 1)
 {1,1,2} │ LINESTRING(0 0 1,0 1 0)
 {1,1,3} │ LINESTRING(0 1 0,0 0 0)
 {2,1,1} │ LINESTRING(0 0 0,0 1 0)
 {2,1,2} │ LINESTRING(0 1 0,1 1 0)
 {2,1,3} │ LINESTRING(1 1 0,0 0 0)
(6 rows)
</pre></div><div class="refsection" id="idm4925"><h2>Veja também</h2><p><a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a>, <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_NumInteriorRing" title="ST_NumInteriorRing">ST_NumInteriorRing</a>,</p></div></div><div class="refentry" id="ST_DumpRings"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DumpRings — Returns a set of <code class="varname">geometry_dump</code> rows for the exterior and interior rings of a Polygon.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry_dump[] <strong class="fsfunc">ST_DumpRings</strong>(</code>geometry  <var class="pdparam">a_polygon</var><code>)</code>;</p></div></div><div class="refsection" id="idm4945"><h2>Descrição</h2><p>A set-returning function (SRF) that extracts the rings of a polygon. It returns a set of <a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a> rows, each containing a geometry (<em class="parameter"><code>geom</code></em> field) and an array of integers (<em class="parameter"><code>path</code></em> field). </p><p>The <em class="parameter"><code>geom</code></em> field contains each ring as a POLYGON. The <em class="parameter"><code>path</code></em> field is an integer array of length 1 containing the polygon ring index. The exterior ring (shell) has index 0. The interior rings (holes) have indices of 1 and higher. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Isso não funcionará para MULTIPOLÍGONOS. Use em conjunção com ST_Dump para MULTIPOLÍGONOS. </p></td></tr></table></div><p class="availability">Availability: PostGIS 1.1.3. Requires PostgreSQL 7.3 or higher.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm4961"><h2>Exemplos</h2><p>General form of query.</p><pre class="programlisting">SELECT polyTable.field1, polyTable.field1,
          (ST_DumpRings(polyTable.geom)).geom As geom
FROM polyTable;
</pre><p>A polygon with a single hole.</p><pre class="programlisting">SELECT path, ST_AsEWKT(geom) As geom
        FROM ST_DumpRings(
                ST_GeomFromEWKT('POLYGON((-8149064 5133092 1,-8149064 5132986 1,-8148996 5132839 1,-8148972 5132767 1,-8148958 5132508 1,-8148941 5132466 1,-8148924 5132394 1,
                -8148903 5132210 1,-8148930 5131967 1,-8148992 5131978 1,-8149237 5132093 1,-8149404 5132211 1,-8149647 5132310 1,-8149757 5132394 1,
                -8150305 5132788 1,-8149064 5133092 1),
                (-8149362 5132394 1,-8149446 5132501 1,-8149548 5132597 1,-8149695 5132675 1,-8149362 5132394 1))')
                )  as foo;
 path |                                            geom
----------------------------------------------------------------------------------------------------------------
  {0} | POLYGON((-8149064 5133092 1,-8149064 5132986 1,-8148996 5132839 1,-8148972 5132767 1,-8148958 5132508 1,
          |          -8148941 5132466 1,-8148924 5132394 1,
          |          -8148903 5132210 1,-8148930 5131967 1,
          |          -8148992 5131978 1,-8149237 5132093 1,
          |          -8149404 5132211 1,-8149647 5132310 1,-8149757 5132394 1,-8150305 5132788 1,-8149064 5133092 1))
  {1} | POLYGON((-8149362 5132394 1,-8149446 5132501 1,
          |          -8149548 5132597 1,-8149695 5132675 1,-8149362 5132394 1))</pre></div><div class="refsection" id="idm4967"><h2>Veja também</h2><p><a class="xref" href="#geometry_dump" title="geometry_dump">geometry_dump</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a>, <a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a></p></div></div><div class="refentry" id="ST_EndPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_EndPoint — Retorna o número de pontos em um valor ST_LineString ou ST_CircularString. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_EndPoint</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm4987"><h2>Descrição</h2><p>Retorna ao último ponto de uma <code class="varname">LINESTRING</code> ou <code class="varname">CIRCULARLINESTRING</code> geometria como um  <code class="varname">PONTO</code> ou <code class="varname">NULO</code> se o parâmetro de entrada não é uma <code class="varname">LINESTRING</code>.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 7.1.4</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Alterações: 2.0.0 não funciona mais com geometrias de multilinestrings. Em verões mais antigas do PostGIS -- uma linha multilinestring sozinha trabalharia normalmente com essa função e voltaria o ponto de início. Na 2.0.0 ela retorna NULA como qualquer outra multilinestring. O antigo comportamento não foi uma característica documentada, mas as pessoas que consideravam que tinham seus dados armazenados como uma LINESTRING, agora podem experimentar essas que retornam NULAS em 2.0. </p></td></tr></table></div></div><div class="refsection" id="idm5009"><h2>Exemplos</h2><p>End point of a LineString</p><pre class="programlisting">postgis=# SELECT ST_AsText(ST_EndPoint('LINESTRING(1 1, 2 2, 3 3)'::geometry));
 st_astext
------------
 POINT(3 3)
</pre><p>End point of a non-LineString is NULL</p><pre class="programlisting">SELECT ST_EndPoint('POINT(1 1)'::geometry) IS NULL AS is_null;
  is_null
----------
 t
</pre><p>End point of a 3D LineString</p><pre class="programlisting">--3d endpoint
SELECT ST_AsEWKT(ST_EndPoint('LINESTRING(1 1 2, 1 2 3, 0 0 5)'));
  st_asewkt
--------------
 POINT(0 0 5)
</pre><p>Retorna o número de pontos em um valor ST_LineString ou ST_CircularString. </p><pre class="programlisting">SELECT ST_AsText(ST_EndPoint('CIRCULARSTRING(5 2,-3 1.999999, -2 1, -4 2, 6 3)'::geometry));
 st_astext
------------
 POINT(6 3)
</pre></div><div class="refsection" id="idm5019"><h2>Veja também</h2><p><a class="xref" href="#ST_PointN" title="ST_PointN">ST_PointN</a>, <a class="xref" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a></p></div></div><div class="refentry" id="ST_Envelope"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Envelope — Retorna uma geometria representando a precisão da dobrada (float8) da caixa limitada da geometria fornecida.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Envelope</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm5036"><h2>Descrição</h2><p>Retorna o limite mínimo da caixa float8 para a geometria fornecida, com uma geometria. O polígono é definido pelos pontos de canto da caixa limitada ((<code class="varname">MINX</code>, <code class="varname">MINY</code>), (<code class="varname">MINX</code>, <code class="varname">MAXY</code>), (<code class="varname">MAXX</code>, <code class="varname">MAXY</code>), (<code class="varname">MAXX</code>, <code class="varname">MINY</code>), (<code class="varname">MINX</code>, <code class="varname">MINY</code>)). (PostGIS irá adicionar uma <code class="varname">ZMIN</code>/<code class="varname">ZMAX</code> coordenada também).</p><p>Casos degenerados (linhas verticais, pontos) irão retornar como uma geometria de dimensão menor que <code class="varname">POLÍGONO</code>, ie. <code class="varname">PONTO</code> ou <code class="varname">LINESTRING</code>.</p><p class="availability">Disponibilidade: 1.5.0 comportamento alterado para saída de precisão dupla ao invés de float4</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.19</p></div><div class="refsection" id="idm5065"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_Envelope('POINT(1 3)'::geometry));
 st_astext
------------
 POINT(1 3)
(1 row)


SELECT ST_AsText(ST_Envelope('LINESTRING(0 0, 1 3)'::geometry));
                   st_astext
--------------------------------
 POLYGON((0 0,0 3,1 3,1 0,0 0))
(1 row)


SELECT ST_AsText(ST_Envelope('POLYGON((0 0, 0 1, 1.0000001 1, 1.0000001 0, 0 0))'::geometry));
                                                  st_astext
--------------------------------------------------------------
 POLYGON((0 0,0 1,1.00000011920929 1,1.00000011920929 0,0 0))
(1 row)
SELECT ST_AsText(ST_Envelope('POLYGON((0 0, 0 1, 1.0000000001 1, 1.0000000001 0, 0 0))'::geometry));
                                                  st_astext
--------------------------------------------------------------
 POLYGON((0 0,0 1,1.00000011920929 1,1.00000011920929 0,0 0))
(1 row)

SELECT Box3D(geom), Box2D(geom), ST_AsText(ST_Envelope(geom)) As envelopewkt
        FROM (SELECT 'POLYGON((0 0, 0 1000012333334.34545678, 1.0000001 1, 1.0000001 0, 0 0))'::geometry As geom) As foo;


        </pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_envelope01.png"/><div class="caption"><p>Envelope of a point and linestring.</p></div></div></div><pre class="programlisting">SELECT ST_AsText(ST_Envelope(
                ST_Collect(
                        ST_GeomFromText('LINESTRING(55 75,125 150)'),
                                ST_Point(20, 80))
                                )) As wktenv;
wktenv
-----------
POLYGON((20 75,20 150,125 150,125 75,20 75))</pre></div><div class="refsection" id="idm5075"><h2>Veja também</h2><p><a class="xref" href="#Box2D" title="Box2D">Box2D</a>, <a class="xref" href="#Box3D" title="Box3D">Box3D</a>, <a class="xref" href="#ST_OrientedEnvelope" title="ST_OrientedEnvelope">ST_OrientedEnvelope</a></p></div></div><div class="refentry" id="ST_ExteriorRing"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ExteriorRing — Retorna o número de anéis interiores de um polígono.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ExteriorRing</strong>(</code>geometry  <var class="pdparam">a_polygon</var><code>)</code>;</p></div></div><div class="refsection" id="idm5093"><h2>Descrição</h2><p>Retorna uma line string representando o anel exterior da geometria <code class="varname">POLÍGONO</code>. Retorna NULA se a geometria não for um polígono. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Isso não funcionará para MULTIPOLÍGONOS. Use em conjunção com ST_Dump para MULTIPOLÍGONOS.  </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  2.1.5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 8.2.3, 8.3.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm5112"><h2>Exemplos</h2><pre class="programlisting">--If you have a table of polygons
SELECT gid, ST_ExteriorRing(geom) AS ering
FROM sometable;

--If you have a table of MULTIPOLYGONs
--and want to return a MULTILINESTRING composed of the exterior rings of each polygon
SELECT gid, ST_Collect(ST_ExteriorRing(geom)) AS erings
        FROM (SELECT gid, (ST_Dump(geom)).geom As geom
                        FROM sometable) As foo
GROUP BY gid;

--3d Example
SELECT ST_AsEWKT(
        ST_ExteriorRing(
        ST_GeomFromEWKT('POLYGON((0 0 1, 1 1 1, 1 2 1, 1 1 1, 0 0 1))')
        )
);

st_asewkt
---------
LINESTRING(0 0 1,1 1 1,1 2 1,1 1 1,0 0 1)
</pre></div><div class="refsection" id="idm5115"><h2>Veja também</h2><p><a class="xref" href="#ST_InteriorRingN" title="ST_InteriorRingN">ST_InteriorRingN</a>, <a class="xref" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a>, <a class="xref" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a> </p></div></div><div class="refentry" id="ST_GeometryN"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeometryN — Retorna o tipo de geometria de valor ST_Geometry. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeometryN</strong>(</code>geometry  <var class="pdparam">geomA</var>, integer  <var class="pdparam">n</var><code>)</code>;</p></div></div><div class="refsection" id="idm5136"><h2>Descrição</h2><p>Retorna a geometria de 1-base Nth se a geometria é uma GEOMETRYCOLLECTION, (MULTI)POINT, (MULTI)LINESTRING, MULTICURVE ou (MULTI)POLYGON, POLYHEDRALSURFACE. Senão, retorna NULA. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O Index é 1-base como para OGC specs desde a versão 0.8.0. Versões anteriores implementaram isso como 0-base. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você quiser extrair todas as geometrias, de uma geometria, ST_Dump é mais eficiente e também funcionará para geometrias singulares.</p></td></tr></table></div><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p class="changed">Alterações: 2.0.0. Versões anteriores voltariam NULAS para geometrias únicas. Isso foi alterado para volrtar a geometria para o caso ST_GeometryN(..,1).</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 9.1.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm5170"><h2>Exemplos Padrão</h2><pre class="programlisting">
--Extracting a subset of points from a 3d multipoint
SELECT n, ST_AsEWKT(ST_GeometryN(geom, n)) As geomewkt
FROM (
VALUES (ST_GeomFromEWKT('MULTIPOINT((1 2 7), (3 4 7), (5 6 7), (8 9 10))') ),
( ST_GeomFromEWKT('MULTICURVE(CIRCULARSTRING(2.5 2.5,4.5 2.5, 3.5 3.5), (10 11, 12 11))') )
        )As foo(geom)
        CROSS JOIN generate_series(1,100) n
WHERE n &lt;= ST_NumGeometries(geom);

 n |               geomewkt
---+-----------------------------------------
 1 | POINT(1 2 7)
 2 | POINT(3 4 7)
 3 | POINT(5 6 7)
 4 | POINT(8 9 10)
 1 | CIRCULARSTRING(2.5 2.5,4.5 2.5,3.5 3.5)
 2 | LINESTRING(10 11,12 11)


--Extracting all geometries (useful when you want to assign an id)
SELECT gid, n, ST_GeometryN(geom, n)
FROM sometable CROSS JOIN generate_series(1,100) n
WHERE n &lt;= ST_NumGeometries(geom);
</pre></div><div class="refsection" id="idm5173"><h2>Exemplos de Superfícies Poliédricas, TIN e Triângulos </h2><pre class="programlisting">-- Polyhedral surface example
-- Break a Polyhedral surface into its faces
SELECT ST_AsEWKT(ST_GeometryN(p_geom,3)) As geom_ewkt
  FROM (SELECT ST_GeomFromEWKT('POLYHEDRALSURFACE(
((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)),
((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),
((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1))
)')  AS p_geom )  AS a;

                geom_ewkt
------------------------------------------
 POLYGON((0 0 0,1 0 0,1 0 1,0 0 1,0 0 0))</pre><pre class="programlisting">-- TIN --
SELECT ST_AsEWKT(ST_GeometryN(geom,2)) as wkt
  FROM
    (SELECT
       ST_GeomFromEWKT('TIN (((
                0 0 0,
                0 0 1,
                0 1 0,
                0 0 0
            )), ((
                0 0 0,
                0 1 0,
                1 1 0,
                0 0 0
            ))
            )')  AS geom
    ) AS g;
-- result --
                 wkt
-------------------------------------
 TRIANGLE((0 0 0,0 1 0,1 1 0,0 0 0))</pre></div><div class="refsection" id="idm5177"><h2>Veja também</h2><p><a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a></p></div></div><div class="refentry" id="ST_GeometryType"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeometryType — Retorna o tipo de geometria de valor ST_Geometry. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_GeometryType</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm5194"><h2>Descrição</h2><p>Retorna o tipo da geometria como uma string. EX: 'ST_LineString', 'ST_Polygon','ST_MultiPolygon' etc. Essa função difere de GeometryType(geometria) no caso da string e ST na frente que é retornada, bem como o fato que isso não indicará se a geometria é medida. </p><p class="enhanced">Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.4</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm5210"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_GeometryType(ST_GeomFromText('LINESTRING(77.29 29.07,77.42 29.26,77.27 29.31,77.29 29.07)'));
                        --result
                        ST_LineString</pre><pre class="programlisting">SELECT ST_GeometryType(ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'));
                        --result
                        ST_PolyhedralSurface</pre><pre class="programlisting">SELECT ST_GeometryType(ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'));
                        --result
                        ST_PolyhedralSurface</pre><pre class="programlisting">SELECT ST_GeometryType(geom) as result
  FROM
    (SELECT
       ST_GeomFromEWKT('TIN (((
                0 0 0,
                0 0 1,
                0 1 0,
                0 0 0
            )), ((
                0 0 0,
                0 1 0,
                1 1 0,
                0 0 0
            ))
            )')  AS geom
    ) AS g;
 result
--------
 ST_Tin    </pre></div><div class="refsection" id="idm5216"><h2>Veja também</h2><p><a class="xref" href="#GeometryType" title="GeometryType">GeometryType</a></p></div></div><div class="refentry" id="ST_HasArc"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_HasArc — Tests if a geometry contains a circular arc</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_HasArc</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm5232"><h2>Descrição</h2><p>Retorna verdadeiro se essa geometria é uma coleção vazia, polígono, ponto etc.</p><p class="availability">Disponibilidade: 1.2.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm5244"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_HasArc(ST_Collect('LINESTRING(1 2, 3 4, 5 6)', 'CIRCULARSTRING(1 1, 2 3, 4 5, 6 7, 5 6)'));
                st_hasarc
                --------
                t
                </pre></div><div class="refsection" id="idm5247"><h2>Veja também</h2><p><a class="xref" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a>, <a class="xref" href="#ST_PointN" title="ST_PointN">ST_PointN</a></p></div></div><div class="refentry" id="ST_InteriorRingN"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_InteriorRingN — Retorna o número de anéis interiores de um polígono. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_InteriorRingN</strong>(</code>geometry  <var class="pdparam">a_polygon</var>, integer  <var class="pdparam">n</var><code>)</code>;</p></div></div><div class="refsection" id="idm5267"><h2>Descrição</h2><p>Retorna o anel linestring Nth interior do polígono. Retorna NULO se a geometria não for um polígono ou o dado N está fora da extensão.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Isso não funcionará para MULTIPOLÍGONOS. Use em conjunção com ST_Dump para MULTIPOLÍGONOS.  </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 8.2.6, 8.3.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm5285"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_InteriorRingN(geom, 1)) As geom
FROM (SELECT ST_BuildArea(
                ST_Collect(ST_Buffer(ST_Point(1,2), 20,3),
                        ST_Buffer(ST_Point(1, 2), 10,3))) As geom
                )  as foo;
                </pre></div><div class="refsection" id="idm5288"><h2>Veja também</h2><p><a class="xref" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a>, <a class="xref" href="#ST_M" title="ST_M">ST_M</a>, <a class="xref" href="#ST_X" title="ST_X">ST_X</a>, <a class="xref" href="#ST_Y" title="ST_Y">ST_Y</a>, <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a>, <a class="xref" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a> </p></div></div><div class="refentry" id="ST_NumCurves"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NumCurves — Return the number of component curves in a CompoundCurve.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NumCurves</strong>(</code>geometry  <var class="pdparam">a_compoundcurve</var><code>)</code>;</p></div></div><div class="refsection" id="idm5309"><h2>Descrição</h2><p>Return the number of component curves in a CompoundCurve, zero for an empty CompoundCurve, or NULL for a non-CompoundCurve input. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 8.2.6, 8.3.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm5320"><h2>Exemplos</h2><pre class="programlisting">-- Returns 3
SELECT ST_NumCurves('COMPOUNDCURVE(
    (2 2, 2.5 2.5),
    CIRCULARSTRING(2.5 2.5, 4.5 2.5, 3.5 3.5),
    (3.5 3.5, 2.5 4.5, 3 5, 2 2)
  )');

-- Returns 0
SELECT ST_NumCurves('COMPOUNDCURVE EMPTY');
        </pre></div><div class="refsection" id="idm5323"><h2>Veja também</h2><p><a class="xref" href="#ST_CurveN" title="ST_CurveN">ST_CurveN</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a>, <a class="xref" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a>, <a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> </p></div></div><div class="refentry" id="ST_CurveN"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CurveN — Returns the Nth component curve geometry of a CompoundCurve.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CurveN</strong>(</code>geometry  <var class="pdparam">a_compoundcurve</var>, integer  <var class="pdparam">index</var><code>)</code>;</p></div></div><div class="refsection" id="idm5346"><h2>Descrição</h2><p>Returns the Nth component curve geometry of a CompoundCurve. The index starts at 1. Returns NULL if the geometry is not a CompoundCurve or the index is out of range.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 8.2.6, 8.3.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm5357"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_CurveN('COMPOUNDCURVE(
    (2 2, 2.5 2.5),
    CIRCULARSTRING(2.5 2.5, 4.5 2.5, 3.5 3.5),
    (3.5 3.5, 2.5 4.5, 3 5, 2 2)
  )', 1));
        </pre></div><div class="refsection" id="idm5360"><h2>Veja também</h2><p><a class="xref" href="#ST_NumCurves" title="ST_NumCurves">ST_NumCurves</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a>, <a class="xref" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a>, <a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> </p></div></div><div class="refentry" id="ST_IsClosed"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsClosed — Retorna  <code class="varname">VERDADEIRO</code> se os pontos de começo e fim da <code class="varname">LINESTRING</code> são coincidentes. Para superfície poliédrica está fechada (volumétrica).  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsClosed</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm5382"><h2>Descrição</h2><p>Retorna  <code class="varname">VERDADEIRO</code> se os pontos de começo e fim da <code class="varname">LINESTRING</code> são coincidentes. Para superfícies poliédricas, isso lhe diz se a superfície é territorial (aberta) ou volumétrica (fechada). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 7.1.5, 9.3.3</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>SQL-MM defines the result of <code class="code">ST_IsClosed(NULL)</code> to be 0, while PostGIS returns <code class="varname">NULL</code>.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p class="enhanced">Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm5413"><h2>Exemplos de line string e ponto</h2><pre class="programlisting">postgis=# SELECT ST_IsClosed('LINESTRING(0 0, 1 1)'::geometry);
 st_isclosed
-------------
 f
(1 row)

postgis=# SELECT ST_IsClosed('LINESTRING(0 0, 0 1, 1 1, 0 0)'::geometry);
 st_isclosed
-------------
 t
(1 row)

postgis=# SELECT ST_IsClosed('MULTILINESTRING((0 0, 0 1, 1 1, 0 0),(0 0, 1 1))'::geometry);
 st_isclosed
-------------
 f
(1 row)

postgis=# SELECT ST_IsClosed('POINT(0 0)'::geometry);
 st_isclosed
-------------
 t
(1 row)

postgis=# SELECT ST_IsClosed('MULTIPOINT((0 0), (1 1))'::geometry);
 st_isclosed
-------------
 t
(1 row)</pre></div><div class="refsection" id="idm5416"><h2>Exemplos de Superfície Poliedral</h2><pre class="programlisting">-- A cube --
                SELECT ST_IsClosed(ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'));

 st_isclosed
-------------
 t


 -- Same as cube but missing a side --
 SELECT ST_IsClosed(ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)) )'));

 st_isclosed
-------------
 f

</pre></div><div class="refsection" id="idm5419"><h2>Veja também</h2><p><a class="xref" href="#ST_IsRing" title="ST_IsRing">ST_IsRing</a></p></div></div><div class="refentry" id="ST_IsCollection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsCollection — Retorna verdadeiro se essa geometria é uma coleção vazia, polígono, ponto etc.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsCollection</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm5435"><h2>Descrição</h2><p>Retorna <code class="varname">VERDADEIRO</code> se o tipo da geometria do argumento é: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>COLEÇÃO DE GEOMETRIA </p></li><li class="listitem"><p>MULTI{PONTO, POLÍGONO, LINESTRING, CURVA, SUPERFÍCIE}</p></li><li class="listitem"><p>CURVA COMPOSTA</p></li></ul></div><p>
                </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Essa função analisa o tipo da geometria. Isso significa  que vai retornar <code class="varname">VERDADEIRO</code> nas coleções que são vazias ou que contêm apenas um elemento.  </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm5457"><h2>Exemplos</h2><pre class="programlisting">postgis=# SELECT ST_IsCollection('LINESTRING(0 0, 1 1)'::geometry);
 st_iscollection
-------------
 f
(1 row)

postgis=# SELECT ST_IsCollection('MULTIPOINT EMPTY'::geometry);
 st_iscollection
-------------
 t
(1 row)

postgis=# SELECT ST_IsCollection('MULTIPOINT((0 0))'::geometry);
 st_iscollection
-------------
 t
(1 row)

postgis=# SELECT ST_IsCollection('MULTIPOINT((0 0), (42 42))'::geometry);
 st_iscollection
-------------
 t
(1 row)

postgis=# SELECT ST_IsCollection('GEOMETRYCOLLECTION(POINT(0 0))'::geometry);
 st_iscollection
-------------
 t
(1 row)</pre></div><div class="refsection" id="idm5460"><h2>Veja também</h2><p><a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a></p></div></div><div class="refentry" id="ST_IsEmpty"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsEmpty — Tests if a geometry is empty.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsEmpty</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm5476"><h2>Descrição</h2><p>Retorna verdadeiro se essa geometria se é vazia. Se verdadeira, ela representa uma coleção vazia, polígono, ponto etc.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>SQL-MM define o resultado da ST_IsEmpty(NULA) para ser 0, enquanto o PostGIS retorna NULO.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.7</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Alterações: 2.0.0 Nas versões anteriores do PostGIS ST_GeomFromText('GEOMETRYCOLLECTION(EMPTY)') era permitido. Agora isso é ilegal no PostGIS 2.0.0 para se adequar aos padrões SQL/MM. </p></td></tr></table></div></div><div class="refsection" id="idm5496"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_IsEmpty(ST_GeomFromText('GEOMETRYCOLLECTION EMPTY'));
 st_isempty
------------
 t
(1 row)

 SELECT ST_IsEmpty(ST_GeomFromText('POLYGON EMPTY'));
 st_isempty
------------
 t
(1 row)

SELECT ST_IsEmpty(ST_GeomFromText('POLYGON((1 2, 3 4, 5 6, 1 2))'));

 st_isempty
------------
 f
(1 row)

 SELECT ST_IsEmpty(ST_GeomFromText('POLYGON((1 2, 3 4, 5 6, 1 2))')) = false;
 ?column?
----------
 t
(1 row)

 SELECT ST_IsEmpty(ST_GeomFromText('CIRCULARSTRING EMPTY'));
  st_isempty
------------
 t
(1 row)


                </pre></div></div><div class="refentry" id="ST_IsPolygonCCW"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsPolygonCCW  — Tests if Polygons have exterior rings oriented counter-clockwise and interior rings oriented clockwise. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef"> boolean <strong class="fsfunc">ST_IsPolygonCCW</strong> (</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm5511"><h2>Descrição</h2><p>Returns true if all polygonal components of the input geometry use a counter-clockwise orientation for their exterior ring, and a clockwise direction for all interior rings. </p><p>Returns true if the geometry has no polygonal components. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Closed linestrings are not considered polygonal components, so you would still get a true return by passing a single closed linestring no matter its orientation. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If a polygonal geometry does not use reversed orientation for interior rings (i.e., if one or more interior rings are oriented in the same direction as an exterior ring) then both ST_IsPolygonCW and ST_IsPolygonCCW will return false. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports M coordinates. </p></div><div class="refsection" id="idm5528"><h2>Veja também</h2><p><a class="xref" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a>, <a class="xref" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a>, <a class="xref" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a> </p></div></div><div class="refentry" id="ST_IsPolygonCW"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsPolygonCW  — Tests if Polygons have exterior rings oriented clockwise and interior rings oriented counter-clockwise. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef"> boolean <strong class="fsfunc">ST_IsPolygonCW</strong> (</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm5546"><h2>Descrição</h2><p>Returns true if all polygonal components of the input geometry use a clockwise orientation for their exterior ring, and a counter-clockwise direction for all interior rings. </p><p>Returns true if the geometry has no polygonal components. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Closed linestrings are not considered polygonal components, so you would still get a true return by passing a single closed linestring no matter its orientation. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If a polygonal geometry does not use reversed orientation for interior rings (i.e., if one or more interior rings are oriented in the same direction as an exterior ring) then both ST_IsPolygonCW and ST_IsPolygonCCW will return false. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports M coordinates. </p></div><div class="refsection" id="idm5563"><h2>Veja também</h2><p><a class="xref" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a>, <a class="xref" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a>, <a class="xref" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a> </p></div></div><div class="refentry" id="ST_IsRing"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsRing — Tests if a LineString is closed and simple.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsRing</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm5581"><h2>Descrição</h2><p>Returns <code class="varname">TRUE</code> if this <code class="varname">LINESTRING</code> is both <a class="xref" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a> (<code class="code">ST_StartPoint(g) ~= ST_Endpoint(g)</code>) and <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a> (does not self intersect).</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  2.1.5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 7.1.6</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>SQL-MM defines the result of <code class="code">ST_IsRing(NULL)</code> to be 0, while PostGIS returns <code class="varname">NULL</code>.</p></td></tr></table></div></div><div class="refsection" id="idm5602"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_IsRing(geom), ST_IsClosed(geom), ST_IsSimple(geom)
FROM (SELECT 'LINESTRING(0 0, 0 1, 1 1, 1 0, 0 0)'::geometry AS geom) AS foo;
 st_isring | st_isclosed | st_issimple
-----------+-------------+-------------
 t         | t           | t
(1 row)

SELECT ST_IsRing(geom), ST_IsClosed(geom), ST_IsSimple(geom)
FROM (SELECT 'LINESTRING(0 0, 0 1, 1 0, 1 1, 0 0)'::geometry AS geom) AS foo;
 st_isring | st_isclosed | st_issimple
-----------+-------------+-------------
 f         | t           | f
(1 row)</pre></div><div class="refsection" id="idm5605"><h2>Veja também</h2><p><a class="xref" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a>, <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>, <a class="xref" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a>, <a class="xref" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a></p></div></div><div class="refentry" id="ST_IsSimple"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsSimple — Retorna (VERDADEIRA) se essa geometria não tem nenhum ponto irregular, como auto intersecção ou tangenciação.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsSimple</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm5624"><h2>Descrição</h2><p>Retorna verdadeira se essa geometria não tem nenhum ponto geométrico irregular, como auto intersecção ou tangenciação. Para maiores informações na definição OGC da simplicidade e validade das geometrias, use <a class="link" href="#OGC_Validity" title="4.4. Geometry Validation">"Ensuring OpenGIS compliance of geometries"</a></p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>SQL-MM define o resultado da ST_IsSimple(NULA) para ser 0, enquanto o PostGIS retorna NULO.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.8</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm5643"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_IsSimple(ST_GeomFromText('POLYGON((1 2, 3 4, 5 6, 1 2))'));
 st_issimple
-------------
 f
(1 row)

 SELECT ST_IsSimple(ST_GeomFromText('LINESTRING(1 1,2 2,2 3.5,1 3,1 2,2 1)'));
 st_issimple
-------------
 f
(1 row)</pre></div><div class="refsection" id="idm5646"><h2>Veja também</h2><p><a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a></p></div></div><div class="refentry" id="ST_M"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_M — Returns the M coordinate of a Point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_M</strong>(</code>geometry  <var class="pdparam">a_point</var><code>)</code>;</p></div></div><div class="refsection" id="idm5662"><h2>Descrição</h2><p>Retorna a coordenada M do ponto, ou NULA se não estiver disponível. Entrada deve ser um ponto.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Isso não faz parte (ainda) do OGC spec, mas está listado aqui para completar a função lista do ponto coordenado extrator. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm5680"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_M(ST_GeomFromEWKT('POINT(1 2 3 4)'));
 st_m
------
        4
(1 row)

                </pre></div><div class="refsection" id="idm5683"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_X" title="ST_X">ST_X</a>, <a class="xref" href="#ST_Y" title="ST_Y">ST_Y</a>, <a class="xref" href="#ST_Z" title="ST_Z">ST_Z</a></p></div></div><div class="refentry" id="ST_MemSize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MemSize — Retorna o tipo de geometria de valor ST_Geometry. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_MemSize</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm5702"><h2>Descrição</h2><p>Retorna o tipo de geometria de valor ST_Geometry.  </p><p>This complements the PostgreSQL built-in <a class="link" href="https://www.postgresql.org/docs/current/functions-admin.html#FUNCTIONS-ADMIN-DBOBJECT" target="_top">database object functions</a> pg_column_size, pg_size_pretty, pg_relation_size, pg_total_relation_size.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>pg_relation_size which gives the byte size of a table may return byte size lower than ST_MemSize. This is because pg_relation_size does not add toasted table contribution and large geometries are stored in TOAST tables.</p><p>pg_total_relation_size - inclui, a tabela, as tabelas toasted, e os índices.</p><p>pg_column_size returns how much space a geometry would take in a column considering compression, so may be lower than ST_MemSize</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p class="changed">Changed: 2.2.0 name changed to ST_MemSize to follow naming convention.</p></div><div class="refsection" id="idm5728"><h2>Exemplos</h2><pre class="programlisting">--Return how much byte space Boston takes up  in our Mass data set
SELECT pg_size_pretty(SUM(ST_MemSize(geom))) as totgeomsum,
pg_size_pretty(SUM(CASE WHEN town = 'BOSTON' THEN ST_MemSize(geom) ELSE 0 END)) As bossum,
CAST(SUM(CASE WHEN town = 'BOSTON' THEN ST_MemSize(geom) ELSE 0 END)*1.00 /
                SUM(ST_MemSize(geom))*100 As numeric(10,2)) As perbos
FROM towns;

totgeomsum        bossum        perbos
----------        ------        ------
1522 kB                30 kB        1.99


SELECT ST_MemSize(ST_GeomFromText('CIRCULARSTRING(220268 150415,220227 150505,220227 150406)'));

---
73

--What percentage of our table is taken up by just the geometry
SELECT pg_total_relation_size('public.neighborhoods') As fulltable_size, sum(ST_MemSize(geom)) As geomsize,
sum(ST_MemSize(geom))*1.00/pg_total_relation_size('public.neighborhoods')*100 As pergeom
FROM neighborhoods;
fulltable_size geomsize  pergeom
------------------------------------------------
262144         96238         36.71188354492187500000
        </pre></div></div><div class="refentry" id="ST_NDims"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NDims — Retorna a dimensão da coordenada do valor ST_Geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NDims</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm5743"><h2>Descrição</h2><p>Retorna a dimensão coordenada da geometria. O PostGIS suporta 2 - (x,y) , 3 - (x,y,z) ou 2D com medida - x,y,m, e 4 - 3D com espaço de medida x,y,z,m</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm5750"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_NDims(ST_GeomFromText('POINT(1 1)')) As d2point,
        ST_NDims(ST_GeomFromEWKT('POINT(1 1 2)')) As d3point,
        ST_NDims(ST_GeomFromEWKT('POINTM(1 1 0.5)')) As d2pointm;

         d2point | d3point | d2pointm
---------+---------+----------
           2 |       3 |        3
                        </pre></div><div class="refsection" id="idm5753"><h2>Veja também</h2><p><a class="xref" href="#ST_CoordDim" title="ST_CoordDim">ST_CoordDim</a>, <a class="xref" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a></p></div></div><div class="refentry" id="ST_NPoints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NPoints — Retorna o número de pontos (vértices) em uma geometria.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NPoints</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm5771"><h2>Descrição</h2><p>Retorna o número de pontos em uma geometria. Funciona para todas as geometrias.</p><p class="enhanced">Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Anteriores a 1.3.4, essa função falha se usada com geometrias que contêm CURVAS. Isso é consertado em 1.3.4+</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm5789"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_NPoints(ST_GeomFromText('LINESTRING(77.29 29.07,77.42 29.26,77.27 29.31,77.29 29.07)'));
--result
4

--Polygon in 3D space
SELECT ST_NPoints(ST_GeomFromEWKT('LINESTRING(77.29 29.07 1,77.42 29.26 0,77.27 29.31 -1,77.29 29.07 3)'))
--result
4</pre></div><div class="refsection" id="idm5792"><h2>Veja também</h2><p><a class="xref" href="#ST_NumPoints" title="ST_NumPoints">ST_NumPoints</a></p></div></div><div class="refentry" id="ST_NRings"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NRings — Retorna o número de anéis interiores de um polígono. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NRings</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm5808"><h2>Descrição</h2><p>Se a geometria for um polígono ou multi polígono, retorna o número de anéis. Diferente do NumInteriorRings, esse conta os anéis de fora também.  </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm5819"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_NRings(geom) As Nrings, ST_NumInteriorRings(geom) As ninterrings
                                        FROM (SELECT ST_GeomFromText('POLYGON((1 2, 3 4, 5 6, 1 2))') As geom) As foo;
         nrings | ninterrings
--------+-------------
          1 |           0
(1 row)
</pre></div><div class="refsection" id="idm5822"><h2>Veja também</h2><p><a class="xref" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a></p></div></div><div class="refentry" id="ST_NumGeometries"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NumGeometries — Retorna o número de pontos em uma geometria. Funciona para todas as geometrias.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NumGeometries</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm5838"><h2>Descrição</h2><p>Returns the number of elements in a geometry collection (GEOMETRYCOLLECTION or MULTI*). For non-empty atomic geometries returns 1. For empty geometries returns 0. </p><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p class="changed">Alterações: 2.0.0 Em versões anteriores retornaria NULO se a geometria não fosse do tipo coleção/MULTI. 2.0.0+ agora retorna 1 para geometrias únicas ex: POLÍGONO, LINESTRING, PONTO. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 9.1.4</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm5859"><h2>Exemplos</h2><pre class="programlisting">--Prior versions would have returned NULL for this -- in 2.0.0 this returns 1
SELECT ST_NumGeometries(ST_GeomFromText('LINESTRING(77.29 29.07,77.42 29.26,77.27 29.31,77.29 29.07)'));
--result
1

--Geometry Collection Example - multis count as one geom in a collection
SELECT ST_NumGeometries(ST_GeomFromEWKT('GEOMETRYCOLLECTION(MULTIPOINT((-2 3),(-2 2)),
LINESTRING(5 5 ,10 10),
POLYGON((-7 4.2,-7.1 5,-7.1 4.3,-7 4.2)))'));
--result
3
</pre></div><div class="refsection" id="idm5862"><h2>Veja também</h2><p><a class="xref" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a>, <a class="xref" href="#ST_Multi" title="ST_Multi">ST_Multi</a></p></div></div><div class="refentry" id="ST_NumInteriorRings"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NumInteriorRings — Retorna o número de anéis interiores de um polígono. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NumInteriorRings</strong>(</code>geometry  <var class="pdparam">a_polygon</var><code>)</code>;</p></div></div><div class="refsection" id="idm5879"><h2>Descrição</h2><p>Retorna o número de anéis interiores de um polígono. Retorna NULO se a geometria não for um polígono.  </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 8.2.5</p><p class="changed">Alterações: 2.0.0 - nas versões anteriores isso permitiria um MULTIPOLÍGONO, retornando o número de anéis interiores do primeiro POLÍGONO.</p></div><div class="refsection" id="idm5887"><h2>Exemplos</h2><pre class="programlisting">--If you have a regular polygon
SELECT gid, field1, field2, ST_NumInteriorRings(geom) AS numholes
FROM sometable;

--If you have multipolygons
--And you want to know the total number of interior rings in the MULTIPOLYGON
SELECT gid, field1, field2, SUM(ST_NumInteriorRings(geom)) AS numholes
FROM (SELECT gid, field1, field2, (ST_Dump(geom)).geom As geom
        FROM sometable) As foo
GROUP BY gid, field1,field2;
                        </pre></div><div class="refsection" id="idm5890"><h2>Veja também</h2><p><a class="xref" href="#ST_NumInteriorRing" title="ST_NumInteriorRing">ST_NumInteriorRing</a>, <a class="xref" href="#ST_PointN" title="ST_PointN">ST_PointN</a></p></div></div><div class="refentry" id="ST_NumInteriorRing"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NumInteriorRing — Retorna o número de anéis interiores de um polígono na geometria. Sinônimo para ST_NumInteriorRings.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NumInteriorRing</strong>(</code>geometry  <var class="pdparam">a_polygon</var><code>)</code>;</p></div></div><div class="refsection" id="idm5907"><h2>Veja também</h2><p><a class="xref" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a>, <a class="xref" href="#ST_PointN" title="ST_PointN">ST_PointN</a></p></div></div><div class="refentry" id="ST_NumPatches"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NumPatches — Retorna o número de faces em uma superfícies poliédrica. Retornará nulo para geometrias não poliédricas. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NumPatches</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm5924"><h2>Descrição</h2><p>Retorna o número de faces em uma superfície poliédrica. Retornará nulo para geometrias não poliédricas. Isso é um heterônimo para ST_NumGeometries para suportar a nomeação MM. É mais rápido utilizar ST_NumGeometries se você não se importa com a convenção MM. </p><p class="availability">Disponibilidade: 2.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM ISO/IEC 13249-3: 8.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm5945"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_NumPatches(ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'));
                --result
                6
                </pre></div><div class="refsection" id="idm5948"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a></p></div></div><div class="refentry" id="ST_NumPoints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NumPoints — Retorna o número de pontos em um valor ST_LineString ou ST_CircularString. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NumPoints</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm5965"><h2>Descrição</h2><p>Retorna o número de pontos em um valor ST_LineString ou ST_CircularString. Anteriores a 1.4 só funcionam com Linestrings como as specs declaram. A partir de 1.4 isso é um heterônimo para ST_NPoints, que retorna o número de vértices apenas para as line strings. Considere utilizar  ST_NPoints que tem vários objetivos e funciona com vários tipos de geometrias. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 7.2.4</p></div><div class="refsection" id="idm5977"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_NumPoints(ST_GeomFromText('LINESTRING(77.29 29.07,77.42 29.26,77.27 29.31,77.29 29.07)'));
                --result
                4
                </pre></div><div class="refsection" id="idm5980"><h2>Veja também</h2><p><a class="xref" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a></p></div></div><div class="refentry" id="ST_PatchN"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PatchN — Retorna o tipo de geometria de valor ST_Geometry. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PatchN</strong>(</code>geometry  <var class="pdparam">geomA</var>, integer  <var class="pdparam">n</var><code>)</code>;</p></div></div><div class="refsection" id="idm5999"><h2>Descrição</h2><p>
&gt; Retorna a geometria (face) de 1-base Nth se a geometria é POLYHEDRALSURFACE, POLYHEDRALSURFACEM. Senão, retorna NULA. Retorna a mesma resposta como ST_GeometryN para superfícies poliédricas. Utilizar ST_GemoetryN é mais rápido.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Index é 1-base.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você quiser extrair todas as geometrias, de uma geometria, ST_Dump é mais eficiente.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM ISO/IEC 13249-3: 8.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm6019"><h2>Exemplos</h2><pre class="programlisting">--Extract the 2nd face of the polyhedral surface
SELECT ST_AsEWKT(ST_PatchN(geom, 2)) As geomewkt
FROM (
VALUES (ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
        ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
        ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
        ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )')) ) As foo(geom);

              geomewkt
---+-----------------------------------------
 POLYGON((0 0 0,0 1 0,1 1 0,1 0 0,0 0 0))
</pre></div><div class="refsection" id="idm6022"><h2>Veja também</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a>, <a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a></p></div></div><div class="refentry" id="ST_PointN"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointN — Retorna o número de pontos em um valor ST_LineString ou ST_CircularString.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PointN</strong>(</code>geometry  <var class="pdparam">a_linestring</var>, integer  <var class="pdparam">n</var><code>)</code>;</p></div></div><div class="refsection" id="idm6045"><h2>Descrição</h2><p>Retorna o ponto Nth na primeira linestring ou linestring circular na geometria. Valores negativos são contados tardiamente do fim da linestring, tornando o ponto -1 o último ponto. Retorna NULA se não há uma linestring na geometria.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O Index é 1-base como para OGC specs desde a versão 0.8.0. Indexing atrasado (negativo) não está nas versões OGC anteriores implementadas com 0-base.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você quiser o ponto nth de cada line string em uma multilinestring, utilize em conjunção com ST_Dump</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 7.2.5, 7.3.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Alterações: 2.0.0 não funciona mais com geometrias multilinestrings únicas. Em verões mais antigas do PostGIS -- uma única linha multilinestring trabalharia normalmente e retornaria o ponto inicial. Na 2.0.0 só retorna NULA como qualquer outra multilinestring.</p><p class="changed">Alterações: 2.3.0 : indexing negativo disponível (-1 é o último ponto) </p></td></tr></table></div></div><div class="refsection" id="idm6072"><h2>Exemplos</h2><pre class="programlisting">-- Extract all POINTs from a LINESTRING
SELECT ST_AsText(
   ST_PointN(
          column1,
          generate_series(1, ST_NPoints(column1))
   ))
FROM ( VALUES ('LINESTRING(0 0, 1 1, 2 2)'::geometry) ) AS foo;

 st_astext
------------
 POINT(0 0)
 POINT(1 1)
 POINT(2 2)
(3 rows)

--Example circular string
SELECT ST_AsText(ST_PointN(ST_GeomFromText('CIRCULARSTRING(1 2, 3 2, 1 2)'), 2));

 st_astext
------------
 POINT(3 2)
(1 row)

SELECT ST_AsText(f)
FROM ST_GeomFromText('LINESTRING(0 0 0, 1 1 1, 2 2 2)') AS g
  ,ST_PointN(g, -2) AS f; -- 1 based index

    st_astext
-----------------
 POINT Z (1 1 1)
(1 row)

</pre></div><div class="refsection" id="idm6075"><h2>Veja também</h2><p><a class="xref" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a></p></div></div><div class="refentry" id="ST_Points"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Points — Retorna uma multilinestring contendo todas as coordenadas de uma geometria.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Points</strong>(</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm6091"><h2>Descrição</h2><p>Returns a MultiPoint containing all the coordinates of a geometry. Duplicate points are preserved, including the start and end points of ring geometries. (If desired, duplicate points can be removed by calling <a class="xref" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a> on the result). </p><p>To obtain information about the position of each coordinate in the parent geometry use <a class="xref" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a>. </p><p>M and Z coordinates are preserved if present. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p class="availability">Disponibilidade: 2.3.0</p></div><div class="refsection" id="idm6107"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_Points('POLYGON Z ((30 10 4,10 30 5,40 40 6, 30 10))'));

--result
MULTIPOINT Z ((30 10 4),(10 30 5),(40 40 6),(30 10 4))
                        </pre></div><div class="refsection" id="idm6110"><h2>Veja também</h2><p><a class="xref" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a>, <a class="xref" href="#ST_PointN" title="ST_PointN">ST_PointN</a></p></div></div><div class="refentry" id="ST_StartPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_StartPoint — Returns the first point of a LineString.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_StartPoint</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm6127"><h2>Descrição</h2><p>Retorna ao último ponto de uma <code class="varname">LINESTRING</code> ou <code class="varname">CIRCULARLINESTRING</code> geometria como um  <code class="varname">PONTO</code> ou <code class="varname">NULO</code> se o parâmetro de entrada não é uma <code class="varname">LINESTRING</code>.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 7.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Enhanced: 3.2.0 returns a point for all geometries. Prior behavior returns NULLs if input was not a LineString.</p><p class="changed">Alterações: 2.0.0 não funciona mais com geometrias de multilinestrings. Em verões mais antigas do PostGIS -- uma linha multilinestring sozinha trabalharia normalmente com essa função e voltaria o ponto de início. Na 2.0.0 ela retorna NULA como qualquer outra multilinestring. O antigo comportamento não foi uma característica documentada, mas as pessoas que consideravam que tinham seus dados armazenados como uma LINESTRING, agora podem experimentar essas que retornam NULAS em 2.0. </p></td></tr></table></div></div><div class="refsection" id="idm6150"><h2>Exemplos</h2><p>Start point of a LineString</p><pre class="programlisting">SELECT ST_AsText(ST_StartPoint('LINESTRING(0 1, 0 2)'::geometry));
 st_astext
------------
 POINT(0 1)
</pre><p>Start point of a non-LineString is NULL</p><pre class="programlisting">SELECT ST_StartPoint('POINT(0 1)'::geometry) IS NULL AS is_null;
  is_null
----------
 t
</pre><p>Start point of a 3D LineString</p><pre class="programlisting">SELECT ST_AsEWKT(ST_StartPoint('LINESTRING(0 1 1, 0 2 2)'::geometry));
 st_asewkt
------------
 POINT(0 1 1)
</pre><p>Retorna o número de pontos em um valor ST_LineString ou ST_CircularString. </p><pre class="programlisting">SELECT ST_AsText(ST_StartPoint('CIRCULARSTRING(5 2,-3 1.999999, -2 1, -4 2, 6 3)'::geometry));
 st_astext
------------
 POINT(5 2)
</pre></div><div class="refsection" id="idm6160"><h2>Veja também</h2><p><a class="xref" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a>, <a class="xref" href="#ST_PointN" title="ST_PointN">ST_PointN</a></p></div></div><div class="refentry" id="ST_Summary"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Summary — Retorna um texto resumo dos conteúdos da geometria. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_Summary</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_Summary</strong>(</code>geography  <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm6183"><h2>Descrição</h2><p>Retorna um texto resumo dos conteúdos da geometria.</p><p>As bandeiras mostraram colchetes depois do tipo de geometria ter o seguinte significado: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>M: tem ordenada M</p></li><li class="listitem"><p>Z: tem ordenada Z </p></li><li class="listitem"><p>B: tem uma caixa limitante salva</p></li><li class="listitem"><p>G: é geodésico (geografia)</p></li><li class="listitem"><p>S: tem um sistema de referência espacial</p></li></ul></div><p>
                </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p class="availability">Disponibilidade: 1.2.2</p><p class="enhanced">Melhorias: 2.0.0 suporte para geografia adicionado </p><p class="enhanced">melhorias: 2.1.0 Bandeira S para indicar se existe um sistema de referência espacial conhecido</p><p class="enhanced">Melhorias: 2.2.0 Suporte para TIN e Curvas adicionado</p></div><div class="refsection" id="idm6214"><h2>Exemplos</h2><pre class="programlisting">=# SELECT ST_Summary(ST_GeomFromText('LINESTRING(0 0, 1 1)')) as geom,
        ST_Summary(ST_GeogFromText('POLYGON((0 0, 1 1, 1 2, 1 1, 0 0))')) geog;
            geom             |          geog
-----------------------------+--------------------------
 LineString[B] with 2 points | Polygon[BGS] with 1 rings
                             | ring 0 has 5 points
                             :
(1 row)


=# SELECT ST_Summary(ST_GeogFromText('LINESTRING(0 0 1, 1 1 1)')) As geog_line,
        ST_Summary(ST_GeomFromText('SRID=4326;POLYGON((0 0 1, 1 1 2, 1 2 3, 1 1 1, 0 0 1))')) As geom_poly;
;
           geog_line             |        geom_poly
-------------------------------- +--------------------------
 LineString[ZBGS] with 2 points | Polygon[ZBS] with 1 rings
                                :    ring 0 has 5 points
                                :
(1 row)

</pre></div><div class="refsection" id="idm6217"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_DropBBox" title="PostGIS_DropBBox">PostGIS_DropBBox</a>, <a class="xref" href="#PostGIS_AddBBox" title="PostGIS_AddBBox">PostGIS_AddBBox</a>, <a class="xref" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a>, <a class="xref" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a>, <a class="xref" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>, <a class="xref" href="#geography" title="geography">geography</a> </p><p><a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_IsValidReason" title="ST_IsValidReason">ST_IsValidReason</a>, <a class="xref" href="#ST_IsValidDetail" title="ST_IsValidDetail">ST_IsValidDetail</a> </p></div></div><div class="refentry" id="ST_X"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_X — Returns the X coordinate of a Point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_X</strong>(</code>geometry  <var class="pdparam">a_point</var><code>)</code>;</p></div></div><div class="refsection" id="idm6243"><h2>Descrição</h2><p>Retorna a coordenada X do ponto, ou NULA se não estiver disponível. Entrada deve ser um ponto.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>To get the minimum and maximum X value of geometry coordinates use the functions <a class="xref" href="#ST_XMin" title="ST_XMin">ST_XMin</a> and <a class="xref" href="#ST_XMax" title="ST_XMax">ST_XMax</a>.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 6.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm6258"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_X(ST_GeomFromEWKT('POINT(1 2 3 4)'));
 st_x
------
        1
(1 row)

SELECT ST_Y(ST_Centroid(ST_GeomFromEWKT('LINESTRING(1 2 3 4, 1 1 1 1)')));
 st_y
------
  1.5
(1 row)

                </pre></div><div class="refsection" id="idm6261"><h2>Veja também</h2><p><a class="xref" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_M" title="ST_M">ST_M</a>, <a class="xref" href="#ST_XMax" title="ST_XMax">ST_XMax</a>, <a class="xref" href="#ST_XMin" title="ST_XMin">ST_XMin</a>, <a class="xref" href="#ST_Y" title="ST_Y">ST_Y</a>, <a class="xref" href="#ST_Z" title="ST_Z">ST_Z</a></p></div></div><div class="refentry" id="ST_Y"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Y — Returns the Y coordinate of a Point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Y</strong>(</code>geometry  <var class="pdparam">a_point</var><code>)</code>;</p></div></div><div class="refsection" id="idm6283"><h2>Descrição</h2><p>Retorna a coordenada Y do ponto, ou NULA se não estiver disponível. Entrada deve ser um ponto.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>To get the minimum and maximum Y value of geometry coordinates use the functions <a class="xref" href="#ST_YMin" title="ST_YMin">ST_YMin</a> and <a class="xref" href="#ST_YMax" title="ST_YMax">ST_YMax</a>.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 6.1.4</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm6303"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_Y(ST_GeomFromEWKT('POINT(1 2 3 4)'));
 st_y
------
        2
(1 row)

SELECT ST_Y(ST_Centroid(ST_GeomFromEWKT('LINESTRING(1 2 3 4, 1 1 1 1)')));
 st_y
------
  1.5
(1 row)


                </pre></div><div class="refsection" id="idm6306"><h2>Veja também</h2><p><a class="xref" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_M" title="ST_M">ST_M</a>, <a class="xref" href="#ST_X" title="ST_X">ST_X</a>, <a class="xref" href="#ST_YMax" title="ST_YMax">ST_YMax</a>, <a class="xref" href="#ST_YMin" title="ST_YMin">ST_YMin</a>, <a class="xref" href="#ST_Z" title="ST_Z">ST_Z</a></p></div></div><div class="refentry" id="ST_Z"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Z — Returns the Z coordinate of a Point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Z</strong>(</code>geometry  <var class="pdparam">a_point</var><code>)</code>;</p></div></div><div class="refsection" id="idm6328"><h2>Descrição</h2><p>Retorna a coordenada Z do ponto, ou NULA se não estiver disponível. Entrada deve ser um ponto.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>To get the minimum and maximum Z value of geometry coordinates use the functions <a class="xref" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a> and <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a>.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm6343"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_Z(ST_GeomFromEWKT('POINT(1 2 3 4)'));
 st_z
------
        3
(1 row)

                </pre></div><div class="refsection" id="idm6346"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_M" title="ST_M">ST_M</a>, <a class="xref" href="#ST_X" title="ST_X">ST_X</a>, <a class="xref" href="#ST_Y" title="ST_Y">ST_Y</a>, <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a>, <a class="xref" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a> </p></div></div><div class="refentry" id="ST_Zmflag"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Zmflag — Retorna a dimensão da coordenada do valor ST_Geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">smallint <strong class="fsfunc">ST_Zmflag</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm6367"><h2>Descrição</h2><p>Retorna a dimensão da coordenada do valor ST_Geometry. </p><p>Values are: 0 = 2D, 1 = 3D-M, 2 = 3D-Z, 3 = 4D.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm6379"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_Zmflag(ST_GeomFromEWKT('LINESTRING(1 2, 3 4)'));
 st_zmflag
-----------
                 0

SELECT ST_Zmflag(ST_GeomFromEWKT('LINESTRINGM(1 2 3, 3 4 3)'));
 st_zmflag
-----------
                 1

SELECT ST_Zmflag(ST_GeomFromEWKT('CIRCULARSTRING(1 2 3, 3 4 3, 5 6 3)'));
 st_zmflag
-----------
                 2
SELECT ST_Zmflag(ST_GeomFromEWKT('POINT(1 2 3 4)'));
 st_zmflag
-----------
                 3
</pre></div><div class="refsection" id="idm6382"><h2>Veja também</h2><p><a class="xref" href="#ST_CoordDim" title="ST_CoordDim">ST_CoordDim</a>, <a class="xref" href="#ST_NDims" title="ST_NDims">ST_NDims</a>, <a class="xref" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a></p></div></div><div class="refentry" id="ST_HasZ"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_HasZ — Checks if a geometry has a Z dimension.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_HasZ</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm6400"><h2>Descrição</h2><p>Checks if the input geometry has a Z dimension and returns a boolean value. If the geometry has a Z dimension, it returns true; otherwise, it returns false.</p><p>Geometry objects with a Z dimension typically represent three-dimensional (3D) geometries, while those without it are two-dimensional (2D) geometries.</p><p>This function is useful for determining if a geometry has elevation or height information.</p><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports M coordinates. </p></div><div class="refsection" id="idm6414"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_HasZ(ST_GeomFromText('POINT(1 2 3)'));
 --result
 true
</pre><pre class="programlisting">SELECT ST_HasZ(ST_GeomFromText('LINESTRING(0 0, 1 1)'));
 --result
 false
</pre></div><div class="refsection" id="idm6418"><h2>Veja também</h2><p><a class="xref" href="#ST_Zmflag" title="ST_Zmflag">ST_Zmflag</a></p><p><a class="xref" href="#ST_HasM" title="ST_HasM">ST_HasM</a></p></div></div><div class="refentry" id="ST_HasM"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_HasM — Checks if a geometry has an M (measure) dimension.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_HasM</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm6436"><h2>Descrição</h2><p>Checks if the input geometry has an M (measure) dimension and returns a boolean value. If the geometry has an M dimension, it returns true; otherwise, it returns false.</p><p>Geometry objects with an M dimension typically represent measurements or additional data associated with spatial features.</p><p>This function is useful for determining if a geometry includes measure information.</p><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports M coordinates. </p></div><div class="refsection" id="idm6450"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_HasM(ST_GeomFromText('POINTM(1 2 3)'));
 --result
 true
</pre><pre class="programlisting">SELECT ST_HasM(ST_GeomFromText('LINESTRING(0 0, 1 1)'));
 --result
 false
</pre></div><div class="refsection" id="idm6454"><h2>Veja também</h2><p><a class="xref" href="#ST_Zmflag" title="ST_Zmflag">ST_Zmflag</a></p><p><a class="xref" href="#ST_HasZ" title="ST_HasZ">ST_HasZ</a></p></div></div></section><section class="section" id="Geometry_Editors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.5. Editores de geometria</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions create modified geometries by changing type, structure or vertices. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_AddPoint">ST_AddPoint</a></span><span class="refpurpose"> — Adicione um ponto para uma LineString.</span></li><li><span class="refentrytitle"><a href="#ST_CollectionExtract">ST_CollectionExtract</a></span><span class="refpurpose"> — Given a geometry collection, returns a multi-geometry containing only elements of a specified type. </span></li><li><span class="refentrytitle"><a href="#ST_CollectionHomogenize">ST_CollectionHomogenize</a></span><span class="refpurpose"> — Returns the simplest representation of a geometry collection. </span></li><li><span class="refentrytitle"><a href="#ST_CurveToLine">ST_CurveToLine</a></span><span class="refpurpose"> — Converts a geometry containing curves to a linear geometry.</span></li><li><span class="refentrytitle"><a href="#ST_Scroll">ST_Scroll</a></span><span class="refpurpose"> — Change start point of a closed LineString.</span></li><li><span class="refentrytitle"><a href="#ST_FlipCoordinates">ST_FlipCoordinates</a></span><span class="refpurpose"> — Returns a version of a geometry with X and Y axis flipped. </span></li><li><span class="refentrytitle"><a href="#ST_Force2D">ST_Force2D</a></span><span class="refpurpose"> — Força a geometria para o modo de 2 dimensões.</span></li><li><span class="refentrytitle"><a href="#ST_Force_3D">ST_Force3D</a></span><span class="refpurpose"> — Força a geometria para um modo XYZ. Este é um apelido para a função ST_Force_3DZ.</span></li><li><span class="refentrytitle"><a href="#ST_Force_3DZ">ST_Force3DZ</a></span><span class="refpurpose"> — Força as geometrias para o modo XYZ.</span></li><li><span class="refentrytitle"><a href="#ST_Force_3DM">ST_Force3DM</a></span><span class="refpurpose"> — Força as geometrias para o modo XYM.</span></li><li><span class="refentrytitle"><a href="#ST_Force_4D">ST_Force4D</a></span><span class="refpurpose"> — Força as geometrias para o modo XYZM. </span></li><li><span class="refentrytitle"><a href="#ST_Force_Collection">ST_ForceCollection</a></span><span class="refpurpose"> — Converte a geometria para um GEOMETRYCOLLECTION.</span></li><li><span class="refentrytitle"><a href="#ST_ForceCurve">ST_ForceCurve</a></span><span class="refpurpose"> — Converte para cima uma geometria para seu tipo curvo, se aplicável.</span></li><li><span class="refentrytitle"><a href="#ST_ForcePolygonCCW">ST_ForcePolygonCCW </a></span><span class="refpurpose"> — Orients all exterior rings counter-clockwise and all interior rings clockwise. </span></li><li><span class="refentrytitle"><a href="#ST_ForcePolygonCW">ST_ForcePolygonCW </a></span><span class="refpurpose"> — Orients all exterior rings clockwise and all interior rings counter-clockwise. </span></li><li><span class="refentrytitle"><a href="#ST_ForceSFS">ST_ForceSFS</a></span><span class="refpurpose"> — Força as geometrias a utilizarem os tipos disponíveis na especificação SFS 1.1.</span></li><li><span class="refentrytitle"><a href="#ST_ForceRHR">ST_ForceRHR</a></span><span class="refpurpose"> — Força a orientação dos vértices em um polígono a seguir a regra da mão direita.</span></li><li><span class="refentrytitle"><a href="#ST_LineExtend">ST_LineExtend</a></span><span class="refpurpose"> — Returns a line extended forwards and backwards by specified distances.</span></li><li><span class="refentrytitle"><a href="#ST_LineToCurve">ST_LineToCurve</a></span><span class="refpurpose"> — Converts a linear geometry to a curved geometry.</span></li><li><span class="refentrytitle"><a href="#ST_Multi">ST_Multi</a></span><span class="refpurpose"> — Restitui a geometria como uma MULTI* geometria.</span></li><li><span class="refentrytitle"><a href="#ST_Normalize">ST_Normalize</a></span><span class="refpurpose"> — Retorna a geometria na sua forma canônica.</span></li><li><span class="refentrytitle"><a href="#ST_Project">ST_Project</a></span><span class="refpurpose"> — Returns a point projected from a start point by a distance and bearing (azimuth).</span></li><li><span class="refentrytitle"><a href="#ST_QuantizeCoordinates">ST_QuantizeCoordinates </a></span><span class="refpurpose"> — Sets least significant bits of coordinates to zero </span></li><li><span class="refentrytitle"><a href="#ST_RemovePoint">ST_RemovePoint</a></span><span class="refpurpose"> — Remove a point from a linestring.</span></li><li><span class="refentrytitle"><a href="#ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a></span><span class="refpurpose"> — Returns a version of a geometry with duplicate points removed.</span></li><li><span class="refentrytitle"><a href="#ST_RemoveIrrelevantPointsForView">ST_RemoveIrrelevantPointsForView</a></span><span class="refpurpose"> — Removes points that are irrelevant for rendering a specific rectangluar view of a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_RemoveSmallParts">ST_RemoveSmallParts</a></span><span class="refpurpose"> — Removes small parts (polygon rings or linestrings) of a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_Reverse">ST_Reverse</a></span><span class="refpurpose"> — Retorna a geometria com a ordem dos vértices revertida.</span></li><li><span class="refentrytitle"><a href="#ST_Segmentize">ST_Segmentize</a></span><span class="refpurpose"> — Returns a modified geometry/geography having no segment longer than a given distance.</span></li><li><span class="refentrytitle"><a href="#ST_SetPoint">ST_SetPoint</a></span><span class="refpurpose"> — Substitui ponto de uma linestring com um dado ponto.</span></li><li><span class="refentrytitle"><a href="#ST_ShiftLongitude">ST_ShiftLongitude</a></span><span class="refpurpose"> — Shifts the longitude coordinates of a geometry between -180..180 and 0..360.</span></li><li><span class="refentrytitle"><a href="#ST_WrapX">ST_WrapX</a></span><span class="refpurpose"> — Envolve uma geometria em torno de um valor X.</span></li><li><span class="refentrytitle"><a href="#ST_SnapToGrid">ST_SnapToGrid</a></span><span class="refpurpose"> — Rompe todos os pontos da geometria de entrada para uma rede regular. </span></li><li><span class="refentrytitle"><a href="#ST_Snap">ST_Snap</a></span><span class="refpurpose"> — Rompe segmentos e vértices de geometria de entrada para vértices de uma geometria de referência. </span></li><li><span class="refentrytitle"><a href="#ST_SwapOrdinates">ST_SwapOrdinates</a></span><span class="refpurpose"> — Retorna uma versão da geometria dada com os valores ordenados dados trocados. </span></li></ul></div><div class="refentry" id="ST_AddPoint"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AddPoint — Adicione um ponto para uma LineString.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_AddPoint</strong>(</code>geometry <var class="pdparam">linestring</var>, geometry <var class="pdparam">point</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_AddPoint</strong>(</code>geometry <var class="pdparam">linestring</var>, geometry <var class="pdparam">point</var>, integer <var class="pdparam">position = -1</var><code>)</code>;</p></div></div><div class="refsection" id="idm6493"><h2>Descrição</h2><p>Adds a point to a LineString before the index <em class="parameter"><code>position</code></em> (using a 0-based index). If the <em class="parameter"><code>position</code></em> parameter is omitted or is -1 the point is appended to the end of the LineString.</p><p class="availability">Disponibilidade: 1.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm6503"><h2>Exemplos</h2><p>Add a point to the end of a 3D line</p><pre class="programlisting">SELECT ST_AsEWKT(ST_AddPoint('LINESTRING(0 0 1, 1 1 1)', ST_MakePoint(1, 2, 3)));

    st_asewkt
    ----------
    LINESTRING(0 0 1,1 1 1,1 2 3)
</pre><p>Guarantee all lines in a table are closed by adding the start point of each line to the end of the line only for those that are not closed. </p><pre class="programlisting">UPDATE sometable
SET geom = ST_AddPoint(geom, ST_StartPoint(geom))
FROM sometable
WHERE ST_IsClosed(geom) = false;
</pre></div><div class="refsection" id="idm6509"><h2>Veja também</h2><p><a class="xref" href="#ST_RemovePoint" title="ST_RemovePoint">ST_RemovePoint</a>, <a class="xref" href="#ST_SetPoint" title="ST_SetPoint">ST_SetPoint</a></p></div></div><div class="refentry" id="ST_CollectionExtract"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CollectionExtract — Given a geometry collection, returns a multi-geometry containing only elements of a specified type. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CollectionExtract</strong>(</code>geometry  <var class="pdparam">collection</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CollectionExtract</strong>(</code>geometry  <var class="pdparam">collection</var>, integer  <var class="pdparam">type</var><code>)</code>;</p></div></div><div class="refsection" id="idm6536"><h2>Descrição</h2><p>Given a geometry collection, returns a homogeneous multi-geometry.</p><p>If the <em class="parameter"><code>type</code></em> is not specified, returns a multi-geometry containing only geometries of the highest dimension. So polygons are preferred over lines, which are preferred over points. </p><p>If the <em class="parameter"><code>type</code></em> is specified, returns a multi-geometry containing only that type. If there are no sub-geometries of the right type, an EMPTY geometry is returned. Only points, lines and polygons are supported. The type numbers are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>1 == POINT</p></li><li class="listitem"><p>2 == LINESTRING</p></li><li class="listitem"><p>3 == POLYGON</p></li></ul></div><p>For atomic geometry inputs, the geometry is returned unchanged if the input type matches the requested type. Otherwise, the result is an EMPTY geometry of the specified type. If required, these can be converted to multi-geometries using <a class="xref" href="#ST_Multi" title="ST_Multi">ST_Multi</a>. </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>MultiPolygon results are not checked for validity. If the polygon components are adjacent or overlapping the result will be invalid. (For example, this can occur when applying this function to an <a class="xref" href="#ST_Split" title="ST_Split">ST_Split</a> result.) This situation can be checked with <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a> and repaired with <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a>. </p></td></tr></table></div><p class="availability">Disponibilidade: 1.5.0</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Prior to 1.5.3 this function returned atomic inputs unchanged, no matter type. In 1.5.3 non-matching single geometries returned a NULL result. In 2.0.0 non-matching single geometries return an EMPTY result of the requested type. </p></td></tr></table></div></div><div class="refsection" id="idm6560"><h2>Exemplos</h2><p>Extract highest-dimension type:</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionExtract(
        'GEOMETRYCOLLECTION( POINT(0 0), LINESTRING(1 1, 2 2) )'));
    st_astext
    ---------------
    MULTILINESTRING((1 1, 2 2))
</pre><p>Extract points (type 1 == POINT):</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionExtract(
        'GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(POINT(0 0)))',
        1 ));
    st_astext
    ---------------
    MULTIPOINT((0 0))
</pre><p>Extract lines (type 2 == LINESTRING):</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionExtract(
        'GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(LINESTRING(0 0, 1 1)),LINESTRING(2 2, 3 3))',
        2 ));
    st_astext
    ---------------
    MULTILINESTRING((0 0, 1 1), (2 2, 3 3))
</pre></div><div class="refsection" id="idm6568"><h2>Veja também</h2><p><a class="xref" href="#ST_CollectionHomogenize" title="ST_CollectionHomogenize">ST_CollectionHomogenize</a>, <a class="xref" href="#ST_Multi" title="ST_Multi">ST_Multi</a>, <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> </p></div></div><div class="refentry" id="ST_CollectionHomogenize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CollectionHomogenize — Returns the simplest representation of a geometry collection. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CollectionHomogenize</strong>(</code>geometry  <var class="pdparam">collection</var><code>)</code>;</p></div></div><div class="refsection" id="idm6587"><h2>Descrição</h2><p>Dada uma coleção geométrica, retorna a representação mais simples de seu conteúdo. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Homogeneous (uniform) collections are returned as the appropriate multi-geometry.</p></li><li class="listitem"><p>Heterogeneous (mixed) collections are flattened into a single GeometryCollection.</p></li><li class="listitem"><p>Collections containing a single atomic element are returned as that element.</p></li><li class="listitem"><p>Atomic geometries are returned unchanged. If required, these can be converted to a multi-geometry using <a class="xref" href="#ST_Multi" title="ST_Multi">ST_Multi</a>.</p></li></ul></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function does not ensure that the result is valid. In particular, a collection containing adjacent or overlapping Polygons will create an invalid MultiPolygon. This situation can be checked with <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a> and repaired with <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a>. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm6605"><h2>Exemplos</h2><p>Single-element collection converted to an atomic geometry</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionHomogenize('GEOMETRYCOLLECTION(POINT(0 0))'));

        st_astext
        ------------
        POINT(0 0)
</pre><p>Nested single-element collection converted to an atomic geometry:</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionHomogenize('GEOMETRYCOLLECTION(MULTIPOINT((0 0)))'));

        st_astext
        ------------
        POINT(0 0)
</pre><p>Collection converted to a multi-geometry:</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionHomogenize('GEOMETRYCOLLECTION(POINT(0 0),POINT(1 1))'));

        st_astext
        ---------------------
        MULTIPOINT((0 0),(1 1))
</pre><p>Nested heterogeneous collection flattened to a GeometryCollection:</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionHomogenize('GEOMETRYCOLLECTION(POINT(0 0), GEOMETRYCOLLECTION( LINESTRING(1 1, 2 2)))'));

        st_astext
        ---------------------
        GEOMETRYCOLLECTION(POINT(0 0),LINESTRING(1 1,2 2))
</pre><p>Collection of Polygons converted to an (invalid) MultiPolygon:</p><pre class="programlisting">SELECT ST_AsText(ST_CollectionHomogenize('GEOMETRYCOLLECTION (POLYGON ((10 50, 50 50, 50 10, 10 10, 10 50)), POLYGON ((90 50, 90 10, 50 10, 50 50, 90 50)))'));

        st_astext
        ---------------------
        MULTIPOLYGON(((10 50,50 50,50 10,10 10,10 50)),((90 50,90 10,50 10,50 50,90 50)))
</pre></div><div class="refsection" id="idm6617"><h2>Veja também</h2><p><a class="xref" href="#ST_CollectionExtract" title="ST_CollectionExtract">ST_CollectionExtract</a>, <a class="xref" href="#ST_Multi" title="ST_Multi">ST_Multi</a>, <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a></p></div></div><div class="refentry" id="ST_CurveToLine"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CurveToLine — Converts a geometry containing curves to a linear geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CurveToLine</strong>(</code>geometry <var class="pdparam">curveGeom</var>, float <var class="pdparam">tolerance</var>, integer <var class="pdparam">tolerance_type</var>, integer <var class="pdparam">flags</var><code>)</code>;</p></div></div><div class="refsection" id="idm6645"><h2>Descrição</h2><p>Converts a CIRCULAR STRING to regular LINESTRING or CURVEPOLYGON to POLYGON or MULTISURFACE to MULTIPOLYGON. Useful for outputting to devices that can't support CIRCULARSTRING geometry types</p><p>Converts a given geometry to a linear geometry. Each curved geometry or segment is converted into a linear approximation using the given `tolerance` and options (32 segments per quadrant and no options by default).</p><p>The 'tolerance_type' argument determines interpretation of the `tolerance` argument. It can take the following values: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>0 (default): Tolerance is max segments per quadrant.</p></li><li class="listitem"><p>1: Tolerance is max-deviation of line from curve, in source units.</p></li><li class="listitem"><p>2: Tolerance is max-angle, in radians, between generating radii.</p></li></ul></div><p>
    </p><p>The 'flags' argument is a bitfield. 0 by default. Supported bits are: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>1: Symmetric (orientation idependent) output.</p></li><li class="listitem"><p>2: Retain angle, avoids reducing angles (segment lengths) when producing symmetric output. Has no effect when Symmetric flag is off.</p></li></ul></div><p>
    </p><p class="availability">Availability: 1.3.0</p><p class="enhanced">Enhanced: 2.4.0 added support for max-deviation and max-angle tolerance, and for symmetric output.</p><p class="enhanced">Enhanced: 3.0.0 implemented a minimum number of segments per linearized arc to prevent topological collapse.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 7.1.7</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm6683"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_CurveToLine(ST_GeomFromText('CIRCULARSTRING(220268 150415,220227 150505,220227 150406)')));

--Result --
 LINESTRING(220268 150415,220269.95064912 150416.539364228,220271.823415575 150418.17258804,220273.613787707 150419.895736857,
 220275.317452352 150421.704659462,220276.930305234 150423.594998003,220278.448460847 150425.562198489,
 220279.868261823 150427.60152176,220281.186287736 150429.708054909,220282.399363347 150431.876723113,
 220283.50456625 150434.10230186,220284.499233914 150436.379429536,220285.380970099 150438.702620341,220286.147650624 150441.066277505,
 220286.797428488 150443.464706771,220287.328738321 150445.892130112,220287.740300149 150448.342699654,
 220288.031122486 150450.810511759,220288.200504713 150453.289621251,220288.248038775 150455.77405574,
 220288.173610157 150458.257830005,220287.977398166 150460.734960415,220287.659875492 150463.199479347,
 220287.221807076 150465.64544956,220286.664248262 150468.066978495,220285.988542259 150470.458232479,220285.196316903 150472.81345077,
 220284.289480732 150475.126959442,220283.270218395 150477.39318505,220282.140985384 150479.606668057,
 220280.90450212 150481.762075989,220279.5637474 150483.85421628,220278.12195122 150485.87804878,
 220276.582586992 150487.828697901,220274.949363179 150489.701464356,220273.226214362 150491.491836488,
 220271.417291757 150493.195501133,220269.526953216 150494.808354014,220267.559752731 150496.326509628,
 220265.520429459 150497.746310603,220263.41389631 150499.064336517,220261.245228106 150500.277412127,
 220259.019649359 150501.38261503,220256.742521683 150502.377282695,220254.419330878 150503.259018879,
 220252.055673714 150504.025699404,220249.657244448 150504.675477269,220247.229821107 150505.206787101,
 220244.779251566 150505.61834893,220242.311439461 150505.909171266,220239.832329968 150506.078553494,
 220237.347895479 150506.126087555,220234.864121215 150506.051658938,220232.386990804 150505.855446946,
 220229.922471872 150505.537924272,220227.47650166 150505.099855856,220225.054972724 150504.542297043,
 220222.663718741 150503.86659104,220220.308500449 150503.074365683,
 220217.994991777 150502.167529512,220215.72876617 150501.148267175,
 220213.515283163 150500.019034164,220211.35987523 150498.7825509,
 220209.267734939 150497.441796181,220207.243902439 150496,
 220205.293253319 150494.460635772,220203.420486864 150492.82741196,220201.630114732 150491.104263143,
 220199.926450087 150489.295340538,220198.313597205 150487.405001997,220196.795441592 150485.437801511,
 220195.375640616 150483.39847824,220194.057614703 150481.291945091,220192.844539092 150479.123276887,220191.739336189 150476.89769814,
 220190.744668525 150474.620570464,220189.86293234 150472.297379659,220189.096251815 150469.933722495,
 220188.446473951 150467.535293229,220187.915164118 150465.107869888,220187.50360229 150462.657300346,
 220187.212779953 150460.189488241,220187.043397726 150457.710378749,220186.995863664 150455.22594426,
 220187.070292282 150452.742169995,220187.266504273 150450.265039585,220187.584026947 150447.800520653,
 220188.022095363 150445.35455044,220188.579654177 150442.933021505,220189.25536018 150440.541767521,
 220190.047585536 150438.18654923,220190.954421707 150435.873040558,220191.973684044 150433.60681495,
 220193.102917055 150431.393331943,220194.339400319 150429.237924011,220195.680155039 150427.14578372,220197.12195122 150425.12195122,
 220198.661315447 150423.171302099,220200.29453926 150421.298535644,220202.017688077 150419.508163512,220203.826610682 150417.804498867,
 220205.716949223 150416.191645986,220207.684149708 150414.673490372,220209.72347298 150413.253689397,220211.830006129 150411.935663483,
 220213.998674333 150410.722587873,220216.22425308 150409.61738497,220218.501380756 150408.622717305,220220.824571561 150407.740981121,
 220223.188228725 150406.974300596,220225.586657991 150406.324522731,220227 150406)

--3d example
SELECT ST_AsEWKT(ST_CurveToLine(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)')));
Output
------
 LINESTRING(220268 150415 1,220269.95064912 150416.539364228 1.0181172856673,
 220271.823415575 150418.17258804 1.03623457133459,220273.613787707 150419.895736857 1.05435185700189,....AD INFINITUM ....
    220225.586657991 150406.324522731 1.32611114201132,220227 150406 3)

--use only 2 segments to approximate quarter circle
SELECT ST_AsText(ST_CurveToLine(ST_GeomFromText('CIRCULARSTRING(220268 150415,220227 150505,220227 150406)'),2));
st_astext
------------------------------
 LINESTRING(220268 150415,220287.740300149 150448.342699654,220278.12195122 150485.87804878,
 220244.779251566 150505.61834893,220207.243902439 150496,220187.50360229 150462.657300346,
 220197.12195122 150425.12195122,220227 150406)

-- Ensure approximated line is no further than 20 units away from
-- original curve, and make the result direction-neutral
SELECT ST_AsText(ST_CurveToLine(
 'CIRCULARSTRING(0 0,100 -100,200 0)'::geometry,
    20, -- Tolerance
    1, -- Above is max distance between curve and line
    1  -- Symmetric flag
));
st_astext
-------------------------------------------------------------------------------------------
 LINESTRING(0 0,50 -86.6025403784438,150 -86.6025403784439,200 -1.1331077795296e-13,200 0)


        </pre></div><div class="refsection" id="idm6686"><h2>Veja também</h2><p><a class="xref" href="#ST_LineToCurve" title="ST_LineToCurve">ST_LineToCurve</a></p></div></div><div class="refentry" id="ST_Scroll"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Scroll — Change start point of a closed LineString.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Scroll</strong>(</code>geometry <var class="pdparam">linestring</var>, geometry <var class="pdparam">point</var><code>)</code>;</p></div></div><div class="refsection" id="idm6705"><h2>Descrição</h2><p>Changes the start/end point of a closed LineString to the given vertex <em class="parameter"><code>point</code></em>. </p><p class="availability">Availability: 3.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports M coordinates. </p></div><div class="refsection" id="idm6718"><h2>Exemplos</h2><p>Make e closed line start at its 3rd vertex</p><pre class="programlisting">SELECT ST_AsEWKT(ST_Scroll('SRID=4326;LINESTRING(0 0 0 1, 10 0 2 0, 5 5 4 2,0 0 0 1)', 'POINT(5 5 4 2)'));

st_asewkt
----------
SRID=4326;LINESTRING(5 5 4 2,0 0 0 1,10 0 2 0,5 5 4 2)
</pre></div><div class="refsection" id="idm6722"><h2>Veja também</h2><p><a class="xref" href="#ST_Normalize" title="ST_Normalize">ST_Normalize</a></p></div></div><div class="refentry" id="ST_FlipCoordinates"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_FlipCoordinates — Returns a version of a geometry with X and Y axis flipped. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_FlipCoordinates</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm6738"><h2>Descrição</h2><p>Returns a version of the given geometry with X and Y axis flipped. Useful for fixing geometries which contain coordinates expressed as latitude/longitude (Y,X).</p><p class="availability">Disponibilidade: 2.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports M coordinates. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm6762"><h2>Exemplo</h2><pre class="programlisting">SELECT ST_AsEWKT(ST_FlipCoordinates(GeomFromEWKT('POINT(1 2)')));
 st_asewkt
------------
POINT(2 1)
         </pre></div><div class="refsection" id="idm6765"><h2>Veja também</h2><p> <a class="xref" href="#ST_SwapOrdinates" title="ST_SwapOrdinates">ST_SwapOrdinates</a> </p></div></div><div class="refentry" id="ST_Force2D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Force2D — Força a geometria para o modo de 2 dimensões.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Force2D</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm6781"><h2>Descrição</h2><p>Força a geometria a possuir apenas duas dimensões, para que todas saídas tenham apenas as coordenadas X e Y. Esta função é útil para forçar geometrias de acordo a norma OGC (a OGC apenas especifica geometrias de duas dimensões).</p><p class="enhanced">Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido.</p><p class="changed">Alterado: 2.1.0. Até versão 2.0.x isto era chamado de ST_Force_2D.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm6798"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsEWKT(ST_Force2D(ST_GeomFromEWKT('CIRCULARSTRING(1 1 2, 2 3 2, 4 5 2, 6 7 2, 5 6 2)')));
                st_asewkt
-------------------------------------
CIRCULARSTRING(1 1,2 3,4 5,6 7,5 6)

SELECT  ST_AsEWKT(ST_Force2D('POLYGON((0 0 2,0 5 2,5 0 2,0 0 2),(1 1 2,3 1 2,1 3 2,1 1 2))'));

                                  st_asewkt
----------------------------------------------
 POLYGON((0 0,0 5,5 0,0 0),(1 1,3 1,1 3,1 1))

                </pre></div><div class="refsection" id="idm6801"><h2>Veja também</h2><p><a class="xref" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a></p></div></div><div class="refentry" id="ST_Force_3D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Force3D — Força a geometria para um modo XYZ. Este é um apelido para a função ST_Force_3DZ.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Force3D</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">Zvalue = 0.0</var><code>)</code>;</p></div></div><div class="refsection" id="idm6820"><h2>Descrição</h2><p>Forces the geometries into XYZ mode. This is an alias for ST_Force3DZ. If a geometry has no Z component, then a <em class="parameter"><code>Zvalue</code></em> Z coordinate is tacked on.</p><p class="enhanced">Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido.</p><p class="changed">Alterado: 2.1.0. Até versão 2.0.x isto era chamado de ST_Force_3D.</p><p class="changed">Changed: 3.1.0. Added support for supplying a non-zero Z value.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm6839"><h2>Exemplos</h2><pre class="programlisting">--Nothing happens to an already 3D geometry
                SELECT ST_AsEWKT(ST_Force3D(ST_GeomFromEWKT('CIRCULARSTRING(1 1 2, 2 3 2, 4 5 2, 6 7 2, 5 6 2)')));
                                   st_asewkt
-----------------------------------------------
 CIRCULARSTRING(1 1 2,2 3 2,4 5 2,6 7 2,5 6 2)


SELECT  ST_AsEWKT(ST_Force3D('POLYGON((0 0,0 5,5 0,0 0),(1 1,3 1,1 3,1 1))'));

                                                 st_asewkt
--------------------------------------------------------------
 POLYGON((0 0 0,0 5 0,5 0 0,0 0 0),(1 1 0,3 1 0,1 3 0,1 1 0))
                </pre></div><div class="refsection" id="idm6842"><h2>Veja também</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>, <a class="xref" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a>, <a class="xref" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a></p></div></div><div class="refentry" id="ST_Force_3DZ"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Force3DZ — Força as geometrias para o modo XYZ.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Force3DZ</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">Zvalue = 0.0</var><code>)</code>;</p></div></div><div class="refsection" id="idm6864"><h2>Descrição</h2><p>Forces the geometries into XYZ mode. If a geometry has no Z component, then a <em class="parameter"><code>Zvalue</code></em> Z coordinate is tacked on.</p><p class="enhanced">Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido.</p><p class="changed">Alterado: 2.1.0. Até versão 2.0.x isto era chamado de ST_Force_3DZ.</p><p class="changed">Changed: 3.1.0. Added support for supplying a non-zero Z value.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm6883"><h2>Exemplos</h2><pre class="programlisting">--Nothing happens to an already 3D geometry
SELECT ST_AsEWKT(ST_Force3DZ(ST_GeomFromEWKT('CIRCULARSTRING(1 1 2, 2 3 2, 4 5 2, 6 7 2, 5 6 2)')));
                                   st_asewkt
-----------------------------------------------
 CIRCULARSTRING(1 1 2,2 3 2,4 5 2,6 7 2,5 6 2)


SELECT  ST_AsEWKT(ST_Force3DZ('POLYGON((0 0,0 5,5 0,0 0),(1 1,3 1,1 3,1 1))'));

                                                 st_asewkt
--------------------------------------------------------------
 POLYGON((0 0 0,0 5 0,5 0 0,0 0 0),(1 1 0,3 1 0,1 3 0,1 1 0))
                </pre></div><div class="refsection" id="idm6886"><h2>Veja também</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>, <a class="xref" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a>, <a class="xref" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a></p></div></div><div class="refentry" id="ST_Force_3DM"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Force3DM — Força as geometrias para o modo XYM.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Force3DM</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">Mvalue = 0.0</var><code>)</code>;</p></div></div><div class="refsection" id="idm6908"><h2>Descrição</h2><p>Forces the geometries into XYM mode. If a geometry has no M component, then a <em class="parameter"><code>Mvalue</code></em> M coordinate is tacked on. If it has a Z component, then Z is removed</p><p class="changed">Alterado: 2.1.0. Até a versão 2.0.x esta função era chamada de ST_Force_3DM.</p><p class="changed">Changed: 3.1.0. Added support for supplying a non-zero M value.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm6918"><h2>Exemplos</h2><pre class="programlisting">--Nothing happens to an already 3D geometry
SELECT ST_AsEWKT(ST_Force3DM(ST_GeomFromEWKT('CIRCULARSTRING(1 1 2, 2 3 2, 4 5 2, 6 7 2, 5 6 2)')));
                                   st_asewkt
------------------------------------------------
 CIRCULARSTRINGM(1 1 0,2 3 0,4 5 0,6 7 0,5 6 0)


SELECT  ST_AsEWKT(ST_Force3DM('POLYGON((0 0 1,0 5 1,5 0 1,0 0 1),(1 1 1,3 1 1,1 3 1,1 1 1))'));

                                                  st_asewkt
---------------------------------------------------------------
 POLYGONM((0 0 0,0 5 0,5 0 0,0 0 0),(1 1 0,3 1 0,1 3 0,1 1 0))

                </pre></div><div class="refsection" id="idm6921"><h2>Veja também</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>, <a class="xref" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a>, <a class="xref" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a></p></div></div><div class="refentry" id="ST_Force_4D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Force4D — Força as geometrias para o modo XYZM. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Force4D</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">Zvalue = 0.0</var>, float  <var class="pdparam">Mvalue = 0.0</var><code>)</code>;</p></div></div><div class="refsection" id="idm6947"><h2>Descrição</h2><p>Forces the geometries into XYZM mode. <em class="parameter"><code>Zvalue</code></em> and <em class="parameter"><code>Mvalue</code></em> is tacked on for missing Z and M dimensions, respectively. </p><p class="changed">Alterado: 2.1.0. Até a versão 2.0.x esta função era chamada ST_Force_4D.</p><p class="changed">Changed: 3.1.0. Added support for supplying non-zero Z and M values.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm6962"><h2>Exemplos</h2><pre class="programlisting">--Nothing happens to an already 3D geometry
SELECT ST_AsEWKT(ST_Force4D(ST_GeomFromEWKT('CIRCULARSTRING(1 1 2, 2 3 2, 4 5 2, 6 7 2, 5 6 2)')));
                                                st_asewkt
---------------------------------------------------------
 CIRCULARSTRING(1 1 2 0,2 3 2 0,4 5 2 0,6 7 2 0,5 6 2 0)



SELECT  ST_AsEWKT(ST_Force4D('MULTILINESTRINGM((0 0 1,0 5 2,5 0 3,0 0 4),(1 1 1,3 1 1,1 3 1,1 1 1))'));

                                                                          st_asewkt
--------------------------------------------------------------------------------------
 MULTILINESTRING((0 0 0 1,0 5 0 2,5 0 0 3,0 0 0 4),(1 1 0 1,3 1 0 1,1 3 0 1,1 1 0 1))

                </pre></div><div class="refsection" id="idm6965"><h2>Veja também</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>, <a class="xref" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a>, <a class="xref" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a></p></div></div><div class="refentry" id="ST_Force_Collection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ForceCollection — Converte a geometria para um GEOMETRYCOLLECTION.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ForceCollection</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm6984"><h2>Descrição</h2><p>Converte a geometria em um GEOMETRYCOLLECTION. Isto é útil para simplificar a representação WKB.</p><p class="enhanced">Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido.</p><p class="availability">Disponibilidade: 1.2.2, antes da versão 1.3.4 esta função irá reportar um erro com curvas. Resolvido na versão 1.3.4+.</p><p class="changed">Alterado: 2.1.0. Até a versão 2.0.x esta função era chamada de ST_Force_Collection.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm7002"><h2>Exemplos</h2><pre class="programlisting">SELECT  ST_AsEWKT(ST_ForceCollection('POLYGON((0 0 1,0 5 1,5 0 1,0 0 1),(1 1 1,3 1 1,1 3 1,1 1 1))'));

                                                                   st_asewkt
----------------------------------------------------------------------------------
 GEOMETRYCOLLECTION(POLYGON((0 0 1,0 5 1,5 0 1,0 0 1),(1 1 1,3 1 1,1 3 1,1 1 1)))


  SELECT ST_AsText(ST_ForceCollection('CIRCULARSTRING(220227 150406,2220227 150407,220227 150406)'));
                                                                   st_astext
--------------------------------------------------------------------------------
 GEOMETRYCOLLECTION(CIRCULARSTRING(220227 150406,2220227 150407,220227 150406))
(1 row)

                </pre><pre class="programlisting">-- POLYHEDRAL example --
SELECT ST_AsEWKT(ST_ForceCollection('POLYHEDRALSURFACE(((0 0 0,0 0 1,0 1 1,0 1 0,0 0 0)),
 ((0 0 0,0 1 0,1 1 0,1 0 0,0 0 0)),
 ((0 0 0,1 0 0,1 0 1,0 0 1,0 0 0)),
 ((1 1 0,1 1 1,1 0 1,1 0 0,1 1 0)),
 ((0 1 0,0 1 1,1 1 1,1 1 0,0 1 0)),
 ((0 0 1,1 0 1,1 1 1,0 1 1,0 0 1)))'))

                                                                   st_asewkt
----------------------------------------------------------------------------------
GEOMETRYCOLLECTION(
  POLYGON((0 0 0,0 0 1,0 1 1,0 1 0,0 0 0)),
  POLYGON((0 0 0,0 1 0,1 1 0,1 0 0,0 0 0)),
  POLYGON((0 0 0,1 0 0,1 0 1,0 0 1,0 0 0)),
  POLYGON((1 1 0,1 1 1,1 0 1,1 0 0,1 1 0)),
  POLYGON((0 1 0,0 1 1,1 1 1,1 1 0,0 1 0)),
  POLYGON((0 0 1,1 0 1,1 1 1,0 1 1,0 0 1))
)
                </pre></div><div class="refsection" id="idm7006"><h2>Veja também</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>, <a class="xref" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a>, <a class="xref" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a></p></div></div><div class="refentry" id="ST_ForceCurve"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ForceCurve — Converte para cima uma geometria para seu tipo curvo, se aplicável.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ForceCurve</strong>(</code>geometry <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm7026"><h2>Descrição</h2><p>Transforma uma geometria em sua representação curva, se aplicável. linhas se transformar em compoundcurves, multi-linhas se transformam em multicurves, polígonos em curvepolygons, multi-polígonos em multisurfaces. Se a entrada já é do tipo curvo, a função retorna a mesma entrada· </p><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm7038"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(
  ST_ForceCurve(
        'POLYGON((0 0 2, 5 0 2, 0 5 2, 0 0 2),(1 1 2, 1 3 2, 3 1 2, 1 1 2))'::geometry
  )
);
                              st_astext
----------------------------------------------------------------------
 CURVEPOLYGON Z ((0 0 2,5 0 2,0 5 2,0 0 2),(1 1 2,1 3 2,3 1 2,1 1 2))
(1 row)</pre></div><div class="refsection" id="idm7041"><h2>Veja também</h2><p><a class="xref" href="#ST_LineToCurve" title="ST_LineToCurve">ST_LineToCurve</a></p></div></div><div class="refentry" id="ST_ForcePolygonCCW"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ForcePolygonCCW  — Orients all exterior rings counter-clockwise and all interior rings clockwise. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef"> geometry <strong class="fsfunc">ST_ForcePolygonCCW</strong> (</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm7057"><h2>Descrição</h2><p>Forces (Multi)Polygons to use a counter-clockwise orientation for their exterior ring, and a clockwise orientation for their interior rings. Non-polygonal geometries are returned unchanged. </p><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports M coordinates. </p></div><div class="refsection" id="idm7069"><h2>Veja também</h2><p><a class="xref" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a>, <a class="xref" href="#ST_IsPolygonCCW" title="ST_IsPolygonCCW">ST_IsPolygonCCW </a>, <a class="xref" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a> </p></div></div><div class="refentry" id="ST_ForcePolygonCW"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ForcePolygonCW  — Orients all exterior rings clockwise and all interior rings counter-clockwise. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef"> geometry <strong class="fsfunc">ST_ForcePolygonCW</strong> (</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm7087"><h2>Descrição</h2><p>Forces (Multi)Polygons to use a clockwise orientation for their exterior ring, and a counter-clockwise orientation for their interior rings. Non-polygonal geometries are returned unchanged. </p><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports M coordinates. </p></div><div class="refsection" id="idm7099"><h2>Veja também</h2><p><a class="xref" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a>, <a class="xref" href="#ST_IsPolygonCCW" title="ST_IsPolygonCCW">ST_IsPolygonCCW </a>, <a class="xref" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a> </p></div></div><div class="refentry" id="ST_ForceSFS"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ForceSFS — Força as geometrias a utilizarem os tipos disponíveis na especificação SFS 1.1.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ForceSFS</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_ForceSFS</strong>(</code>geometry  <var class="pdparam">geomA</var>, text  <var class="pdparam">version</var><code>)</code>;</p></div></div><div class="refsection" id="idm7126"><h2>Descrição</h2><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div></div><div class="refentry" id="ST_ForceRHR"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ForceRHR — Força a orientação dos vértices em um polígono a seguir a regra da mão direita.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ForceRHR</strong>(</code>geometry <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm7156"><h2>Descrição</h2><p>Forces the orientation of the vertices in a polygon to follow a Right-Hand-Rule, in which the area that is bounded by the polygon is to the right of the boundary. In particular, the exterior ring is orientated in a clockwise direction and the interior rings in a counter-clockwise direction. This function is a synonym for <a class="xref" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a></p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The above definition of the Right-Hand-Rule conflicts with definitions used in other contexts. To avoid confusion, it is recommended to use ST_ForcePolygonCW. </p></td></tr></table></div><p class="enhanced">Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm7171"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsEWKT(
  ST_ForceRHR(
        'POLYGON((0 0 2, 5 0 2, 0 5 2, 0 0 2),(1 1 2, 1 3 2, 3 1 2, 1 1 2))'
  )
);
                                                  st_asewkt
--------------------------------------------------------------
 POLYGON((0 0 2,0 5 2,5 0 2,0 0 2),(1 1 2,3 1 2,1 3 2,1 1 2))
(1 row)</pre></div><div class="refsection" id="idm7174"><h2>Veja também</h2><p><a class="xref" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a>, <a class="xref" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a>, <a class="xref" href="#ST_IsPolygonCCW" title="ST_IsPolygonCCW">ST_IsPolygonCCW </a>, <a class="xref" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a>, <a class="xref" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea</a>, <a class="xref" href="#ST_Polygonize" title="ST_Polygonize">ST_Polygonize</a>, <a class="xref" href="#ST_Reverse" title="ST_Reverse">ST_Reverse</a></p></div></div><div class="refentry" id="ST_LineExtend"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineExtend — Returns a line extended forwards and backwards by specified distances.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineExtend</strong>(</code>geometry  <var class="pdparam">line</var>, float  <var class="pdparam">distance_forward</var>, float <var class="pdparam">distance_backward=0.0</var><code>)</code>;</p></div></div><div class="refsection" id="idm7202"><h2>Descrição</h2><p>Returns a line extended forwards and backwards by adding new start (and end) points at the given distance(s). A distance of zero does not add a point. Only non-negative distances are allowed. The direction(s) of the added point(s) is determined by the first (and last) two distinct points of the line. Duplicate points are ignored. </p><p class="availability">Availability: 3.4.0</p></div><div class="refsection" id="idm7206"><h2>Example: Extends a line 5 units forward and 6 units backward</h2><pre class="programlisting">SELECT ST_AsText(ST_LineExtend('LINESTRING(0 0, 0 10)'::geometry, 5, 6));
--------------------------------------------
LINESTRING(0 -6,0 0,0 10,0 15)
</pre></div><div class="refsection" id="idm7209"><h2>Veja também</h2><p><a class="xref" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a>, <a class="xref" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a>, <a class="xref" href="#ST_Project" title="ST_Project">ST_Project</a></p></div></div><div class="refentry" id="ST_LineToCurve"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineToCurve — Converts a linear geometry to a curved geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineToCurve</strong>(</code>geometry  <var class="pdparam">geomANoncircular</var><code>)</code>;</p></div></div><div class="refsection" id="idm7227"><h2>Descrição</h2><p>Converts plain LINESTRING/POLYGON to CIRCULAR STRINGs and Curved Polygons. Note much fewer points are needed to describe the curved equivalent.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If the input LINESTRING/POLYGON is not curved enough to clearly represent a curve, the function will return the same input geometry.</p></td></tr></table></div><p class="availability">Availability: 1.3.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm7241"><h2>Exemplos</h2><pre class="programlisting">-- 2D Example
SELECT ST_AsText(ST_LineToCurve(foo.geom)) As curvedastext,ST_AsText(foo.geom) As non_curvedastext
    FROM (SELECT ST_Buffer('POINT(1 3)'::geometry, 3) As geom) As foo;

curvedatext                                                            non_curvedastext
--------------------------------------------------------------------|-----------------------------------------------------------------
CURVEPOLYGON(CIRCULARSTRING(4 3,3.12132034355964 0.878679656440359, | POLYGON((4 3,3.94235584120969 2.41472903395162,3.77163859753386 1.85194970290473,
1 0,-1.12132034355965 5.12132034355963,4 3))                        |  3.49440883690764 1.33328930094119,3.12132034355964 0.878679656440359,
                                                                    |  2.66671069905881 0.505591163092366,2.14805029709527 0.228361402466141,
                                                                    |  1.58527096604839 0.0576441587903094,1 0,
                                                                    |  0.414729033951621 0.0576441587903077,-0.148050297095264 0.228361402466137,
                                                                    |  -0.666710699058802 0.505591163092361,-1.12132034355964 0.878679656440353,
                                                                    |  -1.49440883690763 1.33328930094119,-1.77163859753386 1.85194970290472
                                                                    |  --ETC-- ,3.94235584120969 3.58527096604839,4 3))

--3D example
SELECT ST_AsText(ST_LineToCurve(geom)) As curved, ST_AsText(geom) AS not_curved
FROM (SELECT ST_Translate(ST_Force3D(ST_Boundary(ST_Buffer(ST_Point(1,3), 2,2))),0,0,3) AS geom) AS foo;

                        curved                        |               not_curved
------------------------------------------------------+---------------------------------------------------------------------
 CIRCULARSTRING Z (3 3 3,-1 2.99999999999999 3,3 3 3) | LINESTRING Z (3 3 3,2.4142135623731 1.58578643762691 3,1 1 3,
                                                      | -0.414213562373092 1.5857864376269 3,-1 2.99999999999999 3,
                                                      | -0.414213562373101 4.41421356237309 3,
                                                      | 0.999999999999991 5 3,2.41421356237309 4.4142135623731 3,3 3 3)
(1 row)
</pre></div><div class="refsection" id="idm7244"><h2>Veja também</h2><p><a class="xref" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a></p></div></div><div class="refentry" id="ST_Multi"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Multi — Restitui a geometria como uma MULTI* geometria.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Multi</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm7260"><h2>Descrição</h2><p>Returns the geometry as a MULTI* geometry collection. If the geometry is already a collection, it is returned unchanged.</p></div><div class="refsection" id="idm7263"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_Multi('POLYGON ((10 30, 30 30, 30 10, 10 10, 10 30))'));
                    st_astext
    -------------------------------------------------
    MULTIPOLYGON(((10 30,30 30,30 10,10 10,10 30)))
</pre></div><div class="refsection" id="idm7266"><h2>Veja também</h2><p><a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a></p></div></div><div class="refentry" id="ST_Normalize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Normalize — Retorna a geometria na sua forma canônica.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Normalize</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm7282"><h2>Descrição</h2><p>Retorna a geometria na sua forma normalizada/canônica. Talvez rearranja vértices em anéis de polígonos, anéis em um polígono, elementos em um complexo de multi-geometria.  </p><p>Mais usada para teste (comparando resultados obtidos e esperados). </p><p class="availability">Disponibilidade: 2.3.0</p></div><div class="refsection" id="idm7287"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_Normalize(ST_GeomFromText(
  'GEOMETRYCOLLECTION(
    POINT(2 3),
    MULTILINESTRING((0 0, 1 1),(2 2, 3 3)),
    POLYGON(
      (0 10,0 0,10 0,10 10,0 10),
      (4 2,2 2,2 4,4 4,4 2),
      (6 8,8 8,8 6,6 6,6 8)
    )
  )'
)));
                                                                     st_astext
----------------------------------------------------------------------------------------------------------------------------------------------------
 GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0),(6 6,8 6,8 8,6 8,6 6),(2 2,4 2,4 4,2 4,2 2)),MULTILINESTRING((2 2,3 3),(0 0,1 1)),POINT(2 3))
(1 row)
                        </pre></div><div class="refsection" id="idm7290"><h2>Veja também</h2><p><a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, </p></div></div><div class="refentry" id="ST_Project"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Project — Returns a point projected from a start point by a distance and bearing (azimuth).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Project</strong>(</code>geometry  <var class="pdparam">g1</var>, float  <var class="pdparam">distance</var>, float  <var class="pdparam">azimuth</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Project</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var>, float  <var class="pdparam">distance</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_Project</strong>(</code>geography  <var class="pdparam">g1</var>, float  <var class="pdparam">distance</var>, float  <var class="pdparam">azimuth</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_Project</strong>(</code>geography  <var class="pdparam">g1</var>, geography  <var class="pdparam">g2</var>, float  <var class="pdparam">distance</var><code>)</code>;</p></div></div><div class="refsection" id="idm7348"><h2>Descrição</h2><p>Returns a point projected from a point along a geodesic using a given distance and azimuth (bearing). This is known as the direct geodesic problem.</p><p>The two-point version uses the path from the first to the second point to implicitly define the azimuth and uses the distance as before.</p><p>The distance is given in meters. Negative values are supported.</p><p>The azimuth (also known as heading or bearing) is given in radians. It is measured clockwise from true north.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>North is azimuth zero (0 degrees)</p></li><li class="listitem"><p>East is azimuth π/2 (90 degrees)</p></li><li class="listitem"><p>South is azimuth π (180 degrees)</p></li><li class="listitem"><p>West is azimuth 3π/2 (270 degrees)</p></li></ul></div><p>Negative azimuth values and values greater than 2π (360 degrees) are supported.</p><p class="availability">Disponibilidade: 2.0.0</p><p class="enhanced">Enhanced: 2.4.0 Allow negative distance and non-normalized azimuth.</p><p class="enhanced">Enhanced: 3.4.0 Allow geometry arguments and two-point form omitting azimuth.</p></div><div class="refsection" id="idm7367"><h2>Example: Projected point at 100,000 meters and bearing 45 degrees </h2><pre class="programlisting">SELECT ST_AsText(ST_Project('POINT(0 0)'::geography, 100000, radians(45.0)));
--------------------------------------------
 POINT(0.635231029125537 0.639472334729198)
</pre></div><div class="refsection" id="idm7370"><h2>Veja também</h2><p><a class="xref" href="#ST_Azimuth" title="ST_Azimuth">ST_Azimuth</a>, <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="link" href="http://www.postgresql.org/docs/current/interactive/functions-math.html" target="_top">PostgreSQL function radians()</a></p></div></div><div class="refentry" id="ST_QuantizeCoordinates"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_QuantizeCoordinates  — Sets least significant bits of coordinates to zero </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef"> geometry <strong class="fsfunc">ST_QuantizeCoordinates</strong> (</code> geometry <var class="pdparam">g</var> ,  int <var class="pdparam">prec_x</var> ,  int <var class="pdparam">prec_y</var> ,  int <var class="pdparam">prec_z</var> ,  int <var class="pdparam">prec_m</var> <code>)</code>;</p></div></div><div class="refsection" id="idm7400"><h2>Descrição</h2><p><code class="code">ST_QuantizeCoordinates</code> determines the number of bits (<code class="code">N</code>) required to represent a coordinate value with a specified number of digits after the decimal point, and then sets all but the <code class="code">N</code> most significant bits to zero. The resulting coordinate value will still round to the original value, but will have improved compressiblity. This can result in a significant disk usage reduction provided that the geometry column is using a <a class="link" href="https://www.postgresql.org/docs/current/static/storage-toast.html#STORAGE-TOAST-ONDISK" target="_top"> compressible storage type</a>. The function allows specification of a different number of digits after the decimal point in each dimension; unspecified dimensions are assumed to have the precision of the <code class="code">x</code> dimension. Negative digits are interpreted to refer digits to the left of the decimal point, (i.e., <code class="code">prec_x=-2</code> will preserve coordinate values to the nearest 100. </p><p>The coordinates produced by <code class="code">ST_QuantizeCoordinates</code> are independent of the geometry that contains those coordinates and the relative position of those coordinates within the geometry. As a result, existing topological relationships between geometries are unaffected by use of this function. The function may produce invalid geometry when it is called with a number of digits lower than the intrinsic precision of the geometry. </p><p class="availability">Availability: 2.5.0</p></div><div class="refsection" id="idm7412"><h2>Technical Background</h2><p>PostGIS stores all coordinate values as double-precision floating point integers, which can reliably represent 15 significant digits. However, PostGIS may be used to manage data that intrinsically has fewer than 15 significant digits. An example is TIGER data, which is provided as geographic coordinates with six digits of precision after the decimal point (thus requiring only nine significant digits of longitude and eight significant digits of latitude.) </p><p>When 15 significant digits are available, there are many possible representations of a number with 9 significant digits. A double precision floating point number uses 52 explicit bits to represent the significand (mantissa) of the coordinate. Only 30 bits are needed to represent a mantissa with 9 significant digits, leaving 22 insignificant bits; we can set their value to anything we like and still end up with a number that rounds to our input value. For example, the value 100.123456 can be represented by the floating point numbers closest to 100.123456000000, 100.123456000001, and 100.123456432199. All are equally valid, in that <code class="code">ST_AsText(geom, 6)</code> will return the same result with any of these inputs. As we can set these bits to any value, <code class="code">ST_QuantizeCoordinates</code> sets the 22 insignificant bits to zero. For a long coordinate sequence this creates a pattern of blocks of consecutive zeros that is compressed by PostgreSQL more efficiently. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Only the on-disk size of the geometry is potentially affected by <code class="code">ST_QuantizeCoordinates</code>. <a class="xref" href="#ST_MemSize" title="ST_MemSize">ST_MemSize</a>, which reports the in-memory usage of the geometry, will return the the same value regardless of the disk space used by a geometry. </p></td></tr></table></div></div><div class="refsection" id="idm7422"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_QuantizeCoordinates('POINT (100.123456 0)'::geometry, 4));
st_astext
-------------------------
POINT(100.123455047607 0)
                        </pre><pre class="programlisting">WITH test AS (SELECT 'POINT (123.456789123456 123.456789123456)'::geometry AS geom)
SELECT
  digits,
  encode(ST_QuantizeCoordinates(geom, digits), 'hex'),
  ST_AsText(ST_QuantizeCoordinates(geom, digits))
FROM test, generate_series(15, -15, -1) AS digits;

digits  |                   encode                   |                st_astext
--------+--------------------------------------------+------------------------------------------
15      | 01010000005f9a72083cdd5e405f9a72083cdd5e40 | POINT(123.456789123456 123.456789123456)
14      | 01010000005f9a72083cdd5e405f9a72083cdd5e40 | POINT(123.456789123456 123.456789123456)
13      | 01010000005f9a72083cdd5e405f9a72083cdd5e40 | POINT(123.456789123456 123.456789123456)
12      | 01010000005c9a72083cdd5e405c9a72083cdd5e40 | POINT(123.456789123456 123.456789123456)
11      | 0101000000409a72083cdd5e40409a72083cdd5e40 | POINT(123.456789123456 123.456789123456)
10      | 0101000000009a72083cdd5e40009a72083cdd5e40 | POINT(123.456789123455 123.456789123455)
9       | 0101000000009072083cdd5e40009072083cdd5e40 | POINT(123.456789123418 123.456789123418)
8       | 0101000000008072083cdd5e40008072083cdd5e40 | POINT(123.45678912336 123.45678912336)
7       | 0101000000000070083cdd5e40000070083cdd5e40 | POINT(123.456789121032 123.456789121032)
6       | 0101000000000040083cdd5e40000040083cdd5e40 | POINT(123.456789076328 123.456789076328)
5       | 0101000000000000083cdd5e40000000083cdd5e40 | POINT(123.456789016724 123.456789016724)
4       | 0101000000000000003cdd5e40000000003cdd5e40 | POINT(123.456787109375 123.456787109375)
3       | 0101000000000000003cdd5e40000000003cdd5e40 | POINT(123.456787109375 123.456787109375)
2       | 01010000000000000038dd5e400000000038dd5e40 | POINT(123.45654296875 123.45654296875)
1       | 01010000000000000000dd5e400000000000dd5e40 | POINT(123.453125 123.453125)
0       | 01010000000000000000dc5e400000000000dc5e40 | POINT(123.4375 123.4375)
-1      | 01010000000000000000c05e400000000000c05e40 | POINT(123 123)
-2      | 01010000000000000000005e400000000000005e40 | POINT(120 120)
-3      | 010100000000000000000058400000000000005840 | POINT(96 96)
-4      | 010100000000000000000058400000000000005840 | POINT(96 96)
-5      | 010100000000000000000058400000000000005840 | POINT(96 96)
-6      | 010100000000000000000058400000000000005840 | POINT(96 96)
-7      | 010100000000000000000058400000000000005840 | POINT(96 96)
-8      | 010100000000000000000058400000000000005840 | POINT(96 96)
-9      | 010100000000000000000058400000000000005840 | POINT(96 96)
-10     | 010100000000000000000058400000000000005840 | POINT(96 96)
-11     | 010100000000000000000058400000000000005840 | POINT(96 96)
-12     | 010100000000000000000058400000000000005840 | POINT(96 96)
-13     | 010100000000000000000058400000000000005840 | POINT(96 96)
-14     | 010100000000000000000058400000000000005840 | POINT(96 96)
-15     | 010100000000000000000058400000000000005840 | POINT(96 96)
</pre></div><div class="refsection" id="idm7426"><h2>Veja também</h2><p><a class="xref" href="#ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a></p></div></div><div class="refentry" id="ST_RemovePoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemovePoint — Remove a point from a linestring.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_RemovePoint</strong>(</code>geometry <var class="pdparam">linestring</var>, integer <var class="pdparam">offset</var><code>)</code>;</p></div></div><div class="refsection" id="idm7445"><h2>Descrição</h2><p>Removes a point from a LineString, given its index (0-based). Useful for turning a closed line (ring) into an open linestring. </p><p class="enhanced">Enhanced: 3.2.0</p><p class="availability">Disponibilidade: 1.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm7454"><h2>Exemplos</h2><p>Guarantees no lines are closed by removing the end point of closed lines (rings). Assumes geom is of type LINESTRING</p><pre class="programlisting">UPDATE sometable
        SET geom = ST_RemovePoint(geom, ST_NPoints(geom) - 1)
        FROM sometable
        WHERE ST_IsClosed(geom);
</pre></div><div class="refsection" id="idm7458"><h2>Veja também</h2><p><a class="xref" href="#ST_AddPoint" title="ST_AddPoint">ST_AddPoint</a>, <a class="xref" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a>, <a class="xref" href="#ST_NumPoints" title="ST_NumPoints">ST_NumPoints</a></p></div></div><div class="refentry" id="ST_RemoveRepeatedPoints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemoveRepeatedPoints — Returns a version of a geometry with duplicate points removed.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_RemoveRepeatedPoints</strong>(</code>geometry <var class="pdparam">geom</var>, float8 <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm7479"><h2>Descrição</h2><p>Returns a version of the given geometry with duplicate consecutive points removed. The function processes only (Multi)LineStrings, (Multi)Polygons and MultiPoints but it can be called with any kind of geometry. Elements of GeometryCollections are processed individually. The endpoints of LineStrings are preserved. </p><p>If the <em class="parameter"><code>tolerance</code></em> parameter is provided, vertices within the tolerance distance of one another are considered to be duplicates.</p><p class="enhanced">Enhanced: 3.2.0</p><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm7494"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText( ST_RemoveRepeatedPoints( 'MULTIPOINT ((1 1), (2 2), (3 3), (2 2))'));
-------------------------
 MULTIPOINT(1 1,2 2,3 3)
</pre><pre class="programlisting">SELECT ST_AsText( ST_RemoveRepeatedPoints( 'LINESTRING (0 0, 0 0, 1 1, 0 0, 1 1, 2 2)'));
---------------------------------
 LINESTRING(0 0,1 1,0 0,1 1,2 2)
</pre><p><span class="bold"><strong>Example:</strong></span> Collection elements are processed individually. </p><pre class="programlisting">SELECT ST_AsText( ST_RemoveRepeatedPoints( 'GEOMETRYCOLLECTION (LINESTRING (1 1, 2 2, 2 2, 3 3), POINT (4 4), POINT (4 4), POINT (5 5))'));
------------------------------------------------------------------------------
 GEOMETRYCOLLECTION(LINESTRING(1 1,2 2,3 3),POINT(4 4),POINT(4 4),POINT(5 5))
</pre><p><span class="bold"><strong>Example:</strong></span> Repeated point removal with a distance tolerance. </p><pre class="programlisting">SELECT ST_AsText( ST_RemoveRepeatedPoints( 'LINESTRING (0 0, 0 0, 1 1, 5 5, 1 1, 2 2)', 2));
-------------------------
 LINESTRING(0 0,5 5,2 2)
</pre></div><div class="refsection" id="idm7504"><h2>Veja também</h2><p><a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a></p></div></div><div class="refentry" id="ST_RemoveIrrelevantPointsForView"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemoveIrrelevantPointsForView — Removes points that are irrelevant for rendering a specific rectangluar view of a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_RemoveIrrelevantPointsForView</strong>(</code>geometry  <var class="pdparam">geom</var>, box2d  <var class="pdparam">bounds</var>, boolean <var class="pdparam">cartesian_hint = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm7526"><h2>Descrição</h2><p>Returns a <a class="xref" href="#geometry" title="geometry">geometry</a> without points being irrelevant for rendering the geometry within a given rectangluar view.</p><p>This function can be used to quickly preprocess geometries that should be rendered only within certain bounds.</p><p>Only geometries of type (MULTI)POLYGON and (MULTI)LINESTRING are evaluated. Other geometries keep unchanged.</p><p>In contrast to <code class="code">ST_ClipByBox2D()</code> this function </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>sorts out points without computing new intersection points which avoids rounding errors and usually increases performance,</p></li><li class="listitem"><p>returns a geometry with equal or similar point number,</p></li><li class="listitem"><p>leads to the same rendering result within the specified view, and</p></li><li class="listitem"><p>may introduce self-intersections which would make the resulting geometry invalid (see example below).</p></li></ul></div><p>
		</p><p>If <code class="code">cartesian_hint</code> is set to <code class="code">true</code>, the algorithm applies additional optimizations involving cartesian math to further reduce the resulting point number. Please note that using this option might introduce rendering artifacts if the resulting coordinates are projected into another (non-cartesian) coordinate system before rendering. </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>For polygons, this function does currently not ensure that the result is valid. This situation can be checked with <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a> and repaired with <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a>. </p></td></tr></table></div><p>
			</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_removeirrelevantpointsforview.png"/><div class="caption"><p>Example: ST_RemoveIrrelevantPointsForView() applied to a polygon. Blue points remain, the rendering result (light-blue area) within the grey view box remains as well.</p></div></div></div><p>
		</p><p>
			</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_removeirrelevantpointsforview_crossing.png"/><div class="caption"><p>Example: Due to the fact that points are just sorted out and no new points are computed, the result of ST_RemoveIrrelevantPointsForView() may contain self-intersections.</p></div></div></div><p>
		</p><p class="availability">Availability: 3.5.0</p></div><div class="refsection" id="idm7565"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(
                        ST_RemoveIrrelevantPointsForView(
                        ST_GeomFromText('MULTIPOLYGON(((10 10, 20 10, 30 10, 40 10, 20 20, 10 20, 10 10)),((10 10, 20 10, 20 20, 10 20, 10 10)))'),
                        ST_MakeEnvelope(12,12,18,18), true));
                
                st_astext
                ---------
                    MULTIPOLYGON(((10 10,40 10,20 20,10 20,10 10)),((10 10,20 10,20 20,10 20,10 10)))
                </pre><pre class="programlisting">SELECT ST_AsText(
                        ST_RemoveIrrelevantPointsForView(
                        ST_GeomFromText('MULTILINESTRING((0 0, 10 0,20 0,30 0), (0 15, 5 15, 10 15, 15 15, 20 15, 25 15, 30 15, 40 15), (13 13,15 15,17 17))'),
                        ST_MakeEnvelope(12,12,18,18), true));
                
                st_astext
                ---------
                        MULTILINESTRING((10 15,15 15,20 15),(13 13,15 15,17 17))
                </pre><pre class="programlisting">SELECT ST_AsText(
                        ST_RemoveIrrelevantPointsForView(
                        ST_GeomFromText('LINESTRING(0 0, 10 0,20 0,30 0)'),
                        ST_MakeEnvelope(12,12,18,18), true));
                
                st_astext
                ---------
                    LINESTRING EMPTY
                </pre><pre class="programlisting">SELECT ST_AsText(
                        ST_RemoveIrrelevantPointsForView(
                        ST_GeomFromText('POLYGON((0 30, 15 30, 30 30, 30 0, 0 0, 0 30))'),
                        ST_MakeEnvelope(12,12,18,18), true));
                
                st_astext
                ---------
                    POLYGON((15 30,30 0,0 0,15 30))
                </pre><pre class="programlisting">SELECT ST_AsText(
                        ST_RemoveIrrelevantPointsForView(
                        ST_GeomFromText('POLYGON((0 30, 15 30, 30 30, 30 0, 0 0, 0 30))'),
                        ST_MakeEnvelope(12,12,18,18)));
                
                st_astext
                ---------
                    POLYGON((0 30,30 30,30 0,0 0,0 30))
                </pre></div><div class="refsection" id="idm7572"><h2>Veja também</h2><p><a class="xref" href="#ST_ClipByBox2D" title="ST_ClipByBox2D">ST_ClipByBox2D</a>, <a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a></p></div></div><div class="refentry" id="ST_RemoveSmallParts"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemoveSmallParts — Removes small parts (polygon rings or linestrings) of a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_RemoveSmallParts</strong>(</code>geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">minSizeX</var>, double precision  <var class="pdparam">minSizeY</var><code>)</code>;</p></div></div><div class="refsection" id="idm7595"><h2>Descrição</h2><p>Returns a <a class="xref" href="#geometry" title="geometry">geometry</a> without small parts (exterior or interior polygon rings, or linestrings).</p><p>This function can be used as preprocessing step for creating simplified maps, e. g. to remove small islands or holes.</p><p>It evaluates only geometries of type (MULTI)POLYGON and (MULTI)LINESTRING. Other geometries remain unchanged.</p><p>If <em class="parameter"><code>minSizeX</code></em> is greater than 0, parts are sorted out if their width is smaller than <em class="parameter"><code>minSizeX</code></em>.</p><p>If <em class="parameter"><code>minSizeY</code></em> is greater than 0, parts are sorted out if their height is smaller than <em class="parameter"><code>minSizeY</code></em>.</p><p>Both <em class="parameter"><code>minSizeX</code></em> and <em class="parameter"><code>minSizeY</code></em> are measured in coordinate system units of the geometry.</p><p>For polygon types, evaluation is done separately for each ring which can lead to one of the following results: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>the original geometry,</p></li><li class="listitem"><p>a POLYGON with all rings with less vertices,</p></li><li class="listitem"><p>a POLYGON with a reduced number of interior rings (having possibly less vertices),</p></li><li class="listitem"><p>a POLYGON EMPTY, or</p></li><li class="listitem"><p>a MULTIPOLYGON with a reduced number of polygons (having possibly less interior rings or vertices), or</p></li><li class="listitem"><p>a MULTIPOLYGON EMPTY.</p></li></ul></div><p>
		</p><p>For linestring types, evaluation is done for each linestring which can lead to one of the following results: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>the original geometry,</p></li><li class="listitem"><p>a LINESTRING with a reduced number of vertices,</p></li><li class="listitem"><p>a LINESTRING EMPTY,</p></li><li class="listitem"><p>a MULTILINESTRING with a reduced number of linestrings (having possibly less vertices), or</p></li><li class="listitem"><p>a MULTILINESTRING EMPTY.</p></li></ul></div><p>
		</p><p>
            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_removesmallparts.png"/><div class="caption"><p>Example: ST_RemoveSmallParts() applied to a multi-polygon. Blue parts remain.</p></div></div></div><p>
        </p><p class="availability">Availability: 3.5.0</p></div><div class="refsection" id="idm7644"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(
                        ST_RemoveSmallParts(
                        ST_GeomFromText('MULTIPOLYGON(
                                ((60 160, 120 160, 120 220, 60 220, 60 160), (70 170, 70 210, 110 210, 110 170, 70 170)),
                                ((85 75, 155 75, 155 145, 85 145, 85 75)),
                                ((50 110, 70 110, 70 130, 50 130, 50 110)))'),
                                50, 50));
                
                st_astext
                ---------
                        MULTIPOLYGON(((60 160,120 160,120 220,60 220,60 160)),((85 75,155 75,155 145,85 145,85 75)))
                </pre><pre class="programlisting">SELECT ST_AsText(
                        ST_RemoveSmallParts(
                        ST_GeomFromText('LINESTRING(10 10, 20 20)'),
                                50, 50));
                
                st_astext
                ---------
                        LINESTRING EMPTY
                </pre></div></div><div class="refentry" id="ST_Reverse"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Reverse — Retorna a geometria com a ordem dos vértices revertida.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Reverse</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm7660"><h2>Descrição</h2><p>Pode ser usado em qualquer geometria e reverte a ordem dos vértices.</p><p class="enhanced">Enhanced: 2.4.0 support for curves was introduced.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm7672"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(geom) as line, ST_AsText(ST_Reverse(geom)) As reverseline
FROM
(SELECT ST_MakeLine(ST_Point(1,2),
                ST_Point(1,10)) As geom) as foo;
--result
                line         |     reverseline
---------------------+----------------------
LINESTRING(1 2,1 10) | LINESTRING(1 10,1 2)
</pre></div></div><div class="refentry" id="ST_Segmentize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Segmentize — Returns a modified geometry/geography having no segment longer than a given distance.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Segmentize</strong>(</code>geometry  <var class="pdparam">geom</var>, float  <var class="pdparam">max_segment_length</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_Segmentize</strong>(</code>geography  <var class="pdparam">geog</var>, float  <var class="pdparam">max_segment_length</var><code>)</code>;</p></div></div><div class="refsection" id="idm7699"><h2>Descrição</h2><p>Returns a modified geometry/geography having no segment longer than <code class="varname">max_segment_length</code>. Length is computed in 2D. Segments are always split into equal-length subsegments. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>For geometry, the maximum length is in the units of the spatial reference system. </p></li><li class="listitem"><p>For geography, the maximum length is in meters. Distances are computed on the sphere. Added vertices are created along the spherical great-circle arcs defined by segment endpoints. </p></li></ul></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This only shortens long segments. It does not lengthen segments shorter than the maximum length. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>For inputs containing long segments, specifying a relatively short <code class="varname">max_segment_length</code> can cause a very large number of vertices to be added. This can happen unintentionally if the argument is specified accidentally as a number of segments, rather than a maximum length. </p></td></tr></table></div><p class="availability">Disponibilidade: 1.2.2</p><p class="enhanced">Enhanced: 3.0.0 Segmentize geometry now produces equal-length subsegments</p><p class="enhanced">Enhanced: 2.3.0 Segmentize geography now produces equal-length subsegments</p><p class="enhanced">Melhorias: 2.1.0 suporte para geografia foi introduzido.</p><p class="changed">Changed: 2.1.0 As a result of the introduction of geography support, the usage <code class="code">ST_Segmentize('LINESTRING(1 2, 3 4)', 0.5)</code> causes an ambiguous function error. The input needs to be properly typed as a geometry or geography. Use ST_GeomFromText, ST_GeogFromText or a cast to the required type (e.g. <code class="code">ST_Segmentize('LINESTRING(1 2, 3 4)'::geometry, 0.5) )</code></p></div><div class="refsection" id="idm7720"><h2>Exemplos</h2><p>Segmentizing a line. Long segments are split evenly, and short segments are not split.</p><pre class="programlisting">SELECT ST_AsText(ST_Segmentize(
    'MULTILINESTRING((0 0, 0 1, 0 9),(1 10, 1 18))'::geometry,
        5 ) );
---------------------------------------------------
MULTILINESTRING((0 0,0 1,0 5,0 9),(1 10,1 14,1 18))
</pre><p>Segmentizing a polygon:</p><pre class="programlisting">SELECT ST_AsText(
        ST_Segmentize(('POLYGON((0 0, 0 8, 30 0, 0 0))'::geometry), 10));
-------------------------------------------------------
POLYGON((0 0,0 8,7.5 6,15 4,22.5 2,30 0,20 0,10 0,0 0))
</pre><p>Segmentizing a geographic line, using a maximum segment length of 2000 kilometers. Vertices are added along the great-circle arc connecting the endpoints. </p><pre class="programlisting">SELECT ST_AsText(
        ST_Segmentize(('LINESTRING (0 0, 60 60)'::geography), 2000000));
-------------------------------------------------------------
LINESTRING(0 0,4.252632294621186 8.43596525986862,8.69579947419404 16.824093489701564,13.550465473227048 25.107950473646188,19.1066053508691 33.21091076089908,25.779290201459894 41.01711439406505,34.188839517966954 48.337222885886,45.238153936612264 54.84733442373889,60 60)
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_segmentize01.png"/><div class="caption"><p>A geographic line segmentized along a great circle arc</p></div></div></div></div><div class="refsection" id="idm7734"><h2>Veja também</h2><p><a class="xref" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a></p></div></div><div class="refentry" id="ST_SetPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetPoint — Substitui ponto de uma linestring com um dado ponto.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SetPoint</strong>(</code>geometry <var class="pdparam">linestring</var>, integer <var class="pdparam">zerobasedposition</var>, geometry <var class="pdparam">point</var><code>)</code>;</p></div></div><div class="refsection" id="idm7756"><h2>Descrição</h2><p>Substitui ponto N de linstring com um dado ponto. Index é de base 0. Index negativo são contados atrasados, logo -1 é o último ponto. Isso é especialmente usado em causas tentando manter relações juntas quando um vértice se move. </p><p class="availability">Disponibilidade: 1.1.0</p><p>Atualizado 2.3.0: indexing negativo</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm7765"><h2>Exemplos</h2><pre class="programlisting">--Change first point in line string from -1 3 to -1 1
SELECT ST_AsText(ST_SetPoint('LINESTRING(-1 2,-1 3)', 0, 'POINT(-1 1)'));
           st_astext
-----------------------
 LINESTRING(-1 1,-1 3)

---Change last point in a line string (lets play with 3d linestring this time)
SELECT ST_AsEWKT(ST_SetPoint(foo.geom, ST_NumPoints(foo.geom) - 1, ST_GeomFromEWKT('POINT(-1 1 3)')))
FROM (SELECT ST_GeomFromEWKT('LINESTRING(-1 2 3,-1 3 4, 5 6 7)') As geom) As foo;
           st_asewkt
-----------------------
LINESTRING(-1 2 3,-1 3 4,-1 1 3)

SELECT ST_AsText(ST_SetPoint(g, -3, p))
FROM ST_GEomFromText('LINESTRING(0 0, 1 1, 2 2, 3 3, 4 4)') AS g
        , ST_PointN(g,1) as p;
           st_astext
-----------------------
LINESTRING(0 0,1 1,0 0,3 3,4 4)

                        </pre></div><div class="refsection" id="idm7768"><h2>Veja também</h2><p><a class="xref" href="#ST_AddPoint" title="ST_AddPoint">ST_AddPoint</a>, <a class="xref" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a>, <a class="xref" href="#ST_NumPoints" title="ST_NumPoints">ST_NumPoints</a>, <a class="xref" href="#ST_PointN" title="ST_PointN">ST_PointN</a>, <a class="xref" href="#ST_RemovePoint" title="ST_RemovePoint">ST_RemovePoint</a></p></div></div><div class="refentry" id="ST_ShiftLongitude"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ShiftLongitude — Shifts the longitude coordinates of a geometry between -180..180 and 0..360.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ShiftLongitude</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm7788"><h2>Descrição</h2><p>Reads every point/vertex in a geometry, and shifts its longitude coordinate from -180..0 to 180..360 and vice versa if between these ranges. This function is symmetrical so the result is a 0..360 representation of a -180..180 data and a -180..180 representation of a 0..360 data. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This is only useful for data with coordinates in longitude/latitude; e.g. SRID 4326 (WGS 84 geographic)</p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pre-1.3.4 bug impediu de funcionar para MULTIPONTO. 1.3.4+ funciona com MULTIPONTO também.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas e TIN foi introduzido.</p><p>NOTA: esta função foi renomeada da "ST_Shift_Longitude" em 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm7809"><h2>Exemplos</h2><pre class="programlisting">--single point forward transformation
SELECT ST_AsText(ST_ShiftLongitude('SRID=4326;POINT(270 0)'::geometry))

st_astext
----------
POINT(-90 0)


--single point reverse transformation
SELECT ST_AsText(ST_ShiftLongitude('SRID=4326;POINT(-90 0)'::geometry))

st_astext
----------
POINT(270 0)


--for linestrings the functions affects only to the sufficient coordinates
SELECT ST_AsText(ST_ShiftLongitude('SRID=4326;LINESTRING(174 12, 182 13)'::geometry))

st_astext
----------
LINESTRING(174 12,-178 13)
        </pre></div><div class="refsection" id="idm7812"><h2>Veja também</h2><p>
      <a class="xref" href="#ST_WrapX" title="ST_WrapX">ST_WrapX</a>
    </p></div></div><div class="refentry" id="ST_WrapX"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_WrapX — Envolve uma geometria em torno de um valor X.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_WrapX</strong>(</code>geometry  <var class="pdparam">geom</var>, float8  <var class="pdparam">wrap</var>, float8  <var class="pdparam">move</var><code>)</code>;</p></div></div><div class="refsection" id="idm7834"><h2>Descrição</h2><p>This function splits the input geometries and then moves every resulting component falling on the right (for negative 'move') or on the left (for positive 'move') of given 'wrap' line in the direction specified by the 'move' parameter, finally re-unioning the pieces together. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Isto é útil para "recenter" entrada de long-lat para ter características de interesse não gerados de um lado para o outro. </p></td></tr></table></div><p class="availability">Availability: 2.3.0 requires GEOS</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm7844"><h2>Exemplos</h2><pre class="programlisting">-- Move all components of the given geometries whose bounding box
-- falls completely on the left of x=0 to +360
select ST_WrapX(geom, 0, 360);

-- Move all components of the given geometries whose bounding box
-- falls completely on the left of x=-30 to +360
select ST_WrapX(geom, -30, 360);
        </pre></div><div class="refsection" id="idm7847"><h2>Veja também</h2><p><a class="xref" href="#ST_ShiftLongitude" title="ST_ShiftLongitude">ST_ShiftLongitude</a></p></div></div><div class="refentry" id="ST_SnapToGrid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SnapToGrid — Rompe todos os pontos da geometria de entrada para uma rede regular. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SnapToGrid</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">originX</var>, float  <var class="pdparam">originY</var>, float  <var class="pdparam">sizeX</var>, float  <var class="pdparam">sizeY</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_SnapToGrid</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">sizeX</var>, float  <var class="pdparam">sizeY</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_SnapToGrid</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">size</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_SnapToGrid</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">pointOrigin</var>, float  <var class="pdparam">sizeX</var>, float  <var class="pdparam">sizeY</var>, float  <var class="pdparam">sizeZ</var>, float  <var class="pdparam">sizeM</var><code>)</code>;</p></div></div><div class="refsection" id="idm7917"><h2>Descrição</h2><p>Variante1,2,3: Rompe todos os pontos da geometria de entrada para a rede definida por sua origem e tamanho da célula. Remove pontos consecutivos caindo na mesma célula, finalmente retornando NULO se os pontos de saída não são suficientes para definir uma geometria do tipo dado. Geometrias colapsadas em uma coleção são desguarnecidas disso. Útil para reduzi a precisão.  </p><p>Variante4: Introduzido 1.1.0 - Rompe todos os pontos da geometria de entrada para a rede definida por sua origem (o segundo argumento deve ser um ponto) e tamanhos de células. Especifica 0 como um tamanho para qualquer dimensão que você não quer romper para uma rede.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A geometria de retorno pode perder sua simplicidade (veja <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>).</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Antes de lançar 1.1.0, essa função sempre retornou uma geometria 2d. Começando em 1.1.0 a geometria de retorno terá a mesma dimensionalidade da entrada com maiores valores intocados de dimensão. Use a versão pegando um segundo argumento de geometria para definir todas as dimensões de rede.  </p></td></tr></table></div><p class="availability">Disponibilidade: 1.0.0RC1</p><p class="availability">Disponibilidade: 1.1.0 - suporte a Z e M</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm7932"><h2>Exemplos</h2><pre class="programlisting">--Snap your geometries to a precision grid of 10^-3
UPDATE mytable
   SET geom = ST_SnapToGrid(geom, 0.001);

SELECT ST_AsText(ST_SnapToGrid(
                        ST_GeomFromText('LINESTRING(1.1115678 2.123, 4.111111 3.2374897, 4.11112 3.23748667)'),
                        0.001)
                );
                          st_astext
-------------------------------------
 LINESTRING(1.112 2.123,4.111 3.237)
 --Snap a 4d geometry
SELECT ST_AsEWKT(ST_SnapToGrid(
        ST_GeomFromEWKT('LINESTRING(-1.1115678 2.123 2.3456 1.11111,
                4.111111 3.2374897 3.1234 1.1111, -1.11111112 2.123 2.3456 1.1111112)'),
 ST_GeomFromEWKT('POINT(1.12 2.22 3.2 4.4444)'),
 0.1, 0.1, 0.1, 0.01) );
                                                                  st_asewkt
------------------------------------------------------------------------------
 LINESTRING(-1.08 2.12 2.3 1.1144,4.12 3.22 3.1 1.1144,-1.08 2.12 2.3 1.1144)


--With a 4d geometry - the ST_SnapToGrid(geom,size) only touches x and y coords but keeps m and z the same
SELECT ST_AsEWKT(ST_SnapToGrid(ST_GeomFromEWKT('LINESTRING(-1.1115678 2.123 3 2.3456,
                4.111111 3.2374897 3.1234 1.1111)'),
           0.01)      );
                                                st_asewkt
---------------------------------------------------------
 LINESTRING(-1.11 2.12 3 2.3456,4.11 3.24 3.1234 1.1111)

                </pre></div><div class="refsection" id="idm7935"><h2>Veja também</h2><p><a class="xref" href="#ST_Snap" title="ST_Snap">ST_Snap</a>, <a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a> </p></div></div><div class="refentry" id="ST_Snap"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Snap — Rompe segmentos e vértices de geometria de entrada para vértices de uma geometria de referência. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Snap</strong>(</code>geometry  <var class="pdparam">input</var>, geometry  <var class="pdparam">reference</var>, float  <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm7962"><h2>Descrição</h2><p>Snaps the vertices and segments of a geometry to another Geometry's vertices. A snap distance tolerance is used to control where snapping is performed. The result geometry is the input geometry with the vertices snapped. If no snapping occurs then the input geometry is returned unchanged. </p><p>Romper uma geometria para outra pode melhorar robusteza para operações de cobertura eliminando limites quase coincidentes (os quais causam problemas durante o sinal e cálculo de intersecção).  </p><p>Romper muito pode resultar na criação de topologia inválida, então o número e localização dos vértices rompidos  são decididos usando heurísticos para determinar quando é seguro romper. Entretanto, isso pode resultar em alguns rompimentos potencialmente omitidos.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A geometria devolvida pode perder  sua simplicidade (veja <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>) e validade (veja <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>). </p></td></tr></table></div><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm7973"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="column1"/><col class="column2"/></colgroup><tbody><tr><td style="text-align: center; border-bottom: 1px solid ; " colspan="2"><div class="informalfigure"><div class="mediaobject"><img src="images/st_snap01.png"/><div class="caption"><p>Um multi polígono apresentado com uma linestring (antes de qualquer rompimento)</p></div></div></div>
					   </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_snap02.png"/><div class="caption"><p>Um multi polígono rompido para linestring para tolerância: 1.01 de distância. O novo multi polígono é mostrado com linestring de referência</p></div></div></div><p>
				</p><pre class="programlisting">SELECT ST_AsText(ST_Snap(poly,line, ST_Distance(poly,line)*1.01)) AS polysnapped
FROM (SELECT
   ST_GeomFromText('MULTIPOLYGON(
     ((26 125, 26 200, 126 200, 126 125, 26 125 ),
      ( 51 150, 101 150, 76 175, 51 150 )),
      (( 151 100, 151 200, 176 175, 151 100 )))') As poly,
       ST_GeomFromText('LINESTRING (5 107, 54 84, 101 100)') As line
        ) As foo;

                             polysnapped
---------------------------------------------------------------------
 MULTIPOLYGON(((26 125,26 200,126 200,126 125,101 100,26 125),
 (51 150,101 150,76 175,51 150)),((151 100,151 200,176 175,151 100)))
                                </pre>
					</td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_snap04.png"/><div class="caption"><p>Um multi polígono rompido para linestring para tolerância: 1.25 de distância. O novo multi polígono é mostrado com linestring de referência</p></div></div></div><p>
				</p><pre class="programlisting">SELECT ST_AsText(
    ST_Snap(poly,line, ST_Distance(poly,line)*1.25)
  ) AS polysnapped
FROM (SELECT
  ST_GeomFromText('MULTIPOLYGON(
    (( 26 125, 26 200, 126 200, 126 125, 26 125 ),
      ( 51 150, 101 150, 76 175, 51 150 )),
      (( 151 100, 151 200, 176 175, 151 100 )))') As poly,
       ST_GeomFromText('LINESTRING (5 107, 54 84, 101 100)') As line
        ) As foo;

                             polysnapped
---------------------------------------------------------------------
MULTIPOLYGON(((5 107,26 200,126 200,126 125,101 100,54 84,5 107),
(51 150,101 150,76 175,51 150)),((151 100,151 200,176 175,151 100)))
                                </pre>
						</td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_snap03.png"/><div class="caption"><p>A linestring rompida para o multi polígono original em tolerância de 1.01 de distância. As nova linestring é mostrada com multi polígono de referência </p></div></div></div><p>
				</p><pre class="programlisting">SELECT ST_AsText(
   ST_Snap(line, poly, ST_Distance(poly,line)*1.01)
  ) AS linesnapped
FROM (SELECT
  ST_GeomFromText('MULTIPOLYGON(
     ((26 125, 26 200, 126 200, 126 125, 26 125),
      (51 150, 101 150, 76 175, 51 150 )),
      ((151 100, 151 200, 176 175, 151 100)))') As poly,
       ST_GeomFromText('LINESTRING (5 107, 54 84, 101 100)') As line
        ) As foo;

              linesnapped
----------------------------------------
 LINESTRING(5 107,26 125,54 84,101 100)
                                </pre><p>
						  </p>
					</td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_snap05.png"/><div class="caption"><p>A linestring rompida para o polígono original de tolerância 1.25 de distância. A nova linestring é mostrada com multi polígono de referência</p></div></div></div><p>
				</p><pre class="programlisting">SELECT ST_AsText(
 ST_Snap(line, poly, ST_Distance(poly,line)*1.25)
  ) AS linesnapped
FROM (SELECT
  ST_GeomFromText('MULTIPOLYGON(
     (( 26 125, 26 200, 126 200, 126 125, 26 125 ),
      (51 150, 101 150, 76 175, 51 150 )),
      ((151 100, 151 200, 176 175, 151 100 )))') As poly,
       ST_GeomFromText('LINESTRING (5 107, 54 84, 101 100)') As line
        ) As foo;
              linesnapped
---------------------------------------
LINESTRING(26 125,54 84,101 100)
                                </pre>
					</td></tr></tbody></table></div></div><div class="refsection" id="idm8028"><h2>Veja também</h2><p>
		<a class="xref" href="#ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a>
		</p></div></div><div class="refentry" id="ST_SwapOrdinates"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SwapOrdinates — Retorna uma versão da geometria dada com os valores ordenados dados trocados. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SwapOrdinates</strong>(</code>geometry <var class="pdparam">geom</var>, cstring <var class="pdparam">ords</var><code>)</code>;</p></div></div><div class="refsection" id="idm8047"><h2>Descrição</h2><p>Retorna uma versão da geometria dada com as ordenadas dadas trocadas. </p><p>O parâmetro <code class="varname">ords</code> é uma string de 2-caracteres nomeando as ordenadas para trocar. Os nomes válidos são: x,y,z e m. </p><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports M coordinates. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm8073"><h2>Exemplo</h2><pre class="programlisting">-- Scale M value by 2
SELECT ST_AsText(
  ST_SwapOrdinates(
    ST_Scale(
      ST_SwapOrdinates(g,'xm'),
      2, 1
    ),
  'xm')
) FROM ( SELECT 'POINT ZM (0 0 0 2)'::geometry g ) foo;
     st_astext
--------------------
 POINT ZM (0 0 0 4)
                 </pre></div><div class="refsection" id="idm8076"><h2>Veja também</h2><p> <a class="xref" href="#ST_FlipCoordinates" title="ST_FlipCoordinates">ST_FlipCoordinates</a> </p></div></div></section><section class="section" id="Geometry_Validation"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.6. Geometry Validation</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions test whether geometries are valid according to the OGC SFS standard. They also provide information about the nature and location of invalidity. There is also a function to create a valid geometry out of an invalid one. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_IsValid">ST_IsValid</a></span><span class="refpurpose"> — Tests if a geometry is well-formed in 2D. </span></li><li><span class="refentrytitle"><a href="#ST_IsValidDetail">ST_IsValidDetail</a></span><span class="refpurpose"> — Returns a <code class="varname">valid_detail</code> row stating if a geometry is valid or if not a reason and a location.</span></li><li><span class="refentrytitle"><a href="#ST_IsValidReason">ST_IsValidReason</a></span><span class="refpurpose"> — Returns text stating if a geometry is valid, or a reason for invalidity.</span></li><li><span class="refentrytitle"><a href="#ST_MakeValid">ST_MakeValid</a></span><span class="refpurpose"> — Attempts to make an invalid geometry valid without losing vertices.</span></li></ul></div><div class="refentry" id="ST_IsValid"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsValid — Tests if a geometry is well-formed in 2D. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsValid</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsValid</strong>(</code>geometry  <var class="pdparam">g</var>, integer  <var class="pdparam">flags</var><code>)</code>;</p></div></div><div class="refsection" id="idm8106"><h2>Descrição</h2><p>Tests if an ST_Geometry value is well-formed and valid in 2D according to the OGC rules. For geometries with 3 and 4 dimensions, the validity is still only tested in 2 dimensions. For geometries that are invalid, a PostgreSQL NOTICE is emitted providing details of why it is not valid. </p><p>For the version with the <code class="varname">flags</code> parameter, supported values are documented in <a class="xref" href="#ST_IsValidDetail" title="ST_IsValidDetail">ST_IsValidDetail</a> This version does not print a NOTICE explaining invalidity. </p><p>For more information on the definition of geometry validity, refer to <a class="xref" href="#OGC_Validity" title="4.4. Geometry Validation">Section 4.4, “Geometry Validation”</a> </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>SQL-MM defines the result of ST_IsValid(NULL) to be 0, while PostGIS returns NULL.</p></td></tr></table></div><p>Desempenhado pelo módulo GEOS.</p><p>The version accepting flags is available starting with 2.0.0. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.9</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Neither OGC-SFS nor SQL-MM specifications include a flag argument for ST_IsValid. The flag is a PostGIS extension. </p></td></tr></table></div></div><div class="refsection" id="idm8129"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_IsValid(ST_GeomFromText('LINESTRING(0 0, 1 1)')) As good_line,
        ST_IsValid(ST_GeomFromText('POLYGON((0 0, 1 1, 1 2, 1 1, 0 0))')) As bad_poly
--results
NOTICE:  Self-intersection at or near point 0 0
 good_line | bad_poly
-----------+----------
 t         | f
</pre></div><div class="refsection" id="idm8132"><h2>Veja também</h2><p><a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>, <a class="xref" href="#ST_IsValidReason" title="ST_IsValidReason">ST_IsValidReason</a>, <a class="xref" href="#ST_IsValidDetail" title="ST_IsValidDetail">ST_IsValidDetail</a>, </p></div></div><div class="refentry" id="ST_IsValidDetail"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsValidDetail — Returns a <code class="varname">valid_detail</code> row stating if a geometry is valid or if not a reason and a location.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">valid_detail <strong class="fsfunc">ST_IsValidDetail</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">flags</var><code>)</code>;</p></div></div><div class="refsection" id="idm8154"><h2>Descrição</h2><p>Returns a <code class="varname">valid_detail</code> row, containing a boolean (<code class="varname">valid</code>) stating if a geometry is valid, a varchar (<code class="varname">reason</code>) stating a reason why it is invalid and a geometry (<code class="varname">location</code>) pointing out where it is invalid.</p><p>Useful to improve on the combination of <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a> and <a class="xref" href="#ST_IsValidReason" title="ST_IsValidReason">ST_IsValidReason</a> to generate a detailed report of invalid geometries.</p><p>The optional <code class="varname">flags</code> parameter is a bitfield. It can have the following values: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>0: Use usual OGC SFS validity semantics. </p></li><li class="listitem"><p>1: Consider certain kinds of self-touching rings (inverted shells and exverted holes) as valid. This is also known as "the ESRI flag", since this is the validity model used by those tools. Note that this is invalid under the OGC model. </p></li></ul></div><p>
		</p><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm8173"><h2>Exemplos</h2><pre class="programlisting">

--First 3 Rejects from a successful quintuplet experiment
SELECT gid, reason(ST_IsValidDetail(geom)), ST_AsText(location(ST_IsValidDetail(geom))) as location
FROM
(SELECT ST_MakePolygon(ST_ExteriorRing(e.buff), array_agg(f.line)) As geom, gid
FROM (SELECT ST_Buffer(ST_Point(x1*10,y1), z1) As buff, x1*10 + y1*100 + z1*1000 As gid
        FROM generate_series(-4,6) x1
        CROSS JOIN generate_series(2,5) y1
        CROSS JOIN generate_series(1,8) z1
        WHERE x1 
&gt; y1*0.5 AND z1 &lt; x1*y1) As e
        INNER JOIN (SELECT ST_Translate(ST_ExteriorRing(ST_Buffer(ST_Point(x1*10,y1), z1)),y1*1, z1*2) As line
        FROM generate_series(-3,6) x1
        CROSS JOIN generate_series(2,5) y1
        CROSS JOIN generate_series(1,10) z1
        WHERE x1 
&gt; y1*0.75 AND z1 &lt; x1*y1) As f
ON (ST_Area(e.buff) 
&gt; 78 AND ST_Contains(e.buff, f.line))
GROUP BY gid, e.buff) As quintuplet_experiment
WHERE ST_IsValid(geom) = false
ORDER BY gid
LIMIT 3;

 gid  |      reason       |  location
------+-------------------+-------------
 5330 | Self-intersection | POINT(32 5)
 5340 | Self-intersection | POINT(42 5)
 5350 | Self-intersection | POINT(52 5)

 --simple example
SELECT * FROM ST_IsValidDetail('LINESTRING(220227 150406,2220227 150407,222020 150410)');

 valid | reason | location
-------+--------+----------
 t     |        |


</pre></div><div class="refsection" id="idm8176"><h2>Veja também</h2><p><a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_IsValidReason" title="ST_IsValidReason">ST_IsValidReason</a> </p></div></div><div class="refentry" id="ST_IsValidReason"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsValidReason — Returns text stating if a geometry is valid, or a reason for invalidity.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_IsValidReason</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_IsValidReason</strong>(</code>geometry  <var class="pdparam">geomA</var>, integer  <var class="pdparam">flags</var><code>)</code>;</p></div></div><div class="refsection" id="idm8202"><h2>Descrição</h2><p>Returns text stating if a geometry is valid, or if invalid a reason why.</p><p>Useful in combination with <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a> to generate a detailed report of invalid geometries and reasons.</p><p>Allowed <code class="varname">flags</code> are documented in <a class="xref" href="#ST_IsValidDetail" title="ST_IsValidDetail">ST_IsValidDetail</a>. </p><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Availability: 1.4</p><p class="availability">Availability: 2.0 version taking flags.</p></div><div class="refsection" id="idm8213"><h2>Exemplos</h2><pre class="programlisting">-- invalid bow-tie polygon
SELECT ST_IsValidReason(
    'POLYGON ((100 200, 100 100, 200 200,
     200 100, 100 200))'::geometry) as validity_info;
validity_info
--------------------------
Self-intersection[150 150]
        </pre><pre class="programlisting">

--First 3 Rejects from a successful quintuplet experiment
SELECT gid, ST_IsValidReason(geom) as validity_info
FROM
(SELECT ST_MakePolygon(ST_ExteriorRing(e.buff), array_agg(f.line)) As geom, gid
FROM (SELECT ST_Buffer(ST_Point(x1*10,y1), z1) As buff, x1*10 + y1*100 + z1*1000 As gid
        FROM generate_series(-4,6) x1
        CROSS JOIN generate_series(2,5) y1
        CROSS JOIN generate_series(1,8) z1
        WHERE x1 
&gt; y1*0.5 AND z1 &lt; x1*y1) As e
        INNER JOIN (SELECT ST_Translate(ST_ExteriorRing(ST_Buffer(ST_Point(x1*10,y1), z1)),y1*1, z1*2) As line
        FROM generate_series(-3,6) x1
        CROSS JOIN generate_series(2,5) y1
        CROSS JOIN generate_series(1,10) z1
        WHERE x1 
&gt; y1*0.75 AND z1 &lt; x1*y1) As f
ON (ST_Area(e.buff) 
&gt; 78 AND ST_Contains(e.buff, f.line))
GROUP BY gid, e.buff) As quintuplet_experiment
WHERE ST_IsValid(geom) = false
ORDER BY gid
LIMIT 3;

 gid  |      validity_info
------+--------------------------
 5330 | Self-intersection [32 5]
 5340 | Self-intersection [42 5]
 5350 | Self-intersection [52 5]

 --simple example
SELECT ST_IsValidReason('LINESTRING(220227 150406,2220227 150407,222020 150410)');

 st_isvalidreason
------------------
 Valid Geometry


</pre></div><div class="refsection" id="idm8217"><h2>Veja também</h2><p><a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_Summary" title="ST_Summary">ST_Summary</a></p></div></div><div class="refentry" id="ST_MakeValid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakeValid — Attempts to make an invalid geometry valid without losing vertices.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakeValid</strong>(</code>geometry <var class="pdparam">input</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakeValid</strong>(</code>geometry <var class="pdparam">input</var>, text <var class="pdparam">params</var><code>)</code>;</p></div></div><div class="refsection" id="idm8243"><h2>Descrição</h2><p>The function attempts to create a valid representation of a given invalid geometry without losing any of the input vertices. Valid geometries are returned unchanged. </p><p>Supported inputs are: POINTS, MULTIPOINTS, LINESTRINGS, MULTILINESTRINGS, POLYGONS, MULTIPOLYGONS and GEOMETRYCOLLECTIONS containing any mix of them. </p><p>In case of full or partial dimensional collapses, the output geometry may be a collection of lower-to-equal dimension geometries, or a geometry of lower dimension. </p><p>Single polygons may become multi-geometries in case of self-intersections. </p><p>The <code class="varname">params</code> argument can be used to supply an options string to select the method to use for building valid geometry. The options string is in the format "method=linework|structure keepcollapsed=true|false". If no "params" argument is provided, the "linework" algorithm will be used as the default. </p><p>The "method" key has two values.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>"linework" is the original algorithm, and builds valid geometries by first extracting all lines, noding that linework together, then building a value output from the linework.</p></li><li class="listitem"><p>"structure" is an algorithm that distinguishes between interior and exterior rings, building new geometry by unioning exterior rings, and then differencing all interior rings.</p></li></ul></div><p>The "keepcollapsed" key is only valid for the "structure" algorithm, and takes a value of "true" or "false". When set to "false", geometry components that collapse to a lower dimensionality, for example a one-point linestring would be dropped. </p><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 2.0.0</p><p class="enhanced">Enhanced: 2.0.1, speed improvements</p><p class="enhanced">Enhanced: 2.1.0, added support for GEOMETRYCOLLECTION and MULTIPOINT.</p><p class="enhanced">Enhanced: 3.1.0, added removal of Coordinates with NaN values.</p><p class="enhanced">Enhanced: 3.2.0, added algorithm options, 'linework' and 'structure' which requires GEOS &gt;= 3.10.0.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm8268"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_makevalid01.png"/><div class="caption"><p>before_geom: MULTIPOLYGON of 2 overlapping polygons</p></div></div></div><p>
                          </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_makevalid02.png"/><div class="caption"><p>after_geom: MULTIPOLYGON of 4 non-overlapping polygons</p></div></div></div><p>
                          </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_makevalid05.png"/><div class="caption"><p>after_geom_structure: MULTIPOLYGON of 1 non-overlapping polygon</p></div></div></div><p>
                </p><pre class="programlisting">SELECT f.geom AS before_geom, ST_MakeValid(f.geom) AS after_geom, ST_MakeValid(f.geom, 'method=structure') AS after_geom_structure
FROM (SELECT 'MULTIPOLYGON(((186 194,187 194,188 195,189 195,190 195,
191 195,192 195,193 194,194 194,194 193,195 192,195 191,
195 190,195 189,195 188,194 187,194 186,14 6,13 6,12 5,11 5,
10 5,9 5,8 5,7 6,6 6,6 7,5 8,5 9,5 10,5 11,5 12,6 13,6 14,186 194)),
((150 90,149 80,146 71,142 62,135 55,128 48,119 44,110 41,100 40,
90 41,81 44,72 48,65 55,58 62,54 71,51 80,50 90,51 100,
54 109,58 118,65 125,72 132,81 136,90 139,100 140,110 139,
119 136,128 132,135 125,142 118,146 109,149 100,150 90)))'::geometry AS geom) AS f;</pre><p>
            </p>
            </td></tr><tr><td><p>
                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_makevalid03.png"/><div class="caption"><p>before_geom: MULTIPOLYGON of 6 overlapping polygons</p></div></div></div><p>
                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_makevalid04.png"/><div class="caption"><p>after_geom: MULTIPOLYGON of 14 Non-overlapping polygons</p></div></div></div><p>
                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_makevalid06.png"/><div class="caption"><p>after_geom_structure: MULTIPOLYGON of 1 Non-overlapping polygon</p></div></div></div><p>
                </p><pre class="programlisting">SELECT c.geom AS before_geom,
                    ST_MakeValid(c.geom) AS after_geom,
                    ST_MakeValid(c.geom, 'method=structure') AS after_geom_structure
        FROM (SELECT 'MULTIPOLYGON(((91 50,79 22,51 10,23 22,11 50,23 78,51 90,79 78,91 50)),
                  ((91 100,79 72,51 60,23 72,11 100,23 128,51 140,79 128,91 100)),
                  ((91 150,79 122,51 110,23 122,11 150,23 178,51 190,79 178,91 150)),
                  ((141 50,129 22,101 10,73 22,61 50,73 78,101 90,129 78,141 50)),
                  ((141 100,129 72,101 60,73 72,61 100,73 128,101 140,129 128,141 100)),
                  ((141 150,129 122,101 110,73 122,61 150,73 178,101 190,129 178,141 150)))'::geometry AS geom) AS c;</pre><p>
            </p></td></tr></tbody></table></div></div><div class="refsection" id="idm8317"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_MakeValid(
    'LINESTRING(0 0, 0 0)',
    'method=structure keepcollapsed=true'
    ));

 st_astext
------------
 POINT(0 0)


SELECT ST_AsText(ST_MakeValid(
    'LINESTRING(0 0, 0 0)',
    'method=structure keepcollapsed=false'
    ));

    st_astext
------------------
 LINESTRING EMPTY</pre></div><div class="refsection" id="idm8320"><h2>Veja também</h2><p><a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_CollectionExtract" title="ST_CollectionExtract">ST_CollectionExtract</a> </p></div></div></section><section class="section" id="SRS_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.7. Spatial Reference System Functions</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions work with the Spatial Reference System of geometries as defined in the <code class="varname">spatial_ref_sys</code> table.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_InverseTransformPipeline">ST_InverseTransformPipeline</a></span><span class="refpurpose"> — Return a new geometry with coordinates transformed to a different spatial reference system using the inverse of a defined coordinate transformation pipeline.</span></li><li><span class="refentrytitle"><a href="#ST_SetSRID">ST_SetSRID</a></span><span class="refpurpose"> — Set the SRID on a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_SRID">ST_SRID</a></span><span class="refpurpose"> — Returns the spatial reference identifier for a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_Transform">ST_Transform</a></span><span class="refpurpose"> — Return a new geometry with coordinates transformed to a different spatial reference system.</span></li><li><span class="refentrytitle"><a href="#ST_TransformPipeline">ST_TransformPipeline</a></span><span class="refpurpose"> — Return a new geometry with coordinates transformed to a different spatial reference system using a defined coordinate transformation pipeline.</span></li><li><span class="refentrytitle"><a href="#postgis_srs_codes">postgis_srs_codes</a></span><span class="refpurpose"> — Return the list of SRS codes associated with the given authority.</span></li><li><span class="refentrytitle"><a href="#postgis_srs">postgis_srs</a></span><span class="refpurpose"> — Return a metadata record for the requested authority and srid.</span></li><li><span class="refentrytitle"><a href="#postgis_srs_all">postgis_srs_all</a></span><span class="refpurpose"> — Return metadata records for every spatial reference system in the underlying Proj database.</span></li><li><span class="refentrytitle"><a href="#postgis_srs_search">postgis_srs_search</a></span><span class="refpurpose"> — Return metadata records for projected coordinate systems that have areas of usage that fully contain the bounds parameter.</span></li></ul></div><div class="refentry" id="ST_InverseTransformPipeline"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_InverseTransformPipeline — Return a new geometry with coordinates transformed to a different spatial reference system using the inverse of a defined coordinate transformation pipeline.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_InverseTransformPipeline</strong>(</code>geometry  <var class="pdparam">geom</var>, text  <var class="pdparam">pipeline</var>, integer  <var class="pdparam">to_srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm8350"><h2>Descrição</h2><p>Return a new geometry with coordinates transformed to a different spatial reference system using a defined coordinate transformation pipeline to go in the inverse direction. </p><p>Refer to <a class="xref" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a> for details on writing a transformation pipeline.</p><p class="availability">Availability: 3.4.0</p><p>The SRID of the input geometry is ignored, and the SRID of the output geometry will be set to zero unless a value is provided via the optional <code class="varname">to_srid</code> parameter. When using <a class="xref" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a> the pipeline is executed in a forward direction. Using `ST_InverseTransformPipeline()` the pipeline is executed in the inverse direction.</p><p>Transforms using pipelines are a specialised version of <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>. In most cases `ST_Transform` will choose the correct operations to convert between coordinate systems, and should be preferred.</p></div><div class="refsection" id="idm8361"><h2>Exemplos</h2><p>Change WGS 84 long lat to UTM 31N using the EPSG:16031 conversion</p><pre class="programlisting">-- Inverse direction
SELECT ST_AsText(ST_InverseTransformPipeline('POINT(426857.9877165967 5427937.523342293)'::geometry,
  'urn:ogc:def:coordinateOperation:EPSG::16031')) AS wgs_geom;

          wgs_geom
----------------------------
 POINT(2 48.99999999999999)
(1 row)
    </pre><p>GDA2020 example.</p><pre class="programlisting">-- using ST_Transform with automatic selection of a conversion pipeline.
SELECT ST_AsText(ST_Transform('SRID=4939;POINT(143.0 -37.0)'::geometry, 7844)) AS gda2020_auto;

                 gda2020_auto
-----------------------------------------------
 POINT(143.00000635638918 -36.999986706128176)
(1 row)
    </pre></div><div class="refsection" id="idm8367"><h2>Veja também</h2><p><a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>, <a class="xref" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a></p></div></div><div class="refentry" id="ST_SetSRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetSRID — Set the SRID on a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SetSRID</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm8387"><h2>Descrição</h2><p>Sets the SRID on a geometry to a particular integer value. Useful in constructing bounding boxes for queries.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function does not transform the geometry coordinates in any way - it simply sets the meta data defining the spatial reference system the geometry is assumed to be in. Use <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a> if you want to transform the geometry into a new projection.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm8402"><h2>Exemplos</h2><p>-- Mark a point as WGS 84 long lat --</p><pre class="programlisting">SELECT ST_SetSRID(ST_Point(-123.365556, 48.428611),4326) As wgs84long_lat;
-- the ewkt representation (wrap with ST_AsEWKT) -
SRID=4326;POINT(-123.365556 48.428611)
      </pre><p>-- Mark a point as WGS 84 long lat and then transform to web mercator (Spherical Mercator) --</p><pre class="programlisting">SELECT ST_Transform(ST_SetSRID(ST_Point(-123.365556, 48.428611),4326),3785) As spere_merc;
-- the ewkt representation (wrap with ST_AsEWKT) -
SRID=3785;POINT(-13732990.8753491 6178458.96425423)
      </pre></div><div class="refsection" id="idm8408"><h2>Veja também</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>, <a class="xref" href="#UpdateGeometrySRID" title="UpdateGeometrySRID">UpdateGeometrySRID</a></p></div></div><div class="refentry" id="ST_SRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SRID — Returns the spatial reference identifier for a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_SRID</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm8427"><h2>Descrição</h2><p>Returns the spatial reference identifier for the ST_Geometry as defined in spatial_ref_sys table. <a class="xref" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a></p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>spatial_ref_sys table is a table that catalogs all spatial reference systems known to PostGIS and is used for transformations from one spatial reference system to another. So verifying you have the right spatial reference system identifier is important if you plan to ever transform your geometries.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm8447"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_SRID(ST_GeomFromText('POINT(-71.1043 42.315)',4326));
    --result
    4326
    </pre></div><div class="refsection" id="idm8450"><h2>Veja também</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a>, <a class="xref" href="#TG_ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_Transform"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Transform — Return a new geometry with coordinates transformed to a different spatial reference system.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Transform</strong>(</code>geometry  <var class="pdparam">g1</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Transform</strong>(</code>geometry  <var class="pdparam">geom</var>, text  <var class="pdparam">to_proj</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Transform</strong>(</code>geometry  <var class="pdparam">geom</var>, text  <var class="pdparam">from_proj</var>, text  <var class="pdparam">to_proj</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Transform</strong>(</code>geometry  <var class="pdparam">geom</var>, text  <var class="pdparam">from_proj</var>, integer  <var class="pdparam">to_srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm8506"><h2>Descrição</h2><p>Returns a new geometry with its coordinates transformed to a different spatial reference system. The destination spatial reference <code class="varname">to_srid</code> may be identified by a valid SRID integer parameter (i.e. it must exist in the <code class="varname">spatial_ref_sys</code> table). Alternatively, a spatial reference defined as a PROJ.4 string can be used for <code class="varname">to_proj</code> and/or <code class="varname">from_proj</code>, however these methods are not optimized. If the destination spatial reference system is expressed with a PROJ.4 string instead of an SRID, the SRID of the output geometry will be set to zero. With the exception of functions with <code class="varname">from_proj</code>, input geometries must have a defined SRID. </p><p>ST_Transform is often confused with <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>. ST_Transform actually changes the coordinates of a geometry from one spatial reference system to another, while ST_SetSRID() simply changes the SRID identifier of the geometry.</p><p>ST_Transform automatically selects a suitable conversion pipeline given the source and target spatial reference systems. To use a specific conversion method, use <a class="xref" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Requires PostGIS be compiled with PROJ support. Use <a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a> to confirm you have PROJ support compiled in.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If using more than one transformation, it is useful to have a functional index on the commonly used transformations to take advantage of index usage.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Anteriores a 1.3.4, essa função falha se usada com geometrias que contêm CURVAS. Isso é consertado em 1.3.4+</p></td></tr></table></div><p class="enhanced">Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido.</p><p class="enhanced">Enhanced: 2.3.0 support for direct PROJ.4 text was introduced.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.6</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm8539"><h2>Exemplos</h2><p>Change Massachusetts state plane US feet geometry to WGS 84 long lat</p><pre class="programlisting">SELECT ST_AsText(ST_Transform(ST_GeomFromText('POLYGON((743238 2967416,743238 2967450,
  743265 2967450,743265.625 2967416,743238 2967416))',2249),4326)) As wgs_geom;

 wgs_geom
---------------------------
 POLYGON((-71.1776848522251 42.3902896512902,-71.1776843766326 42.3903829478009,
-71.1775844305465 42.3903826677917,-71.1775825927231 42.3902893647987,-71.177684
8522251 42.3902896512902));
(1 row)

--3D Circular String example
SELECT ST_AsEWKT(ST_Transform(ST_GeomFromEWKT('SRID=2249;CIRCULARSTRING(743238 2967416 1,743238 2967450 2,743265 2967450 3,743265.625 2967416 3,743238 2967416 4)'),4326));

         st_asewkt
--------------------------------------------------------------------------------------
 SRID=4326;CIRCULARSTRING(-71.1776848522251 42.3902896512902 1,-71.1776843766326 42.3903829478009 2,
 -71.1775844305465 42.3903826677917 3,
 -71.1775825927231 42.3902893647987 3,-71.1776848522251 42.3902896512902 4)

    </pre><p>Example of creating a partial functional index. For tables where you are not sure all the geometries will be filled in, its best to use a partial index that leaves out null geometries which will both conserve space and make your index smaller and more efficient.</p><pre class="programlisting">CREATE INDEX idx_geom_26986_parcels
  ON parcels
  USING gist
  (ST_Transform(geom, 26986))
  WHERE geom IS NOT NULL;
    </pre><p>Examples of using PROJ.4 text to transform with custom spatial references.</p><pre class="programlisting">-- Find intersection of two polygons near the North pole, using a custom Gnomic projection
-- See http://boundlessgeo.com/2012/02/flattening-the-peel/
 WITH data AS (
   SELECT
     ST_GeomFromText('POLYGON((170 50,170 72,-130 72,-130 50,170 50))', 4326) AS p1,
     ST_GeomFromText('POLYGON((-170 68,-170 90,-141 90,-141 68,-170 68))', 4326) AS p2,
     '+proj=gnom +ellps=WGS84 +lat_0=70 +lon_0=-160 +no_defs'::text AS gnom
 )
 SELECT ST_AsText(
   ST_Transform(
     ST_Intersection(ST_Transform(p1, gnom), ST_Transform(p2, gnom)),
   gnom, 4326))
 FROM data;
                                          st_astext
 --------------------------------------------------------------------------------
  POLYGON((-170 74.053793645338,-141 73.4268621378904,-141 68,-170 68,-170 74.053793645338))
    </pre></div><div class="refsection" id="idm8547"><h2>Configuring transformation behavior</h2><p>Sometimes coordinate transformation involving a grid-shift can fail, for example if PROJ.4 has not been built with grid-shift files or the coordinate does not lie within the range for which the grid shift is defined. By default, PostGIS will throw an error if a grid shift file is not present, but this behavior can be configured on a per-SRID basis either by testing different <code class="varname">to_proj</code> values of PROJ.4 text, or altering the <code class="varname">proj4text</code> value within the <code class="varname">spatial_ref_sys</code> table. </p><p>For example, the proj4text parameter +datum=NAD87 is a shorthand form for the following +nadgrids parameter:</p><pre class="programlisting">+nadgrids=@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat</pre><p>The @ prefix means no error is reported if the files are not present, but if the end of the list is reached with no file having been appropriate (ie. found and overlapping) then an error is issued.</p><p>If, conversely, you wanted to ensure that at least the standard files were present, but that if all files were scanned without a hit a null transformation is applied you could use:</p><pre class="programlisting">+nadgrids=@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat,null</pre><p>The null grid shift file is a valid grid shift file covering the whole world and applying no shift. So for a complete example, if you wanted to alter PostGIS so that transformations to SRID 4267 that didn't lie within the correct range did not throw an ERROR, you would use the following:</p><pre class="programlisting">UPDATE spatial_ref_sys SET proj4text = '+proj=longlat +ellps=clrk66 +nadgrids=@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat,null +no_defs' WHERE srid = 4267;</pre></div><div class="refsection" id="idm8560"><h2>Veja também</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a>, <a class="xref" href="#UpdateGeometrySRID" title="UpdateGeometrySRID">UpdateGeometrySRID</a>, <a class="xref" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a></p></div></div><div class="refentry" id="ST_TransformPipeline"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_TransformPipeline — Return a new geometry with coordinates transformed to a different spatial reference system using a defined coordinate transformation pipeline.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_TransformPipeline</strong>(</code>geometry  <var class="pdparam">g1</var>, text  <var class="pdparam">pipeline</var>, integer  <var class="pdparam">to_srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm8586"><h2>Descrição</h2><p>Return a new geometry with coordinates transformed to a different spatial reference system using a defined coordinate transformation pipeline. </p><p>Transformation pipelines are defined using any of the following string formats: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">urn:ogc:def:coordinateOperation:AUTHORITY::CODE</code>. Note that a simple <code class="varname">EPSG:CODE</code> string does not uniquely identify a coordinate operation: the same EPSG code can be used for a CRS definition. </p></li><li class="listitem"><p>A PROJ pipeline string of the form: <code class="varname">+proj=pipeline ...</code>. Automatic axis normalisation will not be applied, and if necessary the caller will need to add an additional pipeline step, or remove <code class="varname">axisswap</code> steps. </p></li><li class="listitem"><p>Concatenated operations of the form: <code class="varname">urn:ogc:def:coordinateOperation,coordinateOperation:EPSG::3895,coordinateOperation:EPSG::1618</code>. </p></li></ul></div><p>
    </p><p class="availability">Availability: 3.4.0</p><p>The SRID of the input geometry is ignored, and the SRID of the output geometry will be set to zero unless a value is provided via the optional <code class="varname">to_srid</code> parameter. When using `ST_TransformPipeline()` the pipeline is executed in a forward direction. Using <a class="xref" href="#ST_InverseTransformPipeline" title="ST_InverseTransformPipeline">ST_InverseTransformPipeline</a> the pipeline is executed in the inverse direction.</p><p>Transforms using pipelines are a specialised version of <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>. In most cases `ST_Transform` will choose the correct operations to convert between coordinate systems, and should be preferred.</p></div><div class="refsection" id="idm8608"><h2>Exemplos</h2><p>Change WGS 84 long lat to UTM 31N using the EPSG:16031 conversion</p><pre class="programlisting">-- Forward direction
SELECT ST_AsText(ST_TransformPipeline('SRID=4326;POINT(2 49)'::geometry,
  'urn:ogc:def:coordinateOperation:EPSG::16031')) AS utm_geom;

                  utm_geom
--------------------------------------------
 POINT(426857.9877165967 5427937.523342293)
(1 row)

-- Inverse direction
SELECT ST_AsText(ST_InverseTransformPipeline('POINT(426857.9877165967 5427937.523342293)'::geometry,
  'urn:ogc:def:coordinateOperation:EPSG::16031')) AS wgs_geom;

          wgs_geom
----------------------------
 POINT(2 48.99999999999999)
(1 row)
    </pre><p>GDA2020 example.</p><pre class="programlisting">-- using ST_Transform with automatic selection of a conversion pipeline.
SELECT ST_AsText(ST_Transform('SRID=4939;POINT(143.0 -37.0)'::geometry, 7844)) AS gda2020_auto;

                 gda2020_auto
-----------------------------------------------
 POINT(143.00000635638918 -36.999986706128176)
(1 row)

-- using a defined conversion (EPSG:8447)
SELECT ST_AsText(ST_TransformPipeline('SRID=4939;POINT(143.0 -37.0)'::geometry,
  'urn:ogc:def:coordinateOperation:EPSG::8447')) AS gda2020_code;

                   gda2020_code
----------------------------------------------
 POINT(143.0000063280214 -36.999986718287545)
(1 row)

-- using a PROJ pipeline definition matching EPSG:8447, as returned from
-- 'projinfo -s EPSG:4939 -t EPSG:7844'.
-- NOTE: any 'axisswap' steps must be removed.
SELECT ST_AsText(ST_TransformPipeline('SRID=4939;POINT(143.0 -37.0)'::geometry,
  '+proj=pipeline
   +step +proj=unitconvert +xy_in=deg +xy_out=rad
   +step +proj=hgridshift +grids=au_icsm_GDA94_GDA2020_conformal_and_distortion.tif
   +step +proj=unitconvert +xy_in=rad +xy_out=deg')) AS gda2020_pipeline;

                   gda2020_pipeline
----------------------------------------------
 POINT(143.0000063280214 -36.999986718287545)
(1 row)
    </pre></div><div class="refsection" id="idm8614"><h2>Veja também</h2><p><a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>, <a class="xref" href="#ST_InverseTransformPipeline" title="ST_InverseTransformPipeline">ST_InverseTransformPipeline</a></p></div></div><div class="refentry" id="postgis_srs_codes"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis_srs_codes — Return the list of SRS codes associated with the given authority.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof text <strong class="fsfunc">postgis_srs_codes</strong>(</code>text  <var class="pdparam">auth_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm8631"><h2>Descrição</h2><p>Returns a set of all <code class="varname">auth_srid</code> for the given <code class="varname">auth_name</code>.</p><p class="availability">Availability: 3.4.0</p><p>Proj version 6+</p></div><div class="refsection" id="idm8638"><h2>Exemplos</h2><p>List the first ten codes associated with the EPSG authority.</p><pre class="programlisting">SELECT * FROM postgis_srs_codes('EPSG') LIMIT 10;

 postgis_srs_codes
-------------------
 2000
 20004
 20005
 20006
 20007
 20008
 20009
 2001
 20010
 20011
    </pre></div><div class="refsection" id="idm8642"><h2>Veja também</h2><p><a class="xref" href="#postgis_srs" title="postgis_srs">postgis_srs</a>, <a class="xref" href="#postgis_srs_all" title="postgis_srs_all">postgis_srs_all</a>, <a class="xref" href="#postgis_srs_search" title="postgis_srs_search">postgis_srs_search</a></p></div></div><div class="refentry" id="postgis_srs"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis_srs — Return a metadata record for the requested authority and srid.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">postgis_srs</strong>(</code>text  <var class="pdparam">auth_name</var>, text  <var class="pdparam">auth_srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm8663"><h2>Descrição</h2><p>Returns a metadata record for the requested <code class="varname">auth_srid</code> for the given <code class="varname">auth_name</code>. The record will have the <code class="varname">auth_name</code>, <code class="varname">auth_srid</code>, <code class="varname">srname</code>, <code class="varname">srtext</code>, <code class="varname">proj4text</code>, and the corners of the area of usage, <code class="varname">point_sw</code> and <code class="varname">point_ne</code>.</p><p class="availability">Availability: 3.4.0</p><p>Proj version 6+</p></div><div class="refsection" id="idm8677"><h2>Exemplos</h2><p>Get the metadata for EPSG:3005.</p><pre class="programlisting">SELECT * FROM postgis_srs('EPSG', '3005');

auth_name | EPSG
auth_srid | 3005
srname    | NAD83 / BC Albers
srtext    | PROJCS["NAD83 / BC Albers", ... ]]
proj4text | +proj=aea +lat_0=45 +lon_0=-126 +lat_1=50 +lat_2=58.5 +x_0=1000000 +y_0=0 +datum=NAD83 +units=m +no_defs +type=crs
point_sw  | 0101000020E6100000E17A14AE476161C00000000000204840
point_ne  | 0101000020E610000085EB51B81E855CC0E17A14AE47014E40
    </pre></div><div class="refsection" id="idm8681"><h2>Veja também</h2><p><a class="xref" href="#postgis_srs_codes" title="postgis_srs_codes">postgis_srs_codes</a>, <a class="xref" href="#postgis_srs_all" title="postgis_srs_all">postgis_srs_all</a>, <a class="xref" href="#postgis_srs_search" title="postgis_srs_search">postgis_srs_search</a></p></div></div><div class="refentry" id="postgis_srs_all"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis_srs_all — Return metadata records for every spatial reference system in the underlying Proj database.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">postgis_srs_all</strong>(</code><code>void)</code>;</p></div></div><div class="refsection" id="idm8697"><h2>Descrição</h2><p>Returns a set of all metadata records in the underlying Proj database. The records will have the <code class="varname">auth_name</code>, <code class="varname">auth_srid</code>, <code class="varname">srname</code>, <code class="varname">srtext</code>, <code class="varname">proj4text</code>, and the corners of the area of usage, <code class="varname">point_sw</code> and <code class="varname">point_ne</code>.</p><p class="availability">Availability: 3.4.0</p><p>Proj version 6+</p></div><div class="refsection" id="idm8709"><h2>Exemplos</h2><p>Get the first 10 metadata records from the Proj database.</p><pre class="programlisting">SELECT auth_name, auth_srid, srname FROM postgis_srs_all() LIMIT 10;

 auth_name | auth_srid |                  srname
-----------+-----------+------------------------------------------
 EPSG      | 2000      | Anguilla 1957 / British West Indies Grid
 EPSG      | 20004     | Pulkovo 1995 / Gauss-Kruger zone 4
 EPSG      | 20005     | Pulkovo 1995 / Gauss-Kruger zone 5
 EPSG      | 20006     | Pulkovo 1995 / Gauss-Kruger zone 6
 EPSG      | 20007     | Pulkovo 1995 / Gauss-Kruger zone 7
 EPSG      | 20008     | Pulkovo 1995 / Gauss-Kruger zone 8
 EPSG      | 20009     | Pulkovo 1995 / Gauss-Kruger zone 9
 EPSG      | 2001      | Antigua 1943 / British West Indies Grid
 EPSG      | 20010     | Pulkovo 1995 / Gauss-Kruger zone 10
 EPSG      | 20011     | Pulkovo 1995 / Gauss-Kruger zone 11    </pre></div><div class="refsection" id="idm8713"><h2>Veja também</h2><p><a class="xref" href="#postgis_srs_codes" title="postgis_srs_codes">postgis_srs_codes</a>, <a class="xref" href="#postgis_srs" title="postgis_srs">postgis_srs</a>, <a class="xref" href="#postgis_srs_search" title="postgis_srs_search">postgis_srs_search</a></p></div></div><div class="refentry" id="postgis_srs_search"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis_srs_search — Return metadata records for projected coordinate systems that have areas of usage that fully contain the bounds parameter.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">postgis_srs_search</strong>(</code>geometry  <var class="pdparam">bounds</var>, text  <var class="pdparam">auth_name=EPSG</var><code>)</code>;</p></div></div><div class="refsection" id="idm8734"><h2>Descrição</h2><p>Return a set of metadata records for projected coordinate systems that have areas of usage that fully contain the bounds parameter. Each record will have the <code class="varname">auth_name</code>, <code class="varname">auth_srid</code>, <code class="varname">srname</code>, <code class="varname">srtext</code>, <code class="varname">proj4text</code>, and the corners of the area of usage, <code class="varname">point_sw</code> and <code class="varname">point_ne</code>. </p><p>The search only looks for projected coordinate systems, and is intended for users to explore the possible systems that work for the extent of their data.</p><p class="availability">Availability: 3.4.0</p><p>Proj version 6+</p></div><div class="refsection" id="idm8747"><h2>Exemplos</h2><p>Search for projected coordinate systems in Louisiana.</p><pre class="programlisting">SELECT auth_name, auth_srid, srname,
  ST_AsText(point_sw) AS point_sw,
  ST_AsText(point_ne) AS point_ne
FROM postgis_srs_search('SRID=4326;LINESTRING(-90 30, -91 31)')
LIMIT 3;

 auth_name | auth_srid |                srname                |      point_sw       |      point_ne
-----------+-----------+--------------------------------------+---------------------+---------------------
 EPSG      | 2801      | NAD83(HARN) / Louisiana South        | POINT(-93.94 28.85) | POINT(-88.75 31.07)
 EPSG      | 3452      | NAD83 / Louisiana South (ftUS)       | POINT(-93.94 28.85) | POINT(-88.75 31.07)
 EPSG      | 3457      | NAD83(HARN) / Louisiana South (ftUS) | POINT(-93.94 28.85) | POINT(-88.75 31.07)
</pre><p>Scan a table for max extent and find projected coordinate systems that might suit.</p><pre class="programlisting">WITH ext AS (
  SELECT ST_Extent(geom) AS geom, Max(ST_SRID(geom)) AS srid
  FROM foo
)
SELECT auth_name, auth_srid, srname,
  ST_AsText(point_sw) AS point_sw,
  ST_AsText(point_ne) AS point_ne
FROM ext
CROSS JOIN postgis_srs_search(ST_SetSRID(ext.geom, ext.srid))
LIMIT 3;</pre></div><div class="refsection" id="idm8753"><h2>Veja também</h2><p><a class="xref" href="#postgis_srs_codes" title="postgis_srs_codes">postgis_srs_codes</a>, <a class="xref" href="#postgis_srs_all" title="postgis_srs_all">postgis_srs_all</a>, <a class="xref" href="#postgis_srs" title="postgis_srs">postgis_srs</a></p></div></div></section><section class="section" id="Geometry_Inputs"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.8. Geometry Input</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions create geometry objects from various textual or binary formats.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#idm8764">7.8.1. Well-Known Text (WKT)</a></span></li><li><span class="section"><a href="#idm9396">7.8.2. Well-Known Binary (WKB)</a></span></li><li><span class="section"><a href="#idm9716">7.8.3. Other Formats</a></span></li></ul></div><section class="section" id="idm8764"><div class="titlepage"><div><div><h3 class="title">7.8.1. Well-Known Text (WKT)</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_BdPolyFromText">ST_BdPolyFromText</a></span><span class="refpurpose"> — Constrói um polígono dada uma coleção arbitrária de linestrings fechadas como uma representação de texto de uma multilinestring bem conhecida.</span></li><li><span class="refentrytitle"><a href="#ST_BdMPolyFromText">ST_BdMPolyFromText</a></span><span class="refpurpose"> — Constrói um polígono dada uma coleção arbitrária de linestrings fechadas como uma representação de texto de uma multilinestring bem conhecida.</span></li><li><span class="refentrytitle"><a href="#ST_GeogFromText">ST_GeogFromText</a></span><span class="refpurpose"> — Retorna um valor de geografia específico de uma representação bem conhecida de texto ou estendida (WKT). </span></li><li><span class="refentrytitle"><a href="#ST_GeographyFromText">ST_GeographyFromText</a></span><span class="refpurpose"> — Retorna um valor de geografia específico de uma representação bem conhecida de texto ou estendida (WKT). </span></li><li><span class="refentrytitle"><a href="#ST_GeomCollFromText">ST_GeomCollFromText</a></span><span class="refpurpose"> — Makes a collection Geometry from collection WKT with the given SRID. If SRID is not given, it defaults to 0.</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromEWKT">ST_GeomFromEWKT</a></span><span class="refpurpose"> — Retorna um valor ST_Geometry especifico da representação de texto estendida bem conhecida (EWKT). </span></li><li><span class="refentrytitle"><a href="#ST_GeomFromMARC21">ST_GeomFromMARC21</a></span><span class="refpurpose"> — Takes MARC21/XML geographic data as input and returns a PostGIS geometry object. </span></li><li><span class="refentrytitle"><a href="#ST_GeometryFromText">ST_GeometryFromText</a></span><span class="refpurpose"> — Retorna um valor ST_Geometry especifico da representação de texto estendida bem conhecida (EWKT). Isso é um heterônimo para ST_GeomFromText</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromText">ST_GeomFromText</a></span><span class="refpurpose"> — Retorna um valor ST_Geometry específico da representação de texto bem conhecida (WKT). </span></li><li><span class="refentrytitle"><a href="#ST_LineFromText">ST_LineFromText</a></span><span class="refpurpose"> — Faz uma geometria de uma representação WKT com a SRID dada. Se a SRID não for dada, isso leva a 0. </span></li><li><span class="refentrytitle"><a href="#ST_MLineFromText">ST_MLineFromText</a></span><span class="refpurpose"> — Retorna um valor específico ST_MultiLineString de uma representação WKT.</span></li><li><span class="refentrytitle"><a href="#ST_MPointFromText">ST_MPointFromText</a></span><span class="refpurpose"> — Makes a Geometry from WKT with the given SRID. If SRID is not given, it defaults to 0.</span></li><li><span class="refentrytitle"><a href="#ST_MPolyFromText">ST_MPolyFromText</a></span><span class="refpurpose"> — Makes a MultiPolygon Geometry from WKT with the given SRID. If SRID is not given, it defaults to 0.</span></li><li><span class="refentrytitle"><a href="#ST_PointFromText">ST_PointFromText</a></span><span class="refpurpose"> — Faz um ponto de um WKT com o SRID dado. Se o SRID não for dado, isso leva a desconhecido. </span></li><li><span class="refentrytitle"><a href="#ST_PolygonFromText">ST_PolygonFromText</a></span><span class="refpurpose"> — Makes a Geometry from WKT with the given SRID. If SRID is not given, it defaults to 0.</span></li><li><span class="refentrytitle"><a href="#ST_WKTToSQL">ST_WKTToSQL</a></span><span class="refpurpose"> — Retorna um valor ST_Geometry especifico da representação de texto estendida bem conhecida (EWKT). Isso é um heterônimo para ST_GeomFromText</span></li></ul></div><div class="refentry" id="ST_BdPolyFromText"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BdPolyFromText — Constrói um polígono dada uma coleção arbitrária de linestrings fechadas como uma representação de texto de uma multilinestring bem conhecida.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_BdPolyFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm8781"><h2>Descrição</h2><p>Constrói um polígono dada uma coleção arbitrária de linestrings fechadas como uma representação de texto de uma multilinestring bem conhecida.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Lança um erro se WKT não é uma MULTILINESTRING.  Lança um erro se a saída não é um MULTIPOLÍGONO; use ST_BdMPolyFromText nesse caso, ou veja ST_BuildArea() para uma aproximação postgis-specific. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 1.1.0</p></div><div class="refsection" id="idm8793"><h2>Veja também</h2><p><a class="xref" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea</a>, <a class="xref" href="#ST_BdMPolyFromText" title="ST_BdMPolyFromText">ST_BdMPolyFromText</a></p></div></div><div class="refentry" id="ST_BdMPolyFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BdMPolyFromText — Constrói um polígono dada uma coleção arbitrária de linestrings fechadas como uma representação de texto de uma multilinestring bem conhecida.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_BdMPolyFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm8813"><h2>Descrição</h2><p>Constrói um um polígono dada uma coleção arbitrária de linestrings, polígonos, multilinestrings fechados como uma representação de texto bem conhecida.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Lança um erro se WKT não é uma MULTILINESTRING. Força a saída MULTIPOLÍGONO mesmo quando o resultado não é composto somente por um POLÍGONO único; use <a class="link" href="#ST_BdPolyFromText" title="ST_BdPolyFromText">ST_BdPolyFromText</a> se você tem certeza de que um único POLÍGONO irá resultar de uma operação, ou veja <a class="link" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea()</a> para uma aproximação postgis-specific. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 1.1.0</p></div><div class="refsection" id="idm8827"><h2>Veja também</h2><p><a class="xref" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea</a>, <a class="xref" href="#ST_BdPolyFromText" title="ST_BdPolyFromText">ST_BdPolyFromText</a></p></div></div><div class="refentry" id="ST_GeogFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeogFromText — Retorna um valor de geografia específico de uma representação bem conhecida de texto ou estendida (WKT). </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geography <strong class="fsfunc">ST_GeogFromText</strong>(</code>text  <var class="pdparam">EWKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm8844"><h2>Descrição</h2><p>Retorna um objeto de geografia de um texto bem conhecido ou representação estendida bem conhecida. SRID 4326 é suposta se não for especificada. Isso é um heterônimo para ST_GeographyFromText. Os pontos são sempre expressados em uma forma long lat. </p></div><div class="refsection" id="idm8847"><h2>Exemplos</h2><pre class="programlisting">--- converting lon lat coords to geography
ALTER TABLE sometable ADD COLUMN geog geography(POINT,4326);
UPDATE sometable SET geog = ST_GeogFromText('SRID=4326;POINT(' || lon || ' ' || lat || ')');

--- specify a geography point using EPSG:4267, NAD27
SELECT ST_AsEWKT(ST_GeogFromText('SRID=4267;POINT(-77.0092 38.889588)'));
                        </pre></div><div class="refsection" id="idm8850"><h2>Veja também</h2><p><a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_GeographyFromText" title="ST_GeographyFromText">ST_GeographyFromText</a></p></div></div><div class="refentry" id="ST_GeographyFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeographyFromText — Retorna um valor de geografia específico de uma representação bem conhecida de texto ou estendida (WKT). </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geography <strong class="fsfunc">ST_GeographyFromText</strong>(</code>text  <var class="pdparam">EWKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm8867"><h2>Descrição</h2><p>Retorna um objeto de geografia de um texto bem conhecido ou representação estendida bem conhecida. SRID 4326 é suposta se não for especificada </p></div><div class="refsection" id="idm8870"><h2>Veja também</h2><p><a class="xref" href="#ST_GeogFromText" title="ST_GeogFromText">ST_GeogFromText</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a></p></div></div><div class="refentry" id="ST_GeomCollFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomCollFromText — Makes a collection Geometry from collection WKT with the given SRID. If SRID is not given, it defaults to 0.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomCollFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomCollFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm8896"><h2>Descrição</h2><p>Makes a collection Geometry from the Well-Known-Text (WKT) representation with the given SRID. If SRID is not given, it defaults to 0.</p><p>OGC SPEC 3.2.6.2 - opção SRID é de uma suíte de conformação</p><p>Retorna nula se a WKT não for uma GEOMETRYCOLLECTION</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>se você não tem total certeza de que todas suas geometrias WKT são coleções, não use essa função. Ela é mais devagar que a ST_GeomFromText, já que adiciona um passo de validação adicional. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification. </p></div><div class="refsection" id="idm8912"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_GeomCollFromText('GEOMETRYCOLLECTION(POINT(1 2),LINESTRING(1 2, 3 4))');
</pre></div><div class="refsection" id="idm8915"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_GeomFromEWKT"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromEWKT — Retorna um valor ST_Geometry especifico da representação de texto estendida bem conhecida (EWKT). </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromEWKT</strong>(</code>text  <var class="pdparam">EWKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm8932"><h2>Descrição</h2><p>Constrói um objeto PostGIS ST_Geometry da representação de texto estendida bem conhecida OGC (EWKT).</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O formato EWKT não é um padrão OGC, mas um formato específico PostGIS que inclui o identificador de sistema de referência espacial (SRID).</p></td></tr></table></div><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas e TIN foi introduzido.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm8954"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_GeomFromEWKT('SRID=4269;LINESTRING(-71.160281 42.258729,-71.160837 42.259113,-71.161144 42.25932)');
SELECT ST_GeomFromEWKT('SRID=4269;MULTILINESTRING((-71.160281 42.258729,-71.160837 42.259113,-71.161144 42.25932))');

SELECT ST_GeomFromEWKT('SRID=4269;POINT(-71.064544 42.28787)');

SELECT ST_GeomFromEWKT('SRID=4269;POLYGON((-71.1776585052917 42.3902909739571,-71.1776820268866 42.3903701743239,
-71.1776063012595 42.3903825660754,-71.1775826583081 42.3903033653531,-71.1776585052917 42.3902909739571))');

SELECT ST_GeomFromEWKT('SRID=4269;MULTIPOLYGON(((-71.1031880899493 42.3152774590236,
-71.1031627617667 42.3152960829043,-71.102923838298 42.3149156848307,
-71.1023097974109 42.3151969047397,-71.1019285062273 42.3147384934248,
-71.102505233663 42.3144722937587,-71.10277487471 42.3141658254797,
-71.103113945163 42.3142739188902,-71.10324876416 42.31402489987,
-71.1033002961013 42.3140393340215,-71.1033488797549 42.3139495090772,
-71.103396240451 42.3138632439557,-71.1041521907712 42.3141153348029,
-71.1041411411543 42.3141545014533,-71.1041287795912 42.3142114839058,
-71.1041188134329 42.3142693656241,-71.1041112482575 42.3143272556118,
-71.1041072845732 42.3143851580048,-71.1041057218871 42.3144430686681,
-71.1041065602059 42.3145009876017,-71.1041097995362 42.3145589148055,
-71.1041166403905 42.3146168544148,-71.1041258822717 42.3146748022936,
-71.1041375307579 42.3147318674446,-71.1041492906949 42.3147711126569,
-71.1041598612795 42.314808571739,-71.1042515013869 42.3151287620809,
-71.1041173835118 42.3150739481917,-71.1040809891419 42.3151344119048,
-71.1040438678912 42.3151191367447,-71.1040194562988 42.3151832057859,
-71.1038734225584 42.3151140942995,-71.1038446938243 42.3151006300338,
-71.1038315271889 42.315094347535,-71.1037393329282 42.315054824985,
-71.1035447555574 42.3152608696313,-71.1033436658644 42.3151648370544,
-71.1032580383161 42.3152269126061,-71.103223066939 42.3152517403219,
-71.1031880899493 42.3152774590236)),
((-71.1043632495873 42.315113108546,-71.1043583974082 42.3151211109857,
-71.1043443253471 42.3150676015829,-71.1043850704575 42.3150793250568,-71.1043632495873 42.315113108546)))');
</pre><pre class="programlisting">--3d circular string
SELECT ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)');
</pre><pre class="programlisting">--Polyhedral Surface example
SELECT ST_GeomFromEWKT('POLYHEDRALSURFACE(
        ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
        ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)),
        ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
        ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
        ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),
        ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1))
)');
</pre></div><div class="refsection" id="idm8959"><h2>Veja também</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_GeomFromMARC21"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromMARC21 — Takes MARC21/XML geographic data as input and returns a PostGIS geometry object. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef"> geometry <strong class="fsfunc">ST_GeomFromMARC21</strong> (</code> text  <var class="pdparam">marcxml</var> <code>)</code>;</p></div></div><div class="refsection" id="idm8976"><h2>Descrição</h2><p>This function creates a PostGIS geometry from a MARC21/XML record, which can contain a <code class="varname">POINT</code> or a <code class="varname">POLYGON</code>. In case of multiple geographic data entries in the same MARC21/XML record, a <code class="varname">MULTIPOINT</code> or <code class="varname">MULTIPOLYGON</code> will be returned. If the record contains mixed geometry types, a <code class="varname">GEOMETRYCOLLECTION</code> will be returned. It returns NULL if the MARC21/XML record does not contain any geographic data (datafield:034). </p><p>LOC MARC21/XML versions supported: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="https://www.loc.gov/standards/marcxml/" target="_top">MARC21/XML 1.1</a></p></li></ul></div><p>
            </p><p class="availability">Availability: 3.3.0, requires libxml2 2.6+</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The MARC21/XML Coded Cartographic Mathematical Data currently does not provide any means to describe the Spatial Reference System of the encoded coordinates, so this function will always return a geometry with <code class="varname">SRID 0</code>. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Returned <code class="varname">POLYGON</code> geometries will always be clockwise oriented. </p></td></tr></table></div></div><div class="refsection" id="idm8996"><h2>Exemplos</h2><p>Converting MARC21/XML geographic data containing a single <code class="varname">POINT</code> encoded as <code class="varname">hddd.dddddd</code> </p><pre class="programlisting">

                SELECT
                ST_AsText(
                    ST_GeomFromMARC21('
                        &lt;record xmlns="http://www.loc.gov/MARC21/slim"&gt;
                            &lt;leader
&gt;00000nz a2200000nc 4500&lt;/leader&gt;
                            &lt;controlfield tag="001"
&gt;040277569&lt;/controlfield&gt;
                            &lt;datafield tag="034" ind1=" " ind2=" "&gt;
                                &lt;subfield code="d"
&gt;W004.500000&lt;/subfield&gt;
                                &lt;subfield code="e"
&gt;W004.500000&lt;/subfield&gt;
                                &lt;subfield code="f"
&gt;N054.250000&lt;/subfield&gt;
                                &lt;subfield code="g"
&gt;N054.250000&lt;/subfield&gt;
                            &lt;/datafield&gt;
                        &lt;/record
&gt;'));

                st_astext
                -------------------
                POINT(-4.5 54.25)
                (1 row)

            </pre><p>Converting MARC21/XML geographic data containing a single <code class="varname">POLYGON</code> encoded as <code class="varname">hdddmmss</code></p><pre class="programlisting">


                SELECT
                ST_AsText(
                    ST_GeomFromMARC21('
                        &lt;record xmlns="http://www.loc.gov/MARC21/slim"&gt;
                            &lt;leader
&gt;01062cem a2200241 a 4500&lt;/leader&gt;
                            &lt;controlfield tag="001"
&gt;   84696781 &lt;/controlfield&gt;
                            &lt;datafield tag="034" ind1="1" ind2=" "&gt;
                                &lt;subfield code="a"
&gt;a&lt;/subfield&gt;
                                &lt;subfield code="b"
&gt;50000&lt;/subfield&gt;
                                &lt;subfield code="d"
&gt;E0130600&lt;/subfield&gt;
                                &lt;subfield code="e"
&gt;E0133100&lt;/subfield&gt;
                                &lt;subfield code="f"
&gt;N0523900&lt;/subfield&gt;
                                &lt;subfield code="g"
&gt;N0522300&lt;/subfield&gt;
                            &lt;/datafield&gt;
                        &lt;/record
&gt;'));

                st_astext
                -----------------------------------------------------------------------------------------------------------------------
                POLYGON((13.1 52.65,13.516666666666667 52.65,13.516666666666667 52.38333333333333,13.1 52.38333333333333,13.1 52.65))
                (1 row)

            </pre><p>Converting MARC21/XML geographic data containing a <code class="varname">POLYGON</code> and a <code class="varname">POINT</code>:</p><pre class="programlisting">


                SELECT
                ST_AsText(
                    ST_GeomFromMARC21('
                &lt;record xmlns="http://www.loc.gov/MARC21/slim"&gt;
                    &lt;datafield tag="034" ind1="1" ind2=" "&gt;
                        &lt;subfield code="a"
&gt;a&lt;/subfield&gt;
                        &lt;subfield code="b"
&gt;50000&lt;/subfield&gt;
                        &lt;subfield code="d"
&gt;E0130600&lt;/subfield&gt;
                        &lt;subfield code="e"
&gt;E0133100&lt;/subfield&gt;
                        &lt;subfield code="f"
&gt;N0523900&lt;/subfield&gt;
                        &lt;subfield code="g"
&gt;N0522300&lt;/subfield&gt;
                    &lt;/datafield&gt;
                    &lt;datafield tag="034" ind1=" " ind2=" "&gt;
                        &lt;subfield code="d"
&gt;W004.500000&lt;/subfield&gt;
                        &lt;subfield code="e"
&gt;W004.500000&lt;/subfield&gt;
                        &lt;subfield code="f"
&gt;N054.250000&lt;/subfield&gt;
                        &lt;subfield code="g"
&gt;N054.250000&lt;/subfield&gt;
                    &lt;/datafield&gt;
                &lt;/record
&gt;'));
                                                                                        st_astext
                -------------------------------------------------------------------------------------------------------------------------------------------------------------
                GEOMETRYCOLLECTION(POLYGON((13.1 52.65,13.516666666666667 52.65,13.516666666666667 52.38333333333333,13.1 52.38333333333333,13.1 52.65)),POINT(-4.5 54.25))
                (1 row)
            </pre></div><div class="refsection" id="idm9010"><h2>Veja também</h2><p>
                <a class="xref" href="#ST_AsMARC21" title="ST_AsMARC21">ST_AsMARC21</a>
            </p></div></div><div class="refentry" id="ST_GeometryFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeometryFromText — Retorna um valor ST_Geometry especifico da representação de texto estendida bem conhecida (EWKT). Isso é um heterônimo para ST_GeomFromText</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeometryFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeometryFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9035"><h2>Descrição</h2><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.40</p></div><div class="refsection" id="idm9046"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_GeomFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromText — Retorna um valor ST_Geometry específico da representação de texto bem conhecida (WKT). </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9071"><h2>Descrição</h2><p>Constrói um objeto PostGIS ST_Geometry de uma representação de texto bem conhecida OGC.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Existem duas variantes da função ST_GeomFromText. A primeira não pega nenhuma SRID e retorna uma geometria com um sistema de referência espacial indefinido (SRID=0). A segunda pega uma SRID como o segundo argumento e retorna uma geometria que inclui essa SRID como parte dos seus metadados.  </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2 - opção SRID é da suíte de conformidade. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.40</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>While not OGC-compliant, <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a> is faster than ST_GeomFromText and ST_PointFromText. It is also easier to use for numeric coordinate values. <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a> is another option similar in speed to <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a> and is OGC-compliant, but doesn't support anything but 2D points.</p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Alterações: 2.0.0 Nas  primeiras versões do PostGIS, ST_GeomFromText('GEOMETRYCOLLECTION(EMPTY)') foi permitida. Ela agora é ilegal no PostGIS 2.0.0 para melhor se adequar aos padrões SQL/MM. Ela deverá se escrita como  ST_GeomFromText('GEOMETRYCOLLECTION EMPTY')</p></td></tr></table></div></div><div class="refsection" id="idm9096"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_GeomFromText('LINESTRING(-71.160281 42.258729,-71.160837 42.259113,-71.161144 42.25932)');
SELECT ST_GeomFromText('LINESTRING(-71.160281 42.258729,-71.160837 42.259113,-71.161144 42.25932)',4269);

SELECT ST_GeomFromText('MULTILINESTRING((-71.160281 42.258729,-71.160837 42.259113,-71.161144 42.25932))');

SELECT ST_GeomFromText('POINT(-71.064544 42.28787)');

SELECT ST_GeomFromText('POLYGON((-71.1776585052917 42.3902909739571,-71.1776820268866 42.3903701743239,
-71.1776063012595 42.3903825660754,-71.1775826583081 42.3903033653531,-71.1776585052917 42.3902909739571))');

SELECT ST_GeomFromText('MULTIPOLYGON(((-71.1031880899493 42.3152774590236,
-71.1031627617667 42.3152960829043,-71.102923838298 42.3149156848307,
-71.1023097974109 42.3151969047397,-71.1019285062273 42.3147384934248,
-71.102505233663 42.3144722937587,-71.10277487471 42.3141658254797,
-71.103113945163 42.3142739188902,-71.10324876416 42.31402489987,
-71.1033002961013 42.3140393340215,-71.1033488797549 42.3139495090772,
-71.103396240451 42.3138632439557,-71.1041521907712 42.3141153348029,
-71.1041411411543 42.3141545014533,-71.1041287795912 42.3142114839058,
-71.1041188134329 42.3142693656241,-71.1041112482575 42.3143272556118,
-71.1041072845732 42.3143851580048,-71.1041057218871 42.3144430686681,
-71.1041065602059 42.3145009876017,-71.1041097995362 42.3145589148055,
-71.1041166403905 42.3146168544148,-71.1041258822717 42.3146748022936,
-71.1041375307579 42.3147318674446,-71.1041492906949 42.3147711126569,
-71.1041598612795 42.314808571739,-71.1042515013869 42.3151287620809,
-71.1041173835118 42.3150739481917,-71.1040809891419 42.3151344119048,
-71.1040438678912 42.3151191367447,-71.1040194562988 42.3151832057859,
-71.1038734225584 42.3151140942995,-71.1038446938243 42.3151006300338,
-71.1038315271889 42.315094347535,-71.1037393329282 42.315054824985,
-71.1035447555574 42.3152608696313,-71.1033436658644 42.3151648370544,
-71.1032580383161 42.3152269126061,-71.103223066939 42.3152517403219,
-71.1031880899493 42.3152774590236)),
((-71.1043632495873 42.315113108546,-71.1043583974082 42.3151211109857,
-71.1043443253471 42.3150676015829,-71.1043850704575 42.3150793250568,-71.1043632495873 42.315113108546)))',4326);

SELECT ST_GeomFromText('CIRCULARSTRING(220268 150415,220227 150505,220227 150406)');
        </pre></div><div class="refsection" id="idm9099"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_LineFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineFromText — Faz uma geometria de uma representação WKT com a SRID dada. Se a SRID não for dada, isso leva a 0. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9126"><h2>Descrição</h2><p>Makes a Geometry from WKT with the given SRID. If SRID is not given, it defaults to 0. If WKT passed in is not a LINESTRING, then null is returned. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>OGC SPEC 3.2.6.2 - opção SRID é de uma suíte de conformação.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você sabe que todas as suas geometrias são LINESTRINGS, é mais eficiente usar somente  ST_GeomFromText. Isso só convida a ST_GeomFromText e adiciona validação extra que ela retorna uma linestring. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 7.2.8</p></div><div class="refsection" id="idm9142"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_LineFromText('LINESTRING(1 2, 3 4)') AS aline, ST_LineFromText('POINT(1 2)') AS null_return;
aline                            | null_return
------------------------------------------------
010200000002000000000000000000F ... | t
                </pre></div><div class="refsection" id="idm9145"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_MLineFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MLineFromText — Retorna um valor específico ST_MultiLineString de uma representação WKT.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MLineFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_MLineFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm9170"><h2>Descrição</h2><p>Makes a Geometry from Well-Known-Text (WKT) with the given SRID. If SRID is not given, it defaults to 0.</p><p>OGC SPEC 3.2.6.2 - opção SRID é de uma suíte de conformação</p><p>Retorna nulo se o WKT não é uma MULTILIINESTRING</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você tem total certeza de que todas suas geometrias WKT são pontos, não use essa função. Ela é mais devagar que a ST_GeomFromText, já que adiciona um passo de validação adicional. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification. SQL-MM 3: 9.4.4</p></div><div class="refsection" id="idm9186"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_MLineFromText('MULTILINESTRING((1 2, 3 4), (4 5, 6 7))');</pre></div><div class="refsection" id="idm9189"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_MPointFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MPointFromText — Makes a Geometry from WKT with the given SRID. If SRID is not given, it defaults to 0.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MPointFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_MPointFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm9214"><h2>Descrição</h2><p>Makes a Geometry from WKT with the given SRID. If SRID is not given, it defaults to 0.</p><p>OGC SPEC 3.2.6.2 - opção SRID é de uma suíte de conformação</p><p>Retorna nulo se o WKT não é um MULTIPONTO</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você tem total certeza de que todas suas geometrias WKT são pontos, não use essa função. Ela é mais devagar que a ST_GeomFromText, já que adiciona um passo de validação adicional. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 9.2.4</p></div><div class="refsection" id="idm9230"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_MPointFromText('MULTIPOINT((1 2),(3 4))');
SELECT ST_MPointFromText('MULTIPOINT((-70.9590 42.1180),(-70.9611 42.1223))', 4326);</pre></div><div class="refsection" id="idm9233"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_MPolyFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MPolyFromText — Makes a MultiPolygon Geometry from WKT with the given SRID. If SRID is not given, it defaults to 0.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MPolyFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_MPolyFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm9258"><h2>Descrição</h2><p>Makes a MultiPolygon from WKT with the given SRID. If SRID is not given, it defaults to 0.</p><p>OGC SPEC 3.2.6.2 - opção SRID é de uma suíte de conformação</p><p>Descarta um erro se o WKT não for um MULTIPOLÍGONO</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você tem total certeza de que todas suas geometrias WKT são multipolígonos, não use essa função. Ela é mais devagar que a ST_GeomFromText, já que adiciona um passo de validação adicional. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 9.6.4</p></div><div class="refsection" id="idm9274"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_MPolyFromText('MULTIPOLYGON(((0 0 1,20 0 1,20 20 1,0 20 1,0 0 1),(5 5 3,5 7 3,7 7 3,7 5 3,5 5 3)))');
SELECt ST_MPolyFromText('MULTIPOLYGON(((-70.916 42.1002,-70.9468 42.0946,-70.9765 42.0872,-70.9754 42.0875,-70.9749 42.0879,-70.9752 42.0881,-70.9754 42.0891,-70.9758 42.0894,-70.9759 42.0897,-70.9759 42.0899,-70.9754 42.0902,-70.9756 42.0906,-70.9753 42.0907,-70.9753 42.0917,-70.9757 42.0924,-70.9755 42.0928,-70.9755 42.0942,-70.9751 42.0948,-70.9755 42.0953,-70.9751 42.0958,-70.9751 42.0962,-70.9759 42.0983,-70.9767 42.0987,-70.9768 42.0991,-70.9771 42.0997,-70.9771 42.1003,-70.9768 42.1005,-70.977 42.1011,-70.9766 42.1019,-70.9768 42.1026,-70.9769 42.1033,-70.9775 42.1042,-70.9773 42.1043,-70.9776 42.1043,-70.9778 42.1048,-70.9773 42.1058,-70.9774 42.1061,-70.9779 42.1065,-70.9782 42.1078,-70.9788 42.1085,-70.9798 42.1087,-70.9806 42.109,-70.9807 42.1093,-70.9806 42.1099,-70.9809 42.1109,-70.9808 42.1112,-70.9798 42.1116,-70.9792 42.1127,-70.979 42.1129,-70.9787 42.1134,-70.979 42.1139,-70.9791 42.1141,-70.9987 42.1116,-71.0022 42.1273,
        -70.9408 42.1513,-70.9315 42.1165,-70.916 42.1002)))',4326);
</pre></div><div class="refsection" id="idm9277"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_PointFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointFromText — Faz um ponto de um WKT com o SRID dado. Se o SRID não for dado, isso leva a desconhecido. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PointFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_PointFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9303"><h2>Descrição</h2><p>Constructs a PostGIS ST_Geometry point object from the OGC Well-Known text representation. If SRID is not given, it defaults to unknown (currently 0). If geometry is not a WKT point representation, returns null. If completely invalid WKT, then throws an error.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Existem 2 variantes da função ST_PointFromText, a primeira não pega nenhuma SRID e retorna uma geometria sem sistema de referência espacial definido. A segunda, pega uma id referência espacial como o segundo argumento e retorna uma ST_Geometry que inclui esse srid como parte dos seus metadados. O srid deve ser definido na spatial_ref_sys table.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você tem total certeza de que todas suas geometrias WKT são pontos, não use essa função. Ela é mais devagar que a ST_GeomFromText, já que adiciona um passo de validação adicional. Se você está construindo pontos de coordenadas long lat e se importa mais com apresentação e  precisão do que com concordância OGC, use: <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a> ou <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2 - opção SRID é da suíte de conformidade. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 6.1.8</p></div><div class="refsection" id="idm9321"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_PointFromText('POINT(-71.064544 42.28787)');
SELECT ST_PointFromText('POINT(-71.064544 42.28787)', 4326);
        </pre></div><div class="refsection" id="idm9324"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_PolygonFromText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PolygonFromText — Makes a Geometry from WKT with the given SRID. If SRID is not given, it defaults to 0.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PolygonFromText</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_PolygonFromText</strong>(</code>text  <var class="pdparam">WKT</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9352"><h2>Descrição</h2><p>Makes a Geometry from WKT with the given SRID. If SRID is not given, it defaults to 0. Returns null if WKT is not a polygon.</p><p>OGC SPEC 3.2.6.2 - opção SRID é de uma suíte de conformação</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você tem total certeza de que todas suas geometrias WKT são polígonos, não use essa função. Ela é mais devagar que a ST_GeomFromText, já que adiciona um passo de validação adicional. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 8.3.6</p></div><div class="refsection" id="idm9367"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_PolygonFromText('POLYGON((-71.1776585052917 42.3902909739571,-71.1776820268866 42.3903701743239,
-71.1776063012595 42.3903825660754,-71.1775826583081 42.3903033653531,-71.1776585052917 42.3902909739571))');
st_polygonfromtext
------------------
010300000001000000050000006...


SELECT ST_PolygonFromText('POINT(1 2)') IS NULL as point_is_notpoly;

point_is_not_poly
----------
t
</pre></div><div class="refsection" id="idm9370"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_WKTToSQL"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_WKTToSQL — Retorna um valor ST_Geometry especifico da representação de texto estendida bem conhecida (EWKT). Isso é um heterônimo para ST_GeomFromText</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_WKTToSQL</strong>(</code>text  <var class="pdparam">WKT</var><code>)</code>;</p></div></div><div class="refsection" id="idm9386"><h2>Descrição</h2><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.34</p></div><div class="refsection" id="idm9392"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div></section><section class="section" id="idm9396"><div class="titlepage"><div><div><h3 class="title">7.8.2. Well-Known Binary (WKB)</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_GeogFromWKB">ST_GeogFromWKB</a></span><span class="refpurpose"> — Cria uma ocasião geografia de uma geometria binária bem conhecida (WKB) ou binário estendido bem conhecido (EWKB).</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromEWKB">ST_GeomFromEWKB</a></span><span class="refpurpose"> — Retorna um valor ST_Geometry especifico da representação binária estendida bem conhecida (EWKB). </span></li><li><span class="refentrytitle"><a href="#ST_GeomFromWKB">ST_GeomFromWKB</a></span><span class="refpurpose"> — Criar uma geometria exemplo de um representação bem conhecida de geometria binária (WKB) e SRID opcional.</span></li><li><span class="refentrytitle"><a href="#ST_LineFromWKB">ST_LineFromWKB</a></span><span class="refpurpose"> — Faz uma  <code class="varname">LINESTRING</code> de uma WKB com o SRID dado</span></li><li><span class="refentrytitle"><a href="#ST_LinestringFromWKB">ST_LinestringFromWKB</a></span><span class="refpurpose"> — Faz uma geometria de uma WKB  com o SRID dado.</span></li><li><span class="refentrytitle"><a href="#ST_PointFromWKB">ST_PointFromWKB</a></span><span class="refpurpose"> — Faz uma geometria a partir de um WKB com o SRID dado</span></li><li><span class="refentrytitle"><a href="#ST_WKBToSQL">ST_WKBToSQL</a></span><span class="refpurpose"> — Retorna um valor ST_Geometry especifico da representação de texto binário bem conhecida (WKB). Isso é um heterônimo para ST_GeomFromWKB que não pega nenhum srid</span></li></ul></div><div class="refentry" id="ST_GeogFromWKB"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeogFromWKB — Cria uma ocasião geografia de uma geometria binária bem conhecida (WKB) ou binário estendido bem conhecido (EWKB).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geography <strong class="fsfunc">ST_GeogFromWKB</strong>(</code>bytea  <var class="pdparam">wkb</var><code>)</code>;</p></div></div><div class="refsection" id="idm9410"><h2>Descrição</h2><p>A função <code class="varname">ST_GeogFromWKB</code>, pega uma representação binária bem conhecida (WKB) de uma geometria ou WKB estendida do POstGIS e cria uma ocasião do tipo de geografia apropriado. Essa função cumpre o papel da Fábrica de Geometria em SQL. </p><p>Se a SRID não está especificado, isso leva a  4326 (WGS 84 long lat).</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm9419"><h2>Exemplos</h2><pre class="programlisting">--Although bytea rep contains single \, these need to be escaped when inserting into a table
SELECT ST_AsText(
ST_GeogFromWKB(E'\\001\\002\\000\\000\\000\\002\\000\\000\\000\\037\\205\\353Q\\270~\\\\\\300\\323Mb\\020X\\231C@\\020X9\\264\\310~\\\\\\300)\\\\\\217\\302\\365\\230C@')
);
                                          st_astext
------------------------------------------------------
 LINESTRING(-113.98 39.198,-113.981 39.195)
(1 row)

</pre></div><div class="refsection" id="idm9422"><h2>Veja também</h2><p><a class="xref" href="#ST_GeogFromText" title="ST_GeogFromText">ST_GeogFromText</a>, <a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a></p></div></div><div class="refentry" id="ST_GeomFromEWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromEWKB — Retorna um valor ST_Geometry especifico da representação binária estendida bem conhecida (EWKB). </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromEWKB</strong>(</code>bytea  <var class="pdparam">EWKB</var><code>)</code>;</p></div></div><div class="refsection" id="idm9439"><h2>Descrição</h2><p>Constrói um objeto PostGIS ST_Geometry da representação binária estendida bem conhecida OGC (EWKT).</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O formato EWKB não é um padrão OGC, mas um formato específico PostGIS que inclui o identificador de sistema de referência espacial (SRID).</p></td></tr></table></div><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas e TIN foi introduzido.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm9461"><h2>Exemplos</h2><p>line string binary rep 0f LINESTRING(-71.160281 42.258729,-71.160837 42.259113,-71.161144 42.25932) in NAD 83 long lat (4269).</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTA: Mesmo que os byte arrays seja delimitados com \ e talvez tenham ', precisamos escapar ambos com \ e " se as standard_conforming_strings estão deligadas. então, isso não parece exatamente como uma representação AsEWKB.</p></td></tr></table></div><pre class="programlisting">SELECT ST_GeomFromEWKB(E'\\001\\002\\000\\000 \\255\\020\\000\\000\\003\\000\\000\\000\\344J=
\\013B\\312Q\\300n\\303(\\010\\036!E@''\\277E''K
\\312Q\\300\\366{b\\235*!E@\\225|\\354.P\\312Q
\\300p\\231\\323e1!E@');</pre><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>In PostgreSQL 9.1+ - standard_conforming_strings is set to on by default, where as in past versions it was set to off. You can change defaults as needed for a single query or at the database or server level. Below is how you would do it with standard_conforming_strings = on. In this case we escape the ' with standard ansi ', but slashes are not escaped</p></td></tr></table></div><pre class="programlisting">set standard_conforming_strings = on;
SELECT ST_GeomFromEWKB('\001\002\000\000 \255\020\000\000\003\000\000\000\344J=\012\013B
    \312Q\300n\303(\010\036!E@''\277E''K\012\312Q\300\366{b\235*!E@\225|\354.P\312Q\012\300p\231\323e1')</pre></div><div class="refsection" id="idm9470"><h2>Veja também</h2><p><a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>, <a class="xref" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a>, <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a></p></div></div><div class="refentry" id="ST_GeomFromWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromWKB — Criar uma geometria exemplo de um representação bem conhecida de geometria binária (WKB) e SRID opcional.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromWKB</strong>(</code>bytea  <var class="pdparam">geom</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromWKB</strong>(</code>bytea  <var class="pdparam">geom</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9497"><h2>Descrição</h2><p>A função <code class="varname">ST_GeomFromWKB</code>, pega uma representação binária bem conhecida de uma geometria e um sistema de referência espacial ID (<code class="varname">SRID</code>) e cria um exemplo do tipo apropriado de geometria. Essa função cumpre o papel da Fábrica de Geometria na SQL. Isso é um nome alternativo para ST_WKBToSQL.</p><p>Se o SRID não for especificado, leva a 0 (desconhecido).</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.7.2 - o SRID opcional é da suíte de conformidade. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.41</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm9516"><h2>Exemplos</h2><pre class="programlisting">--Although bytea rep contains single \, these need to be escaped when inserting into a table
                -- unless standard_conforming_strings is set to on.
SELECT ST_AsEWKT(
ST_GeomFromWKB(E'\\001\\002\\000\\000\\000\\002\\000\\000\\000\\037\\205\\353Q\\270~\\\\\\300\\323Mb\\020X\\231C@\\020X9\\264\\310~\\\\\\300)\\\\\\217\\302\\365\\230C@',4326)
);
                                          st_asewkt
------------------------------------------------------
 SRID=4326;LINESTRING(-113.98 39.198,-113.981 39.195)
(1 row)

SELECT
  ST_AsText(
        ST_GeomFromWKB(
          ST_AsEWKB('POINT(2 5)'::geometry)
        )
  );
 st_astext
------------
 POINT(2 5)
(1 row)</pre></div><div class="refsection" id="idm9519"><h2>Veja também</h2><p><a class="xref" href="#ST_WKBToSQL" title="ST_WKBToSQL">ST_WKBToSQL</a>, <a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>, <a class="xref" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a></p></div></div><div class="refentry" id="ST_LineFromWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineFromWKB — Faz uma  <code class="varname">LINESTRING</code> de uma WKB com o SRID dado</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineFromWKB</strong>(</code>bytea  <var class="pdparam">WKB</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineFromWKB</strong>(</code>bytea  <var class="pdparam">WKB</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9547"><h2>Descrição</h2><p>A função <code class="varname">ST_LineFromWKB</code>, pega uma representação binária bem conhecida de geometria e um sistema de referência espacial ID (<code class="varname">SRID</code>) e cria um exemplo do tipo apropriado de geometria - nesse caso, uma geometria <code class="varname">LINESTRING</code> . Essa função cumpre o papel da Fábrica de Geometria SQL.</p><p>Se um SRID não estiver especificado, isso leva a 0. Retorna <code class="varname">NULA</code> se a entrada <code class="varname">bytea</code> não representa uma <code class="varname">LINESTRING</code>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>OGC SPEC 3.2.6.2 - opção SRID é de uma suíte de conformação.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você sabe que todas suas geometrias são <code class="varname">LINESTRING</code>s, é mais eficaz usar  <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>. Essa função convida <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a> e adiciona validação extra que ela retorna uma linestring. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 7.2.9</p></div><div class="refsection" id="idm9573"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_LineFromWKB(ST_AsBinary(ST_GeomFromText('LINESTRING(1 2, 3 4)'))) AS aline,
                ST_LineFromWKB(ST_AsBinary(ST_GeomFromText('POINT(1 2)'))) IS NULL AS null_return;
aline                            | null_return
------------------------------------------------
010200000002000000000000000000F ... | t
                </pre></div><div class="refsection" id="idm9576"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>, <a class="xref" href="#ST_LinestringFromWKB" title="ST_LinestringFromWKB">ST_LinestringFromWKB</a></p></div></div><div class="refentry" id="ST_LinestringFromWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LinestringFromWKB — Faz uma geometria de uma WKB  com o SRID dado.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LinestringFromWKB</strong>(</code>bytea  <var class="pdparam">WKB</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_LinestringFromWKB</strong>(</code>bytea  <var class="pdparam">WKB</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9602"><h2>Descrição</h2><p>A função <code class="varname">ST_LinestringFromWKB</code>, pega uma representação binária bem conhecida de geometria e um sistema de referência espacial ID (<code class="varname">SRID</code>) e cria um exemplo do tipo apropriado de geometria - nesse caso, uma geometria <code class="varname">LINESTRING</code> . Essa função cumpre o papel da Fábrica de Geometria SQL.</p><p>Se um SRID não estiver especificado, isso leva a 0. Retorna <code class="varname">NULA</code> se a entrada <code class="varname">bytea</code> não representa uma geometria <code class="varname">LINESTRING</code>. Isso é um heterônimo para <a class="xref" href="#ST_LineFromWKB" title="ST_LineFromWKB">ST_LineFromWKB</a>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>OGC SPEC 3.2.6.2 - o SRID opcional é da suíte de conformação.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você sabe que todas suas geometrias são <code class="varname">LINESTRING</code>s, é mais eficaz usar  <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>. Essa função convida <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a> e adiciona validação extra que ela retorna uma <code class="varname">LINESTRING</code>.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.6.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 7.2.9</p></div><div class="refsection" id="idm9630"><h2>Exemplos</h2><pre class="programlisting">SELECT
  ST_LineStringFromWKB(
        ST_AsBinary(ST_GeomFromText('LINESTRING(1 2, 3 4)'))
  ) AS aline,
  ST_LinestringFromWKB(
        ST_AsBinary(ST_GeomFromText('POINT(1 2)'))
  ) IS NULL AS null_return;
   aline                            | null_return
------------------------------------------------
010200000002000000000000000000F ... | t</pre></div><div class="refsection" id="idm9633"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>, <a class="xref" href="#ST_LineFromWKB" title="ST_LineFromWKB">ST_LineFromWKB</a></p></div></div><div class="refentry" id="ST_PointFromWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointFromWKB — Faz uma geometria a partir de um WKB com o SRID dado</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromWKB</strong>(</code>bytea  <var class="pdparam">geom</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromWKB</strong>(</code>bytea  <var class="pdparam">geom</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9659"><h2>Descrição</h2><p>A função <code class="varname">ST_PointFromWKB</code>, pega uma representação binária bem conhecida de geometria e um sistema de referência espacial ID (<code class="varname">SRID</code>) e cria um exemplo do tipo apropriado de geometria - nesse caso, uma geometria <code class="varname">PONTO</code> . Essa função cumpre o papel da Fábrica de Geometria SQL.</p><p>Se uma SRID não for especificada, leva a 0. <code class="varname">NULO</code> é retornado se a entrada <code class="varname">bytea</code> não representar uma <code class="varname">PONTO</code> geometria.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.7.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 6.1.9</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm9686"><h2>Exemplos</h2><pre class="programlisting">SELECT
  ST_AsText(
        ST_PointFromWKB(
          ST_AsEWKB('POINT(2 5)'::geometry)
        )
  );
 st_astext
------------
 POINT(2 5)
(1 row)

SELECT
  ST_AsText(
        ST_PointFromWKB(
          ST_AsEWKB('LINESTRING(2 5, 2 6)'::geometry)
        )
  );
 st_astext
-----------

(1 row)</pre></div><div class="refsection" id="idm9689"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>, <a class="xref" href="#ST_LineFromWKB" title="ST_LineFromWKB">ST_LineFromWKB</a></p></div></div><div class="refentry" id="ST_WKBToSQL"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_WKBToSQL — Retorna um valor ST_Geometry especifico da representação de texto binário bem conhecida (WKB). Isso é um heterônimo para ST_GeomFromWKB que não pega nenhum srid</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_WKBToSQL</strong>(</code>bytea  <var class="pdparam">WKB</var><code>)</code>;</p></div></div><div class="refsection" id="idm9706"><h2>Descrição</h2><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.36</p></div><div class="refsection" id="idm9712"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a></p></div></div></section><section class="section" id="idm9716"><div class="titlepage"><div><div><h3 class="title">7.8.3. Other Formats</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_Box2dFromGeoHash">ST_Box2dFromGeoHash</a></span><span class="refpurpose"> — Retorna uma CAIXA2D de uma string GeoHash.</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromGeoHash">ST_GeomFromGeoHash</a></span><span class="refpurpose"> — Retorna uma geometria de uma string GeoHash.</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromGML">ST_GeomFromGML</a></span><span class="refpurpose"> — Utiliza como entrada uma representação GML de geometria e como saída um objeto de geometria PostGIS</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromGeoJSON">ST_GeomFromGeoJSON</a></span><span class="refpurpose"> — Utiliza como entrada uma representação geojson de uma geometria e como saída um objeto de geometria PostGIS</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromKML">ST_GeomFromKML</a></span><span class="refpurpose"> — Utiliza como entrada uma representação KML de geometria e como saída um objeto de geometria PostGIS</span></li><li><span class="refentrytitle"><a href="#ST_GeomFromTWKB">ST_GeomFromTWKB</a></span><span class="refpurpose"> — Cria uma ocasião de uma TWKB ("Tiny Well-Known Binary") representação de geometria.</span></li><li><span class="refentrytitle"><a href="#ST_GMLToSQL">ST_GMLToSQL</a></span><span class="refpurpose"> — Retorna um valor ST_Geometry específico da representação GML. Esse é um heterônimo para ST_GeomFromGML</span></li><li><span class="refentrytitle"><a href="#ST_LineFromEncodedPolyline">ST_LineFromEncodedPolyline</a></span><span class="refpurpose"> — Cria uma LineString de uma Encoded Polyline.</span></li><li><span class="refentrytitle"><a href="#ST_PointFromGeoHash">ST_PointFromGeoHash</a></span><span class="refpurpose"> — Retorna um ponto de uma string GeoHash.</span></li><li><span class="refentrytitle"><a href="#ST_FromFlatGeobufToTable">ST_FromFlatGeobufToTable</a></span><span class="refpurpose"> — Creates a table based on the structure of FlatGeobuf data.</span></li><li><span class="refentrytitle"><a href="#ST_FromFlatGeobuf">ST_FromFlatGeobuf</a></span><span class="refpurpose"> — Reads FlatGeobuf data.</span></li></ul></div><div class="refentry" id="ST_Box2dFromGeoHash"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Box2dFromGeoHash — Retorna uma CAIXA2D de uma string GeoHash.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box2d <strong class="fsfunc">ST_Box2dFromGeoHash</strong>(</code>text  <var class="pdparam">geohash</var>, integer  <var class="pdparam">precision=full_precision_of_geohash</var><code>)</code>;</p></div></div><div class="refsection" id="idm9733"><h2>Descrição</h2><p>Retorna uma CAIXA2D de uma string GeoHash.</p><p>If no <code class="varname">precision</code> is specified ST_Box2dFromGeoHash returns a BOX2D based on full precision of the input GeoHash string.</p><p>Se a <code class="varname">precisão</code> é especificada, a ST_Box2dFromGeoHash irá usar aqueles vários caracteres do GeoHash para criar a CAIXA2D. Valores de precisão mais baixos resultam em CAIXAS2D maiores e valores maiores aumentam a precisão. </p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm9741"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_Box2dFromGeoHash('9qqj7nmxncgyy4d0dbxqz0');

                st_geomfromgeohash
--------------------------------------------------
 BOX(-115.172816 36.114646,-115.172816 36.114646)

SELECT ST_Box2dFromGeoHash('9qqj7nmxncgyy4d0dbxqz0', 0);

 st_box2dfromgeohash
----------------------
 BOX(-180 -90,180 90)

 SELECT ST_Box2dFromGeoHash('9qqj7nmxncgyy4d0dbxqz0', 10);
                            st_box2dfromgeohash
---------------------------------------------------------------------------
 BOX(-115.17282128334 36.1146408319473,-115.172810554504 36.1146461963654)

                </pre></div><div class="refsection" id="idm9744"><h2>Veja também</h2><p><a class="xref" href="#ST_GeoHash" title="ST_GeoHash">ST_GeoHash</a>, <a class="xref" href="#ST_GeomFromGeoHash" title="ST_GeomFromGeoHash">ST_GeomFromGeoHash</a>, <a class="xref" href="#ST_PointFromGeoHash" title="ST_PointFromGeoHash">ST_PointFromGeoHash</a></p></div></div><div class="refentry" id="ST_GeomFromGeoHash"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromGeoHash — Retorna uma geometria de uma string GeoHash.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromGeoHash</strong>(</code>text  <var class="pdparam">geohash</var>, integer  <var class="pdparam">precision=full_precision_of_geohash</var><code>)</code>;</p></div></div><div class="refsection" id="idm9765"><h2>Descrição</h2><p>Retorna uma geometria de uma string GeoHash. A geometria será um polígono representando os limites GeoHash.</p><p>Se nenhuma <code class="varname">precisão</code> for especificada, a ST_GeomFromGeoHash retorna um polígono baseado na precisão completa da string de entrada GeoHash.</p><p>Se a <code class="varname">precisão</code> for especificada, a ST_GeomFromGeoHash irá usar aqueles vários caracteres do GeoHash para criar o polígono.</p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm9773"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_GeomFromGeoHash('9qqj7nmxncgyy4d0dbxqz0'));
                                                        st_astext
--------------------------------------------------------------------------------------------------------------------------
 POLYGON((-115.172816 36.114646,-115.172816 36.114646,-115.172816 36.114646,-115.172816 36.114646,-115.172816 36.114646))

SELECT ST_AsText(ST_GeomFromGeoHash('9qqj7nmxncgyy4d0dbxqz0', 4));
                                                          st_astext
------------------------------------------------------------------------------------------------------------------------------
 POLYGON((-115.3125 36.03515625,-115.3125 36.2109375,-114.9609375 36.2109375,-114.9609375 36.03515625,-115.3125 36.03515625))

SELECT ST_AsText(ST_GeomFromGeoHash('9qqj7nmxncgyy4d0dbxqz0', 10));
                                                                                       st_astext
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 POLYGON((-115.17282128334 36.1146408319473,-115.17282128334 36.1146461963654,-115.172810554504 36.1146461963654,-115.172810554504 36.1146408319473,-115.17282128334 36.1146408319473))

                </pre></div><div class="refsection" id="idm9776"><h2>Veja também</h2><p><a class="xref" href="#ST_GeoHash" title="ST_GeoHash">ST_GeoHash</a>,<a class="xref" href="#ST_Box2dFromGeoHash" title="ST_Box2dFromGeoHash">ST_Box2dFromGeoHash</a>, <a class="xref" href="#ST_PointFromGeoHash" title="ST_PointFromGeoHash">ST_PointFromGeoHash</a></p></div></div><div class="refentry" id="ST_GeomFromGML"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromGML — Utiliza como entrada uma representação GML de geometria e como saída um objeto de geometria PostGIS</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromGML</strong>(</code>text  <var class="pdparam">geomgml</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromGML</strong>(</code>text  <var class="pdparam">geomgml</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9803"><h2>Descrição</h2><p>Constrói um objeto PostGIS ST_Geometry de uma representação OGC GML.</p><p>A ST_GeomFromGML funciona apenas para fragmentos  da geometria GML. Ela descarta um erro, se você tentar usá-la em um documento inteiro GML.</p><p>OGC GML versions supported: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>GML 3.2.1 Namespace</p></li><li class="listitem"><p>GML 3.1.1 Simple Features profile SF-2 (with GML 3.1.0 and 3.0.0 backward compatibility)</p></li><li class="listitem"><p>GML 2.1.2</p></li></ul></div><p> OGC GML standards, cf: <a class="link" href="http://www.opengeospatial.org/standards/gml" target="_top">http://www.opengeospatial.org/standards/gml</a>: </p><p class="availability">Disponibilidade:1.5, requer libxml2 1.6+</p><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas e TIN foi introduzido.</p><p class="enhanced">Melhorias: 2.0.0 parâmetro opcional padrão srid adicionado.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>GML permite dimensões mescladas (2D e 3D dentro da mesma MultiGeometria, por exemplo). ST_GeomFromGML converte a geometria inteira para 2D se uma dimensão Z perdida for encontrada uma vez, as geometrias do PostGIS não fazem isso.</p><p>A GML suporta SRS misturadas dentro da mesma MultiGeometria. As ST_GeomFromGML, reprojetam todas as sub geometrias para o nó raiz da SRS, as geometrias PostGIS não fazem isso. Se nenhum srsNome atribui disponível para o nó raiz GML, a função descarta um erro.</p><p>A função ST_GeomFromGML não é afetada sobre um espaço de nome específico GML. Você poderia evitar mencionar ela explicitamente para usos comuns. Mas você precisa dela se quiser usar XLink dentro de GML. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A função ST_GeomFromGML não suporta geometrias SQL/MM curvas.</p></td></tr></table></div></div><div class="refsection" id="idm9836"><h2>Exemplos - Uma única geometria com srsNome</h2><pre class="programlisting">
SELECT ST_GeomFromGML($$
    &lt;gml:LineString xmlns:gml="http://www.opengis.net/gml"
                        srsName="EPSG:4269"&gt;
        &lt;gml:coordinates&gt;
            -71.16028,42.258729 -71.160837,42.259112 -71.161143,42.25932
        &lt;/gml:coordinates&gt;
    &lt;/gml:LineString&gt;
$$);

                </pre></div><div class="refsection" id="idm9839"><h2>Exemplos - Uso XLink</h2><pre class="programlisting">
SELECT ST_GeomFromGML($$
    &lt;gml:LineString xmlns:gml="http://www.opengis.net/gml"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            srsName="urn:ogc:def:crs:EPSG::4269"&gt;
        &lt;gml:pointProperty&gt;
            &lt;gml:Point gml:id="p1"
&gt;&lt;gml:pos
&gt;42.258729 -71.16028&lt;/gml:pos
&gt;&lt;/gml:Point&gt;
        &lt;/gml:pointProperty&gt;
        &lt;gml:pos
&gt;42.259112 -71.160837&lt;/gml:pos&gt;
        &lt;gml:pointProperty&gt;
            &lt;gml:Point xlink:type="simple" xlink:href="#p1"/&gt;
        &lt;/gml:pointProperty&gt;
    &lt;/gml:LineString&gt;
$$);

                </pre></div><div class="refsection" id="idm9842"><h2>Exemplos - Superfícies Poliédricas</h2><pre class="programlisting">
SELECT ST_AsEWKT(ST_GeomFromGML('
&lt;gml:PolyhedralSurface xmlns:gml="http://www.opengis.net/gml"&gt;
&lt;gml:polygonPatches&gt;
  &lt;gml:PolygonPatch&gt;
    &lt;gml:exterior&gt;
      &lt;gml:LinearRing
&gt;&lt;gml:posList srsDimension="3"
&gt;0 0 0 0 0 1 0 1 1 0 1 0 0 0 0&lt;/gml:posList
&gt;&lt;/gml:LinearRing&gt;
    &lt;/gml:exterior&gt;
  &lt;/gml:PolygonPatch&gt;
  &lt;gml:PolygonPatch&gt;
    &lt;gml:exterior&gt;
        &lt;gml:LinearRing
&gt;&lt;gml:posList srsDimension="3"
&gt;0 0 0 0 1 0 1 1 0 1 0 0 0 0 0&lt;/gml:posList
&gt;&lt;/gml:LinearRing&gt;
    &lt;/gml:exterior&gt;
  &lt;/gml:PolygonPatch&gt;
  &lt;gml:PolygonPatch&gt;
    &lt;gml:exterior&gt;
        &lt;gml:LinearRing
&gt;&lt;gml:posList srsDimension="3"
&gt;0 0 0 1 0 0 1 0 1 0 0 1 0 0 0&lt;/gml:posList
&gt;&lt;/gml:LinearRing&gt;
    &lt;/gml:exterior&gt;
  &lt;/gml:PolygonPatch&gt;
  &lt;gml:PolygonPatch&gt;
    &lt;gml:exterior&gt;
        &lt;gml:LinearRing
&gt;&lt;gml:posList srsDimension="3"
&gt;1 1 0 1 1 1 1 0 1 1 0 0 1 1 0&lt;/gml:posList
&gt;&lt;/gml:LinearRing&gt;
    &lt;/gml:exterior&gt;
  &lt;/gml:PolygonPatch&gt;
  &lt;gml:PolygonPatch&gt;
    &lt;gml:exterior&gt;
        &lt;gml:LinearRing
&gt;&lt;gml:posList srsDimension="3"
&gt;0 1 0 0 1 1 1 1 1 1 1 0 0 1 0&lt;/gml:posList
&gt;&lt;/gml:LinearRing&gt;
    &lt;/gml:exterior&gt;
  &lt;/gml:PolygonPatch&gt;
  &lt;gml:PolygonPatch&gt;
    &lt;gml:exterior&gt;
        &lt;gml:LinearRing
&gt;&lt;gml:posList srsDimension="3"
&gt;0 0 1 1 0 1 1 1 1 0 1 1 0 0 1&lt;/gml:posList
&gt;&lt;/gml:LinearRing&gt;
    &lt;/gml:exterior&gt;
  &lt;/gml:PolygonPatch&gt;
&lt;/gml:polygonPatches&gt;
&lt;/gml:PolyhedralSurface
&gt;'));

-- result --
 POLYHEDRALSURFACE(((0 0 0,0 0 1,0 1 1,0 1 0,0 0 0)),
 ((0 0 0,0 1 0,1 1 0,1 0 0,0 0 0)),
 ((0 0 0,1 0 0,1 0 1,0 0 1,0 0 0)),
 ((1 1 0,1 1 1,1 0 1,1 0 0,1 1 0)),
 ((0 1 0,0 1 1,1 1 1,1 1 0,0 1 0)),
 ((0 0 1,1 0 1,1 1 1,0 1 1,0 0 1)))
                </pre></div><div class="refsection" id="idm9845"><h2>Veja também</h2><p><a class="xref" href="#installation_configuration" title="2.2.3. Configuração">Section 2.2.3, “Configuração”</a>, <a class="xref" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a>, <a class="xref" href="#ST_GMLToSQL" title="ST_GMLToSQL">ST_GMLToSQL</a></p></div></div><div class="refentry" id="ST_GeomFromGeoJSON"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromGeoJSON — Utiliza como entrada uma representação geojson de uma geometria e como saída um objeto de geometria PostGIS</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromGeoJSON</strong>(</code>text  <var class="pdparam">geomjson</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromGeoJSON</strong>(</code>json  <var class="pdparam">geomjson</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromGeoJSON</strong>(</code>jsonb  <var class="pdparam">geomjson</var><code>)</code>;</p></div></div><div class="refsection" id="idm9875"><h2>Descrição</h2><p>Constrói um objeto de geometria PostGIS de uma representação GeoJSON.</p><p>A ST_GeomFromGeoJSON funciona apenas para fragmentos da geometria JSON. Ela descarta um erro se você tentar usá-la em um documento JSON inteiro.</p><p class="enhanced">Enhanced: 3.0.0 parsed geometry defaults to SRID=4326 if not specified otherwise.</p><p class="enhanced">Enhanced: 2.5.0 can now accept json and jsonb as inputs.</p><p class="availability">Disponibilidade: 2.0.0 requer - JSON-C &gt;= 0.9</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você não tem JSON-C ativada, o suporte apresentará uma notificação de erro ao invés de uma saída. Para ativar JSON-C, execute a configuração --with-jsondir=/path/to/json-c. Veja mais detalhes em: <a class="xref" href="#installation_configuration" title="2.2.3. Configuração">Section 2.2.3, “Configuração”</a>. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm9889"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_GeomFromGeoJSON('{"type":"Point","coordinates":[-48.23456,20.12345]}')) As wkt;
wkt
------
POINT(-48.23456 20.12345)
</pre><pre class="programlisting">-- a 3D linestring
SELECT ST_AsText(ST_GeomFromGeoJSON('{"type":"LineString","coordinates":[[1,2,3],[4,5,6],[7,8,9]]}')) As wkt;

wkt
-------------------
LINESTRING(1 2,4 5,7 8)
</pre></div><div class="refsection" id="idm9893"><h2>Veja também</h2><p><a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a>, <a class="xref" href="#installation_configuration" title="2.2.3. Configuração">Section 2.2.3, “Configuração”</a></p></div></div><div class="refentry" id="ST_GeomFromKML"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromKML — Utiliza como entrada uma representação KML de geometria e como saída um objeto de geometria PostGIS</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromKML</strong>(</code>text  <var class="pdparam">geomkml</var><code>)</code>;</p></div></div><div class="refsection" id="idm9911"><h2>Descrição</h2><p>Constrói um objeto PostGIS ST_Geometry de uma representação OGC KML.</p><p>A ST_GeomFromKML funciona apenas para fragmentos  da geometria KML. Ela descarta um erro, se você tentar usá-la em um documento inteiro KML.</p><p>OGC KML versões suportadas: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>KML 2.2.0 Namespace</p></li></ul></div><p> OGC KML standards, cf: <a class="link" href="http://www.opengeospatial.org/standards/kml" target="_top">http://www.opengeospatial.org/standards/kml</a>: </p><p class="availability">Availability: 1.5, requires libxml2 2.6+</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A função ST_GeomFromKML não suporta geometrias SQL/MM curvas.</p></td></tr></table></div></div><div class="refsection" id="idm9927"><h2>Exemplos - Uma única geometria com srsNome</h2><pre class="programlisting">
SELECT ST_GeomFromKML($$
    &lt;LineString&gt;
        &lt;coordinates
&gt;-71.1663,42.2614
            -71.1667,42.2616&lt;/coordinates&gt;
    &lt;/LineString&gt;
$$);

        </pre></div><div class="refsection" id="idm9930"><h2>Veja também</h2><p><a class="xref" href="#installation_configuration" title="2.2.3. Configuração">Section 2.2.3, “Configuração”</a>, <a class="xref" href="#ST_AsKML" title="ST_AsKML">ST_AsKML</a></p></div></div><div class="refentry" id="ST_GeomFromTWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeomFromTWKB — Cria uma ocasião de uma TWKB ("<a class="link" href="https://github.com/TWKB/Specification/blob/master/twkb.md" target="_top">Tiny Well-Known Binary</a>") representação de geometria.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeomFromTWKB</strong>(</code>bytea  <var class="pdparam">twkb</var><code>)</code>;</p></div></div><div class="refsection" id="idm9948"><h2>Descrição</h2><p>A função <code class="varname">ST_GeomFromTWKB</code>, pega uma TWKB ("<a class="link" href="https://github.com/TWKB/Specification/blob/master/twkb.md" target="_top">Tiny Well-Known Binary</a>") representação geométrica (WKB) e cria uma ocasião do tipo apropriado de geometria.</p></div><div class="refsection" id="idm9953"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_GeomFromTWKB(ST_AsTWKB('LINESTRING(126 34, 127 35)'::geometry)));

         st_astext
-----------------------------
 LINESTRING(126 34, 127 35)
(1 row)


SELECT ST_AsEWKT(
  ST_GeomFromTWKB(E'\\x620002f7f40dbce4040105')
);
                                          st_asewkt
------------------------------------------------------
LINESTRING(-113.98 39.198,-113.981 39.195)
(1 row)
</pre></div><div class="refsection" id="idm9956"><h2>Veja também</h2><p><a class="xref" href="#ST_AsTWKB" title="ST_AsTWKB">ST_AsTWKB</a></p></div></div><div class="refentry" id="ST_GMLToSQL"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GMLToSQL — Retorna um valor ST_Geometry específico da representação GML. Esse é um heterônimo para ST_GeomFromGML</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GMLToSQL</strong>(</code>text  <var class="pdparam">geomgml</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_GMLToSQL</strong>(</code>text  <var class="pdparam">geomgml</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm9981"><h2>Descrição</h2><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.50 (exceto para curvas suporte).</p><p class="availability">Disponibilidade:1.5, requer libxml2 1.6+</p><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas e TIN foi introduzido.</p><p class="enhanced">Melhorias: 2.0.0 parâmetro opcional padrão srid adicionado.</p></div><div class="refsection" id="idm9990"><h2>Veja também</h2><p><a class="xref" href="#installation_configuration" title="2.2.3. Configuração">Section 2.2.3, “Configuração”</a>, <a class="xref" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a>, <a class="xref" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a></p></div></div><div class="refentry" id="ST_LineFromEncodedPolyline"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineFromEncodedPolyline — Cria uma LineString de uma Encoded Polyline.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineFromEncodedPolyline</strong>(</code>text  <var class="pdparam">polyline</var>, integer  <var class="pdparam">precision=5</var><code>)</code>;</p></div></div><div class="refsection" id="idm10011"><h2>Descrição</h2><p>Cria uma LineString de uma string Encoded Polyline.</p><p>Optional <code class="varname">precision</code> specifies how many decimal places will be preserved in Encoded Polyline. Value should be the same on encoding and decoding, or coordinates will be incorrect.</p><p>Veja http://developers.google.com/maps/documentation/utilities/polylinealgorithm</p><p class="availability">Disponibilidade: 2.2.0</p></div><div class="refsection" id="idm10018"><h2>Exemplos</h2><pre class="programlisting">-- Create a line string from a polyline
SELECT ST_AsEWKT(ST_LineFromEncodedPolyline('_p~iF~ps|U_ulLnnqC_mqNvxq`@'));
-- result --
SRID=4326;LINESTRING(-120.2 38.5,-120.95 40.7,-126.453 43.252)

-- Select different precision that was used for polyline encoding
SELECT ST_AsEWKT(ST_LineFromEncodedPolyline('_p~iF~ps|U_ulLnnqC_mqNvxq`@',6));
-- result --
SRID=4326;LINESTRING(-12.02 3.85,-12.095 4.07,-12.6453 4.3252)

    </pre></div><div class="refsection" id="idm10021"><h2>Veja também</h2><p><a class="xref" href="#ST_AsEncodedPolyline" title="ST_AsEncodedPolyline">ST_AsEncodedPolyline</a></p></div></div><div class="refentry" id="ST_PointFromGeoHash"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointFromGeoHash — Retorna um ponto de uma string GeoHash.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">point <strong class="fsfunc">ST_PointFromGeoHash</strong>(</code>text  <var class="pdparam">geohash</var>, integer  <var class="pdparam">precision=full_precision_of_geohash</var><code>)</code>;</p></div></div><div class="refsection" id="idm10040"><h2>Descrição</h2><p>Retorna um ponto de uma string GeoHash. O ponto representa o ponto central do GeoHash.</p><p>Se nenhuma <code class="varname">precisão</code> for especificada, a ST_PointFromGeoHash retorna um ponto baseado na precisão completa da string da entrada GeoHash.</p><p>Se a <code class="varname">precisão</code> for especificada, a ST_PointFromGeoHash irá usar aqueles vários caracteres do GeoHash para criar o ponto.</p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm10048"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_PointFromGeoHash('9qqj7nmxncgyy4d0dbxqz0'));
          st_astext
------------------------------
 POINT(-115.172816 36.114646)

SELECT ST_AsText(ST_PointFromGeoHash('9qqj7nmxncgyy4d0dbxqz0', 4));
             st_astext
-----------------------------------
 POINT(-115.13671875 36.123046875)

SELECT ST_AsText(ST_PointFromGeoHash('9qqj7nmxncgyy4d0dbxqz0', 10));
                 st_astext
-------------------------------------------
 POINT(-115.172815918922 36.1146435141563)

                </pre></div><div class="refsection" id="idm10051"><h2>Veja também</h2><p><a class="xref" href="#ST_GeoHash" title="ST_GeoHash">ST_GeoHash</a>, <a class="xref" href="#ST_Box2dFromGeoHash" title="ST_Box2dFromGeoHash">ST_Box2dFromGeoHash</a>, <a class="xref" href="#ST_GeomFromGeoHash" title="ST_GeomFromGeoHash">ST_GeomFromGeoHash</a></p></div></div><div class="refentry" id="ST_FromFlatGeobufToTable"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_FromFlatGeobufToTable — Creates a table based on the structure of FlatGeobuf data.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">void <strong class="fsfunc">ST_FromFlatGeobufToTable</strong>(</code>text  <var class="pdparam">schemaname</var>, text  <var class="pdparam">tablename</var>, bytea  <var class="pdparam">FlatGeobuf input data</var><code>)</code>;</p></div></div><div class="refsection" id="idm10075"><h2>Descrição</h2><p>Creates a table based on the structure of FlatGeobuf data. (<a class="link" href="http://flatgeobuf.org" target="_top">http://flatgeobuf.org</a>). </p><p><code class="varname">schema</code> Schema name.</p><p><code class="varname">table</code> Table name.</p><p><code class="varname">data</code> Input FlatGeobuf data.</p><p class="availability">Availability: 3.2.0</p></div></div><div class="refentry" id="ST_FromFlatGeobuf"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_FromFlatGeobuf — Reads FlatGeobuf data.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof anyelement <strong class="fsfunc">ST_FromFlatGeobuf</strong>(</code>anyelement  <var class="pdparam">Table reference</var>, bytea  <var class="pdparam">FlatGeobuf input data</var><code>)</code>;</p></div></div><div class="refsection" id="idm10101"><h2>Descrição</h2><p>Reads FlatGeobuf data (<a class="link" href="http://flatgeobuf.org" target="_top">http://flatgeobuf.org</a>). NOTE: PostgreSQL bytea cannot exceed 1GB. </p><p><code class="varname">tabletype</code> reference to a table type.</p><p><code class="varname">data</code> input FlatGeobuf data.</p><p class="availability">Availability: 3.2.0</p></div></div></section></section><section class="section" id="Geometry_Outputs"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.9. Geometry Output</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions convert geometry objects into various textual or binary formats.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#idm10115">7.9.1. Well-Known Text (WKT)</a></span></li><li><span class="section"><a href="#idm10283">7.9.2. Well-Known Binary (WKB)</a></span></li><li><span class="section"><a href="#idm10473">7.9.3. Other Formats</a></span></li></ul></div><section class="section" id="idm10115"><div class="titlepage"><div><div><h3 class="title">7.9.1. Well-Known Text (WKT)</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_AsEWKT">ST_AsEWKT</a></span><span class="refpurpose"> — Retorna a representação de texto bem conhecida (WKT) da geometria com os meta dados SRID.</span></li><li><span class="refentrytitle"><a href="#ST_AsText">ST_AsText</a></span><span class="refpurpose"> — Retorna a representação de texto bem conhecida (WKT) da geometria/geografia sem os meta dados do SRID.</span></li></ul></div><div class="refentry" id="ST_AsEWKT"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsEWKT — Retorna a representação de texto bem conhecida (WKT) da geometria com os meta dados SRID.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsEWKT</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsEWKT</strong>(</code>geometry  <var class="pdparam">g1</var>, integer  <var class="pdparam">maxdecimaldigits=15</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsEWKT</strong>(</code>geography  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsEWKT</strong>(</code>geography  <var class="pdparam">g1</var>, integer  <var class="pdparam">maxdecimaldigits=15</var><code>)</code>;</p></div></div><div class="refsection" id="idm10153"><h2>Descrição</h2><p>Returns the Well-Known Text representation of the geometry prefixed with the SRID. The optional <em class="parameter"><code>maxdecimaldigits</code></em> argument may be used to reduce the maximum number of decimal digits after floating point used in output (defaults to 15).</p><p>To perform the inverse conversion of EWKT representation to PostGIS geometry use <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>.</p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Using the <em class="parameter"><code>maxdecimaldigits</code></em> parameter can cause output geometry to become invalid. To avoid this use <a class="xref" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a> with a suitable gridsize first. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The WKT spec does not include the SRID. To get the OGC WKT format use <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>.</p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>WKT format does not maintain precision so to prevent floating truncation, use <a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> or <a class="xref" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a> format for transport.</p></td></tr></table></div><p class="enhanced">Enhanced: 3.1.0 support for optional precision parameter.</p><p class="enhanced">Melhorias: 2.0.0 suporte para geografia, superfícies poliédricas, triângulos e TIN foi introduzido.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm10188"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsEWKT('0103000020E61000000100000005000000000000
                        000000000000000000000000000000000000000000000000000000
                        F03F000000000000F03F000000000000F03F000000000000F03
                        F000000000000000000000000000000000000000000000000'::geometry);

                   st_asewkt
--------------------------------
SRID=4326;POLYGON((0 0,0 1,1 1,1 0,0 0))
(1 row)

SELECT ST_AsEWKT('0108000080030000000000000060E30A4100000000785C0241000000000000F03F0000000018
E20A4100000000485F024100000000000000400000000018
E20A4100000000305C02410000000000000840')

--st_asewkt---
CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)
</pre></div><div class="refsection" id="idm10191"><h2>Veja também</h2><p><a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>, <a class="xref" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a></p></div></div><div class="refentry" id="ST_AsText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsText — Retorna a representação de texto bem conhecida (WKT) da geometria/geografia sem os meta dados do SRID.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsText</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsText</strong>(</code>geometry  <var class="pdparam">g1</var>, integer  <var class="pdparam">maxdecimaldigits = 15</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsText</strong>(</code>geography  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsText</strong>(</code>geography  <var class="pdparam">g1</var>, integer  <var class="pdparam">maxdecimaldigits = 15</var><code>)</code>;</p></div></div><div class="refsection" id="idm10234"><h2>Descrição</h2><p>Returns the OGC <a class="link" href="#OpenGISWKBWKT" title="4.1.3. OpenGIS WKB e WKT">Well-Known Text</a> (WKT) representation of the geometry/geography. The optional <em class="parameter"><code>maxdecimaldigits</code></em> argument may be used to limit the number of digits after the decimal point in output ordinates (defaults to 15).</p><p>To perform the inverse conversion of WKT representation to PostGIS geometry use <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The standard OGC WKT representation does not include the SRID. To include the SRID as part of the output representation, use the non-standard PostGIS function <a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a></p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The textual representation of numbers in WKT may not maintain full floating-point precision. To ensure full accuracy for data storage or transport it is best to use <a class="link" href="#OpenGISWKBWKT" title="4.1.3. OpenGIS WKB e WKT">Well-Known Binary</a> (WKB) format (see <a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> and <em class="parameter"><code>maxdecimaldigits</code></em>).</p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Using the <em class="parameter"><code>maxdecimaldigits</code></em> parameter can cause output geometry to become invalid. To avoid this use <a class="xref" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a> with a suitable gridsize first. </p></td></tr></table></div><p class="availability">Disponibilidade: 1.5 - suporte para geografia foi introduzido.</p><p class="enhanced">Enhanced: 2.5 - optional parameter precision introduced.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.25</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm10268"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText('01030000000100000005000000000000000000
000000000000000000000000000000000000000000000000
F03F000000000000F03F000000000000F03F000000000000F03
F000000000000000000000000000000000000000000000000');

    st_astext
--------------------------------
 POLYGON((0 0,0 1,1 1,1 0,0 0))
</pre><p>Full precision output is the default.</p><pre class="programlisting">SELECT ST_AsText('POINT(111.1111111 1.1111111)'));
    st_astext
------------------------------
 POINT(111.1111111 1.1111111)
</pre><p>The <em class="parameter"><code>maxdecimaldigits</code></em> argument can be used to limit output precision.</p><pre class="programlisting">SELECT ST_AsText('POINT(111.1111111 1.1111111)'), 2);
    st_astext
--------------------
 POINT(111.11 1.11)
</pre></div><div class="refsection" id="idm10276"><h2>Veja também</h2><p><a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>, <a class="xref" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a>, <a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div></section><section class="section" id="idm10283"><div class="titlepage"><div><div><h3 class="title">7.9.2. Well-Known Binary (WKB)</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_AsBinary">ST_AsBinary</a></span><span class="refpurpose"> — Return the OGC/ISO Well-Known Binary (WKB) representation of the geometry/geography without SRID meta data.</span></li><li><span class="refentrytitle"><a href="#ST_AsEWKB">ST_AsEWKB</a></span><span class="refpurpose"> — Return the Extended Well-Known Binary (EWKB) representation of the geometry with SRID meta data.</span></li><li><span class="refentrytitle"><a href="#ST_AsHEXEWKB">ST_AsHEXEWKB</a></span><span class="refpurpose"> — Retorna uma geometria no formato HEXEWKB (como texto) usando little-endian (NDR) ou big-endian (XDR) encoding.</span></li></ul></div><div class="refentry" id="ST_AsBinary"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsBinary — Return the OGC/ISO Well-Known Binary (WKB) representation of the geometry/geography without SRID meta data.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsBinary</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsBinary</strong>(</code>geometry  <var class="pdparam">g1</var>, text <var class="pdparam">NDR_or_XDR</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsBinary</strong>(</code>geography  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsBinary</strong>(</code>geography  <var class="pdparam">g1</var>, text <var class="pdparam">NDR_or_XDR</var><code>)</code>;</p></div></div><div class="refsection" id="idm10321"><h2>Descrição</h2><p>Returns the OGC/ISO <a class="link" href="#OpenGISWKBWKT" title="4.1.3. OpenGIS WKB e WKT">Well-Known Binary</a> (WKB) representation of the geometry. The first function variant defaults to encoding using server machine endian. The second function variant takes a text argument specifying the endian encoding, either little-endian ('NDR') or big-endian ('XDR').</p><p>WKB format is useful to read geometry data from the database and maintaining full numeric precision. This avoids the precision rounding that can happen with text formats such as WKT.</p><p>To perform the inverse conversion of WKB to PostGIS geometry use <a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The OGC/ISO WKB format does not include the SRID. To get the EWKB format which does include the SRID use <a class="xref" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a></p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The default behavior in PostgreSQL 9.0 has been changed to output bytea in hex encoding. If your GUI tools require the old behavior, then SET bytea_output='escape' in your database.</p></td></tr></table></div><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p class="enhanced">Melhorias: 2.0.0 suporte para maiores dimensões de coordenadas foi introduzido.</p><p class="enhanced">Melhorias: 2.0.0 suporte para edian especificando com geografia foi introduzido.</p><p class="availability">Disponibilidade: 1.5.0 suporte para geografia foi introduzido.</p><p class="changed">Alterações: 2.0.0 Entrada para esta função não pode ser desconhecida -- deve ser geometria. Construções como <code class="code">ST_AsBinary('POINT(1 2)')</code> não são mais válidas e você terá <code class="code">n st_asbinary(desconhecido) não é um erro único</code>. Códigos assim, precisam ser alterados para <code class="code">ST_AsBinary('POINT(1 2)'::geometry);</code>. Se não for possível, instale: <code class="filename">legacy.sql</code>.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.37</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm10367"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsBinary(ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326));

                   st_asbinary
--------------------------------
\x01030000000100000005000000000000000000000000000000000000000000000000000000000000
000000f03f000000000000f03f000000000000f03f000000000000f03f0000000000000000000000
00000000000000000000000000
</pre><pre class="programlisting">SELECT ST_AsBinary(ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326), 'XDR');
                   st_asbinary
--------------------------------
\x000000000300000001000000050000000000000000000000000000000000000000000000003ff000
00000000003ff00000000000003ff00000000000003ff00000000000000000000000000000000000
00000000000000000000000000
</pre></div><div class="refsection" id="idm10371"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>, <a class="xref" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a>, <a class="xref" href="#ST_AsTWKB" title="ST_AsTWKB">ST_AsTWKB</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, </p></div></div><div class="refentry" id="ST_AsEWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsEWKB — Return the Extended Well-Known Binary (EWKB) representation of the geometry with SRID meta data.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsEWKB</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsEWKB</strong>(</code>geometry  <var class="pdparam">g1</var>, text <var class="pdparam">NDR_or_XDR</var><code>)</code>;</p></div></div><div class="refsection" id="idm10399"><h2>Descrição</h2><p>Returns the <a class="link" href="#EWKB_EWKT" title="4.2.1. OpenGIS WKB e WKT">Extended Well-Known Binary</a> (EWKB) representation of the geometry with SRID metadata. The first function variant defaults to encoding using server machine endian. The second function variant takes a text argument specifying the endian encoding, either little-endian ('NDR') or big-endian ('XDR').</p><p>WKB format is useful to read geometry data from the database and maintaining full numeric precision. This avoids the precision rounding that can happen with text formats such as WKT.</p><p>To perform the inverse conversion of EWKB to PostGIS geometry use <a class="xref" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>To get the OGC/ISO WKB format use <a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>. Note that OGC/ISO WKB format does not include the SRID. </p></td></tr></table></div><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm10426"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsEWKB(ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326));

                   st_asewkb
--------------------------------
\x0103000020e610000001000000050000000000000000000000000000000000000000000000000000
00000000000000f03f000000000000f03f000000000000f03f000000000000f03f00000000000000
0000000000000000000000000000000000
</pre><pre class="programlisting">SELECT ST_AsEWKB(ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326), 'XDR');
                   st_asewkb
--------------------------------
\x0020000003000010e600000001000000050000000000000000000000000000000000000000000000
003ff00000000000003ff00000000000003ff00000000000003ff000000000000000000000000000
0000000000000000000000000000000000
                </pre></div><div class="refsection" id="idm10430"><h2>Veja também</h2><p><a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>, <a class="xref" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_AsHEXEWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsHEXEWKB — Retorna uma geometria no formato HEXEWKB (como texto) usando little-endian (NDR) ou big-endian (XDR) encoding.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsHEXEWKB</strong>(</code>geometry  <var class="pdparam">g1</var>, text  <var class="pdparam">NDRorXDR</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsHEXEWKB</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm10457"><h2>Descrição</h2><p>Retorna uma geometria no formato HEXEWKB (como texto) usando little-endian (NDR) ou big-endian (XDR) encoding. Se nenhum encoding estiver especificado, então o NDR é usado.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="availability">Disponibilidade: 1.2.2</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm10470"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsHEXEWKB(ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326));
                which gives same answer as

                SELECT ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326)::text;

                st_ashexewkb
                --------
                0103000020E6100000010000000500
                00000000000000000000000000000000
                00000000000000000000000000000000F03F
                000000000000F03F000000000000F03F000000000000F03
                F000000000000000000000000000000000000000000000000</pre></div></div></section><section class="section" id="idm10473"><div class="titlepage"><div><div><h3 class="title">7.9.3. Other Formats</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_AsEncodedPolyline">ST_AsEncodedPolyline</a></span><span class="refpurpose"> — Retorna uma Polilinha Encoded de uma geometria LineString. </span></li><li><span class="refentrytitle"><a href="#ST_AsFlatGeobuf">ST_AsFlatGeobuf</a></span><span class="refpurpose"> — Return a FlatGeobuf representation of a set of rows.</span></li><li><span class="refentrytitle"><a href="#ST_AsGeobuf">ST_AsGeobuf</a></span><span class="refpurpose"> — Return a Geobuf representation of a set of rows.</span></li><li><span class="refentrytitle"><a href="#ST_AsGeoJSON">ST_AsGeoJSON</a></span><span class="refpurpose"> — Return a geometry or feature in GeoJSON format.</span></li><li><span class="refentrytitle"><a href="#ST_AsGML">ST_AsGML</a></span><span class="refpurpose"> — Retorna a geometria como uma versão GML com 2 ou 3 elementos.</span></li><li><span class="refentrytitle"><a href="#ST_AsKML">ST_AsKML</a></span><span class="refpurpose"> — Retorna a geometria como uma versão GML com 2 ou 3 elementos.</span></li><li><span class="refentrytitle"><a href="#ST_AsLatLonText">ST_AsLatLonText</a></span><span class="refpurpose"> — Retorna a representação de Graus, Minutos, Segundos do ponto dado.</span></li><li><span class="refentrytitle"><a href="#ST_AsMARC21">ST_AsMARC21</a></span><span class="refpurpose"> — Returns geometry as a MARC21/XML record with a geographic datafield (034).</span></li><li><span class="refentrytitle"><a href="#ST_AsMVTGeom">ST_AsMVTGeom</a></span><span class="refpurpose"> — Transforms a geometry into the coordinate space of a MVT tile.</span></li><li><span class="refentrytitle"><a href="#ST_AsMVT">ST_AsMVT</a></span><span class="refpurpose"> — Aggregate function returning a MVT representation of a set of rows.</span></li><li><span class="refentrytitle"><a href="#ST_AsSVG">ST_AsSVG</a></span><span class="refpurpose"> — Returns SVG path data for a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_AsTWKB">ST_AsTWKB</a></span><span class="refpurpose"> — Retorna a geometria como TWKB, também conhecido como "Tiny Well-Known Binary"</span></li><li><span class="refentrytitle"><a href="#ST_AsX3D">ST_AsX3D</a></span><span class="refpurpose"> — Retorna uma geometria em X3D nó xml formato do elemento: ISO-IEC-19776-1.2-X3DEncodings-XML</span></li><li><span class="refentrytitle"><a href="#ST_GeoHash">ST_GeoHash</a></span><span class="refpurpose"> — Retorna uma representação GeoHash da geometria. </span></li></ul></div><div class="refentry" id="ST_AsEncodedPolyline"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsEncodedPolyline — Retorna uma Polilinha Encoded de uma geometria LineString. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsEncodedPolyline</strong>(</code>geometry <var class="pdparam">geom</var>, integer  <var class="pdparam">precision=5</var><code>)</code>;</p></div></div><div class="refsection" id="idm10490"><h2>Descrição</h2><p>Returns the geometry as an Encoded Polyline. This format is used by Google Maps with precision=5 and by Open Source Routing Machine with precision=5 and 6.</p><p>Optional <code class="varname">precision</code> specifies how many decimal places will be preserved in Encoded Polyline. Value should be the same on encoding and decoding, or coordinates will be incorrect.</p><p class="availability">Disponibilidade: 2.2.0</p></div><div class="refsection" id="idm10496"><h2>Exemplos</h2><p>Básico </p><pre class="programlisting">SELECT ST_AsEncodedPolyline(GeomFromEWKT('SRID=4326;LINESTRING(-120.2 38.5,-120.95 40.7,-126.453 43.252)'));
        --result--
        |_p~iF~ps|U_ulLnnqC_mqNvxq`@
        </pre><p>Use em conjunto com a linestring geografia e segmentize geografia, e coloque no google maps</p><pre class="programlisting">-- the SQL for Boston to San Francisco, segments every 100 KM
        SELECT ST_AsEncodedPolyline(
                ST_Segmentize(
                        ST_GeogFromText('LINESTRING(-71.0519 42.4935,-122.4483 37.64)'),
                                100000)::geometry) As encodedFlightPath;</pre><p>javascript irá parecer em algo com isso, onde a variável $ você substitui com o resultado da pesquisa </p><pre class="programlisting">
&lt;script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?libraries=geometry"
&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
         flightPath = new google.maps.Polyline({
                        path:  google.maps.geometry.encoding.decodePath("$encodedFlightPath"),
                        map: map,
                        strokeColor: '#0000CC',
                        strokeOpacity: 1.0,
                        strokeWeight: 4
                });
&lt;/script&gt;

</pre></div><div class="refsection" id="idm10504"><h2>Veja também</h2><p><a class="xref" href="#ST_LineFromEncodedPolyline" title="ST_LineFromEncodedPolyline">ST_LineFromEncodedPolyline</a>, <a class="xref" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a></p></div></div><div class="refentry" id="ST_AsFlatGeobuf"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsFlatGeobuf — Return a FlatGeobuf representation of a set of rows.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsFlatGeobuf</strong>(</code>anyelement set  <var class="pdparam">row</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsFlatGeobuf</strong>(</code>anyelement  <var class="pdparam">row</var>, bool  <var class="pdparam">index</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsFlatGeobuf</strong>(</code>anyelement  <var class="pdparam">row</var>, bool  <var class="pdparam">index</var>, text  <var class="pdparam">geom_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm10542"><h2>Descrição</h2><p>Return a FlatGeobuf representation (<a class="link" href="http://flatgeobuf.org" target="_top">http://flatgeobuf.org</a>) of a set of rows corresponding to a FeatureCollection. NOTE: PostgreSQL bytea cannot exceed 1GB. </p><p><code class="varname">row</code> row data with at least a geometry column.</p><p><code class="varname">index</code> toggle spatial index creation. Default is false.</p><p><code class="varname">geom_name</code> is the name of the geometry column in the row data. If NULL it will default to the first found geometry column.</p><p class="availability">Availability: 3.2.0</p></div></div><div class="refentry" id="ST_AsGeobuf"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsGeobuf — Return a Geobuf representation of a set of rows.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsGeobuf</strong>(</code>anyelement set  <var class="pdparam">row</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsGeobuf</strong>(</code>anyelement  <var class="pdparam">row</var>, text  <var class="pdparam">geom_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm10574"><h2>Descrição</h2><p>Return a Geobuf representation (<a class="link" href="https://github.com/mapbox/geobuf" target="_top">https://github.com/mapbox/geobuf</a>) of a set of rows corresponding to a FeatureCollection. Every input geometry is analyzed to determine maximum precision for optimal storage. Note that Geobuf in its current form cannot be streamed so the full output will be assembled in memory. </p><p><code class="varname">row</code> row data with at least a geometry column.</p><p><code class="varname">geom_name</code> is the name of the geometry column in the row data. If NULL it will default to the first found geometry column.</p><p class="availability">Disponibilidade: 2.2.0</p></div><div class="refsection" id="idm10583"><h2>Exemplos</h2><pre class="programlisting">SELECT encode(ST_AsGeobuf(q, 'geom'), 'base64')
    FROM (SELECT ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))') AS geom) AS q;
 st_asgeobuf
----------------------------------
 GAAiEAoOCgwIBBoIAAAAAgIAAAE=


                </pre></div></div><div class="refentry" id="ST_AsGeoJSON"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsGeoJSON — Return a geometry or feature in GeoJSON format.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsGeoJSON</strong>(</code>record  <var class="pdparam">feature</var>, text  <var class="pdparam">geom_column=""</var>, integer  <var class="pdparam">maxdecimaldigits=9</var>, boolean  <var class="pdparam">pretty_bool=false</var>, text  <var class="pdparam">id_column=''</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsGeoJSON</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">maxdecimaldigits=9</var>, integer  <var class="pdparam">options=8</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsGeoJSON</strong>(</code>geography  <var class="pdparam">geog</var>, integer  <var class="pdparam">maxdecimaldigits=9</var>, integer  <var class="pdparam">options=0</var><code>)</code>;</p></div></div><div class="refsection" id="idm10634"><h2>Descrição</h2><p>Returns a geometry as a GeoJSON "geometry" object, or a row as a GeoJSON "feature" object. </p><p>The resulting GeoJSON geometry and feature representations conform with the <a class="link" href="https://tools.ietf.org/html/rfc7946" target="_top">GeoJSON specifications RFC 7946</a>, except when the parsed geometries are referenced with a CRS other than WGS84 longitude and latitude (<a class="link" href="https://epsg.io/4326" target="_top">EPSG:4326</a>, <a class="link" href="http://epsg.io/4326.gml" target="_top">urn:ogc:def:crs:OGC::CRS84</a>); the GeoJSON geometry object will then have a short CRS SRID identifier attached by default. 2D and 3D Geometries are both supported. GeoJSON only supports SFS 1.1 geometry types (no curve support for example). </p><p>The <code class="varname">geom_column</code> parameter is used to distinguish between multiple geometry columns. If omitted, the first geometry column in the record will be determined. Conversely, passing the parameter will save column type lookups. </p><p>The <code class="varname">maxdecimaldigits</code> argument may be used to reduce the maximum number of decimal places used in output (defaults to 9). If you are using EPSG:4326 and are outputting the geometry only for display, <code class="varname">maxdecimaldigits</code>=6 can be a good choice for many maps.</p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Using the <em class="parameter"><code>maxdecimaldigits</code></em> parameter can cause output geometry to become invalid. To avoid this use <a class="xref" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a> with a suitable gridsize first. </p></td></tr></table></div><p>The <code class="varname">options</code> argument can be used to add BBOX or CRS in GeoJSON output: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>0: means no option</p></li><li class="listitem"><p>1: GeoJSON BBOX</p></li><li class="listitem"><p>2: GeoJSON Short CRS (e.g EPSG:4326)</p></li><li class="listitem"><p>4: GeoJSON Long CRS (e.g urn:ogc:def:crs:EPSG::4326)</p></li><li class="listitem"><p>8: GeoJSON Short CRS if not EPSG:4326 (default)</p></li></ul></div><p>
			</p><p>The <code class="varname">id_column</code> parameter is used to set the "id" member of the returned GeoJSON features. As per GeoJSON RFC, this SHOULD be used whenever a feature has a commonly used identifier, such as a primary key. When not specified, the produced features will not get an "id" member and any columns other than the geometry, including any potential keys, will just end up inside the feature’s "properties" member.</p><p>The GeoJSON specification states that polygons are oriented using the Right-Hand Rule, and some clients require this orientation. This can be ensured by using <a class="xref" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a>. The specification also requires that geometry be in the WGS84 coordinate system (SRID = 4326). If necessary geometry can be projected into WGS84 using <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>: <code class="code">ST_Transform( geom, 4326 )</code>. </p><p>GeoJSON can be tested and viewed online at <a class="link" href="http://geojson.io/" target="_top">geojson.io</a> and <a class="link" href="http://geojson.io/" target="_top">geojsonlint.com</a>. It is widely supported by web mapping frameworks: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="https://openlayers.org/en/latest/examples/geojson.html" target="_top">OpenLayers GeoJSON Example</a></p></li><li class="listitem"><p><a class="link" href="https://leafletjs.com/examples/geojson/" target="_top">Leaflet GeoJSON Example</a></p></li><li class="listitem"><p><a class="link" href="https://www.mapbox.com/mapbox-gl-js/example/multiple-geometries/" target="_top">Mapbox GL GeoJSON Example</a></p></li></ul></div><p>
            </p><p class="availability">Disponibilidade: 1.3.4</p><p class="availability">Disponibilidade: 1.5.0 suporte para geografia foi introduzido.</p><p class="changed">Alterações: 2.0.0 suporte padrão args e args nomeados. </p><p class="changed">Changed: 3.0.0 support records as input</p><p class="changed">Changed: 3.0.0 output SRID if not EPSG:4326.</p><p class="changed">Changed: 3.5.0 allow specifying the column containing the feature id</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm10692"><h2>Exemplos</h2><p>Generate a FeatureCollection:</p><pre class="programlisting">SELECT json_build_object(
    'type', 'FeatureCollection',
    'features', json_agg(ST_AsGeoJSON(t.*, id_column =
&gt; 'id')::json)
    )
FROM ( VALUES (1, 'one', 'POINT(1 1)'::geometry),
              (2, 'two', 'POINT(2 2)'),
              (3, 'three', 'POINT(3 3)')
     ) as t(id, name, geom);</pre><pre class="screen">{"type" : "FeatureCollection", "features" : [{"type": "Feature", "geometry": {"type":"Point","coordinates":[1,1]}, "id": 1, "properties": {"name": "one"}}, {"type": "Feature", "geometry": {"type":"Point","coordinates":[2,2]}, "id": 2, "properties": {"name": "two"}}, {"type": "Feature", "geometry": {"type":"Point","coordinates":[3,3]}, "id": 3, "properties": {"name": "three"}}]}</pre><p>Generate a Feature:</p><pre class="programlisting">SELECT ST_AsGeoJSON(t.*, id_column =
&gt; 'id')
FROM (VALUES (1, 'one', 'POINT(1 1)'::geometry)) AS t(id, name, geom);</pre><pre class="screen">st_asgeojson
-----------------------------------------------------------------------------------------------------------------
 {"type": "Feature", "geometry": {"type":"Point","coordinates":[1,1]}, "id": 1, "properties": {"name": "one"}}
</pre><p>Don't forget to transform your data to WGS84 longitude, latitude to conform with the GeoJSON specification:</p><pre class="programlisting">SELECT ST_AsGeoJSON(ST_Transform(geom,4326)) from fe_edges limit 1;</pre><pre class="screen">st_asgeojson
-----------------------------------------------------------------------------------------------------------

{"type":"MultiLineString","coordinates":[[[-89.734634999999997,31.492072000000000],
[-89.734955999999997,31.492237999999997]]]}
</pre><p>3D geometries are supported:</p><pre class="programlisting">SELECT ST_AsGeoJSON('LINESTRING(1 2 3, 4 5 6)');</pre><pre class="screen">{"type":"LineString","coordinates":[[1,2,3],[4,5,6]]}</pre><p>Options argument can be used to add BBOX and CRS in GeoJSON output:</p><pre class="programlisting">SELECT ST_AsGeoJSON(ST_SetSRID('POINT(1 1)'::geometry, 4326), 9, 4|1);</pre><pre class="screen">{"type":"Point","crs":{"type":"name","properties":{"name":"urn:ogc:def:crs:EPSG::4326"}},"bbox":[1.000000000,1.000000000,1.000000000,1.000000000],"coordinates":[1,1]}
</pre></div><div class="refsection" id="idm10709"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromGeoJSON" title="ST_GeomFromGeoJSON">ST_GeomFromGeoJSON</a>, <a class="xref" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a> </p></div></div><div class="refentry" id="ST_AsGML"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsGML — Retorna a geometria como uma versão GML com 2 ou 3 elementos.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsGML</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">maxdecimaldigits=15</var>, integer  <var class="pdparam">options=0</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsGML</strong>(</code>geography  <var class="pdparam">geog</var>, integer  <var class="pdparam">maxdecimaldigits=15</var>, integer  <var class="pdparam">options=0</var>, text  <var class="pdparam">nprefix=null</var>, text  <var class="pdparam">id=null</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsGML</strong>(</code>integer  <var class="pdparam">version</var>, geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">maxdecimaldigits=15</var>, integer  <var class="pdparam">options=0</var>, text  <var class="pdparam">nprefix=null</var>, text  <var class="pdparam">id=null</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsGML</strong>(</code>integer  <var class="pdparam">version</var>, geography  <var class="pdparam">geog</var>, integer  <var class="pdparam">maxdecimaldigits=15</var>, integer  <var class="pdparam">options=0</var>, text  <var class="pdparam">nprefix=null</var>, text  <var class="pdparam">id=null</var><code>)</code>;</p></div></div><div class="refsection" id="idm10793"><h2>Descrição</h2><p>Return the geometry as a Geography Markup Language (GML) element. The version parameter, if specified, may be either 2 or 3. If no version parameter is specified then the default is assumed to be 2. The <code class="varname">maxdecimaldigits</code> argument may be used to reduce the maximum number of decimal places used in output (defaults to 15).</p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Using the <em class="parameter"><code>maxdecimaldigits</code></em> parameter can cause output geometry to become invalid. To avoid this use <a class="xref" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a> with a suitable gridsize first. </p></td></tr></table></div><p>GML 2 refere-se a versão 2.1.2 , GML 3 para a versão 3.1.1</p><p>O argumento "opções" é um bitfield. Ele poderia ser usado para definir o tipo de saída CRS na saída GML, e para declarar dados como lat/lon: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>0: GML Short CRS (ex: EPSG:4326), valor padrão</p></li><li class="listitem"><p>1: GML Long CRS (ex: urn:ogc:def:crs:EPSG::4326)</p></li><li class="listitem"><p>2: Para GML 3 somente, remove srsDimension atribuída da saída.</p></li><li class="listitem"><p>4: Para GML 3 somente, use &lt;LineString&gt; em vez de &lt;Curve&gt; tag para linhas. </p></li><li class="listitem"><p>16: Declara que dados são lat/lon (ex: srid=4326). O padrão é supor que os dados são planos. Esta opção é útil apenas para saída GML 3.1.1, relacionada a ordem do eixo. Então, se você configurá-la, ela irá trocar as coordenadas, deixando a ordem sendo lat lon em vez do banco de dados. </p></li><li class="listitem"><p>32: Gera a caixa da geometria (envelope).</p></li></ul></div><p>
						</p><p>O argumento 'namespace prefix' pode ser usado para especificar um namespace prefix personalizado ou nenhum prefixo (se vazio). Se nulo ou omitido, o prefixo 'gml' é usado</p><p class="availability">Disponibilidade: 1.3.2</p><p class="availability">Disponibilidade: 1.5.0 suporte para geografia foi introduzido.</p><p class="enhanced">Melhorias: 2.0.0 prefixo suportado foi introduzido. A opção 4 para o GML3 foi introduzida para permitir a utilização da LineString em vez da tag Curva para linhas. O suporte GML3 para superfícies poliédricas e TINS foi introduzidos. A Opção 32 foi introduzida para gerar a caixa. </p><p class="changed">Alterações: 2.0.0 use argumentos nomeados por padrão</p><p class="enhanced">Melhorias: 2.1.0 suporte para id foi introduzido, para GML 3. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Somente a versão 3+ de ST_AsGML suporta superfícies poliédricas e TINS. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 17.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm10840"><h2>Exemplos: Versão 2</h2><pre class="programlisting">
SELECT ST_AsGML(ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326));
                st_asgml
                --------
                &lt;gml:Polygon srsName="EPSG:4326"
&gt;&lt;gml:outerBoundaryIs
&gt;&lt;gml:LinearRing
&gt;&lt;gml:coordinates
&gt;0,0 0,1 1,1 1,0 0,0&lt;/gml:coordinates
&gt;&lt;/gml:LinearRing
&gt;&lt;/gml:outerBoundaryIs
&gt;&lt;/gml:Polygon&gt;

</pre></div><div class="refsection" id="idm10843"><h2>Exemplos: Versão 3</h2><pre class="programlisting">
-- Flip coordinates and output extended EPSG (16 | 1)--
SELECT ST_AsGML(3, ST_GeomFromText('POINT(5.234234233242 6.34534534534)',4326), 5, 17);
                        st_asgml
                        --------
                &lt;gml:Point srsName="urn:ogc:def:crs:EPSG::4326"
&gt;&lt;gml:pos
&gt;6.34535 5.23423&lt;/gml:pos
&gt;&lt;/gml:Point&gt;

</pre><pre class="programlisting">
-- Output the envelope (32) --
SELECT ST_AsGML(3, ST_GeomFromText('LINESTRING(1 2, 3 4, 10 20)',4326), 5, 32);
                st_asgml
                --------
        &lt;gml:Envelope srsName="EPSG:4326"&gt;
                &lt;gml:lowerCorner
&gt;1 2&lt;/gml:lowerCorner&gt;
                &lt;gml:upperCorner
&gt;10 20&lt;/gml:upperCorner&gt;
        &lt;/gml:Envelope&gt;

</pre><pre class="programlisting">
-- Output the envelope (32) , reverse (lat lon instead of lon lat) (16), long srs (1)= 32 | 16 | 1 = 49 --
SELECT ST_AsGML(3, ST_GeomFromText('LINESTRING(1 2, 3 4, 10 20)',4326), 5, 49);
        st_asgml
        --------
&lt;gml:Envelope srsName="urn:ogc:def:crs:EPSG::4326"&gt;
        &lt;gml:lowerCorner
&gt;2 1&lt;/gml:lowerCorner&gt;
        &lt;gml:upperCorner
&gt;20 10&lt;/gml:upperCorner&gt;
&lt;/gml:Envelope&gt;

</pre><pre class="programlisting">
-- Polyhedral Example --
SELECT ST_AsGML(3, ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'));
        st_asgml
        --------
 &lt;gml:PolyhedralSurface&gt;
&lt;gml:polygonPatches&gt;
   &lt;gml:PolygonPatch&gt;
                &lt;gml:exterior&gt;
                          &lt;gml:LinearRing&gt;
                                   &lt;gml:posList srsDimension="3"
&gt;0 0 0 0 0 1 0 1 1 0 1 0 0 0 0&lt;/gml:posList&gt;
                          &lt;/gml:LinearRing&gt;
                &lt;/gml:exterior&gt;
   &lt;/gml:PolygonPatch&gt;
   &lt;gml:PolygonPatch&gt;
                &lt;gml:exterior&gt;
                          &lt;gml:LinearRing&gt;
                                   &lt;gml:posList srsDimension="3"
&gt;0 0 0 0 1 0 1 1 0 1 0 0 0 0 0&lt;/gml:posList&gt;
                          &lt;/gml:LinearRing&gt;
                &lt;/gml:exterior&gt;
   &lt;/gml:PolygonPatch&gt;
   &lt;gml:PolygonPatch&gt;
                &lt;gml:exterior&gt;
                          &lt;gml:LinearRing&gt;
                                   &lt;gml:posList srsDimension="3"
&gt;0 0 0 1 0 0 1 0 1 0 0 1 0 0 0&lt;/gml:posList&gt;
                          &lt;/gml:LinearRing&gt;
                &lt;/gml:exterior&gt;
   &lt;/gml:PolygonPatch&gt;
   &lt;gml:PolygonPatch&gt;
                &lt;gml:exterior&gt;
                          &lt;gml:LinearRing&gt;
                                   &lt;gml:posList srsDimension="3"
&gt;1 1 0 1 1 1 1 0 1 1 0 0 1 1 0&lt;/gml:posList&gt;
                          &lt;/gml:LinearRing&gt;
                &lt;/gml:exterior&gt;
   &lt;/gml:PolygonPatch&gt;
   &lt;gml:PolygonPatch&gt;
                &lt;gml:exterior&gt;
                          &lt;gml:LinearRing&gt;
                                   &lt;gml:posList srsDimension="3"
&gt;0 1 0 0 1 1 1 1 1 1 1 0 0 1 0&lt;/gml:posList&gt;
                          &lt;/gml:LinearRing&gt;
                &lt;/gml:exterior&gt;
   &lt;/gml:PolygonPatch&gt;
   &lt;gml:PolygonPatch&gt;
                &lt;gml:exterior&gt;
                          &lt;gml:LinearRing&gt;
                                   &lt;gml:posList srsDimension="3"
&gt;0 0 1 1 0 1 1 1 1 0 1 1 0 0 1&lt;/gml:posList&gt;
                          &lt;/gml:LinearRing&gt;
                &lt;/gml:exterior&gt;
   &lt;/gml:PolygonPatch&gt;
&lt;/gml:polygonPatches&gt;
&lt;/gml:PolyhedralSurface&gt;

</pre></div><div class="refsection" id="idm10849"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a></p></div></div><div class="refentry" id="ST_AsKML"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsKML — Retorna a geometria como uma versão GML com 2 ou 3 elementos.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsKML</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">maxdecimaldigits=15</var>, text  <var class="pdparam">nprefix=NULL</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsKML</strong>(</code>geography  <var class="pdparam">geog</var>, integer  <var class="pdparam">maxdecimaldigits=15</var>, text  <var class="pdparam">nprefix=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm10883"><h2>Descrição</h2><p>Retorna a geometria como um elemento Keyhole Markup Language (KML). Existem muitas variantes desta função. Número máximo de casas decimais usado na saída (padrão 15), versão para 2 e o namespace não tem prefixo. </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Using the <em class="parameter"><code>maxdecimaldigits</code></em> parameter can cause output geometry to become invalid. To avoid this use <a class="xref" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a> with a suitable gridsize first. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Requer que PostGIS seja compilado com o suporte Porj. Use <a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a> para confirmar que você o suporte proj compilado. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="availability">Disponibilidade: 1.2.2 - variantes futuras que incluem  parâmetro versão que veio em 1.3.2</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Melhorias: 2.0.0 - Adiciona namespace prefixo. O padrão é não ter nenhum prefixo </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Changed: 3.0.0 - Removed the "versioned" variant signature</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A saída AsKML não funcionará com geometrias que não possuem um SRID</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm10905"><h2>Exemplos</h2><pre class="programlisting">
SELECT ST_AsKML(ST_GeomFromText('POLYGON((0 0,0 1,1 1,1 0,0 0))',4326));

                st_askml
                --------
                &lt;Polygon
&gt;&lt;outerBoundaryIs
&gt;&lt;LinearRing
&gt;&lt;coordinates
&gt;0,0 0,1 1,1 1,0 0,0&lt;/coordinates
&gt;&lt;/LinearRing
&gt;&lt;/outerBoundaryIs
&gt;&lt;/Polygon&gt;

                --3d linestring
                SELECT ST_AsKML('SRID=4326;LINESTRING(1 2 3, 4 5 6)');
                &lt;LineString
&gt;&lt;coordinates
&gt;1,2,3 4,5,6&lt;/coordinates
&gt;&lt;/LineString&gt;


</pre></div><div class="refsection" id="idm10908"><h2>Veja também</h2><p><a class="xref" href="#ST_AsSVG" title="ST_AsSVG">ST_AsSVG</a>, <a class="xref" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a></p></div></div><div class="refentry" id="ST_AsLatLonText"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsLatLonText — Retorna a representação de Graus, Minutos, Segundos do ponto dado.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsLatLonText</strong>(</code>geometry  <var class="pdparam">pt</var>, text  <var class="pdparam">format=''</var><code>)</code>;</p></div></div><div class="refsection" id="idm10928"><h2>Descrição</h2><p>Returns the Degrees, Minutes, Seconds representation of the point.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>É suposto que o ponto é uma projeção lat/lon. As coordenadas X (lon) e Y (lat), são normalizadas na saída para o alcance "normal" (-180 to +180 para lon, -90 para +90 para lat).</p></td></tr></table></div><p>O texto parâmetro é um formato string que contém o formato do texto resultante, parecido com uma string de formato data. Tokens válidos são "D" para graus, "M" para minutos, "S" para segundos e "C" para direções cardiais (NSLO). Os tokens DMS podem se repetir para indicar a largura e precisão desejadas ("SSS.SSSS" significa " 1.0023"). </p><p>"M", "S", e "C" são opcionais. Se "C" estiverem omitidas, os graus são mostrados com um "-" se sul ou oeste. Se "S" estiver omitido, os minutos serão mostrados como decimais com com tanta precisão de dígitos quanto você especificar. Se "M" também estiver omitido, os graus serão mostrados como decimais com tanta precisão de dígitos quanto você especificar. </p><p>Se a string formato for omitida (ou tiver tamanho zero) um formato padrão será usado. </p><p class="availability">Disponibilidade: 2.0</p></div><div class="refsection" id="idm10937"><h2>Exemplos</h2><p>Formato padrão. </p><pre class="programlisting">SELECT (ST_AsLatLonText('POINT (-3.2342342 -2.32498)'));
      st_aslatlontext
----------------------------
 2°19'29.928"S 3°14'3.243"W
</pre><p>Fornecendo um formato (o mesmo do padrão).</p><pre class="programlisting">SELECT (ST_AsLatLonText('POINT (-3.2342342 -2.32498)', 'D°M''S.SSS"C'));
      st_aslatlontext
----------------------------
 2°19'29.928"S 3°14'3.243"W
</pre><p>Outros caracteres além de D, M, S, C e . são somente passados.</p><pre class="programlisting">SELECT (ST_AsLatLonText('POINT (-3.2342342 -2.32498)', 'D degrees, M minutes, S seconds to the C'));
                                   st_aslatlontext
--------------------------------------------------------------------------------------
 2 degrees, 19 minutes, 30 seconds to the S 3 degrees, 14 minutes, 3 seconds to the W
</pre><p>Graus assinados em vez de direções cardiais. </p><pre class="programlisting">SELECT (ST_AsLatLonText('POINT (-3.2342342 -2.32498)', 'D°M''S.SSS"'));
      st_aslatlontext
----------------------------
 -2°19'29.928" -3°14'3.243"
</pre><p>Graus decimais. </p><pre class="programlisting">SELECT (ST_AsLatLonText('POINT (-3.2342342 -2.32498)', 'D.DDDD degrees C'));
          st_aslatlontext
-----------------------------------
 2.3250 degrees S 3.2342 degrees W
</pre><p>Valores excessivamente grandes são normalizados.</p><pre class="programlisting">SELECT (ST_AsLatLonText('POINT (-302.2342342 -792.32498)'));
        st_aslatlontext
-------------------------------
 72°19'29.928"S 57°45'56.757"E
</pre></div></div><div class="refentry" id="ST_AsMARC21"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsMARC21 — Returns geometry as a MARC21/XML record with a geographic datafield (034).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef"> text <strong class="fsfunc">ST_AsMARC21</strong> (</code> geometry  <var class="pdparam">geom</var> ,  text  <var class="pdparam">format='hdddmmss'</var> <code>)</code>;</p></div></div><div class="refsection" id="idm10966"><h2>Descrição</h2><p>This function returns a MARC21/XML record with <a class="link" href="https://www.loc.gov/marc/bibliographic/bd034.html" target="_top">Coded Cartographic Mathematical Data</a> representing the bounding box of a given geometry. The <code class="varname">format</code> parameter allows to encode the coordinates in subfields <code class="varname">$d</code>,<code class="varname">$e</code>,<code class="varname">$f</code> and <code class="varname">$g</code> in all formats supported by the MARC21/XML standard. Valid formats are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>cardinal direction, degrees, minutes and seconds (default): <code class="varname">hdddmmss</code></p></li><li class="listitem"><p>decimal degrees with cardinal direction: <code class="varname">hddd.dddddd</code></p></li><li class="listitem"><p>decimal degrees without cardinal direction: <code class="varname">ddd.dddddd</code></p></li><li class="listitem"><p>decimal minutes with cardinal direction: <code class="varname">hdddmm.mmmm</code></p></li><li class="listitem"><p>decimal minutes without cardinal direction: <code class="varname">dddmm.mmmm</code></p></li><li class="listitem"><p>decimal seconds with cardinal direction: <code class="varname">hdddmmss.sss</code></p></li></ul></div><p>The decimal sign may be also a comma, e.g. <code class="varname">hdddmm,mmmm</code>.</p><p>The precision of decimal formats can be limited by the number of characters after the decimal sign, e.g. <code class="varname">hdddmm.mm</code> for decimal minutes with a precision of two decimals.</p><p>This function ignores the Z and M dimensions.</p><p>LOC MARC21/XML versions supported: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="https://www.loc.gov/standards/marcxml/" target="_top">MARC21/XML 1.1</a></p></li></ul></div><p>
            </p><p class="availability">Availability: 3.3.0 </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function does not support non lon/lat geometries, as they are not supported by the MARC21/XML standard (Coded Cartographic Mathematical Data).</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The MARC21/XML Standard does not provide any means to annotate the spatial reference system for Coded Cartographic Mathematical Data, which means that this information will be lost after conversion to MARC21/XML. </p></td></tr></table></div></div><div class="refsection" id="idm11009"><h2>Exemplos</h2><p>Converting a <code class="varname">POINT</code> to MARC21/XML formatted as hdddmmss (default)</p><pre class="programlisting">


                SELECT ST_AsMARC21('SRID=4326;POINT(-4.504289 54.253312)'::geometry);

                                st_asmarc21
                -------------------------------------------------
                &lt;record xmlns="http://www.loc.gov/MARC21/slim"&gt;
                    &lt;datafield tag="034" ind1="1" ind2=" "&gt;
                        &lt;subfield code="a"
&gt;a&lt;/subfield&gt;
                        &lt;subfield code="d"
&gt;W0043015&lt;/subfield&gt;
                        &lt;subfield code="e"
&gt;W0043015&lt;/subfield&gt;
                        &lt;subfield code="f"
&gt;N0541512&lt;/subfield&gt;
                        &lt;subfield code="g"
&gt;N0541512&lt;/subfield&gt;
                    &lt;/datafield&gt;
                &lt;/record&gt;



</pre><p>Converting a <code class="varname">POLYGON</code> to MARC21/XML formatted in decimal degrees</p><pre class="programlisting">


                SELECT ST_AsMARC21('SRID=4326;POLYGON((-4.5792388916015625 54.18172660239091,-4.56756591796875 54.196993557130355,-4.546623229980469 54.18313300502024,-4.5792388916015625 54.18172660239091))'::geometry,'hddd.dddd');

                &lt;record xmlns="http://www.loc.gov/MARC21/slim"&gt;
                    &lt;datafield tag="034" ind1="1" ind2=" "&gt;
                        &lt;subfield code="a"
&gt;a&lt;/subfield&gt;
                        &lt;subfield code="d"
&gt;W004.5792&lt;/subfield&gt;
                        &lt;subfield code="e"
&gt;W004.5466&lt;/subfield&gt;
                        &lt;subfield code="f"
&gt;N054.1970&lt;/subfield&gt;
                        &lt;subfield code="g"
&gt;N054.1817&lt;/subfield&gt;
                    &lt;/datafield&gt;
                &lt;/record&gt;



</pre><p>Converting a <code class="varname">GEOMETRYCOLLECTION</code> to MARC21/XML formatted in decimal minutes. The geometries order in the MARC21/XML output correspond to their order in the collection.</p><pre class="programlisting">


                SELECT ST_AsMARC21('SRID=4326;GEOMETRYCOLLECTION(POLYGON((13.1 52.65,13.516666666666667 52.65,13.516666666666667 52.38333333333333,13.1 52.38333333333333,13.1 52.65)),POINT(-4.5 54.25))'::geometry,'hdddmm.mmmm');

                                st_asmarc21
                -------------------------------------------------
                &lt;record xmlns="http://www.loc.gov/MARC21/slim"&gt;
                    &lt;datafield tag="034" ind1="1" ind2=" "&gt;
                        &lt;subfield code="a"
&gt;a&lt;/subfield&gt;
                        &lt;subfield code="d"
&gt;E01307.0000&lt;/subfield&gt;
                        &lt;subfield code="e"
&gt;E01331.0000&lt;/subfield&gt;
                        &lt;subfield code="f"
&gt;N05240.0000&lt;/subfield&gt;
                        &lt;subfield code="g"
&gt;N05224.0000&lt;/subfield&gt;
                    &lt;/datafield&gt;
                    &lt;datafield tag="034" ind1="1" ind2=" "&gt;
                        &lt;subfield code="a"
&gt;a&lt;/subfield&gt;
                        &lt;subfield code="d"
&gt;W00430.0000&lt;/subfield&gt;
                        &lt;subfield code="e"
&gt;W00430.0000&lt;/subfield&gt;
                        &lt;subfield code="f"
&gt;N05415.0000&lt;/subfield&gt;
                        &lt;subfield code="g"
&gt;N05415.0000&lt;/subfield&gt;
                    &lt;/datafield&gt;
                &lt;/record&gt;



</pre></div><div class="refsection" id="idm11020"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromMARC21" title="ST_GeomFromMARC21">ST_GeomFromMARC21</a></p></div></div><div class="refentry" id="ST_AsMVTGeom"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsMVTGeom — Transforms a geometry into the coordinate space of a MVT tile.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_AsMVTGeom</strong>(</code>geometry  <var class="pdparam">geom</var>, box2d  <var class="pdparam">bounds</var>, integer  <var class="pdparam">extent=4096</var>, integer  <var class="pdparam">buffer=256</var>, boolean  <var class="pdparam">clip_geom=true</var><code>)</code>;</p></div></div><div class="refsection" id="idm11048"><h2>Descrição</h2><p>Transforms a geometry into the coordinate space of a MVT (<a class="link" href="https://www.mapbox.com/vector-tiles/" target="_top">Mapbox Vector Tile</a>) tile, clipping it to the tile bounds if required. The geometry must be in the coordinate system of the target map (using <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a> if needed). Commonly this is <a class="link" href="https://en.wikipedia.org/wiki/Web_Mercator_projection" target="_top">Web Mercator</a> (SRID:3857). </p><p>The function attempts to preserve geometry validity, and corrects it if needed. This may cause the result geometry to collapse to a lower dimension. </p><p>The rectangular bounds of the tile in the target map coordinate space must be provided, so the geometry can be transformed, and clipped if required. The bounds can be generated using <a class="xref" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a>. </p><p>This function is used to convert geometry into the tile coordinate space required by <a class="xref" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a>. </p><p><code class="varname">geom</code> is the geometry to transform, in the coordinate system of the target map.</p><p><code class="varname">bounds</code> is the rectangular bounds of the tile in map coordinate space, with no buffer.</p><p><code class="varname">extent</code> is the tile extent size in tile coordinate space as defined by the <a class="link" href="https://www.mapbox.com/vector-tiles/specification/" target="_top">MVT specification</a>. Defaults to 4096.</p><p><code class="varname">buffer</code> is the buffer size in tile coordinate space for geometry clippig. Defaults to 256.</p><p><code class="varname">clip_geom</code> is a boolean to control if geometries are clipped or encoded as-is. Defaults to true.</p><p class="availability">Disponibilidade: 2.2.0</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>From 3.0, Wagyu can be chosen at configure time to clip and validate MVT polygons. This library is faster and produces more correct results than the GEOS default, but it might drop small polygons.</p></td></tr></table></div></div><div class="refsection" id="idm11073"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_AsMVTGeom(
        ST_GeomFromText('POLYGON ((0 0, 10 0, 10 5, 0 -5, 0 0))'),
        ST_MakeBox2D(ST_Point(0, 0), ST_Point(4096, 4096)),
        4096, 0, false));
                              st_astext
--------------------------------------------------------------------
 MULTIPOLYGON(((5 4096,10 4091,10 4096,5 4096)),((5 4096,0 4101,0 4096,5 4096)))
                </pre><p>Canonical example for a Web Mercator tile using a computed tile bounds to query and clip geometry. This assumes the data.geom column has srid of 4326. </p><pre class="programlisting">

SELECT ST_AsMVTGeom(
            ST_Transform( geom, 3857 ),
            ST_TileEnvelope(12, 513, 412), extent =
&gt; 4096, buffer =
&gt; 64) AS geom
  FROM data
  WHERE geom &amp;&amp; ST_Transform(ST_TileEnvelope(12, 513, 412, margin =
&gt; (64.0 / 4096)),4326)


</pre></div><div class="refsection" id="idm11078"><h2>Veja também</h2><p><a class="xref" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a>, <a class="xref" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a>, <a class="xref" href="#PostGIS_Wagyu_Version" title="PostGIS_Wagyu_Version">PostGIS_Wagyu_Version</a> </p></div></div><div class="refentry" id="ST_AsMVT"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsMVT — Aggregate function returning a MVT representation of a set of rows.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsMVT</strong>(</code>anyelement set  <var class="pdparam">row</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsMVT</strong>(</code>anyelement  <var class="pdparam">row</var>, text  <var class="pdparam">name</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsMVT</strong>(</code>anyelement  <var class="pdparam">row</var>, text  <var class="pdparam">name</var>, integer  <var class="pdparam">extent</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsMVT</strong>(</code>anyelement  <var class="pdparam">row</var>, text  <var class="pdparam">name</var>, integer  <var class="pdparam">extent</var>, text  <var class="pdparam">geom_name</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsMVT</strong>(</code>anyelement  <var class="pdparam">row</var>, text  <var class="pdparam">name</var>, integer  <var class="pdparam">extent</var>, text  <var class="pdparam">geom_name</var>, text  <var class="pdparam">feature_id_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm11150"><h2>Descrição</h2><p>An aggregate function which returns a binary <a class="link" href="https://www.mapbox.com/vector-tiles/" target="_top">Mapbox Vector Tile</a> representation of a set of rows corresponding to a tile layer. The rows must contain a geometry column which will be encoded as a feature geometry. The geometry must be in tile coordinate space and valid as per the <a class="link" href="https://www.mapbox.com/vector-tiles/specification/" target="_top">MVT specification</a>. <a class="xref" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a> can be used to transform geometry into tile coordinate space. Other row columns are encoded as feature attributes. </p><p>The <a class="link" href="https://www.mapbox.com/vector-tiles/" target="_top">Mapbox Vector Tile</a> format can store features with varying sets of attributes. To use this capability supply a JSONB column in the row data containing Json objects one level deep. The keys and values in the JSONB values will be encoded as feature attributes. </p><p>Tiles with multiple layers can be created by concatenating multiple calls to this function using <code class="varname">||</code> or <code class="varname">STRING_AGG</code>. </p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Do not call with a <code class="varname">GEOMETRYCOLLECTION</code> as an element in the row. However you can use <a class="xref" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a> to prepare a geometry collection for inclusion.</p></td></tr></table></div><p><code class="varname">row</code> row data with at least a geometry column.</p><p><code class="varname">name</code> is the name of the layer. Default is the string "default".</p><p><code class="varname">extent</code> is the tile extent in screen space as defined by the specification. Default is 4096.</p><p><code class="varname">geom_name</code> is the name of the geometry column in the row data. Default is the first geometry column. Note that PostgreSQL by default automatically <a class="link" href="https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS" target="_top">folds unquoted identifiers to lower case</a>, which means that unless the geometry column is quoted, e.g. <code class="varname">"MyMVTGeom"</code>, this parameter must be provided as lowercase.</p><p><code class="varname">feature_id_name</code> is the name of the Feature ID column in the row data. If NULL or negative the Feature ID is not set. The first column matching name and valid type (smallint, integer, bigint) will be used as Feature ID, and any subsequent column will be added as a property. JSON properties are not supported.</p><p class="enhanced">Enhanced: 3.0 - added support for Feature ID.</p><p class="enhanced">Enhanced: 2.5.0 - added support parallel query.</p><p class="availability">Disponibilidade: 2.2.0</p></div><div class="refsection" id="idm11180"><h2>Exemplos</h2><pre class="programlisting">
WITH mvtgeom AS
(
  SELECT ST_AsMVTGeom(geom, ST_TileEnvelope(12, 513, 412), extent =
&gt; 4096, buffer =
&gt; 64) AS geom, name, description
  FROM points_of_interest
  WHERE geom &amp;&amp; ST_TileEnvelope(12, 513, 412, margin =
&gt; (64.0 / 4096))
)
SELECT ST_AsMVT(mvtgeom.*)
FROM mvtgeom;


        </pre></div><div class="refsection" id="idm11183"><h2>Veja também</h2><p><a class="xref" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a>, <a class="xref" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a> </p></div></div><div class="refentry" id="ST_AsSVG"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsSVG — Returns SVG path data for a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsSVG</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">rel=0</var>, integer  <var class="pdparam">maxdecimaldigits=15</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_AsSVG</strong>(</code>geography  <var class="pdparam">geog</var>, integer  <var class="pdparam">rel=0</var>, integer  <var class="pdparam">maxdecimaldigits=15</var><code>)</code>;</p></div></div><div class="refsection" id="idm11218"><h2>Descrição</h2><p>Retorna a geometria como dados Scalar Vector Graphics (SVG). Use 1 como segundo argumento para ter os dados path implementados em termo de movimentos relacionados, o padrão (ou 0) utiliza movimento absolutos. O terceiro argumento pode ser usado para reduzir o máximo número de dígitos decimais usados na saída (padrão 15). Geometrias pontuais, serão renderizadas como cx/cy quando o argumento 'rel' for 0, x/y quando 'rel' for 1. Geometrias multipontuais são delimitadas por vírgulas (","). As geometrias GeometryCollection são delimitadas por ponto e vírgula (";"). </p><p>For working with PostGIS SVG graphics, checkout <a class="link" href="https://github.com/dr-jts/pg_svg" target="_top">pg_svg</a> library which provides plpgsql functions for working with outputs from ST_AsSVG.</p><p class="enhanced">Enhanced: 3.4.0 to support all curve types</p><p class="changed">Alterações: 2.0.0 para usar args padrão e suporta args nomeados </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="availability">Disponibilidade: 1.2.2. Disponibilidade: 1.4.0 Alterado em PostGIS 1.4.0 para incluir comando L em path absoluto para entrar em conformidade com <a class="link" href="http://www.w3.org/TR/SVG/paths.html#PathDataBNF" target="_top">http://www.w3.org/TR/SVG/paths.html#PathDataBNF</a></p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm11232"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsSVG('POLYGON((0 0,0 1,1 1,1 0,0 0))'::geometry);

st_assvg
--------
M 0 0 L 0 -1 1 -1 1 0 Z</pre><p>Circular string</p><pre class="programlisting">SELECT ST_AsSVG( ST_GeomFromText('CIRCULARSTRING(-2 0,0 2,2 0,0 2,2 4)') );

st_assvg
--------
M -2 0 A 2 2 0 0 1 2 0 A 2 2 0 0 1 2 -4</pre><p>Multi-curve</p><pre class="programlisting">SELECT ST_AsSVG('MULTICURVE((5 5,3 5,3 3,0 3),
 CIRCULARSTRING(0 0,2 1,2 2))'::geometry, 0, 0);
 st_assvg
------------------------------------------------
 M 5 -5 L 3 -5 3 -3 0 -3 M 0 0 A 2 2 0 0 0 2 -2
 </pre><p>Multi-surface</p><pre class="programlisting">SELECT ST_AsSVG('MULTISURFACE(
CURVEPOLYGON(CIRCULARSTRING(-2 0,-1 -1,0 0,1 -1,2 0,0 2,-2 0),
    (-1 0,0 0.5,1 0,0 1,-1 0)),
((7 8,10 10,6 14,4 11,7 8)))'::geometry, 0, 2);

st_assvg
---------------------------------------------------------
M -2 0 A 1 1 0 0 0 0 0 A 1 1 0 0 0 2 0 A 2 2 0 0 0 -2 0 Z
M -1 0 L 0 -0.5 1 0 0 -1 -1 0 Z
M 7 -8 L 10 -10 6 -14 4 -11 Z
 </pre></div></div><div class="refentry" id="ST_AsTWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsTWKB — Retorna a geometria como TWKB, também conhecido como "Tiny Well-Known Binary"</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsTWKB</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">prec=0</var>, integer  <var class="pdparam">prec_z=0</var>, integer  <var class="pdparam">prec_m=0</var>, boolean  <var class="pdparam">with_sizes=false</var>, boolean  <var class="pdparam">with_boxes=false</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsTWKB</strong>(</code>geometry[]  <var class="pdparam">geom</var>, bigint[]  <var class="pdparam">ids</var>, integer  <var class="pdparam">prec=0</var>, integer  <var class="pdparam">prec_z=0</var>, integer  <var class="pdparam">prec_m=0</var>, boolean  <var class="pdparam">with_sizes=false</var>, boolean  <var class="pdparam">with_boxes=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm11292"><h2>Descrição</h2><p>Retorna a geometria no formato TWKB (Tiny Well-Known Binary). TWKB é um <a class="link" href="https://github.com/TWKB/Specification/blob/master/twkb.md" target="_top">compressed binary format</a> com foco em minimizar o tamanho da saída. </p><p>Os parâmetros de dígitos decimais controlam quanta precisão está armazenada na saída. Por padrão, valores são arredondados para a unidade mais pŕoxima antes de encoding. Por exemplo:  um valor de 1 implica que o primeiro dígito a direita do ponto decimal será preservado.</p><p>Os tamanhos e  os parâmetros das caixas limitadoras controlam onde as informações opcionais sobre o tamanho do encoding do objeto e os limites do objeto estão incluídas na saída. Por padrão elas não estão. Não as inclua a menos que o software do seu cliente tenha um uso para elas, como elas só ocupa espaço (e economizar espaço é o objeto do TWKB). </p><p>A forma arranjo entrada da função é usada para converter uma coleção de geometrias e identificadores únicos em uma coleção TWKB que preserva os identificadores. Isto é útil para clientes que esperam desempacotar uma coleção e acessar informações futuras sobre os objetos que estão dentro. Você pode criar os arranjos usando a função <a class="link" href="http://www.postgresql.org/docs/9.4/static/functions-aggregate.html" target="_top">array_agg</a>. Os outros parâmetros funcionam da mesma forma para o formato simples da função.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O formato de especificação  está disponível online em <a class="link" href="https://github.com/TWKB/Specification" target="_top">https://github.com/TWKB/Specification</a>, e o código para construir um cliente JavaScript pode ser encontrado em <a class="link" href="https://github.com/TWKB/twkb.js" target="_top">https://github.com/TWKB/twkb.js</a>.</p></td></tr></table></div><p class="enhanced">Enhanced: 2.4.0 memory and speed improvements.</p><p class="availability">Disponibilidade: 2.2.0</p></div><div class="refsection" id="idm11306"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsTWKB('LINESTRING(1 1,5 5)'::geometry);
                 st_astwkb
--------------------------------------------
\x02000202020808

</pre><p>Para criar um objeto TWKB agregado, incluir identificadores agrega as geometrias e objetos desejado primeiro, utilizando "array_agg()", então, utilize a função TWKB apropriada. </p><pre class="programlisting">SELECT ST_AsTWKB(array_agg(geom), array_agg(gid)) FROM mytable;
                 st_astwkb
--------------------------------------------
\x040402020400000202
</pre></div><div class="refsection" id="idm11311"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromTWKB" title="ST_GeomFromTWKB">ST_GeomFromTWKB</a>, <a class="xref" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>, <a class="xref" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a>, <a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_AsX3D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsX3D — Retorna uma geometria em X3D nó xml formato do elemento: ISO-IEC-19776-1.2-X3DEncodings-XML</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_AsX3D</strong>(</code>geometry  <var class="pdparam">g1</var>, integer  <var class="pdparam">maxdecimaldigits=15</var>, integer  <var class="pdparam">options=0</var><code>)</code>;</p></div></div><div class="refsection" id="idm11337"><h2>Descrição</h2><p>Retorna uma geometria como um elemento nó formatado  X3D xml <a class="link" href="http://www.web3d.org/standards/number/19776-1" target="_top">http://www.web3d.org/standards/number/19776-1</a>. Se <code class="varname">maxdecimaldigits</code> (precisão) não estiver especificada, então, leva para 15. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Existem vários motivos para traduzir as geometrias PostGIS para X3D já que os tipos de geometria X3D não mapeiam diretamente para os tipos de geometria do PostGIS e alguns tipos X3D mais novos, que podem ser os melhores mapeadores que estávamos evitando já que a maioria das ferramentas renderizadoras não suportam eles. Sinta-se livre para postar um comentário se você tiver ideias de como podemos permitir as pessoas a indicarem seus mapeamentos preferidos.</p><p>Abaixo está como nós mapeamos os tipos 2D/3D do PostGIS para os tipos X3D, no momento</p></td></tr></table></div><p>O argumento 'opções' é um bitfield. Para o PostGIS 2.2+, isto é usado para indicar onde representar as coordenadas atuais com o nó X3D GeoCoordinates Geospatial e, além disso, onde derrubar os eixos x/y. Por padrão,  <code class="code">ST_AsX3D</code> gera na forma de banco de dados (long,lat or X,Y), mas X3D de lat/lon, y/x podem ser preferidos. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>0: X/Y na ordem de banco de dados (ex: ling/lat = X,Y é a ordem padrão de banco de dados), valor padrão e coordenadas não-espaciais (somente coordenada tag antiga).</p></li><li class="listitem"><p>1: Lançar X e Y. Se usado em conjunção com a opção de trocar a geocoordenada, então, a saída será "latitude_first" e as coordenadas serão lançadas também. </p></li><li class="listitem"><p>2: Gera coordenadas no GeoSpatial GeoCoordinates. Esta opção lançará um erro se as geometrias não estiverem na WGS 84 long lat (srid: 4326). Este é o único tipo GeoCoordinate suportado. <a class="link" href="http://www.web3d.org/documents/specifications/19775-1/V3.2/Part01/components/geodata.html#Specifyingaspatialreference" target="_top">Refer to X3D specs specifying a spatial reference system.</a>. Saída padrão será: <code class="code">GeoCoordinate geoSystem='"GD" "WE" "longitude_first"'</code>. If you prefer the X3D default of <code class="code">GeoCoordinate geoSystem='"GD" "WE" "latitude_first"'</code> use <code class="code">(2 + 1)</code> = <code class="code">3</code> </p></li></ul></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Tipo PostGIS </th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Tipo 2D X3D </th><th style="border-bottom: 1px solid ; ">Tipo 3D X3D </th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">LINESTRING</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ainda não foi implementado - será PoliLinha2D</td><td style="border-bottom: 1px solid ; ">LineSet</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">MULTILINESTRING</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ainda não foi implementado - será PoliLinha2D</td><td style="border-bottom: 1px solid ; ">IndexedLineSet</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">MULTIPONTO</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Poliponto2D</td><td style="border-bottom: 1px solid ; ">PointSet</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">PONTO</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">gera as coordenadas delimitadas pelo espaço</td><td style="border-bottom: 1px solid ; ">gera as coordenadas delimitadas pelo espaço</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">(MULTI) POLÍGONO, SUPERFÍCIE POLIÉDRICA</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Marcação X3D inválida</td><td style="border-bottom: 1px solid ; ">IndexedFaceSet (anéis interiores atualmente gerados como outro faceset)</td></tr><tr><td style="border-right: 1px solid ; ">TIN</td><td style="border-right: 1px solid ; ">TriangleSet2D (ainda não implementado)</td><td>IndexedTriangleSet</td></tr></tbody></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O suporte para geometrias 2D ainda não está completo. Os anéis interiores apenas desenhados como polígonos separados. Estamos trabalhando nisto.</p></td></tr></table></div><p>Lots of advancements happening in 3D space particularly with <a class="link" href="https://www.web3d.org/wiki/index.php/X3D_and_HTML5" target="_top">X3D Integration with HTML5</a></p><p>Existe uma ótima fonte de visualizador X3D que você pode usar para ver as geometrias renderizadas. Free Wrl <a class="link" href="http://freewrl.sourceforge.net/" target="_top">http://freewrl.sourceforge.net/</a> binários para  Mac, Linux, and Windows. Use FreeWRL_Launcher compactados para visualizar as geometrias. </p><p>Also check out <a class="link" href="https://git.osgeo.org/gitea/robe/postgis_x3d_viewer" target="_top">PostGIS minimalist X3D viewer</a> that utilizes this function and <a class="link" href="http://www.x3dom.org/" target="_top">x3dDom html/js open source toolkit</a>.</p><p class="availability">Disponibilidade: 2.0.0: ISO-IEC-19776-1.2-X3DEncodings-XML</p><p class="enhanced">Melhorias: 2.2.0: Suporte para GeoCoordinates e eixos (x/y, long/lat) lançando. Observe as opções para mais detalhes.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm11414"><h2>Exemplo: Cria um documento X3D completamente funcional - Isto irá gerar um cubo visível no FreeWrl e outros visualizadores X3D. </h2><pre class="programlisting">
SELECT '&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE X3D PUBLIC "ISO//Web3D//DTD X3D 3.0//EN" "http://www.web3d.org/specifications/x3d-3.0.dtd"&gt;
&lt;X3D&gt;
  &lt;Scene&gt;
    &lt;Transform&gt;
      &lt;Shape&gt;
       &lt;Appearance&gt;
            &lt;Material emissiveColor=''0 0 1''/&gt;
       &lt;/Appearance
&gt; ' ||
       ST_AsX3D( ST_GeomFromEWKT('POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )')) ||
      '&lt;/Shape&gt;
    &lt;/Transform&gt;
  &lt;/Scene&gt;
&lt;/X3D
&gt;' As x3ddoc;

                x3ddoc
                --------
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE X3D PUBLIC "ISO//Web3D//DTD X3D 3.0//EN" "http://www.web3d.org/specifications/x3d-3.0.dtd"&gt;
&lt;X3D&gt;
  &lt;Scene&gt;
    &lt;Transform&gt;
      &lt;Shape&gt;
       &lt;Appearance&gt;
            &lt;Material emissiveColor='0 0 1'/&gt;
       &lt;/Appearance&gt;
       &lt;IndexedFaceSet  coordIndex='0 1 2 3 -1 4 5 6 7 -1 8 9 10 11 -1 12 13 14 15 -1 16 17 18 19 -1 20 21 22 23'&gt;
            &lt;Coordinate point='0 0 0 0 0 1 0 1 1 0 1 0 0 0 0 0 1 0 1 1 0 1 0 0 0 0 0 1 0 0 1 0 1 0 0 1 1 1 0 1 1 1 1 0 1 1 0 0 0 1 0 0 1 1 1 1 1 1 1 0 0 0 1 1 0 1 1 1 1 0 1 1' /&gt;
      &lt;/IndexedFaceSet&gt;
      &lt;/Shape&gt;
    &lt;/Transform&gt;
  &lt;/Scene&gt;
&lt;/X3D&gt;
</pre></div><div class="refsection" id="idm11417"><h2>PostGIS buildings</h2><p>Copy and paste the output of this query to <a class="link" href="http://postgis.net/docs/support/viewers/x3d_viewer.htm" target="_top">x3d scene viewer</a> and click Show </p><pre class="programlisting">
SELECT string_agg('&lt;Shape
&gt;' || ST_AsX3D(ST_Extrude(geom, 0,0, i*0.5)) ||
    '&lt;Appearance&gt;
          &lt;Material diffuseColor="' || (0.01*i)::text || ' 0.8 0.2" specularColor="' || (0.05*i)::text || ' 0 0.5"/&gt;
        &lt;/Appearance&gt;
    &lt;/Shape
&gt;', '')
FROM ST_Subdivide(ST_Letters('PostGIS'),20) WITH ORDINALITY AS f(geom,i);
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_asx3d01.png"/><div class="caption"><p>Buildings formed by subdividing PostGIS and extrusion</p></div></div></div></div><div class="refsection" id="idm11428"><h2>Exemplo: Um octógono elevado 3 unidades e com precisão decimal de 6</h2><pre class="programlisting">
SELECT ST_AsX3D(
ST_Translate(
    ST_Force_3d(
        ST_Buffer(ST_Point(10,10),5, 'quad_segs=2')), 0,0,
    3)
  ,6) As x3dfrag;

x3dfrag
--------
&lt;IndexedFaceSet coordIndex="0 1 2 3 4 5 6 7"&gt;
    &lt;Coordinate point="15 10 3 13.535534 6.464466 3 10 5 3 6.464466 6.464466 3 5 10 3 6.464466 13.535534 3 10 15 3 13.535534 13.535534 3 " /&gt;
&lt;/IndexedFaceSet&gt;
</pre></div><div class="refsection" id="idm11431"><h2>Exemplo: TIN</h2><pre class="programlisting">
SELECT ST_AsX3D(ST_GeomFromEWKT('TIN (((
                0 0 0,
                0 0 1,
                0 1 0,
                0 0 0
            )), ((
                0 0 0,
                0 1 0,
                1 1 0,
                0 0 0
            ))
            )')) As x3dfrag;

                x3dfrag
                --------
&lt;IndexedTriangleSet  index='0 1 2 3 4 5'
&gt;&lt;Coordinate point='0 0 0 0 0 1 0 1 0 0 0 0 0 1 0 1 1 0'/&gt;&lt;/IndexedTriangleSet&gt;
</pre></div><div class="refsection" id="idm11434"><h2>Exemplo: Multilinestring fechada (o limite de um polígono com buracos)</h2><pre class="programlisting">
SELECT ST_AsX3D(
                    ST_GeomFromEWKT('MULTILINESTRING((20 0 10,16 -12 10,0 -16 10,-12 -12 10,-20 0 10,-12 16 10,0 24 10,16 16 10,20 0 10),
  (12 0 10,8 8 10,0 12 10,-8 8 10,-8 0 10,-8 -4 10,0 -8 10,8 -4 10,12 0 10))')
) As x3dfrag;

                x3dfrag
                --------
&lt;IndexedLineSet  coordIndex='0 1 2 3 4 5 6 7 0 -1 8 9 10 11 12 13 14 15 8'&gt;
    &lt;Coordinate point='20 0 10 16 -12 10 0 -16 10 -12 -12 10 -20 0 10 -12 16 10 0 24 10 16 16 10 12 0 10 8 8 10 0 12 10 -8 8 10 -8 0 10 -8 -4 10 0 -8 10 8 -4 10 ' /&gt;
 &lt;/IndexedLineSet&gt;
</pre></div></div><div class="refentry" id="ST_GeoHash"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeoHash — Retorna uma representação GeoHash da geometria. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_GeoHash</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">maxchars=full_precision_of_point</var><code>)</code>;</p></div></div><div class="refsection" id="idm11452"><h2>Descrição</h2><p>Computes a <a class="link" href="http://en.wikipedia.org/wiki/Geohash" target="_top">GeoHash</a> representation of a geometry. A GeoHash encodes a geographic Point into a text form that is sortable and searchable based on prefixing. A shorter GeoHash is a less precise representation of a point. It can be thought of as a box that contains the point. </p><p>Non-point geometry values with non-zero extent can also be mapped to GeoHash codes. The precision of the code depends on the geographic extent of the geometry. </p><p>If <code class="varname">maxchars</code> is not specified, the returned GeoHash code is for the smallest cell containing the input geometry. Points return a GeoHash with 20 characters of precision (about enough to hold the full double precision of the input). Other geometric types may return a GeoHash with less precision, depending on the extent of the geometry. Larger geometries are represented with less precision, smaller ones with more precision. The box determined by the GeoHash code always contains the input feature.</p><p>If <code class="varname">maxchars</code> is specified the returned GeoHash code has at most that many characters. It maps to a (possibly) lower precision representation of the input geometry. For non-points, the starting point of the calculation is the center of the bounding box of the geometry.</p><p class="availability">Disponibilidade: 1.4.0</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_GeoHash requires input geometry to be in geographic (lon/lat) coordinates.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm11468"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_GeoHash( ST_Point(-126,48) );

         st_geohash
----------------------
 c0w3hf1s70w3hf1s70w3

SELECT ST_GeoHash( ST_Point(-126,48), 5);

 st_geohash
------------
 c0w3h

-- This line contains the point, so the GeoHash is a prefix of the point code
SELECT ST_GeoHash('LINESTRING(-126 48, -126.1 48.1)'::geometry);

 st_geohash
------------
 c0w3

                </pre></div><div class="refsection" id="idm11471"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromGeoHash" title="ST_GeomFromGeoHash">ST_GeomFromGeoHash</a>, <a class="xref" href="#ST_PointFromGeoHash" title="ST_PointFromGeoHash">ST_PointFromGeoHash</a>, <a class="xref" href="#ST_Box2dFromGeoHash" title="ST_Box2dFromGeoHash">ST_Box2dFromGeoHash</a></p></div></div></section></section><section class="section" id="Operators"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.10. Operadores</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#operators-bbox">7.10.1. Bounding Box Operators</a></span></li><li><span class="section"><a href="#operators-distance">7.10.2. Operadores</a></span></li></ul></div><section class="section" id="operators-bbox"><div class="titlepage"><div><div><h3 class="title">7.10.1. Bounding Box Operators</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#geometry_overlaps">&amp;&amp;</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se a caixa limitadora 2D de A intersecta a caixa limitadora 2D de B. </span></li><li><span class="refentrytitle"><a href="#overlaps_geometry_box2df">&amp;&amp;(geometry,box2df)</a></span><span class="refpurpose"> — Returns <code class="varname">TRUE</code> if a geometry's (cached) 2D bounding box intersects a 2D float precision bounding box (BOX2DF).</span></li><li><span class="refentrytitle"><a href="#overlaps_box2df_geometry">&amp;&amp;(box2df,geometry)</a></span><span class="refpurpose"> — Returns <code class="varname">TRUE</code> if a 2D float precision bounding box (BOX2DF) intersects a geometry's (cached) 2D bounding box.</span></li><li><span class="refentrytitle"><a href="#overlaps_box2df_box2df">&amp;&amp;(box2df,box2df)</a></span><span class="refpurpose"> — Returns <code class="varname">TRUE</code> if two 2D float precision bounding boxes (BOX2DF) intersect each other.</span></li><li><span class="refentrytitle"><a href="#geometry_overlaps_nd">&amp;&amp;&amp;</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se a caixa limitadora n-D de A intersecta a caixa limitadora n-D de B. </span></li><li><span class="refentrytitle"><a href="#overlaps_nd_geometry_gidx">&amp;&amp;&amp;(geometry,gidx)</a></span><span class="refpurpose"> — Returns <code class="varname">TRUE</code> if a geometry's (cached) n-D bounding box intersects a n-D float precision bounding box (GIDX).</span></li><li><span class="refentrytitle"><a href="#overlaps_nd_gidx_geometry">&amp;&amp;&amp;(gidx,geometry)</a></span><span class="refpurpose"> — Returns <code class="varname">TRUE</code> if a n-D float precision bounding box (GIDX) intersects a geometry's (cached) n-D bounding box.</span></li><li><span class="refentrytitle"><a href="#overlaps_nd_gidx_gidx">&amp;&amp;&amp;(gidx,gidx)</a></span><span class="refpurpose"> — Returns <code class="varname">TRUE</code> if two n-D float precision bounding boxes (GIDX) intersect each other.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Overleft">&amp;&lt;</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se a caixa limitadora de A sobrepõe ou está à esquerda de B. </span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Overbelow">&amp;&lt;|</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se a caixa limitadora de A sobrepõe ou está abaixo de B. </span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Overright">&amp;&gt;</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se a caixa limitadora de A sobrepõe ou está à direita de B. </span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Left">&lt;&lt;</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se uma caixa limitadora de A está estritamente à esquerda da de B.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Below">&lt;&lt;|</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se uma caixa limitadora de A está estritamente abaixo da de B.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_EQ">=</a></span><span class="refpurpose"> — Returns <code class="varname">TRUE</code> if the coordinates and coordinate order geometry/geography A are the same as the coordinates and coordinate order of geometry/geography B.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Right">&gt;&gt;</a></span><span class="refpurpose"> — Returns <code class="varname">TRUE</code> if A's bounding box is strictly to the right of B's.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Contained">@</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se uma caixa limitadora de A está contida pela de B.</span></li><li><span class="refentrytitle"><a href="#is_contained_geometry_box2df">@(geometry,box2df)</a></span><span class="refpurpose"> — Returns <code class="varname">TRUE</code> if a geometry's 2D bounding box is contained into a 2D float precision bounding box (BOX2DF).</span></li><li><span class="refentrytitle"><a href="#is_contained_box2df_geometry">@(box2df,geometry)</a></span><span class="refpurpose"> — Returns <code class="varname">TRUE</code> if a 2D float precision bounding box (BOX2DF) is contained into a geometry's 2D bounding box.</span></li><li><span class="refentrytitle"><a href="#is_contained_box2df_box2df">@(box2df,box2df)</a></span><span class="refpurpose"> — Returns <code class="varname">TRUE</code> if a 2D float precision bounding box (BOX2DF) is contained into another 2D float precision bounding box.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Overabove">|&amp;&gt;</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se a caixa limitadora de A sobrepõe ou está acima de B. </span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Above">|&gt;&gt;</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se uma caixa limitadora de A está estritamente acima da de B.</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Contain">~</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se uma caixa limitadora de A contém a de B.</span></li><li><span class="refentrytitle"><a href="#contains_geometry_box2df">~(geometry,box2df)</a></span><span class="refpurpose"> — Returns <code class="varname">TRUE</code> if a geometry's 2D bonding box contains a 2D float precision bounding box (GIDX).</span></li><li><span class="refentrytitle"><a href="#contains_box2df_geometry">~(box2df,geometry)</a></span><span class="refpurpose"> — Returns <code class="varname">TRUE</code> if a 2D float precision bounding box (BOX2DF) contains a geometry's 2D bonding box.</span></li><li><span class="refentrytitle"><a href="#contains_box2df_box2df">~(box2df,box2df)</a></span><span class="refpurpose"> — Returns <code class="varname">TRUE</code> if a 2D float precision bounding box (BOX2DF) contains another 2D float precision bounding box (BOX2DF).</span></li><li><span class="refentrytitle"><a href="#ST_Geometry_Same">~=</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se a caixa limitadora de A é a mesma de B.</span></li></ul></div><div class="refentry" id="geometry_overlaps"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp; — Retorna <code class="varname">VERDADE</code> se a caixa limitadora 2D de A intersecta a caixa limitadora 2D de B. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> geography  <var class="pdparam">A</var> ,  geography  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11506"><h2>Descrição</h2><p>O operador <code class="varname">&amp;&amp;</code> retorna <code class="varname">VERDADE</code> se a caixa limitadora 2D da geometria A intersecta a caixa limitadora 2D da geometria B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso de qualquer um dos indexes que talvez estejam disponíveis nas geometrias. </p></td></tr></table></div><p class="enhanced">Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido.</p><p class="availability">Disponibilidade: 1.5.0 Suporte para geografia foi introduzido</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm11523"><h2>Exemplos</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &amp;&amp; tbl2.column2 AS overlaps
FROM ( VALUES
        (1, 'LINESTRING(0 0, 3 3)'::geometry),
        (2, 'LINESTRING(0 1, 0 5)'::geometry)) AS tbl1,
( VALUES
        (3, 'LINESTRING(1 2, 4 6)'::geometry)) AS tbl2;

 column1 | column1 | overlaps
---------+---------+----------
           1 |       3 | t
           2 |       3 | f
(2 rows)
</pre></div><div class="refsection" id="idm11526"><h2>Veja também</h2><p><a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Geometry_Overright" title="&amp;&gt;">&amp;&gt;</a>, <a class="xref" href="#ST_Geometry_Overbelow" title="&amp;&lt;|">&amp;&lt;|</a>, <a class="xref" href="#ST_Geometry_Overleft" title="&amp;&lt;">&amp;&lt;</a>, <a class="xref" href="#ST_Geometry_Contain" title="~">~</a>, <a class="xref" href="#ST_Geometry_Contained" title="@">@</a> </p></div></div><div class="refentry" id="overlaps_geometry_box2df"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp;(geometry,box2df) — Returns <code class="varname">TRUE</code> if a geometry's (cached) 2D bounding box intersects a 2D float precision bounding box (BOX2DF).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> geometry  <var class="pdparam">A</var> ,  box2df <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11551"><h2>Descrição</h2><p>The <code class="varname">&amp;&amp;</code> operator returns <code class="varname">TRUE</code> if the cached 2D bounding box of geometry A intersects the 2D bounding box B, using float precision. This means that if B is a (double precision) box2d, it will be internally converted to a float precision 2D bounding box (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This operand is intended to be used internally by BRIN indexes, more than by users.</p></td></tr></table></div><p class="availability">Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm11567"><h2>Exemplos</h2><pre class="programlisting">
SELECT ST_Point(1,1) &amp;&amp; ST_MakeBox2D(ST_Point(0,0), ST_Point(2,2)) AS overlaps;

 overlaps
----------
 t
(1 row)
</pre></div><div class="refsection" id="idm11570"><h2>Veja também</h2><p><a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="overlaps_box2df_geometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp;(box2df,geometry) — Returns <code class="varname">TRUE</code> if a 2D float precision bounding box (BOX2DF) intersects a geometry's (cached) 2D bounding box.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> box2df  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11597"><h2>Descrição</h2><p>The <code class="varname">&amp;&amp;</code> operator returns <code class="varname">TRUE</code> if the 2D bounding box A intersects the cached 2D bounding box of geometry B, using float precision. This means that if A is a (double precision) box2d, it will be internally converted to a float precision 2D bounding box (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This operand is intended to be used internally by BRIN indexes, more than by users.</p></td></tr></table></div><p class="availability">Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm11613"><h2>Exemplos</h2><pre class="programlisting">
SELECT ST_MakeBox2D(ST_Point(0,0), ST_Point(2,2)) &amp;&amp; ST_Point(1,1) AS overlaps;

 overlaps
----------
 t
(1 row)
</pre></div><div class="refsection" id="idm11616"><h2>Veja também</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="overlaps_box2df_box2df"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp;(box2df,box2df) — Returns <code class="varname">TRUE</code> if two 2D float precision bounding boxes (BOX2DF) intersect each other.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> box2df  <var class="pdparam">A</var> ,  box2df  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11643"><h2>Descrição</h2><p>The <code class="varname">&amp;&amp;</code> operator returns <code class="varname">TRUE</code> if two 2D bounding boxes A and B intersect each other, using float precision. This means that if A (or B) is a (double precision) box2d, it will be internally converted to a float precision 2D bounding box (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This operator is intended to be used internally by BRIN indexes, more than by users.</p></td></tr></table></div><p class="availability">Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm11659"><h2>Exemplos</h2><pre class="programlisting">
SELECT ST_MakeBox2D(ST_Point(0,0), ST_Point(2,2)) &amp;&amp; ST_MakeBox2D(ST_Point(1,1), ST_Point(3,3)) AS overlaps;

 overlaps
----------
 t
(1 row)
</pre></div><div class="refsection" id="idm11662"><h2>Veja também</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="geometry_overlaps_nd"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp;&amp; — Retorna <code class="varname">VERDADE</code> se a caixa limitadora n-D de A intersecta a caixa limitadora n-D de B. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;&amp;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11689"><h2>Descrição</h2><p>O operador  <code class="varname">&amp;&amp;&amp;</code> retorna <code class="varname">VERDADE</code> se a caixa limitadora n-D da geometria A intersecta a caixa limitadora n-D da geometria B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso de qualquer um dos indexes que talvez estejam disponíveis nas geometrias. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm11713"><h2>Exemplos: LineStrings 3D</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &amp;&amp;&amp; tbl2.column2 AS overlaps_3d,
                                    tbl1.column2 &amp;&amp; tbl2.column2 AS overlaps_2d
FROM ( VALUES
        (1, 'LINESTRING Z(0 0 1, 3 3 2)'::geometry),
        (2, 'LINESTRING Z(1 2 0, 0 5 -1)'::geometry)) AS tbl1,
( VALUES
        (3, 'LINESTRING Z(1 2 1, 4 6 1)'::geometry)) AS tbl2;

 column1 | column1 | overlaps_3d | overlaps_2d
---------+---------+-------------+-------------
       1 |       3 | t           | t
       2 |       3 | f           | t

</pre></div><div class="refsection" id="idm11716"><h2>Exemplos: LineStrings 3M</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &amp;&amp;&amp; tbl2.column2 AS overlaps_3zm,
                                    tbl1.column2 &amp;&amp; tbl2.column2 AS overlaps_2d
FROM ( VALUES
        (1, 'LINESTRING M(0 0 1, 3 3 2)'::geometry),
        (2, 'LINESTRING M(1 2 0, 0 5 -1)'::geometry)) AS tbl1,
( VALUES
        (3, 'LINESTRING M(1 2 1, 4 6 1)'::geometry)) AS tbl2;

 column1 | column1 | overlaps_3zm | overlaps_2d
---------+---------+-------------+-------------
       1 |       3 | t           | t
       2 |       3 | f           | t

</pre></div><div class="refsection" id="idm11719"><h2>Veja também</h2><p><a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a></p></div></div><div class="refentry" id="overlaps_nd_geometry_gidx"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp;&amp;(geometry,gidx) — Returns <code class="varname">TRUE</code> if a geometry's (cached) n-D bounding box intersects a n-D float precision bounding box (GIDX).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;&amp;</strong>(</code> geometry  <var class="pdparam">A</var> ,  gidx  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11739"><h2>Descrição</h2><p>The <code class="varname">&amp;&amp;&amp;</code> operator returns <code class="varname">TRUE</code> if the cached n-D bounding box of geometry A intersects the n-D bounding box B, using float precision. This means that if B is a (double precision) box3d, it will be internally converted to a float precision 3D bounding box (GIDX)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This operator is intended to be used internally by BRIN indexes, more than by users.</p></td></tr></table></div><p class="availability">Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm11763"><h2>Exemplos</h2><pre class="programlisting">
SELECT ST_MakePoint(1,1,1) &amp;&amp;&amp; ST_3DMakeBox(ST_MakePoint(0,0,0), ST_MakePoint(2,2,2)) AS overlaps;

 overlaps
----------
 t
(1 row)
</pre></div><div class="refsection" id="idm11766"><h2>Veja também</h2><p><a class="xref" href="#overlaps_nd_gidx_geometry" title="&amp;&amp;&amp;(gidx,geometry)">&amp;&amp;&amp;(gidx,geometry)</a>, <a class="xref" href="#overlaps_nd_gidx_gidx" title="&amp;&amp;&amp;(gidx,gidx)">&amp;&amp;&amp;(gidx,gidx)</a></p></div></div><div class="refentry" id="overlaps_nd_gidx_geometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp;&amp;(gidx,geometry) — Returns <code class="varname">TRUE</code> if a n-D float precision bounding box (GIDX) intersects a geometry's (cached) n-D bounding box.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;&amp;</strong>(</code> gidx  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11787"><h2>Descrição</h2><p>The <code class="varname">&amp;&amp;&amp;</code> operator returns <code class="varname">TRUE</code> if the n-D bounding box A intersects the cached n-D bounding box of geometry B, using float precision. This means that if A is a (double precision) box3d, it will be internally converted to a float precision 3D bounding box (GIDX)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This operator is intended to be used internally by BRIN indexes, more than by users.</p></td></tr></table></div><p class="availability">Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm11811"><h2>Exemplos</h2><pre class="programlisting">
SELECT ST_3DMakeBox(ST_MakePoint(0,0,0), ST_MakePoint(2,2,2)) &amp;&amp;&amp; ST_MakePoint(1,1,1) AS overlaps;

 overlaps
----------
 t
(1 row)
</pre></div><div class="refsection" id="idm11814"><h2>Veja também</h2><p><a class="xref" href="#overlaps_nd_geometry_gidx" title="&amp;&amp;&amp;(geometry,gidx)">&amp;&amp;&amp;(geometry,gidx)</a>, <a class="xref" href="#overlaps_nd_gidx_gidx" title="&amp;&amp;&amp;(gidx,gidx)">&amp;&amp;&amp;(gidx,gidx)</a></p></div></div><div class="refentry" id="overlaps_nd_gidx_gidx"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp;&amp;(gidx,gidx) — Returns <code class="varname">TRUE</code> if two n-D float precision bounding boxes (GIDX) intersect each other.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;&amp;</strong>(</code> gidx  <var class="pdparam">A</var> ,  gidx  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11835"><h2>Descrição</h2><p>The <code class="varname">&amp;&amp;&amp;</code> operator returns <code class="varname">TRUE</code> if two n-D bounding boxes A and B intersect each other, using float precision. This means that if A (or B) is a (double precision) box3d, it will be internally converted to a float precision 3D bounding box (GIDX)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This operator is intended to be used internally by BRIN indexes, more than by users.</p></td></tr></table></div><p class="availability">Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm11859"><h2>Exemplos</h2><pre class="programlisting">
SELECT ST_3DMakeBox(ST_MakePoint(0,0,0), ST_MakePoint(2,2,2)) &amp;&amp;&amp; ST_3DMakeBox(ST_MakePoint(1,1,1), ST_MakePoint(3,3,3)) AS overlaps;

 overlaps
----------
 t
(1 row)
</pre></div><div class="refsection" id="idm11862"><h2>Veja também</h2><p><a class="xref" href="#overlaps_nd_geometry_gidx" title="&amp;&amp;&amp;(geometry,gidx)">&amp;&amp;&amp;(geometry,gidx)</a>, <a class="xref" href="#overlaps_nd_gidx_geometry" title="&amp;&amp;&amp;(gidx,geometry)">&amp;&amp;&amp;(gidx,geometry)</a></p></div></div><div class="refentry" id="ST_Geometry_Overleft"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&lt; — Retorna <code class="varname">VERDADE</code> se a caixa limitadora de A sobrepõe ou está à esquerda de B. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&lt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11883"><h2>Descrição</h2><p>O operador <code class="varname">&amp;&lt;</code> retorna <code class="varname">VERDADE</code> se a caixa limitadora da geometria A sobrepõe ou está à esquerda da caixa da geometria B, ou mais precisamente, sobrepõe ou NÃO está à direita da caixa limitadora da geometria B. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso de qualquer um dos indexes que talvez estejam disponíveis nas geometrias. </p></td></tr></table></div></div><div class="refsection" id="idm11890"><h2>Exemplos</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &amp;&lt; tbl2.column2 AS overleft
FROM
  ( VALUES
        (1, 'LINESTRING(1 2, 4 6)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING(0 0, 3 3)'::geometry),
        (3, 'LINESTRING(0 1, 0 5)'::geometry),
        (4, 'LINESTRING(6 0, 6 1)'::geometry)) AS tbl2;

 column1 | column1 | overleft
---------+---------+----------
           1 |       2 | f
           1 |       3 | f
           1 |       4 | t
(3 rows)
</pre></div><div class="refsection" id="idm11893"><h2>Veja também</h2><p><a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a>, <a class="xref" href="#ST_Geometry_Overabove" title="|&amp;&gt;">|&amp;&gt;</a>, <a class="xref" href="#ST_Geometry_Overright" title="&amp;&gt;">&amp;&gt;</a>, <a class="xref" href="#ST_Geometry_Overbelow" title="&amp;&lt;|">&amp;&lt;|</a></p></div></div><div class="refentry" id="ST_Geometry_Overbelow"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&lt;| — Retorna <code class="varname">VERDADE</code> se a caixa limitadora de A sobrepõe ou está abaixo de B. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&lt;|</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11916"><h2>Descrição</h2><p>O operador <code class="varname">&amp;&lt;|</code> retorna <code class="varname">VERDADE</code> se a caixa limitadora da geometria A sobrepõe ou está abaixo da caixa da geometria B, ou mais precisamente, sobrepõe ou NÃO está acima da caixa limitadora da geometria B. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso de qualquer um dos indexes que talvez estejam disponíveis nas geometrias. </p></td></tr></table></div></div><div class="refsection" id="idm11931"><h2>Exemplos</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &amp;&lt;| tbl2.column2 AS overbelow
FROM
  ( VALUES
        (1, 'LINESTRING(6 0, 6 4)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING(0 0, 3 3)'::geometry),
        (3, 'LINESTRING(0 1, 0 5)'::geometry),
        (4, 'LINESTRING(1 2, 4 6)'::geometry)) AS tbl2;

 column1 | column1 | overbelow
---------+---------+-----------
           1 |       2 | f
           1 |       3 | t
           1 |       4 | t
(3 rows)
</pre></div><div class="refsection" id="idm11934"><h2>Veja também</h2><p><a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a>, <a class="xref" href="#ST_Geometry_Overabove" title="|&amp;&gt;">|&amp;&gt;</a>, <a class="xref" href="#ST_Geometry_Overright" title="&amp;&gt;">&amp;&gt;</a>, <a class="xref" href="#ST_Geometry_Overleft" title="&amp;&lt;">&amp;&lt;</a></p></div></div><div class="refentry" id="ST_Geometry_Overright"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&gt; — Retorna <code class="varname">VERDADE</code> se a caixa limitadora de A sobrepõe ou está à direita de B. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&gt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11957"><h2>Descrição</h2><p>O operador <code class="varname">&amp;&gt;</code> retorna <code class="varname">VERDADE</code> se a caixa limitadora da geometria A sobrepõe ou está à direita da caixa da geometria B, ou mais precisamente, sobrepõe ou NÃO está à esquerda da caixa limitadora da geometria B. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso de qualquer um dos indexes que talvez estejam disponíveis nas geometrias. </p></td></tr></table></div></div><div class="refsection" id="idm11964"><h2>Exemplos</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &amp;
&gt; tbl2.column2 AS overright
FROM
  ( VALUES
        (1, 'LINESTRING(1 2, 4 6)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING(0 0, 3 3)'::geometry),
        (3, 'LINESTRING(0 1, 0 5)'::geometry),
        (4, 'LINESTRING(6 0, 6 1)'::geometry)) AS tbl2;

 column1 | column1 | overright
---------+---------+-----------
           1 |       2 | t
           1 |       3 | t
           1 |       4 | f
(3 rows)
</pre></div><div class="refsection" id="idm11967"><h2>Veja também</h2><p><a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a>, <a class="xref" href="#ST_Geometry_Overabove" title="|&amp;&gt;">|&amp;&gt;</a>, <a class="xref" href="#ST_Geometry_Overbelow" title="&amp;&lt;|">&amp;&lt;|</a>, <a class="xref" href="#ST_Geometry_Overleft" title="&amp;&lt;">&amp;&lt;</a></p></div></div><div class="refentry" id="ST_Geometry_Left"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&lt;&lt; — Retorna <code class="varname">VERDADE</code> se uma caixa limitadora de A está estritamente à esquerda da de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&lt;&lt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm11990"><h2>Descrição</h2><p>O operador <code class="varname">&lt;&lt;</code> retorna <code class="varname">VERDADE</code> se a caixa limitadora  da geometria A está estritamente à esquerda da caixa limitadora da geometria B. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso de qualquer um dos indexes que talvez estejam disponíveis nas geometrias. </p></td></tr></table></div></div><div class="refsection" id="idm11997"><h2>Exemplos</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &lt;&lt; tbl2.column2 AS left
FROM
  ( VALUES
        (1, 'LINESTRING (1 2, 1 5)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING (0 0, 4 3)'::geometry),
        (3, 'LINESTRING (6 0, 6 5)'::geometry),
        (4, 'LINESTRING (2 2, 5 6)'::geometry)) AS tbl2;

 column1 | column1 | left
---------+---------+------
           1 |       2 | f
           1 |       3 | t
           1 |       4 | t
(3 rows)
</pre></div><div class="refsection" id="idm12000"><h2>Veja também</h2><p><a class="xref" href="#ST_Geometry_Right" title="&gt;&gt;">&gt;&gt;</a>, <a class="xref" href="#ST_Geometry_Above" title="|&gt;&gt;">|&gt;&gt;</a>, <a class="xref" href="#ST_Geometry_Below" title="&lt;&lt;|">&lt;&lt;|</a></p></div></div><div class="refentry" id="ST_Geometry_Below"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&lt;&lt;| — Retorna <code class="varname">VERDADE</code> se uma caixa limitadora de A está estritamente abaixo da de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&lt;&lt;|</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12022"><h2>Descrição</h2><p>O operador <code class="varname">&lt;&lt;|</code> retorna <code class="varname">VERDADE</code> se a caixa limitadora  da geometria A está estritamente à esquerda da caixa limitadora da geometria B. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso de qualquer um dos indexes que talvez estejam disponíveis nas geometrias. </p></td></tr></table></div></div><div class="refsection" id="idm12029"><h2>Exemplos</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 &lt;&lt;| tbl2.column2 AS below
FROM
  ( VALUES
        (1, 'LINESTRING (0 0, 4 3)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING (1 4, 1 7)'::geometry),
        (3, 'LINESTRING (6 1, 6 5)'::geometry),
        (4, 'LINESTRING (2 3, 5 6)'::geometry)) AS tbl2;

 column1 | column1 | below
---------+---------+-------
           1 |       2 | t
           1 |       3 | f
           1 |       4 | f
(3 rows)
</pre></div><div class="refsection" id="idm12032"><h2>Veja também</h2><p><a class="xref" href="#ST_Geometry_Left" title="&lt;&lt;">&lt;&lt;</a>, <a class="xref" href="#ST_Geometry_Right" title="&gt;&gt;">&gt;&gt;</a>, <a class="xref" href="#ST_Geometry_Above" title="|&gt;&gt;">|&gt;&gt;</a></p></div></div><div class="refentry" id="ST_Geometry_EQ"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>= — Returns <code class="varname">TRUE</code> if the coordinates and coordinate order geometry/geography A are the same as the coordinates and coordinate order of geometry/geography B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">=</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">=</strong>(</code> geography  <var class="pdparam">A</var> ,  geography  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12063"><h2>Descrição</h2><p>The <code class="varname">=</code> operator returns <code class="varname">TRUE</code> if the coordinates and coordinate order geometry/geography A are the same as the coordinates and coordinate order of geometry/geography B. PostgreSQL uses the =, &lt;, and &gt; operators defined for geometries to perform internal orderings and comparison of geometries (ie. in a GROUP BY or ORDER BY clause).</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Only geometry/geography that are exactly equal in all respects, with the same coordinates, in the same order, are considered equal by this operator. For "spatial equality", that ignores things like coordinate order, and can detect features that cover the same spatial area with different representations, use <a class="xref" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a> or <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a></p></td></tr></table></div><div class="caution"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Caution]" src="images/caution.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This operand will NOT make use of any indexes that may be available on the geometries. For an index assisted exact equality test, combine = with &amp;&amp;.</p></td></tr></table></div><p class="changed">Changed: 2.4.0, in prior versions this was bounding box equality not a geometric equality. If you need bounding box equality, use <a class="xref" href="#ST_Geometry_Same" title="~=">~=</a> instead.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm12084"><h2>Exemplos</h2><pre class="programlisting">
SELECT 'LINESTRING(0 0, 0 1, 1 0)'::geometry = 'LINESTRING(1 1, 0 0)'::geometry;
 ?column?
----------
 f
(1 row)

SELECT ST_AsText(column1)
FROM ( VALUES
        ('LINESTRING(0 0, 1 1)'::geometry),
        ('LINESTRING(1 1, 0 0)'::geometry)) AS foo;
          st_astext
---------------------
 LINESTRING(0 0,1 1)
 LINESTRING(1 1,0 0)
(2 rows)

-- Note: the GROUP BY uses the "=" to compare for geometry equivalency.
SELECT ST_AsText(column1)
FROM ( VALUES
        ('LINESTRING(0 0, 1 1)'::geometry),
        ('LINESTRING(1 1, 0 0)'::geometry)) AS foo
GROUP BY column1;
      st_astext
---------------------
 LINESTRING(0 0,1 1)
 LINESTRING(1 1,0 0)
(2 rows)

-- In versions prior to 2.0, this used to return true --
 SELECT ST_GeomFromText('POINT(1707296.37 4820536.77)') =
        ST_GeomFromText('POINT(1707296.27 4820536.87)') As pt_intersect;

--pt_intersect --
f

</pre></div><div class="refsection" id="idm12087"><h2>Veja também</h2><p><a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a>, <a class="xref" href="#ST_Geometry_Same" title="~=">~=</a> </p></div></div><div class="refentry" id="ST_Geometry_Right"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&gt;&gt; — Returns <code class="varname">TRUE</code> if A's bounding box is strictly to the right of B's.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&gt;&gt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12109"><h2>Descrição</h2><p>O operador <code class="varname">&gt;&gt;</code> retorna <code class="varname">VERDADE</code> se a caixa limitadora  da geometria A está estritamente à direita da caixa limitadora da geometria B. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso de qualquer um dos indexes que talvez estejam disponíveis nas geometrias. </p></td></tr></table></div></div><div class="refsection" id="idm12116"><h2>Exemplos</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 
&gt;
&gt; tbl2.column2 AS right
FROM
  ( VALUES
        (1, 'LINESTRING (2 3, 5 6)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING (1 4, 1 7)'::geometry),
        (3, 'LINESTRING (6 1, 6 5)'::geometry),
        (4, 'LINESTRING (0 0, 4 3)'::geometry)) AS tbl2;

 column1 | column1 | right
---------+---------+-------
           1 |       2 | t
           1 |       3 | f
           1 |       4 | f
(3 rows)
</pre></div><div class="refsection" id="idm12119"><h2>Veja também</h2><p><a class="xref" href="#ST_Geometry_Left" title="&lt;&lt;">&lt;&lt;</a>, <a class="xref" href="#ST_Geometry_Above" title="|&gt;&gt;">|&gt;&gt;</a>, <a class="xref" href="#ST_Geometry_Below" title="&lt;&lt;|">&lt;&lt;|</a></p></div></div><div class="refentry" id="ST_Geometry_Contained"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>@ — Retorna <code class="varname">VERDADE</code> se uma caixa limitadora de A está contida pela de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">@</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12141"><h2>Descrição</h2><p>O operador <code class="varname">@</code> retorna <code class="varname">VERDADE</code> se a caixa limitadora da geometria A estiver completamente contida pela caixa limitadora da geometria B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso de qualquer um dos indexes que talvez estejam disponíveis nas geometrias. </p></td></tr></table></div></div><div class="refsection" id="idm12148"><h2>Exemplos</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 @ tbl2.column2 AS contained
FROM
  ( VALUES
        (1, 'LINESTRING (1 1, 3 3)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING (0 0, 4 4)'::geometry),
        (3, 'LINESTRING (2 2, 4 4)'::geometry),
        (4, 'LINESTRING (1 1, 3 3)'::geometry)) AS tbl2;

 column1 | column1 | contained
---------+---------+-----------
           1 |       2 | t
           1 |       3 | f
           1 |       4 | t
(3 rows)
</pre></div><div class="refsection" id="idm12151"><h2>Veja também</h2><p><a class="xref" href="#ST_Geometry_Contain" title="~">~</a>, <a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a></p></div></div><div class="refentry" id="is_contained_geometry_box2df"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>@(geometry,box2df) — Returns <code class="varname">TRUE</code> if a geometry's 2D bounding box is contained into a 2D float precision bounding box (BOX2DF).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">@</strong>(</code> geometry  <var class="pdparam">A</var> ,  box2df  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12172"><h2>Descrição</h2><p>The <code class="varname">@</code> operator returns <code class="varname">TRUE</code> if the A geometry's 2D bounding box is contained the 2D bounding box B, using float precision. This means that if B is a (double precision) box2d, it will be internally converted to a float precision 2D bounding box (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This operand is intended to be used internally by BRIN indexes, more than by users.</p></td></tr></table></div><p class="availability">Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm12188"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_Buffer(ST_GeomFromText('POINT(2 2)'), 1) @ ST_MakeBox2D(ST_Point(0,0), ST_Point(5,5)) AS is_contained;

 is_contained
--------------
 t
(1 row)</pre></div><div class="refsection" id="idm12191"><h2>Veja também</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="is_contained_box2df_geometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>@(box2df,geometry) — Returns <code class="varname">TRUE</code> if a 2D float precision bounding box (BOX2DF) is contained into a geometry's 2D bounding box.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">@</strong>(</code> box2df  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12218"><h2>Descrição</h2><p>The <code class="varname">@</code> operator returns <code class="varname">TRUE</code> if the 2D bounding box A is contained into the B geometry's 2D bounding box, using float precision. This means that if B is a (double precision) box2d, it will be internally converted to a float precision 2D bounding box (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This operand is intended to be used internally by BRIN indexes, more than by users.</p></td></tr></table></div><p class="availability">Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm12234"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_MakeBox2D(ST_Point(2,2), ST_Point(3,3)) @ ST_Buffer(ST_GeomFromText('POINT(1 1)'), 10) AS is_contained;

 is_contained
--------------
 t
(1 row)</pre></div><div class="refsection" id="idm12237"><h2>Veja também</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="is_contained_box2df_box2df"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>@(box2df,box2df) — Returns <code class="varname">TRUE</code> if a 2D float precision bounding box (BOX2DF) is contained into another 2D float precision bounding box.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">@</strong>(</code> box2df  <var class="pdparam">A</var> ,  box2df  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12264"><h2>Descrição</h2><p>The <code class="varname">@</code> operator returns <code class="varname">TRUE</code> if the 2D bounding box A is contained into the 2D bounding box B, using float precision. This means that if A (or B) is a (double precision) box2d, it will be internally converted to a float precision 2D bounding box (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This operand is intended to be used internally by BRIN indexes, more than by users.</p></td></tr></table></div><p class="availability">Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm12280"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_MakeBox2D(ST_Point(2,2), ST_Point(3,3)) @ ST_MakeBox2D(ST_Point(0,0), ST_Point(5,5)) AS is_contained;

 is_contained
--------------
 t
(1 row)</pre></div><div class="refsection" id="idm12283"><h2>Veja também</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a></p></div></div><div class="refentry" id="ST_Geometry_Overabove"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>|&amp;&gt; — Retorna <code class="varname">VERDADE</code> se a caixa limitadora de A sobrepõe ou está acima de B. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">|&amp;&gt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12310"><h2>Descrição</h2><p>O operador <code class="varname">|&amp;&gt;</code> retorna <code class="varname">VERDADE</code> se a caixa limitadora da geometria A sobrepõe ou está acima da caixa da geometria B, ou mais precisamente, sobrepõe ou NÃO está abaixo da caixa limitadora da geometria B. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso de qualquer um dos indexes que talvez estejam disponíveis nas geometrias. </p></td></tr></table></div></div><div class="refsection" id="idm12317"><h2>Exemplos</h2><pre class="programlisting">
SELECT tbl1.column1, tbl2.column1, tbl1.column2 |&amp;
&gt; tbl2.column2 AS overabove
FROM
  ( VALUES
        (1, 'LINESTRING(6 0, 6 4)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING(0 0, 3 3)'::geometry),
        (3, 'LINESTRING(0 1, 0 5)'::geometry),
        (4, 'LINESTRING(1 2, 4 6)'::geometry)) AS tbl2;

 column1 | column1 | overabove
---------+---------+-----------
           1 |       2 | t
           1 |       3 | f
           1 |       4 | f
(3 rows)
</pre></div><div class="refsection" id="idm12320"><h2>Veja também</h2><p><a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a>, <a class="xref" href="#ST_Geometry_Overright" title="&amp;&gt;">&amp;&gt;</a>, <a class="xref" href="#ST_Geometry_Overbelow" title="&amp;&lt;|">&amp;&lt;|</a>, <a class="xref" href="#ST_Geometry_Overleft" title="&amp;&lt;">&amp;&lt;</a></p></div></div><div class="refentry" id="ST_Geometry_Above"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>|&gt;&gt; — Retorna <code class="varname">VERDADE</code> se uma caixa limitadora de A está estritamente acima da de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">|&gt;&gt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12343"><h2>Descrição</h2><p>The <code class="varname">|&gt;&gt;</code> operator returns <code class="varname">TRUE</code> if the bounding box of geometry A is strictly above the bounding box of geometry B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso de qualquer um dos indexes que talvez estejam disponíveis nas geometrias. </p></td></tr></table></div></div><div class="refsection" id="idm12350"><h2>Exemplos</h2><pre class="programlisting">SELECT tbl1.column1, tbl2.column1, tbl1.column2 |&gt;&gt; tbl2.column2 AS above
FROM
  ( VALUES
        (1, 'LINESTRING (1 4, 1 7)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING (0 0, 4 2)'::geometry),
        (3, 'LINESTRING (6 1, 6 5)'::geometry),
        (4, 'LINESTRING (2 3, 5 6)'::geometry)) AS tbl2;

 column1 | column1 | above
---------+---------+-------
           1 |       2 | t
           1 |       3 | f
           1 |       4 | f
(3 rows)</pre></div><div class="refsection" id="idm12353"><h2>Veja também</h2><p><a class="xref" href="#ST_Geometry_Left" title="&lt;&lt;">&lt;&lt;</a>, <a class="xref" href="#ST_Geometry_Right" title="&gt;&gt;">&gt;&gt;</a>, <a class="xref" href="#ST_Geometry_Below" title="&lt;&lt;|">&lt;&lt;|</a></p></div></div><div class="refentry" id="ST_Geometry_Contain"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>~ — Retorna <code class="varname">VERDADE</code> se uma caixa limitadora de A contém a de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">~</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12375"><h2>Descrição</h2><p>O operador <code class="varname">~</code> retorna <code class="varname">VERDADE</code> se a caixa limitadora da geometria A estiver completamente contida pela caixa limitadora da geometria B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso de qualquer um dos indexes que talvez estejam disponíveis nas geometrias. </p></td></tr></table></div></div><div class="refsection" id="idm12382"><h2>Exemplos</h2><pre class="programlisting">SELECT tbl1.column1, tbl2.column1, tbl1.column2 ~ tbl2.column2 AS contains
FROM
  ( VALUES
        (1, 'LINESTRING (0 0, 3 3)'::geometry)) AS tbl1,
  ( VALUES
        (2, 'LINESTRING (0 0, 4 4)'::geometry),
        (3, 'LINESTRING (1 1, 2 2)'::geometry),
        (4, 'LINESTRING (0 0, 3 3)'::geometry)) AS tbl2;

 column1 | column1 | contains
---------+---------+----------
           1 |       2 | f
           1 |       3 | t
           1 |       4 | t
(3 rows)</pre></div><div class="refsection" id="idm12385"><h2>Veja também</h2><p><a class="xref" href="#ST_Geometry_Contained" title="@">@</a>, <a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a></p></div></div><div class="refentry" id="contains_geometry_box2df"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>~(geometry,box2df) — Returns <code class="varname">TRUE</code> if a geometry's 2D bonding box contains a 2D float precision bounding box (GIDX).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">~</strong>(</code> geometry  <var class="pdparam">A</var> ,  box2df  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12406"><h2>Descrição</h2><p>The <code class="varname">~</code> operator returns <code class="varname">TRUE</code> if the 2D bounding box of a geometry A contains the 2D bounding box B, using float precision. This means that if B is a (double precision) box2d, it will be internally converted to a float precision 2D bounding box (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This operand is intended to be used internally by BRIN indexes, more than by users.</p></td></tr></table></div><p class="availability">Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm12422"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_Buffer(ST_GeomFromText('POINT(1 1)'), 10) ~ ST_MakeBox2D(ST_Point(0,0), ST_Point(2,2)) AS contains;

 contains
----------
 t
(1 row)</pre></div><div class="refsection" id="idm12425"><h2>Veja também</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="contains_box2df_geometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>~(box2df,geometry) — Returns <code class="varname">TRUE</code> if a 2D float precision bounding box (BOX2DF) contains a geometry's 2D bonding box.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">~</strong>(</code> box2df  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12452"><h2>Descrição</h2><p>The <code class="varname">~</code> operator returns <code class="varname">TRUE</code> if the 2D bounding box A contains the B geometry's bounding box, using float precision. This means that if A is a (double precision) box2d, it will be internally converted to a float precision 2D bounding box (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This operand is intended to be used internally by BRIN indexes, more than by users.</p></td></tr></table></div><p class="availability">Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm12468"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_MakeBox2D(ST_Point(0,0), ST_Point(5,5)) ~ ST_Buffer(ST_GeomFromText('POINT(2 2)'), 1) AS contains;

 contains
----------
 t
(1 row)</pre></div><div class="refsection" id="idm12471"><h2>Veja também</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="contains_box2df_box2df"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>~(box2df,box2df) — Returns <code class="varname">TRUE</code> if a 2D float precision bounding box (BOX2DF) contains another 2D float precision bounding box (BOX2DF).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">~</strong>(</code> box2df  <var class="pdparam">A</var> ,  box2df  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12498"><h2>Descrição</h2><p>The <code class="varname">~</code> operator returns <code class="varname">TRUE</code> if the 2D bounding box A contains the 2D bounding box B, using float precision. This means that if A is a (double precision) box2d, it will be internally converted to a float precision 2D bounding box (BOX2DF)</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This operand is intended to be used internally by BRIN indexes, more than by users.</p></td></tr></table></div><p class="availability">Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm12514"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_MakeBox2D(ST_Point(0,0), ST_Point(5,5)) ~ ST_MakeBox2D(ST_Point(2,2), ST_Point(3,3)) AS contains;

 contains
----------
 t
(1 row)</pre></div><div class="refsection" id="idm12517"><h2>Veja também</h2><p><a class="xref" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>, <a class="xref" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>, <a class="xref" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>, <a class="xref" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>, <a class="xref" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>, <a class="xref" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>, <a class="xref" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>, <a class="xref" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a></p></div></div><div class="refentry" id="ST_Geometry_Same"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>~= — Retorna <code class="varname">VERDADE</code> se a caixa limitadora de A é a mesma de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">~=</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12544"><h2>Descrição</h2><p>O operador <code class="varname">~</code> retorna <code class="varname">VERDADE</code> se a caixa limitadora da geometria/geografia A for a mesma da caixa limitadora da geometria/geografia B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso de qualquer um dos indexes que talvez estejam disponíveis nas geometrias. </p></td></tr></table></div><p class="availability">Disponibilidade: 1.5.0 comportamento alterado</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This operator has changed behavior in PostGIS 1.5 from testing for actual geometric equality to only checking for bounding box equality. To complicate things it also depends on if you have done a hard or soft upgrade which behavior your database has. To find out which behavior your database has you can run the query below. To check for true equality use <a class="xref" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a> or <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>.</p></td></tr></table></div></div><div class="refsection" id="idm12560"><h2>Exemplos</h2><pre class="programlisting">select 'LINESTRING(0 0, 1 1)'::geometry ~= 'LINESTRING(0 1, 1 0)'::geometry as equality;
 equality   |
-----------------+
          t    |
                        </pre></div><div class="refsection" id="idm12563"><h2>Veja também</h2><p><a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a>, <a class="xref" href="#ST_Geometry_EQ" title="=">=</a></p></div></div></section><section class="section" id="operators-distance"><div class="titlepage"><div><div><h3 class="title">7.10.2. Operadores</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#geometry_distance_knn">&lt;-&gt;</a></span><span class="refpurpose"> — Retorna a distância 2D entre A e B. </span></li><li><span class="refentrytitle"><a href="#geometry_distance_cpa">|=|</a></span><span class="refpurpose"> — Retorna a distância entre As trajetórias A e B ao ponto de aproximação mais perto.  </span></li><li><span class="refentrytitle"><a href="#geometry_distance_box">&lt;#&gt;</a></span><span class="refpurpose"> — Retorna a distância 2D entre as caixas limitadoras de A e B. </span></li><li><span class="refentrytitle"><a href="#geometry_distance_centroid_nd">&lt;&lt;-&gt;&gt;</a></span><span class="refpurpose"> — Returns the n-D distance between the A and B geometries or bounding boxes </span></li></ul></div><div class="refentry" id="geometry_distance_knn"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&lt;-&gt; — Retorna a distância 2D entre A e B. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">&lt;-&gt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">&lt;-&gt;</strong>(</code> geography  <var class="pdparam">A</var> ,  geography  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12595"><h2>Descrição</h2><p>O operador <code class="varname">&lt;-&gt;</code> retorna a distância 2D entre duas geometrias. Usado nas orações "ORDEM" que fornecem configurações de  resultado index-assisted nearest-neighbor. Para o PostgreSQL menor que 9.5 somente fornece a distância centroide das caixas limitadoras e para PostgreSQL 9.5+, a verdadeira distância KNN procura dando verdadeiras distâncias entre geometrias, e distância esférica para geografias.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso dos indexes 2D GiST que podem estar disponíveis nas geometrias. É diferente de outros operadores que usam indexes espaciais em que eles só são usados quando o operador está na oração ORDEM. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O index só rejeita se uma das geometrias é uma constante (não em uma subquery/cte). ex. 'SRID=3005;POINT(1011102 450541)'::geometria ao invés de uma .geom</p></td></tr></table></div><p>Vá para <a class="link" href="http://workshops.opengeo.org/postgis-intro/knn.html" target="_top">OpenGeo workshop: Nearest-Neighbour Searching</a> para um exemplo real. </p><p class="enhanced">melhorias: 2.2.0 -- Verdadeiro comportamento KNN ("vizinho mais perto de K") para geometria e geografia para PostgreSQL 9.5+. Note que para geografia o KNN é baseado em esfera ao invés de esferoide. Para o PostgreSQL 9.4 ou menor, o suporte para geografia é novo, mas só suporta caixa centroide. </p><p class="changed">Alterações: 2.2.0 -- Para usuários do PostgreSQL 9.5, a sintaxe Hybrid antiga pode ser ais lenta, então, você vai querer se livrar daquele hack se você está executando seu código só no PostGIS 2.2+ 9.5+. Veja os exemplos abaixo. </p><p class="availability">Disponibilidade: 2.0.0 -- O KNN mais fraco fornece vizinho mais próximos baseados em distâncias centroides de geometrias, ao invés de distâncias reais. Resultados corretos para pontos, incorretos para todos os outros tipos. Disponível para PostgreSQL 9.1+</p></div><div class="refsection" id="idm12608"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_Distance(geom, 'SRID=3005;POINT(1011102 450541)'::geometry) as d,edabbr, vaabbr
FROM va2005
ORDER BY d limit 10;

        d         | edabbr | vaabbr
------------------+--------+--------
                0 | ALQ    | 128
 5541.57712511724 | ALQ    | 129A
 5579.67450712005 | ALQ    | 001
  6083.4207708641 | ALQ    | 131
  7691.2205404848 | ALQ    | 003
 7900.75451037313 | ALQ    | 122
 8694.20710669982 | ALQ    | 129B
 9564.24289057111 | ALQ    | 130
  12089.665931705 | ALQ    | 127
 18472.5531479404 | ALQ    | 002
(10 rows)
</pre><p>Então, a resposta KNN crua: </p><pre class="programlisting">
SELECT st_distance(geom, 'SRID=3005;POINT(1011102 450541)'::geometry) as d,edabbr, vaabbr
FROM va2005
ORDER BY geom &lt;-&gt; 'SRID=3005;POINT(1011102 450541)'::geometry limit 10;

        d         | edabbr | vaabbr
------------------+--------+--------
                0 | ALQ    | 128
 5541.57712511724 | ALQ    | 129A
 5579.67450712005 | ALQ    | 001
  6083.4207708641 | ALQ    | 131
  7691.2205404848 | ALQ    | 003
 7900.75451037313 | ALQ    | 122
 8694.20710669982 | ALQ    | 129B
 9564.24289057111 | ALQ    | 130
  12089.665931705 | ALQ    | 127
 18472.5531479404 | ALQ    | 002
(10 rows)

</pre><p>Se você executar "ANÁLISE EXPLICATIVA" nas duas pesquisas, você verá uma apresentação melhorada para a segunda. </p><p>Para usuários com PostgreSQL &lt; 9.5, use uma pesquisa hybrid para encontrar os vizinhos verdadeiros mais próximos. Primeiro, uma pesquisa CTE usando o index-assisted KNN, e depois, uma pesquisa exata para pegar a ordem certa:  </p><pre class="programlisting">
WITH index_query AS (
  SELECT ST_Distance(geom, 'SRID=3005;POINT(1011102 450541)'::geometry) as d,edabbr, vaabbr
        FROM va2005
  ORDER BY geom &lt;-&gt; 'SRID=3005;POINT(1011102 450541)'::geometry LIMIT 100)
  SELECT *
        FROM index_query
  ORDER BY d limit 10;

        d         | edabbr | vaabbr
------------------+--------+--------
                0 | ALQ    | 128
 5541.57712511724 | ALQ    | 129A
 5579.67450712005 | ALQ    | 001
  6083.4207708641 | ALQ    | 131
  7691.2205404848 | ALQ    | 003
 7900.75451037313 | ALQ    | 122
 8694.20710669982 | ALQ    | 129B
 9564.24289057111 | ALQ    | 130
  12089.665931705 | ALQ    | 127
 18472.5531479404 | ALQ    | 002
(10 rows)


</pre></div><div class="refsection" id="idm12616"><h2>Veja também</h2><p><a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#geometry_distance_box" title="&lt;#&gt;">&lt;#&gt;</a></p></div></div><div class="refentry" id="geometry_distance_cpa"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>|=| — Retorna a distância entre As trajetórias A e B ao ponto de aproximação mais perto.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">|=|</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12637"><h2>Descrição</h2><p>O operador <code class="varname">|=|</code> retorna a distância 3D entre duas trajetórias (Veja <a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>). Isso é o mesmo que <a class="xref" href="#ST_DistanceCPA" title="ST_DistanceCPA">ST_DistanceCPA</a>, mas como um operador pode ser usado para fazer pesquisas de vizinhos próximos usando um index n-dimensional (requer PostgreSQL 9.5.0 ou superior).  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso dos indexes ND GiST que podem estar disponíveis nas geometrias. É diferente de outros operadores que usam indexes espaciais em que eles só são usados quando o operador está na oração ORDEM. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O index só rejeita se uma das geometrias é uma constante (não em uma subquery/cte). ex.'SRID=3005;LINESTRINGM(0 0 0,0 0 1)'::geometria ao invés de uma .geom</p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0. Index suportado disponível somente para PostgreSQL 9.5+</p></div><div class="refsection" id="idm12648"><h2>Exemplos</h2><pre class="programlisting">-- Save a literal query trajectory in a psql variable...
\set qt 'ST_AddMeasure(ST_MakeLine(ST_MakePointM(-350,300,0),ST_MakePointM(-410,490,0)),10,20)'
-- Run the query !
SELECT track_id, dist FROM (
  SELECT track_id, ST_DistanceCPA(tr,:qt) dist
  FROM trajectories
  ORDER BY tr |=| :qt
  LIMIT 5
) foo;
 track_id        dist
----------+-------------------
      395 | 0.576496831518066
      380 |  5.06797130410151
      390 |  7.72262293958322
      385 |   9.8004461358071
      405 |  10.9534397988433
(5 rows)
</pre></div><div class="refsection" id="idm12651"><h2>Veja também</h2><p><a class="xref" href="#ST_DistanceCPA" title="ST_DistanceCPA">ST_DistanceCPA</a>, <a class="xref" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a>, <a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a> </p></div></div><div class="refentry" id="geometry_distance_box"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&lt;#&gt; — Retorna a distância 2D entre as caixas limitadoras de A e B. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">&lt;#&gt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12672"><h2>Descrição</h2><p>O operador <code class="varname">&lt;#&gt;</code> retorna a distância entre dois pontos flutuantes, possivelmente lendo eles de um index espacial (PostgreSQL 9.1+ requerido). Útil para tornar vizinhos mais próximos <span class="strong"><strong>aproximar</strong></span> a distância pedida. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso dos indexes que podem estar disponíveis nas geometrias. É diferente de outros operadores que usam indexes espaciais em que eles só são usados quando o operador está na oração ORDEM. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O index só rejeita se uma das geometrias é uma constante  ex. ORDER BY (ST_GeomFromText('POINT(1 2)') &lt;#&gt; geom) ao invés de uma g1.geom &lt;#&gt;.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0 -- KNN só está disponível para PostgreSQL 9.1+</p></div><div class="refsection" id="idm12682"><h2>Exemplos</h2><pre class="programlisting">
SELECT *
FROM (
SELECT b.tlid, b.mtfcc,
        b.geom &lt;#
&gt; ST_GeomFromText('LINESTRING(746149 2948672,745954 2948576,
                745787 2948499,745740 2948468,745712 2948438,
                745690 2948384,745677 2948319)',2249) As b_dist,
                ST_Distance(b.geom, ST_GeomFromText('LINESTRING(746149 2948672,745954 2948576,
                745787 2948499,745740 2948468,745712 2948438,
                745690 2948384,745677 2948319)',2249)) As act_dist
    FROM bos_roads As b
    ORDER BY b_dist, b.tlid
    LIMIT 100) As foo
    ORDER BY act_dist, tlid LIMIT 10;

   tlid    | mtfcc |      b_dist      |     act_dist
-----------+-------+------------------+------------------
  85732027 | S1400 |                0 |                0
  85732029 | S1400 |                0 |                0
  85732031 | S1400 |                0 |                0
  85734335 | S1400 |                0 |                0
  85736037 | S1400 |                0 |                0
 624683742 | S1400 |                0 | 128.528874268666
  85719343 | S1400 | 260.839270432962 | 260.839270432962
  85741826 | S1400 | 164.759294123275 | 260.839270432962
  85732032 | S1400 |           277.75 | 311.830282365264
  85735592 | S1400 |           222.25 | 311.830282365264
(10 rows)

</pre></div><div class="refsection" id="idm12685"><h2>Veja também</h2><p><a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a></p></div></div><div class="refentry" id="geometry_distance_centroid_nd"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&lt;&lt;-&gt;&gt; — Returns the n-D distance between the A and B geometries or bounding boxes </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">&lt;&lt;-&gt;&gt;</strong>(</code> geometry  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12706"><h2>Descrição</h2><p>O operador <code class="varname">&lt;&lt;-&gt;&gt;</code> retorna a distância (euclidiana) n-D entre as centroides das caixas limitadoras de duas geometrias. Útil para para tornar vizinhos mais próximos <span class="strong"><strong>aproximar</strong></span> a distância perdida. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso dos indexes n-D GiST que podem estar disponíveis nas geometrias. É diferente de outros operadores que usam indexes espaciais em que eles só são usados quando o operador está na oração ORDEM.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O index só rejeita se uma das geometrias é uma constante (não em uma subquery/cte). ex. 'SRID=3005;POINT(1011102 450541)'::geometria ao invés de uma .geom </p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0 -- KNN só está disponível para PostgreSQL 9.1+</p></div><div class="refsection" id="idm12716"><h2>Veja também</h2><p>
<a class="xref" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a>
      </p></div></div></section></section><section class="section" id="Spatial_Relationships"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.11. Spatial Relationships</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions determine spatial relationships between geometries.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#idm12725">7.11.1. Topological Relationships</a></span></li><li><span class="section"><a href="#idm14003">7.11.2. Distance Relationships</a></span></li></ul></div><section class="section" id="idm12725"><div class="titlepage"><div><div><h3 class="title">7.11.1. Topological Relationships</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_3DIntersects">ST_3DIntersects</a></span><span class="refpurpose"> — Tests if two geometries spatially intersect in 3D - only for points, linestrings, polygons, polyhedral surface (area) </span></li><li><span class="refentrytitle"><a href="#ST_Contains">ST_Contains</a></span><span class="refpurpose"> — Tests if every point of B lies in A, and their interiors have a point in common</span></li><li><span class="refentrytitle"><a href="#ST_ContainsProperly">ST_ContainsProperly</a></span><span class="refpurpose"> — Tests if every point of B lies in the interior of A</span></li><li><span class="refentrytitle"><a href="#ST_CoveredBy">ST_CoveredBy</a></span><span class="refpurpose"> — Tests if every point of A lies in B</span></li><li><span class="refentrytitle"><a href="#ST_Covers">ST_Covers</a></span><span class="refpurpose"> — Tests if every point of B lies in A</span></li><li><span class="refentrytitle"><a href="#ST_Crosses">ST_Crosses</a></span><span class="refpurpose"> — Tests if two geometries have some, but not all, interior points in common</span></li><li><span class="refentrytitle"><a href="#ST_Disjoint">ST_Disjoint</a></span><span class="refpurpose"> — Tests if two geometries have no points in common </span></li><li><span class="refentrytitle"><a href="#ST_Equals">ST_Equals</a></span><span class="refpurpose"> — Tests if two geometries include the same set of points</span></li><li><span class="refentrytitle"><a href="#ST_Intersects">ST_Intersects</a></span><span class="refpurpose"> — Tests if two geometries intersect (they have at least one point in common)</span></li><li><span class="refentrytitle"><a href="#ST_LineCrossingDirection">ST_LineCrossingDirection</a></span><span class="refpurpose"> — Returns a number indicating the crossing behavior of two LineStrings</span></li><li><span class="refentrytitle"><a href="#ST_OrderingEquals">ST_OrderingEquals</a></span><span class="refpurpose"> — Tests if two geometries represent the same geometry and have points in the same directional order</span></li><li><span class="refentrytitle"><a href="#ST_Overlaps">ST_Overlaps</a></span><span class="refpurpose"> — Tests if two geometries have the same dimension and intersect, but each has at least one point not in the other</span></li><li><span class="refentrytitle"><a href="#ST_Relate">ST_Relate</a></span><span class="refpurpose"> — Tests if two geometries have a topological relationship matching an Intersection Matrix pattern, or computes their Intersection Matrix </span></li><li><span class="refentrytitle"><a href="#ST_RelateMatch">ST_RelateMatch</a></span><span class="refpurpose"> — Tests if a DE-9IM Intersection Matrix matches an Intersection Matrix pattern </span></li><li><span class="refentrytitle"><a href="#ST_Touches">ST_Touches</a></span><span class="refpurpose"> — Tests if two geometries have at least one point in common, but their interiors do not intersect</span></li><li><span class="refentrytitle"><a href="#ST_Within">ST_Within</a></span><span class="refpurpose"> — Tests if every point of A lies in B, and their interiors have a point in common</span></li></ul></div><div class="refentry" id="ST_3DIntersects"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DIntersects — Tests if two geometries spatially intersect in 3D - only for points, linestrings, polygons, polyhedral surface (area) </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_3DIntersects</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm12742"><h2>Descrição</h2><p>Overlaps, Touches, Within all imply spatial intersection. If any of the aforementioned returns true, then the geometries also spatially intersect. Disjoint implies false for spatial intersection.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function automatically includes a bounding box comparison that makes use of any spatial indexes that are available on the geometries. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Because of floating robustness failures, geometries don't always intersect as you'd expect them to after geometric processing. For example the closest point on a linestring to a geometry may not lie on the linestring. For these kind of issues where a distance of a centimeter you want to just consider as intersecting, use <a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a>.</p></td></tr></table></div><p class="changed">Changed: 3.0.0 SFCGAL backend removed, GEOS backend supports TINs.</p><p class="availability">Disponibilidade: 2.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 5.1</p></div><div class="refsection" id="idm12768"><h2>Exemplos de Geometria</h2><pre class="programlisting">SELECT ST_3DIntersects(pt, line), ST_Intersects(pt, line)
  FROM (SELECT 'POINT(0 0 2)'::geometry As pt, 'LINESTRING (0 0 1, 0 2 3)'::geometry As line) As foo;
 st_3dintersects | st_intersects
-----------------+---------------
 f               | t
(1 row)
    </pre></div><div class="refsection" id="idm12771"><h2>TIN Examples</h2><pre class="programlisting">SELECT ST_3DIntersects('TIN(((0 0 0,1 0 0,0 1 0,0 0 0)))'::geometry, 'POINT(.1 .1 0)'::geometry);
 st_3dintersects
-----------------
 t</pre></div><div class="refsection" id="idm12774"><h2>Veja também</h2><p><a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a></p></div></div><div class="refentry" id="ST_Contains"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Contains — Tests if every point of B lies in A, and their interiors have a point in common</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Contains</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var><code>)</code>;</p></div></div><div class="refsection" id="idm12794"><h2>Descrição</h2><p>Returns TRUE if geometry A contains geometry B. A contains B if and only if all points of B lie inside (i.e. in the interior or boundary of) A (or equivalently, no points of B lie in the exterior of A), and the interiors of A and B have at least one point in common. </p><p>In mathematical terms: <span class="emphasis"><em>ST_Contains(A, B) ⇔ (A ⋂ B = B) ∧ (Int(A) ⋂ Int(B) ≠ ∅) </em></span></p><p>The contains relationship is reflexive: every geometry contains itself. (In contrast, in the <a class="xref" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a> predicate a geometry does <span class="emphasis"><em>not</em></span> properly contain itself.) The relationship is antisymmetric: if <code class="code">ST_Contains(A,B) = true</code> and <code class="code">ST_Contains(B,A) = true</code>, then the two geometries must be topologically equal (<code class="code">ST_Equals(A,B) = true</code>). </p><p>ST_Contains is the converse of <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a>. So, <code class="code">ST_Contains(A,B) = ST_Within(B,A)</code>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Because the interiors must have a common point, a subtlety of the definition is that polygons and lines do <span class="emphasis"><em>not</em></span> contain lines and points lying fully in their boundary. For further details see <a class="link" href="http://lin-ear-th-inking.blogspot.com/2007/06/subtleties-of-ogc-covers-spatial.html" target="_top">Subtleties of OGC Covers, Contains, Within</a>. The <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a> predicate provides a more inclusive relationship. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function automatically includes a bounding box comparison that makes use of any spatial indexes that are available on the geometries.  To avoid index use, use the function <code class="function">_ST_Contains</code>.</p></td></tr></table></div><p>Desempenhado pelo módulo GEOS</p><p class="enhanced">Enhanced: 2.3.0 Enhancement to PIP short-circuit extended to support MultiPoints with few points. Prior versions only supported point in polygon.</p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Enhanced: 3.0.0 enabled support for <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Do not use this function with invalid geometries. You will get unexpected results.</p></td></tr></table></div><p>NOTE: this is the "allowable" version that returns a boolean, not an integer.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2 // s2.1.13.3 - same as within(geometry B, geometry A)</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.31</p></div><div class="refsection" id="idm12833"><h2>Exemplos</h2><p><code class="function">ST_Contains</code> returns <code class="varname">TRUE</code> in the following situations:</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains01.png"/><div class="caption"><p><code class="varname">LINESTRING</code> / <code class="varname">MULTIPOINT</code></p></div></div></div></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains02.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">POINT</code></p></div></div></div></td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains03.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">LINESTRING</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains04.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">POLYGON</code></p></div></div></div></td></tr></tbody></table></div><p><code class="function">ST_Contains</code> returns <code class="varname">FALSE</code> in the following situations:</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains05.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">MULTIPOINT</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains06.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">LINESTRING</code></p></div></div></div></td></tr></tbody></table></div><p>Due to the interior intersection condition <code class="function">ST_Contains</code> returns <code class="varname">FALSE</code> in the following situations (whereas <code class="function">ST_Covers</code> returns <code class="varname">TRUE</code>):</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains07.png"/><div class="caption"><p><code class="varname">LINESTRING</code> / <code class="varname">POINT</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_contains08.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">LINESTRING</code></p></div></div></div></td></tr></tbody></table></div><pre class="programlisting">-- A circle within a circle
SELECT ST_Contains(smallc, bigc) As smallcontainsbig,
     ST_Contains(bigc,smallc) As bigcontainssmall,
     ST_Contains(bigc, ST_Union(smallc, bigc)) as bigcontainsunion,
     ST_Equals(bigc, ST_Union(smallc, bigc)) as bigisunion,
     ST_Covers(bigc, ST_ExteriorRing(bigc)) As bigcoversexterior,
     ST_Contains(bigc, ST_ExteriorRing(bigc)) As bigcontainsexterior
FROM (SELECT ST_Buffer(ST_GeomFromText('POINT(1 2)'), 10) As smallc,
       ST_Buffer(ST_GeomFromText('POINT(1 2)'), 20) As bigc) As foo;

-- Result
  smallcontainsbig | bigcontainssmall | bigcontainsunion | bigisunion | bigcoversexterior | bigcontainsexterior
------------------+------------------+------------------+------------+-------------------+---------------------
 f                | t                | t                | t          | t        | f

-- Example demonstrating difference between contains and contains properly
SELECT ST_GeometryType(geomA) As geomtype, ST_Contains(geomA,geomA) AS acontainsa, ST_ContainsProperly(geomA, geomA) AS acontainspropa,
   ST_Contains(geomA, ST_Boundary(geomA)) As acontainsba, ST_ContainsProperly(geomA, ST_Boundary(geomA)) As acontainspropba
FROM (VALUES ( ST_Buffer(ST_Point(1,1), 5,1) ),
       ( ST_MakeLine(ST_Point(1,1), ST_Point(-1,-1) ) ),
       ( ST_Point(1,1) )
    ) As foo(geomA);

  geomtype    | acontainsa | acontainspropa | acontainsba | acontainspropba
--------------+------------+----------------+-------------+-----------------
ST_Polygon    | t          | f              | f           | f
ST_LineString | t          | f              | f           | f
ST_Point      | t          | t              | f           | f

 </pre></div><div class="refsection" id="idm12940"><h2>Veja também</h2><p><a class="xref" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a>, <a class="xref" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>, <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a></p></div></div><div class="refentry" id="ST_ContainsProperly"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ContainsProperly — Tests if every point of B lies in the interior of A</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_ContainsProperly</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var><code>)</code>;</p></div></div><div class="refsection" id="idm12964"><h2>Descrição</h2><p>Returns <code class="varname">true</code> if every point of B lies in the interior of A (or equivalently, no point of B lies in the the boundary or exterior of A).</p><p>In mathematical terms: <span class="emphasis"><em>ST_ContainsProperly(A, B) ⇔ Int(A) ⋂ B = B </em></span></p><p>A contains B properly if the DE-9IM Intersection Matrix for the two geometries matches [T**FF*FF*]</p><p>A does not properly contain itself, but does contain itself.</p><p>A use for this predicate is computing the intersections of a set of geometries with a large polygonal geometry. Since intersection is a fairly slow operation, it can be more efficient to use containsProperly to filter out test geometries which lie fully inside the area. In these cases the intersection is known a priori to be exactly the original test geometry. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function automatically includes a bounding box comparison that makes use of any spatial indexes that are available on the geometries.  To avoid index use, use the function <code class="function">_ST_ContainsProperly</code>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The advantage of this predicate over <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a> and <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> is that it can be computed more efficiently, with no need to compute topology at individual points.</p></td></tr></table></div><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 1.4.0</p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Enhanced: 3.0.0 enabled support for <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Do not use this function with invalid geometries. You will get unexpected results.</p></td></tr></table></div></div><div class="refsection" id="idm12987"><h2>Exemplos</h2><pre class="programlisting">--a circle within a circle
  SELECT ST_ContainsProperly(smallc, bigc) As smallcontainspropbig,
  ST_ContainsProperly(bigc,smallc) As bigcontainspropsmall,
  ST_ContainsProperly(bigc, ST_Union(smallc, bigc)) as bigcontainspropunion,
  ST_Equals(bigc, ST_Union(smallc, bigc)) as bigisunion,
  ST_Covers(bigc, ST_ExteriorRing(bigc)) As bigcoversexterior,
  ST_ContainsProperly(bigc, ST_ExteriorRing(bigc)) As bigcontainsexterior
  FROM (SELECT ST_Buffer(ST_GeomFromText('POINT(1 2)'), 10) As smallc,
  ST_Buffer(ST_GeomFromText('POINT(1 2)'), 20) As bigc) As foo;
  --Result
  smallcontainspropbig | bigcontainspropsmall | bigcontainspropunion | bigisunion | bigcoversexterior | bigcontainsexterior
------------------+------------------+------------------+------------+-------------------+---------------------
 f                     | t                    | f                    | t          | t                 | f

 --example demonstrating difference between contains and contains properly
 SELECT ST_GeometryType(geomA) As geomtype, ST_Contains(geomA,geomA) AS acontainsa, ST_ContainsProperly(geomA, geomA) AS acontainspropa,
 ST_Contains(geomA, ST_Boundary(geomA)) As acontainsba, ST_ContainsProperly(geomA, ST_Boundary(geomA)) As acontainspropba
 FROM (VALUES ( ST_Buffer(ST_Point(1,1), 5,1) ),
      ( ST_MakeLine(ST_Point(1,1), ST_Point(-1,-1) ) ),
      ( ST_Point(1,1) )
  ) As foo(geomA);

  geomtype    | acontainsa | acontainspropa | acontainsba | acontainspropba
--------------+------------+----------------+-------------+-----------------
ST_Polygon    | t          | f              | f           | f
ST_LineString | t          | f              | f           | f
ST_Point      | t          | t              | f           | f
 </pre></div><div class="refsection" id="idm12990"><h2>Veja também</h2><p><a class="xref" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a>, <a class="xref" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a>, <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_Relate" title="ST_Relate">ST_Relate</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a></p></div></div><div class="refentry" id="ST_CoveredBy"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CoveredBy — Tests if every point of A lies in B</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_CoveredBy</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_CoveredBy</strong>(</code>geography  <var class="pdparam">geogA</var>, geography  <var class="pdparam">geogB</var><code>)</code>;</p></div></div><div class="refsection" id="idm13025"><h2>Descrição</h2><p>Returns <code class="varname">true</code> if every point in Geometry/Geography A lies inside (i.e. intersects the interior or boundary of) Geometry/Geography B. Equivalently, tests that no point of A lies outside (in the exterior of) B. </p><p>In mathematical terms: <span class="emphasis"><em>ST_CoveredBy(A, B) ⇔ A ⋂ B = A </em></span></p><p>ST_CoveredBy is the converse of <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>. So, <code class="code">ST_CoveredBy(A,B) = ST_Covers(B,A)</code>.</p><p>Generally this function should be used instead of <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a>, since it has a simpler definition which does not have the quirk that "boundaries are not within their geometry".</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function automatically includes a bounding box comparison that makes use of any spatial indexes that are available on the geometries.  To avoid index use, use the function <code class="function">_ST_CoveredBy</code>.</p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Enhanced: 3.0.0 enabled support for <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Do not use this function with invalid geometries. You will get unexpected results.</p></td></tr></table></div><p>Desempenhado pelo módulo GEOS</p><p class="availability">Disponibilidade: 1.2.2</p><p>NOTE: this is the "allowable" version that returns a boolean, not an integer.</p><p>Not an OGC standard, but Oracle has it too.</p></div><div class="refsection" id="idm13048"><h2>Exemplos</h2><pre class="programlisting">--a circle coveredby a circle
SELECT ST_CoveredBy(smallc,smallc) As smallinsmall,
  ST_CoveredBy(smallc, bigc) As smallcoveredbybig,
  ST_CoveredBy(ST_ExteriorRing(bigc), bigc) As exteriorcoveredbybig,
  ST_Within(ST_ExteriorRing(bigc),bigc) As exeriorwithinbig
FROM (SELECT ST_Buffer(ST_GeomFromText('POINT(1 2)'), 10) As smallc,
  ST_Buffer(ST_GeomFromText('POINT(1 2)'), 20) As bigc) As foo;
  --Result
 smallinsmall | smallcoveredbybig | exteriorcoveredbybig | exeriorwithinbig
--------------+-------------------+----------------------+------------------
 t            | t                 | t                    | f
(1 row) </pre></div><div class="refsection" id="idm13051"><h2>Veja também</h2><p><a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>, <a class="xref" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a></p></div></div><div class="refentry" id="ST_Covers"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Covers — Tests if every point of B lies in A</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Covers</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Covers</strong>(</code>geography  <var class="pdparam">geogpolyA</var>, geography  <var class="pdparam">geogpointB</var><code>)</code>;</p></div></div><div class="refsection" id="idm13082"><h2>Descrição</h2><p>Returns <code class="varname">true</code> if every point in Geometry/Geography B lies inside (i.e. intersects the interior or boundary of) Geometry/Geography A. Equivalently, tests that no point of B lies outside (in the exterior of) A. </p><p>In mathematical terms: <span class="emphasis"><em>ST_Covers(A, B) ⇔ A ⋂ B = B </em></span></p><p>ST_Covers is the converse of <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>. So, <code class="code">ST_Covers(A,B) = ST_CoveredBy(B,A)</code>.</p><p>Generally this function should be used instead of <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, since it has a simpler definition which does not have the quirk that "geometries do not contain their boundary".</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function automatically includes a bounding box comparison that makes use of any spatial indexes that are available on the geometries.  To avoid index use, use the function <code class="function">_ST_Covers</code>.</p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Enhanced: 3.0.0 enabled support for <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Do not use this function with invalid geometries. You will get unexpected results.</p></td></tr></table></div><p>Desempenhado pelo módulo GEOS</p><p class="enhanced">Enhanced: 2.4.0 Support for polygon in polygon and line in polygon added for geography type</p><p class="enhanced">Enhanced: 2.3.0 Enhancement to PIP short-circuit for geometry extended to support MultiPoints with few points. Prior versions only supported point in polygon.</p><p class="availability">Disponibilidade: 1.5 - suporte para geografia foi introduzido. </p><p class="availability">Disponibilidade: 1.2.2</p><p>NOTE: this is the "allowable" version that returns a boolean, not an integer.</p><p>Not an OGC standard, but Oracle has it too.</p></div><div class="refsection" id="idm13108"><h2>Exemplos</h2><p>Geometry example </p><pre class="programlisting">--a circle covering a circle
SELECT ST_Covers(smallc,smallc) As smallinsmall,
  ST_Covers(smallc, bigc) As smallcoversbig,
  ST_Covers(bigc, ST_ExteriorRing(bigc)) As bigcoversexterior,
  ST_Contains(bigc, ST_ExteriorRing(bigc)) As bigcontainsexterior
FROM (SELECT ST_Buffer(ST_GeomFromText('POINT(1 2)'), 10) As smallc,
  ST_Buffer(ST_GeomFromText('POINT(1 2)'), 20) As bigc) As foo;
  --Result
 smallinsmall | smallcoversbig | bigcoversexterior | bigcontainsexterior
--------------+----------------+-------------------+---------------------
 t            | f              | t                 | f
(1 row) </pre><p>Geeography Example</p><pre class="programlisting">-- a point with a 300 meter buffer compared to a point, a point and its 10 meter buffer
SELECT ST_Covers(geog_poly, geog_pt) As poly_covers_pt,
  ST_Covers(ST_Buffer(geog_pt,10), geog_pt) As buff_10m_covers_cent
  FROM (SELECT ST_Buffer(ST_GeogFromText('SRID=4326;POINT(-99.327 31.4821)'), 300) As geog_poly,
        ST_GeogFromText('SRID=4326;POINT(-99.33 31.483)') As geog_pt ) As foo;

 poly_covers_pt | buff_10m_covers_cent
----------------+------------------
 f              | t
    </pre></div><div class="refsection" id="idm13114"><h2>Veja também</h2><p><a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a></p></div></div><div class="refentry" id="ST_Crosses"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Crosses — Tests if two geometries have some, but not all, interior points in common</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Crosses</strong>(</code>geometry <var class="pdparam">g1</var>, geometry <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm13135"><h2>Descrição</h2><p>Compares two geometry objects and returns <code class="varname">true</code> if their intersection "spatially crosses"; that is, the geometries have some, but not all interior points in common. The intersection of the interiors of the geometries must be non-empty and must have dimension less than the maximum dimension of the two input geometries, and the intersection of the two geometries must not equal either geometry. Otherwise, it returns <code class="varname">false</code>. The crosses relation is symmetric and irreflexive.</p><p>In mathematical terms: <span class="emphasis"><em>ST_Crosses(A, B) ⇔ (dim( Int(A) ⋂ Int(B) ) &lt; max( dim( Int(A) ), dim( Int(B) ) )) ∧ (A ⋂ B ≠ A) ∧ (A ⋂ B ≠ B) </em></span></p><p>Geometries cross if their DE-9IM Intersection Matrix matches:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">T*T******</code> for Point/Line, Point/Area, and Line/Area situations</p></li><li class="listitem"><p><code class="code">T*****T**</code> for Line/Point, Area/Point, and Area/Line situations</p></li><li class="listitem"><p><code class="code">0********</code> for Line/Line situations</p></li><li class="listitem"><p>the result is <code class="varname">false</code> for Point/Point and Area/Area situations </p></li></ul></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The OpenGIS Simple Features Specification defines this predicate only for Point/Line, Point/Area, Line/Line, and Line/Area situations. JTS / GEOS extends the definition to apply to Line/Point, Area/Point and Area/Line situations as well. This makes the relation symmetric.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function automatically includes a bounding box comparison that makes use of any spatial indexes that are available on the geometries. </p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Enhanced: 3.0.0 enabled support for <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.13.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.29</p></div><div class="refsection" id="idm13172"><h2>Exemplos</h2><p>The following situations all return <code class="varname">true</code>.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_crosses01.png"/><div class="caption"><p><code class="varname">MULTIPOINT</code> / <code class="varname">LINESTRING</code></p></div></div></div></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_crosses02.png"/><div class="caption"><p><code class="varname">MULTIPOINT</code> / <code class="varname">POLYGON</code></p></div></div></div></td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_crosses03.png"/><div class="caption"><p><code class="varname">LINESTRING</code> / <code class="varname">POLYGON</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_crosses04.png"/><div class="caption"><p><code class="varname">LINESTRING</code> / <code class="varname">LINESTRING</code></p></div></div></div></td></tr></tbody></table></div><p>Consider a situation where a user has two tables: a table of roads and a table of highways.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p> </p><div class="informalexample"><pre class="programlisting">CREATE TABLE roads (
  id serial NOT NULL,
  geom geometry,
  CONSTRAINT roads_pkey PRIMARY KEY (road_id)
);</pre></div><p> </p></td><td><p> </p><div class="informalexample"><pre class="programlisting">CREATE TABLE highways (
  id serial NOT NULL,
  the_gem geometry,
  CONSTRAINT roads_pkey PRIMARY KEY (road_id)
);</pre></div><p> </p></td></tr></tbody></table></div><p>To determine a list of roads that cross a highway, use a query similar to:</p><div class="informalexample"><pre class="programlisting">SELECT roads.id
FROM roads, highways
WHERE ST_Crosses(roads.geom, highways.geom);</pre></div></div><div class="refsection" id="idm13238"><h2>Veja também</h2><p><a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a></p></div></div><div class="refentry" id="ST_Disjoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Disjoint — Tests if two geometries have no points in common </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Disjoint</strong>(</code> geometry <var class="pdparam">A</var> ,  geometry <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm13258"><h2>Descrição</h2><p>Returns <code class="varname">true</code> if two geometries are disjoint. Geometries are disjoint if they have no point in common. </p><p>If any other spatial relationship is true for a pair of geometries, they are not disjoint. Disjoint implies that <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> is false. </p><p>In mathematical terms: <span class="emphasis"><em>ST_Disjoint(A, B) ⇔ A ⋂ B = ∅ </em></span></p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Enhanced: 3.0.0 enabled support for <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><p>Desempenhado pelo módulo GEOS</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function call does not use indexes. A negated <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> predicate can be used as a more performant alternative that uses indexes: <code class="code">ST_Disjoint(A,B) = NOT ST_Intersects(A,B)</code></p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE: this is the "allowable" version that returns a boolean, not an integer.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2 //s2.1.13.3 - a.Relate(b, 'FF*FF****')</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.26</p></div><div class="refsection" id="idm13285"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_Disjoint('POINT(0 0)'::geometry, 'LINESTRING ( 2 0, 0 2 )'::geometry);
 st_disjoint
---------------
 t
(1 row)
SELECT ST_Disjoint('POINT(0 0)'::geometry, 'LINESTRING ( 0 0, 0 2 )'::geometry);
 st_disjoint
---------------
 f
(1 row)
    </pre></div><div class="refsection" id="idm13288"><h2>Veja também</h2><p><a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a></p></div></div><div class="refentry" id="ST_Equals"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Equals — Tests if two geometries include the same set of points</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Equals</strong>(</code>geometry  <var class="pdparam">A</var>, geometry  <var class="pdparam">B</var><code>)</code>;</p></div></div><div class="refsection" id="idm13307"><h2>Descrição</h2><p>Returns <code class="varname">true</code> if the given geometries are "topologically equal". Use this for a 'better' answer than '='. Topological equality means that the geometries have the same dimension, and their point-sets occupy the same space. This means that the order of vertices may be different in topologically equal geometries. To verify the order of points is consistent use <a class="xref" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a> (it must be noted ST_OrderingEquals is a little more stringent than simply verifying order of points are the same).</p><p>In mathematical terms: <span class="emphasis"><em>ST_Equals(A, B) ⇔ A = B </em></span></p><p>The following relation holds: <span class="emphasis"><em>ST_Equals(A, B) ⇔ ST_Within(A,B) ∧ ST_Within(B,A) </em></span></p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Enhanced: 3.0.0 enabled support for <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.24</p><p class="changed">Changed: 2.2.0 Returns true even for invalid geometries if they are binary equal</p></div><div class="refsection" id="idm13329"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_Equals(ST_GeomFromText('LINESTRING(0 0, 10 10)'),
    ST_GeomFromText('LINESTRING(0 0, 5 5, 10 10)'));
 st_equals
-----------
 t
(1 row)

SELECT ST_Equals(ST_Reverse(ST_GeomFromText('LINESTRING(0 0, 10 10)')),
    ST_GeomFromText('LINESTRING(0 0, 5 5, 10 10)'));
 st_equals
-----------
 t
(1 row)
</pre></div><div class="refsection" id="idm13332"><h2>Veja também</h2><p><a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a>, <a class="xref" href="#ST_Reverse" title="ST_Reverse">ST_Reverse</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a></p></div></div><div class="refentry" id="ST_Intersects"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Intersects — Tests if two geometries intersect (they have at least one point in common)</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Intersects</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Intersects</strong>(</code> geography <var class="pdparam">geogA</var> ,  geography <var class="pdparam">geogB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm13363"><h2>Descrição</h2><p>Returns <code class="varname">true</code> if two geometries intersect. Geometries intersect if they have any point in common. </p><p>For geography, a distance tolerance of 0.00001 meters is used (so points that are very close are considered to intersect).</p><p>In mathematical terms: <span class="emphasis"><em>ST_Intersects(A, B) ⇔ A ⋂ B ≠ ∅ </em></span></p><p>Geometries intersect if their DE-9IM Intersection Matrix matches one of: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">T********</code></p></li><li class="listitem"><p><code class="code">*T*******</code></p></li><li class="listitem"><p><code class="code">***T*****</code></p></li><li class="listitem"><p><code class="code">****T****</code></p></li></ul></div><p>Spatial intersection is implied by all the other spatial relationship tests, except <a class="xref" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a>, which tests that geometries do NOT intersect.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function automatically includes a bounding box comparison that makes use of any spatial indexes that are available on the geometries. </p></td></tr></table></div><p class="changed">Changed: 3.0.0 SFCGAL version removed and native support for 2D TINS added.</p><p class="enhanced">Enhanced: 2.5.0 Supports GEOMETRYCOLLECTION.</p><p class="enhanced">Enhanced: 2.3.0 Enhancement to PIP short-circuit extended to support MultiPoints with few points. Prior versions only supported point in polygon.</p><p>Performed by the GEOS module (for geometry), geography is native</p><p class="availability">Availability: 1.5 support for geography was introduced.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>For geography, this function has a distance tolerance of about 0.00001 meters and uses the sphere rather than spheroid calculation.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE: this is the "allowable" version that returns a boolean, not an integer.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2 //s2.1.13.3 - ST_Intersects(g1, g2 ) --&gt; Not (ST_Disjoint(g1, g2 )) </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.27</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm13414"><h2>Exemplos de Geometria</h2><pre class="programlisting">SELECT ST_Intersects('POINT(0 0)'::geometry, 'LINESTRING ( 2 0, 0 2 )'::geometry);
 st_intersects
---------------
 f
(1 row)
SELECT ST_Intersects('POINT(0 0)'::geometry, 'LINESTRING ( 0 0, 0 2 )'::geometry);
 st_intersects
---------------
 t
(1 row)

-- Look up in table. Make sure table has a GiST index on geometry column for faster lookup.
SELECT id, name FROM cities WHERE ST_Intersects(geom, 'SRID=4326;POLYGON((28 53,27.707 52.293,27 52,26.293 52.293,26 53,26.293 53.707,27 54,27.707 53.707,28 53))');
 id | name
----+-------
  2 | Minsk
(1 row)
</pre></div><div class="refsection" id="idm13417"><h2>Exemplos de Geografia</h2><pre class="programlisting">SELECT ST_Intersects(
    'SRID=4326;LINESTRING(-43.23456 72.4567,-43.23456 72.4568)'::geography,
    'SRID=4326;POINT(-43.23456 72.4567772)'::geography
    );

 st_intersects
---------------
t
</pre></div><div class="refsection" id="idm13420"><h2>Veja também</h2><p><a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a>, <a class="xref" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a>, <a class="xref" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a></p></div></div><div class="refentry" id="ST_LineCrossingDirection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineCrossingDirection — Returns a number indicating the crossing behavior of two LineStrings</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_LineCrossingDirection</strong>(</code>geometry  <var class="pdparam">linestringA</var>, geometry  <var class="pdparam">linestringB</var><code>)</code>;</p></div></div><div class="refsection" id="idm13441"><h2>Descrição</h2><p>Given two linestrings returns an integer between -3 and 3 indicating what kind of crossing behavior exists between them. 0 indicates no crossing. This is only supported for <code class="varname">LINESTRING</code>s. </p><p>The crossing number has the following meaning: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>0: LINE NO CROSS</p></li><li class="listitem"><p>-1: LINE CROSS LEFT</p></li><li class="listitem"><p>1: LINE CROSS RIGHT</p></li><li class="listitem"><p>-2: LINE MULTICROSS END LEFT</p></li><li class="listitem"><p>2: LINE MULTICROSS END RIGHT</p></li><li class="listitem"><p>-3: LINE MULTICROSS END SAME FIRST LEFT</p></li><li class="listitem"><p>3: LINE MULTICROSS END SAME FIRST RIGHT</p></li></ul></div><p>
    </p><p class="availability">Availability: 1.4</p></div><div class="refsection" id="idm13462"><h2>Exemplos</h2><p><span class="bold"><strong>Example:</strong></span> LINE CROSS LEFT and LINE CROSS RIGHT </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_linecrossingdirection03.png"/><div class="caption"><p>Blue: Line A; Green: Line B</p></div></div></div><pre class="programlisting">SELECT ST_LineCrossingDirection(lineA, lineB) As A_cross_B,
       ST_LineCrossingDirection(lineB, lineA) As B_cross_A
FROM (SELECT
  ST_GeomFromText('LINESTRING(25 169,89 114,40 70,86 43)') As lineA,
  ST_GeomFromText('LINESTRING (20 140, 71 74, 161 53)') As lineB
  ) As foo;

 A_cross_B | B_cross_A
-----------+-----------
        -1 |         1
</pre><p><span class="bold"><strong>Example:</strong></span> LINE MULTICROSS END SAME FIRST LEFT and LINE MULTICROSS END SAME FIRST RIGHT </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_linecrossingdirection01.png"/><div class="caption"><p>Blue: Line A; Green: Line B</p></div></div></div><pre class="programlisting">SELECT ST_LineCrossingDirection(lineA, lineB) As A_cross_B,
       ST_LineCrossingDirection(lineB, lineA) As B_cross_A
FROM (SELECT
 ST_GeomFromText('LINESTRING(25 169,89 114,40 70,86 43)') As lineA,
 ST_GeomFromText('LINESTRING(171 154,20 140,71 74,161 53)') As lineB
  ) As foo;

 A_cross_B | B_cross_A
-----------+-----------
         3 |        -3
</pre><p><span class="bold"><strong>Example:</strong></span> LINE MULTICROSS END LEFT and LINE MULTICROSS END RIGHT </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_linecrossingdirection04.png"/><div class="caption"><p>Blue: Line A; Green: Line B</p></div></div></div><pre class="programlisting">SELECT ST_LineCrossingDirection(lineA, lineB) As A_cross_B,
       ST_LineCrossingDirection(lineB, lineA) As B_cross_A
FROM (SELECT
  ST_GeomFromText('LINESTRING(25 169,89 114,40 70,86 43)') As lineA,
  ST_GeomFromText('LINESTRING(5 90, 71 74, 20 140, 171 154)') As lineB
  ) As foo;

 A_cross_B | B_cross_A
-----------+-----------
        -2 |         2
</pre><p><span class="bold"><strong>Example:</strong></span> Finds all streets that cross </p><pre class="programlisting">

SELECT s1.gid, s2.gid, ST_LineCrossingDirection(s1.geom, s2.geom)
  FROM streets s1 CROSS JOIN streets s2
         ON (s1.gid != s2.gid AND s1.geom &amp;&amp; s2.geom )
WHERE ST_LineCrossingDirection(s1.geom, s2.geom) 
&gt; 0;

</pre></div><div class="refsection" id="idm13494"><h2>Veja também</h2><p><a class="xref" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a></p></div></div><div class="refentry" id="ST_OrderingEquals"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_OrderingEquals — Tests if two geometries represent the same geometry and have points in the same directional order</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_OrderingEquals</strong>(</code>geometry  <var class="pdparam">A</var>, geometry  <var class="pdparam">B</var><code>)</code>;</p></div></div><div class="refsection" id="idm13513"><h2>Descrição</h2><p>ST_OrderingEquals compares two geometries and returns t (TRUE) if the geometries are equal and the coordinates are in the same order; otherwise it returns f (FALSE).</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function is implemented as per the ArcSDE SQL specification rather than SQL-MM. http://edndoc.esri.com/arcsde/9.1/sql_api/sqlapi3.htm#ST_OrderingEquals</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.43</p></div><div class="refsection" id="idm13522"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_OrderingEquals(ST_GeomFromText('LINESTRING(0 0, 10 10)'),
    ST_GeomFromText('LINESTRING(0 0, 5 5, 10 10)'));
 st_orderingequals
-----------
 f
(1 row)

SELECT ST_OrderingEquals(ST_GeomFromText('LINESTRING(0 0, 10 10)'),
    ST_GeomFromText('LINESTRING(0 0, 0 0, 10 10)'));
 st_orderingequals
-----------
 t
(1 row)

SELECT ST_OrderingEquals(ST_Reverse(ST_GeomFromText('LINESTRING(0 0, 10 10)')),
    ST_GeomFromText('LINESTRING(0 0, 0 0, 10 10)'));
 st_orderingequals
-----------
 f
(1 row)
</pre></div><div class="refsection" id="idm13525"><h2>Veja também</h2><p><a class="xref" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_Reverse" title="ST_Reverse">ST_Reverse</a></p></div></div><div class="refentry" id="ST_Overlaps"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Overlaps — Tests if two geometries have the same dimension and intersect, but each has at least one point not in the other</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Overlaps</strong>(</code>geometry  <var class="pdparam">A</var>, geometry  <var class="pdparam">B</var><code>)</code>;</p></div></div><div class="refsection" id="idm13546"><h2>Descrição</h2><p>Returns TRUE if geometry A and B "spatially overlap". Two geometries overlap if they have the same dimension, their interiors intersect in that dimension. and each has at least one point inside the other (or equivalently, neither one covers the other). The overlaps relation is symmetric and irreflexive. </p><p>In mathematical terms: <span class="emphasis"><em>ST_Overlaps(A, B) ⇔ ( dim(A) = dim(B) = dim( Int(A) ⋂ Int(B) )) ∧ (A ⋂ B ≠ A) ∧ (A ⋂ B ≠ B) </em></span></p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function automatically includes a bounding box comparison that makes use of any spatial indexes that are available on the geometries.  To avoid index use, use the function <code class="function">_ST_Overlaps</code>.</p></td></tr></table></div><p>Desempenhado pelo módulo GEOS</p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Enhanced: 3.0.0 enabled support for <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><p>NOTE: this is the "allowable" version that returns a boolean, not an integer.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2 // s2.1.13.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.32</p></div><div class="refsection" id="idm13568"><h2>Exemplos</h2><p><code class="function">ST_Overlaps</code> returns <code class="varname">TRUE</code> in the following situations:</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_overlaps01.png"/><div class="caption"><p><code class="varname">MULTIPOINT</code> / <code class="varname">MULTIPOINT</code></p></div></div></div></td><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_overlaps02.png"/><div class="caption"><p><code class="varname">LINESTRING</code> / <code class="varname">LINESTRING</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_overlaps03.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">POLYGON</code></p></div></div></div></td></tr></tbody></table></div><div class="informalfigure"><div class="mediaobject"><img src="images/st_overlaps04.png"/></div></div><p>A Point on a LineString is contained, but since it has lower dimension it does not overlap or cross.</p><pre class="programlisting">SELECT ST_Overlaps(a,b) AS overlaps,       ST_Crosses(a,b) AS crosses,
       ST_Intersects(a, b) AS intersects,  ST_Contains(b,a) AS b_contains_a
FROM (SELECT ST_GeomFromText('POINT (100 100)') As a,
             ST_GeomFromText('LINESTRING (30 50, 40 160, 160 40, 180 160)')  AS b) AS t

overlaps | crosses | intersects | b_contains_a
---------+----------------------+--------------
f        | f       | t          | t
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_overlaps05.png"/></div></div><p>A LineString that partly covers a Polygon intersects and crosses, but does not overlap since it has different dimension.</p><pre class="programlisting">SELECT ST_Overlaps(a,b) AS overlaps,        ST_Crosses(a,b) AS crosses,
       ST_Intersects(a, b) AS intersects,   ST_Contains(a,b) AS contains
FROM (SELECT ST_GeomFromText('POLYGON ((40 170, 90 30, 180 100, 40 170))') AS a,
             ST_GeomFromText('LINESTRING(10 10, 190 190)') AS b) AS t;

 overlap | crosses | intersects | contains
---------+---------+------------+--------------
 f       | t       | t          | f
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_overlaps06.png"/></div></div><p>Two Polygons that intersect but with neither contained by the other overlap, but do not cross because their intersection has the same dimension.</p><pre class="programlisting">SELECT ST_Overlaps(a,b) AS overlaps,       ST_Crosses(a,b) AS crosses,
       ST_Intersects(a, b) AS intersects,  ST_Contains(b, a) AS b_contains_a,
       ST_Dimension(a) AS dim_a, ST_Dimension(b) AS dim_b,
       ST_Dimension(ST_Intersection(a,b)) AS dim_int
FROM (SELECT ST_GeomFromText('POLYGON ((40 170, 90 30, 180 100, 40 170))') AS a,
             ST_GeomFromText('POLYGON ((110 180, 20 60, 130 90, 110 180))') AS b) As t;

 overlaps | crosses | intersects | b_contains_a | dim_a | dim_b | dim_int
----------+---------+------------+--------------+-------+-------+-----------
 t        | f       | t          | f            |     2 |     2 |       2
</pre></div><div class="refsection" id="idm13625"><h2>Veja também</h2><p><a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a>, <a class="xref" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a></p></div></div><div class="refentry" id="ST_Relate"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Relate — Tests if two geometries have a topological relationship matching an Intersection Matrix pattern, or computes their Intersection Matrix </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Relate</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var>, text  <var class="pdparam">intersectionMatrixPattern</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_Relate</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">ST_Relate</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var>, integer  <var class="pdparam">boundaryNodeRule</var><code>)</code>;</p></div></div><div class="refsection" id="idm13671"><h2>Descrição</h2><p>These functions allow testing and evaluating the spatial (topological) relationship between two geometries, as defined by the <a class="link" href="http://en.wikipedia.org/wiki/DE-9IM" target="_top">Dimensionally Extended 9-Intersection Model</a> (DE-9IM). </p><p>The DE-9IM is specified as a 9-element matrix indicating the dimension of the intersections between the Interior, Boundary and Exterior of two geometries. It is represented by a 9-character text string using the symbols 'F', '0', '1', '2' (e.g. <code class="code">'FF1FF0102'</code>). </p><p>A specific kind of spatial relationship can be tested by matching the intersection matrix to an <span class="emphasis"><em>intersection matrix pattern</em></span>. Patterns can include the additional symbols 'T' (meaning "intersection is non-empty") and '*' (meaning "any value"). Common spatial relationships are provided by the named functions <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>, <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, <a class="xref" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a>, <a class="xref" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a>, <a class="xref" href="#ST_Touches" title="ST_Touches">ST_Touches</a>, and <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a>. Using an explicit pattern allows testing multiple conditions of intersects, crosses, etc in one step. It also allows testing spatial relationships which do not have a named spatial relationship function. For example, the relationship "Interior-Intersects" has the DE-9IM pattern <code class="code">T********</code>, which is not evaluated by any named predicate. </p><p>For more information refer to <a class="xref" href="#eval_spatial_rel" title="5.1. Determining Spatial Relationships">Section 5.1, “Determining Spatial Relationships”</a>. </p><p><span class="bold"><strong>Variant 1:</strong></span> Tests if two geometries are spatially related according to the given <code class="varname">intersectionMatrixPattern</code>. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Unlike most of the named spatial relationship predicates, this does NOT automatically include an index call. The reason is that some relationships are true for geometries which do NOT intersect (e.g. Disjoint). If you are using a relationship pattern that requires intersection, then include the &amp;&amp; index call. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>It is better to use a named relationship function if available, since they automatically use a spatial index where one exists. Also, they may implement performance optimizations which are not available with full relate evaluation. </p></td></tr></table></div><p><span class="bold"><strong>Variant 2:</strong></span> Returns the DE-9IM matrix string for the spatial relationship between the two input geometries. The matrix string can be tested for matching a DE-9IM pattern using <a class="xref" href="#ST_RelateMatch" title="ST_RelateMatch">ST_RelateMatch</a>. </p><p><span class="bold"><strong>Variant 3:</strong></span> Like variant 2, but allows specifying a <span class="bold"><strong>Boundary Node Rule</strong></span>. A boundary node rule allows finer control over whether the endpoints of MultiLineStrings are considered to lie in the DE-9IM Interior or Boundary. The <code class="varname">boundaryNodeRule</code> values are: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">1</code>: <span class="bold"><strong>OGC-Mod2</strong></span> - line endpoints are in the Boundary if they occur an odd number of times. This is the rule defined by the OGC SFS standard, and is the default for <code class="function">ST_Relate</code>. </p></li><li class="listitem"><p><code class="code">2</code>: <span class="bold"><strong>Endpoint</strong></span> - all endpoints are in the Boundary. </p></li><li class="listitem"><p><code class="code">3</code>: <span class="bold"><strong>MultivalentEndpoint</strong></span> - endpoints are in the Boundary if they occur more than once. In other words, the boundary is all the "attached" or "inner" endpoints (but not the "unattached/outer" ones). </p></li><li class="listitem"><p><code class="code">4</code>: <span class="bold"><strong>MonovalentEndpoint</strong></span> - endpoints are in the Boundary if they occur only once. In other words, the boundary is all the "unattached" or "outer" endpoints. </p></li></ul></div><p>This function is not in the OGC spec, but is implied. see s2.1.13.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2 // s2.1.13.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.25</p><p>Desempenhado pelo módulo GEOS</p><p class="enhanced">Enhanced: 2.0.0 - added support for specifying boundary node rule.</p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Enhanced: 3.0.0 enabled support for <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div></div><div class="refsection" id="idm13740"><h2>Exemplos</h2><p>Using the boolean-valued function to test spatial relationships.</p><pre class="programlisting">SELECT ST_Relate('POINT(1 2)', ST_Buffer( 'POINT(1 2)', 2), '0FFFFF212');
st_relate
-----------
t

SELECT ST_Relate(POINT(1 2)', ST_Buffer( 'POINT(1 2)', 2), '*FF*FF212');
st_relate
-----------
t
</pre><p>Testing a custom spatial relationship pattern as a query condition, with <code class="code">&amp;&amp;</code> to enable using a spatial index.</p><pre class="programlisting">-- Find compounds that properly intersect (not just touch) a poly (Interior Intersects)

SELECT c.* , p.name As poly_name
    FROM polys AS p
    INNER JOIN compounds As c
          ON c.geom &amp;&amp; p.geom
             AND ST_Relate(p.geom, c.geom,'T********');
</pre><p>Computing the intersection matrix for spatial relationships.</p><pre class="programlisting">SELECT ST_Relate( 'POINT(1 2)',
                  ST_Buffer( 'POINT(1 2)', 2));
-----------
0FFFFF212

SELECT ST_Relate( 'LINESTRING(1 2, 3 4)',
                  'LINESTRING(5 6, 7 8)' );
-----------
FF1FF0102
</pre><p>Using different Boundary Node Rules to compute the spatial relationship between a LineString and a MultiLineString with a duplicate endpoint <code class="code">(3 3)</code>: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Using the <span class="bold"><strong>OGC-Mod2</strong></span> rule (1) the duplicate endpoint is in the <span class="bold"><strong>interior</strong></span> of the MultiLineString, so the DE-9IM matrix entry [aB:bI] is <code class="code">0</code> and [aB:bB] is <code class="code">F</code>. </p></li><li class="listitem"><p>Using the <span class="bold"><strong>Endpoint</strong></span> rule (2) the duplicate endpoint is in the <span class="bold"><strong>boundary</strong></span> of the MultiLineString, so the DE-9IM matrix entry [aB:bI] is <code class="code">F</code> and [aB:bB] is <code class="code">0</code>. </p></li></ul></div><pre class="programlisting">WITH data AS (SELECT
  'LINESTRING(1 1, 3 3)'::geometry AS a_line,
  'MULTILINESTRING((3 3, 3 5), (3 3, 5 3))':: geometry AS b_multiline
)
SELECT ST_Relate( a_line, b_multiline, 1) AS bnr_mod2,
       ST_Relate( a_line, b_multiline, 2) AS bnr_endpoint
    FROM data;

 bnr_mod2  | bnr_endpoint
-----------+--------------
 FF10F0102 | FF1F00102
</pre></div><div class="refsection" id="idm13765"><h2>Veja também</h2><p><a class="xref" href="#eval_spatial_rel" title="5.1. Determining Spatial Relationships">Section 5.1, “Determining Spatial Relationships”</a>, <a class="xref" href="#ST_RelateMatch" title="ST_RelateMatch">ST_RelateMatch</a>, <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>, <a class="xref" href="#ST_Covers" title="ST_Covers">ST_Covers</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, <a class="xref" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a>, <a class="xref" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a>, <a class="xref" href="#ST_Touches" title="ST_Touches">ST_Touches</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a> </p></div></div><div class="refentry" id="ST_RelateMatch"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RelateMatch — Tests if a DE-9IM Intersection Matrix matches an Intersection Matrix pattern </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_RelateMatch</strong>(</code>text  <var class="pdparam">intersectionMatrix</var>, text  <var class="pdparam">intersectionMatrixPattern</var><code>)</code>;</p></div></div><div class="refsection" id="idm13796"><h2>Descrição</h2><p>Tests if a <a class="link" href="http://en.wikipedia.org/wiki/DE-9IM" target="_top">Dimensionally Extended 9-Intersection Model</a> (DE-9IM) <code class="varname">intersectionMatrix</code> value satisfies an <code class="varname">intersectionMatrixPattern</code>. Intersection matrix values can be computed by <a class="xref" href="#ST_Relate" title="ST_Relate">ST_Relate</a>. </p><p>For more information refer to <a class="xref" href="#eval_spatial_rel" title="5.1. Determining Spatial Relationships">Section 5.1, “Determining Spatial Relationships”</a>. </p><p>Desempenhado pelo módulo GEOS</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm13807"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_RelateMatch('101202FFF', 'TTTTTTFFF') ;
-- result --
t
</pre><p>Patterns for common spatial relationships matched against intersection matrix values, for a line in various positions relative to a polygon</p><pre class="programlisting">SELECT pat.name AS relationship, pat.val AS pattern,
       mat.name AS position, mat.val AS matrix,
       ST_RelateMatch(mat.val, pat.val) AS match
    FROM (VALUES ( 'Equality', 'T1FF1FFF1' ),
                 ( 'Overlaps', 'T*T***T**' ),
                 ( 'Within',   'T*F**F***' ),
                 ( 'Disjoint', 'FF*FF****' )) AS pat(name,val)
    CROSS JOIN
        (VALUES  ('non-intersecting', 'FF1FF0212'),
                 ('overlapping',      '1010F0212'),
                 ('inside',           '1FF0FF212')) AS mat(name,val);

 relationship |  pattern  |     position     |  matrix   | match
--------------+-----------+------------------+-----------+-------
 Equality     | T1FF1FFF1 | non-intersecting | FF1FF0212 | f
 Equality     | T1FF1FFF1 | overlapping      | 1010F0212 | f
 Equality     | T1FF1FFF1 | inside           | 1FF0FF212 | f
 Overlaps     | T*T***T** | non-intersecting | FF1FF0212 | f
 Overlaps     | T*T***T** | overlapping      | 1010F0212 | t
 Overlaps     | T*T***T** | inside           | 1FF0FF212 | f
 Within       | T*F**F*** | non-intersecting | FF1FF0212 | f
 Within       | T*F**F*** | overlapping      | 1010F0212 | f
 Within       | T*F**F*** | inside           | 1FF0FF212 | t
 Disjoint     | FF*FF**** | non-intersecting | FF1FF0212 | t
 Disjoint     | FF*FF**** | overlapping      | 1010F0212 | f
 Disjoint     | FF*FF**** | inside           | 1FF0FF212 | f
</pre></div><div class="refsection" id="idm13812"><h2>Veja também</h2><p><a class="xref" href="#eval_spatial_rel" title="5.1. Determining Spatial Relationships">Section 5.1, “Determining Spatial Relationships”</a>, <a class="xref" href="#ST_Relate" title="ST_Relate">ST_Relate</a></p></div></div><div class="refentry" id="ST_Touches"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Touches — Tests if two geometries have at least one point in common, but their interiors do not intersect</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Touches</strong>(</code>geometry  <var class="pdparam">A</var>, geometry  <var class="pdparam">B</var><code>)</code>;</p></div></div><div class="refsection" id="idm13832"><h2>Descrição</h2><p>Returns <code class="varname">TRUE</code> if A and B intersect, but their interiors do not intersect. Equivalently, A and B have at least one point in common, and the common points lie in at least one boundary. For Point/Point inputs the relationship is always <code class="varname">FALSE</code>, since points do not have a boundary.</p><p>In mathematical terms: <span class="emphasis"><em>ST_Touches(A, B) ⇔ (Int(A) ⋂ Int(B) = ∅) ∧ (A ⋂ B ≠ ∅) </em></span></p><p>This relationship holds if the DE-9IM Intersection Matrix for the two geometries matches one of:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="markup">FT*******</span></p></li><li class="listitem"><p><span class="markup">F**T*****</span></p></li><li class="listitem"><p><span class="markup">F***T****</span></p></li></ul></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function automatically includes a bounding box comparison that makes use of any spatial indexes that are available on the geometries.  To avoid using an index, use <code class="function">_ST_Touches</code> instead.</p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Enhanced: 3.0.0 enabled support for <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2 // s2.1.13.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.28</p></div><div class="refsection" id="idm13865"><h2>Exemplos</h2><p>The <code class="function">ST_Touches</code> predicate returns <code class="varname">TRUE</code> in the following examples.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_touches01.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">POLYGON</code></p></div></div></div></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_touches02.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">POLYGON</code></p></div></div></div></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_touches03.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">LINESTRING</code></p></div></div></div></td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_touches04.png"/><div class="caption"><p><code class="varname">LINESTRING</code> / <code class="varname">LINESTRING</code></p></div></div></div></td><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_touches05.png"/><div class="caption"><p><code class="varname">LINESTRING</code> / <code class="varname">LINESTRING</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_touches06.png"/><div class="caption"><p><code class="varname">POLYGON</code> / <code class="varname">POINT</code></p></div></div></div></td></tr></tbody></table></div><pre class="programlisting">SELECT ST_Touches('LINESTRING(0 0, 1 1, 0 2)'::geometry, 'POINT(1 1)'::geometry);
 st_touches
------------
 f
(1 row)

SELECT ST_Touches('LINESTRING(0 0, 1 1, 0 2)'::geometry, 'POINT(0 2)'::geometry);
 st_touches
------------
 t
(1 row)</pre></div></div><div class="refentry" id="ST_Within"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Within — Tests if every point of A lies in B, and their interiors have a point in common</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Within</strong>(</code>geometry  <var class="pdparam">A</var>, geometry  <var class="pdparam">B</var><code>)</code>;</p></div></div><div class="refsection" id="idm13951"><h2>Descrição</h2><p>Returns TRUE if geometry A is within geometry B. A is within B if and only if all points of A lie inside (i.e. in the interior or boundary of) B (or equivalently, no points of A lie in the exterior of B), and the interiors of A and B have at least one point in common. </p><p>For this function to make sense, the source geometries must both be of the same coordinate projection, having the same SRID. </p><p>In mathematical terms: <span class="emphasis"><em>ST_Within(A, B) ⇔ (A ⋂ B = A) ∧ (Int(A) ⋂ Int(B) ≠ ∅) </em></span></p><p>The within relation is reflexive: every geometry is within itself. The relation is antisymmetric: if <code class="code">ST_Within(A,B) = true</code> and <code class="code">ST_Within(B,A) = true</code>, then the two geometries must be topologically equal (<code class="code">ST_Equals(A,B) = true</code>).</p><p>ST_Within is the converse of <a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>. So, <code class="code">ST_Within(A,B) = ST_Contains(B,A)</code>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Because the interiors must have a common point, a subtlety of the definition is that lines and points lying fully in the boundary of polygons or lines are <span class="emphasis"><em>not</em></span> within the geometry. For further details see <a class="link" href="http://lin-ear-th-inking.blogspot.com/2007/06/subtleties-of-ogc-covers-spatial.html" target="_top">Subtleties of OGC Covers, Contains, Within</a>. The <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a> predicate provides a more inclusive relationship. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function automatically includes a bounding box comparison that makes use of any spatial indexes that are available on the geometries.  To avoid index use, use the function <code class="function">_ST_Within</code>.</p></td></tr></table></div><p>Desempenhado pelo módulo GEOS</p><p class="enhanced">Enhanced: 2.3.0 Enhancement to PIP short-circuit for geometry extended to support MultiPoints with few points. Prior versions only supported point in polygon.</p><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="enhanced">Enhanced: 3.0.0 enabled support for <code class="varname">GEOMETRYCOLLECTION</code></p></td></tr></table></div><div class="important"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Important]" src="images/important.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Do not use this function with invalid geometries. You will get unexpected results.</p></td></tr></table></div><p>NOTE: this is the "allowable" version that returns a boolean, not an integer.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.2 // s2.1.13.3 - a.Relate(b, 'T*F**F***') </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.30</p></div><div class="refsection" id="idm13989"><h2>Exemplos</h2><pre class="programlisting">--a circle within a circle
SELECT ST_Within(smallc,smallc) As smallinsmall,
  ST_Within(smallc, bigc) As smallinbig,
  ST_Within(bigc,smallc) As biginsmall,
  ST_Within(ST_Union(smallc, bigc), bigc) as unioninbig,
  ST_Within(bigc, ST_Union(smallc, bigc)) as biginunion,
  ST_Equals(bigc, ST_Union(smallc, bigc)) as bigisunion
FROM
(
SELECT ST_Buffer(ST_GeomFromText('POINT(50 50)'), 20) As smallc,
  ST_Buffer(ST_GeomFromText('POINT(50 50)'), 40) As bigc) As foo;
--Result
 smallinsmall | smallinbig | biginsmall | unioninbig | biginunion | bigisunion
--------------+------------+------------+------------+------------+------------
 t            | t          | f          | t          | t          | t
(1 row)
    </pre><p><span class="inlinemediaobject"><img src="images/st_within01.png"/></span> </p></div><div class="refsection" id="idm13996"><h2>Veja também</h2><p><a class="xref" href="#ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a>, <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a></p></div></div></section><section class="section" id="idm14003"><div class="titlepage"><div><div><h3 class="title">7.11.2. Distance Relationships</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_3DDWithin">ST_3DDWithin</a></span><span class="refpurpose"> — Tests if two 3D geometries are within a given 3D distance</span></li><li><span class="refentrytitle"><a href="#ST_3DDFullyWithin">ST_3DDFullyWithin</a></span><span class="refpurpose"> — Tests if two 3D geometries are entirely within a given 3D distance</span></li><li><span class="refentrytitle"><a href="#ST_DFullyWithin">ST_DFullyWithin</a></span><span class="refpurpose"> — Tests if a geometry is entirely inside a distance of another</span></li><li><span class="refentrytitle"><a href="#ST_DWithin">ST_DWithin</a></span><span class="refpurpose"> — Tests if two geometries are within a given distance</span></li><li><span class="refentrytitle"><a href="#ST_PointInsideCircle">ST_PointInsideCircle</a></span><span class="refpurpose"> — Tests if a point geometry is inside a circle defined by a center and radius</span></li></ul></div><div class="refentry" id="ST_3DDWithin"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DDWithin — Tests if two 3D geometries are within a given 3D distance</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_3DDWithin</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var>, double precision  <var class="pdparam">distance_of_srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm14023"><h2>Descrição</h2><p>Returns true if the 3D distance between two geometry values is no larger than distance <code class="varname">distance_of_srid</code>. The distance is specified in units defined by the spatial reference system of the geometries. For this function to make sense the source geometries must be in the same coordinate system (have the same SRID). </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function automatically includes a bounding box comparison that makes use of any spatial indexes that are available on the geometries. </p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM ?</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm14042"><h2>Exemplos</h2><pre class="programlisting">-- Geometry example - units in meters (SRID: 2163 US National Atlas Equal area) (3D point and line compared 2D point and line)
-- Note: currently no vertical datum support so Z is not transformed and assumed to be same units as final.
SELECT ST_3DDWithin(
      ST_Transform(ST_GeomFromEWKT('SRID=4326;POINT(-72.1235 42.3521 4)'),2163),
      ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-72.1260 42.45 15, -72.123 42.1546 20)'),2163),
      126.8
    ) As within_dist_3d,
ST_DWithin(
      ST_Transform(ST_GeomFromEWKT('SRID=4326;POINT(-72.1235 42.3521 4)'),2163),
      ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-72.1260 42.45 15, -72.123 42.1546 20)'),2163),
      126.8
    ) As within_dist_2d;

 within_dist_3d | within_dist_2d
----------------+----------------
 f              | t
</pre></div><div class="refsection" id="idm14045"><h2>Veja também</h2><p><a class="xref" href="#ST_3DDFullyWithin" title="ST_3DDFullyWithin">ST_3DDFullyWithin</a>, <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a>, <a class="xref" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a>, <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="ST_3DDFullyWithin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DDFullyWithin — Tests if two 3D geometries are entirely within a given 3D distance</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_3DDFullyWithin</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var>, double precision  <var class="pdparam">distance</var><code>)</code>;</p></div></div><div class="refsection" id="idm14073"><h2>Descrição</h2><p>Returns true if the 3D geometries are fully within the specified distance of one another. The distance is specified in units defined by the spatial reference system of the geometries. For this function to make sense, the source geometries must both be of the same coordinate projection, having the same SRID.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function automatically includes a bounding box comparison that makes use of any spatial indexes that are available on the geometries. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm14087"><h2>Exemplos</h2><pre class="programlisting">-- This compares the difference between fully within and distance within as well
    -- as the distance fully within for the 2D footprint of the line/point vs. the 3d fully within
    SELECT ST_3DDFullyWithin(geom_a, geom_b, 10) as D3DFullyWithin10, ST_3DDWithin(geom_a, geom_b, 10) as D3DWithin10,
  ST_DFullyWithin(geom_a, geom_b, 20) as D2DFullyWithin20,
  ST_3DDFullyWithin(geom_a, geom_b, 20) as D3DFullyWithin20 from
    (select ST_GeomFromEWKT('POINT(1 1 2)') as geom_a,
    ST_GeomFromEWKT('LINESTRING(1 5 2, 2 7 20, 1 9 100, 14 12 3)') as geom_b) t1;
 d3dfullywithin10 | d3dwithin10 | d2dfullywithin20 | d3dfullywithin20
------------------+-------------+------------------+------------------
 f                | t           | t                | f </pre></div><div class="refsection" id="idm14090"><h2>Veja também</h2><p><a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a>, <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a>, <a class="xref" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a></p></div></div><div class="refentry" id="ST_DFullyWithin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DFullyWithin — Tests if a geometry is entirely inside a distance of another</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_DFullyWithin</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var>, double precision  <var class="pdparam">distance</var><code>)</code>;</p></div></div><div class="refsection" id="idm14115"><h2>Descrição</h2><p>Returns true if <code class="code">g2</code> is entirely within <code class="code">distance</code> of <code class="code">g1</code>. Visually, the condition is true if <code class="code">g2</code> is contained within a <code class="code">distance</code> buffer of <code class="code">g1</code>. The distance is specified in units defined by the spatial reference system of the geometries.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function automatically includes a bounding box comparison that makes use of any spatial indexes that are available on the geometries. </p></td></tr></table></div><p class="availability">Disponibilidade: 1.5.0</p><p class="changed">Changed: 3.5.0 : the logic behind the function now uses a test of containment within a buffer, rather than the ST_MaxDistance algorithm. Results will differ from prior versions, but should be closer to user expectations.</p></div><div class="refsection" id="idm14128"><h2>Exemplos</h2><pre class="programlisting">SELECT
    ST_DFullyWithin(geom_a, geom_b, 10) AS DFullyWithin10,
    ST_DWithin(geom_a, geom_b, 10) AS DWithin10,
    ST_DFullyWithin(geom_a, geom_b, 20) AS DFullyWithin20
FROM (VALUES
    ('POINT(1 1)', 'LINESTRING(1 5, 2 7, 1 9, 14 12)')
    ) AS v(geom_a, geom_b)

 dfullywithin10 | dwithin10 | dfullywithin20
----------------+-----------+----------------
 f              | t         | t
</pre></div><div class="refsection" id="idm14131"><h2>Veja também</h2><p><a class="xref" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a>, <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a>, <a class="xref" href="#ST_3DDFullyWithin" title="ST_3DDFullyWithin">ST_3DDFullyWithin</a></p></div></div><div class="refentry" id="ST_DWithin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DWithin — Tests if two geometries are within a given distance</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_DWithin</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var>, double precision  <var class="pdparam">distance_of_srid</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_DWithin</strong>(</code>geography  <var class="pdparam">gg1</var>, geography  <var class="pdparam">gg2</var>, double precision  <var class="pdparam">distance_meters</var>, boolean  <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm14171"><h2>Descrição</h2><p>Returns true if the geometries are within a given distance</p><p>For <span class="type">geometry</span>: The distance is specified in units defined by the spatial reference system of the geometries. For this function to make sense, the source geometries must be in the same coordinate system (have the same SRID).</p><p>For <span class="type">geography</span>: units are in meters and distance measurement defaults to <code class="varname">use_spheroid = true</code>. For faster evaluation use <code class="varname">use_spheroid = false</code> to measure on the sphere. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Use <a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a> for 3D geometries.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function call includes a bounding box comparison that makes use of any indexes that are available on the geometries.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p class="availability">Availability: 1.5.0 support for geography was introduced</p><p class="enhanced">Enhanced: 2.1.0 improved speed for geography. See <a class="link" href="http://blog.opengeo.org/2012/07/12/making-geography-faster/" target="_top">Making Geography faster</a> for details.</p><p class="enhanced">Enhanced: 2.1.0 support for curved geometries was introduced.</p><p>Prior to 1.3, <a class="xref" href="#ST_Expand" title="ST_Expand">ST_Expand</a> was commonly used in conjunction with &amp;&amp; and ST_Distance to test for distance, and in pre-1.3.4 this function used that logic. From 1.3.4, ST_DWithin uses a faster short-circuit distance function.</p></div><div class="refsection" id="idm14196"><h2>Exemplos</h2><pre class="programlisting">-- Find the nearest hospital to each school
-- that is within 3000 units of the school.
--  We do an ST_DWithin search to utilize indexes to limit our search list
--  that the non-indexable ST_Distance needs to process
-- If the units of the spatial reference is meters then units would be meters
SELECT DISTINCT ON (s.gid) s.gid, s.school_name, s.geom, h.hospital_name
  FROM schools s
    LEFT JOIN hospitals h ON ST_DWithin(s.geom, h.geom, 3000)
  ORDER BY s.gid, ST_Distance(s.geom, h.geom);

-- The schools with no close hospitals
-- Find all schools with no hospital within 3000 units
-- away from the school.  Units is in units of spatial ref (e.g. meters, feet, degrees)
SELECT s.gid, s.school_name
  FROM schools s
    LEFT JOIN hospitals h ON ST_DWithin(s.geom, h.geom, 3000)
  WHERE h.gid IS NULL;

-- Find broadcasting towers that receiver with limited range can receive.
-- Data is geometry in Spherical Mercator (SRID=3857), ranges are approximate.

-- Create geometry index that will check proximity limit of user to tower
CREATE INDEX ON broadcasting_towers using gist (geom);

-- Create geometry index that will check proximity limit of tower to user
CREATE INDEX ON broadcasting_towers using gist (ST_Expand(geom, sending_range));

-- Query towers that 4-kilometer receiver in Minsk Hackerspace can get
-- Note: two conditions, because shorter LEAST(b.sending_range, 4000) will not use index.
SELECT b.tower_id, b.geom
  FROM broadcasting_towers b
  WHERE ST_DWithin(b.geom, 'SRID=3857;POINT(3072163.4 7159374.1)', 4000)
    AND ST_DWithin(b.geom, 'SRID=3857;POINT(3072163.4 7159374.1)', b.sending_range);

        </pre></div><div class="refsection" id="idm14199"><h2>Veja também</h2><p><a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a></p></div></div><div class="refentry" id="ST_PointInsideCircle"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointInsideCircle — Tests if a point geometry is inside a circle defined by a center and radius</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_PointInsideCircle</strong>(</code>geometry  <var class="pdparam">a_point</var>, float  <var class="pdparam">center_x</var>, float  <var class="pdparam">center_y</var>, float  <var class="pdparam">radius</var><code>)</code>;</p></div></div><div class="refsection" id="idm14225"><h2>Descrição</h2><p>Returns true if the geometry is a point and is inside the circle with center <code class="varname">center_x</code>,<code class="varname">center_y</code> and radius <code class="varname">radius</code>. </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Does not use spatial indexes. Use <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a> instead.</p></td></tr></table></div><p class="availability">Availability: 1.2</p><p class="changed">Changed: 2.2.0 In prior versions this was called ST_Point_Inside_Circle</p></div><div class="refsection" id="idm14236"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_PointInsideCircle(ST_Point(1,2), 0.5, 2, 3);
 st_pointinsidecircle
------------------------
 t
</pre></div><div class="refsection" id="idm14239"><h2>Veja também</h2><p><a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a></p></div></div></section></section><section class="section" id="Measurement_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.12. Measurement Functions</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions compute measurements of distance, area and angles. There are also functions to compute geometry values determined by measurements.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_Area">ST_Area</a></span><span class="refpurpose"> — Retorna o centro geométrico de uma geometria.  </span></li><li><span class="refentrytitle"><a href="#ST_Azimuth">ST_Azimuth</a></span><span class="refpurpose"> — Retorna a menor linha 2-dimensional  entre duas geometrias</span></li><li><span class="refentrytitle"><a href="#ST_Angle">ST_Angle</a></span><span class="refpurpose"> — Retorna a linha 3-dimensional mais longa entre duas geometrias</span></li><li><span class="refentrytitle"><a href="#ST_ClosestPoint">ST_ClosestPoint</a></span><span class="refpurpose"> — Returns the 2D point on g1 that is closest to g2. This is the first point of the shortest line from one geometry to the other.</span></li><li><span class="refentrytitle"><a href="#ST_3DClosestPoint">ST_3DClosestPoint</a></span><span class="refpurpose"> — Retorna o ponto 3 dimensional em g1 que é o mais próximo de g2. Este é o primeiro ponto da linha mais curta em três dimensões. </span></li><li><span class="refentrytitle"><a href="#ST_Distance">ST_Distance</a></span><span class="refpurpose"> — Retorna a linha 3-dimensional mais longa entre duas geometrias</span></li><li><span class="refentrytitle"><a href="#ST_3DDistance">ST_3DDistance</a></span><span class="refpurpose"> — Para tipo geometria, retorna a menor distância cartesiana 3-dimensional (baseado no sistema de referência espacial) entre duas geometrias em unidades projetadas. </span></li><li><span class="refentrytitle"><a href="#ST_DistanceSphere">ST_DistanceSphere</a></span><span class="refpurpose"> — Retorna a menor distância entre duas geometrias lon/lat dado um esferoide específico. As versões anteriores a 1.5 só suportam pontos.  </span></li><li><span class="refentrytitle"><a href="#ST_Distance_Spheroid">ST_DistanceSpheroid</a></span><span class="refpurpose"> — Retorna a menor distância entre duas geometrias lon/lat dado um esferoide específico. As versões anteriores a 1.5 só suportam pontos. </span></li><li><span class="refentrytitle"><a href="#ST_FrechetDistance">ST_FrechetDistance</a></span><span class="refpurpose"> — Retorna a menor linha 3-dimensional  entre duas geometrias</span></li><li><span class="refentrytitle"><a href="#ST_HausdorffDistance">ST_HausdorffDistance</a></span><span class="refpurpose"> — Retorna a menor linha 3-dimensional  entre duas geometrias </span></li><li><span class="refentrytitle"><a href="#ST_Length">ST_Length</a></span><span class="refpurpose"> — Retorna o centro geométrico de uma geometria. </span></li><li><span class="refentrytitle"><a href="#ST_Length2D">ST_Length2D</a></span><span class="refpurpose"> — Retorna o comprimento 2-dimensional da geometria se for uma linestring ou multi-linestring. Isto é um  heterônimo para <code class="varname">ST_Length</code></span></li><li><span class="refentrytitle"><a href="#ST_3DLength">ST_3DLength</a></span><span class="refpurpose"> — Retorna o centro geométrico de uma geometria. </span></li><li><span class="refentrytitle"><a href="#ST_Length_Spheroid">ST_LengthSpheroid</a></span><span class="refpurpose"> — Retorna o centro geométrico de uma geometria. </span></li><li><span class="refentrytitle"><a href="#ST_LongestLine">ST_LongestLine</a></span><span class="refpurpose"> — Retorna a linha 3-dimensional mais longa entre duas geometrias </span></li><li><span class="refentrytitle"><a href="#ST_3DLongestLine">ST_3DLongestLine</a></span><span class="refpurpose"> — Retorna a linha 3-dimensional mais longa entre duas geometrias</span></li><li><span class="refentrytitle"><a href="#ST_MaxDistance">ST_MaxDistance</a></span><span class="refpurpose"> — Retorna a maior distância 2-dimensional entre duas geometrias em unidades projetadas.</span></li><li><span class="refentrytitle"><a href="#ST_3DMaxDistance">ST_3DMaxDistance</a></span><span class="refpurpose"> — Para tipo de geometria retorna a maior distância 3-dimensional cartesiana (baseada na referência espacial) entre duas geometrias em unidade projetadas. </span></li><li><span class="refentrytitle"><a href="#ST_MinimumClearance">ST_MinimumClearance</a></span><span class="refpurpose"> — Retorna a liquidação mínima de uma geometria, uma medida de uma robustez de uma geometria. </span></li><li><span class="refentrytitle"><a href="#ST_MinimumClearanceLine">ST_MinimumClearanceLine</a></span><span class="refpurpose"> — Retorna a LineString de dois pontos abrangendo a liquidação mínima de uma geometria. </span></li><li><span class="refentrytitle"><a href="#ST_Perimeter">ST_Perimeter</a></span><span class="refpurpose"> — Returns the length of the boundary of a polygonal geometry or geography.</span></li><li><span class="refentrytitle"><a href="#ST_Perimeter2D">ST_Perimeter2D</a></span><span class="refpurpose"> — Returns the 2D perimeter of a polygonal geometry. Alias for <code class="varname">ST_Perimeter</code>.</span></li><li><span class="refentrytitle"><a href="#ST_3DPerimeter">ST_3DPerimeter</a></span><span class="refpurpose"> — Retorna o centro geométrico de uma geometria. </span></li><li><span class="refentrytitle"><a href="#ST_ShortestLine">ST_ShortestLine</a></span><span class="refpurpose"> — Retorna a menor linha 2-dimensional  entre duas geometrias</span></li><li><span class="refentrytitle"><a href="#ST_3DShortestLine">ST_3DShortestLine</a></span><span class="refpurpose"> — Retorna a menor linha 3-dimensional  entre duas geometrias</span></li></ul></div><div class="refentry" id="ST_Area"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Area — Retorna o centro geométrico de uma geometria.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Area</strong>(</code>geometry <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">float <strong class="fsfunc">ST_Area</strong>(</code>geography <var class="pdparam">geog</var>, boolean <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm14269"><h2>Descrição</h2><p>Retorna a área da geometria se for um polígono ou multipolígono. Retorna a medida do comprimento de um valor ST_Surface ou ST_MultiSurface. Para geometria, uma área cartesiana 2D é determinada com unidades especificadas pelo SRID. Para geografia, por padrão, ela é determinada em um esferoide com unidade em metros quadrados. Para medir a esfera mais rápida, mas menos precisa, use: ST_Area(geog,false). </p><p class="enhanced">Melhorias: 2.0.0 - suporte a superfícies 2D poliédricas foi introduzido.</p><p class="enhanced">Melhorias: 2.2.0 - medição em esferoides desempenhada com GeographicLib para uma melhor precisão e força. Requer Proj &gt;= 4.9.0 para tirar vantagem da nova característica. </p><p class="changed">Changed: 3.0.0 - does not depend on SFCGAL anymore.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 8.1.2, 9.5.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para superfícies poliédricas, somente suporta superfícies poliédricas 2D (não 2.5D). Para 2.5D, pode ser dada uma resposta não zero, mas somente para as faces que se encaixam completamente no plano XY.</p></td></tr></table></div></div><div class="refsection" id="idm14290"><h2>Exemplos</h2><p>Retorna uma área em pés quadrado para um terreno de Massachusetts e multiplica pela conversão para metros quadrados. Note que isto é em pés quadrados porque EPSG:2249 é o Massachusetts State Plane Feet </p><pre class="programlisting">select ST_Area(geom) sqft,
    ST_Area(geom) * 0.3048 ^ 2 sqm
from (
         select 'SRID=2249;POLYGON((743238 2967416,743238 2967450,
                                 743265 2967450,743265.625 2967416,743238 2967416))' :: geometry geom
     ) subquery;
┌─────────┬─────────────┐
│  sqft   │     sqm     │
├─────────┼─────────────┤
│ 928.625 │ 86.27208552 │
└─────────┴─────────────┘
</pre><p>Retorna uma área em pés quadrados e transforma para Massachusetts state plane em metros (EPSG:26986) para pegar metros quadrados. Note que ele é em pés quadrados, porque 2249 é Massachusetts State Plane Feet e a área transformada está em em metros quadrados já que EPSG:26986 é o state plane Massachusetts em metros </p><pre class="programlisting">select ST_Area(geom) sqft,
    ST_Area(ST_Transform(geom, 26986)) As sqm
from (
         select
             'SRID=2249;POLYGON((743238 2967416,743238 2967450,
             743265 2967450,743265.625 2967416,743238 2967416))' :: geometry geom
     ) subquery;
┌─────────┬─────────────────┐
│  sqft   │       sqm       │
├─────────┼─────────────────┤
│ 928.625 │ 86.272430607008 │
└─────────┴─────────────────┘
</pre><p>Retorna uma área em pés quadrados e metros quadrados usado tipo de dados geografia. Note que transformamos nossa geometria para geografia (antes você pode certificar que sua geometria está em WGS 84 long lat 4326). A geografia sempre mede em metros. Isto é só para demonstração para comparar. Normalmente sua tabela já será armazenada no tipo de dados geografia.</p><pre class="programlisting">select ST_Area(geog) / 0.3048 ^ 2 sqft_spheroid,
    ST_Area(geog, false) / 0.3048 ^ 2 sqft_sphere,
    ST_Area(geog) sqm_spheroid
from (
         select ST_Transform(
                    'SRID=2249;POLYGON((743238 2967416,743238 2967450,743265 2967450,743265.625 2967416,743238 2967416))'::geometry,
                    4326
             ) :: geography geog
     ) as subquery;
┌──────────────────┬──────────────────┬──────────────────┐
│  sqft_spheroid   │   sqft_sphere    │   sqm_spheroid   │
├──────────────────┼──────────────────┼──────────────────┤
│ 928.684405784452 │ 927.049336105925 │ 86.2776044979692 │
└──────────────────┴──────────────────┴──────────────────┘
</pre><p>If your data is in geography already:</p><pre class="programlisting">select ST_Area(geog) / 0.3048 ^ 2 sqft,
    ST_Area(the_geog) sqm
from somegeogtable;</pre></div><div class="refsection" id="idm14300"><h2>Veja também</h2><p><a class="xref" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_Length_Spheroid" title="ST_LengthSpheroid">ST_LengthSpheroid</a>, <a class="xref" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="ST_Azimuth"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Azimuth — Retorna a menor linha 2-dimensional  entre duas geometrias</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Azimuth</strong>(</code>geometry <var class="pdparam">origin</var>, geometry <var class="pdparam">target</var><code>)</code>;</p><p><code class="funcdef">float <strong class="fsfunc">ST_Azimuth</strong>(</code>geography <var class="pdparam">origin</var>, geography <var class="pdparam">target</var><code>)</code>;</p></div></div><div class="refsection" id="idm14332"><h2>Descrição</h2><p>Returns the azimuth in radians of the target point from the origin point, or NULL if the two points are coincident. The azimuth angle is a positive clockwise angle referenced from the positive Y axis (geometry) or the North meridian (geography): North = 0; Northeast = π/4; East = π/2; Southeast = 3π/4; South = π; Southwest 5π/4; West = 3π/2; Northwest = 7π/4.</p><p>For the geography type, the azimuth solution is known as the <a class="link" href="https://en.wikipedia.org/wiki/Geodesics_on_an_ellipsoid" target="_top">inverse geodesic problem</a>.</p><p>The azimuth is a mathematical concept defined as the angle between a reference vector and a point, with angular units in radians. The result value in radians can be converted to degrees using the PostgreSQL function <code class="varname">degrees()</code>.</p><p>Azimute é especialmente útil em conjunto com ST_Translate para mudar um objeto ao longo do seu eixo perpendicular. Veja upgis_lineshift <a class="link" href="http://trac.osgeo.org/postgis/wiki/UsersWikiplpgsqlfunctions" target="_top">Plpgsqlfunctions PostGIS wiki section</a> para um exemplo disto. </p><p class="availability">Disponibilidade: 1.1.0</p><p class="enhanced">Melhorias: 2.0.0 suporte para geografia foi introduzido.</p><p class="enhanced">Melhorias: 2.2.0 medição em esferoides desempenhada com GeographicLib para uma melhor precisão e força. Requer Proj &gt;= 4.9.0 para tirar vantagem da nova característica. </p></div><div class="refsection" id="idm14344"><h2>Exemplos</h2><p>Azimute da geometria em graus </p><pre class="programlisting">SELECT degrees(ST_Azimuth( ST_Point(25, 45),  ST_Point(75, 100))) AS degA_B,
       degrees(ST_Azimuth( ST_Point(75, 100), ST_Point(25, 45) )) AS degB_A;

      dega_b       |     degb_a
------------------+------------------
 42.2736890060937 | 222.273689006094
</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_azimuth01.png"/><div class="caption"><p>Blue: origin Point(25,45); Green: target Point(75, 100); Yellow: Y axis or North; Red: azimuth angle.</p></div></div></div><p>
				</p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_azimuth02.png"/><div class="caption"><p>Blue: origin Point(75, 100); Green: target Point(25, 45); Yellow: Y axis or North; Red: azimuth angle.</p></div></div></div><p>
				</p></td></tr></tbody></table></div></div><div class="refsection" id="idm14368"><h2>Veja também</h2><p><a class="xref" href="#ST_Angle" title="ST_Angle">ST_Angle</a>, <a class="xref" href="#ST_Translate" title="ST_Translate">ST_Translate</a>, <a class="xref" href="#ST_Project" title="ST_Project">ST_Project</a>, <a class="link" href="http://www.postgresql.org/docs/current/interactive/functions-math.html" target="_top">PostgreSQL Math Functions</a></p></div></div><div class="refentry" id="ST_Angle"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Angle — Retorna a linha 3-dimensional mais longa entre duas geometrias</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Angle</strong>(</code>geometry <var class="pdparam">point1</var>, geometry <var class="pdparam">point2</var>, geometry <var class="pdparam">point3</var>, geometry <var class="pdparam">point4</var><code>)</code>;</p><p><code class="funcdef">float <strong class="fsfunc">ST_Angle</strong>(</code>geometry <var class="pdparam">line1</var>, geometry <var class="pdparam">line2</var><code>)</code>;</p></div></div><div class="refsection" id="idm14405"><h2>Descrição</h2><p>Retorna a linha 3-dimensional mais longa entre duas geometrias </p><p><span class="bold"><strong>Variant 1:</strong></span> computes the angle enclosed by the points P1-P2-P3. If a 4th point provided computes the angle points P1-P2 and P3-P4</p><p><span class="bold"><strong>Variant 2:</strong></span> computes the angle between two vectors S1-E1 and S2-E2, defined by the start and end points of the input lines </p><p>O azimute é matematicamente conceituado como o ângulo entre um plano de referência e um ponto, com unidades angulares em radianos. As unidades podem ser convertidas para graus usando uma função PostgreSQL graus () embutida, como mostrado no exemplo.  </p><p>Note that <code class="varname">ST_Angle(P1,P2,P3) = ST_Angle(P2,P1,P2,P3)</code>.</p><p class="availability">Availability: 2.5.0</p></div><div class="refsection" id="idm14416"><h2>Exemplos</h2><p>linha mais longa entre polígono e polígono</p><pre class="programlisting">SELECT degrees( ST_Angle('POINT(0 0)', 'POINT(10 10)', 'POINT(20 0)') );

 degrees
---------
     270
</pre><p>Angle between vectors defined by four points</p><pre class="programlisting">SELECT degrees( ST_Angle('POINT (10 10)', 'POINT (0 0)', 'POINT(90 90)', 'POINT (100 80)') );

      degrees
-------------------
 269.9999999999999
</pre><p>Angle between vectors defined by the start and end points of lines</p><pre class="programlisting">SELECT degrees( ST_Angle('LINESTRING(0 0, 0.3 0.7, 1 1)', 'LINESTRING(0 0, 0.2 0.5, 1 0)') );

      degrees
--------------
           45
</pre></div><div class="refsection" id="idm14424"><h2>Veja também</h2><p><a class="xref" href="#ST_Azimuth" title="ST_Azimuth">ST_Azimuth</a></p></div></div><div class="refentry" id="ST_ClosestPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClosestPoint — Returns the 2D point on g1 that is closest to g2. This is the first point of the shortest line from one geometry to the other.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ClosestPoint</strong>(</code>geometry  <var class="pdparam">geom1</var>, geometry  <var class="pdparam">geom2</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_ClosestPoint</strong>(</code>geography  <var class="pdparam">geom1</var>, geography  <var class="pdparam">geom2</var>, boolean  <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm14455"><h2>Descrição</h2><p>Returns the 2-dimensional point on <code class="varname">geom1</code> that is closest to <code class="varname">geom2</code>. This is the first point of the shortest line between the geometries (as computed by <a class="xref" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a>). </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você tem uma geometria 3D, talvez prefira usar <a class="xref" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a>.</p></td></tr></table></div><p class="enhanced">Enhanced: 3.4.0 - Support for geography.</p><p class="availability">Disponibilidade: 1.5.0</p></div><div class="refsection" id="idm14466"><h2>Exemplos</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_closestpoint01.png"/><div class="caption"><p>The closest point for a Point and a LineString is the point itself. The closest point for a LineString and a Point is a point on the line.</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText( ST_ClosestPoint(pt,line)) AS cp_pt_line,
       ST_AsText( ST_ClosestPoint(line,pt)) AS cp_line_pt
    FROM (SELECT 'POINT (160 40)'::geometry AS pt,
                 'LINESTRING (10 30, 50 50, 30 110, 70 90, 180 140, 130 190)'::geometry AS line ) AS t;

   cp_pt_line   |                cp_line_pt
----------------+------------------------------------------
 POINT(160 40)  | POINT(125.75342465753425 115.34246575342466)
</pre><p>
	</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_closestpoint02.png"/><div class="caption"><p>The closest point on polygon A to polygon B</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText( ST_ClosestPoint(
                'POLYGON ((190 150, 20 10, 160 70, 190 150))',
                ST_Buffer('POINT(80 160)', 30)        )) As ptwkt;
------------------------------------------
 POINT(131.59149149528952 101.89887534906197)
</pre><p>
	</p></div><div class="refsection" id="idm14484"><h2>Veja também</h2><p><a class="xref" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a>, <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>, <a class="xref" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a>, <a class="xref" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a></p></div></div><div class="refentry" id="ST_3DClosestPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DClosestPoint — Retorna o ponto 3 dimensional em g1 que é o mais próximo de g2. Este é o primeiro ponto da linha mais curta em três dimensões. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DClosestPoint</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm14507"><h2>Descrição</h2><p>Retorne o ponto 3-dimensional no g1 que é mais perto ao g2. Esse é o primeiro ponto da menor linha 3D. O comprimento 3D da menor linha 3D é a distância 3D. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p class="availability">Disponibilidade: 2.0.0</p><p class="changed">Alterações: 2.2.0 - se 2 geometrias 2D são entradas, um ponto 2D retorna (em vez do antigo comportamento assumindo 0 para Z perdido). Em caso de 2D e 3D, o Z não é mais 0 para Z perdido. </p></div><div class="refsection" id="idm14520"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td style="border-bottom: 1px solid ; "><p>linestring e ponto -- pontos 3d e 2d mais próximos </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DClosestPoint(line,pt)) AS cp3d_line_pt,
                ST_AsEWKT(ST_ClosestPoint(line,pt)) As cp2d_line_pt
        FROM (SELECT 'POINT(100 100 30)'::geometry As pt,
                        'LINESTRING (20 80 20, 98 190 1, 110 180 3, 50 75 1000)'::geometry As line
                ) As foo;


 cp3d_line_pt                                                |               cp2d_line_pt
-----------------------------------------------------------+------------------------------------------
 POINT(54.6993798867619 128.935022917228 11.5475869506606) | POINT(73.0769230769231 115.384615384615)
                                        </pre><p>
							  </p></td></tr><tr><td style="border-bottom: 1px solid ; "><p>linestring e multiponto -- pontos 3d e 2d mais próximos </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DClosestPoint(line,pt)) AS cp3d_line_pt,
                ST_AsEWKT(ST_ClosestPoint(line,pt)) As cp2d_line_pt
        FROM (SELECT 'MULTIPOINT(100 100 30, 50 74 1000)'::geometry As pt,
                        'LINESTRING (20 80 20, 98 190 1, 110 180 3, 50 75 900)'::geometry As line
                ) As foo;


                       cp3d_line_pt                        | cp2d_line_pt
-----------------------------------------------------------+--------------
 POINT(54.6993798867619 128.935022917228 11.5475869506606) | POINT(50 75)
                                        </pre><p>
							  </p></td></tr><tr><td><p>Multilinestring e polígono pontos 3d e 2d mais próximos </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DClosestPoint(poly, mline)) As cp3d,
    ST_AsEWKT(ST_ClosestPoint(poly, mline)) As cp2d
        FROM (SELECT  ST_GeomFromEWKT('POLYGON((175 150 5, 20 40 5, 35 45 5, 50 60 5, 100 100 5, 175 150 5))') As poly,
                ST_GeomFromEWKT('MULTILINESTRING((175 155 2, 20 40 20, 50 60 -2, 125 100 1, 175 155 1),
                (1 10 2, 5 20 1))') As mline ) As foo;
                   cp3d                    |     cp2d
-------------------------------------------+--------------
 POINT(39.993580415989 54.1889925532825 5) | POINT(20 40)
             </pre><p>
							  </p></td></tr></tbody></table></div></div><div class="refsection" id="idm14537"><h2>Veja também</h2><p><a class="xref" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>, <a class="xref" href="#ST_ClosestPoint" title="ST_ClosestPoint">ST_ClosestPoint</a>, <a class="xref" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a>, <a class="xref" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a></p></div></div><div class="refentry" id="ST_Distance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Distance — Retorna a linha 3-dimensional mais longa entre duas geometrias</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Distance</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p><p><code class="funcdef">float <strong class="fsfunc">ST_Distance</strong>(</code>geography  <var class="pdparam">geog1</var>, geography  <var class="pdparam">geog2</var>, boolean  <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm14571"><h2>Descrição</h2><p>Para tipo geometria, retorna a menor distância cartesiana 3-dimensional entre duas geometrias em unidades projetadas (spatial ref units). </p><p>For <a class="xref" href="#geography" title="geography">geography</a> types defaults to return the minimum geodesic distance between two geographies in meters, compute on the spheroid determined by the SRID. If <code class="varname">use_spheroid</code> is false, a faster spherical calculation is used.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.23</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p class="availability">Disponibilidade: 1.5.0 suporte de geografia foi introduzido em 1.5. Melhorias na velocidade para planar para lidar melhor com mais ou maiores vértices de geometrias. </p><p class="enhanced">Melhorias: 2.1.0 velocidade melhorada para geografia. Veja <a class="link" href="http://boundlessgeo.com/2012/07/making-geography-faster/" target="_top">Making Geography faster</a> para mais detalhes.</p><p class="enhanced">Melhorias: 2.1.0 - suporte para geometrias curvas foi introduzido.</p><p class="enhanced">Melhorias: 2.2.0 - medição em esferoides desempenhada com GeographicLib para uma melhor precisão e força. Requer Proj &gt;= 4.9.0 para tirar vantagem da nova característica. </p><p class="changed">Changed: 3.0.0 - does not depend on SFCGAL anymore.</p></div><div class="refsection" id="idm14596"><h2>Exemplos de Geometria</h2><p>Geometry example - units in planar degrees 4326 is WGS 84 long lat, units are degrees.</p><pre class="programlisting">SELECT ST_Distance(
    'SRID=4326;POINT(-72.1235 42.3521)'::geometry,
    'SRID=4326;LINESTRING(-72.1260 42.45, -72.123 42.1546)'::geometry );
-----------------
0.00150567726382282</pre><p>Geometry example - units in meters (SRID: 3857, proportional to pixels on popular web maps). Although the value is off, nearby ones can be compared correctly, which makes it a good choice for algorithms like KNN or KMeans.</p><pre class="programlisting">SELECT ST_Distance(
    ST_Transform('SRID=4326;POINT(-72.1235 42.3521)'::geometry, 3857),
    ST_Transform('SRID=4326;LINESTRING(-72.1260 42.45, -72.123 42.1546)'::geometry, 3857) );
-----------------
167.441410065196</pre><p>Geometry example - units in meters (SRID: 3857 as above, but corrected by cos(lat) to account for distortion)</p><pre class="programlisting">SELECT ST_Distance(
    ST_Transform('SRID=4326;POINT(-72.1235 42.3521)'::geometry, 3857),
    ST_Transform('SRID=4326;LINESTRING(-72.1260 42.45, -72.123 42.1546)'::geometry, 3857)
                ) * cosd(42.3521);
-----------------
123.742351254151</pre><p>Geometry example - units in meters (SRID: 26986 Massachusetts state plane meters) (most accurate for Massachusetts)</p><pre class="programlisting">SELECT ST_Distance(
    ST_Transform('SRID=4326;POINT(-72.1235 42.3521)'::geometry, 26986),
    ST_Transform('SRID=4326;LINESTRING(-72.1260 42.45, -72.123 42.1546)'::geometry, 26986) );
-----------------
123.797937878454</pre><p>Geometry example - units in meters (SRID: 2163 US National Atlas Equal area) (least accurate) </p><pre class="programlisting">SELECT ST_Distance(
    ST_Transform('SRID=4326;POINT(-72.1235 42.3521)'::geometry, 2163),
    ST_Transform('SRID=4326;LINESTRING(-72.1260 42.45, -72.123 42.1546)'::geometry, 2163) );
------------------
126.664256056812</pre></div><div class="refsection" id="idm14608"><h2>Exemplos de Geografia</h2><p>Same as geometry example but note units in meters - use sphere for slightly faster and less accurate computation.</p><pre class="programlisting">SELECT ST_Distance(gg1, gg2) As spheroid_dist, ST_Distance(gg1, gg2, false) As sphere_dist
FROM (SELECT
    'SRID=4326;POINT(-72.1235 42.3521)'::geography as gg1,
    'SRID=4326;LINESTRING(-72.1260 42.45, -72.123 42.1546)'::geography as gg2
        ) As foo  ;

  spheroid_dist   |   sphere_dist
------------------+------------------
 123.802076746848 | 123.475736916397</pre></div><div class="refsection" id="idm14612"><h2>Veja também</h2><p><a class="xref" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a>, <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_DistanceSphere" title="ST_DistanceSphere">ST_DistanceSphere</a>, <a class="xref" href="#ST_Distance_Spheroid" title="ST_DistanceSpheroid">ST_DistanceSpheroid</a>, <a class="xref" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a>, <a class="xref" href="#ST_HausdorffDistance" title="ST_HausdorffDistance">ST_HausdorffDistance</a>, <a class="xref" href="#ST_FrechetDistance" title="ST_FrechetDistance">ST_FrechetDistance</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="ST_3DDistance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DDistance — Para tipo geometria, retorna a menor distância cartesiana 3-dimensional (baseado no sistema de referência espacial) entre duas geometrias em unidades projetadas. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_3DDistance</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm14638"><h2>Descrição</h2><p>Para tipo geometria, retorna a menor distância cartesiana 3-dimensional entre duas geometrias em unidades projetadas (spatial ref units).</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM ISO/IEC 13249-3</p><p class="availability">Disponibilidade: 2.0.0</p><p class="changed">Alterações: 2.2.0 - Em caso de 2D e 3D, o Z não é mais 0 para Z perdido. </p><p class="changed">Changed: 3.0.0 - SFCGAL version removed</p></div><div class="refsection" id="idm14656"><h2>Exemplos</h2><pre class="programlisting">-- Geometry example - units in meters (SRID: 2163 US National Atlas Equal area) (3D point and line compared 2D point and line)
-- Note: currently no vertical datum support so Z is not transformed and assumed to be same units as final.
SELECT ST_3DDistance(
                        ST_Transform('SRID=4326;POINT(-72.1235 42.3521 4)'::geometry,2163),
                        ST_Transform('SRID=4326;LINESTRING(-72.1260 42.45 15, -72.123 42.1546 20)'::geometry,2163)
                ) As dist_3d,
                ST_Distance(
                        ST_Transform('SRID=4326;POINT(-72.1235 42.3521)'::geometry,2163),
                        ST_Transform('SRID=4326;LINESTRING(-72.1260 42.45, -72.123 42.1546)'::geometry,2163)
                ) As dist_2d;

     dist_3d      |     dist_2d
------------------+-----------------
 127.295059324629 | 126.66425605671
</pre><pre class="programlisting">-- Multilinestring and polygon both 3d and 2d distance
-- Same example as 3D closest point example
SELECT ST_3DDistance(poly, mline) As dist3d,
    ST_Distance(poly, mline) As dist2d
        FROM (SELECT  'POLYGON((175 150 5, 20 40 5, 35 45 5, 50 60 5, 100 100 5, 175 150 5))'::geometry as poly,
               'MULTILINESTRING((175 155 2, 20 40 20, 50 60 -2, 125 100 1, 175 155 1), (1 10 2, 5 20 1))'::geometry as mline) as foo;
      dist3d       | dist2d
-------------------+--------
 0.716635696066337 |      0
</pre></div><div class="refsection" id="idm14660"><h2>Veja também</h2><p><a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a>, <a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a>, <a class="xref" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a>, <a class="xref" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="ST_DistanceSphere"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DistanceSphere — Retorna a menor distância entre duas geometrias lon/lat dado um esferoide específico. As versões anteriores a 1.5 só suportam pontos.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_DistanceSphere</strong>(</code>geometry  <var class="pdparam">geomlonlatA</var>, geometry  <var class="pdparam">geomlonlatB</var>, float8  <var class="pdparam">radius=6371008</var><code>)</code>;</p></div></div><div class="refsection" id="idm14687"><h2>Descrição</h2><p>Retorna a distância mínima em metros entre dois pontos long/lat. Usa uma terra esférica e raio derivado do esferoide definido pelo SRID. Mais rápido que <a class="xref" href="#ST_Distance_Spheroid" title="ST_DistanceSpheroid">ST_DistanceSpheroid</a>, mas menos preciso. As versões do PostGIS anteriores a 1.5 só implementavam para pontos. </p><p class="availability">Disponibilidade: 1.5 - suporte para outros tipos de geometria além de pontos foi introduzido. As versões anteriores só funcionam com pontos. </p><p class="changed">Alterações: 2.2.0 Em versões anteriores era chamada de ST_Distance_Sphere</p></div><div class="refsection" id="idm14693"><h2>Exemplos</h2><pre class="programlisting">SELECT round(CAST(ST_DistanceSphere(ST_Centroid(geom), ST_GeomFromText('POINT(-118 38)',4326)) As numeric),2) As dist_meters,
round(CAST(ST_Distance(ST_Transform(ST_Centroid(geom),32611),
                ST_Transform(ST_GeomFromText('POINT(-118 38)', 4326),32611)) As numeric),2) As dist_utm11_meters,
round(CAST(ST_Distance(ST_Centroid(geom), ST_GeomFromText('POINT(-118 38)', 4326)) As numeric),5) As dist_degrees,
round(CAST(ST_Distance(ST_Transform(geom,32611),
                ST_Transform(ST_GeomFromText('POINT(-118 38)', 4326),32611)) As numeric),2) As min_dist_line_point_meters
FROM
        (SELECT ST_GeomFromText('LINESTRING(-118.584 38.374,-118.583 38.5)', 4326) As geom) as foo;
         dist_meters | dist_utm11_meters | dist_degrees | min_dist_line_point_meters
        -------------+-------------------+--------------+----------------------------
                70424.47 |          70438.00 |      0.72900 |                   65871.18

        </pre></div><div class="refsection" id="idm14696"><h2>Veja também</h2><p><a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_Distance_Spheroid" title="ST_DistanceSpheroid">ST_DistanceSpheroid</a></p></div></div><div class="refentry" id="ST_Distance_Spheroid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DistanceSpheroid — Retorna a menor distância entre duas geometrias lon/lat dado um esferoide específico. As versões anteriores a 1.5 só suportam pontos. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_DistanceSpheroid</strong>(</code>geometry  <var class="pdparam">geomlonlatA</var>, geometry  <var class="pdparam">geomlonlatB</var>, spheroid <var class="pdparam">measurement_spheroid=WGS84</var><code>)</code>;</p></div></div><div class="refsection" id="idm14719"><h2>Descrição</h2><p>Retorna a distância mínima em metros entre duas geometrias long/lat dado um esferoide específico. Veja a explanação dos esferoides dados pela <a class="xref" href="#ST_Length_Spheroid" title="ST_LengthSpheroid">ST_LengthSpheroid</a>. As versões do PostGIS anteriores a 1.5 só suportam pontos. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função não olha o SRID de uma geometria e sempre irá assumir que está representada nas coordenadas do esferoide passado. AS versões anteriores desta função só suportam pontos.  </p></td></tr></table></div><p class="availability">Disponibilidade: 1.5 - suporte para outros tipos de geometria além de pontos foi introduzido. As versões anteriores só funcionam com pontos. </p><p class="changed">Alterações: 2.2.0 Em versões anteriores era chamada de ST_Distance_Spheroid</p></div><div class="refsection" id="idm14727"><h2>Exemplos</h2><pre class="programlisting">SELECT round(CAST(
                ST_DistanceSpheroid(ST_Centroid(geom), ST_GeomFromText('POINT(-118 38)',4326), 'SPHEROID["WGS 84",6378137,298.257223563]')
                        As numeric),2) As dist_meters_spheroid,
                round(CAST(ST_DistanceSphere(ST_Centroid(geom), ST_GeomFromText('POINT(-118 38)',4326)) As numeric),2) As dist_meters_sphere,
round(CAST(ST_Distance(ST_Transform(ST_Centroid(geom),32611),
                ST_Transform(ST_GeomFromText('POINT(-118 38)', 4326),32611)) As numeric),2) As dist_utm11_meters
FROM
        (SELECT ST_GeomFromText('LINESTRING(-118.584 38.374,-118.583 38.5)', 4326) As geom) as foo;
 dist_meters_spheroid | dist_meters_sphere | dist_utm11_meters
----------------------+--------------------+-------------------
                         70454.92 |           70424.47 |          70438.00

        </pre></div><div class="refsection" id="idm14730"><h2>Veja também</h2><p><a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_DistanceSphere" title="ST_DistanceSphere">ST_DistanceSphere</a></p></div></div><div class="refentry" id="ST_FrechetDistance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_FrechetDistance — Retorna a menor linha 3-dimensional  entre duas geometrias</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_FrechetDistance</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var>, float <var class="pdparam">densifyFrac = -1</var><code>)</code>;</p></div></div><div class="refsection" id="idm14753"><h2>Descrição</h2><p>Implements algorithm for computing the Fréchet distance restricted to discrete points for both geometries, based on <a class="link" href="http://www.kr.tuwien.ac.at/staff/eiter/et-archive/cdtr9464.pdf" target="_top">Computing Discrete Fréchet Distance</a>. The Fréchet distance is a measure of similarity between curves that takes into account the location and ordering of the points along the curves. Therefore it is often better than the Hausdorff distance. </p><p>When the optional densifyFrac is specified, this function performs a segment densification before computing the discrete Fréchet distance. The densifyFrac parameter sets the fraction by which to densify each segment. Each segment will be split into a number of equal-length subsegments, whose fraction of the total length is closest to the given fraction. </p><p>Units are in the units of the spatial reference system of the geometries. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A implementação atual suporta somente vértices como as localizações completas. Isto poderia ser expandido para permitir densidade arbitrária de pontos a serem usados.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The smaller densifyFrac we specify, the more accurate Fréchet distance we get. But, the computation time and the memory usage increase with the square of the number of subsegments. </p></td></tr></table></div><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Availability: 2.4.0 - requires GEOS &gt;= 3.7.0</p></div><div class="refsection" id="idm14765"><h2>Exemplos</h2><pre class="programlisting">postgres=# SELECT st_frechetdistance('LINESTRING (0 0, 100 0)'::geometry, 'LINESTRING (0 0, 50 50, 100 0)'::geometry);
 st_frechetdistance
--------------------
   70.7106781186548
(1 row)
                        </pre><pre class="programlisting">SELECT st_frechetdistance('LINESTRING (0 0, 100 0)'::geometry, 'LINESTRING (0 0, 50 50, 100 0)'::geometry, 0.5);
 st_frechetdistance
--------------------
                 50
(1 row)
                        </pre></div><div class="refsection" id="idm14769"><h2>Veja também</h2><p><a class="xref" href="#ST_HausdorffDistance" title="ST_HausdorffDistance">ST_HausdorffDistance</a></p></div></div><div class="refentry" id="ST_HausdorffDistance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_HausdorffDistance — Retorna a menor linha 3-dimensional  entre duas geometrias </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_HausdorffDistance</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p><p><code class="funcdef">float <strong class="fsfunc">ST_HausdorffDistance</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var>, float <var class="pdparam">densifyFrac</var><code>)</code>;</p></div></div><div class="refsection" id="idm14800"><h2>Descrição</h2><p>Returns the <a class="link" href="http://en.wikipedia.org/wiki/Hausdorff_distance" target="_top">Hausdorff distance</a> between two geometries. The Hausdorff distance is a measure of how similar or dissimilar 2 geometries are. </p><p>The function actually computes the "Discrete Hausdorff Distance". This is the Hausdorff distance computed at discrete points on the geometries. The <em class="parameter"><code>densifyFrac</code></em> parameter can be specified, to provide a more accurate answer by densifying segments before computing the discrete Hausdorff distance. Each segment is split into a number of equal-length subsegments whose fraction of the segment length is closest to the given fraction. </p><p>Units are in the units of the spatial reference system of the geometries. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This algorithm is NOT equivalent to the standard Hausdorff distance. However, it computes an approximation that is correct for a large subset of useful cases. One important case is Linestrings that are roughly parallel to each other, and roughly equal in length. This is a useful metric for line matching. </p></td></tr></table></div><p class="availability">Disponibilidade: 1.5.0</p></div><div class="refsection" id="idm14810"><h2>Exemplos</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_hausdorffdistance01.png"/><div class="caption"><p>Hausdorff distance (red) and distance (yellow) between two lines </p></div></div></div><pre class="programlisting">SELECT ST_HausdorffDistance(geomA, geomB),
       ST_Distance(geomA, geomB)
    FROM (SELECT 'LINESTRING (20 70, 70 60, 110 70, 170 70)'::geometry AS geomA,
                 'LINESTRING (20 90, 130 90, 60 100, 190 100)'::geometry AS geomB) AS t;
 st_hausdorffdistance | st_distance
----------------------+-------------
    37.26206567625497 |          20
</pre><p><span class="bold"><strong>Example:</strong></span> Hausdorff distance with densification.</p><pre class="programlisting">SELECT ST_HausdorffDistance(
            'LINESTRING (130 0, 0 0, 0 150)'::geometry,
            'LINESTRING (10 10, 10 150, 130 10)'::geometry,
            0.5);
 ----------------------
          70
</pre><p><span class="bold"><strong>Example:</strong></span> For each building, find the parcel that best represents it. First we require that the parcel intersect with the building geometry. <code class="code">DISTINCT ON</code> guarantees we get each building listed only once. <code class="code">ORDER BY .. ST_HausdorffDistance</code> selects the parcel that is most similar to the building.</p><pre class="programlisting">SELECT DISTINCT ON (buildings.gid) buildings.gid, parcels.parcel_id
   FROM buildings
       INNER JOIN parcels
       ON ST_Intersects(buildings.geom, parcels.geom)
   ORDER BY buildings.gid, ST_HausdorffDistance(buildings.geom, parcels.geom);
</pre></div><div class="refsection" id="idm14827"><h2>Veja também</h2><p><a class="xref" href="#ST_FrechetDistance" title="ST_FrechetDistance">ST_FrechetDistance</a></p></div></div><div class="refentry" id="ST_Length"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Length — Retorna o centro geométrico de uma geometria. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Length</strong>(</code>geometry <var class="pdparam">a_2dlinestring</var><code>)</code>;</p><p><code class="funcdef">float <strong class="fsfunc">ST_Length</strong>(</code>geography <var class="pdparam">geog</var>, boolean <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm14852"><h2>Descrição</h2><p>Para geometria: Retorna o comprimento cartesiano 2D se for uma LineString, MultiLineString, ST_Curve, ST_MultiCurve. Retorna 0 para geometrias areais. Use <a class="xref" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a>. Para tipos de geometrias, unidades para medição de comprimento estão especificadas pelo sistema de referência espacial da geometria. </p><p>For geography types: computation is performed using the inverse geodesic calculation. Units of length are in meters. If PostGIS is compiled with PROJ version 4.8.0 or later, the spheroid is specified by the SRID, otherwise it is exclusive to WGS84. If <code class="varname">use_spheroid = false</code>, then the calculation is based on a sphere instead of a spheroid. </p><p>No momento, para geometria, isto é heterômio para ST_Length2D, mas isto pode mudar para dimensões maiores. </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Alterações: 2.0.0 Quebrando a mudança -- nas versões anteriores aplicar isto a um MULTI/POLÍGONO de tipo de geografia lhe daria o perímetro do POLÍGONO/MULTIPOLÍGONO. Na 2.0.0 isso é alterado para retornar 0 a estar na linha com o comportamento da geometria. Por favor, utilize a ST_Perimeter se quiser o perímetro de um polígono</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para a medição de geografia o padrão é a medição do esferoide. Para usar a esfera mais rápida e menos precisa, use ST_Length(gg,false);</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 7.1.2, 9.3.4</p><p class="availability">Disponibilidade: 1.5.0 suporte para geografia foi introduzido em 1.5.</p></div><div class="refsection" id="idm14873"><h2>Exemplos de Geometria</h2><p>Retorna o comprimento em pés para line string. Note que é em pés, porque EPSG:2249 é Massachusetts State Plane Feet</p><pre class="programlisting">SELECT ST_Length(ST_GeomFromText('LINESTRING(743238 2967416,743238 2967450,743265 2967450,
743265.625 2967416,743238 2967416)',2249));

st_length
---------
 122.630744000095


--Transforming WGS 84 LineString to Massachusetts state plane meters
SELECT ST_Length(
        ST_Transform(
                ST_GeomFromEWKT('SRID=4326;LINESTRING(-72.1260 42.45, -72.1240 42.45666, -72.123 42.1546)'),
                26986
        )
);

st_length
---------
34309.4563576191
                        </pre></div><div class="refsection" id="idm14877"><h2>Exemplos de Geografia</h2><p>Retorna o comprimento de WGS 84 linha de geografia</p><pre class="programlisting">-- the default calculation uses a spheroid
SELECT ST_Length(the_geog) As length_spheroid,  ST_Length(the_geog,false) As length_sphere
FROM (SELECT ST_GeographyFromText(
'SRID=4326;LINESTRING(-72.1260 42.45, -72.1240 42.45666, -72.123 42.1546)') As the_geog)
 As foo;

 length_spheroid  |  length_sphere
------------------+------------------
 34310.5703627288 | 34346.2060960742
                        </pre></div><div class="refsection" id="idm14881"><h2>Veja também</h2><p><a class="xref" href="#ST_GeographyFromText" title="ST_GeographyFromText">ST_GeographyFromText</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_Length_Spheroid" title="ST_LengthSpheroid">ST_LengthSpheroid</a>, <a class="xref" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="ST_Length2D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Length2D — Retorna o comprimento 2-dimensional da geometria se for uma linestring ou multi-linestring. Isto é um  heterônimo para <code class="varname">ST_Length</code></p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Length2D</strong>(</code>geometry  <var class="pdparam">a_2dlinestring</var><code>)</code>;</p></div></div><div class="refsection" id="idm14902"><h2>Descrição</h2><p>Retorna o comprimento 2-dimensional da geometria se for uma linestring ou multi-linestring. Isto é um  heterônimo para <code class="varname">ST_Length</code></p></div><div class="refsection" id="idm14906"><h2>Veja também</h2><p><a class="xref" href="#ST_Length" title="ST_Length">ST_Length</a>, <a class="xref" href="#ST_3DLength" title="ST_3DLength">ST_3DLength</a></p></div></div><div class="refentry" id="ST_3DLength"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DLength — Retorna o centro geométrico de uma geometria. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_3DLength</strong>(</code>geometry  <var class="pdparam">a_3dlinestring</var><code>)</code>;</p></div></div><div class="refsection" id="idm14923"><h2>Descrição</h2><p>Retorna o comprimento 3-dimensional ou 2-dimensional da geometria se for uma linestring ou multi-linestring. Para linhas 2-d, ela só retornará o comprimento 2-d (o mesmo da ST_Length e ST_Length2D)</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 7.1, 10.3</p><p class="changed">Alterações: 2.0.0 Nas versões anteriores era chamado de ST_Length3D</p></div><div class="refsection" id="idm14935"><h2>Exemplos</h2><p>Retorna o comprimento em pés para um cabo 3D. Note que é em pés, porque EPSG:2249 é Massachusetts State Plane Feet</p><pre class="programlisting">SELECT ST_3DLength(ST_GeomFromText('LINESTRING(743238 2967416 1,743238 2967450 1,743265 2967450 3,
743265.625 2967416 3,743238 2967416 3)',2249));
ST_3DLength
-----------
122.704716741457
                </pre></div><div class="refsection" id="idm14939"><h2>Veja também</h2><p><a class="xref" href="#ST_Length" title="ST_Length">ST_Length</a>, <a class="xref" href="#ST_Length2D" title="ST_Length2D">ST_Length2D</a></p></div></div><div class="refentry" id="ST_Length_Spheroid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LengthSpheroid — Retorna o centro geométrico de uma geometria. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_LengthSpheroid</strong>(</code>geometry  <var class="pdparam">a_geometry</var>, spheroid  <var class="pdparam">a_spheroid</var><code>)</code>;</p></div></div><div class="refsection" id="idm14959"><h2>Descrição</h2><p>Calcula o comprimento/perímetro de uma geometria em um elipsoide. É útil se as coordenadas da geometria estão em longitude/latitude e um comprimento é desejado sem reprojeção. O elipsoide é um tipo de banco de dados separado e pode ser construído como segue:</p><div class="literallayout"><p><br/>
SPHEROID[&lt;NAME<br/>
&gt;,&lt;SEMI-MAJOR AXIS<br/>
&gt;,&lt;INVERSE FLATTENING<br/>
&gt;]<br/>
 </p></div><p>Exemplo de geometria</p><div class="literallayout"><p>SPHEROID["GRS_1980",6378137,298.257222101]</p></div><p class="availability">Disponibilidade: 1.2.2</p><p class="changed">Alterações: 2.2.0 Em versões anteriores era chamada de ST_Length_Spheroid e costumava ter um heterônimo ST_3DLength_Spheroid</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm14971"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_LengthSpheroid( geometry_column,
                          'SPHEROID["GRS_1980",6378137,298.257222101]' )
                          FROM geometry_table;

SELECT ST_LengthSpheroid( geom, sph_m ) As tot_len,
ST_LengthSpheroid(ST_GeometryN(geom,1), sph_m) As len_line1,
ST_LengthSpheroid(ST_GeometryN(geom,2), sph_m) As len_line2
                          FROM (SELECT ST_GeomFromText('MULTILINESTRING((-118.584 38.374,-118.583 38.5),
        (-71.05957 42.3589 , -71.061 43))') As geom,
CAST('SPHEROID["GRS_1980",6378137,298.257222101]' As spheroid) As sph_m)  as foo;
        tot_len      |    len_line1     |    len_line2
------------------+------------------+------------------
 85204.5207562955 | 13986.8725229309 | 71217.6482333646

 --3D
SELECT ST_LengthSpheroid( geom, sph_m ) As tot_len,
ST_LengthSpheroid(ST_GeometryN(geom,1), sph_m) As len_line1,
ST_LengthSpheroid(ST_GeometryN(geom,2), sph_m) As len_line2
                          FROM (SELECT ST_GeomFromEWKT('MULTILINESTRING((-118.584 38.374 20,-118.583 38.5 30),
        (-71.05957 42.3589 75, -71.061 43 90))') As geom,
CAST('SPHEROID["GRS_1980",6378137,298.257222101]' As spheroid) As sph_m)  as foo;

         tot_len      |    len_line1    |    len_line2
------------------+-----------------+------------------
 85204.5259107402 | 13986.876097711 | 71217.6498130292

</pre></div><div class="refsection" id="idm14974"><h2>Veja também</h2><p><a class="xref" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a>, <a class="xref" href="#ST_Length" title="ST_Length">ST_Length</a></p></div></div><div class="refentry" id="ST_LongestLine"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LongestLine — Retorna a linha 3-dimensional mais longa entre duas geometrias </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LongestLine</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm14994"><h2>Descrição</h2><p>Returns the 2-dimensional longest line between the points of two geometries. The line returned starts on <code class="varname">g1</code> and ends on <code class="varname">g2</code>. </p><p>The longest line always occurs between two vertices. The function returns the first longest line if more than one is found. The length of the line is equal to the distance returned by <a class="xref" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a>. </p><p>If g1 and g2 are the same geometry, returns the line between the two vertices farthest apart in the geometry. The endpoints of the line lie on the circle computed by <a class="xref" href="#ST_MinimumBoundingCircle" title="ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a>. </p><p class="availability">Disponibilidade: 1.5.0</p></div><div class="refsection" id="idm15004"><h2>Exemplos</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_longestline01.png"/><div class="caption"><p>Linha mais longa entre ponto e linha</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText( ST_LongestLine(
        'POINT (160 40)',
        'LINESTRING (10 30, 50 50, 30 110, 70 90, 180 140, 130 190)' )
        ) AS lline;
-----------------
LINESTRING(160 40,130 190)
</pre><p>
	</p><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_longestline02.png"/><div class="caption"><p>linha mais longa entre polígono e polígono</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText( ST_LongestLine(
        'POLYGON ((190 150, 20 10, 160 70, 190 150))',
        ST_Buffer('POINT(80 160)', 30)
            ) ) AS llinewkt;
-----------------
LINESTRING(20 10,105.3073372946034 186.95518130045156)
</pre><p>
	</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_longestline03.png"/><div class="caption"><p>Longest line across a single geometry. The length of the line is equal to the Maximum Distance. The endpoints of the line lie on the Minimum Bounding Circle.</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText( ST_LongestLine( geom, geom)) AS llinewkt,
                  ST_MaxDistance( geom, geom) AS max_dist,
                  ST_Length( ST_LongestLine(geom, geom)) AS lenll
FROM (SELECT 'POLYGON ((40 180, 110 160, 180 180, 180 120, 140 90, 160 40, 80 10, 70 40, 20 50, 40 180),
              (60 140, 99 77.5, 90 140, 60 140))'::geometry AS geom) AS t;

         llinewkt          |      max_dist      |       lenll
---------------------------+--------------------+--------------------
 LINESTRING(20 50,180 180) | 206.15528128088303 | 206.15528128088303
</pre><p>
	</p></div><div class="refsection" id="idm15030"><h2>Veja também</h2><p><a class="xref" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a>, <a class="xref" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a>, <a class="xref" href="#ST_3DLongestLine" title="ST_3DLongestLine">ST_3DLongestLine</a>, <a class="xref" href="#ST_MinimumBoundingCircle" title="ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a></p></div></div><div class="refentry" id="ST_3DLongestLine"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DLongestLine — Retorna a linha 3-dimensional mais longa entre duas geometrias</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DLongestLine</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm15052"><h2>Descrição</h2><p>Retorna a linha 3-dimensional mais longa entre duas geometrias. A função só retornará a primeira linha, se existirem mais de uma. A linha retornada sempre começará em g1 e acabará em g2. O comprimento da linha essa função sempre será o mesmo do <a class="xref" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a> retorna para g1 e g2.  </p><p class="availability">Disponibilidade: 2.0.0</p><p class="changed">Alterações: 2.2.0 - se 2 geometrias 2D são entradas, um ponto 2D retorna (em vez do antigo comportamento assumindo 0 para Z perdido). Em caso de 2D e 3D, o Z não é mais 0 para Z perdido. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm15066"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td style="border-bottom: 1px solid ; "><p>linestring e ponto -- linhas 3d e 2d mais longas </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DLongestLine(line,pt)) AS lol3d_line_pt,
                ST_AsEWKT(ST_LongestLine(line,pt)) As lol2d_line_pt
        FROM (SELECT 'POINT(100 100 30)'::geometry As pt,
                        'LINESTRING (20 80 20, 98 190 1, 110 180 3, 50 75 1000)'::geometry As line
                ) As foo;


           lol3d_line_pt           |       lol2d_line_pt
-----------------------------------+----------------------------
 LINESTRING(50 75 1000,100 100 30) | LINESTRING(98 190,100 100)
                                        </pre><p>
							  </p></td></tr><tr><td style="border-bottom: 1px solid ; "><p>linestring e multiponto -- linhas 3d e 2d mais longas </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DLongestLine(line,pt)) AS lol3d_line_pt,
                ST_AsEWKT(ST_LongestLine(line,pt)) As lol2d_line_pt
        FROM (SELECT 'MULTIPOINT(100 100 30, 50 74 1000)'::geometry As pt,
                        'LINESTRING (20 80 20, 98 190 1, 110 180 3, 50 75 900)'::geometry As line
                ) As foo;


          lol3d_line_pt          |      lol2d_line_pt
---------------------------------+--------------------------
 LINESTRING(98 190 1,50 74 1000) | LINESTRING(98 190,50 74)
                                        </pre><p>
							  </p></td></tr><tr><td><p>Multilinestring e polígono linhas 3d e 2d mais longas </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DLongestLine(poly, mline)) As lol3d,
    ST_AsEWKT(ST_LongestLine(poly, mline)) As lol2d
        FROM (SELECT  ST_GeomFromEWKT('POLYGON((175 150 5, 20 40 5, 35 45 5, 50 60 5, 100 100 5, 175 150 5))') As poly,
                ST_GeomFromEWKT('MULTILINESTRING((175 155 2, 20 40 20, 50 60 -2, 125 100 1, 175 155 1),
                (1 10 2, 5 20 1))') As mline ) As foo;
            lol3d             |          lol2d
------------------------------+--------------------------
 LINESTRING(175 150 5,1 10 2) | LINESTRING(175 150,1 10)
             </pre><p>
							  </p></td></tr></tbody></table></div></div><div class="refsection" id="idm15083"><h2>Veja também</h2><p><a class="xref" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a>, <a class="xref" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a>, <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>, <a class="xref" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a>, <a class="xref" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a></p></div></div><div class="refentry" id="ST_MaxDistance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MaxDistance — Retorna a maior distância 2-dimensional entre duas geometrias em unidades projetadas.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_MaxDistance</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm15106"><h2>Descrição</h2><p>Retorna a distância 2-dimensional máxima entre duas geometrias em unidades projetadas. Se g1 e g2 forem a mesma geometria, a função retornará a distância entre os dois vértices mais longes um do outro naquela geometria.   </p><p>Retorna a distância 2-dimensional máxima entre duas geometrias em unidades projetadas. Se g1 e g2 forem a mesma geometria, a função retornará a distância entre os dois vértices mais longes um do outro naquela geometria.   </p><p class="availability">Disponibilidade: 1.5.0</p></div><div class="refsection" id="idm15111"><h2>Exemplos</h2><p>Linha mais longa entre ponto e linha</p><pre class="programlisting">SELECT ST_MaxDistance('POINT(0 0)'::geometry, 'LINESTRING ( 2 0, 0 2 )'::geometry);
-----------------
 2

SELECT ST_MaxDistance('POINT(0 0)'::geometry, 'LINESTRING ( 2 2, 2 2 )'::geometry);
------------------
 2.82842712474619
</pre><p>Maximum distance between vertices of a single geometry.</p><pre class="programlisting">SELECT ST_MaxDistance('POLYGON ((10 10, 10 0, 0 0, 10 10))'::geometry,
                      'POLYGON ((10 10, 10 0, 0 0, 10 10))'::geometry);
------------------
 14.142135623730951
</pre></div><div class="refsection" id="idm15117"><h2>Veja também</h2><p><a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>, <a class="xref" href="#ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a></p></div></div><div class="refentry" id="ST_3DMaxDistance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DMaxDistance — Para tipo de geometria retorna a maior distância 3-dimensional cartesiana (baseada na referência espacial) entre duas geometrias em unidade projetadas. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_3DMaxDistance</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm15138"><h2>Descrição</h2><p>Para tipo geometria, retorna a menor distância cartesiana 3-dimensional entre duas geometrias em unidades projetadas (spatial ref units). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p class="availability">Disponibilidade: 2.0.0</p><p class="changed">Alterações: 2.2.0 - Em caso de 2D e 3D, o Z não é mais 0 para Z perdido. </p></div><div class="refsection" id="idm15151"><h2>Exemplos</h2><pre class="programlisting">-- Geometry example - units in meters (SRID: 2163 US National Atlas Equal area) (3D point and line compared 2D point and line)
-- Note: currently no vertical datum support so Z is not transformed and assumed to be same units as final.
SELECT ST_3DMaxDistance(
                        ST_Transform(ST_GeomFromEWKT('SRID=4326;POINT(-72.1235 42.3521 10000)'),2163),
                        ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-72.1260 42.45 15, -72.123 42.1546 20)'),2163)
                ) As dist_3d,
                ST_MaxDistance(
                        ST_Transform(ST_GeomFromEWKT('SRID=4326;POINT(-72.1235 42.3521 10000)'),2163),
                        ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-72.1260 42.45 15, -72.123 42.1546 20)'),2163)
                ) As dist_2d;

     dist_3d      |     dist_2d
------------------+------------------
 24383.7467488441 | 22247.8472107251
</pre></div><div class="refsection" id="idm15154"><h2>Veja também</h2><p><a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a>, <a class="xref" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="ST_MinimumClearance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinimumClearance — Retorna a liquidação mínima de uma geometria, uma medida de uma robustez de uma geometria. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_MinimumClearance</strong>(</code>geometry <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm15173"><h2>Descrição</h2><p>Não é incomum ter uma geometria que, enquanto o critério de validade de acordo com ST_IsValid (polígonos) ou ST_IsSimple (linhas), se tornaria inválida se um de seus vértices de movess por uma pequena distância, como pode acontecer durante uma conversão para formatos baseados em textos (como WKT, KML, GML GeoJSON), ou formatos binários que não usam coordenadas de pontos flutuantes de precisão dupla (MapInfo TAB). </p><p>The minimum clearance is a quantitative measure of a geometry's robustness to change in coordinate precision. It is the largest distance by which vertices of the geometry can be moved without creating an invalid geometry. Larger values of minimum clearance indicate greater robustness. </p><p>Se uma geometria tem uma liquidação mínima de <code class="varname">e</code>, pode ser dito que: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Dois vértices distintos na geometria não são separados por menos que <code class="varname">e</code>. </p></li><li class="listitem"><p>Nenhum vértice está mais perto que <code class="varname">e</code> a um segmento de linha do qual ele não é o endpoint.  </p></li></ul></div><p>
		</p><p>Se nenhuma liquidação existe para uma geometria (por exemplo, um único ponto, ou um multiponto cujos pontos são idênticos), então a retornará infinita.  </p><p>To avoid validity issues caused by precision loss, <a class="xref" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a> can reduce coordinate precision while ensuring that polygonal geometry remains valid. </p><p class="availability">Disponibilidade: 2.3.0</p></div><div class="refsection" id="idm15190"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_MinimumClearance('POLYGON ((0 0, 1 0, 1 1, 0.5 3.2e-4, 0 0))');
 st_minimumclearance
---------------------
             0.00032
     </pre></div><div class="refsection" id="idm15193"><h2>Veja também</h2><p><a class="xref" href="#ST_MinimumClearanceLine" title="ST_MinimumClearanceLine">ST_MinimumClearanceLine</a>, <a class="xref" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a>, <a class="xref" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> </p></div></div><div class="refentry" id="ST_MinimumClearanceLine"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinimumClearanceLine — Retorna a LineString de dois pontos abrangendo a liquidação mínima de uma geometria. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">Geometry <strong class="fsfunc">ST_MinimumClearanceLine</strong>(</code>geometry  <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm15212"><h2>Descrição</h2><p>Returns the two-point LineString spanning a geometry's minimum clearance. If the geometry does not have a minimum clearance, <code class="varname">LINESTRING EMPTY</code> is returned. </p><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 2.3.0 - requer GEOS &gt;= 3.6.0</p></div><div class="refsection" id="idm15218"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_MinimumClearanceLine('POLYGON ((0 0, 1 0, 1 1, 0.5 3.2e-4, 0 0))'));
-------------------------------
LINESTRING(0.5 0.00032,0.5 0)
                  </pre></div><div class="refsection" id="idm15221"><h2>Veja também</h2><p><a class="xref" href="#ST_MinimumClearance" title="ST_MinimumClearance">ST_MinimumClearance</a></p></div></div><div class="refentry" id="ST_Perimeter"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Perimeter — Returns the length of the boundary of a polygonal geometry or geography.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Perimeter</strong>(</code>geometry <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">float <strong class="fsfunc">ST_Perimeter</strong>(</code>geography <var class="pdparam">geog</var>, boolean <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm15246"><h2>Descrição</h2><p>Retorna o perímetro 2D da geometria/geografia se for uma ST_Surface, ST_MultiSurface (Polygon, MultiPolygon). Retorna 0 para geometrias não areais. Para geometrias lineares, use <a class="xref" href="#ST_Length" title="ST_Length">ST_Length</a>. Para tipos de geometria, unidades para medição de perímetro estão especificadas pelo sistema de referência espacial da geometria. </p><p>For geography types, the calculations are performed using the inverse geodesic problem, where perimeter units are in meters. If PostGIS is compiled with PROJ version 4.8.0 or later, the spheroid is specified by the SRID, otherwise it is exclusive to WGS84. If <code class="varname">use_spheroid = false</code>, then calculations will approximate a sphere instead of a spheroid.</p><p>No momento isto é um heterônimo para  ST_Perimeter2D, mas pode ser alterado para suportar dimensões maiores.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 8.1.3, 9.5.4</p><p class="availability">Disponibilidade 2.0.0: Suporte para geografia foi introduzido</p></div><div class="refsection" id="idm15263"><h2>Exemplos: Geometria </h2><p>Retorna o perímetro em pés para Polígono e Multipolígono. Note que é em pés, porque EPSG:2249 é Massachusetts State Plane Feet</p><pre class="programlisting">SELECT ST_Perimeter(ST_GeomFromText('POLYGON((743238 2967416,743238 2967450,743265 2967450,
743265.625 2967416,743238 2967416))', 2249));
st_perimeter
---------
 122.630744000095
(1 row)

SELECT ST_Perimeter(ST_GeomFromText('MULTIPOLYGON(((763104.471273676 2949418.44119003,
763104.477769673 2949418.42538203,
763104.189609677 2949418.22343004,763104.471273676 2949418.44119003)),
((763104.471273676 2949418.44119003,763095.804579742 2949436.33850239,
763086.132105649 2949451.46730207,763078.452329651 2949462.11549407,
763075.354136904 2949466.17407812,763064.362142565 2949477.64291974,
763059.953961626 2949481.28983009,762994.637609571 2949532.04103014,
762990.568508415 2949535.06640477,762986.710889563 2949539.61421415,
763117.237897679 2949709.50493431,763235.236617789 2949617.95619822,
763287.718121842 2949562.20592617,763111.553321674 2949423.91664605,
763104.471273676 2949418.44119003)))', 2249));
st_perimeter
---------
 845.227713366825
(1 row)
                        </pre></div><div class="refsection" id="idm15267"><h2>Exemplos: Geografia</h2><p>Retorna perímetro em metros e pés para Polígono e MultiPolígono. Note que isso é geografia (WGS 84 long lat)</p><pre class="programlisting">SELECT  ST_Perimeter(geog) As per_meters, ST_Perimeter(geog)/0.3048 As per_ft
FROM ST_GeogFromText('POLYGON((-71.1776848522251 42.3902896512902,-71.1776843766326 42.3903829478009,
-71.1775844305465 42.3903826677917,-71.1775825927231 42.3902893647987,-71.1776848522251 42.3902896512902))') As geog;

   per_meters    |      per_ft
-----------------+------------------
37.3790462565251 | 122.634666195949


-- MultiPolygon example --
SELECT  ST_Perimeter(geog) As per_meters, ST_Perimeter(geog,false) As per_sphere_meters,  ST_Perimeter(geog)/0.3048 As per_ft
FROM ST_GeogFromText('MULTIPOLYGON(((-71.1044543107478 42.340674480411,-71.1044542869917 42.3406744369506,
-71.1044553562977 42.340673886454,-71.1044543107478 42.340674480411)),
((-71.1044543107478 42.340674480411,-71.1044860600303 42.3407237015564,-71.1045215770124 42.3407653385914,
-71.1045498002983 42.3407946553165,-71.1045611902745 42.3408058316308,-71.1046016507427 42.340837442371,
-71.104617893173 42.3408475056957,-71.1048586153981 42.3409875993595,-71.1048736143677 42.3409959528211,
-71.1048878050242 42.3410084812078,-71.1044020965803 42.3414730072048,
-71.1039672113619 42.3412202916693,-71.1037740497748 42.3410666421308,
-71.1044280218456 42.3406894151355,-71.1044543107478 42.340674480411)))') As geog;

    per_meters    | per_sphere_meters |      per_ft
------------------+-------------------+------------------
 257.634283683311 |  257.412311446337 | 845.256836231335
                        </pre></div><div class="refsection" id="idm15271"><h2>Veja também</h2><p><a class="xref" href="#ST_GeogFromText" title="ST_GeogFromText">ST_GeogFromText</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_Length" title="ST_Length">ST_Length</a></p></div></div><div class="refentry" id="ST_Perimeter2D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Perimeter2D — Returns the 2D perimeter of a polygonal geometry. Alias for <code class="varname">ST_Perimeter</code>.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Perimeter2D</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm15290"><h2>Descrição</h2><p>Retorna o perímetro 2-dimensional da geometria, se for uma polígono ou multi-polígono. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Isto é um heterônimo para ST_Perimeter. Nas próximas versões a ST_Perimeter. pode retornar a maior dimensão de perímetro para uma geometria. Continua abaixo de consideração</p></td></tr></table></div></div><div class="refsection" id="idm15295"><h2>Veja também</h2><p><a class="xref" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a></p></div></div><div class="refentry" id="ST_3DPerimeter"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DPerimeter — Retorna o centro geométrico de uma geometria. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_3DPerimeter</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm15311"><h2>Descrição</h2><p>Retorna o perímetro 3-dimensional da geometria, se for um polígono ou multi-polígono. Se a geometria for 2-dimensional, então retorna o perímetro 2-dimensional.  </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM ISO/IEC 13249-3: 8.1, 10.5</p><p class="changed">Alterações: 2.0.0 Nas versões anteriores era chamado de ST_Perimeter3D </p></div><div class="refsection" id="idm15323"><h2>Exemplos</h2><p>O perímetro de um polígono levemente elevado no ar no Massachusetts state plane feet</p><pre class="programlisting">SELECT ST_3DPerimeter(geom), ST_Perimeter2d(geom), ST_Perimeter(geom) FROM
                        (SELECT ST_GeomFromEWKT('SRID=2249;POLYGON((743238 2967416 2,743238 2967450 1,
743265.625 2967416 1,743238 2967416 2))') As geom) As foo;

  ST_3DPerimeter  |  st_perimeter2d  |   st_perimeter
------------------+------------------+------------------
 105.465793597674 | 105.432997272188 | 105.432997272188

</pre></div><div class="refsection" id="idm15327"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a>, <a class="xref" href="#ST_Perimeter2D" title="ST_Perimeter2D">ST_Perimeter2D</a></p></div></div><div class="refentry" id="ST_ShortestLine"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ShortestLine — Retorna a menor linha 2-dimensional  entre duas geometrias</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ShortestLine</strong>(</code>geometry  <var class="pdparam">geom1</var>, geometry  <var class="pdparam">geom2</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_ShortestLine</strong>(</code>geography  <var class="pdparam">geom1</var>, geography  <var class="pdparam">geom2</var>, boolean <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm15360"><h2>Descrição</h2><p>Returns the 2-dimensional shortest line between two geometries. The line returned starts in <code class="varname">geom1</code> and ends in <code class="varname">geom2</code>. If <code class="varname">geom1</code> and <code class="varname">geom2</code> intersect the result is a line with start and end at an intersection point. The length of the line is the same as <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a> returns for g1 and g2. </p><p class="enhanced">Enhanced: 3.4.0 - support for geography.</p><p class="availability">Disponibilidade: 1.5.0</p></div><div class="refsection" id="idm15370"><h2>Exemplos</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_shortestline01.png"/><div class="caption"><p>Shortest line between Point and LineString</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText(  ST_ShortestLine(
        'POINT (160 40)',
        'LINESTRING (10 30, 50 50, 30 110, 70 90, 180 140, 130 190)')
        ) As sline;
---------------------------------------------------------
 LINESTRING(160 40,125.75342465753425 115.34246575342466)
</pre><p>
		</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_shortestline02.png"/><div class="caption"><p>Shortest line between Polygons</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText( ST_ShortestLine(
         'POLYGON ((190 150, 20 10, 160 70, 190 150))',
         ST_Buffer('POINT(80 160)', 30)
              ) ) AS llinewkt;
-----------------
LINESTRING(131.59149149528952 101.89887534906197,101.21320343559644 138.78679656440357)
</pre><p>
		</p></div><div class="refsection" id="idm15388"><h2>Veja também</h2><p><a class="xref" href="#ST_ClosestPoint" title="ST_ClosestPoint">ST_ClosestPoint</a>, <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a>, <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>, <a class="xref" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a></p></div></div><div class="refentry" id="ST_3DShortestLine"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DShortestLine — Retorna a menor linha 3-dimensional  entre duas geometrias</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DShortestLine</strong>(</code>geometry  <var class="pdparam">g1</var>, geometry  <var class="pdparam">g2</var><code>)</code>;</p></div></div><div class="refsection" id="idm15410"><h2>Descrição</h2><p>Retorna a menor linha 3-dimensional entre duas geometrias, a função só irá retornar a primeira linha menor se houverem mais de um, este a função encontra. Se g1 e g2 intersecta em apenas um ponto, a função retornará uma linha com os pontos de interseção da direita e esquerda. Se g1 e g2 estão intersectando em mais de um ponto, a função retornará uma linha com começo e fim no mesmo ponto, mas também pode ser qualquer um dos outros pontos. A linha que retorna sempre começará com g2 e acabará em g2. O comprimento 3D da linha, os retornos desta função serão sempre os mesmos dos retornos para g1 e g2 <a class="xref" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a>. </p><p class="availability">Disponibilidade: 2.0.0</p><p class="changed">Alterações: 2.2.0 - se 2 geometrias 2D são entradas, um ponto 2D retorna (em vez do antigo comportamento assumindo 0 para Z perdido). Em caso de 2D e 3D, o Z não é mais 0 para Z perdido. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p></div><div class="refsection" id="idm15424"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td style="border-bottom: 1px solid ; "><p>linestring e ponto -- linhas 3d e 2d mais curtas </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DShortestLine(line,pt)) AS shl3d_line_pt,
                ST_AsEWKT(ST_ShortestLine(line,pt)) As shl2d_line_pt
        FROM (SELECT 'POINT(100 100 30)'::geometry As pt,
                        'LINESTRING (20 80 20, 98 190 1, 110 180 3, 50 75 1000)'::geometry As line
                ) As foo;


 shl3d_line_pt                                                                 |               shl2d_line_pt
----------------------------------------------------------------------------+------------------------------------------------------
 LINESTRING(54.6993798867619 128.935022917228 11.5475869506606,100 100 30)  | LINESTRING(73.0769230769231 115.384615384615,100 100)
                                        </pre><p>
							  </p></td></tr><tr><td style="border-bottom: 1px solid ; "><p>linestring e multiponto -- linhas 3d e 2d mais curtas </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DShortestLine(line,pt)) AS shl3d_line_pt,
                ST_AsEWKT(ST_ShortestLine(line,pt)) As shl2d_line_pt
        FROM (SELECT 'MULTIPOINT(100 100 30, 50 74 1000)'::geometry As pt,
                        'LINESTRING (20 80 20, 98 190 1, 110 180 3, 50 75 900)'::geometry As line
                ) As foo;


                       shl3d_line_pt                                       | shl2d_line_pt
---------------------------------------------------------------------------+------------------------
 LINESTRING(54.6993798867619 128.935022917228 11.5475869506606,100 100 30) | LINESTRING(50 75,50 74)
                                        </pre><p>
							  </p></td></tr><tr><td><p>Multilinestring e polígono linhas 3d e 2d mais curtas </p><pre class="programlisting">SELECT ST_AsEWKT(ST_3DShortestLine(poly, mline)) As shl3d,
    ST_AsEWKT(ST_ShortestLine(poly, mline)) As shl2d
        FROM (SELECT  ST_GeomFromEWKT('POLYGON((175 150 5, 20 40 5, 35 45 5, 50 60 5, 100 100 5, 175 150 5))') As poly,
                ST_GeomFromEWKT('MULTILINESTRING((175 155 2, 20 40 20, 50 60 -2, 125 100 1, 175 155 1),
                (1 10 2, 5 20 1))') As mline ) As foo;
                   shl3d                                                                           |     shl2d
---------------------------------------------------------------------------------------------------+------------------------
 LINESTRING(39.993580415989 54.1889925532825 5,40.4078575708294 53.6052383805529 5.03423778139177) | LINESTRING(20 40,20 40)
             </pre><p>
							  </p></td></tr></tbody></table></div></div><div class="refsection" id="idm15441"><h2>Veja também</h2><p><a class="xref" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a>, <a class="xref" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a>, <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>, <a class="xref" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a>, <a class="xref" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a></p></div></div></section><section class="section" id="Overlay_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.13. Overlay Functions</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions compute results arising from the overlay of two geometries. These are also known as point-set theoretic boolean operations. Some related functions are also provided. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_ClipByBox2D">ST_ClipByBox2D</a></span><span class="refpurpose"> — Computes the portion of a geometry falling within a rectangle.</span></li><li><span class="refentrytitle"><a href="#ST_Difference">ST_Difference</a></span><span class="refpurpose"> — Computes a geometry representing the part of geometry A that does not intersect geometry B.</span></li><li><span class="refentrytitle"><a href="#ST_Intersection">ST_Intersection</a></span><span class="refpurpose"> — Computes a geometry representing the shared portion of geometries A and B. </span></li><li><span class="refentrytitle"><a href="#ST_MemUnion">ST_MemUnion</a></span><span class="refpurpose"> — Aggregate function which unions geometries in a memory-efficent but slower way</span></li><li><span class="refentrytitle"><a href="#ST_Node">ST_Node</a></span><span class="refpurpose"> — Nodes a collection of lines. </span></li><li><span class="refentrytitle"><a href="#ST_Split">ST_Split</a></span><span class="refpurpose"> — Returns a collection of geometries created by splitting a geometry by another geometry.</span></li><li><span class="refentrytitle"><a href="#ST_Subdivide">ST_Subdivide</a></span><span class="refpurpose"> — Computes a rectilinear subdivision of a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_SymDifference">ST_SymDifference</a></span><span class="refpurpose"> — Computes a geometry representing the portions of geometries A and B that do not intersect.</span></li><li><span class="refentrytitle"><a href="#ST_UnaryUnion">ST_UnaryUnion</a></span><span class="refpurpose"> — Computes the union of the components of a single geometry.</span></li><li><span class="refentrytitle"><a href="#ST_Union">ST_Union</a></span><span class="refpurpose"> — Computes a geometry representing the point-set union of the input geometries.</span></li></ul></div><div class="refentry" id="ST_ClipByBox2D"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClipByBox2D — Computes the portion of a geometry falling within a rectangle.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ClipByBox2D</strong>(</code>geometry <var class="pdparam">geom</var>, box2d <var class="pdparam">box</var><code>)</code>;</p></div></div><div class="refsection" id="idm15469"><h2>Descrição</h2><p>Clips a geometry by a 2D box in a fast and tolerant but possibly invalid way. Topologically invalid input geometries do not result in exceptions being thrown. The output geometry is not guaranteed to be valid (in particular, self-intersections for a polygon may be introduced). </p><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 2.2.0</p></div><div class="refsection" id="idm15474"><h2>Exemplos</h2><pre class="programlisting">-- Rely on implicit cast from geometry to box2d for the second parameter
SELECT ST_ClipByBox2D(geom, ST_MakeEnvelope(0,0,10,10)) FROM mytab;
      </pre></div><div class="refsection" id="idm15477"><h2>Veja também</h2><p><a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>, <a class="xref" href="#ST_MakeBox2D" title="ST_MakeBox2D">ST_MakeBox2D</a>, <a class="xref" href="#ST_MakeEnvelope" title="ST_MakeEnvelope">ST_MakeEnvelope</a> </p></div></div><div class="refentry" id="ST_Difference"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Difference — Computes a geometry representing the part of geometry A that does not intersect geometry B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Difference</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var>, float8  <var class="pdparam">gridSize = -1</var><code>)</code>;</p></div></div><div class="refsection" id="idm15501"><h2>Descrição</h2><p>Returns a geometry representing the part of geometry A that does not intersect geometry B. This is equivalent to <code class="code">A - ST_Intersection(A,B)</code>. If A is completely contained in B then an empty atomic geometry of appropriate type is returned.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This is the only overlay function where input order matters. ST_Difference(A, B) always returns a portion of A.</p></td></tr></table></div><p>If the optional <code class="code">gridSize</code> argument is provided, the inputs are snapped to a grid of the given size, and the result vertices are computed on that same grid. (Requires GEOS-3.9.0 or higher) </p><p>Desempenhado pelo módulo GEOS</p><p class="enhanced">Enhanced: 3.1.0 accept a gridSize parameter.</p><p class="geos_requirement">Requires GEOS &gt;= 3.9.0 to use the gridSize parameter.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.20</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index.  However, the result is computed using XY only. The result Z values are copied, averaged or interpolated.</p></div><div class="refsection" id="idm15525"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                        <p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_symdifference01.png"/><div class="caption"><p>The input linestrings </p></div></div></div><p>
                        </p>
                    </td><td>
                        <div class="informalfigure"><div class="mediaobject"><img src="images/st_difference01.png"/><div class="caption"><p>The difference of the two linestrings</p></div></div></div><p>
                    </p>
                </td></tr></tbody></table></div><p>The difference of 2D linestrings.</p><pre class="programlisting">SELECT ST_AsText(
    ST_Difference(
            'LINESTRING(50 100, 50 200)'::geometry,
            'LINESTRING(50 50, 50 150)'::geometry
        )
    );

st_astext
---------
LINESTRING(50 150,50 200)
</pre><p>The difference of 3D points.</p><pre class="programlisting">SELECT ST_AsEWKT( ST_Difference(
                   'MULTIPOINT(-118.58 38.38 5,-118.60 38.329 6,-118.614 38.281 7)' :: geometry,
                   'POINT(-118.614 38.281 5)' :: geometry
                  ) );

st_asewkt
---------
MULTIPOINT(-118.6 38.329 6,-118.58 38.38 5)
</pre></div><div class="refsection" id="idm15551"><h2>Veja também</h2><p><a class="xref" href="#ST_SymDifference" title="ST_SymDifference">ST_SymDifference</a>, <a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a></p></div></div><div class="refentry" id="ST_Intersection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Intersection — Computes a geometry representing the shared portion of geometries A and B. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Intersection</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> ,  float8 <var class="pdparam">gridSize = -1</var> <code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_Intersection</strong>(</code> geography <var class="pdparam">geogA</var> ,  geography <var class="pdparam">geogB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm15584"><h2>Descrição</h2><p>Returns a geometry representing the point-set intersection of two geometries. In other words, that portion of geometry A and geometry B that is shared between the two geometries.</p><p>If the geometries have no points in common (i.e. are disjoint) then an empty atomic geometry of appropriate type is returned.</p><p>If the optional <code class="code">gridSize</code> argument is provided, the inputs are snapped to a grid of the given size, and the result vertices are computed on that same grid. (Requires GEOS-3.9.0 or higher) </p><p>ST_Intersection in conjunction with <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> is useful for clipping geometries such as in bounding box, buffer, or region queries where you only require the portion of a geometry that is inside a country or region of interest.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>
            <span class="inlinemediaobject"><img src="images/matrix_transform.png"/></span> For geography this is a thin wrapper around the geometry implementation.  It first determines the best SRID that fits the bounding box of the 2 geography objects (if geography objects are within one half zone UTM but not same UTM will pick one of those) (favoring UTM or Lambert Azimuthal Equal Area (LAEA) north/south pole, and falling back on mercator in worst case scenario) and then intersection in that best fit planar spatial ref and retransforms back to WGS84 geography.</p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function will drop the M coordinate values if present.</p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If working with 3D geometries, you may want to use SFGCAL based <a class="xref" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a> which does a proper 3D intersection for 3D geometries. Although this function works with Z-coordinate, it does an averaging of Z-Coordinate.</p></td></tr></table></div><p>Desempenhado pelo módulo GEOS</p><p class="enhanced">Enhanced: 3.1.0 accept a gridSize parameter</p><p class="geos_requirement">Requires GEOS &gt;= 3.9.0 to use the gridSize parameter</p><p class="changed">Changed: 3.0.0 does not depend on SFCGAL.</p><p class="availability">Availability: 1.5 support for geography data type was introduced.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.18</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index.  However, the result is computed using XY only. The result Z values are copied, averaged or interpolated.</p></div><div class="refsection" id="idm15620"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_Intersection('POINT(0 0)'::geometry, 'LINESTRING ( 2 0, 0 2 )'::geometry));
 st_astext
---------------
GEOMETRYCOLLECTION EMPTY

SELECT ST_AsText(ST_Intersection('POINT(0 0)'::geometry, 'LINESTRING ( 0 0, 0 2 )'::geometry));
 st_astext
---------------
POINT(0 0)</pre><p>Clip all lines (trails) by country. Here we assume country geom are POLYGON or MULTIPOLYGONS. NOTE: we are only keeping intersections that result in a LINESTRING or MULTILINESTRING because we don't care about trails that just share a point. The dump is needed to expand a geometry collection into individual single MULT* parts. The below is fairly generic and will work for polys, etc. by just changing the where clause.</p><pre class="programlisting">select clipped.gid, clipped.f_name, clipped_geom
from (
         select trails.gid, trails.f_name,
             (ST_Dump(ST_Intersection(country.geom, trails.geom))).geom clipped_geom
         from country
              inner join trails on ST_Intersects(country.geom, trails.geom)
     ) as clipped
where ST_Dimension(clipped.clipped_geom) = 1;</pre><p>For polys e.g. polygon landmarks, you can also use the sometimes faster hack that buffering anything by 0.0 except a polygon results in an empty geometry collection. (So a geometry collection containing polys, lines and points buffered by 0.0 would only leave the polygons and dissolve the collection shell.)</p><pre class="programlisting">select poly.gid,
    ST_Multi(
        ST_Buffer(
            ST_Intersection(country.geom, poly.geom),
            0.0
        )
    ) clipped_geom
from country
     inner join poly on ST_Intersects(country.geom, poly.geom)
where not ST_IsEmpty(ST_Buffer(ST_Intersection(country.geom, poly.geom), 0.0));</pre></div><div class="refsection" id="idm15627"><h2>Examples: 2.5Dish</h2><p>Note this is not a true intersection, compare to the same example using <a class="xref" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a>.</p><pre class="programlisting">select ST_AsText(ST_Intersection(linestring, polygon)) As wkt
from  ST_GeomFromText('LINESTRING Z (2 2 6,1.5 1.5 7,1 1 8,0.5 0.5 8,0 0 10)') AS linestring
 CROSS JOIN ST_GeomFromText('POLYGON((0 0 8, 0 1 8, 1 1 8, 1 0 8, 0 0 8))') AS polygon;

               st_astext
---------------------------------------
 LINESTRING Z (1 1 8,0.5 0.5 8,0 0 10)
        </pre></div><div class="refsection" id="idm15632"><h2>Veja também</h2><p><a class="xref" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a>, <a class="xref" href="#ST_Difference" title="ST_Difference">ST_Difference</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a>, <a class="xref" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>, <a class="xref" href="#ST_SymDifference" title="ST_SymDifference">ST_SymDifference</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Multi" title="ST_Multi">ST_Multi</a></p></div></div><div class="refentry" id="ST_MemUnion"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MemUnion — Aggregate function which unions geometries in a memory-efficent but slower way</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MemUnion</strong>(</code>geometry set <var class="pdparam">geomfield</var><code>)</code>;</p></div></div><div class="refsection" id="idm15656"><h2>Descrição</h2><p>An aggregate function that unions the input geometries, merging them to produce a result geometry with no overlaps. The output may be a single geometry, a MultiGeometry, or a Geometry Collection. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Produces the same result as <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a>, but uses less memory and more processor time. This aggregate function works by unioning the geometries incrementally, as opposed to the ST_Union aggregate which first accumulates an array and then unions the contents using a fast algorithm.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index.  However, the result is computed using XY only. The result Z values are copied, averaged or interpolated.</p></div><div class="refsection" id="idm15666"><h2>Exemplos</h2><pre class="programlisting">SELECT id,
       ST_MemUnion(geom) as singlegeom
FROM sometable f
GROUP BY id;
</pre></div><div class="refsection" id="idm15669"><h2>Veja também</h2><p><a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a></p></div></div><div class="refentry" id="ST_Node"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Node — Nodes a collection of lines. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Node</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm15685"><h2>Descrição</h2><p>Returns a (Multi)LineString representing the fully noded version of a collection of linestrings. The noding preserves all of the input nodes, and introduces the least possible number of new nodes. The resulting linework is dissolved (duplicate lines are removed). </p><p>This is a good way to create fully-noded linework suitable for use as input to <a class="xref" href="#ST_Polygonize" title="ST_Polygonize">ST_Polygonize</a>.</p><p><a class="xref" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a> can also be used to node and dissolve linework. It provides an option to specify a gridSize, which can provide simpler and more robust output. See also <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a> for an aggregate variant. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 2.0.0</p><p class="changed">Changed: 2.4.0 this function uses GEOSNode internally instead of GEOSUnaryUnion. This may cause the resulting linestrings to have a different order and direction compared to PostGIS &lt; 2.4. </p></div><div class="refsection" id="idm15700"><h2>Exemplos</h2><p>Noding a 3D LineString which self-intersects</p><pre class="programlisting">SELECT ST_AsText(
        ST_Node('LINESTRINGZ(0 0 0, 10 10 10, 0 10 5, 10 0 3)'::geometry)
    ) As  output;
output
-----------
MULTILINESTRING Z ((0 0 0,5 5 4.5),(5 5 4.5,10 10 10,0 10 5,5 5 4.5),(5 5 4.5,10 0 3))
        </pre><p>Noding two LineStrings which share common linework. Note that the result linework is dissolved.</p><pre class="programlisting">SELECT ST_AsText(
        ST_Node('MULTILINESTRING ((2 5, 2 1, 7 1), (6 1, 4 1, 2 3, 2 5))'::geometry)
    ) As  output;
output
-----------
MULTILINESTRING((2 5,2 3),(2 3,2 1,4 1),(4 1,2 3),(4 1,6 1),(6 1,7 1))
        </pre></div><div class="refsection" id="idm15706"><h2>Veja também</h2><p><a class="xref" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a> </p></div></div><div class="refentry" id="ST_Split"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Split — Returns a collection of geometries created by splitting a geometry by another geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Split</strong>(</code>geometry <var class="pdparam">input</var>, geometry <var class="pdparam">blade</var><code>)</code>;</p></div></div><div class="refsection" id="idm15726"><h2>Descrição</h2><p>The function supports splitting a LineString by a (Multi)Point, (Multi)LineString or (Multi)Polygon boundary, or a (Multi)Polygon by a LineString. When a (Multi)Polygon is used as as the blade, its linear components (the boundary) are used for splitting the input. The result geometry is always a collection. </p><p>This function is in a sense the opposite of <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a>. Applying ST_Union to the returned collection should theoretically yield the original geometry (although due to numerical rounding this may not be exactly the case). </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If the the input and blade do not intersect due to numerical precision issues, the input may not be split as expected. To avoid this situation it may be necessary to snap the input to the blade first, using <a class="xref" href="#ST_Snap" title="ST_Snap">ST_Snap</a> with a small tolerance. </p></td></tr></table></div><p class="availability">Availability: 2.0.0 requires GEOS</p><p class="enhanced">Enhanced: 2.2.0 support for splitting a line by a multiline, a multipoint or (multi)polygon boundary was introduced.</p><p class="enhanced">Enhanced: 2.5.0 support for splitting a polygon by a multiline was introduced.</p></div><div class="refsection" id="idm15737"><h2>Exemplos</h2><p>Split a Polygon by a Line.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                               <p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_split01.png"/><div class="caption"><p>Before Split</p></div></div></div><p>
                                               </p>
                        </td><td>
                                               <p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_split02.png"/><div class="caption"><p>After split</p></div></div></div><p>
                                              </p>
                        </td></tr></tbody></table></div><pre class="programlisting">SELECT ST_AsText( ST_Split(
                ST_Buffer(ST_GeomFromText('POINT(100 90)'), 50), -- circle
                ST_MakeLine(ST_Point(10, 10),ST_Point(190, 190)) -- line
    ));

-- result --
 GEOMETRYCOLLECTION(
            POLYGON((150 90,149.039264020162 80.2454838991936,146.193976625564 70.8658283817455,..),
            POLYGON(..))
)
            </pre><p>Split a MultiLineString by a Point, where the point lies exactly on both LineStrings elements.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                               <p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_split03.png"/><div class="caption"><p>Before Split</p></div></div></div><p>
                                               </p>
                        </td><td>
                                               <p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_split04.png"/><div class="caption"><p>After split</p></div></div></div><p>
                                               </p>
                        </td></tr></tbody></table></div><pre class="programlisting">SELECT ST_AsText(ST_Split(
    'MULTILINESTRING((10 10, 190 190), (15 15, 30 30, 100 90))',
    ST_Point(30,30))) As split;

split
------
GEOMETRYCOLLECTION(
    LINESTRING(10 10,30 30),
    LINESTRING(30 30,190 190),
    LINESTRING(15 15,30 30),
    LINESTRING(30 30,100 90)
)
            </pre><p>Split a LineString by a Point, where the point does not lie exactly on the line. Shows using <a class="xref" href="#ST_Snap" title="ST_Snap">ST_Snap</a> to snap the line to the point to allow it to be split. </p><pre class="programlisting">WITH data AS (SELECT
  'LINESTRING(0 0, 100 100)'::geometry AS line,
  'POINT(51 50)':: geometry AS point
)
SELECT ST_AsText( ST_Split( ST_Snap(line, point, 1), point)) AS snapped_split,
       ST_AsText( ST_Split(line, point)) AS not_snapped_not_split
       FROM data;

                            snapped_split                            |            not_snapped_not_split
---------------------------------------------------------------------+---------------------------------------------
 GEOMETRYCOLLECTION(LINESTRING(0 0,51 50),LINESTRING(51 50,100 100)) | GEOMETRYCOLLECTION(LINESTRING(0 0,100 100))
</pre></div><div class="refsection" id="idm15786"><h2>Veja também</h2><p><a class="xref" href="#ST_Snap" title="ST_Snap">ST_Snap</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a> </p></div></div><div class="refentry" id="ST_Subdivide"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Subdivide — Computes a rectilinear subdivision of a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof geometry <strong class="fsfunc">ST_Subdivide</strong>(</code>geometry <var class="pdparam">geom</var>, integer <var class="pdparam">max_vertices=256</var>, float8 <var class="pdparam">gridSize = -1</var><code>)</code>;</p></div></div><div class="refsection" id="idm15809"><h2>Descrição</h2><p>Returns a set of geometries that are the result of dividing <code class="varname">geom</code> into parts using rectilinear lines, with each part containing no more than <code class="code">max_vertices</code>. </p><p><code class="code">max_vertices</code> must be 5 or more, as 5 points are needed to represent a closed box. <code class="code">gridSize</code> can be specified to have clipping work in fixed-precision space (requires GEOS-3.9.0+). </p><p>Point-in-polygon and other spatial operations are normally faster for indexed subdivided datasets. Since the bounding boxes for the parts usually cover a smaller area than the original geometry bbox, index queries produce fewer "hit" cases. The "hit" cases are faster because the spatial operations executed by the index recheck process fewer points. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This is a <a class="link" href="https://www.postgresql.org/docs/current/queries-table-expressions.html#QUERIES-TABLEFUNCTIONS" target="_top">set-returning function</a> (SRF) that return a set of rows containing single geometry values. It can be used in a SELECT list or a FROM clause to produce a result set with one record for each result geometry. </p></td></tr></table></div><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 2.2.0</p><p class="enhanced">Enhanced: 2.5.0 reuses existing points on polygon split, vertex count is lowered from 8 to 5.</p><p class="enhanced">Enhanced: 3.1.0 accept a gridSize parameter.</p><p class="geos_requirement">Requires GEOS &gt;= 3.9.0 to use the gridSize parameter</p></div><div class="refsection" id="idm15826"><h2>Exemplos</h2><p><span class="bold"><strong>Example:</strong></span> Subdivide a polygon into parts with no more than 10 vertices, and assign each part a unique id. </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_subdivide01.png"/><div class="caption"><p>Subdivided to maximum 10 vertices</p></div></div></div><pre class="programlisting">SELECT row_number() OVER() As rn, ST_AsText(geom) As wkt
    FROM (SELECT ST_SubDivide(
        'POLYGON((132 10,119 23,85 35,68 29,66 28,49 42,32 56,22 64,32 110,40 119,36 150,
        57 158,75 171,92 182,114 184,132 186,146 178,176 184,179 162,184 141,190 122,
        190 100,185 79,186 56,186 52,178 34,168 18,147 13,132 10))'::geometry,10))  AS f(geom);
</pre><pre class="screen">rn │                                                      wkt
────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────────
  1 │ POLYGON((119 23,85 35,68 29,66 28,32 56,22 64,29.8260869565217 100,119 100,119 23))
  2 │ POLYGON((132 10,119 23,119 56,186 56,186 52,178 34,168 18,147 13,132 10))
  3 │ POLYGON((119 56,119 100,190 100,185 79,186 56,119 56))
  4 │ POLYGON((29.8260869565217 100,32 110,40 119,36 150,57 158,75 171,92 182,114 184,114 100,29.8260869565217 100))
  5 │ POLYGON((114 184,132 186,146 178,176 184,179 162,184 141,190 122,190 100,114 100,114 184))
  </pre><p><span class="bold"><strong>Example:</strong></span> Densify a long geography line using ST_Segmentize(geography, distance), and use ST_Subdivide to split the resulting line into sublines of 8 vertices. </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_subdivide02.png"/><div class="caption"><p>The densified and split lines.</p></div></div></div><pre class="programlisting">SELECT ST_AsText( ST_Subdivide(
            ST_Segmentize('LINESTRING(0 0, 85 85)'::geography,
                          1200000)::geometry,    8));
</pre><pre class="screen">LINESTRING(0 0,0.487578359029357 5.57659056746196,0.984542144675897 11.1527721155093,1.50101059639722 16.7281035483571,1.94532113630331 21.25)
LINESTRING(1.94532113630331 21.25,2.04869538062779 22.3020741387339,2.64204641967673 27.8740533545155,3.29994062412787 33.443216802941,4.04836719489742 39.0084282520239,4.59890468420694 42.5)
LINESTRING(4.59890468420694 42.5,4.92498503922732 44.5680389206321,5.98737409390639 50.1195229244701,7.3290919767674 55.6587646879025,8.79638749938413 60.1969505994924)
LINESTRING(8.79638749938413 60.1969505994924,9.11375579533779 61.1785363177625,11.6558166691368 66.6648504160202,15.642041247655 72.0867690601745,22.8716627200212 77.3609628116894,24.6991785131552 77.8939011989848)
LINESTRING(24.6991785131552 77.8939011989848,39.4046096622744 82.1822848017636,44.7994523421035 82.5156766227011)
LINESTRING(44.7994523421035 82.5156766227011,85 85)
</pre><p><span class="bold"><strong>Example:</strong></span> Subdivide the complex geometries of a table in-place. The original geometry records are deleted from the source table, and new records for each subdivided result geometry are inserted. </p><pre class="programlisting">

WITH complex_areas_to_subdivide AS (
    DELETE from polygons_table
    WHERE ST_NPoints(geom) 
&gt; 255
    RETURNING id, column1, column2, column3, geom
)
INSERT INTO polygons_table (fid, column1, column2, column3, geom)
    SELECT fid, column1, column2, column3,
           ST_Subdivide(geom, 255) as geom
    FROM complex_areas_to_subdivide;

</pre><p><span class="bold"><strong>Example:</strong></span> Create a new table containing subdivided geometries, retaining the key of the original geometry so that the new table can be joined to the source table. Since ST_Subdivide is a set-returning (table) function that returns a set of single-value rows, this syntax automatically produces a table with one row for each result part. </p><pre class="programlisting">CREATE TABLE subdivided_geoms AS
    SELECT pkey, ST_Subdivide(geom) AS geom
    FROM original_geoms;
</pre></div><div class="refsection" id="idm15854"><h2>Veja também</h2><p><a class="xref" href="#ST_ClipByBox2D" title="ST_ClipByBox2D">ST_ClipByBox2D</a>, <a class="xref" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a>, <a class="xref" href="#ST_Split" title="ST_Split">ST_Split</a>, <a class="xref" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a> </p></div></div><div class="refentry" id="ST_SymDifference"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SymDifference — Computes a geometry representing the portions of geometries A and B that do not intersect.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SymDifference</strong>(</code>geometry  <var class="pdparam">geomA</var>, geometry  <var class="pdparam">geomB</var>, float8  <var class="pdparam">gridSize = -1</var><code>)</code>;</p></div></div><div class="refsection" id="idm15879"><h2>Descrição</h2><p>Returns a geometry representing the portions of geonetries A and B that do not intersect. This is equivalent to <code class="code">ST_Union(A,B) - ST_Intersection(A,B)</code>. It is called a symmetric difference because <code class="code">ST_SymDifference(A,B) = ST_SymDifference(B,A)</code>. </p><p>If the optional <code class="code">gridSize</code> argument is provided, the inputs are snapped to a grid of the given size, and the result vertices are computed on that same grid. (Requires GEOS-3.9.0 or higher) </p><p>Desempenhado pelo módulo GEOS</p><p class="enhanced">Enhanced: 3.1.0 accept a gridSize parameter.</p><p class="geos_requirement">Requires GEOS &gt;= 3.9.0 to use the gridSize parameter</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.21</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index.  However, the result is computed using XY only. The result Z values are copied, averaged or interpolated.</p></div><div class="refsection" id="idm15902"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                        <p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_symdifference01.png"/><div class="caption"><p>The original linestrings shown together</p></div></div></div><p>
                        </p>
                    </td><td>
                        <div class="informalfigure"><div class="mediaobject"><img src="images/st_symdifference02.png"/><div class="caption"><p>The symmetric difference of the two linestrings</p></div></div></div><p>
                    </p>
                </td></tr></tbody></table></div><pre class="programlisting">--Safe for 2d - symmetric difference of 2 linestrings
SELECT ST_AsText(
    ST_SymDifference(
        ST_GeomFromText('LINESTRING(50 100, 50 200)'),
        ST_GeomFromText('LINESTRING(50 50, 50 150)')
    )
);

st_astext
---------
MULTILINESTRING((50 150,50 200),(50 50,50 100))
</pre><pre class="programlisting">--When used in 3d doesn't quite do the right thing
SELECT ST_AsEWKT(ST_SymDifference(ST_GeomFromEWKT('LINESTRING(1 2 1, 1 4 2)'),
    ST_GeomFromEWKT('LINESTRING(1 1 3, 1 3 4)')))

st_astext
------------
MULTILINESTRING((1 3 2.75,1 4 2),(1 1 3,1 2 2.25))
        </pre></div><div class="refsection" id="idm15926"><h2>Veja também</h2><p><a class="xref" href="#ST_Difference" title="ST_Difference">ST_Difference</a>, <a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a></p></div></div><div class="refentry" id="ST_UnaryUnion"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_UnaryUnion — Computes the union of the components of a single geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_UnaryUnion</strong>(</code>geometry  <var class="pdparam">geom</var>, float8  <var class="pdparam">gridSize = -1</var><code>)</code>;</p></div></div><div class="refsection" id="idm15947"><h2>Descrição</h2><p>A single-input variant of <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a>. The input may be a single geometry, a MultiGeometry, or a GeometryCollection. The union is applied to the individual elements of the input. </p><p>This function can be used to fix MultiPolygons which are invalid due to overlapping components. However, the input components must each be valid. An invalid input component such as a bow-tie polygon may cause an error. For this reason it may be better to use <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a>. </p><p>Another use of this function is to node and dissolve a collection of linestrings which cross or overlap to make them <a class="link" href="#Simple_Geometry" title="4.4.1. Simple Geometry">simple</a>. (<a class="xref" href="#ST_Node" title="ST_Node">ST_Node</a> also does this, but it does not provide the <code class="code">gridSize</code> option.) </p><p>It is possible to combine ST_UnaryUnion with <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a> to fine-tune how many geometries are be unioned at once. This allows trading off between memory usage and compute time, striking a balance between ST_Union and <a class="xref" href="#ST_MemUnion" title="ST_MemUnion">ST_MemUnion</a>. </p><p>If the optional <code class="code">gridSize</code> argument is provided, the inputs are snapped to a grid of the given size, and the result vertices are computed on that same grid. (Requires GEOS-3.9.0 or higher) </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index.  However, the result is computed using XY only. The result Z values are copied, averaged or interpolated.</p><p class="enhanced">Enhanced: 3.1.0 accept a gridSize parameter.</p><p class="geos_requirement">Requires GEOS &gt;= 3.9.0 to use the gridSize parameter</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm15969"><h2>Veja também</h2><p><a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a>, <a class="xref" href="#ST_MemUnion" title="ST_MemUnion">ST_MemUnion</a>, <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a>, <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_Node" title="ST_Node">ST_Node</a> </p></div></div><div class="refentry" id="ST_Union"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Union — Computes a geometry representing the point-set union of the input geometries.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Union</strong>(</code>geometry <var class="pdparam">g1</var>, geometry <var class="pdparam">g2</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Union</strong>(</code>geometry <var class="pdparam">g1</var>, geometry <var class="pdparam">g2</var>, float8 <var class="pdparam">gridSize</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Union</strong>(</code>geometry[] <var class="pdparam">g1_array</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Union</strong>(</code>geometry set <var class="pdparam">g1field</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Union</strong>(</code>geometry set <var class="pdparam">g1field</var>, float8 <var class="pdparam">gridSize</var><code>)</code>;</p></div></div><div class="refsection" id="idm16025"><h2>Descrição</h2><p>Unions the input geometries, merging geometry to produce a result geometry with no overlaps. The output may be an atomic geometry, a MultiGeometry, or a Geometry Collection. Comes in several variants:</p><p><span class="bold"><strong>Two-input variant:</strong></span> returns a geometry that is the union of two input geometries. If either input is NULL, then NULL is returned. </p><p><span class="bold"><strong>Array variant:</strong></span> returns a geometry that is the union of an array of geometries. </p><p><span class="bold"><strong>Aggregate variant:</strong></span> returns a geometry that is the union of a rowset of geometries. The ST_Union() function is an "aggregate" function in the terminology of PostgreSQL. That means that it operates on rows of data, in the same way the SUM() and AVG() functions do and like most aggregates, it also ignores NULL geometries.</p><p>See <a class="xref" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a> for a non-aggregate, single-input variant.</p><p>The ST_Union array and set variants use the fast Cascaded Union algorithm described in <a class="link" href="http://blog.cleverelephant.ca/2009/01/must-faster-unions-in-postgis-14.html" target="_top">http://blog.cleverelephant.ca/2009/01/must-faster-unions-in-postgis-14.html</a> </p><p>A <code class="code">gridSize</code> can be specified to work in fixed-precision space. The inputs are snapped to a grid of the given size, and the result vertices are computed on that same grid. (Requires GEOS-3.9.0 or higher) </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a> may sometimes be used in place of ST_Union, if the result is not required to be non-overlapping. ST_Collect is usually faster than ST_Union because it performs no processing on the collected geometries. </p></td></tr></table></div><p>Desempenhado pelo módulo GEOS.</p><p>ST_Union creates MultiLineString and does not sew LineStrings into a single LineString. Use <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a> to sew LineStrings.</p><p>NOTE: this function was formerly called GeomUnion(), which was renamed from "Union" because UNION is an SQL reserved word.</p><p class="enhanced">Enhanced: 3.1.0 accept a gridSize parameter.</p><p class="geos_requirement">Requires GEOS &gt;= 3.9.0 to use the gridSize parameter</p><p class="changed">Changed: 3.0.0 does not depend on SFCGAL.</p><p class="availability">Availability: 1.4.0 - ST_Union was enhanced. ST_Union(geomarray) was introduced and also faster aggregate collection in PostgreSQL.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.3</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Aggregate version is not explicitly defined in OGC SPEC.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 5.1.19 the z-index (elevation) when polygons are involved.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index.  However, the result is computed using XY only. The result Z values are copied, averaged or interpolated.</p></div><div class="refsection" id="idm16066"><h2>Exemplos</h2><p>Aggregate example</p><pre class="programlisting">SELECT id,
       ST_Union(geom) as singlegeom
FROM sometable f
GROUP BY id;
              </pre><p>Non-Aggregate example</p><pre class="programlisting">select ST_AsText(ST_Union('POINT(1 2)' :: geometry, 'POINT(-2 3)' :: geometry))

st_astext
----------
MULTIPOINT(-2 3,1 2)

select ST_AsText(ST_Union('POINT(1 2)' :: geometry, 'POINT(1 2)' :: geometry))

st_astext
----------
POINT(1 2)</pre><p>3D example - sort of supports 3D (and with mixed dimensions!)</p><pre class="programlisting">select ST_AsEWKT(ST_Union(geom))
from (
         select 'POLYGON((-7 4.2,-7.1 4.2,-7.1 4.3, -7 4.2))'::geometry geom
         union all
         select 'POINT(5 5 5)'::geometry geom
         union all
         select 'POINT(-2 3 1)'::geometry geom
         union all
         select 'LINESTRING(5 5 5, 10 10 10)'::geometry geom
     ) as foo;

st_asewkt
---------
GEOMETRYCOLLECTION(POINT(-2 3 1),LINESTRING(5 5 5,10 10 10),POLYGON((-7 4.2 5,-7.1 4.2 5,-7.1 4.3 5,-7 4.2 5)));
</pre><p>3d example not mixing dimensions</p><pre class="programlisting">select ST_AsEWKT(ST_Union(geom))
from (
         select 'POLYGON((-7 4.2 2,-7.1 4.2 3,-7.1 4.3 2, -7 4.2 2))'::geometry geom
         union all
         select 'POINT(5 5 5)'::geometry geom
         union all
         select 'POINT(-2 3 1)'::geometry geom
         union all
         select 'LINESTRING(5 5 5, 10 10 10)'::geometry geom
     ) as foo;

st_asewkt
---------
GEOMETRYCOLLECTION(POINT(-2 3 1),LINESTRING(5 5 5,10 10 10),POLYGON((-7 4.2 2,-7.1 4.2 3,-7.1 4.3 2,-7 4.2 2)))

--Examples using new Array construct
SELECT ST_Union(ARRAY(SELECT geom FROM sometable));

SELECT ST_AsText(ST_Union(ARRAY[ST_GeomFromText('LINESTRING(1 2, 3 4)'),
            ST_GeomFromText('LINESTRING(3 4, 4 5)')])) As wktunion;

--wktunion---
MULTILINESTRING((3 4,4 5),(1 2,3 4))

              </pre></div><div class="refsection" id="idm16076"><h2>Veja também</h2><p><a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a>, <a class="xref" href="#ST_MemUnion" title="ST_MemUnion">ST_MemUnion</a>, <a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>, <a class="xref" href="#ST_Difference" title="ST_Difference">ST_Difference</a>, <a class="xref" href="#ST_SymDifference" title="ST_SymDifference">ST_SymDifference</a> </p></div></div></section><section class="section" id="Geometry_Processing"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.14. Processamento de Geometria</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions compute geometric constructions, or alter geometry size or shape. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_Buffer">ST_Buffer</a></span><span class="refpurpose"> — Computes a geometry covering all points within a given distance from a geometry. </span></li><li><span class="refentrytitle"><a href="#ST_BuildArea">ST_BuildArea</a></span><span class="refpurpose"> — Creates a polygonal geometry formed by the linework of a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_Centroid">ST_Centroid</a></span><span class="refpurpose"> — Retorna o centro geométrico de uma geometria. </span></li><li><span class="refentrytitle"><a href="#ST_ChaikinSmoothing">ST_ChaikinSmoothing</a></span><span class="refpurpose"> — Returns a smoothed version of a geometry, using the Chaikin algorithm</span></li><li><span class="refentrytitle"><a href="#ST_ConcaveHull">ST_ConcaveHull</a></span><span class="refpurpose"> — Computes a possibly concave geometry that contains all input geometry vertices</span></li><li><span class="refentrytitle"><a href="#ST_ConvexHull">ST_ConvexHull</a></span><span class="refpurpose"> — Computes the convex hull of a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_DelaunayTriangles">ST_DelaunayTriangles</a></span><span class="refpurpose"> — Returns the Delaunay triangulation of the vertices of a geometry. </span></li><li><span class="refentrytitle"><a href="#ST_FilterByM">ST_FilterByM</a></span><span class="refpurpose"> — Removes vertices based on their M value</span></li><li><span class="refentrytitle"><a href="#ST_GeneratePoints">ST_GeneratePoints</a></span><span class="refpurpose"> — Generates a multipoint of random points contained in a Polygon or MultiPolygon.</span></li><li><span class="refentrytitle"><a href="#ST_GeometricMedian">ST_GeometricMedian </a></span><span class="refpurpose"> — Retorna a mediana de um MultiPonto.  </span></li><li><span class="refentrytitle"><a href="#ST_LineMerge">ST_LineMerge</a></span><span class="refpurpose"> — Return the lines formed by sewing together a MultiLineString.</span></li><li><span class="refentrytitle"><a href="#ST_MaximumInscribedCircle">ST_MaximumInscribedCircle</a></span><span class="refpurpose"> — Retorna o centro geométrico de uma geometria. </span></li><li><span class="refentrytitle"><a href="#ST_LargestEmptyCircle">ST_LargestEmptyCircle</a></span><span class="refpurpose"> — Computes the largest circle not overlapping a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a></span><span class="refpurpose"> — Returns the smallest circle polygon that contains a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_MinimumBoundingRadius">ST_MinimumBoundingRadius</a></span><span class="refpurpose"> — Returns the center point and radius of the smallest circle that contains a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_OrientedEnvelope">ST_OrientedEnvelope</a></span><span class="refpurpose"> — Returns a minimum-area rectangle containing a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_OffsetCurve">ST_OffsetCurve</a></span><span class="refpurpose"> — Returns an offset line at a given distance and side from an input line. </span></li><li><span class="refentrytitle"><a href="#ST_PointOnSurface">ST_PointOnSurface</a></span><span class="refpurpose"> — Computes a point guaranteed to lie in a polygon, or on a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_Polygonize">ST_Polygonize</a></span><span class="refpurpose"> — Computes a collection of polygons formed from the linework of a set of geometries. </span></li><li><span class="refentrytitle"><a href="#ST_ReducePrecision">ST_ReducePrecision</a></span><span class="refpurpose"> — Returns a valid geometry with points rounded to a grid tolerance.</span></li><li><span class="refentrytitle"><a href="#ST_SharedPaths">ST_SharedPaths</a></span><span class="refpurpose"> — Retorna uma coleção contendo caminhos compartilhados pelas duas linestrings/multilinestrings de entrada.</span></li><li><span class="refentrytitle"><a href="#ST_Simplify">ST_Simplify</a></span><span class="refpurpose"> — Returns a simplified representation of a geometry, using the Douglas-Peucker algorithm.</span></li><li><span class="refentrytitle"><a href="#ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a></span><span class="refpurpose"> — Returns a simplified and valid representation of a geometry, using the Douglas-Peucker algorithm.</span></li><li><span class="refentrytitle"><a href="#ST_SimplifyPolygonHull">ST_SimplifyPolygonHull</a></span><span class="refpurpose"> — Computes a simplifed topology-preserving outer or inner hull of a polygonal geometry.</span></li><li><span class="refentrytitle"><a href="#ST_SimplifyVW">ST_SimplifyVW</a></span><span class="refpurpose"> — Returns a simplified representation of a geometry, using the Visvalingam-Whyatt algorithm</span></li><li><span class="refentrytitle"><a href="#ST_SetEffectiveArea">ST_SetEffectiveArea</a></span><span class="refpurpose"> — Sets the effective area for each vertex, using the Visvalingam-Whyatt algorithm. </span></li><li><span class="refentrytitle"><a href="#ST_TriangulatePolygon">ST_TriangulatePolygon</a></span><span class="refpurpose"> — Computes the constrained Delaunay triangulation of polygons</span></li><li><span class="refentrytitle"><a href="#ST_VoronoiLines">ST_VoronoiLines</a></span><span class="refpurpose"> — Returns the boundaries of the Voronoi diagram of the vertices of a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_VoronoiPolygons">ST_VoronoiPolygons</a></span><span class="refpurpose"> — Returns the cells of the Voronoi diagram of the vertices of a geometry.</span></li></ul></div><div class="refentry" id="ST_Buffer"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Buffer — Computes a geometry covering all points within a given distance from a geometry. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Buffer</strong>(</code>geometry  <var class="pdparam">g1</var>, float  <var class="pdparam">radius_of_buffer</var>, text  <var class="pdparam">buffer_style_parameters = ''</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Buffer</strong>(</code>geometry  <var class="pdparam">g1</var>, float  <var class="pdparam">radius_of_buffer</var>, integer  <var class="pdparam">num_seg_quarter_circle</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_Buffer</strong>(</code>geography  <var class="pdparam">g1</var>, float  <var class="pdparam">radius_of_buffer</var>, text  <var class="pdparam">buffer_style_parameters</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_Buffer</strong>(</code>geography  <var class="pdparam">g1</var>, float  <var class="pdparam">radius_of_buffer</var>, integer  <var class="pdparam">num_seg_quarter_circle</var><code>)</code>;</p></div></div><div class="refsection" id="idm16144"><h2>Descrição</h2><p>Computes a POLYGON or MULTIPOLYGON that represents all points whose distance from a geometry/geography is less than or equal to a given distance. A negative distance shrinks the geometry rather than expanding it. A negative distance may shrink a polygon completely, in which case POLYGON EMPTY is returned. For points and lines negative distances always return empty results. </p><p>For geometry, the distance is specified in the units of the Spatial Reference System of the geometry. For geography, the distance is specified in meters.</p><p>The optional third parameter controls the buffer accuracy and style. The accuracy of circular arcs in the buffer is specified as the number of line segments used to approximate a quarter circle (default is 8). The buffer style can be specified by providing a list of blank-separated key=value pairs as follows: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>'quad_segs=#' : number of line segments used to approximate a quarter circle (default is 8).</p></li><li class="listitem"><p>'endcap=round|flat|square' : endcap style (defaults to "round"). 'butt' is accepted as a synonym for 'flat'.</p></li><li class="listitem"><p>'join=round|mitre|bevel' : join style (defaults to "round"). 'miter' is accepted as a synonym for 'mitre'.</p></li><li class="listitem"><p>'mitre_limit=#.#' : mitre ratio limit (only affects mitered join style). 'miter_limit' is accepted as a synonym for 'mitre_limit'.</p></li><li class="listitem"><p>'side=both|left|right' : 'left' or 'right' performs a single-sided buffer on the geometry, with the buffered side relative to the direction of the line. This is only applicable to LINESTRING geometry and does not affect POINT or POLYGON geometries. By default end caps are square.</p></li></ul></div><p>
                </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>
            <span class="inlinemediaobject"><img src="images/matrix_transform.png"/></span> For geography this is a thin wrapper around the geometry implementation.  It determines a planar spatial reference system that best fits the bounding box of the geography object (trying UTM, Lambert Azimuthal Equal Area (LAEA) North/South pole, and finally Mercator ). The buffer is computed in the planar space, and then transformed back to WGS84. This may not produce the desired behavior if the input object is much larger than a UTM zone or crosses the dateline </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Buffer output is always a valid polygonal geometry. Buffer can handle invalid inputs, so buffering by distance 0 is sometimes used as a way of repairing invalid polygons. <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> can also be used for this purpose. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Buffering is sometimes used to perform a within-distance search. For this use case it is more efficient to use <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function ignores the Z dimension. It always gives a 2D result even when used on a 3D geometry.</p></td></tr></table></div><p class="enhanced">Enhanced: 2.5.0 - ST_Buffer geometry support was enhanced to allow for side buffering specification <code class="code">side=both|left|right</code>.</p><p class="availability">Availability: 1.5 - ST_Buffer was enhanced to support different endcaps and join types. These are useful for example to convert road linestrings into polygon roads with flat or square edges instead of rounded edges. Thin wrapper for geography was added. </p><p>Desempenhado pelo módulo GEOS.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 5.1.30</p></div><div class="refsection" id="idm16186"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer01.png"/><div class="caption"><p>quad_segs=8 (default)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText('POINT(100 90)'),
 50, 'quad_segs=8');
                </pre><p>
                          </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer02.png"/><div class="caption"><p>quad_segs=2 (lame)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText('POINT(100 90)'),
 50, 'quad_segs=2');
                </pre><p>
                        </p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer03.png"/><div class="caption"><p>endcap=round join=round (default)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'endcap=round join=round');
                </pre><p>
                         </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer04.png"/><div class="caption"><p>endcap=square</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'endcap=square join=round');
                </pre><p>
                          </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer05.png"/><div class="caption"><p>endcap=flat</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'endcap=flat join=round');
                </pre><p>
                          </p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer07.png"/><div class="caption"><p>join=bevel</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'join=bevel');
                </pre><p>
                          </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer06.png"/><div class="caption"><p>join=mitre mitre_limit=5.0 (default mitre limit)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'join=mitre mitre_limit=5.0');
                </pre><p>
                          </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer08.png"/><div class="caption"><p>join=mitre mitre_limit=1</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'join=mitre mitre_limit=1.0');
                </pre><p>
                          </p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer09.png"/><div class="caption"><p>side=left</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'side=left');
                </pre><p>
                          </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer10.png"/><div class="caption"><p>side=right</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'side=right');
                </pre><p>
                          </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer11.png"/><div class="caption"><p>side=left join=mitre</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'side=left join=mitre');
                </pre><p>
                          </p></td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer12.png"/><div class="caption"><p>right-hand-winding, polygon boundary side=left</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
ST_ForceRHR(
ST_Boundary(
 ST_GeomFromText(
'POLYGON ((50 50, 50 150, 150 150, 150 50, 50 50))'))),
 ), 20, 'side=left');
                </pre><p>
                          </p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer13.png"/><div class="caption"><p>right-hand-winding, polygon boundary side=right</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_Buffer(
ST_ForceRHR(
ST_Boundary(
 ST_GeomFromText(
'POLYGON ((50 50, 50 150, 150 150, 150 50, 50 50))'))
), 20,'side=right')
                </pre><p>
                </p></td></tr></tbody></table></div><pre class="programlisting">--A buffered point approximates a circle
-- A buffered point forcing approximation of (see diagram)
-- 2 points per quarter circle is poly with 8 sides (see diagram)
SELECT ST_NPoints(ST_Buffer(ST_GeomFromText('POINT(100 90)'), 50)) As promisingcircle_pcount,
ST_NPoints(ST_Buffer(ST_GeomFromText('POINT(100 90)'), 50, 2)) As lamecircle_pcount;

promisingcircle_pcount | lamecircle_pcount
------------------------+-------------------
             33 |                9

--A lighter but lamer circle
-- only 2 points per quarter circle is an octagon
--Below is a 100 meter octagon
-- Note coordinates are in NAD 83 long lat which we transform
to Mass state plane meter and then buffer to get measurements in meters;
SELECT ST_AsText(ST_Buffer(
ST_Transform(
ST_SetSRID(ST_Point(-71.063526, 42.35785),4269), 26986)
,100,2)) As octagon;
----------------------
POLYGON((236057.59057465 900908.759918696,236028.301252769 900838.049240578,235
957.59057465 900808.759918696,235886.879896532 900838.049240578,235857.59057465
900908.759918696,235886.879896532 900979.470596815,235957.59057465 901008.759918
696,236028.301252769 900979.470596815,236057.59057465 900908.759918696))
        </pre></div><div class="refsection" id="idm16314"><h2>Veja também</h2><p><a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a>, <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a></p></div></div><div class="refentry" id="ST_BuildArea"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BuildArea — Creates a polygonal geometry formed by the linework of a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_BuildArea</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm16335"><h2>Descrição</h2><p>Creates an areal geometry formed by the constituent linework of the input geometry. The input can be a LineString, MultiLineString, Polygon, MultiPolygon or a GeometryCollection. The result is a Polygon or MultiPolygon, depending on input. If the input linework does not form polygons, NULL is returned. </p><p>Unlike <a class="xref" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a>, this function accepts rings formed by multiple lines, and can form any number of polygons. </p><p>This function converts inner rings into holes. To turn inner rings into polygons as well, use <a class="xref" href="#ST_Polygonize" title="ST_Polygonize">ST_Polygonize</a>. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Input linework must be correctly noded for this function to work properly. <a class="xref" href="#ST_Node" title="ST_Node">ST_Node</a> can be used to node lines. </p><p>If the input linework crosses, this function will produce invalid polygons. <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> can be used to ensure the output is valid. </p></td></tr></table></div><p class="availability">Disponibilidade: 1.1.0</p></div><div class="refsection" id="idm16348"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_buildarea02.png"/><div class="caption"><p>Input lines</p></div></div></div><p>
        </p></td><td><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_buildarea03.png"/><div class="caption"><p>Area result</p></div></div></div><p>
        </p></td></tr></tbody></table></div><pre class="programlisting">WITH data(geom) AS (VALUES
   ('LINESTRING (180 40, 30 20, 20 90)'::geometry)
  ,('LINESTRING (180 40, 160 160)'::geometry)
  ,('LINESTRING (160 160, 80 190, 80 120, 20 90)'::geometry)
  ,('LINESTRING (80 60, 120 130, 150 80)'::geometry)
  ,('LINESTRING (80 60, 150 80)'::geometry)
)
SELECT ST_AsText( ST_BuildArea( ST_Collect( geom )))
    FROM data;

------------------------------------------------------------------------------------------
POLYGON((180 40,30 20,20 90,80 120,80 190,160 160,180 40),(150 80,120 130,80 60,150 80))
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_buildarea01.png"/><div class="caption"><p>Create a donut from two circular polygons</p></div></div></div><pre class="programlisting">SELECT ST_BuildArea(ST_Collect(inring,outring))
FROM (SELECT
    ST_Buffer('POINT(100 90)', 25) As inring,
    ST_Buffer('POINT(100 90)', 50) As outring) As t;
</pre></div><div class="refsection" id="idm16378"><h2>Veja também</h2><p><a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a>, <a class="xref" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a>, <a class="xref" href="#ST_Node" title="ST_Node">ST_Node</a>, <a class="xref" href="#ST_Polygonize" title="ST_Polygonize">ST_Polygonize</a>, <a class="xref" href="#ST_BdPolyFromText" title="ST_BdPolyFromText">ST_BdPolyFromText</a>, <a class="xref" href="#ST_BdMPolyFromText" title="ST_BdMPolyFromText">ST_BdMPolyFromText</a> (wrappers to this function with standard OGC interface)</p></div></div><div class="refentry" id="ST_Centroid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Centroid — Retorna o centro geométrico de uma geometria. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Centroid</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_Centroid</strong>(</code>geography  <var class="pdparam">g1</var>, boolean  <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm16409"><h2>Descrição</h2><p>Computes a point which is the geometric center of mass of a geometry. For [<code class="varname">MULTI</code>]<code class="varname">POINT</code>s, the centroid is the arithmetic mean of the input coordinates. For [<code class="varname">MULTI</code>]<code class="varname">LINESTRING</code>s, the centroid is computed using the weighted length of each line segment. For [<code class="varname">MULTI</code>]<code class="varname">POLYGON</code>s, the centroid is computed in terms of area. If an empty geometry is supplied, an empty <code class="varname">GEOMETRYCOLLECTION</code> is returned. If <code class="varname">NULL</code> is supplied, <code class="varname">NULL</code> is returned. If <code class="varname">CIRCULARSTRING</code> or <code class="varname">COMPOUNDCURVE</code> are supplied, they are converted to linestring with CurveToLine first, then same than for <code class="varname">LINESTRING</code> </p><p>For mixed-dimension input, the result is equal to the centroid of the component Geometries of highest dimension (since the lower-dimension geometries contribute zero "weight" to the centroid).</p><p>Note that for polygonal geometries the centroid does not necessarily lie in the interior of the polygon. For example, see the diagram below of the centroid of a C-shaped polygon. To construct a point guaranteed to lie in the interior of a polygon use <a class="xref" href="#ST_PointOnSurface" title="ST_PointOnSurface">ST_PointOnSurface</a>. </p><p>New in 2.3.0 : supports <code class="varname">CIRCULARSTRING</code> and <code class="varname">COMPOUNDCURVE</code> (using CurveToLine)</p><p class="availability">Availability: 2.4.0 support for geography was introduced.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a> </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 8.1.4, 9.5.5</p></div><div class="refsection" id="idm16440"><h2>Exemplos</h2><p>In the following illustrations the red dot is the centroid of the source geometry.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_centroid01.png"/><div class="caption"><p>Centroide de um <code class="varname">MULTIPOINT</code></p></div></div></div></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_centroid02.png"/><div class="caption"><p>Centroide de uma <code class="varname">LINESTRING</code></p></div></div></div></td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_centroid03.png"/><div class="caption"><p>Centroide de um <code class="varname">POLYGON</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_centroid04.png"/><div class="caption"><p>Centroide de uma <code class="varname">GEOMETRYCOLLECTION</code></p></div></div></div></td></tr></tbody></table></div><pre class="programlisting">SELECT ST_AsText(ST_Centroid('MULTIPOINT ( -1 0, -1 2, -1 3, -1 4, -1 7, 0 1, 0 3, 1 1, 2 0, 6 0, 7 8, 9 8, 10 6 )'));
                st_astext
------------------------------------------
 POINT(2.30769230769231 3.30769230769231)
(1 row)

SELECT ST_AsText(ST_centroid(g))
FROM  ST_GeomFromText('CIRCULARSTRING(0 2, -1 1,0 0, 0.5 0, 1 0, 2 1, 1 2, 0.5 2, 0 2)')  AS g ;
------------------------------------------
POINT(0.5 1)


SELECT ST_AsText(ST_centroid(g))
FROM  ST_GeomFromText('COMPOUNDCURVE(CIRCULARSTRING(0 2, -1 1,0 0),(0 0, 0.5 0, 1 0),CIRCULARSTRING( 1 0, 2 1, 1 2),(1 2, 0.5 2, 0 2))' ) AS g;
------------------------------------------
POINT(0.5 1)

</pre></div><div class="refsection" id="idm16485"><h2>Veja também</h2><p><a class="xref" href="#ST_PointOnSurface" title="ST_PointOnSurface">ST_PointOnSurface</a>, <a class="xref" href="#ST_GeometricMedian" title="ST_GeometricMedian">ST_GeometricMedian </a></p></div></div><div class="refentry" id="ST_ChaikinSmoothing"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ChaikinSmoothing — Returns a smoothed version of a geometry, using the Chaikin algorithm</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ChaikinSmoothing</strong>(</code>geometry <var class="pdparam">geom</var>, integer <var class="pdparam">nIterations = 1</var>, boolean <var class="pdparam">preserveEndPoints = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm16508"><h2>Descrição</h2><p>Smoothes a linear or polygonal geometry using <a class="link" href="http://www.idav.ucdavis.edu/education/CAGDNotes/Chaikins-Algorithm/Chaikins-Algorithm.html" target="_top">Chaikin's algorithm</a>. The degree of smoothing is controlled by the <code class="varname">nIterations</code> parameter. On each iteration, each interior vertex is replaced by two vertices located at 1/4 of the length of the line segments before and after the vertex. A reasonable degree of smoothing is provided by 3 iterations; the maximum is limited to 5. </p><p>If <code class="varname">preserveEndPoints</code> is true, the endpoints of Polygon rings are not smoothed. The endpoints of LineStrings are always preserved. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The number of vertices doubles with each iteration, so the result geometry may have many more points than the input. To reduce the number of points use a simplification function on the result (see <a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>, <a class="xref" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a> and <a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a>). </p></td></tr></table></div><p>The result has interpolated values for the Z and M dimensions when present.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p class="availability">Availability: 2.5.0</p></div><div class="refsection" id="idm16526"><h2>Exemplos</h2><p>Smoothing a triangle:</p><pre class="programlisting">SELECT ST_AsText(ST_ChaikinSmoothing(geom)) smoothed
FROM (SELECT  'POLYGON((0 0, 8 8, 0 16, 0 0))'::geometry geom) AS foo;

                 smoothed
───────────────────────────────────────────
 POLYGON((2 2,6 6,6 10,2 14,0 12,0 4,2 2))
</pre><p>Smoothing a Polygon using 1, 2 and 3 iterations:</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_chaikinsmoothing01.png"/><div class="caption"><p>nIterations = 1</p></div></div></div></td><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_chaikinsmoothing02.png"/><div class="caption"><p>nIterations = 2</p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_chaikinsmoothing03.png"/><div class="caption"><p>nIterations = 3</p></div></div></div></td></tr></tbody></table></div><pre class="programlisting">SELECT ST_ChaikinSmoothing(
            'POLYGON ((20 20, 60 90, 10 150, 100 190, 190 160, 130 120, 190 50, 140 70, 120 10, 90 60, 20 20))',
            generate_series(1, 3) );
</pre><p>Smoothing a LineString using 1, 2 and 3 iterations:</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_chaikinsmoothing04.png"/><div class="caption"><p>nIterations = 1</p></div></div></div></td><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_chaikinsmoothing05.png"/><div class="caption"><p>nIterations = 2</p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_chaikinsmoothing06.png"/><div class="caption"><p>nIterations = 3</p></div></div></div></td></tr></tbody></table></div><pre class="programlisting">SELECT ST_ChaikinSmoothing(
            'LINESTRING (10 140, 80 130, 100 190, 190 150, 140 20, 120 120, 50 30, 30 100)',
            generate_series(1, 3) );
</pre></div><div class="refsection" id="idm16590"><h2>Veja também</h2><p><a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>, <a class="xref" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a>, <a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a></p></div></div><div class="refentry" id="ST_ConcaveHull"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ConcaveHull — Computes a possibly concave geometry that contains all input geometry vertices</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ConcaveHull</strong>(</code>geometry  <var class="pdparam">param_geom</var>, float  <var class="pdparam">param_pctconvex</var>, boolean  <var class="pdparam">param_allow_holes = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm16614"><h2>Descrição</h2><p>A concave hull is a (usually) concave geometry which contains the input, and whose vertices are a subset of the input vertices. In the general case the concave hull is a Polygon. The concave hull of two or more collinear points is a two-point LineString. The concave hull of one or more identical points is a Point. The polygon will not contain holes unless the optional <code class="varname">param_allow_holes</code> argument is specified as true. </p><p>One can think of a concave hull as "shrink-wrapping" a set of points. This is different to the <a class="link" href="#ST_ConvexHull" title="ST_ConvexHull">convex hull</a>, which is more like wrapping a rubber band around the points. A concave hull generally has a smaller area and represents a more natural boundary for the input points. </p><p>The <code class="varname">param_pctconvex</code> controls the concaveness of the computed hull. A value of 1 produces the convex hull. Values between 1 and 0 produce hulls of increasing concaveness. A value of 0 produces a hull with maximum concaveness (but still a single polygon). Choosing a suitable value depends on the nature of the input data, but often values between 0.3 and 0.1 produce reasonable results. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Technically, the <code class="varname">param_pctconvex</code> determines a length as a fraction of the difference between the longest and shortest edges in the Delaunay Triangulation of the input points. Edges longer than this length are "eroded" from the triangulation. The triangles remaining form the concave hull. </p></td></tr></table></div><p>For point and linear inputs, the hull will enclose all the points of the inputs. For polygonal inputs, the hull will enclose all the points of the input <span class="emphasis"><em>and also</em></span> all the areas covered by the input. If you want a point-wise hull of a polygonal input, convert it to points first using <a class="xref" href="#ST_Points" title="ST_Points">ST_Points</a>.</p><p>This is not an aggregate function. To compute the concave hull of a set of geometries use <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a> (e.g. <code class="code">ST_ConcaveHull( ST_Collect( geom ), 0.80)</code>.</p><p class="availability">Disponibilidade: 2.0.0</p><p class="enhanced">Enhanced: 3.3.0, GEOS native implementation enabled for GEOS 3.11+</p></div><div class="refsection" id="idm16633"><h2>Exemplos</h2><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_concavehull01.png"/><div class="caption"><p>Concave Hull of a MultiPoint</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_AsText( ST_ConcaveHull(
        'MULTIPOINT ((10 72), (53 76), (56 66), (63 58), (71 51), (81 48), (91 46), (101 45), (111 46), (121 47), (131 50), (140 55), (145 64), (144 74), (135 80), (125 83), (115 85), (105 87), (95 89), (85 91), (75 93), (65 95), (55 98), (45 102), (37 107), (29 114), (22 122), (19 132), (18 142), (21 151), (27 160), (35 167), (44 172), (54 175), (64 178), (74 180), (84 181), (94 181), (104 181), (114 181), (124 181), (134 179), (144 177), (153 173), (162 168), (171 162), (177 154), (182 145), (184 135), (139 132), (136 142), (128 149), (119 153), (109 155), (99 155), (89 155), (79 153), (69 150), (61 144), (63 134), (72 128), (82 125), (92 123), (102 121), (112 119), (122 118), (132 116), (142 113), (151 110), (161 106), (170 102), (178 96), (185 88), (189 78), (190 68), (189 58), (185 49), (179 41), (171 34), (162 29), (153 25), (143 23), (133 21), (123 19), (113 19), (102 19), (92 19), (82 19), (72 21), (62 22), (52 25), (43 29), (33 34), (25 41), (19 49), (14 58), (21 73), (31 74), (42 74), (173 134), (161 134), (150 133), (97 104), (52 117), (157 156), (94 171), (112 106), (169 73), (58 165), (149 40), (70 33), (147 157), (48 153), (140 96), (47 129), (173 55), (144 86), (159 67), (150 146), (38 136), (111 170), (124 94), (26 59), (60 41), (71 162), (41 64), (88 110), (122 34), (151 97), (157 56), (39 146), (88 33), (159 45), (47 56), (138 40), (129 165), (33 48), (106 31), (169 147), (37 122), (71 109), (163 89), (37 156), (82 170), (180 72), (29 142), (46 41), (59 155), (124 106), (157 80), (175 82), (56 50), (62 116), (113 95), (144 167))',
         0.1 ) );
---st_astext--
POLYGON ((18 142, 21 151, 27 160, 35 167, 44 172, 54 175, 64 178, 74 180, 84 181, 94 181, 104 181, 114 181, 124 181, 134 179, 144 177, 153 173, 162 168, 171 162, 177 154, 182 145, 184 135, 173 134, 161 134, 150 133, 139 132, 136 142, 128 149, 119 153, 109 155, 99 155, 89 155, 79 153, 69 150, 61 144, 63 134, 72 128, 82 125, 92 123, 102 121, 112 119, 122 118, 132 116, 142 113, 151 110, 161 106, 170 102, 178 96, 185 88, 189 78, 190 68, 189 58, 185 49, 179 41, 171 34, 162 29, 153 25, 143 23, 133 21, 123 19, 113 19, 102 19, 92 19, 82 19, 72 21, 62 22, 52 25, 43 29, 33 34, 25 41, 19 49, 14 58, 10 72, 21 73, 31 74, 42 74, 53 76, 56 66, 63 58, 71 51, 81 48, 91 46, 101 45, 111 46, 121 47, 131 50, 140 55, 145 64, 144 74, 135 80, 125 83, 115 85, 105 87, 95 89, 85 91, 75 93, 65 95, 55 98, 45 102, 37 107, 29 114, 22 122, 19 132, 18 142))
    </pre><p>
</p><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_concavehull02.png"/><div class="caption"><p>Concave Hull of a MultiPoint, allowing holes</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_AsText( ST_ConcaveHull(
        'MULTIPOINT ((132 64), (114 64), (99 64), (81 64), (63 64), (57 49), (52 36), (46 20), (37 20), (26 20), (32 36), (39 55), (43 69), (50 84), (57 100), (63 118), (68 133), (74 149), (81 164), (88 180), (101 180), (112 180), (119 164), (126 149), (132 131), (139 113), (143 100), (150 84), (157 69), (163 51), (168 36), (174 20), (163 20), (150 20), (143 36), (139 49), (132 64), (99 151), (92 138), (88 124), (81 109), (74 93), (70 82), (83 82), (99 82), (112 82), (126 82), (121 96), (114 109), (110 122), (103 138), (99 151), (34 27), (43 31), (48 44), (46 58), (52 73), (63 73), (61 84), (72 71), (90 69), (101 76), (123 71), (141 62), (166 27), (150 33), (159 36), (146 44), (154 53), (152 62), (146 73), (134 76), (143 82), (141 91), (130 98), (126 104), (132 113), (128 127), (117 122), (112 133), (119 144), (108 147), (119 153), (110 171), (103 164), (92 171), (86 160), (88 142), (79 140), (72 124), (83 131), (79 118), (68 113), (63 102), (68 93), (35 45))',
         0.15, true ) );
---st_astext--
POLYGON ((43 69, 50 84, 57 100, 63 118, 68 133, 74 149, 81 164, 88 180, 101 180, 112 180, 119 164, 126 149, 132 131, 139 113, 143 100, 150 84, 157 69, 163 51, 168 36, 174 20, 163 20, 150 20, 143 36, 139 49, 132 64, 114 64, 99 64, 81 64, 63 64, 57 49, 52 36, 46 20, 37 20, 26 20, 32 36, 35 45, 39 55, 43 69), (88 124, 81 109, 74 93, 83 82, 99 82, 112 82, 121 96, 114 109, 110 122, 103 138, 92 138, 88 124))
    </pre><p>
</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_concavehull03.png"/><div class="caption"><p><code class="varname">polygon_hull</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_concavehull04.png"/><div class="caption"><p><code class="varname">points_hull</code></p></div></div></div></td></tr></tbody></table></div><p>Comparing a concave hull of a Polygon to the concave hull of the constituent points. The hull respects the boundary of the polygon, whereas the points-based hull does not. </p><pre class="programlisting">WITH data(geom) AS (VALUES
   ('POLYGON ((10 90, 39 85, 61 79, 50 90, 80 80, 95 55, 25 60, 90 45, 70 16, 63 38, 60 10, 50 30, 43 27, 30 10, 20 20, 10 90))'::geometry)
)
SELECT  ST_ConcaveHull( geom,            0.1) AS polygon_hull,
        ST_ConcaveHull( ST_Points(geom), 0.1) AS points_hull
    FROM data;
</pre><p>Using with ST_Collect to compute the concave hull of a geometry set.</p><pre class="programlisting">-- Compute estimate of infected area based on point observations
SELECT disease_type,
    ST_ConcaveHull( ST_Collect(obs_pnt), 0.3 ) AS geom
  FROM disease_obs
  GROUP BY disease_type;
</pre></div><div class="refsection" id="idm16677"><h2>Veja também</h2><p><a class="xref" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>, <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_AlphaShape" title="ST_AlphaShape">ST_AlphaShape</a>, <a class="xref" href="#ST_OptimalAlphaShape" title="ST_OptimalAlphaShape">ST_OptimalAlphaShape</a></p></div></div><div class="refentry" id="ST_ConvexHull"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ConvexHull — Computes the convex hull of a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ConvexHull</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm16696"><h2>Descrição</h2><p>Computes the convex hull of a geometry. The convex hull is the smallest convex geometry that encloses all geometries in the input.</p><p>One can think of the convex hull as the geometry obtained by wrapping an rubber band around a set of geometries. This is different from a <a class="link" href="#ST_ConcaveHull" title="ST_ConcaveHull">concave hull</a> which is analogous to "shrink-wrapping" the geometries. A convex hull is often used to determine an affected area based on a set of point observations.</p><p>In the general case the convex hull is a Polygon. The convex hull of two or more collinear points is a two-point LineString. The convex hull of one or more identical points is a Point.</p><p>This is not an aggregate function. To compute the convex hull of a set of geometries, use <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a> to aggregate them into a geometry collection (e.g. <code class="code">ST_ConvexHull(ST_Collect(geom))</code>.</p><p>Desempenhado pelo módulo GEOS</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s2.1.1.3</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 5.1.16</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm16719"><h2>Exemplos</h2><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_convexhull01.png"/><div class="caption"><p>Convex Hull of a MultiLinestring and a MultiPoint</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_AsText(ST_ConvexHull(
    ST_Collect(
        ST_GeomFromText('MULTILINESTRING((100 190,10 8),(150 10, 20 30))'),
            ST_GeomFromText('MULTIPOINT(50 5, 150 30, 50 10, 10 10)')
            )) );
---st_astext--
POLYGON((50 5,10 8,10 10,100 190,150 30,150 10,50 5))
    </pre><p>
</p><p>Using with ST_Collect to compute the convex hulls of geometry sets.</p><pre class="programlisting">--Get estimate of infected area based on point observations
SELECT d.disease_type,
    ST_ConvexHull(ST_Collect(d.geom)) As geom
    FROM disease_obs As d
    GROUP BY d.disease_type;
</pre></div><div class="refsection" id="idm16731"><h2>Veja também</h2><p><a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>, <a class="xref" href="#ST_MinimumBoundingCircle" title="ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a></p></div></div><div class="refentry" id="ST_DelaunayTriangles"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DelaunayTriangles — Returns the Delaunay triangulation of the vertices of a geometry. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_DelaunayTriangles</strong>(</code>geometry  <var class="pdparam">g1</var>, float  <var class="pdparam">tolerance = 0.0</var>, int4  <var class="pdparam">flags = 0</var><code>)</code>;</p></div></div><div class="refsection" id="idm16755"><h2>Descrição</h2><p>Computes the <a class="link" href="http://en.wikipedia.org/wiki/Delaunay_triangulation" target="_top">Delaunay triangulation</a> of the vertices of the input geometry. The optional <code class="varname">tolerance</code> can be used to snap nearby input vertices together, which improves robustness in some situations. The result geometry is bounded by the convex hull of the input vertices. The result geometry representation is determined by the <code class="varname">flags</code> code: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">0</code> - a GEOMETRYCOLLECTION of triangular POLYGONs (default) </p></li><li class="listitem"><p><code class="code">1</code> - a MULTILINESTRING of the edges of the triangulation </p></li><li class="listitem"><p><code class="code">2</code> - A TIN of the triangulation </p></li></ul></div><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm16781"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_delaunaytriangles01.png"/><div class="caption"><p>Polígonos originais</p></div></div></div>
<pre class="programlisting"><em class="lineannotation"><span class="lineannotation">our original geometry</span></em>
    ST_Union(ST_GeomFromText('POLYGON((175 150, 20 40,
            50 60, 125 100, 175 150))'),
        ST_Buffer(ST_GeomFromText('POINT(110 170)'), 20)
        )</pre></td></tr><tr><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_delaunaytriangles03.png"/><div class="caption"><p>ST_DelaunayTriangles de 2 polígonos:  polígonos da triangulação de Delaunay, cada triângulo de uma cor diferente</p></div></div></div><p>
                </p><pre class="programlisting"><em class="lineannotation"><span class="lineannotation">
geometries overlaid multilinestring triangles
</span></em>
SELECT
    ST_DelaunayTriangles(
        ST_Union(ST_GeomFromText('POLYGON((175 150, 20 40,
            50 60, 125 100, 175 150))'),
        ST_Buffer(ST_GeomFromText('POINT(110 170)'), 20)
        ))
     As  dtriag;
                </pre><p>
                          </p></td></tr><tr><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_delaunaytriangles02.png"/><div class="caption"><p>-- triângulos de Delaunay como multilinestring</p></div></div></div><p>
                </p><pre class="programlisting">SELECT
    ST_DelaunayTriangles(
        ST_Union(ST_GeomFromText('POLYGON((175 150, 20 40,
            50 60, 125 100, 175 150))'),
        ST_Buffer(ST_GeomFromText('POINT(110 170)'), 20)
        ),0.001,1)
     As  dtriag;</pre><p>
                        </p></td></tr><tr><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_delaunaytriangles04.png"/><div class="caption"><p>-- triângulos delaunay de 45 pontos como 55 polígonos triangulares  </p></div></div></div><p>
                </p><pre class="programlisting"><em class="lineannotation"><span class="lineannotation">
this produces a table of 42 points that form an L shape
</span></em>
SELECT (ST_DumpPoints(ST_GeomFromText(
'MULTIPOINT(14 14,34 14,54 14,74 14,94 14,114 14,134 14,
150 14,154 14,154 6,134 6,114 6,94 6,74 6,54 6,34 6,
14 6,10 6,8 6,7 7,6 8,6 10,6 30,6 50,6 70,6 90,6 110,6 130,
6 150,6 170,6 190,6 194,14 194,14 174,14 154,14 134,14 114,
14 94,14 74,14 54,14 34,14 14)'))).geom
    INTO TABLE l_shape;
<em class="lineannotation"><span class="lineannotation">
output as individual polygon triangles
</span></em>
SELECT ST_AsText((ST_Dump(geom)).geom) As wkt
FROM ( SELECT ST_DelaunayTriangles(ST_Collect(geom)) As geom
FROM l_shape) As foo;

<em class="lineannotation"><span class="lineannotation">
wkt
</span></em>
POLYGON((6 194,6 190,14 194,6 194))
POLYGON((14 194,6 190,14 174,14 194))
POLYGON((14 194,14 174,154 14,14 194))
POLYGON((154 14,14 174,14 154,154 14))
POLYGON((154 14,14 154,150 14,154 14))
POLYGON((154 14,150 14,154 6,154 14))
</pre><p>
                        </p></td></tr></tbody></table></div><p>Example using vertices with Z values.</p><pre class="programlisting"><em class="lineannotation"><span class="lineannotation">
3D multipoint
</span></em>
SELECT ST_AsText(ST_DelaunayTriangles(ST_GeomFromText(
         'MULTIPOINT Z(14 14 10, 150 14 100,34 6 25, 20 10 150)'))) As wkt;

<em class="lineannotation"><span class="lineannotation">
wkt
</span></em>
GEOMETRYCOLLECTION Z (POLYGON Z ((14 14 10,20 10 150,34 6 25,14 14 10))
 ,POLYGON Z ((14 14 10,34 6 25,150 14 100,14 14 10)))</pre></div><div class="refsection" id="idm16835"><h2>Veja também</h2><p><a class="xref" href="#ST_VoronoiPolygons" title="ST_VoronoiPolygons">ST_VoronoiPolygons</a>, <a class="xref" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a>, <a class="xref" href="#ST_ConstrainedDelaunayTriangles" title="ST_ConstrainedDelaunayTriangles">ST_ConstrainedDelaunayTriangles</a>, <a class="xref" href="#ST_VoronoiLines" title="ST_VoronoiLines">ST_VoronoiLines</a>, <a class="xref" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a> </p></div></div><div class="refentry" id="ST_FilterByM"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_FilterByM — Removes vertices based on their M value</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_FilterByM</strong>(</code>geometry <var class="pdparam">geom</var>, double precision <var class="pdparam">min</var>, double precision <var class="pdparam">max = null</var>, boolean <var class="pdparam">returnM = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm16864"><h2>Descrição</h2><p>Filters out vertex points based on their M-value. Returns a geometry with only vertex points that have a M-value larger or equal to the min value and smaller or equal to the max value. If max-value argument is left out only min value is considered. If fourth argument is left out the m-value will not be in the resulting geometry. If resulting geometry have too few vertex points left for its geometry type an empty geometry will be returned. In a geometry collection geometries without enough points will just be left out silently.</p><p>This function is mainly intended to be used in conjunction with ST_SetEffectiveArea. ST_EffectiveArea sets the effective area of a vertex in its m-value. With ST_FilterByM it then is possible to get a simplified version of the geometry without any calculations, just by filtering</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>There is a difference in what ST_SimplifyVW returns when not enough points meet the criteria compared to ST_FilterByM. ST_SimplifyVW returns the geometry with enough points while ST_FilterByM returns an empty geometry</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Note that the returned geometry might be invalid</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function returns all dimensions, including the Z and M values</p></td></tr></table></div><p class="availability">Availability: 2.5.0</p></div><div class="refsection" id="idm16875"><h2>Exemplos</h2><p>A linestring is filtered</p><pre class="programlisting">SELECT ST_AsText(ST_FilterByM(geom,30)) simplified
FROM (SELECT  ST_SetEffectiveArea('LINESTRING(5 2, 3 8, 6 20, 7 25, 10 10)'::geometry) geom) As foo;
<em class="lineannotation"><span class="lineannotation">
result
</span></em>
         simplified
----------------------------
 LINESTRING(5 2,7 25,10 10)
                </pre></div><div class="refsection" id="idm16880"><h2>Veja também</h2><p><a class="xref" href="#ST_SetEffectiveArea" title="ST_SetEffectiveArea">ST_SetEffectiveArea</a>, <a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a></p></div></div><div class="refentry" id="ST_GeneratePoints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeneratePoints — Generates a multipoint of random points contained in a Polygon or MultiPolygon.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeneratePoints</strong>(</code>geometry <var class="pdparam">g</var>, integer <var class="pdparam">npoints</var>, integer <var class="pdparam">seed = 0</var><code>)</code>;</p></div></div><div class="refsection" id="idm16903"><h2>Descrição</h2><p>ST_GeneratePoints generates a multipoint consisting of a given number of pseudo-random points which lie within the input area. The optional <code class="varname">seed</code> is used to regenerate a deterministic sequence of points, and must be greater than zero. </p><p class="availability">Disponibilidade: 2.3.0</p><p class="enhanced">Enhanced: 3.0.0, added seed parameter</p></div><div class="refsection" id="idm16909"><h2>Exemplos</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_generatepoints01.png"/><div class="caption"><p>Generated a multipoint consisting of 12 Points overlaid on top of original polygon using a random seed value 1996</p></div></div></div><p>
                        </p><pre class="programlisting">SELECT ST_GeneratePoints(geom, 12, 1996)
FROM (
    SELECT ST_Buffer(
        ST_GeomFromText(
        'LINESTRING(50 50,150 150,150 50)'),
        10, 'endcap=round join=round') AS geom
) AS s;</pre><p>
            </p><p>Given a table of polygons s, return 12 individual points per polygon. Results will be different each time you run.</p><pre class="programlisting">SELECT s.id, dp.path[1] AS pt_id, dp.geom
FROM s, ST_DumpPoints(ST_GeneratePoints(s.geom,12)) AS dp;</pre></div><div class="refsection" id="idm16921"><h2>Veja também</h2><p><a class="xref" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a></p></div></div><div class="refentry" id="ST_GeometricMedian"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeometricMedian  — Retorna a mediana de um MultiPonto.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GeometricMedian</strong> (</code> geometry <var class="pdparam">geom</var>, float8 <var class="pdparam">tolerance = NULL</var>, int <var class="pdparam">max_iter = 10000</var>, boolean <var class="pdparam">fail_if_not_converged = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm16946"><h2>Descrição</h2><p>Computes the approximate geometric median of a MultiPoint geometry using the Weiszfeld algorithm. The geometric median is the point minimizing the sum of distances to the input points. It provides a centrality measure that is less sensitive to outlier points than the centroid (center of mass). </p><p>The algorithm iterates until the distance change between successive iterations is less than the supplied <code class="varname">tolerance</code> parameter. If this condition has not been met after <code class="varname">max_iterations</code> iterations, the function produces an error and exits, unless <code class="varname">fail_if_not_converged</code> is set to <code class="code">false</code> (the default). </p><p>If a <code class="varname">tolerance</code> argument is not provided, the tolerance value is calculated based on the extent of the input geometry. </p><p>If present, the input point M values are interpreted as their relative weights. </p><p class="availability">Disponibilidade: 2.3.0</p><p class="enhanced">Enhanced: 2.5.0 Added support for M as weight of points.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports M coordinates. </p></div><div class="refsection" id="idm16967"><h2>Exemplos</h2><p>
          </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_geometricmedian01.png"/><div class="caption"><p>Comparison of the geometric median (red) and centroid (turquoise) of a MultiPoint. </p></div></div></div><p>
      </p><pre class="programlisting">WITH test AS (
SELECT 'MULTIPOINT((10 10), (10 40), (40 10), (190 190))'::geometry geom)
SELECT
  ST_AsText(ST_Centroid(geom)) centroid,
  ST_AsText(ST_GeometricMedian(geom)) median
FROM test;

      centroid      |                 median
--------------------+----------------------------------------
   POINT(62.5 62.5) | POINT(25.01778421249728 25.01778421249728)
(1 row)
      </pre></div><div class="refsection" id="idm16977"><h2>Veja também</h2><p><a class="xref" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a></p></div></div><div class="refentry" id="ST_LineMerge"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineMerge — Return the lines formed by sewing together a MultiLineString.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineMerge</strong>(</code>geometry  <var class="pdparam">amultilinestring</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineMerge</strong>(</code>geometry  <var class="pdparam">amultilinestring</var>, boolean  <var class="pdparam">directed</var><code>)</code>;</p></div></div><div class="refsection" id="idm17002"><h2>Descrição</h2><p>Returns a LineString or MultiLineString formed by joining together the line elements of a MultiLineString. Lines are joined at their endpoints at 2-way intersections. Lines are not joined across intersections of 3-way or greater degree. </p><p>If <span class="bold"><strong>directed</strong></span> is TRUE, then ST_LineMerge will not change point order within LineStrings, so lines with opposite directions will not be merged</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Only use with MultiLineString/LineStrings. Other geometry types return an empty GeometryCollection</p></td></tr></table></div><p>Desempenhado pelo módulo GEOS.</p><p class="enhanced">Enhanced: 3.3.0 accept a directed parameter.</p><p class="geos_requirement">Requires GEOS &gt;= 3.11.0 to use the directed parameter.</p><p class="availability">Disponibilidade: 1.1.0</p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function strips the M dimension.</p></td></tr></table></div></div><div class="refsection" id="idm17015"><h2>Exemplos</h2><p>
          </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_linemerge01.png"/><div class="caption"><p>Merging lines with different orientation. </p></div></div></div><p>
      </p><pre class="programlisting">SELECT ST_AsText(ST_LineMerge(
'MULTILINESTRING((10 160, 60 120), (120 140, 60 120), (120 140, 180 120))'
                ));
--------------------------------------------
 LINESTRING(10 160,60 120,120 140,180 120)
</pre><p>
          </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_linemerge02.png"/><div class="caption"><p>Lines are not merged across intersections with degree &gt; 2. </p></div></div></div><p>
      </p><pre class="programlisting">SELECT ST_AsText(ST_LineMerge(
'MULTILINESTRING((10 160, 60 120), (120 140, 60 120), (120 140, 180 120), (100 180, 120 140))'
                ));
--------------------------------------------
 MULTILINESTRING((10 160,60 120,120 140),(100 180,120 140),(120 140,180 120))
</pre><p>If merging is not possible due to non-touching lines, the original MultiLineString is returned.</p><pre class="programlisting">SELECT ST_AsText(ST_LineMerge(
'MULTILINESTRING((-29 -27,-30 -29.7,-36 -31,-45 -33),(-45.2 -33.2,-46 -32))'
));
----------------
MULTILINESTRING((-45.2 -33.2,-46 -32),(-29 -27,-30 -29.7,-36 -31,-45 -33))
</pre><p>
	</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_linemerge03.png"/><div class="caption"><p>Lines with opposite directions are not merged if directed = TRUE.</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_AsText(ST_LineMerge(
'MULTILINESTRING((60 30, 10 70), (120 50, 60 30), (120 50, 180 30))',
TRUE));
-------------------------------------------------------
 MULTILINESTRING((120 50,60 30,10 70),(120 50,180 30))
</pre><p>Example showing Z-dimension handling.</p><pre class="programlisting">SELECT ST_AsText(ST_LineMerge(
      'MULTILINESTRING((-29 -27 11,-30 -29.7 10,-36 -31 5,-45 -33 6), (-29 -27 12,-30 -29.7 5), (-45 -33 1,-46 -32 11))'
        ));
--------------------------------------------------------------------------------------------------
LINESTRING Z (-30 -29.7 5,-29 -27 11,-30 -29.7 10,-36 -31 5,-45 -33 1,-46 -32 11)
</pre></div><div class="refsection" id="idm17045"><h2>Veja também</h2><p><a class="xref" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a>, <a class="xref" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a></p></div></div><div class="refentry" id="ST_MaximumInscribedCircle"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MaximumInscribedCircle — Retorna o centro geométrico de uma geometria. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">(geometry, geometry, double precision) <strong class="fsfunc">ST_MaximumInscribedCircle</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm17062"><h2>Descrição</h2><p>Finds the largest circle that is contained within a (multi)polygon, or which does not overlap any lines and points. Returns a record with fields: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">center</code> - center point of the circle </p></li><li class="listitem"><p><code class="varname">nearest</code> - a point on the geometry nearest to the center </p></li><li class="listitem"><p><code class="varname">radius</code> - radius of the circle </p></li></ul></div><p>For polygonal inputs, the circle is inscribed within the boundary rings, using the internal rings as boundaries. For linear and point inputs, the circle is inscribed within the convex hull of the input, using the input lines and points as further boundaries.</p><p class="availability">Availability: 3.1.0.</p><p class="geos_requirement">Requires GEOS &gt;= 3.9.0.</p></div><div class="refsection" id="idm17078"><h2>Exemplos</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_maximuminscribedcircle01.png"/><div class="caption"><p>Maximum inscribed circle of a polygon. Center, nearest point, and radius are returned.</p></div></div></div><pre class="programlisting">SELECT radius, ST_AsText(center) AS center, ST_AsText(nearest) AS nearest
    FROM ST_MaximumInscribedCircle(
        'POLYGON ((40 180, 110 160, 180 180, 180 120, 140 90, 160 40, 80 10, 70 40, 20 50, 40 180),
        (60 140, 50 90, 90 140, 60 140))');

     radius      |           center           |    nearest
-----------------+----------------------------+---------------
 45.165845650018 | POINT(96.953125 76.328125) | POINT(140 90)
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_maximuminscribedcircle02.png"/><div class="caption"><p>Maximum inscribed circle of a multi-linestring. Center, nearest point, and radius are returned.</p></div></div></div></div><div class="refsection" id="idm17093"><h2>Veja também</h2><p><a class="xref" href="#ST_MinimumBoundingRadius" title="ST_MinimumBoundingRadius">ST_MinimumBoundingRadius</a>, <a class="xref" href="#ST_LargestEmptyCircle" title="ST_LargestEmptyCircle">ST_LargestEmptyCircle</a></p></div></div><div class="refentry" id="ST_LargestEmptyCircle"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LargestEmptyCircle — Computes the largest circle not overlapping a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">(geometry, geometry, double precision) <strong class="fsfunc">ST_LargestEmptyCircle</strong>(</code>geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">tolerance=0.0</var>, geometry  <var class="pdparam">boundary=POINT EMPTY</var><code>)</code>;</p></div></div><div class="refsection" id="idm17116"><h2>Descrição</h2><p>Finds the largest circle which does not overlap a set of point and line obstacles. (Polygonal geometries may be included as obstacles, but only their boundary lines are used.) The center of the circle is constrained to lie inside a polygonal boundary, which by default is the convex hull of the input geometry. The circle center is the point in the interior of the boundary which has the farthest distance from the obstacles. The circle itself is provided by the center point and a nearest point lying on an obstacle determining the circle radius.</p><p>The circle center is determined to a given accuracy specified by a distance tolerance, using an iterative algorithm. If the accuracy distance is not specified a reasonable default is used.</p><p>Returns a record with fields:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">center</code> - center point of the circle </p></li><li class="listitem"><p><code class="varname">nearest</code> - a point on the geometry nearest to the center </p></li><li class="listitem"><p><code class="varname">radius</code> - radius of the circle </p></li></ul></div><p>To find the largest empty circle in the interior of a polygon, see <a class="xref" href="#ST_MaximumInscribedCircle" title="ST_MaximumInscribedCircle">ST_MaximumInscribedCircle</a>.</p><p class="availability">Availability: 3.4.0.</p><p class="geos_requirement">Requires GEOS &gt;= 3.9.0.</p></div><div class="refsection" id="idm17135"><h2>Exemplos</h2><pre class="programlisting">SELECT radius,
      center,
      nearest
  FROM ST_LargestEmptyCircle(
        'MULTILINESTRING (
          (10 100, 60 180, 130 150, 190 160),
          (20 50, 70 70, 90 20, 110 40),
          (160 30, 100 100, 180 100))');</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_largestemptycircle01.png"/><div class="caption"><p>Largest Empty Circle within a set of lines.</p></div></div></div><pre class="programlisting">SELECT radius,
       center,
       nearest
  FROM ST_LargestEmptyCircle(
         ST_Collect(
           'MULTIPOINT ((70 50), (60 130), (130 150), (80 90))'::geometry,
           'POLYGON ((90 190, 10 100, 60 10, 190 40, 120 100, 190 180, 90 190))'::geometry),
           0,
         'POLYGON ((90 190, 10 100, 60 10, 190 40, 120 100, 190 180, 90 190))'::geometry
       );</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_largestemptycircle02.png"/><div class="caption"><p>Largest Empty Circle within a set of points, constrained to lie in a polygon. The constraint polygon boundary must be included as an obstacle, as well as specified as the constraint for the circle center. </p></div></div></div></div><div class="refsection" id="idm17151"><h2>Veja também</h2><p><a class="xref" href="#ST_MinimumBoundingRadius" title="ST_MinimumBoundingRadius">ST_MinimumBoundingRadius</a></p></div></div><div class="refentry" id="ST_MinimumBoundingCircle"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinimumBoundingCircle — Returns the smallest circle polygon that contains a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MinimumBoundingCircle</strong>(</code>geometry  <var class="pdparam">geomA</var>, integer  <var class="pdparam">num_segs_per_qt_circ=48</var><code>)</code>;</p></div></div><div class="refsection" id="idm17170"><h2>Descrição</h2><p>Returns the smallest circle polygon that contains a geometry. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O círculo é aproximado por um polígono com um padrão de 48 segmentos por quarto de círculo. Devido ao polígono ser uma aproximação do círculo delimitador, alguns pontos na geometria de entrada podem não estar contidos dentro do polígono. A aproximação pode ser melhorada pelo aumento do número de segmentos, com uma pequena penalidade de desempenho. Para aplicações nas quais uma aproximação poligonal não se encaixa, a ST_MinimumBoundingRadius pode ser usada.</p></td></tr></table></div><p>Use with <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a> to get the minimum bounding circle of a set of geometries.</p><p>To compute two points lying on the minimum circle (the "maximum diameter") use <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>. </p><p>A razão da área de um polígono dividido pela área do seu menor círculo delimitador é referenciada com o teste Roeck.  </p><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 1.4.0</p></div><div class="refsection" id="idm17182"><h2>Exemplos</h2><pre class="programlisting">SELECT d.disease_type,
    ST_MinimumBoundingCircle(ST_Collect(d.geom)) As geom
    FROM disease_obs As d
    GROUP BY d.disease_type;
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_minimumboundingcircle01.png"/><div class="caption"><p>Menor círculo delimitador de um ponto e linestring. Utilizando 8 segmentos para aproximar um quarto de círculo</p></div></div></div><pre class="programlisting">SELECT ST_AsText(ST_MinimumBoundingCircle(
        ST_Collect(
            ST_GeomFromText('LINESTRING(55 75,125 150)'),
                ST_Point(20, 80)), 8
                )) As wktmbc;
wktmbc
-----------
POLYGON((135.59714732062 115,134.384753327498 102.690357210921,130.79416296937 90.8537670908995,124.963360620072 79.9451031602111,117.116420743937 70.3835792560632,107.554896839789 62.5366393799277,96.6462329091006 56.70583703063,84.8096427890789 53.115246672502,72.5000000000001 51.9028526793802,60.1903572109213 53.1152466725019,48.3537670908996 56.7058370306299,37.4451031602112 62.5366393799276,27.8835792560632 70.383579256063,20.0366393799278 79.9451031602109,14.20583703063 90.8537670908993,10.615246672502 102.690357210921,9.40285267938019 115,10.6152466725019 127.309642789079,14.2058370306299 139.1462329091,20.0366393799275 150.054896839789,27.883579256063 159.616420743937,
37.4451031602108 167.463360620072,48.3537670908992 173.29416296937,60.190357210921 176.884753327498,
72.4999999999998 178.09714732062,84.8096427890786 176.884753327498,96.6462329091003 173.29416296937,107.554896839789 167.463360620072,
117.116420743937 159.616420743937,124.963360620072 150.054896839789,130.79416296937 139.146232909101,134.384753327498 127.309642789079,135.59714732062 115))
                </pre></div><div class="refsection" id="idm17192"><h2>Veja também</h2><p><a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_MinimumBoundingRadius" title="ST_MinimumBoundingRadius">ST_MinimumBoundingRadius</a>, <a class="xref" href="#ST_LargestEmptyCircle" title="ST_LargestEmptyCircle">ST_LargestEmptyCircle</a>, <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a> </p></div></div><div class="refentry" id="ST_MinimumBoundingRadius"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinimumBoundingRadius — Returns the center point and radius of the smallest circle that contains a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">(geometry, double precision) <strong class="fsfunc">ST_MinimumBoundingRadius</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm17211"><h2>Descrição</h2><p>Computes the center point and radius of the smallest circle that contains a geometry. Returns a record with fields: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">center</code> - center point of the circle </p></li><li class="listitem"><p><code class="varname">radius</code> - radius of the circle </p></li></ul></div><p>Use with <a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a> to get the minimum bounding circle of a set of geometries.</p><p>To compute two points lying on the minimum circle (the "maximum diameter") use <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>. </p><p class="availability">Disponibilidade - 2.3.0</p></div><div class="refsection" id="idm17226"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(center), radius FROM ST_MinimumBoundingRadius('POLYGON((26426 65078,26531 65242,26075 65136,26096 65427,26426 65078))');

                st_astext                 |      radius
------------------------------------------+------------------
 POINT(26284.8418027133 65267.1145090825) | 247.436045591407
</pre></div><div class="refsection" id="idm17229"><h2>Veja também</h2><p><a class="xref" href="#ST_Collect" title="ST_Collect">ST_Collect</a>, <a class="xref" href="#ST_MinimumBoundingCircle" title="ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a>, <a class="xref" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a></p></div></div><div class="refentry" id="ST_OrientedEnvelope"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_OrientedEnvelope — Returns a minimum-area rectangle containing a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_OrientedEnvelope</strong>(</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm17247"><h2>Descrição</h2><p>Returns the minimum-area rotated rectangle enclosing a geometry. Note that more than one such rectangle may exist. May return a Point or LineString in the case of degenerate inputs. </p><p class="availability">Availability: 2.5.0. </p><p class="geos_requirement">Requires GEOS &gt;= 3.6.0.</p></div><div class="refsection" id="idm17252"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_OrientedEnvelope('MULTIPOINT ((0 0), (-1 -1), (3 2))'));

                st_astext
                ------------------------------------------------
                POLYGON((3 2,2.88 2.16,-1.12 -0.84,-1 -1,3 2))
            </pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_orientedenvelope01.png"/><div class="caption"><p>Oriented envelope of a point and linestring.</p></div></div></div><pre class="programlisting">SELECT ST_AsText(ST_OrientedEnvelope(
        ST_Collect(
            ST_GeomFromText('LINESTRING(55 75,125 150)'),
                ST_Point(20, 80))
                )) As wktenv;
wktenv
-----------
POLYGON((19.9999999999997 79.9999999999999,33.0769230769229 60.3846153846152,138.076923076924 130.384615384616,125.000000000001 150.000000000001,19.9999999999997 79.9999999999999))
</pre></div><div class="refsection" id="idm17262"><h2>Veja também</h2><p>
                <a class="xref" href="#ST_Envelope" title="ST_Envelope">ST_Envelope</a>
                <a class="xref" href="#ST_MinimumBoundingCircle" title="ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a>
            </p></div></div><div class="refentry" id="ST_OffsetCurve"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_OffsetCurve — Returns an offset line at a given distance and side from an input line. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_OffsetCurve</strong>(</code>geometry  <var class="pdparam">line</var>, float  <var class="pdparam">signed_distance</var>, text  <var class="pdparam">style_parameters=''</var><code>)</code>;</p></div></div><div class="refsection" id="idm17285"><h2>Descrição</h2><p>Return an offset line at a given distance and side from an input line. All points of the returned geometries are not further than the given distance from the input geometry. Useful for computing parallel lines about a center line. </p><p>For positive distance the offset is on the left side of the input line and retains the same direction. For a negative distance it is on the right side and in the opposite direction. </p><p>Unidades de distância são medidas em unidades do sistema de referência espacial.  </p><p>Note that output may be a MULTILINESTRING or EMPTY for some jigsaw-shaped input geometries. </p><p>O terceiro parâmetro opcional permite especificar uma lista de chave=valor em branco separados em pares para ajustar operações como segue:  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>'quad_segs=#' : número de segmentos usado para aproximar um quarto de círculo (leva a 8).</p></li><li class="listitem"><p>'join=round|mitre|bevel' : join style (padrão para "round"). 'miter' também é aceitado como sinônimo de 'mitre'.</p></li><li class="listitem"><p>'mitre_limit=#.#' : mitre ratio limit (só afeta o estilo mitred join). 'miter_limit' também é aceito como sinônimo para 'mitre_limit'.</p></li></ul></div><p>
                </p><p>Desempenhado pelo módulo GEOS.</p><p class="changed">Behavior changed in GEOS 3.11 so offset curves now have the same direction as the input line, for both positive and negative offsets.</p><p class="availability">Disponibilidade: 2.0</p><p class="enhanced">Enhanced: 2.5 - added support for GEOMETRYCOLLECTION and MULTILINESTRING</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function ignores the Z dimension. It always gives a 2D result even when used on a 3D geometry.</p></td></tr></table></div></div><div class="refsection" id="idm17305"><h2>Exemplos</h2><p>Calcula um buffer aberto em volta das ruas</p><pre class="programlisting">SELECT ST_Union(
 ST_OffsetCurve(f.geom,  f.width/2, 'quad_segs=4 join=round'),
 ST_OffsetCurve(f.geom, -f.width/2, 'quad_segs=4 join=round')
) as track
FROM someroadstable;

                </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_offsetcurve01.png"/><div class="caption"><p>15, 'quad_segs=4 join=round' original line and its offset 15 units.</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(ST_OffsetCurve(ST_GeomFromText(
'LINESTRING(164 16,144 16,124 16,104 16,84 16,64 16,
    44 16,24 16,20 16,18 16,17 17,
    16 18,16 20,16 40,16 60,16 80,16 100,
    16 120,16 140,16 160,16 180,16 195)'),
    15, 'quad_segs=4 join=round'));
<em class="lineannotation"><span class="lineannotation">
output
</span></em>
LINESTRING(164 1,18 1,12.2597485145237 2.1418070123307,
    7.39339828220179 5.39339828220179,
    5.39339828220179 7.39339828220179,
    2.14180701233067 12.2597485145237,1 18,1 195)
                </pre><p>
                          </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_offsetcurve02.png"/><div class="caption"><p>-15, 'quad_segs=4 join=round' original line and its offset -15 units </p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(ST_OffsetCurve(geom,
    -15, 'quad_segs=4 join=round')) As notsocurvy
    FROM ST_GeomFromText(
'LINESTRING(164 16,144 16,124 16,104 16,84 16,64 16,
    44 16,24 16,20 16,18 16,17 17,
    16 18,16 20,16 40,16 60,16 80,16 100,
    16 120,16 140,16 160,16 180,16 195)') As geom;
<em class="lineannotation"><span class="lineannotation">
notsocurvy
</span></em>
LINESTRING(31 195,31 31,164 31)
                </pre><p>
                        </p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_offsetcurve05.png"/><div class="caption"><p>double-offset para ficar mais curvo, note que o primeiro reverte a direção, então -30 + 15 = -15</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(ST_OffsetCurve(ST_OffsetCurve(geom,
    -30, 'quad_segs=4 join=round'), -15, 'quad_segs=4 join=round')) As morecurvy
    FROM ST_GeomFromText(
'LINESTRING(164 16,144 16,124 16,104 16,84 16,64 16,
    44 16,24 16,20 16,18 16,17 17,
    16 18,16 20,16 40,16 60,16 80,16 100,
    16 120,16 140,16 160,16 180,16 195)') As geom;
<em class="lineannotation"><span class="lineannotation">
morecurvy
</span></em>
LINESTRING(164 31,46 31,40.2597485145236 32.1418070123307,
35.3933982822018 35.3933982822018,
32.1418070123307 40.2597485145237,31 46,31 195)
                </pre><p>
                        </p></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_offsetcurve06.png"/><div class="caption"><p>double-offset para ficar mais curvo, combinado com offset 15 para obter linhas paralelas. Coberto com o original. </p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(ST_Collect(
    ST_OffsetCurve(geom, 15, 'quad_segs=4 join=round'),
    ST_OffsetCurve(ST_OffsetCurve(geom,
    -30, 'quad_segs=4 join=round'), -15, 'quad_segs=4 join=round')
    )
) As parallel_curves
    FROM ST_GeomFromText(
'LINESTRING(164 16,144 16,124 16,104 16,84 16,64 16,
    44 16,24 16,20 16,18 16,17 17,
    16 18,16 20,16 40,16 60,16 80,16 100,
    16 120,16 140,16 160,16 180,16 195)') As geom;
<em class="lineannotation"><span class="lineannotation">
parallel curves
</span></em>
MULTILINESTRING((164 1,18 1,12.2597485145237 2.1418070123307,
7.39339828220179 5.39339828220179,5.39339828220179 7.39339828220179,
2.14180701233067 12.2597485145237,1 18,1 195),
(164 31,46 31,40.2597485145236 32.1418070123307,35.3933982822018 35.3933982822018,
32.1418070123307 40.2597485145237,31 46,31 195))
                </pre><p>
                        </p></td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_offsetcurve03.png"/><div class="caption"><p>15, 'quad_segs=4 join=bevel' mostrado com a linha original</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(ST_OffsetCurve(ST_GeomFromText(
'LINESTRING(164 16,144 16,124 16,104 16,84 16,64 16,
    44 16,24 16,20 16,18 16,17 17,
    16 18,16 20,16 40,16 60,16 80,16 100,
    16 120,16 140,16 160,16 180,16 195)'),
        15, 'quad_segs=4 join=bevel'));
<em class="lineannotation"><span class="lineannotation">
output
</span></em>
LINESTRING(164 1,18 1,7.39339828220179 5.39339828220179,
    5.39339828220179 7.39339828220179,1 18,1 195)
                </pre><p>
                         </p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_offsetcurve04.png"/><div class="caption"><p>15,-15 collected, join=mitre mitre_limit=2.1</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(ST_Collect(
    ST_OffsetCurve(geom, 15, 'quad_segs=4 join=mitre mitre_limit=2.2'),
    ST_OffsetCurve(geom, -15, 'quad_segs=4 join=mitre mitre_limit=2.2')
    ) )
    FROM ST_GeomFromText(
'LINESTRING(164 16,144 16,124 16,104 16,84 16,64 16,
    44 16,24 16,20 16,18 16,17 17,
    16 18,16 20,16 40,16 60,16 80,16 100,
    16 120,16 140,16 160,16 180,16 195)') As geom;
<em class="lineannotation"><span class="lineannotation">
output
</span></em>
MULTILINESTRING((164 1,11.7867965644036 1,1 11.7867965644036,1 195),
    (31 195,31 31,164 31))
                </pre><p>
                          </p></td></tr></tbody></table></div></div><div class="refsection" id="idm17375"><h2>Veja também</h2><p><a class="xref" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a></p></div></div><div class="refentry" id="ST_PointOnSurface"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PointOnSurface — Computes a point guaranteed to lie in a polygon, or on a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PointOnSurface</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm17391"><h2>Descrição</h2><p>Returns a <code class="varname">POINT</code> which is guaranteed to lie in the interior of a surface (<code class="varname">POLYGON</code>, <code class="varname">MULTIPOLYGON</code>, and <code class="varname">CURVEPOLYGON</code>). In PostGIS this function also works on line and point geometries. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the <a class="link" href="http://www.opengeospatial.org/standards/sfs" target="_top">OGC Simple Features Implementation Specification for SQL 1.1.</a>  s3.2.14.2 // s3.2.18.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 8.1.5, 9.5.6. The specifications define ST_PointOnSurface for surface geometries only. PostGIS extends the function to support all common geometry types. Other databases (Oracle, DB2, ArcSDE) seem to support this function only for surfaces. SQL Server 2008 supports all common geometry types.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm17411"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_pointonsurface01.png"/><div class="caption"><p>Point on surface of a <code class="varname">MULTIPOINT</code></p></div></div></div></td><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_pointonsurface02.png"/><div class="caption"><p>Point on surface of a <code class="varname">LINESTRING</code></p></div></div></div></td></tr><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_pointonsurface03.png"/><div class="caption"><p>Point on surface of a <code class="varname">POLYGON</code></p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_pointonsurface04.png"/><div class="caption"><p>Point on surface of a <code class="varname">GEOMETRYCOLLECTION</code></p></div></div></div></td></tr></tbody></table></div><pre class="programlisting">SELECT ST_AsText(ST_PointOnSurface('POINT(0 5)'::geometry));
------------
 POINT(0 5)

SELECT ST_AsText(ST_PointOnSurface('LINESTRING(0 5, 0 10)'::geometry));
------------
 POINT(0 5)

SELECT ST_AsText(ST_PointOnSurface('POLYGON((0 0, 0 5, 5 5, 5 0, 0 0))'::geometry));
----------------
 POINT(2.5 2.5)

SELECT ST_AsEWKT(ST_PointOnSurface(ST_GeomFromEWKT('LINESTRING(0 5 1, 0 0 1, 0 10 2)')));
----------------
 POINT(0 0 1)
</pre><p><span class="bold"><strong>Example:</strong></span> The result of ST_PointOnSurface is guaranteed to lie within polygons, whereas the point computed by <a class="xref" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a> may be outside. </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_pointonsurface.png"/><div class="caption"><p>Red: point on surface; Green: centroid</p></div></div></div><pre class="programlisting">SELECT ST_AsText(ST_PointOnSurface(geom)) AS pt_on_surf,
       ST_AsText(ST_Centroid(geom)) AS centroid
    FROM (SELECT 'POLYGON ((130 120, 120 190, 30 140, 50 20, 190 20,
                      170 100, 90 60, 90 130, 130 120))'::geometry AS geom) AS t;

   pt_on_surf    |                  centroid
-----------------+---------------------------------------------
 POINT(62.5 110) | POINT(100.18264840182648 85.11415525114155)
</pre></div><div class="refsection" id="idm17465"><h2>Veja também</h2><p><a class="xref" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a>, <a class="xref" href="#ST_MaximumInscribedCircle" title="ST_MaximumInscribedCircle">ST_MaximumInscribedCircle</a></p></div></div><div class="refentry" id="ST_Polygonize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Polygonize — Computes a collection of polygons formed from the linework of a set of geometries. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Polygonize</strong>(</code>geometry set <var class="pdparam">geomfield</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Polygonize</strong>(</code>geometry[] <var class="pdparam">geom_array</var><code>)</code>;</p></div></div><div class="refsection" id="idm17488"><h2>Descrição</h2><p>Creates a GeometryCollection containing the polygons formed by the linework of a set of geometries. If the input linework does not form any polygons, an empty GeometryCollection is returned. </p><p>This function creates polygons covering all delimited areas. If the result is intended to form a valid polygonal geometry, use <a class="xref" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea</a> to prevent holes being filled. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The input linework must be correctly noded for this function to work properly. To ensure input is noded use <a class="xref" href="#ST_Node" title="ST_Node">ST_Node</a> on the input geometry before polygonizing. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>GeometryCollections can be difficult to handle with external tools. Use <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a> to convert the polygonized result into separate polygons.</p></td></tr></table></div><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 1.0.0RC1</p></div><div class="refsection" id="idm17501"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_polygonize01.png"/><div class="caption"><p>Input lines</p></div></div></div><p>
        </p></td><td><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_polygonize02.png"/><div class="caption"><p>Polygonized result</p></div></div></div><p>
        </p></td></tr></tbody></table></div><pre class="programlisting">WITH data(geom) AS (VALUES
   ('LINESTRING (180 40, 30 20, 20 90)'::geometry)
  ,('LINESTRING (180 40, 160 160)'::geometry)
  ,('LINESTRING (80 60, 120 130, 150 80)'::geometry)
  ,('LINESTRING (80 60, 150 80)'::geometry)
  ,('LINESTRING (20 90, 70 70, 80 130)'::geometry)
  ,('LINESTRING (80 130, 160 160)'::geometry)
  ,('LINESTRING (20 90, 20 160, 70 190)'::geometry)
  ,('LINESTRING (70 190, 80 130)'::geometry)
  ,('LINESTRING (70 190, 160 160)'::geometry)
)
SELECT ST_AsText( ST_Polygonize( geom ))
    FROM data;

------------------------------------------------------------------------------------------
GEOMETRYCOLLECTION (POLYGON ((180 40, 30 20, 20 90, 70 70, 80 130, 160 160, 180 40), (150 80, 120 130, 80 60, 150 80)),
                    POLYGON ((20 90, 20 160, 70 190, 80 130, 70 70, 20 90)),
                    POLYGON ((160 160, 80 130, 70 190, 160 160)),
                    POLYGON ((80 60, 120 130, 150 80, 80 60)))

</pre><p>Polygonizing a table of linestrings:</p><pre class="programlisting">SELECT ST_AsEWKT(ST_Polygonize(geom_4269)) As geomtextrep
FROM (SELECT geom_4269 FROM ma.suffolk_edges) As foo;

-------------------------------------
 SRID=4269;GEOMETRYCOLLECTION(POLYGON((-71.040878 42.285678,-71.040943 42.2856,-71.04096 42.285752,-71.040878 42.285678)),
 POLYGON((-71.17166 42.353675,-71.172026 42.354044,-71.17239 42.354358,-71.171794 42.354971,-71.170511 42.354855,
 -71.17112 42.354238,-71.17166 42.353675)))

--Use ST_Dump to dump out the polygonize geoms into individual polygons
SELECT ST_AsEWKT((ST_Dump(t.polycoll)).geom) AS geomtextrep
FROM (SELECT ST_Polygonize(geom_4269) AS polycoll
    FROM (SELECT geom_4269 FROM ma.suffolk_edges)
        As foo) AS t;

------------------------
 SRID=4269;POLYGON((-71.040878 42.285678,-71.040943 42.2856,-71.04096 42.285752,
-71.040878 42.285678))
 SRID=4269;POLYGON((-71.17166 42.353675,-71.172026 42.354044,-71.17239 42.354358
,-71.171794 42.354971,-71.170511 42.354855,-71.17112 42.354238,-71.17166 42.353675))
</pre></div><div class="refsection" id="idm17526"><h2>Veja também</h2><p><a class="xref" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_Node" title="ST_Node">ST_Node</a> </p></div></div><div class="refentry" id="ST_ReducePrecision"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ReducePrecision — Returns a valid geometry with points rounded to a grid tolerance.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ReducePrecision</strong>(</code>geometry  <var class="pdparam">g</var>, float8  <var class="pdparam">gridsize</var><code>)</code>;</p></div></div><div class="refsection" id="idm17547"><h2>Descrição</h2><p>Returns a valid geometry with all points rounded to the provided grid tolerance, and features below the tolerance removed.</p><p>Unlike <a class="xref" href="#ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a> the returned geometry will be valid, with no ring self-intersections or collapsed components.</p><p>Precision reduction can be used to: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>match coordinate precision to the data accuracy </p></li><li class="listitem"><p>reduce the number of coordinates needed to represent a geometry </p></li><li class="listitem"><p>ensure valid geometry output to formats which use lower precision (e.g. text formats such as WKT, GeoJSON or KML when the number of output decimal places is limited). </p></li><li class="listitem"><p>export valid geometry to systems which use lower or limited precision (e.g. SDE, Oracle tolerance value) </p></li></ul></div><p>
		</p><p class="availability">Availability: 3.1.0.</p><p class="geos_requirement">Requires GEOS &gt;= 3.9.0.</p></div><div class="refsection" id="idm17564"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_ReducePrecision('POINT(1.412 19.323)', 0.1));
    st_astext
-----------------
 POINT(1.4 19.3)

SELECT ST_AsText(ST_ReducePrecision('POINT(1.412 19.323)', 1.0));
  st_astext
-------------
 POINT(1 19)

SELECT ST_AsText(ST_ReducePrecision('POINT(1.412 19.323)', 10));
  st_astext
-------------
 POINT(0 20)
</pre><p>Precision reduction can reduce number of vertices</p><pre class="programlisting">SELECT ST_AsText(ST_ReducePrecision('LINESTRING (10 10, 19.6 30.1, 20 30, 20.3 30, 40 40)', 1));
  st_astext
-------------
 LINESTRING (10 10, 20 30, 40 40)
</pre><p>Precision reduction splits polygons if needed to ensure validity</p><pre class="programlisting">SELECT ST_AsText(ST_ReducePrecision('POLYGON ((10 10, 60 60.1, 70 30, 40 40, 50 10, 10 10))', 10));
  st_astext
-------------
 MULTIPOLYGON (((60 60, 70 30, 40 40, 60 60)), ((40 40, 50 10, 10 10, 40 40)))
</pre></div><div class="refsection" id="idm17571"><h2>Veja também</h2><p><a class="xref" href="#ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a>, <a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>, <a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a></p></div></div><div class="refentry" id="ST_SharedPaths"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SharedPaths — Retorna uma coleção contendo caminhos compartilhados pelas duas linestrings/multilinestrings de entrada.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SharedPaths</strong>(</code>geometry <var class="pdparam">lineal1</var>, geometry <var class="pdparam">lineal2</var><code>)</code>;</p></div></div><div class="refsection" id="idm17592"><h2>Descrição</h2><p>Retorna uma coleção contendo caminhos compartilhados pelas duas geometrias de entrada. Aquelas indo na mesma direção estão no primeiro elemento da coleção, aquelas indo na direção oposta estão no segundo elemento. Os caminhos por si mesmos são dados na direção da primeira geometria.  </p><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm17597"><h2>Exemplos: Encontrando caminhos compartilhados</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_sharedpaths01.png"/><div class="caption"><p>Uma multilinestring e uma linestring</p></div></div></div>
               </td></tr><tr><td style="border-bottom: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_sharedpaths02.png"/><div class="caption"><p>O caminho compartilhado de multilinestring e linestring revestido com as geometrias originais.</p></div></div></div><p>
                  </p><pre class="programlisting">SELECT ST_AsText(
  ST_SharedPaths(
    ST_GeomFromText('MULTILINESTRING((26 125,26 200,126 200,126 125,26 125),
       (51 150,101 150,76 175,51 150))'),
    ST_GeomFromText('LINESTRING(151 100,126 156.25,126 125,90 161, 76 175)')
    )
  ) As wkt

                                wkt
-------------------------------------------------------------
GEOMETRYCOLLECTION(MULTILINESTRING((126 156.25,126 125),
 (101 150,90 161),(90 161,76 175)),MULTILINESTRING EMPTY)
              </pre><p>
            </p>
            </td></tr><tr><td><p>
                  </p><pre class="programlisting"><em class="lineannotation"><span class="lineannotation">
same example but linestring orientation flipped
</span></em>
SELECT ST_AsText(
  ST_SharedPaths(
   ST_GeomFromText('LINESTRING(76 175,90 161,126 125,126 156.25,151 100)'),
   ST_GeomFromText('MULTILINESTRING((26 125,26 200,126 200,126 125,26 125),
       (51 150,101 150,76 175,51 150))')
    )
  ) As wkt

                                wkt
-------------------------------------------------------------
GEOMETRYCOLLECTION(MULTILINESTRING EMPTY,
MULTILINESTRING((76 175,90 161),(90 161,101 150),(126 125,126 156.25)))
              </pre><p>
            </p>
            </td></tr></tbody></table></div></div><div class="refsection" id="idm17626"><h2>Veja também</h2><p><a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a>, <a class="xref" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> </p></div></div><div class="refentry" id="ST_Simplify"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Simplify — Returns a simplified representation of a geometry, using the Douglas-Peucker algorithm.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Simplify</strong>(</code>geometry <var class="pdparam">geom</var>, float <var class="pdparam">tolerance</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Simplify</strong>(</code>geometry <var class="pdparam">geom</var>, float <var class="pdparam">tolerance</var>, boolean <var class="pdparam">preserveCollapsed</var><code>)</code>;</p></div></div><div class="refsection" id="idm17659"><h2>Descrição</h2><p>Computes a simplified representation of a geometry using the <a class="link" href="https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm" target="_top">Douglas-Peucker algorithm</a>. The simplification <code class="varname">tolerance</code> is a distance value, in the units of the input SRS. Simplification removes vertices which are within the tolerance distance of the simplified linework. The result may not be valid even if the input is. </p><p>The function can be called with any kind of geometry (including GeometryCollections), but only line and polygon elements are simplified. Endpoints of linear geometry are preserved. </p><p>The <code class="varname">preserveCollapsed</code> flag retains small geometries that would otherwise be removed at the given tolerance. For example, if a 1m long line is simplified with a 10m tolerance, when <code class="varname">preserveCollapsed</code> is true the line will not disappear. This flag is useful for rendering purposes, to prevent very small features disappearing from a map.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The returned geometry may lose its simplicity (see <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>), topology may not be preserved, and polygonal results may be invalid (see <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>). Use <a class="xref" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a> to preserve topology and ensure validity.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function does not preserve boundaries shared between polygons. Use <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> if this is required.</p></td></tr></table></div><p class="availability">Disponibilidade: 1.2.2</p></div><div class="refsection" id="idm17677"><h2>Exemplos</h2><p>Um círculo muito simplificado se torna um triângulo, médio um octágono,  </p><pre class="programlisting">SELECT ST_Npoints(geom) AS np_before,
       ST_NPoints(ST_Simplify(geom, 0.1)) AS np01_notbadcircle,
       ST_NPoints(ST_Simplify(geom, 0.5)) AS np05_notquitecircle,
       ST_NPoints(ST_Simplify(geom, 1)) AS np1_octagon,
       ST_NPoints(ST_Simplify(geom, 10)) AS np10_triangle,
       (ST_Simplify(geom, 100) is null) AS  np100_geometrygoesaway
  FROM (SELECT ST_Buffer('POINT(1 3)', 10,12) As geom) AS t;

 np_before | np01_notbadcircle | np05_notquitecircle | np1_octagon | np10_triangle | np100_geometrygoesaway
-----------+-------------------+---------------------+-------------+---------------+------------------------
        49 |                33 |                  17 |           9 |             4 | t
</pre><p>Simplifying a set of lines. Lines may intersect after simplification.</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplify01.png"/></div></div><pre class="programlisting">SELECT ST_Simplify(
  'MULTILINESTRING ((20 180, 20 150, 50 150, 50 100, 110 150, 150 140, 170 120), (20 10, 80 30, 90 120), (90 120, 130 130), (130 130, 130 70, 160 40, 180 60, 180 90, 140 80), (50 40, 70 40, 80 70, 70 60, 60 60, 50 50, 50 40))',
    40);
</pre><p>Simplifying a MultiPolygon. Polygonal results may be invalid.</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplify02.png"/></div></div><pre class="programlisting">SELECT ST_Simplify(
  'MULTIPOLYGON (((90 110, 80 180, 50 160, 10 170, 10 140, 20 110, 90 110)), ((40 80, 100 100, 120 160, 170 180, 190 70, 140 10, 110 40, 60 40, 40 80), (180 70, 170 110, 142.5 128.5, 128.5 77.5, 90 60, 180 70)))',
    40);
</pre></div><div class="refsection" id="idm17693"><h2>Veja também</h2><p><a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>, <a class="xref" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a>, <a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a>, <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a>, Topology <a class="xref" href="#TP_ST_Simplify" title="ST_Simplify">ST_Simplify</a></p></div></div><div class="refentry" id="ST_SimplifyPreserveTopology"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SimplifyPreserveTopology — Returns a simplified and valid representation of a geometry, using the Douglas-Peucker algorithm.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SimplifyPreserveTopology</strong>(</code>geometry <var class="pdparam">geom</var>, float <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm17716"><h2>Descrição</h2><p>Computes a simplified representation of a geometry using a variant of the <a class="link" href="https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm" target="_top">Douglas-Peucker algorithm</a> which limits simplification to ensure the result has the same topology as the input. The simplification <code class="varname">tolerance</code> is a distance value, in the units of the input SRS. Simplification removes vertices which are within the tolerance distance of the simplified linework, as long as topology is preserved. The result will be valid and simple if the input is. </p><p>The function can be called with any kind of geometry (including GeometryCollections), but only line and polygon elements are simplified. For polygonal inputs, the result will have the same number of rings (shells and holes), and the rings will not cross. Ring endpoints may be simplified. For linear inputs, the result will have the same number of lines, and lines will not intersect if they did not do so in the original geometry. Endpoints of linear geometry are preserved. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function does not preserve boundaries shared between polygons. Use <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> if this is required.</p></td></tr></table></div><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 1.3.3</p></div><div class="refsection" id="idm17727"><h2>Exemplos</h2><p>For the same example as <a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>, ST_SimplifyPreserveTopology prevents oversimplification. The circle can at most become a square.</p><pre class="programlisting">SELECT  ST_Npoints(geom) AS np_before, 
        ST_NPoints(ST_SimplifyPreserveTopology(geom, 0.1)) AS np01_notbadcircle, 
        ST_NPoints(ST_SimplifyPreserveTopology(geom, 0.5)) AS np05_notquitecircle,
        ST_NPoints(ST_SimplifyPreserveTopology(geom, 1))   AS np1_octagon, 
        ST_NPoints(ST_SimplifyPreserveTopology(geom, 10))  AS np10_square,
        ST_NPoints(ST_SimplifyPreserveTopology(geom, 100)) AS np100_stillsquare
FROM (SELECT ST_Buffer('POINT(1 3)', 10,12) AS geom) AS t;

 np_before | np01_notbadcircle | np05_notquitecircle | np1_octagon | np10_square | np100_stillsquare
-----------+-------------------+---------------------+-------------+-------------+-------------------
        49 |                33 |                  17 |           9 |           5 |                 5
</pre><p>Simplifying a set of lines, preserving topology of non-intersecting lines.</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplifypreservetopology01.png"/></div></div><pre class="programlisting">SELECT ST_SimplifyPreserveTopology(
  'MULTILINESTRING ((20 180, 20 150, 50 150, 50 100, 110 150, 150 140, 170 120), (20 10, 80 30, 90 120), (90 120, 130 130), (130 130, 130 70, 160 40, 180 60, 180 90, 140 80), (50 40, 70 40, 80 70, 70 60, 60 60, 50 50, 50 40))',
    40);
</pre><p>Simplifying a MultiPolygon, preserving topology of shells and holes.</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplifypreservetopology02.png"/></div></div><pre class="programlisting">SELECT ST_SimplifyPreserveTopology(
  'MULTIPOLYGON (((90 110, 80 180, 50 160, 10 170, 10 140, 20 110, 90 110)), ((40 80, 100 100, 120 160, 170 180, 190 70, 140 10, 110 40, 60 40, 40 80), (180 70, 170 110, 142.5 128.5, 128.5 77.5, 90 60, 180 70)))',
    40);
</pre></div><div class="refsection" id="idm17744"><h2>Veja também</h2><p><a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>, <a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a>, <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a></p></div></div><div class="refentry" id="ST_SimplifyPolygonHull"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SimplifyPolygonHull — Computes a simplifed topology-preserving outer or inner hull of a polygonal geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SimplifyPolygonHull</strong>(</code>geometry  <var class="pdparam">param_geom</var>, float  <var class="pdparam">vertex_fraction</var>, boolean  <var class="pdparam">is_outer = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm17768"><h2>Descrição</h2><p>Computes a simplified topology-preserving outer or inner hull of a polygonal geometry. An outer hull completely covers the input geometry. An inner hull is completely covered by the input geometry. The result is a polygonal geometry formed by a subset of the input vertices. MultiPolygons and holes are handled and produce a result with the same structure as the input. </p><p>The reduction in vertex count is controlled by the <code class="varname">vertex_fraction</code> parameter, which is a number in the range 0 to 1. Lower values produce simpler results, with smaller vertex count and less concaveness. For both outer and inner hulls a vertex fraction of 1.0 produces the original geometry. For outer hulls a value of 0.0 produces the convex hull (for a single polygon); for inner hulls it produces a triangle.</p><p>The simplification process operates by progressively removing concave corners that contain the least amount of area, until the vertex count target is reached. It prevents edges from crossing, so the result is always a valid polygonal geometry. </p><p>To get better results with geometries that contain relatively long line segments, it might be necessary to "segmentize" the input, as shown below.</p><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Availability: 3.3.0.</p><p class="geos_requirement">Requires GEOS &gt;= 3.11.0.</p></div><div class="refsection" id="idm17778"><h2>Exemplos</h2><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplifypolygonhull02.png"/><div class="caption"><p>Outer hull of a Polygon</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_SimplifyPolygonHull(
  'POLYGON ((131 158, 136 163, 161 165, 173 156, 179 148, 169 140, 186 144, 190 137, 185 131, 174 128, 174 124, 166 119, 158 121, 158 115, 165 107, 161 97, 166 88, 166 79, 158 57, 145 57, 112 53, 111 47, 93 43, 90 48, 88 40, 80 39, 68 32, 51 33, 40 31, 39 34, 49 38, 34 38, 25 34, 28 39, 36 40, 44 46, 24 41, 17 41, 14 46, 19 50, 33 54, 21 55, 13 52, 11 57, 22 60, 34 59, 41 68, 75 72, 62 77, 56 70, 46 72, 31 69, 46 76, 52 82, 47 84, 56 90, 66 90, 64 94, 56 91, 33 97, 36 100, 23 100, 22 107, 29 106, 31 112, 46 116, 36 118, 28 131, 53 132, 59 127, 62 131, 76 130, 80 135, 89 137, 87 143, 73 145, 80 150, 88 150, 85 157, 99 162, 116 158, 115 165, 123 165, 122 170, 134 164, 131 158))',
    0.3);
</pre><p>
    </p><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplifypolygonhull03.png"/><div class="caption"><p>Inner hull of a Polygon</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_SimplifyPolygonHull(
  'POLYGON ((131 158, 136 163, 161 165, 173 156, 179 148, 169 140, 186 144, 190 137, 185 131, 174 128, 174 124, 166 119, 158 121, 158 115, 165 107, 161 97, 166 88, 166 79, 158 57, 145 57, 112 53, 111 47, 93 43, 90 48, 88 40, 80 39, 68 32, 51 33, 40 31, 39 34, 49 38, 34 38, 25 34, 28 39, 36 40, 44 46, 24 41, 17 41, 14 46, 19 50, 33 54, 21 55, 13 52, 11 57, 22 60, 34 59, 41 68, 75 72, 62 77, 56 70, 46 72, 31 69, 46 76, 52 82, 47 84, 56 90, 66 90, 64 94, 56 91, 33 97, 36 100, 23 100, 22 107, 29 106, 31 112, 46 116, 36 118, 28 131, 53 132, 59 127, 62 131, 76 130, 80 135, 89 137, 87 143, 73 145, 80 150, 88 150, 85 157, 99 162, 116 158, 115 165, 123 165, 122 170, 134 164, 131 158))',
    0.3, false);
</pre><p>
    </p><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplifypolygonhull01.png"/><div class="caption"><p>Outer hull simplification of a MultiPolygon, with segmentization</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_SimplifyPolygonHull(
  ST_Segmentize(ST_Letters('xt'), 2.0),
    0.1);
</pre><p>
    </p></div><div class="refsection" id="idm17804"><h2>Veja também</h2><p><a class="xref" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>, <a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a>, <a class="xref" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>, <a class="xref" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a></p></div></div><div class="refentry" id="ST_SimplifyVW"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SimplifyVW — Returns a simplified representation of a geometry, using the Visvalingam-Whyatt algorithm</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SimplifyVW</strong>(</code>geometry <var class="pdparam">geom</var>, float <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm17826"><h2>Descrição</h2><p>Returns a simplified representation of a geometry using the <a class="link" href="https://en.wikipedia.org/wiki/Visvalingam%E2%80%93Whyatt_algorithm" target="_top">Visvalingam-Whyatt algorithm</a>. The simplification <code class="varname">tolerance</code> is an area value, in the units of the input SRS. Simplification removes vertices which form "corners" with area less than the tolerance. The result may not be valid even if the input is. </p><p>The function can be called with any kind of geometry (including GeometryCollections), but only line and polygon elements are simplified. Endpoints of linear geometry are preserved. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The returned geometry may lose its simplicity (see <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>), topology may not be preserved, and polygonal results may be invalid (see <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>). Use <a class="xref" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a> to preserve topology and ensure validity. <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> also preserves topology and validity. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function does not preserve boundaries shared between polygons. Use <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> if this is required.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função lida com 3D e a terceira dimensão afetará o resultado.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0</p></div><div class="refsection" id="idm17844"><h2>Exemplos</h2><p>A LineString is simplified with a minimum-area tolerance of 30.</p><pre class="programlisting">SELECT ST_AsText(ST_SimplifyVW(geom,30)) simplified
  FROM (SELECT 'LINESTRING(5 2, 3 8, 6 20, 7 25, 10 10)'::geometry AS geom) AS t;

 simplified
------------------------------
LINESTRING(5 2,7 25,10 10)
</pre><p>Simplifying a line.</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplifyvw01.png"/></div></div><pre class="programlisting">SELECT ST_SimplifyVW(
  'LINESTRING (10 10, 50 40, 30 70, 50 60, 70 80, 50 110, 100 100, 90 140, 100 180, 150 170, 170 140, 190 90, 180 40, 110 40, 150 20)',
    1600);
</pre><p>Simplifying a polygon.</p><div class="informalfigure"><div class="mediaobject"><img src="images/st_simplifyvw02.png"/></div></div><pre class="programlisting">SELECT ST_SimplifyVW(
  'MULTIPOLYGON (((90 110, 80 180, 50 160, 10 170, 10 140, 20 110, 90 110)), ((40 80, 100 100, 120 160, 170 180, 190 70, 140 10, 110 40, 60 40, 40 80), (180 70, 170 110, 142.5 128.5, 128.5 77.5, 90 60, 180 70)))',
    40);
</pre></div><div class="refsection" id="idm17860"><h2>Veja também</h2><p><a class="xref" href="#ST_SetEffectiveArea" title="ST_SetEffectiveArea">ST_SetEffectiveArea</a>, <a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>, <a class="xref" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a>, <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a>, Topology <a class="xref" href="#TP_ST_Simplify" title="ST_Simplify">ST_Simplify</a></p></div></div><div class="refentry" id="ST_SetEffectiveArea"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetEffectiveArea — Sets the effective area for each vertex, using the Visvalingam-Whyatt algorithm. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SetEffectiveArea</strong>(</code>geometry <var class="pdparam">geom</var>, float <var class="pdparam">threshold = 0</var>, integer <var class="pdparam">set_area = 1</var><code>)</code>;</p></div></div><div class="refsection" id="idm17886"><h2>Descrição</h2><p>Define a área eficaz para cada vértice, usando o algorítimo Visvalingam-Whyatt. A área efetiva é armazenada como o valor-M do vértice. Se o parâmetro opcional "limiar" for usado, uma geometria simplificada vai retornar, contendo somente vértices com uma área efetiva maior ou igual ao valor limiar.  </p><p>Esta função pode ser usada para simplificação do lado do servidor quando uma limiar estiver especificada. Outra opção é usar um valor limiar de zero. Neste caso, a geometria completa retornará com áreas eficazes como valores-M, que podem ser usados pelo cliente para simplifica rapidamente.  </p><p>Só irá fazer algo com (multi)lines, (multi)polígonos e multipontos, mas você pode usar com qualquer tipo de geometria. Já que ocorre a simplificação em uma base objeto por objeto, você também pode alimentar uma GeometryCollection para esta função.   </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Note que a geometria retornada pode perder sua simplicidade (veja <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>)</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Note que a topologia pode não ser preservada e resultar em geometrias inválidas. Use (veja <a class="xref" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a>) para preservar a topologia. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A geometria de saída perderá todas as informações prévias nos valores-M </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função lida com 3D e a terceira dimensão afetará a área eficaz.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0</p></div><div class="refsection" id="idm17902"><h2>Exemplos</h2><p>Calculando a área eficaz de uma LineString. Devido ao uso de um valor limiar zero, todos os vértices na geometria de entrada são retornados.  </p><pre class="programlisting">select ST_AsText(ST_SetEffectiveArea(geom)) all_pts, ST_AsText(ST_SetEffectiveArea(geom,30) ) thrshld_30
FROM (SELECT  'LINESTRING(5 2, 3 8, 6 20, 7 25, 10 10)'::geometry geom) As foo;
-result
 all_pts | thrshld_30
-----------+-------------------+
LINESTRING M (5 2 3.40282346638529e+38,3 8 29,6 20 1.5,7 25 49.5,10 10 3.40282346638529e+38) | LINESTRING M (5 2 3.40282346638529e+38,7 25 49.5,10 10 3.40282346638529e+38)

                </pre></div><div class="refsection" id="idm17906"><h2>Veja também</h2><p><a class="xref" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a></p></div></div><div class="refentry" id="ST_TriangulatePolygon"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_TriangulatePolygon — Computes the constrained Delaunay triangulation of polygons</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_TriangulatePolygon</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm17922"><h2>Descrição</h2><p>Computes the constrained Delaunay triangulation of polygons. Holes and Multipolygons are supported. </p><p>The "constrained Delaunay triangulation" of a polygon is a set of triangles formed from the vertices of the polygon, and covering it exactly, with the maximum total interior angle over all possible triangulations. It provides the "best quality" triangulation of the polygon.</p><p class="availability">Availability: 3.3.0.</p><p class="geos_requirement">Requires GEOS &gt;= 3.11.0.</p></div><div class="refsection" id="idm17928"><h2>Exemplo</h2><p>Triangulation of a square.</p><pre class="programlisting">SELECT ST_AsText(
    ST_TriangulatePolygon('POLYGON((0 0, 0 1, 1 1, 1 0, 0 0))'));

                                 st_astext
---------------------------------------------------------------------------
 GEOMETRYCOLLECTION(POLYGON((0 0,0 1,1 1,0 0)),POLYGON((1 1,1 0,0 0,1 1)))
                </pre></div><div class="refsection" id="idm17932"><h2>Exemplo</h2><p>Triangulation of the letter P.</p><pre class="programlisting">SELECT ST_AsText(ST_TriangulatePolygon(
    'POLYGON ((26 17, 31 19, 34 21, 37 24, 38 29, 39 43, 39 161, 38 172, 36 176, 34 179, 30 181, 25 183, 10 185, 10 190, 100 190, 121 189, 139 187, 154 182, 167 177, 177 169, 184 161, 189 152, 190 141, 188 128, 186 123, 184 117, 180 113, 176 108, 170 104, 164 101, 151 96, 136 92, 119 89, 100 89, 86 89, 73 89, 73 39, 74 32, 75 27, 77 23, 79 20, 83 18, 89 17, 106 15, 106 10, 10 10, 10 15, 26 17), (152 147, 151 152, 149 157, 146 162, 142 166, 137 169, 132 172, 126 175, 118 177, 109 179, 99 180, 89 180, 80 179, 76 178, 74 176, 73 171, 73 100, 85 99, 91 99, 102 99, 112 100, 121 102, 128 104, 134 107, 139 110, 143 114, 147 118, 149 123, 151 128, 153 141, 152 147))'
    ));
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_triangulatepolygon01.png"/><div class="caption"><p>Polygon Triangulation</p></div></div></div></div><div class="refsection" id="idm17942"><h2>Same example as ST_Tesselate</h2><pre class="programlisting">SELECT ST_TriangulatePolygon(
                'POLYGON (( 10 190, 10 70, 80 70, 80 130, 50 160, 120 160, 120 190, 10 190 ))'::geometry
                );</pre><p>ST_AsText output</p><pre class="screen">GEOMETRYCOLLECTION(POLYGON((50 160,120 190,120 160,50 160))
    ,POLYGON((10 70,80 130,80 70,10 70))
    ,POLYGON((50 160,10 70,10 190,50 160))
    ,POLYGON((120 190,50 160,10 190,120 190))
    ,POLYGON((80 130,10 70,50 160,80 130)))</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
                      </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_tesselate03.png"/><div class="caption"><p>Polígono original</p></div></div></div>
                      </td><td>
                      <div class="informalfigure"><div class="mediaobject"><img src="images/st_triangulatepolygon02.png"/><div class="caption"><p>Triangulated Polygon</p></div></div></div>
                      </td></tr></tbody></table></div></div><div class="refsection" id="idm17967"><h2>Veja também</h2><p><a class="xref" href="#ST_ConstrainedDelaunayTriangles" title="ST_ConstrainedDelaunayTriangles">ST_ConstrainedDelaunayTriangles</a>, <a class="xref" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a>, <a class="xref" href="#ST_Tesselate" title="ST_Tesselate">ST_Tesselate</a> </p></div></div><div class="refentry" id="ST_VoronoiLines"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_VoronoiLines — Returns the boundaries of the Voronoi diagram of the vertices of a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_VoronoiLines</strong>(</code> geometry <var class="pdparam">geom</var> ,  float8 <var class="pdparam">tolerance = 0.0</var> ,  geometry <var class="pdparam">extend_to = NULL</var> <code>)</code>;</p></div></div><div class="refsection" id="idm17991"><h2>Descrição</h2><p>Computes a two-dimensional <a class="link" href="https://en.wikipedia.org/wiki/Voronoi_diagram" target="_top">Voronoi diagram</a> from the vertices of the supplied geometry and returns the boundaries between cells in the diagram as a MultiLineString. Returns null if input geometry is null. Returns an empty geometry collection if the input geometry contains only one vertex. Returns an empty geometry collection if the <code class="varname">extend_to</code> envelope has zero area. </p><p>Parâmetros opcionais:  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">tolerance</code>: The distance within which vertices will be considered equivalent. Robustness of the algorithm can be improved by supplying a nonzero tolerance distance. (default = 0.0)</p></li><li class="listitem"><p><code class="varname">extend_to</code>: If present, the diagram is extended to cover the envelope of the supplied geometry, unless smaller than the default envelope (default = NULL, default envelope is the bounding box of the input expanded by about 50%). </p></li></ul></div><p>
        </p><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 2.3.0</p></div><div class="refsection" id="idm18006"><h2>Exemplos</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_voronoi03.png"/><div class="caption"><p>Voronoi diagram lines, with tolerance of 30 units</p></div></div></div><pre class="programlisting">SELECT ST_VoronoiLines(
            'MULTIPOINT (50 30, 60 30, 100 100,10 150, 110 120)'::geometry,
            30) AS geom;
</pre><pre class="screen"><em class="lineannotation"><span class="lineannotation">ST_AsText output</span></em>
MULTILINESTRING((135.555555555556 270,36.8181818181818 92.2727272727273),(36.8181818181818 92.2727272727273,-110 43.3333333333333),(230 -45.7142857142858,36.8181818181818 92.2727272727273))
</pre></div><div class="refsection" id="idm18017"><h2>Veja também</h2><p><a class="xref" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a>, <a class="xref" href="#ST_VoronoiPolygons" title="ST_VoronoiPolygons">ST_VoronoiPolygons</a> </p></div></div><div class="refentry" id="ST_VoronoiPolygons"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_VoronoiPolygons — Returns the cells of the Voronoi diagram of the vertices of a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_VoronoiPolygons</strong>(</code> geometry <var class="pdparam">geom</var> ,  float8 <var class="pdparam">tolerance = 0.0</var> ,  geometry <var class="pdparam">extend_to = NULL</var> <code>)</code>;</p></div></div><div class="refsection" id="idm18040"><h2>Descrição</h2><p>Computes a two-dimensional <a class="link" href="https://en.wikipedia.org/wiki/Voronoi_diagram" target="_top">Voronoi diagram</a> from the vertices of the supplied geometry. The result is a GEOMETRYCOLLECTION of POLYGONs that covers an envelope larger than the extent of the input vertices. Returns null if input geometry is null. Returns an empty geometry collection if the input geometry contains only one vertex. Returns an empty geometry collection if the <code class="varname">extend_to</code> envelope has zero area. </p><p>Parâmetros opcionais:  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">tolerance</code>: The distance within which vertices will be considered equivalent. Robustness of the algorithm can be improved by supplying a nonzero tolerance distance. (default = 0.0) </p></li><li class="listitem"><p><code class="varname">extend_to</code>: If present, the diagram is extended to cover the envelope of the supplied geometry, unless smaller than the default envelope (default = NULL, default envelope is the bounding box of the input expanded by about 50%). </p></li></ul></div><p>
        </p><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 2.3.0</p></div><div class="refsection" id="idm18055"><h2>Exemplos</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_voronoi01.png"/><div class="caption"><p>Points overlaid on top of Voronoi diagram</p></div></div></div><pre class="programlisting">SELECT ST_VoronoiPolygons(
                'MULTIPOINT (50 30, 60 30, 100 100,10 150, 110 120)'::geometry
            ) AS geom;
</pre><pre class="screen"><em class="lineannotation"><span class="lineannotation">ST_AsText output</span></em>
GEOMETRYCOLLECTION(POLYGON((-110 43.3333333333333,-110 270,100.5 270,59.3478260869565 132.826086956522,36.8181818181818 92.2727272727273,-110 43.3333333333333)),
POLYGON((55 -90,-110 -90,-110 43.3333333333333,36.8181818181818 92.2727272727273,55 79.2857142857143,55 -90)),
POLYGON((230 47.5,230 -20.7142857142857,55 79.2857142857143,36.8181818181818 92.2727272727273,59.3478260869565 132.826086956522,230 47.5)),POLYGON((230 -20.7142857142857,230 -90,55 -90,55 79.2857142857143,230 -20.7142857142857)),
POLYGON((100.5 270,230 270,230 47.5,59.3478260869565 132.826086956522,100.5 270)))
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_voronoi02.png"/><div class="caption"><p>Voronoi diagram, with tolerance of 30 units</p></div></div></div><pre class="programlisting">SELECT ST_VoronoiPolygons(
            'MULTIPOINT (50 30, 60 30, 100 100,10 150, 110 120)'::geometry,
            30) AS geom;
</pre><pre class="screen"><em class="lineannotation"><span class="lineannotation">ST_AsText output</span></em>
GEOMETRYCOLLECTION(POLYGON((-110 43.3333333333333,-110 270,100.5 270,59.3478260869565 132.826086956522,36.8181818181818 92.2727272727273,-110 43.3333333333333)),
POLYGON((230 47.5,230 -45.7142857142858,36.8181818181818 92.2727272727273,59.3478260869565 132.826086956522,230 47.5)),POLYGON((230 -45.7142857142858,230 -90,-110 -90,-110 43.3333333333333,36.8181818181818 92.2727272727273,230 -45.7142857142858)),
POLYGON((100.5 270,230 270,230 47.5,59.3478260869565 132.826086956522,100.5 270)))
</pre></div><div class="refsection" id="idm18075"><h2>Veja também</h2><p><a class="xref" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a>, <a class="xref" href="#ST_VoronoiLines" title="ST_VoronoiLines">ST_VoronoiLines</a> </p></div></div></section><section class="section" id="Coverage"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.15. Coverages</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions operate on sets of polygonal geometry that form "implicit coverages". To form a valid coverage polygons must not overlap, and the vertices of adjacent edges must match exactly. Coverages are fast to process, and can be operated on with window functions, which retain the coverage topology inside the window partition while altering the edges.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a></span><span class="refpurpose"> — Window function that finds locations where polygons fail to form a valid coverage.</span></li><li><span class="refentrytitle"><a href="#ST_CoverageSimplify">ST_CoverageSimplify</a></span><span class="refpurpose"> — Window function that simplifies the edges of a polygonal coverage.</span></li><li><span class="refentrytitle"><a href="#ST_CoverageUnion">ST_CoverageUnion</a></span><span class="refpurpose"> — Computes the union of a set of polygons forming a coverage by removing shared edges.</span></li></ul></div><div class="refentry" id="ST_CoverageInvalidEdges"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CoverageInvalidEdges — Window function that finds locations where polygons fail to form a valid coverage.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CoverageInvalidEdges</strong>(</code>geometry winset  <var class="pdparam">geom</var>, float8  <var class="pdparam">tolerance = 0</var><code>)</code>;</p></div></div><div class="refsection" id="idm18100"><h2>Descrição</h2><p>A window function which checks if the polygons in the window partition form a valid polygonal coverage. It returns linear indicators showing the location of invalid edges (if any) in each polygon. </p><p>A set of valid polygons is a valid coverage if the following conditions hold: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>Non-overlapping</strong></span> - polygons do not overlap (their interiors do not intersect) </p></li><li class="listitem"><p><span class="bold"><strong>Edge-Matched</strong></span> - vertices along shared edges are identical </p></li></ul></div><p>As a window function a value is returned for every input polygon. For polygons which violate one or more of the validity conditions the return value is a MULTILINESTRING containing the problematic edges. Coverage-valid polygons return the value NULL. Non-polygonal or empty geometries also produce NULL values.</p><p>The conditions allow a valid coverage to contain holes (gaps between polygons), as long as the surrounding polygons are edge-matched. However, very narrow gaps are often undesirable. If the <em class="parameter"><code>tolerance</code></em> parameter is specified with a non-zero distance, edges forming narrower gaps will also be returned as invalid. </p><p>The polygons being checked for coverage validity must also be valid geometries. This can be checked with <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>. </p><p class="availability">Availability: 3.4.0</p><p class="geos_requirement">Requires GEOS &gt;= 3.12.0</p></div><div class="refsection" id="idm18118"><h2>Exemplos</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_coverageinvalidedges01.png"/><div class="caption"><p>Invalid edges caused by overlap and non-matching vertices</p></div></div></div><pre class="programlisting">WITH coverage(id, geom) AS (VALUES
  (1, 'POLYGON ((10 190, 30 160, 40 110, 100 70, 120 10, 10 10, 10 190))'::geometry),
  (2, 'POLYGON ((100 190, 10 190, 30 160, 40 110, 50 80, 74 110.5, 100 130, 140 120, 140 160, 100 190))'::geometry),
  (3, 'POLYGON ((140 190, 190 190, 190 80, 140 80, 140 190))'::geometry),
  (4, 'POLYGON ((180 40, 120 10, 100 70, 140 80, 190 80, 180 40))'::geometry)
)
SELECT id, ST_AsText(ST_CoverageInvalidEdges(geom) OVER ())
  FROM coverage;

 id |               st_astext
----+---------------------------------------
  1 | LINESTRING (40 110, 100 70)
  2 | MULTILINESTRING ((100 130, 140 120, 140 160, 100 190), (40 110, 50 80, 74 110.5))
  3 | LINESTRING (140 80, 140 190)
  4 | null
      </pre><pre class="programlisting">-- Test entire table for coverage validity
SELECT true = ALL (
    SELECT ST_CoverageInvalidEdges(geom) OVER () IS NULL
    FROM coverage
    );
      </pre></div><div class="refsection" id="idm18128"><h2>Veja também</h2><p><a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_CoverageUnion" title="ST_CoverageUnion">ST_CoverageUnion</a>, <a class="xref" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> </p></div></div><div class="refentry" id="ST_CoverageSimplify"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CoverageSimplify — Window function that simplifies the edges of a polygonal coverage.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CoverageSimplify</strong>(</code>geometry winset  <var class="pdparam">geom</var>, float8  <var class="pdparam">tolerance</var>, boolean  <var class="pdparam">simplifyBoundary = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm18152"><h2>Descrição</h2><p>A window function which simplifies the edges of polygons in a polygonal coverage. The simplification preserves the coverage topology. This means the simplified output polygons are consistent along shared edges, and still form a valid coverage. </p><p>The simplification uses a variant of the <a class="link" href="https://en.wikipedia.org/wiki/Visvalingam%E2%80%93Whyatt_algorithm" target="_top">Visvalingam–Whyatt algorithm</a>. The <em class="parameter"><code>tolerance</code></em> parameter has units of distance, and is roughly equal to the square root of triangular areas to be simplified. </p><p>To simplify only the "internal" edges of the coverage (those that are shared by two polygons) set the <em class="parameter"><code>simplifyBoundary</code></em> parameter to false.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If the input is not a valid coverage there may be unexpected artifacts in the output (such as boundary intersections, or separated boundaries which appeared to be shared). Use <a class="xref" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a> to determine if a coverage is valid. </p></td></tr></table></div><p class="availability">Availability: 3.4.0</p><p class="geos_requirement">Requires GEOS &gt;= 3.12.0</p></div><div class="refsection" id="idm18165"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_coveragesimplify01.png"/><div class="caption"><p>Input coverage</p></div></div></div><p>
        </p></td><td><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_coveragesimplify02.png"/><div class="caption"><p>Simplified coverage</p></div></div></div><p>
        </p></td></tr></tbody></table></div><pre class="programlisting">WITH coverage(id, geom) AS (VALUES
  (1, 'POLYGON ((160 150, 110 130, 90 100, 90 70, 60 60, 50 10, 30 30, 40 50, 25 40, 10 60, 30 100, 30 120, 20 170, 60 180, 90 190, 130 180, 130 160, 160 150), (40 160, 50 140, 66 125, 60 100, 80 140, 90 170, 60 160, 40 160))'::geometry),
  (2, 'POLYGON ((40 160, 60 160, 90 170, 80 140, 60 100, 66 125, 50 140, 40 160))'::geometry),
  (3, 'POLYGON ((110 130, 160 50, 140 50, 120 33, 90 30, 50 10, 60 60, 90 70, 90 100, 110 130))'::geometry),
  (4, 'POLYGON ((160 150, 150 120, 160 90, 160 50, 110 130, 160 150))'::geometry)
)
SELECT id, ST_AsText(ST_CoverageSimplify(geom, 30) OVER ())
  FROM coverage;

 id |               st_astext
----+---------------------------------------
  1 | POLYGON ((160 150, 110 130, 50 10, 10 60, 20 170, 90 190, 160 150), (40 160, 66 125, 90 170, 40 160))
  2 | POLYGON ((40 160, 66 125, 90 170, 40 160))
  3 | POLYGON ((110 130, 160 50, 50 10, 110 130))
  4 | POLYGON ((160 150, 160 50, 110 130, 160 150))
      </pre></div><div class="refsection" id="idm18188"><h2>Veja também</h2><p>
        <a class="xref" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a>
      </p></div></div><div class="refentry" id="ST_CoverageUnion"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CoverageUnion — Computes the union of a set of polygons forming a coverage by removing shared edges.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_CoverageUnion</strong>(</code>geometry set <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm18204"><h2>Descrição</h2><p>An aggregate function which unions a set of polygons forming a polygonal coverage. The result is a polygonal geometry covering the same area as the coverage. This function produces the same result as <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a>, but uses the coverage structure to compute the union much faster. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If the input is not a valid coverage there may be unexpected artifacts in the output (such as unmerged or overlapping polygons). Use <a class="xref" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a> to determine if a coverage is valid. </p></td></tr></table></div><p class="availability">Availability: 3.4.0 - requires GEOS &gt;= 3.8.0</p></div><div class="refsection" id="idm18212"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_coverageunion01.png"/><div class="caption"><p>Input coverage</p></div></div></div><p>
        </p></td><td><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_coverageunion02.png"/><div class="caption"><p>Union result</p></div></div></div><p>
        </p></td></tr></tbody></table></div><pre class="programlisting">WITH coverage(id, geom) AS (VALUES
  (1, 'POLYGON ((10 10, 10 150, 80 190, 110 150, 90 110, 40 110, 50 60, 10 10))'::geometry),
  (2, 'POLYGON ((120 10, 10 10, 50 60, 100 70, 120 10))'::geometry),
  (3, 'POLYGON ((140 80, 120 10, 100 70, 40 110, 90 110, 110 150, 140 80))'::geometry),
  (4, 'POLYGON ((140 190, 120 170, 140 130, 160 150, 140 190))'::geometry),
  (5, 'POLYGON ((180 160, 170 140, 140 130, 160 150, 140 190, 180 160))'::geometry)
)
SELECT ST_AsText(ST_CoverageUnion(geom))
  FROM coverage;

--------------------------------------
MULTIPOLYGON (((10 150, 80 190, 110 150, 140 80, 120 10, 10 10, 10 150), (50 60, 100 70, 40 110, 50 60)), ((120 170, 140 190, 180 160, 170 140, 140 130, 120 170)))
      </pre></div><div class="refsection" id="idm18235"><h2>Veja também</h2><p><a class="xref" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a> </p></div></div></section><section class="section" id="Affine_Transformation"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.16. Affine Transformations</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions change the position and shape of geometries using <a class="link" href="https://en.wikipedia.org/wiki/Affine_transformation" target="_top">affine transformations</a>.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_Affine">ST_Affine</a></span><span class="refpurpose"> — Apply a 3D affine transformation to a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_Rotate">ST_Rotate</a></span><span class="refpurpose"> — Rotates a geometry about an origin point.</span></li><li><span class="refentrytitle"><a href="#ST_RotateX">ST_RotateX</a></span><span class="refpurpose"> — Rotates a geometry about the X axis.</span></li><li><span class="refentrytitle"><a href="#ST_RotateY">ST_RotateY</a></span><span class="refpurpose"> — Rotates a geometry about the Y axis.</span></li><li><span class="refentrytitle"><a href="#ST_RotateZ">ST_RotateZ</a></span><span class="refpurpose"> — Rotates a geometry about the Z axis.</span></li><li><span class="refentrytitle"><a href="#ST_Scale">ST_Scale</a></span><span class="refpurpose"> — Scales a geometry by given factors.</span></li><li><span class="refentrytitle"><a href="#ST_Translate">ST_Translate</a></span><span class="refpurpose"> — Translates a geometry by given offsets.</span></li><li><span class="refentrytitle"><a href="#ST_TransScale">ST_TransScale</a></span><span class="refpurpose"> — Translates and scales a geometry by given offsets and factors.</span></li></ul></div><div class="refentry" id="ST_Affine"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Affine — Apply a 3D affine transformation to a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Affine</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">a</var>, float  <var class="pdparam">b</var>, float  <var class="pdparam">c</var>, float  <var class="pdparam">d</var>, float  <var class="pdparam">e</var>, float  <var class="pdparam">f</var>, float  <var class="pdparam">g</var>, float  <var class="pdparam">h</var>, float  <var class="pdparam">i</var>, float  <var class="pdparam">xoff</var>, float  <var class="pdparam">yoff</var>, float  <var class="pdparam">zoff</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Affine</strong>(</code>geometry  <var class="pdparam">geomA</var>, float  <var class="pdparam">a</var>, float  <var class="pdparam">b</var>, float  <var class="pdparam">d</var>, float  <var class="pdparam">e</var>, float  <var class="pdparam">xoff</var>, float  <var class="pdparam">yoff</var><code>)</code>;</p></div></div><div class="refsection" id="idm18318"><h2>Descrição</h2><p>Applies a 3D affine transformation to the geometry to do things like translate, rotate, scale in one step.</p><p>Version 1: The call </p><pre class="programlisting">ST_Affine(geom, a, b, c, d, e, f, g, h, i, xoff, yoff, zoff) </pre><p> represents the transformation matrix </p><pre class="programlisting">/ a  b  c  xoff \
| d  e  f  yoff |
| g  h  i  zoff |
\ 0  0  0     1 /</pre><p> and the vertices are transformed as follows: </p><pre class="programlisting">x' = a*x + b*y + c*z + xoff
y' = d*x + e*y + f*z + yoff
z' = g*x + h*y + i*z + zoff</pre><p> All of the translate / scale functions below are expressed via such an affine transformation.</p><p>Version 2: Applies a 2d affine transformation to the geometry. The call </p><pre class="programlisting">ST_Affine(geom, a, b, d, e, xoff, yoff)</pre><p> represents the transformation matrix </p><pre class="programlisting">/  a  b  0  xoff  \       /  a  b  xoff  \
|  d  e  0  yoff  | rsp.  |  d  e  yoff  |
|  0  0  1     0  |       \  0  0     1  /
\  0  0  0     1  /</pre><p> and the vertices are transformed as follows: </p><pre class="programlisting">x' = a*x + b*y + xoff
y' = d*x + e*y + yoff
z' = z </pre><p> This method is a subcase of the 3D method above.</p><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p class="availability">Availability: 1.1.2. Name changed from Affine to ST_Affine in 1.2.2</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Anteriores a 1.3.4, essa função falha se usada com geometrias que contêm CURVAS. Isso é consertado em 1.3.4+</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm18349"><h2>Exemplos</h2><pre class="programlisting">--Rotate a 3d line 180 degrees about the z axis.  Note this is long-hand for doing ST_Rotate();
 SELECT ST_AsEWKT(ST_Affine(geom,  cos(pi()), -sin(pi()), 0,  sin(pi()), cos(pi()), 0,  0, 0, 1,  0, 0, 0)) As using_affine,
         ST_AsEWKT(ST_Rotate(geom, pi())) As using_rotate
        FROM (SELECT ST_GeomFromEWKT('LINESTRING(1 2 3, 1 4 3)') As geom) As foo;
        using_affine         |        using_rotate
-----------------------------+-----------------------------
 LINESTRING(-1 -2 3,-1 -4 3) | LINESTRING(-1 -2 3,-1 -4 3)
(1 row)

--Rotate a 3d line 180 degrees in both the x and z axis
SELECT ST_AsEWKT(ST_Affine(geom, cos(pi()), -sin(pi()), 0, sin(pi()), cos(pi()), -sin(pi()), 0, sin(pi()), cos(pi()), 0, 0, 0))
        FROM (SELECT ST_GeomFromEWKT('LINESTRING(1 2 3, 1 4 3)') As geom) As foo;
           st_asewkt
-------------------------------
 LINESTRING(-1 -2 -3,-1 -4 -3)
(1 row)
                </pre></div><div class="refsection" id="idm18352"><h2>Veja também</h2><p><a class="xref" href="#ST_Rotate" title="ST_Rotate">ST_Rotate</a>, <a class="xref" href="#ST_Scale" title="ST_Scale">ST_Scale</a>, <a class="xref" href="#ST_Translate" title="ST_Translate">ST_Translate</a>, <a class="xref" href="#ST_TransScale" title="ST_TransScale">ST_TransScale</a></p></div></div><div class="refentry" id="ST_Rotate"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Rotate — Rotates a geometry about an origin point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Rotate</strong>(</code>geometry <var class="pdparam">geomA</var>, float <var class="pdparam">rotRadians</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Rotate</strong>(</code>geometry <var class="pdparam">geomA</var>, float <var class="pdparam">rotRadians</var>, float <var class="pdparam">x0</var>, float <var class="pdparam">y0</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Rotate</strong>(</code>geometry <var class="pdparam">geomA</var>, float <var class="pdparam">rotRadians</var>, geometry <var class="pdparam">pointOrigin</var><code>)</code>;</p></div></div><div class="refsection" id="idm18401"><h2>Descrição</h2><p>Rotates geometry rotRadians counter-clockwise about the origin point. The rotation origin can be specified either as a POINT geometry, or as x and y coordinates. If the origin is not specified, the geometry is rotated about POINT(0 0).</p><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p class="enhanced">Enhanced: 2.0.0 additional parameters for specifying the origin of rotation were added.</p><p class="availability">Availability: 1.1.2. Name changed from Rotate to ST_Rotate in 1.2.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm18423"><h2>Exemplos</h2><pre class="programlisting">--Rotate 180 degrees
SELECT ST_AsEWKT(ST_Rotate('LINESTRING (50 160, 50 50, 100 50)', pi()));
               st_asewkt
---------------------------------------
 LINESTRING(-50 -160,-50 -50,-100 -50)
(1 row)

--Rotate 30 degrees counter-clockwise at x=50, y=160
SELECT ST_AsEWKT(ST_Rotate('LINESTRING (50 160, 50 50, 100 50)', pi()/6, 50, 160));
                                 st_asewkt
---------------------------------------------------------------------------
 LINESTRING(50 160,105 64.7372055837117,148.301270189222 89.7372055837117)
(1 row)

--Rotate 60 degrees clockwise from centroid
SELECT ST_AsEWKT(ST_Rotate(geom, -pi()/3, ST_Centroid(geom)))
FROM (SELECT 'LINESTRING (50 160, 50 50, 100 50)'::geometry AS geom) AS foo;
                           st_asewkt
--------------------------------------------------------------
 LINESTRING(116.4225 130.6721,21.1597 75.6721,46.1597 32.3708)
(1 row)
                </pre></div><div class="refsection" id="idm18426"><h2>Veja também</h2><p><a class="xref" href="#ST_Affine" title="ST_Affine">ST_Affine</a>, <a class="xref" href="#ST_RotateX" title="ST_RotateX">ST_RotateX</a>, <a class="xref" href="#ST_RotateY" title="ST_RotateY">ST_RotateY</a>, <a class="xref" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a></p></div></div><div class="refentry" id="ST_RotateX"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RotateX — Rotates a geometry about the X axis.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_RotateX</strong>(</code>geometry <var class="pdparam">geomA</var>, float <var class="pdparam">rotRadians</var><code>)</code>;</p></div></div><div class="refsection" id="idm18448"><h2>Descrição</h2><p>Rotates a geometry geomA - rotRadians about the X axis.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><code class="code">ST_RotateX(geomA, rotRadians)</code> is short-hand for <code class="code">ST_Affine(geomA, 1, 0, 0, 0, cos(rotRadians), -sin(rotRadians), 0, sin(rotRadians), cos(rotRadians), 0, 0, 0)</code>.</p></td></tr></table></div><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p class="availability">Availability: 1.1.2. Name changed from RotateX to ST_RotateX in 1.2.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm18469"><h2>Exemplos</h2><pre class="programlisting">--Rotate a line 90 degrees along x-axis
SELECT ST_AsEWKT(ST_RotateX(ST_GeomFromEWKT('LINESTRING(1 2 3, 1 1 1)'), pi()/2));
                 st_asewkt
---------------------------
 LINESTRING(1 -3 2,1 -1 1)
</pre></div><div class="refsection" id="idm18472"><h2>Veja também</h2><p><a class="xref" href="#ST_Affine" title="ST_Affine">ST_Affine</a>, <a class="xref" href="#ST_RotateY" title="ST_RotateY">ST_RotateY</a>, <a class="xref" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a></p></div></div><div class="refentry" id="ST_RotateY"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RotateY — Rotates a geometry about the Y axis.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_RotateY</strong>(</code>geometry <var class="pdparam">geomA</var>, float <var class="pdparam">rotRadians</var><code>)</code>;</p></div></div><div class="refsection" id="idm18493"><h2>Descrição</h2><p>Rotates a geometry geomA - rotRadians about the y axis.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><code class="code">ST_RotateY(geomA, rotRadians)</code> is short-hand for <code class="code">ST_Affine(geomA, cos(rotRadians), 0, sin(rotRadians), 0, 1, 0, -sin(rotRadians), 0, cos(rotRadians), 0, 0, 0)</code>.</p></td></tr></table></div><p class="availability">Availability: 1.1.2. Name changed from RotateY to ST_RotateY in 1.2.2</p><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm18514"><h2>Exemplos</h2><pre class="programlisting">--Rotate a line 90 degrees along y-axis
 SELECT ST_AsEWKT(ST_RotateY(ST_GeomFromEWKT('LINESTRING(1 2 3, 1 1 1)'), pi()/2));
                 st_asewkt
---------------------------
 LINESTRING(3 2 -1,1 1 -1)
</pre></div><div class="refsection" id="idm18517"><h2>Veja também</h2><p><a class="xref" href="#ST_Affine" title="ST_Affine">ST_Affine</a>, <a class="xref" href="#ST_RotateX" title="ST_RotateX">ST_RotateX</a>, <a class="xref" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a></p></div></div><div class="refentry" id="ST_RotateZ"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RotateZ — Rotates a geometry about the Z axis.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_RotateZ</strong>(</code>geometry <var class="pdparam">geomA</var>, float <var class="pdparam">rotRadians</var><code>)</code>;</p></div></div><div class="refsection" id="idm18538"><h2>Descrição</h2><p>Rotates a geometry geomA - rotRadians about the Z axis.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This is a synonym for ST_Rotate</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><code class="code">ST_RotateZ(geomA, rotRadians)</code> is short-hand for <code class="code">SELECT ST_Affine(geomA, cos(rotRadians), -sin(rotRadians), 0, sin(rotRadians), cos(rotRadians), 0, 0, 0, 1, 0, 0, 0)</code>.</p></td></tr></table></div><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p class="availability">Availability: 1.1.2. Name changed from RotateZ to ST_RotateZ in 1.2.2</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Anteriores a 1.3.4, essa função falha se usada com geometrias que contêm CURVAS. Isso é consertado em 1.3.4+</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm18567"><h2>Exemplos</h2><pre class="programlisting">--Rotate a line 90 degrees along z-axis
SELECT ST_AsEWKT(ST_RotateZ(ST_GeomFromEWKT('LINESTRING(1 2 3, 1 1 1)'), pi()/2));
                 st_asewkt
---------------------------
 LINESTRING(-2 1 3,-1 1 1)

 --Rotate a curved circle around z-axis
SELECT ST_AsEWKT(ST_RotateZ(geom, pi()/2))
FROM (SELECT ST_LineToCurve(ST_Buffer(ST_GeomFromText('POINT(234 567)'), 3)) As geom) As foo;

                                                                                                           st_asewkt
----------------------------------------------------------------------------------------------------------------------------
 CURVEPOLYGON(CIRCULARSTRING(-567 237,-564.87867965644 236.12132034356,-564 234,-569.12132034356 231.87867965644,-567 237))

</pre></div><div class="refsection" id="idm18570"><h2>Veja também</h2><p><a class="xref" href="#ST_Affine" title="ST_Affine">ST_Affine</a>, <a class="xref" href="#ST_RotateX" title="ST_RotateX">ST_RotateX</a>, <a class="xref" href="#ST_RotateY" title="ST_RotateY">ST_RotateY</a></p></div></div><div class="refentry" id="ST_Scale"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Scale — Scales a geometry by given factors.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Scale</strong>(</code>geometry  <var class="pdparam">geomA</var>, float <var class="pdparam">XFactor</var>, float <var class="pdparam">YFactor</var>, float <var class="pdparam">ZFactor</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Scale</strong>(</code>geometry  <var class="pdparam">geomA</var>, float <var class="pdparam">XFactor</var>, float <var class="pdparam">YFactor</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Scale</strong>(</code>geometry  <var class="pdparam">geom</var>, geometry <var class="pdparam">factor</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Scale</strong>(</code>geometry  <var class="pdparam">geom</var>, geometry <var class="pdparam">factor</var>, geometry <var class="pdparam">origin</var><code>)</code>;</p></div></div><div class="refsection" id="idm18630"><h2>Descrição</h2><p>Scales the geometry to a new size by multiplying the ordinates with the corresponding factor parameters. </p><p>The version taking a geometry as the <code class="varname">factor</code> parameter allows passing a 2d, 3dm, 3dz or 4d point to set scaling factor for all supported dimensions. Missing dimensions in the <code class="varname">factor</code> point are equivalent to no scaling the corresponding dimension. </p><p>The three-geometry variant allows a "false origin" for the scaling to be passed in. This allows "scaling in place", for example using the centroid of the geometry as the false origin. Without a false origin, scaling takes place relative to the actual origin, so all coordinates are just multiplied by the scale factor. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Anteriores a 1.3.4, essa função falha se usada com geometrias que contêm CURVAS. Isso é consertado em 1.3.4+</p></td></tr></table></div><p class="availability">Availability: 1.1.0.</p><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p class="enhanced">Enhanced: 2.2.0 support for scaling all dimension (<code class="varname">factor</code> parameter) was introduced.</p><p class="enhanced">Enhanced: 2.5.0 support for scaling relative to a local origin (<code class="varname">origin</code> parameter) was introduced.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports M coordinates. </p></div><div class="refsection" id="idm18665"><h2>Exemplos</h2><pre class="programlisting">--Version 1: scale X, Y, Z
SELECT ST_AsEWKT(ST_Scale(ST_GeomFromEWKT('LINESTRING(1 2 3, 1 1 1)'), 0.5, 0.75, 0.8));
                          st_asewkt
--------------------------------------
 LINESTRING(0.5 1.5 2.4,0.5 0.75 0.8)

--Version 2: Scale X Y
 SELECT ST_AsEWKT(ST_Scale(ST_GeomFromEWKT('LINESTRING(1 2 3, 1 1 1)'), 0.5, 0.75));
                        st_asewkt
----------------------------------
 LINESTRING(0.5 1.5 3,0.5 0.75 1)

--Version 3: Scale X Y Z M
 SELECT ST_AsEWKT(ST_Scale(ST_GeomFromEWKT('LINESTRING(1 2 3 4, 1 1 1 1)'),
   ST_MakePoint(0.5, 0.75, 2, -1)));
                               st_asewkt
----------------------------------------
 LINESTRING(0.5 1.5 6 -4,0.5 0.75 2 -1)

--Version 4: Scale X Y using false origin
SELECT ST_AsText(ST_Scale('LINESTRING(1 1, 2 2)', 'POINT(2 2)', 'POINT(1 1)'::geometry));
      st_astext
---------------------
 LINESTRING(1 1,3 3)

</pre></div><div class="refsection" id="idm18668"><h2>Veja também</h2><p><a class="xref" href="#ST_Affine" title="ST_Affine">ST_Affine</a>, <a class="xref" href="#ST_TransScale" title="ST_TransScale">ST_TransScale</a></p></div></div><div class="refentry" id="ST_Translate"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Translate — Translates a geometry by given offsets.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Translate</strong>(</code>geometry  <var class="pdparam">g1</var>, float  <var class="pdparam">deltax</var>, float  <var class="pdparam">deltay</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Translate</strong>(</code>geometry  <var class="pdparam">g1</var>, float  <var class="pdparam">deltax</var>, float  <var class="pdparam">deltay</var>, float  <var class="pdparam">deltaz</var><code>)</code>;</p></div></div><div class="refsection" id="idm18706"><h2>Descrição</h2><p>Returns a new geometry whose coordinates are translated delta x,delta y,delta z units. Units are based on the units defined in spatial reference (SRID) for this geometry.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Anteriores a 1.3.4, essa função falha se usada com geometrias que contêm CURVAS. Isso é consertado em 1.3.4+</p></td></tr></table></div><p class="availability">Disponibilidade: 1.2.2</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm18720"><h2>Exemplos</h2><p>Move a point 1 degree longitude</p><pre class="programlisting">SELECT ST_AsText(ST_Translate(ST_GeomFromText('POINT(-71.01 42.37)',4326),1,0)) As wgs_transgeomtxt;

        wgs_transgeomtxt
        ---------------------
        POINT(-70.01 42.37)
                </pre><p>Move a linestring 1 degree longitude and 1/2 degree latitude</p><pre class="programlisting">SELECT ST_AsText(ST_Translate(ST_GeomFromText('LINESTRING(-71.01 42.37,-71.11 42.38)',4326),1,0.5)) As wgs_transgeomtxt;
                   wgs_transgeomtxt
        ---------------------------------------
        LINESTRING(-70.01 42.87,-70.11 42.88)
                </pre><p>Move a 3d point</p><pre class="programlisting">SELECT ST_AsEWKT(ST_Translate(CAST('POINT(0 0 0)' As geometry), 5, 12,3));
        st_asewkt
        ---------
        POINT(5 12 3)
                </pre><p>Move a curve and a point</p><pre class="programlisting">SELECT ST_AsText(ST_Translate(ST_Collect('CURVEPOLYGON(CIRCULARSTRING(4 3,3.12 0.878,1 0,-1.121 5.1213,6 7, 8 9,4 3))','POINT(1 3)'),1,2));
                                                                                                                 st_astext
------------------------------------------------------------------------------------------------------------
 GEOMETRYCOLLECTION(CURVEPOLYGON(CIRCULARSTRING(5 5,4.12 2.878,2 2,-0.121 7.1213,7 9,9 11,5 5)),POINT(2 5))
</pre></div><div class="refsection" id="idm18730"><h2>Veja também</h2><p><a class="xref" href="#ST_Affine" title="ST_Affine">ST_Affine</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="ST_TransScale"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_TransScale — Translates and scales a geometry by given offsets and factors.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_TransScale</strong>(</code>geometry  <var class="pdparam">geomA</var>, float <var class="pdparam">deltaX</var>, float <var class="pdparam">deltaY</var>, float <var class="pdparam">XFactor</var>, float <var class="pdparam">YFactor</var><code>)</code>;</p></div></div><div class="refsection" id="idm18760"><h2>Descrição</h2><p>Translates the geometry using the deltaX and deltaY args, then scales it using the XFactor, YFactor args, working in 2D only.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><code class="code">ST_TransScale(geomA, deltaX, deltaY, XFactor, YFactor)</code> is short-hand for <code class="code">ST_Affine(geomA, XFactor, 0, 0, 0, YFactor, 0, 0, 0, 1, deltaX*XFactor, deltaY*YFactor, 0)</code>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Anteriores a 1.3.4, essa função falha se usada com geometrias que contêm CURVAS. Isso é consertado em 1.3.4+</p></td></tr></table></div><p class="availability">Availability: 1.1.0.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm18778"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsEWKT(ST_TransScale(ST_GeomFromEWKT('LINESTRING(1 2 3, 1 1 1)'), 0.5, 1, 1, 2));
                  st_asewkt
-----------------------------
 LINESTRING(1.5 6 3,1.5 4 1)


--Buffer a point to get an approximation of a circle, convert to curve and then translate 1,2 and scale it 3,4
  SELECT ST_AsText(ST_Transscale(ST_LineToCurve(ST_Buffer('POINT(234 567)', 3)),1,2,3,4));
                                                                                                                  st_astext
------------------------------------------------------------------------------------------------------------------------------
 CURVEPOLYGON(CIRCULARSTRING(714 2276,711.363961030679 2267.51471862576,705 2264,698.636038969321 2284.48528137424,714 2276))

</pre></div><div class="refsection" id="idm18781"><h2>Veja também</h2><p><a class="xref" href="#ST_Affine" title="ST_Affine">ST_Affine</a>, <a class="xref" href="#ST_Translate" title="ST_Translate">ST_Translate</a></p></div></div></section><section class="section" id="Clustering_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.17. Clustering Functions</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions implement clustering algorithms for sets of geometries.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_ClusterDBSCAN">ST_ClusterDBSCAN</a></span><span class="refpurpose"> — Window function that returns a cluster id for each input geometry using the DBSCAN algorithm.</span></li><li><span class="refentrytitle"><a href="#ST_ClusterIntersecting">ST_ClusterIntersecting</a></span><span class="refpurpose"> — Aggregate function that clusters input geometries into connected sets.</span></li><li><span class="refentrytitle"><a href="#ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a></span><span class="refpurpose"> — Window function that returns a cluster id for each input geometry, clustering input geometries into connected sets.</span></li><li><span class="refentrytitle"><a href="#ST_ClusterKMeans">ST_ClusterKMeans</a></span><span class="refpurpose"> — Window function that returns a cluster id for each input geometry using the K-means algorithm.</span></li><li><span class="refentrytitle"><a href="#ST_ClusterWithin">ST_ClusterWithin</a></span><span class="refpurpose"> — Aggregate function that clusters geometries by separation distance.</span></li><li><span class="refentrytitle"><a href="#ST_ClusterWithinWin">ST_ClusterWithinWin</a></span><span class="refpurpose"> — Window function that returns a cluster id for each input geometry, clustering using separation distance.</span></li></ul></div><div class="refentry" id="ST_ClusterDBSCAN"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClusterDBSCAN — Window function that returns a cluster id for each input geometry using the DBSCAN algorithm.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_ClusterDBSCAN</strong>(</code>geometry winset  <var class="pdparam">geom</var>, float8  <var class="pdparam">eps</var>, integer  <var class="pdparam">minpoints</var><code>)</code>;</p></div></div><div class="refsection" id="idm18809"><h2>Descrição</h2><p>A window function that returns a cluster number for each input geometry, using the 2D <a class="link" href="https://en.wikipedia.org/wiki/DBSCAN" target="_top">Density-based spatial clustering of applications with noise (DBSCAN)</a> algorithm. Unlike <a class="xref" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a>, it does not require the number of clusters to be specified, but instead uses the desired <a class="link" href="#ST_Distance" title="ST_Distance">distance</a> (<code class="varname">eps</code>) and density (<code class="varname">minpoints</code>) parameters to determine each cluster. </p><p>An input geometry is added to a cluster if it is either: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A "core" geometry, that is within <code class="varname">eps</code> <a class="link" href="#ST_Distance" title="ST_Distance">distance</a> of at least <code class="varname">minpoints</code> input geometries (including itself); or </p></li><li class="listitem"><p>A "border" geometry, that is within <code class="varname">eps</code> <a class="link" href="#ST_Distance" title="ST_Distance">distance</a> of a core geometry. </p></li></ul></div><p>
		</p><p>Note that border geometries may be within <code class="varname">eps</code> distance of core geometries in more than one cluster. Either assignment would be correct, so the border geometry will be arbitrarily asssigned to one of the available clusters. In this situation it is possible for a correct cluster to be generated with fewer than <code class="varname">minpoints</code> geometries. To ensure deterministic assignment of border geometries (so that repeated calls to ST_ClusterDBSCAN will produce identical results) use an <code class="code">ORDER BY</code> clause in the window definition. Ambiguous cluster assignments may differ from other DBSCAN implementations. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Geometries that do not meet the criteria to join any cluster are assigned a cluster number of NULL. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.3.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm18839"><h2>Exemplos</h2><p>Clustering polygon within 50 meters of each other, and requiring at least 2 polygons per cluster. </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_clusterdbscan01.png"/><div class="caption"><p>Clusters within 50 meters with at least 2 items per cluster. Singletons have NULL for cid</p></div></div></div><p>
  </p><pre class="programlisting">
SELECT name, ST_ClusterDBSCAN(geom, eps =
&gt; 50, minpoints =
&gt; 2) over () AS cid
FROM boston_polys
WHERE name 
&gt; '' AND building 
&gt; ''
        AND ST_DWithin(geom,
        ST_Transform(
            ST_GeomFromText('POINT(-71.04054 42.35141)', 4326), 26986),
           500);
</pre><p>
						  </p></td><td><pre class="screen">
                name                 | bucket
-------------------------------------+--------
 Manulife Tower                      |      0
 Park Lane Seaport I                 |      0
 Park Lane Seaport II                |      0
 Renaissance Boston Waterfront Hotel |      0
 Seaport Boston Hotel                |      0
 Seaport Hotel &amp; World Trade Center  |      0
 Waterside Place                     |      0
 World Trade Center East             |      0
 100 Northern Avenue                 |      1
 100 Pier 4                          |      1
 The Institute of Contemporary Art   |      1
 101 Seaport                         |      2
 District Hall                       |      2
 One Marina Park Drive               |      2
 Twenty Two Liberty                  |      2
 Vertex                              |      2
 Vertex                              |      2
 Watermark Seaport                   |      2
 Blue Hills Bank Pavilion            |   NULL
 World Trade Center West             |   NULL
(20 rows)
</pre>
				</td></tr></tbody></table></div><p>A example showing combining parcels with the same cluster number into geometry collections. </p><pre class="programlisting">SELECT cid, ST_Collect(geom) AS cluster_geom, array_agg(parcel_id) AS ids_in_cluster FROM (
    SELECT parcel_id, ST_ClusterDBSCAN(geom, eps =&gt; 0.5, minpoints =&gt; 5) over () AS cid, geom
    FROM parcels) sq
GROUP BY cid;
    </pre></div><div class="refsection" id="idm18860"><h2>Veja também</h2><p><a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a>, <a class="xref" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a>, <a class="xref" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a>, <a class="xref" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a>, <a class="xref" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a> </p></div></div><div class="refentry" id="ST_ClusterIntersecting"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClusterIntersecting — Aggregate function that clusters input geometries into connected sets.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry[] <strong class="fsfunc">ST_ClusterIntersecting</strong>(</code>geometry set <var class="pdparam">g</var><code>)</code>;</p></div></div><div class="refsection" id="idm18881"><h2>Descrição</h2><p>An aggregate function that returns an array of GeometryCollections partitioning the input geometries into connected clusters that are disjoint. Each geometry in a cluster intersects at least one other geometry in the cluster, and does not intersect any geometry in other clusters. </p><p class="availability">Disponibilidade: 2.2.0</p></div><div class="refsection" id="idm18885"><h2>Exemplos</h2><pre class="programlisting">WITH testdata AS
  (SELECT unnest(ARRAY['LINESTRING (0 0, 1 1)'::geometry,
           'LINESTRING (5 5, 4 4)'::geometry,
           'LINESTRING (6 6, 7 7)'::geometry,
           'LINESTRING (0 0, -1 -1)'::geometry,
           'POLYGON ((0 0, 4 0, 4 4, 0 4, 0 0))'::geometry]) AS geom)

SELECT ST_AsText(unnest(ST_ClusterIntersecting(geom))) FROM testdata;

--result

st_astext
---------
GEOMETRYCOLLECTION(LINESTRING(0 0,1 1),LINESTRING(5 5,4 4),LINESTRING(0 0,-1 -1),POLYGON((0 0,4 0,4 4,0 4,0 0)))
GEOMETRYCOLLECTION(LINESTRING(6 6,7 7))
        </pre></div><div class="refsection" id="idm18888"><h2>Veja também</h2><p><a class="xref" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a>, <a class="xref" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a>, <a class="xref" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a> </p></div></div><div class="refentry" id="ST_ClusterIntersectingWin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClusterIntersectingWin — Window function that returns a cluster id for each input geometry, clustering input geometries into connected sets.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_ClusterIntersectingWin</strong>(</code>geometry winset  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm18906"><h2>Descrição</h2><p>A window function that builds connected clusters of geometries that intersect. It is possible to traverse all geometries in a cluster without leaving the cluster. The return value is the cluster number that the geometry argument participates in, or null for null inputs.</p><p class="availability">Availability: 3.4.0</p></div><div class="refsection" id="idm18910"><h2>Exemplos</h2><pre class="programlisting">WITH testdata AS (
  SELECT id, geom::geometry FROM (
  VALUES  (1, 'LINESTRING (0 0, 1 1)'),
          (2, 'LINESTRING (5 5, 4 4)'),
          (3, 'LINESTRING (6 6, 7 7)'),
          (4, 'LINESTRING (0 0, -1 -1)'),
          (5, 'POLYGON ((0 0, 4 0, 4 4, 0 4, 0 0))')) AS t(id, geom)
)
SELECT id,
  ST_AsText(geom),
  ST_ClusterIntersectingWin(geom) OVER () AS cluster
FROM testdata;

 id |           st_astext            | cluster
----+--------------------------------+---------
  1 | LINESTRING(0 0,1 1)            |       0
  2 | LINESTRING(5 5,4 4)            |       0
  3 | LINESTRING(6 6,7 7)            |       1
  4 | LINESTRING(0 0,-1 -1)          |       0
  5 | POLYGON((0 0,4 0,4 4,0 4,0 0)) |       0

        </pre></div><div class="refsection" id="idm18913"><h2>Veja também</h2><p><a class="xref" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a>, <a class="xref" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a>, <a class="xref" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a> </p></div></div><div class="refentry" id="ST_ClusterKMeans"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClusterKMeans — Window function that returns a cluster id for each input geometry using the K-means algorithm.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_ClusterKMeans</strong>(</code>geometry winset  <var class="pdparam">geom</var>, integer  <var class="pdparam">number_of_clusters</var>, float  <var class="pdparam">max_radius</var><code>)</code>;</p></div></div><div class="refsection" id="idm18937"><h2>Descrição</h2><p>Returns <a class="link" href="https://en.wikipedia.org/wiki/K-means_clustering" target="_top">K-means</a> cluster number for each input geometry. The distance used for clustering is the distance between the centroids for 2D geometries, and distance between bounding box centers for 3D geometries. For POINT inputs, M coordinate will be treated as weight of input and has to be larger than 0. </p><p><code class="varname">max_radius</code>, if set, will cause ST_ClusterKMeans to generate more clusters than <code class="varname">k</code> ensuring that no cluster in output has radius larger than <code class="varname">max_radius</code>. This is useful in reachability analysis. </p><p class="enhanced">Enhanced: 3.2.0 Support for <code class="varname">max_radius</code></p><p class="enhanced">Enhanced: 3.1.0 Support for 3D geometries and weights</p><p class="availability">Disponibilidade: 2.3.0</p></div><div class="refsection" id="idm18949"><h2>Exemplos</h2><p>Generate dummy set of parcels for examples:</p><pre class="programlisting">CREATE TABLE parcels AS
SELECT lpad((row_number() over())::text,3,'0') As parcel_id, geom,
('{residential, commercial}'::text[])[1 + mod(row_number()OVER(),2)] As type
FROM
    ST_Subdivide(ST_Buffer('SRID=3857;LINESTRING(40 100, 98 100, 100 150, 60 90)'::geometry,
    40, 'endcap=square'),12) As geom;
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_clusterkmeans02.png"/><div class="caption"><p>Parcels color-coded by cluster number (cid)</p></div></div></div><p>
</p><pre class="programlisting">SELECT ST_ClusterKMeans(geom, 3) OVER() AS cid, parcel_id, geom
    FROM parcels;</pre><p>
</p><pre class="screen">cid | parcel_id |   geom
-----+-----------+---------------
   0 | 001       | 0103000000...
   0 | 002       | 0103000000...
   1 | 003       | 0103000000...
   0 | 004       | 0103000000...
   1 | 005       | 0103000000...
   2 | 006       | 0103000000...
   2 | 007       | 0103000000...
</pre><p>
        </p><p>Partitioning parcel clusters by type:</p><pre class="programlisting">SELECT ST_ClusterKMeans(geom, 3) over (PARTITION BY type) AS cid, parcel_id, type
    FROM parcels;</pre><pre class="screen">cid | parcel_id |    type
-----+-----------+-------------
   1 | 005       | commercial
   1 | 003       | commercial
   2 | 007       | commercial
   0 | 001       | commercial
   1 | 004       | residential
   0 | 002       | residential
   2 | 006       | residential
</pre><p>Example: Clustering a preaggregated planetary-scale data population dataset using 3D clusering and weighting. Identify at least 20 regions based on <a class="link" href="https://data.humdata.org/dataset/kontur-population-dataset" target="_top">Kontur Population Data</a> that do not span more than 3000 km from their center:</p><pre class="programlisting">create table kontur_population_3000km_clusters as
select
    geom,
    ST_ClusterKMeans(
        ST_Force4D(
            ST_Transform(ST_Force3D(geom), 4978), -- cluster in 3D XYZ CRS
            mvalue =&gt; population -- set clustering to be weighed by population
        ),
        20,                      -- aim to generate at least 20 clusters
        max_radius =&gt; 3000000    -- but generate more to make each under 3000 km radius
    ) over () as cid
from
    kontur_population;
    </pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_clusterkmeans03.png"/><div class="caption"><p>World population clustered to above specs produces 46 clusters. Clusters are centered at well-populated regions (New York, Moscow). Greenland is one cluster. There are island clusters that span across the antimeridian. Cluster edges follow Earth's curvature.</p></div></div></div><p>
    </p></div><div class="refsection" id="idm18975"><h2>Veja também</h2><p><a class="xref" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a>, <a class="xref" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a>, <a class="xref" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a>, <a class="xref" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a>, <a class="xref" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a>, <a class="xref" href="#ST_Subdivide" title="ST_Subdivide">ST_Subdivide</a>, <a class="xref" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a>, <a class="xref" href="#ST_Force_4D" title="ST_Force4D">ST_Force4D</a>, </p></div></div><div class="refentry" id="ST_ClusterWithin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClusterWithin — Aggregate function that clusters geometries by separation distance.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry[] <strong class="fsfunc">ST_ClusterWithin</strong>(</code>geometry set  <var class="pdparam">g</var>, float8  <var class="pdparam">distance</var><code>)</code>;</p></div></div><div class="refsection" id="idm19001"><h2>Descrição</h2><p>An aggregate function that returns an array of GeometryCollections, where each collection is a cluster containing some input geometries. Clustering partitions the input geometries into sets in which each geometry is within the specified <em class="parameter"><code>distance</code></em> of at least one other geometry in the same cluster. Distances are Cartesian distances in the units of the SRID. </p><p>ST_ClusterWithin is equivalent to running <a class="xref" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a> with <code class="code">minpoints =&gt; 0</code>.</p><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm19013"><h2>Exemplos</h2><pre class="programlisting">WITH testdata AS
  (SELECT unnest(ARRAY['LINESTRING (0 0, 1 1)'::geometry,
                       'LINESTRING (5 5, 4 4)'::geometry,
                       'LINESTRING (6 6, 7 7)'::geometry,
                       'LINESTRING (0 0, -1 -1)'::geometry,
                       'POLYGON ((0 0, 4 0, 4 4, 0 4, 0 0))'::geometry]) AS geom)

SELECT ST_AsText(unnest(ST_ClusterWithin(geom, 1.4))) FROM testdata;

--result

st_astext
---------
GEOMETRYCOLLECTION(LINESTRING(0 0,1 1),LINESTRING(5 5,4 4),LINESTRING(0 0,-1 -1),POLYGON((0 0,4 0,4 4,0 4,0 0)))
GEOMETRYCOLLECTION(LINESTRING(6 6,7 7))
        </pre></div><div class="refsection" id="idm19016"><h2>Veja também</h2><p><a class="xref" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a>, <a class="xref" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a>, <a class="xref" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a>, <a class="xref" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a> </p></div></div><div class="refentry" id="ST_ClusterWithinWin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClusterWithinWin — Window function that returns a cluster id for each input geometry, clustering using separation distance.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_ClusterWithinWin</strong>(</code>geometry winset  <var class="pdparam">geom</var>, float8  <var class="pdparam">distance</var><code>)</code>;</p></div></div><div class="refsection" id="idm19038"><h2>Descrição</h2><p>A window function that returns a cluster number for each input geometry. Clustering partitions the geometries into sets in which each geometry is within the specified <code class="varname">distance</code> of at least one other geometry in the same cluster. Distances are Cartesian distances in the units of the SRID. </p><p>ST_ClusterWithinWin is equivalent to running <a class="xref" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a> with <code class="code">minpoints =&gt; 0</code>.</p><p class="availability">Availability: 3.4.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm19050"><h2>Exemplos</h2><pre class="programlisting">WITH testdata AS (
  SELECT id, geom::geometry FROM (
  VALUES  (1, 'LINESTRING (0 0, 1 1)'),
          (2, 'LINESTRING (5 5, 4 4)'),
          (3, 'LINESTRING (6 6, 7 7)'),
          (4, 'LINESTRING (0 0, -1 -1)'),
          (5, 'POLYGON ((0 0, 4 0, 4 4, 0 4, 0 0))')) AS t(id, geom)
)
SELECT id,
  ST_AsText(geom),
  ST_ClusterWithinWin(geom, 1.4) OVER () AS cluster
FROM testdata;


 id |           st_astext            | cluster
----+--------------------------------+---------
  1 | LINESTRING(0 0,1 1)            |       0
  2 | LINESTRING(5 5,4 4)            |       0
  3 | LINESTRING(6 6,7 7)            |       1
  4 | LINESTRING(0 0,-1 -1)          |       0
  5 | POLYGON((0 0,4 0,4 4,0 4,0 0)) |       0

        </pre></div><div class="refsection" id="idm19053"><h2>Veja também</h2><p><a class="xref" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a>, <a class="xref" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a>, <a class="xref" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a>, <a class="xref" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a>, </p></div></div></section><section class="section" id="BBox_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.18. Bounding Box Functions</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions produce or operate on bounding boxes. They can also provide and accept geometry values, by using automatic or explicit casts. </p><p>See also <a class="xref" href="#PostGIS_BoxFunctions" title="13.7. PostGIS Box Functions">Section 13.7, “PostGIS Box Functions”</a>.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#Box2D">Box2D</a></span><span class="refpurpose"> — Returns a BOX2D representing the 2D extent of a geometry.</span></li><li><span class="refentrytitle"><a href="#Box3D">Box3D</a></span><span class="refpurpose"> — Returns a BOX3D representing the 3D extent of a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_EstimatedExtent">ST_EstimatedExtent</a></span><span class="refpurpose"> — Returns the estimated extent of a spatial table.</span></li><li><span class="refentrytitle"><a href="#ST_Expand">ST_Expand</a></span><span class="refpurpose"> — Returns a bounding box expanded from another bounding box or a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_Extent">ST_Extent</a></span><span class="refpurpose"> — Aggregate function that returns the bounding box of geometries.</span></li><li><span class="refentrytitle"><a href="#ST_3DExtent">ST_3DExtent</a></span><span class="refpurpose"> — Aggregate function that returns the 3D bounding box of geometries.</span></li><li><span class="refentrytitle"><a href="#ST_MakeBox2D">ST_MakeBox2D</a></span><span class="refpurpose"> — Creates a BOX2D defined by two 2D point geometries.</span></li><li><span class="refentrytitle"><a href="#ST_3DMakeBox">ST_3DMakeBox</a></span><span class="refpurpose"> — Creates a BOX3D defined by two 3D point geometries.</span></li><li><span class="refentrytitle"><a href="#ST_XMax">ST_XMax</a></span><span class="refpurpose"> — Returns the X maxima of a 2D or 3D bounding box or a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_XMin">ST_XMin</a></span><span class="refpurpose"> — Returns the X minima of a 2D or 3D bounding box or a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_YMax">ST_YMax</a></span><span class="refpurpose"> — Returns the Y maxima of a 2D or 3D bounding box or a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_YMin">ST_YMin</a></span><span class="refpurpose"> — Returns the Y minima of a 2D or 3D bounding box or a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_ZMax">ST_ZMax</a></span><span class="refpurpose"> — Returns the Z maxima of a 2D or 3D bounding box or a geometry.</span></li><li><span class="refentrytitle"><a href="#ST_ZMin">ST_ZMin</a></span><span class="refpurpose"> — Returns the Z minima of a 2D or 3D bounding box or a geometry.</span></li></ul></div><div class="refentry" id="Box2D"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Box2D — Returns a BOX2D representing the 2D extent of a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box2d <strong class="fsfunc">Box2D</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm19079"><h2>Descrição</h2><p>Returns a <a class="xref" href="#box2d_type" title="box2d">box2d</a> representing the 2D extent of the geometry.</p><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm19096"><h2>Exemplos</h2><pre class="programlisting">SELECT Box2D(ST_GeomFromText('LINESTRING(1 2, 3 4, 5 6)'));

box2d
---------
BOX(1 2,5 6)
</pre><pre class="programlisting">SELECT Box2D(ST_GeomFromText('CIRCULARSTRING(220268 150415,220227 150505,220227 150406)'));

box2d
--------
BOX(220186.984375 150406,220288.25 150506.140625)
</pre></div><div class="refsection" id="idm19100"><h2>Veja também</h2><p><a class="xref" href="#Box3D" title="Box3D">Box3D</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a></p></div></div><div class="refentry" id="Box3D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Box3D — Returns a BOX3D representing the 3D extent of a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box3d <strong class="fsfunc">Box3D</strong>(</code>geometry  <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm19117"><h2>Descrição</h2><p>Returns a <a class="xref" href="#box3d_type" title="box3d">box3d</a> representing the 3D extent of the geometry.</p><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm19138"><h2>Exemplos</h2><pre class="programlisting">SELECT Box3D(ST_GeomFromEWKT('LINESTRING(1 2 3, 3 4 5, 5 6 5)'));

Box3d
---------
BOX3D(1 2 3,5 6 5)
</pre><pre class="programlisting">SELECT Box3D(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 1,220227 150406 1)'));

Box3d
--------
BOX3D(220227 150406 1,220268 150415 1)
</pre></div><div class="refsection" id="idm19142"><h2>Veja também</h2><p><a class="xref" href="#Box2D" title="Box2D">Box2D</a>, <a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a></p></div></div><div class="refentry" id="ST_EstimatedExtent"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_EstimatedExtent — Returns the estimated extent of a spatial table.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box2d <strong class="fsfunc">ST_EstimatedExtent</strong>(</code>text  <var class="pdparam">schema_name</var>, text  <var class="pdparam">table_name</var>, text  <var class="pdparam">geocolumn_name</var>, boolean  <var class="pdparam">parent_only</var><code>)</code>;</p><p><code class="funcdef">box2d <strong class="fsfunc">ST_EstimatedExtent</strong>(</code>text  <var class="pdparam">schema_name</var>, text  <var class="pdparam">table_name</var>, text  <var class="pdparam">geocolumn_name</var><code>)</code>;</p><p><code class="funcdef">box2d <strong class="fsfunc">ST_EstimatedExtent</strong>(</code>text  <var class="pdparam">table_name</var>, text  <var class="pdparam">geocolumn_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm19189"><h2>Descrição</h2><p>Returns the estimated extent of a spatial table as a <a class="xref" href="#box2d_type" title="box2d">box2d</a>. The current schema is used if not specified. The estimated extent is taken from the geometry column's statistics. This is usually much faster than computing the exact extent of the table using <a class="xref" href="#ST_Extent" title="ST_Extent">ST_Extent</a> or <a class="xref" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a>. </p><p>The default behavior is to also use statistics collected from child tables (tables with INHERITS) if available. If <code class="varname">parent_only</code> is set to TRUE, only statistics for the given table are used and child tables are ignored. </p><p>For PostgreSQL &gt;= 8.0.0 statistics are gathered by VACUUM ANALYZE and the result extent will be about 95% of the actual one. For PostgreSQL &lt; 8.0.0 statistics are gathered by running <code class="code">update_geometry_stats()</code> and the result extent is exact. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>In the absence of statistics (empty table or no ANALYZE called) this function returns NULL. Prior to version 1.5.4 an exception was thrown instead. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Escaping names for tables and/or namespaces that include special characters and quotes may require special handling. A user notes: "For schemas and tables, use identifier escaping rules to produce a double-quoted string, and afterwards remove the first and last double-quote character. For geometry column pass as is." </p></td></tr></table></div><p class="availability">Disponibilidade: 1.0.0</p><p class="changed">Changed: 2.1.0. Up to 2.0.x this was called ST_Estimated_Extent.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm19209"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_EstimatedExtent('ny', 'edges', 'geom');
--result--
BOX(-8877653 4912316,-8010225.5 5589284)

SELECT ST_EstimatedExtent('feature_poly', 'geom');
--result--
BOX(-124.659652709961 24.6830825805664,-67.7798080444336 49.0012092590332)
                </pre></div><div class="refsection" id="idm19212"><h2>Veja também</h2><p><a class="xref" href="#ST_Extent" title="ST_Extent">ST_Extent</a>, <a class="xref" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a></p></div></div><div class="refentry" id="ST_Expand"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Expand — Returns a bounding box expanded from another bounding box or a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Expand</strong>(</code>geometry  <var class="pdparam">geom</var>, float <var class="pdparam">units_to_expand</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_Expand</strong>(</code>geometry  <var class="pdparam">geom</var>, float <var class="pdparam">dx</var>, float <var class="pdparam">dy</var>, float <var class="pdparam">dz=0</var>, float <var class="pdparam">dm=0</var><code>)</code>;</p><p><code class="funcdef">box2d <strong class="fsfunc">ST_Expand</strong>(</code>box2d  <var class="pdparam">box</var>, float <var class="pdparam">units_to_expand</var><code>)</code>;</p><p><code class="funcdef">box2d <strong class="fsfunc">ST_Expand</strong>(</code>box2d  <var class="pdparam">box</var>, float <var class="pdparam">dx</var>, float <var class="pdparam">dy</var><code>)</code>;</p><p><code class="funcdef">box3d <strong class="fsfunc">ST_Expand</strong>(</code>box3d  <var class="pdparam">box</var>, float <var class="pdparam">units_to_expand</var><code>)</code>;</p><p><code class="funcdef">box3d <strong class="fsfunc">ST_Expand</strong>(</code>box3d  <var class="pdparam">box</var>, float <var class="pdparam">dx</var>, float <var class="pdparam">dy</var>, float <var class="pdparam">dz=0</var><code>)</code>;</p></div></div><div class="refsection" id="idm19295"><h2>Descrição</h2><p>Returns a bounding box expanded from the bounding box of the input, either by specifying a single distance with which the box should be expanded on both axes, or by specifying an expansion distance for each axis. Uses double-precision. Can be used for distance queries, or to add a bounding box filter to a query to take advantage of a spatial index.</p><p>In addition to the version of ST_Expand accepting and returning a geometry, variants are provided that accept and return <a class="xref" href="#box2d_type" title="box2d">box2d</a> and <a class="xref" href="#box3d_type" title="box3d">box3d</a> data types. </p><p>Distances are in the units of the spatial reference system of the input.</p><p>ST_Expand is similar to <a class="xref" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a>, except while buffering expands a geometry in all directions, ST_Expand expands the bounding box along each axis.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Pre version 1.3, ST_Expand was used in conjunction with <a class="xref" href="#ST_Distance" title="ST_Distance">ST_Distance</a> to do indexable distance queries. For example, <code class="code">geom &amp;&amp; ST_Expand('POINT(10 20)', 10) AND ST_Distance(geom, 'POINT(10 20)') &lt; 10</code>. This has been replaced by the simpler and more efficient <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a> function.</p></td></tr></table></div><p class="availability">Availability: 1.5.0 behavior changed to output double precision instead of float4 coordinates.</p><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p class="enhanced">Enhanced: 2.3.0 support was added to expand a box by different amounts in different dimensions.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm19320"><h2>Exemplos</h2><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Examples below use US National Atlas Equal Area (SRID=2163) which is a meter projection</p></td></tr></table></div><pre class="programlisting">
--10 meter expanded box around bbox of a linestring
SELECT CAST(ST_Expand(ST_GeomFromText('LINESTRING(2312980 110676,2312923 110701,2312892 110714)', 2163),10) As box2d);
                                         st_expand
------------------------------------
 BOX(2312882 110666,2312990 110724)

--10 meter expanded 3D box of a 3D box
SELECT ST_Expand(CAST('BOX3D(778783 2951741 1,794875 2970042.61545891 10)' As box3d),10)
                                                          st_expand
-----------------------------------------------------
 BOX3D(778773 2951731 -9,794885 2970052.61545891 20)

 --10 meter geometry astext rep of a expand box around a point geometry
 SELECT ST_AsEWKT(ST_Expand(ST_GeomFromEWKT('SRID=2163;POINT(2312980 110676)'),10));
                                                                                        st_asewkt
-------------------------------------------------------------------------------------------------
 SRID=2163;POLYGON((2312970 110666,2312970 110686,2312990 110686,2312990 110666,2312970 110666))

                </pre></div><div class="refsection" id="idm19325"><h2>Veja também</h2><p><a class="xref" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a>, <a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_Extent"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Extent — Aggregate function that returns the bounding box of geometries.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box2d <strong class="fsfunc">ST_Extent</strong>(</code>geometry set <var class="pdparam">geomfield</var><code>)</code>;</p></div></div><div class="refsection" id="idm19343"><h2>Descrição</h2><p>An aggregate function that returns a <a class="xref" href="#box2d_type" title="box2d">box2d</a> bounding box that bounds a set of geometries. </p><p>The bounding box coordinates are in the spatial reference system of the input geometries.</p><p>ST_Extent is similar in concept to Oracle Spatial/Locator's SDO_AGGR_MBR.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_Extent returns boxes with only X and Y ordinates even with 3D geometries. To return XYZ ordinates use <a class="xref" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The returned <code class="code">box3d</code> value does not include a SRID. Use <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> to convert it into a geometry with SRID metadata. The SRID is the same as the input geometries.</p></td></tr></table></div><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm19365"><h2>Exemplos</h2><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Examples below use Massachusetts State Plane ft (SRID=2249)</p></td></tr></table></div><pre class="programlisting">SELECT ST_Extent(geom) as bextent FROM sometable;
                                         st_bextent
------------------------------------
BOX(739651.875 2908247.25,794875.8125 2970042.75)


--Return extent of each category of geometries
SELECT ST_Extent(geom) as bextent
FROM sometable
GROUP BY category ORDER BY category;

                                          bextent                       |         name
----------------------------------------------------+----------------
 BOX(778783.5625 2951741.25,794875.8125 2970042.75) | A
 BOX(751315.8125 2919164.75,765202.6875 2935417.25) | B
 BOX(739651.875 2917394.75,756688.375 2935866)      | C

 --Force back into a geometry
 -- and render the extended text representation of that geometry
SELECT ST_SetSRID(ST_Extent(geom),2249) as bextent FROM sometable;

                                bextent
--------------------------------------------------------------------------------
 SRID=2249;POLYGON((739651.875 2908247.25,739651.875 2970042.75,794875.8125 2970042.75,
 794875.8125 2908247.25,739651.875 2908247.25))
                </pre></div><div class="refsection" id="idm19370"><h2>Veja também</h2><p><a class="xref" href="#ST_EstimatedExtent" title="ST_EstimatedExtent">ST_EstimatedExtent</a>, <a class="xref" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> </p></div></div><div class="refentry" id="ST_3DExtent"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DExtent — Aggregate function that returns the 3D bounding box of geometries.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box3d <strong class="fsfunc">ST_3DExtent</strong>(</code>geometry set <var class="pdparam">geomfield</var><code>)</code>;</p></div></div><div class="refsection" id="idm19388"><h2>Descrição</h2><p>An aggregate function that returns a <a class="xref" href="#box3d_type" title="box3d">box3d</a> (includes Z ordinate) bounding box that bounds a set of geometries. </p><p>The bounding box coordinates are in the spatial reference system of the input geometries.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The returned <code class="code">box3d</code> value does not include a SRID. Use <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> to convert it into a geometry with SRID metadata. The SRID is the same as the input geometries.</p></td></tr></table></div><p class="enhanced">Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido.</p><p class="changed">Changed: 2.0.0 In prior versions this used to be called ST_Extent3D</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm19415"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_3DExtent(foo.geom) As b3extent
FROM (SELECT ST_MakePoint(x,y,z) As geom
        FROM generate_series(1,3) As x
                CROSS JOIN generate_series(1,2) As y
                CROSS JOIN generate_series(0,2) As Z) As foo;
          b3extent
--------------------
 BOX3D(1 1 0,3 2 2)

--Get the extent of various elevated circular strings
SELECT ST_3DExtent(foo.geom) As b3extent
FROM (SELECT ST_Translate(ST_Force_3DZ(ST_LineToCurve(ST_Buffer(ST_Point(x,y),1))),0,0,z) As geom
        FROM generate_series(1,3) As x
                CROSS JOIN generate_series(1,2) As y
                CROSS JOIN generate_series(0,2) As Z) As foo;

        b3extent
--------------------
 BOX3D(1 0 0,4 2 2)
                </pre></div><div class="refsection" id="idm19418"><h2>Veja também</h2><p><a class="xref" href="#ST_Extent" title="ST_Extent">ST_Extent</a>, <a class="xref" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a></p></div></div><div class="refentry" id="ST_MakeBox2D"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakeBox2D — Creates a BOX2D defined by two 2D point geometries.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box2d <strong class="fsfunc">ST_MakeBox2D</strong>(</code>geometry  <var class="pdparam">pointLowLeft</var>, geometry  <var class="pdparam">pointUpRight</var><code>)</code>;</p></div></div><div class="refsection" id="idm19439"><h2>Descrição</h2><p>Creates a <a class="xref" href="#box2d_type" title="box2d">box2d</a> defined by two Point geometries. This is useful for doing range queries.</p></div><div class="refsection" id="idm19443"><h2>Exemplos</h2><pre class="programlisting">

--Return all features that fall reside or partly reside in a US national atlas coordinate bounding box
--It is assumed here that the geometries are stored with SRID = 2163 (US National atlas equal area)
SELECT feature_id, feature_name, geom
FROM features
WHERE geom &amp;&amp; ST_SetSRID(ST_MakeBox2D(ST_Point(-989502.1875, 528439.5625),
        ST_Point(-987121.375 ,529933.1875)),2163)
</pre></div><div class="refsection" id="idm19446"><h2>Veja também</h2><p><a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_3DMakeBox"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DMakeBox — Creates a BOX3D defined by two 3D point geometries.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box3d <strong class="fsfunc">ST_3DMakeBox</strong>(</code>geometry  <var class="pdparam">point3DLowLeftBottom</var>, geometry  <var class="pdparam">point3DUpRightTop</var><code>)</code>;</p></div></div><div class="refsection" id="idm19467"><h2>Descrição</h2><p>Creates a <a class="xref" href="#box3d_type" title="box3d">box3d</a> defined by two 3D Point geometries. </p><p><span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3D and will not drop the z-index.</p><p class="changed">Changed: 2.0.0 In prior versions this used to be called ST_MakeBox3D</p></div><div class="refsection" id="idm19476"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_3DMakeBox(ST_MakePoint(-989502.1875, 528439.5625, 10),
        ST_MakePoint(-987121.375 ,529933.1875, 10)) As abb3d

--bb3d--
--------
BOX3D(-989502.1875 528439.5625 10,-987121.375 529933.1875 10)
        </pre></div><div class="refsection" id="idm19479"><h2>Veja também</h2><p><a class="xref" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="ST_XMax"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_XMax — Returns the X maxima of a 2D or 3D bounding box or a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_XMax</strong>(</code>box3d  <var class="pdparam">aGeomorBox2DorBox3D</var><code>)</code>;</p></div></div><div class="refsection" id="idm19497"><h2>Descrição</h2><p>Returns the X maxima of a 2D or 3D bounding box or a geometry.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Although this function is only defined for box3d, it also works for box2d and geometry values due to automatic casting. However, it will not accept a geometry or box2d text representation, since those do not auto-cast.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm19510"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_XMax('BOX3D(1 2 3, 4 5 6)');
st_xmax
-------
4

SELECT ST_XMax(ST_GeomFromText('LINESTRING(1 3 4, 5 6 7)'));
st_xmax
-------
5

SELECT ST_XMax(CAST('BOX(-3 2, 3 4)' As box2d));
st_xmax
-------
3
--Observe THIS DOES NOT WORK because it will try to auto-cast the string representation to a BOX3D
SELECT ST_XMax('LINESTRING(1 3, 5 6)');

--ERROR:  BOX3D parser - doesn't start with BOX3D(

SELECT ST_XMax(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)'));
st_xmax
--------
220288.248780547
                </pre></div><div class="refsection" id="idm19513"><h2>Veja também</h2><p><a class="xref" href="#ST_XMin" title="ST_XMin">ST_XMin</a>, <a class="xref" href="#ST_YMax" title="ST_YMax">ST_YMax</a>, <a class="xref" href="#ST_YMin" title="ST_YMin">ST_YMin</a>, <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a>, <a class="xref" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a></p></div></div><div class="refentry" id="ST_XMin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_XMin — Returns the X minima of a 2D or 3D bounding box or a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_XMin</strong>(</code>box3d  <var class="pdparam">aGeomorBox2DorBox3D</var><code>)</code>;</p></div></div><div class="refsection" id="idm19533"><h2>Descrição</h2><p>Returns the X minima of a 2D or 3D bounding box or a geometry.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Although this function is only defined for box3d, it also works for box2d and geometry values due to automatic casting. However it will not accept a geometry or box2d text representation, since those do not auto-cast.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm19546"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_XMin('BOX3D(1 2 3, 4 5 6)');
st_xmin
-------
1

SELECT ST_XMin(ST_GeomFromText('LINESTRING(1 3 4, 5 6 7)'));
st_xmin
-------
1

SELECT ST_XMin(CAST('BOX(-3 2, 3 4)' As box2d));
st_xmin
-------
-3
--Observe THIS DOES NOT WORK because it will try to auto-cast the string representation to a BOX3D
SELECT ST_XMin('LINESTRING(1 3, 5 6)');

--ERROR:  BOX3D parser - doesn't start with BOX3D(

SELECT ST_XMin(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)'));
st_xmin
--------
220186.995121892
                </pre></div><div class="refsection" id="idm19549"><h2>Veja também</h2><p><a class="xref" href="#ST_XMax" title="ST_XMax">ST_XMax</a>, <a class="xref" href="#ST_YMax" title="ST_YMax">ST_YMax</a>, <a class="xref" href="#ST_YMin" title="ST_YMin">ST_YMin</a>, <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a>, <a class="xref" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a></p></div></div><div class="refentry" id="ST_YMax"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_YMax — Returns the Y maxima of a 2D or 3D bounding box or a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_YMax</strong>(</code>box3d  <var class="pdparam">aGeomorBox2DorBox3D</var><code>)</code>;</p></div></div><div class="refsection" id="idm19569"><h2>Descrição</h2><p>Returns the Y maxima of a 2D or 3D bounding box or a geometry.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Although this function is only defined for box3d, it also works for box2d and geometry values due to automatic casting. However it will not accept a geometry or box2d text representation, since those do not auto-cast.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm19582"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_YMax('BOX3D(1 2 3, 4 5 6)');
st_ymax
-------
5

SELECT ST_YMax(ST_GeomFromText('LINESTRING(1 3 4, 5 6 7)'));
st_ymax
-------
6

SELECT ST_YMax(CAST('BOX(-3 2, 3 4)' As box2d));
st_ymax
-------
4
--Observe THIS DOES NOT WORK because it will try to auto-cast the string representation to a BOX3D
SELECT ST_YMax('LINESTRING(1 3, 5 6)');

--ERROR:  BOX3D parser - doesn't start with BOX3D(

SELECT ST_YMax(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)'));
st_ymax
--------
150506.126829327
                </pre></div><div class="refsection" id="idm19585"><h2>Veja também</h2><p><a class="xref" href="#ST_XMin" title="ST_XMin">ST_XMin</a>, <a class="xref" href="#ST_XMax" title="ST_XMax">ST_XMax</a>, <a class="xref" href="#ST_YMin" title="ST_YMin">ST_YMin</a>, <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a>, <a class="xref" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a></p></div></div><div class="refentry" id="ST_YMin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_YMin — Returns the Y minima of a 2D or 3D bounding box or a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_YMin</strong>(</code>box3d  <var class="pdparam">aGeomorBox2DorBox3D</var><code>)</code>;</p></div></div><div class="refsection" id="idm19605"><h2>Descrição</h2><p>Returns the Y minima of a 2D or 3D bounding box or a geometry.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Although this function is only defined for box3d, it also works for box2d and geometry values due to automatic casting. However it will not accept a geometry or box2d text representation, since those do not auto-cast.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm19618"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_YMin('BOX3D(1 2 3, 4 5 6)');
st_ymin
-------
2

SELECT ST_YMin(ST_GeomFromText('LINESTRING(1 3 4, 5 6 7)'));
st_ymin
-------
3

SELECT ST_YMin(CAST('BOX(-3 2, 3 4)' As box2d));
st_ymin
-------
2
--Observe THIS DOES NOT WORK because it will try to auto-cast the string representation to a BOX3D
SELECT ST_YMin('LINESTRING(1 3, 5 6)');

--ERROR:  BOX3D parser - doesn't start with BOX3D(

SELECT ST_YMin(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)'));
st_ymin
--------
150406
                </pre></div><div class="refsection" id="idm19621"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_XMin" title="ST_XMin">ST_XMin</a>, <a class="xref" href="#ST_XMax" title="ST_XMax">ST_XMax</a>, <a class="xref" href="#ST_YMax" title="ST_YMax">ST_YMax</a>, <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a>, <a class="xref" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a></p></div></div><div class="refentry" id="ST_ZMax"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ZMax — Returns the Z maxima of a 2D or 3D bounding box or a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_ZMax</strong>(</code>box3d  <var class="pdparam">aGeomorBox2DorBox3D</var><code>)</code>;</p></div></div><div class="refsection" id="idm19642"><h2>Descrição</h2><p>Returns the Z maxima of a 2D or 3D bounding box or a geometry.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Although this function is only defined for box3d, it also works for box2d and geometry values due to automatic casting. However it will not accept a geometry or box2d text representation, since those do not auto-cast.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm19655"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_ZMax('BOX3D(1 2 3, 4 5 6)');
st_zmax
-------
6

SELECT ST_ZMax(ST_GeomFromEWKT('LINESTRING(1 3 4, 5 6 7)'));
st_zmax
-------
7

SELECT ST_ZMax('BOX3D(-3 2 1, 3 4 1)' );
st_zmax
-------
1
--Observe THIS DOES NOT WORK because it will try to auto-cast the string representation to a BOX3D
SELECT ST_ZMax('LINESTRING(1 3 4, 5 6 7)');

--ERROR:  BOX3D parser - doesn't start with BOX3D(

SELECT ST_ZMax(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)'));
st_zmax
--------
3
                </pre></div><div class="refsection" id="idm19658"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_XMin" title="ST_XMin">ST_XMin</a>, <a class="xref" href="#ST_XMax" title="ST_XMax">ST_XMax</a>, <a class="xref" href="#ST_YMax" title="ST_YMax">ST_YMax</a>, <a class="xref" href="#ST_YMin" title="ST_YMin">ST_YMin</a>, <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a></p></div></div><div class="refentry" id="ST_ZMin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ZMin — Returns the Z minima of a 2D or 3D bounding box or a geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_ZMin</strong>(</code>box3d  <var class="pdparam">aGeomorBox2DorBox3D</var><code>)</code>;</p></div></div><div class="refsection" id="idm19679"><h2>Descrição</h2><p>Returns the Z minima of a 2D or 3D bounding box or a geometry.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Although this function is only defined for box3d, it also works for box2d and geometry values due to automatic casting. However it will not accept a geometry or box2d text representation, since those do not auto-cast.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm19692"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_ZMin('BOX3D(1 2 3, 4 5 6)');
st_zmin
-------
3

SELECT ST_ZMin(ST_GeomFromEWKT('LINESTRING(1 3 4, 5 6 7)'));
st_zmin
-------
4

SELECT ST_ZMin('BOX3D(-3 2 1, 3 4 1)' );
st_zmin
-------
1
--Observe THIS DOES NOT WORK because it will try to auto-cast the string representation to a BOX3D
SELECT ST_ZMin('LINESTRING(1 3 4, 5 6 7)');

--ERROR:  BOX3D parser - doesn't start with BOX3D(

SELECT ST_ZMin(ST_GeomFromEWKT('CIRCULARSTRING(220268 150415 1,220227 150505 2,220227 150406 3)'));
st_zmin
--------
1
                </pre></div><div class="refsection" id="idm19695"><h2>Veja também</h2><p><a class="xref" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>, <a class="xref" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>, <a class="xref" href="#ST_XMin" title="ST_XMin">ST_XMin</a>, <a class="xref" href="#ST_XMax" title="ST_XMax">ST_XMax</a>, <a class="xref" href="#ST_YMax" title="ST_YMax">ST_YMax</a>, <a class="xref" href="#ST_YMin" title="ST_YMin">ST_YMin</a>, <a class="xref" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a></p></div></div></section><section class="section" id="Linear_Referencing"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.19. Referência linear </h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_LineInterpolatePoint">ST_LineInterpolatePoint</a></span><span class="refpurpose"> — Returns a point interpolated along a line at a fractional location.</span></li><li><span class="refentrytitle"><a href="#ST_3DLineInterpolatePoint">ST_3DLineInterpolatePoint</a></span><span class="refpurpose"> — Returns a point interpolated along a 3D line at a fractional location.</span></li><li><span class="refentrytitle"><a href="#ST_LineInterpolatePoints">ST_LineInterpolatePoints</a></span><span class="refpurpose"> — Returns points interpolated along a line at a fractional interval. </span></li><li><span class="refentrytitle"><a href="#ST_LineLocatePoint">ST_LineLocatePoint</a></span><span class="refpurpose"> — Returns the fractional location of the closest point on a line to a point.</span></li><li><span class="refentrytitle"><a href="#ST_LineSubstring">ST_LineSubstring</a></span><span class="refpurpose"> — Returns the part of a line between two fractional locations.</span></li><li><span class="refentrytitle"><a href="#ST_LocateAlong">ST_LocateAlong</a></span><span class="refpurpose"> — Returns the point(s) on a geometry that match a measure value.</span></li><li><span class="refentrytitle"><a href="#ST_LocateBetween">ST_LocateBetween</a></span><span class="refpurpose"> — Returns the portions of a geometry that match a measure range.</span></li><li><span class="refentrytitle"><a href="#ST_LocateBetweenElevations">ST_LocateBetweenElevations</a></span><span class="refpurpose"> — Returns the portions of a geometry that lie in an elevation (Z) range.</span></li><li><span class="refentrytitle"><a href="#ST_InterpolatePoint">ST_InterpolatePoint</a></span><span class="refpurpose"> — Retorna o valor da dimensão de medida da geometria no ponto fechado para o ponto fornecido.</span></li><li><span class="refentrytitle"><a href="#ST_AddMeasure">ST_AddMeasure</a></span><span class="refpurpose"> — Interpolates measures along a linear geometry.</span></li></ul></div><div class="refentry" id="ST_LineInterpolatePoint"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineInterpolatePoint — Returns a point interpolated along a line at a fractional location.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineInterpolatePoint</strong>(</code>geometry  <var class="pdparam">a_linestring</var>, float8  <var class="pdparam">a_fraction</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_LineInterpolatePoint</strong>(</code>geography  <var class="pdparam">a_linestring</var>, float8  <var class="pdparam">a_fraction</var>, boolean <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm19734"><h2>Descrição</h2><p>Retorna um ponto interpolar com uma linha. Primeiro argumento deve ser uma LINESTRING. Segundo argumento é um float8 entre 0 e 1 representando fração do comprimento total da linestring do ponto tem que ser localizado.  </p><p>Veja <a class="xref" href="#ST_LineLocatePoint" title="ST_LineLocatePoint">ST_LineLocatePoint</a> para computar a linha de localização mais perto de um ponto. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function computes points in 2D and then interpolates values for Z and M, while <a class="xref" href="#ST_3DLineInterpolatePoint" title="ST_3DLineInterpolatePoint">ST_3DLineInterpolatePoint</a> computes points in 3D and only interpolates the M value.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Desde a liberação 1.1.1 essa função também interpola valores  M e Z (quando presentes), enquanto as liberações anteriores configura eles para 0.0.</p></td></tr></table></div><p class="availability">Disponibilidade: 0.8.2, Suporte a Z e M adicionado em 1.1.1</p><p class="changed">Alterações: 2.1.0 para 2.0.x foi chamada ST_Line_Interpolate_Point.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm19750"><h2>Exemplos</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_line_interpolate_point01.png"/><div class="caption"><p>Uma linestring com o ponto interpolado em uma posição de 20% (0.20) </p></div></div></div><pre class="programlisting">-- The point 20% along a line

SELECT ST_AsEWKT(  ST_LineInterpolatePoint(
        'LINESTRING(25 50, 100 125, 150 190)',
        0.2 ));
----------------
 POINT(51.5974135047432 76.5974135047432)
</pre><p>The mid-point of a 3D line:</p><pre class="programlisting">SELECT ST_AsEWKT(  ST_LineInterpolatePoint('
        LINESTRING(1 2 3, 4 5 6, 6 7 8)',
        0.5 ));
--------------------
 POINT(3.5 4.5 5.5)
</pre><p>The closest point on a line to a point:</p><pre class="programlisting">SELECT ST_AsText( ST_LineInterpolatePoint( line.geom,
                      ST_LineLocatePoint( line.geom, 'POINT(4 3)')))
FROM (SELECT ST_GeomFromText('LINESTRING(1 2, 4 5, 6 7)') As geom) AS line;
------------
 POINT(3 4)
</pre></div><div class="refsection" id="idm19763"><h2>Veja também</h2><p><a class="xref" href="#ST_LineInterpolatePoints" title="ST_LineInterpolatePoints">ST_LineInterpolatePoints</a>, <a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>, <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a> </p></div></div><div class="refentry" id="ST_3DLineInterpolatePoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DLineInterpolatePoint — Returns a point interpolated along a 3D line at a fractional location.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DLineInterpolatePoint</strong>(</code>geometry  <var class="pdparam">a_linestring</var>, float8  <var class="pdparam">a_fraction</var><code>)</code>;</p></div></div><div class="refsection" id="idm19784"><h2>Descrição</h2><p>Retorna um ponto interpolar com uma linha. Primeiro argumento deve ser uma LINESTRING. Segundo argumento é um float8 entre 0 e 1 representando fração do comprimento total da linestring do ponto tem que ser localizado.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a> computes points in 2D and then interpolates the values for Z and M, while this function computes points in 3D and only interpolates the M value.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm19795"><h2>Exemplos</h2><p>Return point 20% along 3D line</p><pre class="programlisting">SELECT ST_AsText(
    ST_3DLineInterpolatePoint('LINESTRING(25 50 70, 100 125 90, 150 190 200)',
        0.20));

   st_asetext
----------------
 POINT Z (59.0675892910822 84.0675892910822 79.0846904776219)
</pre></div><div class="refsection" id="idm19799"><h2>Veja também</h2><p><a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>, <a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>, <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a> </p></div></div><div class="refentry" id="ST_LineInterpolatePoints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineInterpolatePoints — Returns points interpolated along a line at a fractional interval. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineInterpolatePoints</strong>(</code>geometry  <var class="pdparam">a_linestring</var>, float8  <var class="pdparam">a_fraction</var>, boolean  <var class="pdparam">repeat</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_LineInterpolatePoints</strong>(</code>geography  <var class="pdparam">a_linestring</var>, float8  <var class="pdparam">a_fraction</var>, boolean <var class="pdparam">use_spheroid = true</var>, boolean  <var class="pdparam">repeat = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm19838"><h2>Descrição</h2><p>Returns one or more points interpolated along a line at a fractional interval. The first argument must be a LINESTRING. The second argument is a float8 between 0 and 1 representing the spacing between the points as a fraction of line length. If the third argument is false, at most one point will be constructed (which is equivalent to <a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>.) </p><p>If the result has zero or one points, it is returned as a POINT. If it has two or more points, it is returned as a MULTIPOINT. </p><p class="availability">Availability: 2.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports M coordinates. </p></div><div class="refsection" id="idm19852"><h2>Exemplos</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_line_interpolate_points01.png"/><div class="caption"><p>A LineString with points interpolated every 20% </p></div></div></div><pre class="programlisting">--Return points each 20% along a 2D line
SELECT ST_AsText(ST_LineInterpolatePoints('LINESTRING(25 50, 100 125, 150 190)', 0.20))
----------------
 MULTIPOINT((51.5974135047432 76.5974135047432),(78.1948270094864 103.194827009486),(104.132163186446 130.37181214238),(127.066081593223 160.18590607119),(150 190))
</pre></div><div class="refsection" id="idm19861"><h2>Veja também</h2><p><a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>, <a class="xref" href="#ST_LineLocatePoint" title="ST_LineLocatePoint">ST_LineLocatePoint</a> </p></div></div><div class="refentry" id="ST_LineLocatePoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineLocatePoint — Returns the fractional location of the closest point on a line to a point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_LineLocatePoint</strong>(</code>geometry  <var class="pdparam">a_linestring</var>, geometry  <var class="pdparam">a_point</var><code>)</code>;</p><p><code class="funcdef">float8 <strong class="fsfunc">ST_LineLocatePoint</strong>(</code>geography  <var class="pdparam">a_linestring</var>, geography  <var class="pdparam">a_point</var>, boolean <var class="pdparam">use_spheroid = true</var><code>)</code>;</p></div></div><div class="refsection" id="idm19893"><h2>Descrição</h2><p>Retorna um flutuador entre 0 e 1 representando a localização do ponto mai próximo na linestring do ponto dado, como uma fração de uma <a class="link" href="#ST_Length2D" title="ST_Length2D">2d line</a>  de comprimento total.</p><p>Você pode usar a localização retornada para extrair um ponto (<a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>) ou uma substring (<a class="xref" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a>).</p><p>Isso é útil para aproximar números de endereços</p><p class="availability">Disponibilidade: 1.1.0</p><p class="changed">Alterações: 2.1.0 para 2.0.x foi chamada ST_Line_Locate_Point.</p></div><div class="refsection" id="idm19903"><h2>Exemplos</h2><pre class="programlisting">--Rough approximation of finding the street number of a point along the street
--Note the whole foo thing is just to generate dummy data that looks
--like house centroids and street
--We use ST_DWithin to exclude
--houses too far away from the street to be considered on the street
SELECT ST_AsText(house_loc) As as_text_house_loc,
        startstreet_num +
                CAST( (endstreet_num - startstreet_num)
                        * ST_LineLocatePoint(street_line, house_loc) As integer) As street_num
FROM
(SELECT ST_GeomFromText('LINESTRING(1 2, 3 4)') As street_line,
        ST_Point(x*1.01,y*1.03) As house_loc, 10 As startstreet_num,
                20 As endstreet_num
FROM generate_series(1,3) x CROSS JOIN generate_series(2,4) As y)
As foo
WHERE ST_DWithin(street_line, house_loc, 0.2);

 as_text_house_loc | street_num
-------------------+------------
 POINT(1.01 2.06)  |         10
 POINT(2.02 3.09)  |         15
 POINT(3.03 4.12)  |         20

 --find closest point on a line to a point or other geometry
 SELECT ST_AsText(ST_LineInterpolatePoint(foo.the_line, ST_LineLocatePoint(foo.the_line, ST_GeomFromText('POINT(4 3)'))))
FROM (SELECT ST_GeomFromText('LINESTRING(1 2, 4 5, 6 7)') As the_line) As foo;
   st_astext
----------------
 POINT(3 4)

</pre></div><div class="refsection" id="idm19906"><h2>Veja também</h2><p><a class="xref" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#ST_Length2D" title="ST_Length2D">ST_Length2D</a>, <a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>, <a class="xref" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a></p></div></div><div class="refentry" id="ST_LineSubstring"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LineSubstring — Returns the part of a line between two fractional locations.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LineSubstring</strong>(</code>geometry  <var class="pdparam">a_linestring</var>, float8  <var class="pdparam">startfraction</var>, float8  <var class="pdparam">endfraction</var><code>)</code>;</p><p><code class="funcdef">geography <strong class="fsfunc">ST_LineSubstring</strong>(</code>geography  <var class="pdparam">a_linestring</var>, float8  <var class="pdparam">startfraction</var>, float8  <var class="pdparam">endfraction</var><code>)</code>;</p></div></div><div class="refsection" id="idm19943"><h2>Descrição</h2><p>Computes the line which is the section of the input line starting and ending at the given fractional locations. The first argument must be a LINESTRING. The second and third arguments are values in the range [0, 1] representing the start and end locations as fractions of line length. The Z and M values are interpolated for added endpoints if present. </p><p>Se "início" e "fim" tiverem o mesmo valor, isso é equivalente a <a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This only works with LINESTRINGs. To use on contiguous MULTILINESTRINGs first join them with <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Desde a liberação 1.1.1 essa função também interpola valores  M e Z (quando presentes), enquanto as liberações anteriores configura eles para valores não específicos.</p></td></tr></table></div><p class="enhanced">Enhanced: 3.4.0 - Support for geography was introduced.</p><p class="changed">Alterações: 2.1.0 para 2.0.x foi chamada ST_Line_Substring.</p><p class="availability">Disponibilidade: 1.1.0, Suporte a Z e M adicionado em 1.1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm19960"><h2>Exemplos</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_line_substring01.png"/><div class="caption"><p>Uma linestring vista com 1/3 coberto (0.333, 0.666) </p></div></div></div><pre class="programlisting">SELECT ST_AsText(ST_LineSubstring( 'LINESTRING (20 180, 50 20, 90 80, 120 40, 180 150)', 0.333, 0.666));
------------------------------------------------------------------------------------------------
LINESTRING (45.17311810399485 45.74337011202746, 50 20, 90 80, 112.97593050157862 49.36542599789519)
</pre><p>If start and end locations are the same, the result is a POINT. </p><pre class="programlisting">SELECT ST_AsText(ST_LineSubstring( 'LINESTRING(25 50, 100 125, 150 190)', 0.333, 0.333));
------------------------------------------
 POINT(69.2846934853974 94.2846934853974)
</pre><p>A query to cut a LineString into sections of length 100 or shorter. It uses <code class="varname">generate_series()</code> with a CROSS JOIN LATERAL to produce the equivalent of a FOR loop. </p><pre class="programlisting">

WITH data(id, geom) AS (VALUES
        ( 'A', 'LINESTRING( 0 0, 200 0)'::geometry ),
        ( 'B', 'LINESTRING( 0 100, 350 100)'::geometry ),
        ( 'C', 'LINESTRING( 0 200, 50 200)'::geometry )
    )
SELECT id, i,
       ST_AsText( ST_LineSubstring( geom, startfrac, LEAST( endfrac, 1 )) ) AS geom
FROM (
    SELECT id, geom, ST_Length(geom) len, 100 sublen FROM data
    ) AS d
CROSS JOIN LATERAL (
    SELECT i, (sublen * i) / len AS startfrac,
              (sublen * (i+1)) / len AS endfrac
    FROM generate_series(0, floor( len / sublen )::integer ) AS t(i)
    -- skip last i if line length is exact multiple of sublen
    WHERE (sublen * i) / len &lt;
&gt; 1.0
    ) AS d2;

 id | i |            geom
----+---+-----------------------------
 A  | 0 | LINESTRING(0 0,100 0)
 A  | 1 | LINESTRING(100 0,200 0)
 B  | 0 | LINESTRING(0 100,100 100)
 B  | 1 | LINESTRING(100 100,200 100)
 B  | 2 | LINESTRING(200 100,300 100)
 B  | 3 | LINESTRING(300 100,350 100)
 C  | 0 | LINESTRING(0 200,50 200)

</pre><p>Geography implementation measures along a spheroid, geometry along a line</p><pre class="programlisting">SELECT ST_AsText(ST_LineSubstring( 'LINESTRING(-118.2436 34.0522, -71.0570 42.3611)'::geography, 0.333, 0.666),6) AS geog_sub
 , ST_AsText(ST_LineSubstring('LINESTRING(-118.2436 34.0522, -71.0570 42.3611)'::geometry, 0.333, 0.666),6) AS geom_sub;
---------------------------------------------------------------
geog_sub | LINESTRING(-104.167064 38.854691,-87.674646 41.849854)
geom_sub | LINESTRING(-102.530462 36.819064,-86.817324 39.585927)
</pre></div><div class="refsection" id="idm19976"><h2>Veja também</h2><p><a class="xref" href="#ST_Length" title="ST_Length">ST_Length</a>, <a class="xref" href="#ST_LineExtend" title="ST_LineExtend">ST_LineExtend</a>, <a class="xref" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>, <a class="xref" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a></p></div></div><div class="refentry" id="ST_LocateAlong"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LocateAlong — Returns the point(s) on a geometry that match a measure value.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LocateAlong</strong>(</code>geometry  <var class="pdparam">geom_with_measure</var>, float8  <var class="pdparam">measure</var>, float8  <var class="pdparam">offset = 0</var><code>)</code>;</p></div></div><div class="refsection" id="idm20001"><h2>Descrição</h2><p>Returns the location(s) along a measured geometry that have the given measure values. The result is a Point or MultiPoint. Polygonal inputs are not supported.</p><p>If <code class="varname">offset</code> is provided, the result is offset to the left or right of the input line by the specified distance. A positive offset will be to the left, and a negative one to the right.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Use this function only for linear geometries with an M component</p></td></tr></table></div><p>The semantic is specified by the <span class="emphasis"><em>ISO/IEC 13249-3 SQL/MM Spatial</em></span> standard.</p><p class="availability">Disponibilidade: 1.1.0 pelo nome antigo ST_Locate_Along_Measure. </p><p class="changed">Alterações: 2.0.0 nas versões anteriores era chamado de ST_Locate_Along_Measure. O nome antigo foi menosprezado e será removido no futuro, mas ainda está disponível.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports M coordinates. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 5.1.13</p></div><div class="refsection" id="idm20020"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(
  ST_LocateAlong(
    'MULTILINESTRINGM((1 2 3, 3 4 2, 9 4 3),(1 2 3, 5 4 5))'::geometry,
    3 ));

----------------------------------
 MULTIPOINT M ((1 2 3),(9 4 3),(1 2 3))
</pre></div><div class="refsection" id="idm20023"><h2>Veja também</h2><p><a class="xref" href="#ST_LocateBetween" title="ST_LocateBetween">ST_LocateBetween</a>, <a class="xref" href="#ST_LocateBetweenElevations" title="ST_LocateBetweenElevations">ST_LocateBetweenElevations</a>, <a class="xref" href="#ST_InterpolatePoint" title="ST_InterpolatePoint">ST_InterpolatePoint</a> </p></div></div><div class="refentry" id="ST_LocateBetween"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LocateBetween — Returns the portions of a geometry that match a measure range.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LocateBetween</strong>(</code>geometry  <var class="pdparam">geom</var>, float8  <var class="pdparam">measure_start</var>, float8  <var class="pdparam">measure_end</var>, float8  <var class="pdparam">offset = 0</var><code>)</code>;</p></div></div><div class="refsection" id="idm20050"><h2>Descrição</h2><p>Retorna um valor de coleção de geometria derivado com elementos que combinam com a medida específica. Elementos polígonos não são suportados.</p><p>Se um deslocamento é fornecido, o resultado será o deslocamento para a direita ou para a esquerda da linha de entrada pelo número específico de unidades. Um deslocamento positivo será para a esquerda e um negativo para a direita.</p><p>Clipping a non-convex POLYGON may produce invalid geometry.</p><p>The semantic is specified by the <span class="emphasis"><em>ISO/IEC 13249-3 SQL/MM Spatial</em></span> standard.</p><p class="availability">Disponibilidade: 1.1.0 pelo nome antigo ST_Locate_Between_Measures. </p><p class="changed">Alterações: 2.0.0 nas versões anteriores era chamado de ST_Locate_Along_Measure. O nome antigo foi menosprezado e será removido no futuro, mas ainda está disponível.</p><p class="enhanced">Enhanced: 3.0.0 - added support for POLYGON, TIN, TRIANGLE.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports M coordinates. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 5.1</p></div><div class="refsection" id="idm20068"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(
  ST_LocateBetween(
       'MULTILINESTRING M ((1 2 3, 3 4 2, 9 4 3),(1 2 3, 5 4 5))':: geometry,
       1.5, 3 ));
------------------------------------------------------------------------
 GEOMETRYCOLLECTION M (LINESTRING M (1 2 3,3 4 2,9 4 3),POINT M (1 2 3))
</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_locatebetween01.png"/><div class="caption"><p>A LineString with the section between measures 2 and 8, offset to the left </p></div></div></div><pre class="programlisting">SELECT ST_AsText( ST_LocateBetween(
  ST_AddMeasure('LINESTRING (20 180, 50 20, 100 120, 180 20)', 0, 10),
  2, 8,
  20
));
------------------------------------------------------------------------
MULTILINESTRING((54.49835019899045 104.53426957938231,58.70056060327303 82.12248075654186,69.16695286779743 103.05526528559065,82.11145618000168 128.94427190999915,84.24893681714357 132.32493442618113,87.01636951231555 135.21267035596549,90.30307285299679 137.49198684843182,93.97759758337769 139.07172433557758,97.89298381958797 139.8887023914453,101.89263860095893 139.9102465862721,105.81659870902816 139.13549527600819,109.50792827749828 137.5954340631298,112.81899532549731 135.351656550512,115.6173761888606 132.49390095108848,145.31017306064817 95.37790486135405))
</pre></div><div class="refsection" id="idm20078"><h2>Veja também</h2><p><a class="xref" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a>, <a class="xref" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a>, <a class="xref" href="#ST_LocateBetween" title="ST_LocateBetween">ST_LocateBetween</a></p></div></div><div class="refentry" id="ST_LocateBetweenElevations"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_LocateBetweenElevations — Returns the portions of a geometry that lie in an elevation (Z) range.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_LocateBetweenElevations</strong>(</code>geometry  <var class="pdparam">geom</var>, float8  <var class="pdparam">elevation_start</var>, float8  <var class="pdparam">elevation_end</var><code>)</code>;</p></div></div><div class="refsection" id="idm20102"><h2>Descrição</h2><p>Returns a geometry (collection) with the portions of a geometry that lie in an elevation (Z) range.</p><p>Clipping a non-convex POLYGON may produce invalid geometry.</p><p class="availability">Disponibilidade: 1.4.0</p><p class="enhanced">Enhanced: 3.0.0 - added support for POLYGON, TIN, TRIANGLE.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm20112"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(
  ST_LocateBetweenElevations(
    'LINESTRING(1 2 3, 4 5 6)'::geometry,
    2, 4 ));

             st_astext
-----------------------------------
 MULTILINESTRING Z ((1 2 3,2 3 4))

SELECT ST_AsText(
    ST_LocateBetweenElevations(
      'LINESTRING(1 2 6, 4 5 -1, 7 8 9)',
      6, 9)) As ewelev;

                                ewelev
-----------------------------------------------------------------------
 GEOMETRYCOLLECTION Z (POINT Z (1 2 6),LINESTRING Z (6.1 7.1 6,7 8 9))
</pre></div><div class="refsection" id="idm20115"><h2>Veja também</h2><p><a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a>, <a class="xref" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a>, <a class="xref" href="#ST_LocateBetween" title="ST_LocateBetween">ST_LocateBetween</a></p></div></div><div class="refentry" id="ST_InterpolatePoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_InterpolatePoint — Retorna o valor da dimensão de medida da geometria no ponto fechado para o ponto fornecido.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_InterpolatePoint</strong>(</code>geometry  <var class="pdparam">linear_geom_with_measure</var>, geometry  <var class="pdparam">point</var><code>)</code>;</p></div></div><div class="refsection" id="idm20136"><h2>Descrição</h2><p>Returns an interpolated measure value of a linear measured geometry at the location closest to the given point.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Use this function only for linear geometries with an M component</p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm20146"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_InterpolatePoint('LINESTRING M (0 0 0, 10 0 20)', 'POINT(5 5)');
 ---------------------
         10
        </pre></div><div class="refsection" id="idm20149"><h2>Veja também</h2><p><a class="xref" href="#ST_AddMeasure" title="ST_AddMeasure">ST_AddMeasure</a>, <a class="xref" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a>, <a class="xref" href="#ST_LocateBetween" title="ST_LocateBetween">ST_LocateBetween</a></p></div></div><div class="refentry" id="ST_AddMeasure"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AddMeasure — Interpolates measures along a linear geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_AddMeasure</strong>(</code>geometry  <var class="pdparam">geom_mline</var>, float8  <var class="pdparam">measure_start</var>, float8  <var class="pdparam">measure_end</var><code>)</code>;</p></div></div><div class="refsection" id="idm20173"><h2>Descrição</h2><p>Retorna uma geometria derivada com elementos de medida interpolados linearmente entre os pontos de início e de fim. Se a geometria não tem nenhuma dimensão de medida, uma é adicionada. Se a geometria tem dimensão de medida, é sobre escrita com novos valores. Somente LINESTRINGS e MULTILINESTRINGS são suportadas. </p><p class="availability">Disponibilidade: 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm20181"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_AddMeasure(
ST_GeomFromEWKT('LINESTRING(1 0, 2 0, 4 0)'),1,4)) As ewelev;
           ewelev
--------------------------------
 LINESTRINGM(1 0 1,2 0 2,4 0 4)

SELECT ST_AsText(ST_AddMeasure(
ST_GeomFromEWKT('LINESTRING(1 0 4, 2 0 4, 4 0 4)'),10,40)) As ewelev;
                 ewelev
----------------------------------------
 LINESTRING(1 0 4 10,2 0 4 20,4 0 4 40)

SELECT ST_AsText(ST_AddMeasure(
ST_GeomFromEWKT('LINESTRINGM(1 0 4, 2 0 4, 4 0 4)'),10,40)) As ewelev;
                 ewelev
----------------------------------------
 LINESTRINGM(1 0 10,2 0 20,4 0 40)

SELECT ST_AsText(ST_AddMeasure(
ST_GeomFromEWKT('MULTILINESTRINGM((1 0 4, 2 0 4, 4 0 4),(1 0 4, 2 0 4, 4 0 4))'),10,70)) As ewelev;
                             ewelev
-----------------------------------------------------------------
 MULTILINESTRINGM((1 0 10,2 0 20,4 0 40),(1 0 40,2 0 50,4 0 70))
</pre></div></div></section><section class="section" id="Temporal"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.20. Trajectory Functions</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions support working with trajectories. A trajectory is a linear geometry with increasing measures (M value) on each coordinate. Spatio-temporal data can be modeled by using relative times (such as the epoch) as the measure values. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_IsValidTrajectory">ST_IsValidTrajectory</a></span><span class="refpurpose"> — Tests if the geometry is a valid trajectory.</span></li><li><span class="refentrytitle"><a href="#ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a></span><span class="refpurpose"> — Returns a measure at the closest point of approach of two trajectories. </span></li><li><span class="refentrytitle"><a href="#ST_DistanceCPA">ST_DistanceCPA</a></span><span class="refpurpose"> — Returns the distance between the closest point of approach of two trajectories. </span></li><li><span class="refentrytitle"><a href="#ST_CPAWithin">ST_CPAWithin</a></span><span class="refpurpose"> — Tests if the closest point of approach of two trajectories is within the specified distance. </span></li></ul></div><div class="refentry" id="ST_IsValidTrajectory"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsValidTrajectory — Tests if the geometry is a valid trajectory.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsValidTrajectory</strong>(</code>geometry  <var class="pdparam">line</var><code>)</code>;</p></div></div><div class="refsection" id="idm20201"><h2>Descrição</h2><p>Tests if a geometry encodes a valid trajectory. A valid trajectory is represented as a <code class="varname">LINESTRING</code> with measures (M values). The measure values must increase from each vertex to the next. </p><p>Valid trajectories are expected as input to spatio-temporal functions like <a class="xref" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a> </p><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm20212"><h2>Exemplos</h2><pre class="programlisting">-- A valid trajectory
SELECT ST_IsValidTrajectory(ST_MakeLine(
  ST_MakePointM(0,0,1),
  ST_MakePointM(0,1,2))
);
 t

-- An invalid trajectory
SELECT ST_IsValidTrajectory(ST_MakeLine(ST_MakePointM(0,0,1), ST_MakePointM(0,1,0)));
NOTICE:  Measure of vertex 1 (0) not bigger than measure of vertex 0 (1)
 st_isvalidtrajectory
----------------------
 f
</pre></div><div class="refsection" id="idm20215"><h2>Veja também</h2><p>
<a class="xref" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a>
			</p></div></div><div class="refentry" id="ST_ClosestPointOfApproach"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ClosestPointOfApproach — Returns a measure at the closest point of approach of two trajectories. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_ClosestPointOfApproach</strong>(</code>geometry  <var class="pdparam">track1</var>, geometry  <var class="pdparam">track2</var><code>)</code>;</p></div></div><div class="refsection" id="idm20234"><h2>Descrição</h2><p>Returns the smallest measure at which points interpolated along the given trajectories are the least distance apart. </p><p>Inputs must be valid trajectories as checked by <a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>. Null is returned if the trajectories do not overlap in their M ranges. </p><p>To obtain the actual points at the computed measure use <a class="xref" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a> . </p><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm20246"><h2>Exemplos</h2><pre class="programlisting">-- Return the time in which two objects moving between 10:00 and 11:00
-- are closest to each other and their distance at that point
WITH inp AS ( SELECT
  ST_AddMeasure('LINESTRING Z (0 0 0, 10 0 5)'::geometry,
    extract(epoch from '2015-05-26 10:00'::timestamptz),
    extract(epoch from '2015-05-26 11:00'::timestamptz)
  ) a,
  ST_AddMeasure('LINESTRING Z (0 2 10, 12 1 2)'::geometry,
    extract(epoch from '2015-05-26 10:00'::timestamptz),
    extract(epoch from '2015-05-26 11:00'::timestamptz)
  ) b
), cpa AS (
  SELECT ST_ClosestPointOfApproach(a,b) m FROM inp
), points AS (
  SELECT ST_GeometryN(ST_LocateAlong(a,m),1) pa,
         ST_GeometryN(ST_LocateAlong(b,m),1) pb
  FROM inp, cpa
)
SELECT to_timestamp(m) t,
       ST_Distance(pa,pb) distance,
       ST_AsText(pa, 2) AS pa, ST_AsText(pb, 2) AS pb
FROM points, cpa;

               t               |      distance      |                  pa                  |                   pb                   
-------------------------------+--------------------+--------------------------------------+----------------------------------------
 2015-05-26 10:45:31.034483-07 | 1.9603683315139542 | POINT ZM (7.59 0 3.79 1432662331.03) | POINT ZM (9.1 1.24 3.93 1432662331.03)
 </pre></div><div class="refsection" id="idm20249"><h2>Veja também</h2><p><a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>, <a class="xref" href="#ST_DistanceCPA" title="ST_DistanceCPA">ST_DistanceCPA</a>, <a class="xref" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a>, <a class="xref" href="#ST_AddMeasure" title="ST_AddMeasure">ST_AddMeasure</a> </p></div></div><div class="refentry" id="ST_DistanceCPA"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DistanceCPA — Returns the distance between the closest point of approach of two trajectories. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_DistanceCPA</strong>(</code>geometry  <var class="pdparam">track1</var>, geometry  <var class="pdparam">track2</var><code>)</code>;</p></div></div><div class="refsection" id="idm20271"><h2>Descrição</h2><p>Returns the distance (in 2D) between two trajectories at their closest point of approach. </p><p>Inputs must be valid trajectories as checked by <a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>. Null is returned if the trajectories do not overlap in their M ranges. </p><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm20281"><h2>Exemplos</h2><pre class="programlisting">-- Return the minimum distance of two objects moving between 10:00 and 11:00
WITH inp AS ( SELECT
  ST_AddMeasure('LINESTRING Z (0 0 0, 10 0 5)'::geometry,
    extract(epoch from '2015-05-26 10:00'::timestamptz),
    extract(epoch from '2015-05-26 11:00'::timestamptz)
  ) a,
  ST_AddMeasure('LINESTRING Z (0 2 10, 12 1 2)'::geometry,
    extract(epoch from '2015-05-26 10:00'::timestamptz),
    extract(epoch from '2015-05-26 11:00'::timestamptz)
  ) b
)
SELECT ST_DistanceCPA(a,b) distance FROM inp;

     distance
------------------
 1.96036833151395
</pre></div><div class="refsection" id="idm20284"><h2>Veja também</h2><p><a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>, <a class="xref" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a>, <a class="xref" href="#ST_AddMeasure" title="ST_AddMeasure">ST_AddMeasure</a>, <a class="xref" href="#geometry_distance_cpa" title="|=|">|=|</a> </p></div></div><div class="refentry" id="ST_CPAWithin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CPAWithin — Tests if the closest point of approach of two trajectories is within the specified distance. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_CPAWithin</strong>(</code>geometry  <var class="pdparam">track1</var>, geometry  <var class="pdparam">track2</var>, float8  <var class="pdparam">dist</var><code>)</code>;</p></div></div><div class="refsection" id="idm20309"><h2>Descrição</h2><p>Tests whether two moving objects have ever been closer than the specified distance. </p><p>Inputs must be valid trajectories as checked by <a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>. False is returned if the trajectories do not overlap in their M ranges. </p><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm20319"><h2>Exemplos</h2><pre class="programlisting">WITH inp AS ( SELECT
  ST_AddMeasure('LINESTRING Z (0 0 0, 10 0 5)'::geometry,
    extract(epoch from '2015-05-26 10:00'::timestamptz),
    extract(epoch from '2015-05-26 11:00'::timestamptz)
  ) a,
  ST_AddMeasure('LINESTRING Z (0 2 10, 12 1 2)'::geometry,
    extract(epoch from '2015-05-26 10:00'::timestamptz),
    extract(epoch from '2015-05-26 11:00'::timestamptz)
  ) b
)
SELECT ST_CPAWithin(a,b,2), ST_DistanceCPA(a,b) distance FROM inp;

 st_cpawithin |     distance
--------------+------------------
 t            | 1.96521473776207
</pre></div><div class="refsection" id="idm20322"><h2>Veja também</h2><p><a class="xref" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>, <a class="xref" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a>, <a class="xref" href="#ST_DistanceCPA" title="ST_DistanceCPA">ST_DistanceCPA</a>, <a class="xref" href="#geometry_distance_cpa" title="|=|">|=|</a> </p></div></div></section><section class="section" id="Version_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.21. Version Functions</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions report and upgrade PostGIS versions. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#PostGIS_Extensions_Upgrade">PostGIS_Extensions_Upgrade</a></span><span class="refpurpose"> — Packages and upgrades PostGIS extensions (e.g. postgis_raster, postgis_topology, postgis_sfcgal) to given or latest version. </span></li><li><span class="refentrytitle"><a href="#PostGIS_Full_Version">PostGIS_Full_Version</a></span><span class="refpurpose"> — Reports full PostGIS version and build configuration infos.</span></li><li><span class="refentrytitle"><a href="#PostGIS_GEOS_Version">PostGIS_GEOS_Version</a></span><span class="refpurpose"> — Returns the version number of the GEOS library.</span></li><li><span class="refentrytitle"><a href="#PostGIS_GEOS_Compiled_Version">PostGIS_GEOS_Compiled_Version</a></span><span class="refpurpose"> — Returns the version number of the GEOS library against which PostGIS was built.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Liblwgeom_Version">PostGIS_Liblwgeom_Version</a></span><span class="refpurpose"> — Returns the version number of the liblwgeom library. This should match the version of PostGIS.</span></li><li><span class="refentrytitle"><a href="#PostGIS_LibXML_Version">PostGIS_LibXML_Version</a></span><span class="refpurpose"> — Returns the version number of the libxml2 library.</span></li><li><span class="refentrytitle"><a href="#PostGIS_LibJSON_Version">PostGIS_LibJSON_Version</a></span><span class="refpurpose"> — Returns the version number of the libjson-c library.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Lib_Build_Date">PostGIS_Lib_Build_Date</a></span><span class="refpurpose"> — Returns build date of the PostGIS library.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Lib_Version">PostGIS_Lib_Version</a></span><span class="refpurpose"> — Returns the version number of the PostGIS library.</span></li><li><span class="refentrytitle"><a href="#PostGIS_PROJ_Version">PostGIS_PROJ_Version</a></span><span class="refpurpose"> — Returns the version number of the PROJ4 library.</span></li><li><span class="refentrytitle"><a href="#PostGIS_PROJ_Compiled_Version">PostGIS_PROJ_Compiled_Version</a></span><span class="refpurpose"> — Returns the version number of the PROJ library against which PostGIS was built.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Wagyu_Version">PostGIS_Wagyu_Version</a></span><span class="refpurpose"> — Returns the version number of the internal Wagyu library.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Scripts_Build_Date">PostGIS_Scripts_Build_Date</a></span><span class="refpurpose"> — Returns build date of the PostGIS scripts.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Scripts_Installed">PostGIS_Scripts_Installed</a></span><span class="refpurpose"> — Returns version of the PostGIS scripts installed in this database.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Scripts_Released">PostGIS_Scripts_Released</a></span><span class="refpurpose"> — Returns the version number of the postgis.sql script released with the installed PostGIS lib.</span></li><li><span class="refentrytitle"><a href="#PostGIS_Version">PostGIS_Version</a></span><span class="refpurpose"> — Returns PostGIS version number and compile-time options.</span></li></ul></div><div class="refentry" id="PostGIS_Extensions_Upgrade"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Extensions_Upgrade — Packages and upgrades PostGIS extensions (e.g. postgis_raster, postgis_topology, postgis_sfcgal) to given or latest version. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Extensions_Upgrade</strong>(</code>text <var class="pdparam">target_version=null</var><code>)</code>;</p></div></div><div class="refsection" id="idm20346"><h2>Descrição</h2><p>Packages and upgrades PostGIS extensions to given or latest version. Only extensions you have installed in the database will be packaged and upgraded if needed. Reports full PostGIS version and build configuration infos after. This is short-hand for doing multiple CREATE EXTENSION .. FROM unpackaged and ALTER EXTENSION .. UPDATE for each PostGIS extension. Currently only tries to upgrade extensions postgis, postgis_raster, postgis_sfcgal, postgis_topology, and postgis_tiger_geocoder.</p><p class="availability">Availability: 2.5.0</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p class="changed">Changed: 3.4.0 to add target_version argument.</p><p class="changed">Changed: 3.3.0 support for upgrades from any PostGIS version. Does not work on all systems.</p><p class="changed">Changed: 3.0.0 to repackage loose extensions and support postgis_raster.</p></td></tr></table></div></div><div class="refsection" id="idm20354"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_Extensions_Upgrade();</pre><pre class="screen">NOTICE:  Packaging extension postgis
NOTICE:  Packaging extension postgis_raster
NOTICE:  Packaging extension postgis_sfcgal
NOTICE:  Extension postgis_topology is not available or not packagable for some reason
NOTICE:  Extension postgis_tiger_geocoder is not available or not packagable for some reason

                    postgis_extensions_upgrade
-------------------------------------------------------------------
 Upgrade completed, run SELECT postgis_full_version(); for details
(1 row)</pre></div><div class="refsection" id="idm20358"><h2>Veja também</h2><p><a class="xref" href="#upgrading" title="3.4. Upgrading spatial databases">Section 3.4, “Upgrading spatial databases”</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a> </p></div></div><div class="refentry" id="PostGIS_Full_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Full_Version — Reports full PostGIS version and build configuration infos.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Full_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20377"><h2>Descrição</h2><p>Reports full PostGIS version and build configuration infos. Also informs about synchronization between libraries and scripts suggesting upgrades as needed.</p><p class="enhanced">Enhanced: 3.4.0 now includes extra PROJ configurations NETWORK_ENABLED, URL_ENDPOINT and DATABASE_PATH of proj.db location </p></div><div class="refsection" id="idm20381"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_Full_Version();
                                                           postgis_full_version
----------------------------------------------------------------------------------
POSTGIS="3.4.0dev 3.3.0rc2-993-g61bdf43a7" [EXTENSION] PGSQL="160" GEOS="3.12.0dev-CAPI-1.18.0" SFCGAL="1.3.8" PROJ="7.2.1 NETWORK_ENABLED=OFF URL_ENDPOINT=https://cdn.proj.org USER_WRITABLE_DIRECTORY=/tmp/proj DATABASE_PATH=/usr/share/proj/proj.db" GDAL="GDAL 3.2.2, released 2021/03/05" LIBXML="2.9.10" LIBJSON="0.15" LIBPROTOBUF="1.3.3" WAGYU="0.5.0 (Internal)" TOPOLOGY RASTER
(1 row)
</pre></div><div class="refsection" id="idm20384"><h2>Veja também</h2><p><a class="xref" href="#upgrading" title="3.4. Upgrading spatial databases">Section 3.4, “Upgrading spatial databases”</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_Wagyu_Version" title="PostGIS_Wagyu_Version">PostGIS_Wagyu_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a> </p></div></div><div class="refentry" id="PostGIS_GEOS_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_GEOS_Version — Returns the version number of the GEOS library.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_GEOS_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20404"><h2>Descrição</h2><p>Returns the version number of the GEOS library, or <code class="varname">NULL</code> if GEOS support is not enabled.</p></div><div class="refsection" id="idm20408"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_GEOS_Version();
 postgis_geos_version
----------------------
3.12.0dev-CAPI-1.18.0
(1 row)</pre></div><div class="refsection" id="idm20411"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_GEOS_Compiled_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_GEOS_Compiled_Version — Returns the version number of the GEOS library against which PostGIS was built.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_GEOS_Compiled_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20429"><h2>Descrição</h2><p>Returns the version number of the GEOS library, or against which PostGIS was built.</p><p class="availability">Availability: 3.4.0</p></div><div class="refsection" id="idm20433"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_GEOS_Compiled_Version();
 postgis_geos_compiled_version
-------------------------------
 3.12.0
(1 row)</pre></div><div class="refsection" id="idm20436"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a> </p></div></div><div class="refentry" id="PostGIS_Liblwgeom_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Liblwgeom_Version — Returns the version number of the liblwgeom library. This should match the version of PostGIS.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Liblwgeom_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20451"><h2>Descrição</h2><p>Returns the version number of the liblwgeom library/</p></div><div class="refsection" id="idm20454"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_Liblwgeom_Version();
postgis_liblwgeom_version
--------------------------
3.4.0dev 3.3.0rc2-993-g61bdf43a7
(1 row)</pre></div><div class="refsection" id="idm20457"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_LibXML_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_LibXML_Version — Returns the version number of the libxml2 library.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_LibXML_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20475"><h2>Descrição</h2><p>Returns the version number of the LibXML2 library.</p><p class="availability">Disponibilidade: 1.5</p></div><div class="refsection" id="idm20479"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_LibXML_Version();
 postgis_libxml_version
----------------------
 2.9.10
(1 row)</pre></div><div class="refsection" id="idm20482"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_LibJSON_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_LibJSON_Version — Returns the version number of the libjson-c library.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_LibJSON_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20500"><h2>Descrição</h2><p>Returns the version number of the LibJSON-C library.</p></div><div class="refsection" id="idm20503"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_LibJSON_Version();
 postgis_libjson_version
-------------------------
 0.17</pre></div><div class="refsection" id="idm20506"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_Lib_Build_Date"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Lib_Build_Date — Returns build date of the PostGIS library.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Lib_Build_Date</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20524"><h2>Descrição</h2><p>Returns build date of the PostGIS library.</p></div><div class="refsection" id="idm20527"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_Lib_Build_Date();
 postgis_lib_build_date
------------------------
 2023-06-22 03:56:11
(1 row)</pre></div></div><div class="refentry" id="PostGIS_Lib_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Lib_Version — Returns the version number of the PostGIS library.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Lib_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20540"><h2>Descrição</h2><p>Returns the version number of the PostGIS library.</p></div><div class="refsection" id="idm20543"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_Lib_Version();
 postgis_lib_version
---------------------
 3.4.0dev
(1 row)</pre></div><div class="refsection" id="idm20546"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_PROJ_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_PROJ_Version — Returns the version number of the PROJ4 library.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_PROJ_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20564"><h2>Descrição</h2><p>Returns the version number of the PROJ library and some configuration options of proj.</p><p class="enhanced">Enhanced: 3.4.0 now includes NETWORK_ENABLED, URL_ENDPOINT and DATABASE_PATH of proj.db location </p></div><div class="refsection" id="idm20568"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_PROJ_Version();
  postgis_proj_version
-------------------------
7.2.1 NETWORK_ENABLED=OFF URL_ENDPOINT=https://cdn.proj.org USER_WRITABLE_DIRECTORY=/tmp/proj DATABASE_PATH=/usr/share/proj/proj.db
(1 row)</pre></div><div class="refsection" id="idm20571"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_PROJ_Compiled_Version" title="PostGIS_PROJ_Compiled_Version">PostGIS_PROJ_Compiled_Version</a>, <a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_PROJ_Compiled_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_PROJ_Compiled_Version — Returns the version number of the PROJ library against which PostGIS was built.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_PROJ_Compiled_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20590"><h2>Descrição</h2><p>Returns the version number of the PROJ library, or against which PostGIS was built.</p><p class="availability">Availability: 3.5.0</p></div><div class="refsection" id="idm20594"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_PROJ_Compiled_Version();
 postgis_proj_compiled_version
-------------------------------
 9.1.1
(1 row)</pre></div><div class="refsection" id="idm20597"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a> </p></div></div><div class="refentry" id="PostGIS_Wagyu_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Wagyu_Version — Returns the version number of the internal Wagyu library.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Wagyu_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20612"><h2>Descrição</h2><p>Returns the version number of the internal Wagyu library, or <code class="varname">NULL</code> if Wagyu support is not enabled.</p></div><div class="refsection" id="idm20616"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_Wagyu_Version();
 postgis_wagyu_version
-----------------------
 0.5.0 (Internal)
(1 row)</pre></div><div class="refsection" id="idm20619"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_Scripts_Build_Date"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Scripts_Build_Date — Returns build date of the PostGIS scripts.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Scripts_Build_Date</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20638"><h2>Descrição</h2><p>Returns build date of the PostGIS scripts.</p><p class="availability">Disponibilidade: 1.0.0RC1</p></div><div class="refsection" id="idm20642"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_Scripts_Build_Date();
  postgis_scripts_build_date
-------------------------
 2023-06-22 03:56:11
(1 row)</pre></div><div class="refsection" id="idm20645"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_Scripts_Installed"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Scripts_Installed — Returns version of the PostGIS scripts installed in this database.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Scripts_Installed</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20663"><h2>Descrição</h2><p>Returns version of the PostGIS scripts installed in this database.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If the output of this function doesn't match the output of <a class="xref" href="#PostGIS_Scripts_Released" title="PostGIS_Scripts_Released">PostGIS_Scripts_Released</a> you probably missed to properly upgrade an existing database. See the <a class="link" href="#upgrading" title="3.4. Upgrading spatial databases">Upgrading</a> section for more info.</p></td></tr></table></div><p class="availability">Availability: 0.9.0</p></div><div class="refsection" id="idm20671"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_Scripts_Installed();
  postgis_scripts_installed
-------------------------
 3.4.0dev 3.3.0rc2-993-g61bdf43a7
(1 row)</pre></div><div class="refsection" id="idm20674"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_Scripts_Released" title="PostGIS_Scripts_Released">PostGIS_Scripts_Released</a>, <a class="xref" href="#PostGIS_Version" title="PostGIS_Version">PostGIS_Version</a></p></div></div><div class="refentry" id="PostGIS_Scripts_Released"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Scripts_Released — Returns the version number of the postgis.sql script released with the installed PostGIS lib.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Scripts_Released</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20690"><h2>Descrição</h2><p>Returns the version number of the postgis.sql script released with the installed PostGIS lib.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Starting with version 1.1.0 this function returns the same value of <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>. Kept for backward compatibility.</p></td></tr></table></div><p class="availability">Availability: 0.9.0</p></div><div class="refsection" id="idm20697"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_Scripts_Released();
  postgis_scripts_released
-------------------------
 3.4.0dev 3.3.0rc2-993-g61bdf43a7
(1 row)</pre></div><div class="refsection" id="idm20700"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_Scripts_Installed" title="PostGIS_Scripts_Installed">PostGIS_Scripts_Installed</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a></p></div></div><div class="refentry" id="PostGIS_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Version — Returns PostGIS version number and compile-time options.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm20716"><h2>Descrição</h2><p>Returns PostGIS version number and compile-time options.</p></div><div class="refsection" id="idm20719"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_Version();
                        postgis_version
---------------------------------------
 3.4 USE_GEOS=1 USE_PROJ=1 USE_STATS=1
(1 row)</pre></div><div class="refsection" id="idm20722"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a>, <a class="xref" href="#PostGIS_GEOS_Version" title="PostGIS_GEOS_Version">PostGIS_GEOS_Version</a>, <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a>, <a class="xref" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a>, <a class="xref" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a></p></div></div></section><section class="section" id="PostGIS_GUC"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.22. Grandes Variáveis Unificadas Personalizadas do PostGIS (GUCs)</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Essa seção lista as Grandes Variáveis Unificadas Personalizadas (GUC) do PostGIS personalizado. Elas podem ser globalmente configuradas, por banco de dados, por sessão  ou por transação. A melhor configuração a nível global ou database.</p><p>For more examples of usage refer to <a class="link" href="https://www.postgresql.org/docs/current/sql-set.html" target="_top">SQL SET</a> and <a class="link" href="https://www.postgresql.org/docs/current/sql-altersystem.html" target="_top">SQL ALTER SYSTEM</a></p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#postgis_backend">postgis.backend</a></span><span class="refpurpose"> — O backend para fazer a manutenção de uma função onde GEOS e SFCGAL sobrepõe. Opções: geos ou sfcgal. Padrão para geos. </span></li><li><span class="refentrytitle"><a href="#postgis_gdal_datapath">postgis.gdal_datapath</a></span><span class="refpurpose"> — Uma opção de configuração para designar o valor da opção GDAL_DATA do GDAL. Se não funcionar, a variável ambiental  GDAL_DATA é usada. </span></li><li><span class="refentrytitle"><a href="#postgis_gdal_enabled_drivers">postgis.gdal_enabled_drivers</a></span><span class="refpurpose"> — Uma opção de configuração para estabelecer os drivers GDAL ativados no ambiente POstGIS. Afeta a variável  GDAL_SKIP do GDAL. </span></li><li><span class="refentrytitle"><a href="#postgis_enable_outdb_rasters">postgis.enable_outdb_rasters</a></span><span class="refpurpose"> — Uma opção de configuração booleana para ativar o acesso ao out-db raster bands. </span></li><li><span class="refentrytitle"><a href="#postgis_gdal_vsi_options">postgis.gdal_vsi_options</a></span><span class="refpurpose"> — Uma opção de configuração booleana para ativar o acesso ao out-db raster bands. </span></li></ul></div><div class="refentry" id="postgis_backend"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis.backend — O backend para fazer a manutenção de uma função onde GEOS e SFCGAL sobrepõe. Opções: geos ou sfcgal. Padrão para geos. </p></div><div class="refsection" id="idm20742"><h2>Descrição</h2><p>Essa GUC só é relevante se você compilou o PostGIS com o suporte sfcgal. Por padrão o backend <code class="varname">geos</code>  é usado por funções onde o GEOS e o SFCGAL têm o mesmo nome. Essa variável permite exceder e fazer o sfcgal ser o backend para a solicitação do serviço. </p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm20747"><h2>Exemplos</h2><p>Configura backend apenas para vida de conexão </p><pre class="programlisting">set postgis.backend = sfcgal;</pre><p>Configura backend para novas conexões para o banco de dados</p><pre class="programlisting">ALTER DATABASE mygisdb SET postgis.backend = sfcgal;</pre></div><div class="refsection" id="idm20753"><h2>Veja também</h2><p><a class="xref" href="#reference_sfcgal" title="Chapter 8. SFCGAL Functions Reference">Chapter 8, <em>SFCGAL Functions Reference</em></a></p></div></div><div class="refentry" id="postgis_gdal_datapath"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis.gdal_datapath — Uma opção de configuração para designar o valor da opção GDAL_DATA do GDAL. Se não funcionar, a variável ambiental  GDAL_DATA é usada. </p></div><div class="refsection" id="idm20761"><h2>Descrição</h2><p>Uma variável GUC do PostgreSQL para configurar o valor da opção GDAL_DATA do GDAL. O valor <code class="varname">postgis.gdal_datapath</code> deve ser o path físico completo para os arquivos de dados do GDAL. </p><p>Essa opção de configuração é mais usada para plataformas do Windows, onde os arquivos de dados path do GDAL's não estão hard-coded. Essa opção deve também ser configurada quando esses aquivos não estiverem no path esperado.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Essa opção pode ser configurada no arquivo de configuração postgresql.conf. Pode ser configurado por conexão ou transação. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Informação adicional sobre o GDAL_DATA está disponível em GDAL's <a class="link" href="http://trac.osgeo.org/gdal/wiki/ConfigOptions" target="_top">Configuration Options</a>. </p></td></tr></table></div></div><div class="refsection" id="idm20772"><h2>Exemplos</h2><p>Configurar e resetar <code class="varname">postgis.gdal_datapath</code></p><pre class="programlisting">SET postgis.gdal_datapath TO '/usr/local/share/gdal.hidden';
SET postgis.gdal_datapath TO default;
                </pre><p>Configurando no Windows para um banco de dados específico </p><pre class="programlisting">ALTER DATABASE gisdb
SET postgis.gdal_datapath = 'C:/Program Files/PostgreSQL/9.3/gdal-data';</pre></div><div class="refsection" id="idm20779"><h2>Veja também</h2><p><a class="xref" href="#RT_PostGIS_GDAL_Version" title="PostGIS_GDAL_Version">PostGIS_GDAL_Version</a>, <a class="xref" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a> </p></div></div><div class="refentry" id="postgis_gdal_enabled_drivers"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis.gdal_enabled_drivers — Uma opção de configuração para estabelecer os drivers GDAL ativados no ambiente POstGIS. Afeta a variável  GDAL_SKIP do GDAL. </p></div><div class="refsection" id="idm20788"><h2>Descrição</h2><p>Uma opção de configuração para estabelecer os drivers GDAL ativados no PostGIS. Afeta a variável de configuração GDAL_SKIP. Essa opção pode ser estabelecida no arquivo de configuração do PostgreSQL: postgresql.conf. Ela também pode ser estabelecida por conexão ou transação.  </p><p>O valor inicial do <code class="varname">postgis.gdal_enabled_drivers</code> também pode ser estabelecido passando a variável de ambiente <code class="varname">POSTGIS_GDAL_ENABLED_DRIVERS</code> com a lista de drivers ativados para o processo de começar o PostgreSQL.  </p><p>Dispositivos ativados específicos GDAL podem ser especificados pelos dispositivos de nome ou código curto. Dispositivos com nomes ou códigos curtos podem ser encontrados em<a class="link" href="http://www.gdal.org/formats_list.html" target="_top">GDAL Raster Formats</a>. Vários dispositivos podem ser encontrados, colocando um espaço entre cada um deles. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Existem três códigos especiais disponíveis para <code class="varname">postgis.gdal_enabled_drivers</code>.  Os códigos são case-sensitive.  </p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p><code class="varname">DISABLE_ALL</code> desabilita todos os drivers GDAL. Se presente, <code class="varname">DISABLE_ALL</code> excede todos os outros valores em <code class="varname">postgis.gdal_enabled_drivers</code>.</p></li><li class="listitem"><p><code class="varname">ENABLE_ALL</code> ativa todos os drivers GDAL.</p></li><li class="listitem"><p><code class="varname">VSICURL</code> ativa o arquivo do sistema virtual <code class="varname">/vsicurl/</code> do GDAL.</p></li></ul></div><p>
                    </p><p>Quando <code class="varname">postgis.gdal_enabled_drivers</code> é configurado para DESABILITAR_TODOS, tenta usar out-db rasters, ST_FromGDALRaster(), ST_AsGDALRaster(), ST_AsTIFF(), ST_AsJPEG() e ST_AsPNG() resultará em mensagens de erro. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Na instalação padrão do PostGIS, <code class="varname">postgis.gdal_enabled_drivers</code> é configurado para DESABILITAR_TODOS. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Informações adicionais sobre GDAL_SKIP estão disponíveis em <a class="link" href="http://trac.osgeo.org/gdal/wiki/ConfigOptions" target="_top">Opções de Configuração</a>.  </p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0</p></div><div class="refsection" id="idm20821"><h2>Exemplos</h2><p>To set and reset <code class="varname">postgis.gdal_enabled_drivers</code> for current session</p><pre class="programlisting">SET postgis.gdal_enabled_drivers = 'ENABLE_ALL';
SET postgis.gdal_enabled_drivers = default;
                </pre><p>Set for all new connections to a specific database to specific drivers</p><pre class="programlisting">ALTER DATABASE mygisdb SET postgis.gdal_enabled_drivers TO 'GTiff PNG JPEG';</pre><p>Setting for whole database cluster to enable all drivers. Requires super user access. Also note that database, session, and user settings override this.</p><pre class="programlisting">--writes to postgres.auto.conf
ALTER SYSTEM SET postgis.gdal_enabled_drivers TO 'ENABLE_ALL';
 --Reloads postgres conf
SELECT pg_reload_conf();
                </pre></div><div class="refsection" id="idm20830"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_FromGDALRaster" title="ST_FromGDALRaster">ST_FromGDALRaster</a>, <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>, <a class="xref" href="#RT_ST_AsTIFF" title="ST_AsTIFF">ST_AsTIFF</a>, <a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>, <a class="xref" href="#RT_ST_AsJPEG" title="ST_AsJPEG">ST_AsJPEG</a>, <a class="xref" href="#postgis_enable_outdb_rasters" title="postgis.enable_outdb_rasters">postgis.enable_outdb_rasters</a> </p></div></div><div class="refentry" id="postgis_enable_outdb_rasters"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis.enable_outdb_rasters — Uma opção de configuração booleana para ativar o acesso ao out-db raster bands. </p></div><div class="refsection" id="idm20843"><h2>Descrição</h2><p>Uma opção de configuração booleana para ativar o acesso ao ut-db raster bands. Essa opção pode ser estabelecida no arquivo de configuração: postgresql.conf. Ela também pode ser estabelecida por conexão ou transação.    </p><p>O valor inicial de <code class="varname">postgis.enable_outdb_rasters</code> também pode ser estabelecido passando a variável de ambiente <code class="varname">POSTGIS_ENABLE_OUTDB_RASTERS</code> com um valor não-zero para o processo de começar o  PostgreSQL. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Mesmo se <code class="varname">postgis.enable_outdb_rasters</code> is é verdade, o GUC <code class="varname">postgis.enable_outdb_rasters</code> determina os formatos raster acessíveis. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Na instalação padrão do PostGIS, <code class="varname">postgis.enable_outdb_rasters</code> é colocado como Falso. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0</p></div><div class="refsection" id="idm20857"><h2>Exemplos</h2><p>Configurar e resetar <code class="varname">postgis.enable_outdb_rasters</code></p><pre class="programlisting">SET postgis.enable_outdb_rasters TO True;
SET postgis.enable_outdb_rasters = default;
SET postgis.enable_outdb_rasters = True;
SET postgis.enable_outdb_rasters = False;
                </pre><p>Set for all new connections to a specific database</p><pre class="programlisting">ALTER DATABASE gisdb SET postgis.enable_outdb_rasters = true;
                </pre><p>Setting for whole database cluster. Requires super user access. Also note that database, session, and user settings override this.</p><pre class="programlisting">--writes to postgres.auto.conf
ALTER SYSTEM SET postgis.enable_outdb_rasters = true;
 --Reloads postgres conf
SELECT pg_reload_conf();
                </pre></div><div class="refsection" id="idm20866"><h2>Veja também</h2><p>
                    <a class="xref" href="#postgis_gdal_enabled_drivers" title="postgis.gdal_enabled_drivers">postgis.gdal_enabled_drivers</a>
                    <a class="xref" href="#postgis_gdal_vsi_options" title="postgis.gdal_vsi_options">postgis.gdal_vsi_options</a>
                </p></div></div><div class="refentry" id="postgis_gdal_vsi_options"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis.gdal_vsi_options — Uma opção de configuração booleana para ativar o acesso ao out-db raster bands. </p></div><div class="refsection" id="idm20875"><h2>Descrição</h2><p>A string configuration to set options used when working with an out-db raster. <a class="link" href="http://trac.osgeo.org/gdal/wiki/ConfigOptions" target="_top">Configuration options</a> control things like how much space GDAL allocates to local data cache, whether to read overviews, and what access keys to use for remote out-db data sources. </p><p class="availability">Availability: 3.2.0</p></div><div class="refsection" id="idm20880"><h2>Exemplos</h2><p>Configurar e resetar <code class="varname">postgis.enable_outdb_rasters</code></p><pre class="programlisting">SET postgis.gdal_vsi_options = 'AWS_ACCESS_KEY_ID=xxxxxxxxxxxxxxx AWS_SECRET_ACCESS_KEY=yyyyyyyyyyyyyyyyyyyyyyyyyy';
                </pre><p>Set <code class="varname">postgis.gdal_vsi_options</code> just for the <span class="emphasis"><em>current transaction</em></span> using the <code class="varname">LOCAL</code> keyword:</p><pre class="programlisting">SET LOCAL postgis.gdal_vsi_options = 'AWS_ACCESS_KEY_ID=xxxxxxxxxxxxxxx AWS_SECRET_ACCESS_KEY=yyyyyyyyyyyyyyyyyyyyyyyyyy';
                </pre></div><div class="refsection" id="idm20890"><h2>Veja também</h2><p>
                    <a class="xref" href="#postgis_enable_outdb_rasters" title="postgis.enable_outdb_rasters">postgis.enable_outdb_rasters</a>
                    <a class="xref" href="#postgis_gdal_enabled_drivers" title="postgis.gdal_enabled_drivers">postgis.gdal_enabled_drivers</a>
                </p></div></div></section><section class="section" id="Troubleshooting_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.23. Troubleshooting Functions</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions are utilities for troubleshooting and repairing geometry data. They are only needed if the geometry data is corrupted in some way, which should never happen under normal circumstances.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#PostGIS_AddBBox">PostGIS_AddBBox</a></span><span class="refpurpose"> — Adicionar o retângulo envolvente a geometria.</span></li><li><span class="refentrytitle"><a href="#PostGIS_DropBBox">PostGIS_DropBBox</a></span><span class="refpurpose"> — Exclui o cache de retângulos envolventes da geometria.</span></li><li><span class="refentrytitle"><a href="#PostGIS_HasBBox">PostGIS_HasBBox</a></span><span class="refpurpose"> — Retorna verdadeiro se o retângulo desta geometria está cacheado. FALSO caso contrário.</span></li></ul></div><div class="refentry" id="PostGIS_AddBBox"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_AddBBox — Adicionar o retângulo envolvente a geometria.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">PostGIS_AddBBox</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm20912"><h2>Descrição</h2><p>Adiciona um retângulo envolvente a geometria. Isto faz pesquisas baseadas em retângulos envolventes mais rápidas, mas aumentará o tamanho da geometria.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Retângulos envolventes são geometrias adicionadas automaticamente, portanto, em geral, isto não é necessário, a menos que o retângulo envolvente foi corrompido de alguma forma ou você possui uma instalação antiga que não possui suporte a retângulos envolventes. Então é necessário dropar os retângulos antigos e readicioná-los.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm20921"><h2>Exemplos</h2><pre class="programlisting">UPDATE sometable
 SET geom =  PostGIS_AddBBox(geom)
 WHERE PostGIS_HasBBox(geom) = false;</pre></div><div class="refsection" id="idm20924"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_DropBBox" title="PostGIS_DropBBox">PostGIS_DropBBox</a>, <a class="xref" href="#PostGIS_HasBBox" title="PostGIS_HasBBox">PostGIS_HasBBox</a></p></div></div><div class="refentry" id="PostGIS_DropBBox"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_DropBBox — Exclui o cache de retângulos envolventes da geometria.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">PostGIS_DropBBox</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm20941"><h2>Descrição</h2><p>Exclui o cache de retângulos envolventes de uma geometria. Isto reduz o tamanho da geometria, mas torna as pesquisas baseadas em retângulos envolventes mais lentas. Um sinal claro de um cache corrompido é quando suas pesquisas de ST_Intersects e outras relações espaciais deixam de fora geometrias que deveriam retornar verdadeiro.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Retângulos envolventes são automaticamente adicionandos as geometrias e melhoram a velocidade de pesquisas, então em geral, isto não é necessário, a menos que seu cache de retângulos envolventes tenha sido corrompido ou você possua uma instalação que não suportava esta funcionalidade. Este tipo de corrupção foi observado nas versões 8.3-8.3.6, onde os retângulos envolventes cacheados não eram sempre recalculados durante a alteração de uma geometria e o upgrade para uma nova versão, sem o uso de um processo de dump/reload não irá corrigir os retângulos corrompidos. Você pode corrigir isto manualmente, utilizando a função abaixo ou realizar um backup com processo de dump/reload.</p></td></tr></table></div><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm20950"><h2>Exemplos</h2><pre class="programlisting">--This example drops bounding boxes where the cached box is not correct
                        --The force to ST_AsBinary before applying Box2D forces a recalculation of the box, and Box2D applied to the table geometry always
                        -- returns the cached bounding box.
                        UPDATE sometable
 SET geom =  PostGIS_DropBBox(geom)
 WHERE Not (Box2D(ST_AsBinary(geom)) = Box2D(geom));

        UPDATE sometable
 SET geom =  PostGIS_AddBBox(geom)
 WHERE Not PostGIS_HasBBOX(geom);


 </pre></div><div class="refsection" id="idm20953"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_AddBBox" title="PostGIS_AddBBox">PostGIS_AddBBox</a>, <a class="xref" href="#PostGIS_HasBBox" title="PostGIS_HasBBox">PostGIS_HasBBox</a>, <a class="xref" href="#Box2D" title="Box2D">Box2D</a></p></div></div><div class="refentry" id="PostGIS_HasBBox"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_HasBBox — Retorna verdadeiro se o retângulo desta geometria está cacheado. FALSO caso contrário.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">PostGIS_HasBBox</strong>(</code>geometry  <var class="pdparam">geomA</var><code>)</code>;</p></div></div><div class="refsection" id="idm20971"><h2>Descrição</h2><p>Retorna verdadeiro se o retângulo envolvendo desta geometria está cacheado, falso caso contrário. Use <a class="xref" href="#PostGIS_AddBBox" title="PostGIS_AddBBox">PostGIS_AddBBox</a> e <a class="xref" href="#PostGIS_DropBBox" title="PostGIS_DropBBox">PostGIS_DropBBox</a> para controlar o cache.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method supports Circular Strings and Curves. </p></div><div class="refsection" id="idm20980"><h2>Exemplos</h2><pre class="programlisting">SELECT geom
FROM sometable WHERE PostGIS_HasBBox(geom) = false;</pre></div><div class="refsection" id="idm20983"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_AddBBox" title="PostGIS_AddBBox">PostGIS_AddBBox</a>, <a class="xref" href="#PostGIS_DropBBox" title="PostGIS_DropBBox">PostGIS_DropBBox</a></p></div></div></section></section><section class="chapter" id="reference_sfcgal"><div class="titlepage"><div><div><h1 class="title">Chapter 8. SFCGAL Functions Reference</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#sfcgal_management">8.1. SFCGAL Management Functions</a></span></li><li><span class="section"><a href="#sfcgal_accessors">8.2. SFCGAL Accessors and Setters</a></span></li><li><span class="section"><a href="#sfcgal_processing">8.3. SFCGAL Processing and Relationship Functions</a></span></li></ul></div><p>SFCGAL é uma biblioteca wrapper C++ em torno do CGAL que fornece funções 2D e 3D avançadas. Para robustez, coordenadas de geometria têm a representação exata de número racional. </p><p>As instruções de instalação da biblioteca, podem ser encontradas na página inicial do SFCGAL <a class="link" href="http://www.sfcgal.org" target="_top">http://www.sfcgal.org</a>. Para carregar as funções, crie uma extensão postgis_sfcgal. </p><section class="section" id="sfcgal_management"><div class="titlepage"><div><div><h2 class="title" style="clear: both">8.1. SFCGAL Management Functions</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>This section lists functions for determining version of SFCGAL and library dependencies you are running.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#postgis_sfcgal_version">postgis_sfcgal_version</a></span><span class="refpurpose"> — retorna a versão do SFCGAL em uso</span></li><li><span class="refentrytitle"><a href="#postgis_sfcgal_full_version">postgis_sfcgal_full_version</a></span><span class="refpurpose"> — Returns the full version of SFCGAL in use including CGAL and Boost versions</span></li></ul></div><div class="refentry" id="postgis_sfcgal_version"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis_sfcgal_version — retorna a versão do SFCGAL em uso</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">texto <strong class="fsfunc">postgis_sfcgal_version</strong>(</code><code>void)</code>;</p></div></div><div class="refsection" id="idm21008"><h2>Descrição</h2><p>retorna a versão do SFCGAL em uso</p><p class="availability">Disponibilidade: 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div><div class="refsection" id="idm21016"><h2>Veja também</h2><p><a class="xref" href="#postgis_sfcgal_full_version" title="postgis_sfcgal_full_version">postgis_sfcgal_full_version</a></p></div></div><div class="refentry" id="postgis_sfcgal_full_version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>postgis_sfcgal_full_version — Returns the full version of SFCGAL in use including CGAL and Boost versions</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">texto <strong class="fsfunc">postgis_sfcgal_version</strong>(</code><code>void)</code>;</p></div></div><div class="refsection" id="idm21030"><h2>Descrição</h2><p>Returns the full version of SFCGAL in use including CGAL and Boost versions</p><p class="availability">Availability: 3.3.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div><div class="refsection" id="idm21038"><h2>Veja também</h2><p><a class="xref" href="#postgis_sfcgal_version" title="postgis_sfcgal_version">postgis_sfcgal_version</a></p></div></div></section><section class="section" id="sfcgal_accessors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">8.2. SFCGAL Accessors and Setters</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>These functions access or set properties of geometries. Geometries primarily supported by these functions are TINS and Polyhedral Surfaces.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#CG_ForceLHR">CG_ForceLHR</a></span><span class="refpurpose"> — Orientação força LHR</span></li><li><span class="refentrytitle"><a href="#CG_IsPlanar">CG_IsPlanar</a></span><span class="refpurpose"> — Verifique se a superfície é ou não planar</span></li><li><span class="refentrytitle"><a href="#CG_IsSolid">CG_IsSolid</a></span><span class="refpurpose"> — teste se a geometria é um sólido. Nenhuma verificação de validade é representada.</span></li><li><span class="refentrytitle"><a href="#CG_MakeSolid">CG_MakeSolid</a></span><span class="refpurpose"> — Molde a geometria para um sólido. Nenhuma verificação é apresentada. Para obter um sólido válido, a geometria de entrada deve ser uma superfície poliédrica fechada ou um TIN fechado. </span></li><li><span class="refentrytitle"><a href="#CG_Orientation">CG_Orientation</a></span><span class="refpurpose"> — Determine orientação da superfície</span></li><li><span class="refentrytitle"><a href="#CG_Area">CG_Area</a></span><span class="refpurpose"> — Calculates the area of a geometry</span></li><li><span class="refentrytitle"><a href="#CG_3DArea">CG_3DArea</a></span><span class="refpurpose"> — Computa a área de geometrias de superfície 3D. Irá retornar 0 para sólidos.</span></li><li><span class="refentrytitle"><a href="#CG_Volume">CG_Volume</a></span><span class="refpurpose"> — Computa o volume de um sólido 3D. Se aplicado a geometrias com superfícies (mesmo fechadas), irão retornar 0.  </span></li><li><span class="refentrytitle"><a href="#ST_ForceLHR">ST_ForceLHR</a></span><span class="refpurpose"> — Orientação força LHR</span></li><li><span class="refentrytitle"><a href="#ST_IsPlanar">ST_IsPlanar</a></span><span class="refpurpose"> — Verifique se a superfície é ou não planar</span></li><li><span class="refentrytitle"><a href="#ST_IsSolid">ST_IsSolid</a></span><span class="refpurpose"> — teste se a geometria é um sólido. Nenhuma verificação de validade é representada.</span></li><li><span class="refentrytitle"><a href="#ST_MakeSolid">ST_MakeSolid</a></span><span class="refpurpose"> — Molde a geometria para um sólido. Nenhuma verificação é apresentada. Para obter um sólido válido, a geometria de entrada deve ser uma superfície poliédrica fechada ou um TIN fechado. </span></li><li><span class="refentrytitle"><a href="#ST_Orientation">ST_Orientation</a></span><span class="refpurpose"> — Determine orientação da superfície</span></li><li><span class="refentrytitle"><a href="#ST_3DArea">ST_3DArea</a></span><span class="refpurpose"> — Computa a área de geometrias de superfície 3D. Irá retornar 0 para sólidos.</span></li><li><span class="refentrytitle"><a href="#ST_Volume">ST_Volume</a></span><span class="refpurpose"> — Computa o volume de um sólido 3D. Se aplicado a geometrias com superfícies (mesmo fechadas), irão retornar 0.  </span></li></ul></div><div class="refentry" id="CG_ForceLHR"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_ForceLHR — Orientação força LHR</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_ForceLHR</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm21059"><h2>Descrição</h2><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div></div><div class="refentry" id="CG_IsPlanar"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_IsPlanar — Verifique se a superfície é ou não planar</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">CG_IsPlanar</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm21090"><h2>Descrição</h2><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div></div><div class="refentry" id="CG_IsSolid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_IsSolid — teste se a geometria é um sólido. Nenhuma verificação de validade é representada.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">CG_IsSolid</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21121"><h2>Descrição</h2><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div></div><div class="refentry" id="CG_MakeSolid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_MakeSolid — Molde a geometria para um sólido. Nenhuma verificação é apresentada. Para obter um sólido válido, a geometria de entrada deve ser uma superfície poliédrica fechada ou um TIN fechado. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_MakeSolid</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21152"><h2>Descrição</h2><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div></div><div class="refentry" id="CG_Orientation"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Orientation — Determine orientação da superfície</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">CG_Orientation</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm21183"><h2>Descrição</h2><p>A função só se aplica a polígonos. Ela retorna -1 se o polígono estiver orientado no sentido anti-horário e 1 se estiver no sentido horário.</p><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div></div><div class="refentry" id="CG_Area"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Area — Calculates the area of a geometry</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">CG_Area</strong>(</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm21207"><h2>Descrição</h2><p>Calculates the area of a geometry.</p><p>Performed by the SFCGAL module</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE: this function returns a double precision value representing the area.</p></td></tr></table></div><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div><div class="refsection" id="idm21218"><h2>Exemplos de Geometria</h2><pre class="programlisting">SELECT CG_Area('Polygon ((0 0, 0 5, 5 5, 5 0, 0 0), (1 1, 2 1, 2 2, 1 2, 1 1), (3 3, 4 3, 4 4, 3 4, 3 3))');
                cg_area
                --------
                25
                (1 row)</pre></div><div class="refsection" id="idm21221"><h2>Veja também</h2><p><a class="xref" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a>, <a class="xref" href="#ST_Area" title="ST_Area">ST_Area</a></p></div></div><div class="refentry" id="CG_3DArea"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_3DArea — Computa a área de geometrias de superfície 3D. Irá retornar 0 para sólidos.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float<strong class="fsfunc">CG_3DArea</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21238"><h2>Descrição</h2><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 8.1, 10.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm21261"><h2>Exemplos</h2><p>Nota: Por padrão uma superfície poliédrica construída de um WKT, é uma superfície de geometria, não sólida. Ela, portanto, tem uma área de superfície. Uma vez convertido em sólido, não tem nenhuma área. </p><pre class="programlisting">SELECT CG_3DArea(geom) As cube_surface_area,
            CG_3DArea(CG_MakeSolid(geom)) As solid_surface_area
            FROM (SELECT 'POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
            ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)),
            ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
            ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
            ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),
            ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'::geometry) As f(geom);

            cube_surface_area | solid_surface_area
            -------------------+--------------------
            6 |                  0    </pre></div><div class="refsection" id="idm21265"><h2>Veja também</h2><p><a class="xref" href="#CG_Area" title="CG_Area">CG_Area</a>, <a class="xref" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a>, <a class="xref" href="#CG_IsSolid" title="CG_IsSolid">CG_IsSolid</a>, <a class="xref" href="#CG_Area" title="CG_Area">CG_Area</a></p></div></div><div class="refentry" id="CG_Volume"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Volume — Computa o volume de um sólido 3D. Se aplicado a geometrias com superfícies (mesmo fechadas), irão retornar 0.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">CG_Volume</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21284"><h2>Descrição</h2><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 9.1 (same as CG_3DVolume)</p></div><div class="refsection" id="idm21307"><h2>Exemplo</h2><p>When closed surfaces are created with WKT, they are treated as areal rather than solid. To make them solid, you need to use <a class="xref" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a>. Areal geometries have no volume. Here is an example to demonstrate.</p><pre class="programlisting">SELECT CG_Volume(geom) As cube_surface_vol,
    CG_Volume(CG_MakeSolid(geom)) As solid_surface_vol
    FROM (SELECT 'POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
    ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)),
    ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
    ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
    ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),
    ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'::geometry) As f(geom);

    cube_surface_vol | solid_surface_vol
    ------------------+-------------------
    0 |                 1
</pre></div><div class="refsection" id="idm21312"><h2>Veja também</h2><p><a class="xref" href="#CG_3DArea" title="CG_3DArea">CG_3DArea</a>, <a class="xref" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a>, <a class="xref" href="#CG_IsSolid" title="CG_IsSolid">CG_IsSolid</a></p></div></div><div class="refentry" id="ST_ForceLHR"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ForceLHR — Orientação força LHR</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ForceLHR</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm21330"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_ForceLHR" title="ST_ForceLHR">ST_ForceLHR</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_ForceLHR" title="CG_ForceLHR">CG_ForceLHR</a> instead. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div></div><div class="refentry" id="ST_IsPlanar"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsPlanar — Verifique se a superfície é ou não planar</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsPlanar</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm21365"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_IsPlanar" title="ST_IsPlanar">ST_IsPlanar</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_IsPlanar" title="CG_IsPlanar">CG_IsPlanar</a> instead. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0: Isso foi documentado em 2.1.0, mas foi deixado de fora acidentalmente na 2.1.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div></div><div class="refentry" id="ST_IsSolid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsSolid — teste se a geometria é um sólido. Nenhuma verificação de validade é representada.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsSolid</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21400"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_IsSolid" title="ST_IsSolid">ST_IsSolid</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_IsSolid" title="CG_IsSolid">CG_IsSolid</a> instead. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div></div><div class="refentry" id="ST_MakeSolid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakeSolid — Molde a geometria para um sólido. Nenhuma verificação é apresentada. Para obter um sólido válido, a geometria de entrada deve ser uma superfície poliédrica fechada ou um TIN fechado. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MakeSolid</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21435"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a> instead. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div></div><div class="refentry" id="ST_Orientation"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Orientation — Determine orientação da superfície</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_Orientation</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm21470"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_Orientation" title="ST_Orientation">ST_Orientation</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_Orientation" title="CG_Orientation">CG_Orientation</a> instead. </p></td></tr></table></div><p>A função só se aplica a polígonos. Ela retorna -1 se o polígono estiver orientado no sentido anti-horário e 1 se estiver no sentido horário.</p><p class="availability">Disponibilidade: 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div></div><div class="refentry" id="ST_3DArea"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DArea — Computa a área de geometrias de superfície 3D. Irá retornar 0 para sólidos.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float<strong class="fsfunc">ST_3DArea</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21498"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_3DArea" title="CG_3DArea">CG_3DArea</a> instead. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 8.1, 10.5</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm21525"><h2>Exemplos</h2><p>Nota: Por padrão uma superfície poliédrica construída de um WKT, é uma superfície de geometria, não sólida. Ela, portanto, tem uma área de superfície. Uma vez convertido em sólido, não tem nenhuma área. </p><pre class="programlisting">SELECT ST_3DArea(geom) As cube_surface_area,
            ST_3DArea(ST_MakeSolid(geom)) As solid_surface_area
            FROM (SELECT 'POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
            ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)),
            ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
            ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
            ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),
            ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'::geometry) As f(geom);

            cube_surface_area | solid_surface_area
            -------------------+--------------------
            6 |                  0    </pre></div><div class="refsection" id="idm21529"><h2>Veja também</h2><p><a class="xref" href="#ST_Area" title="ST_Area">ST_Area</a>, <a class="xref" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a>, <a class="xref" href="#ST_IsSolid" title="ST_IsSolid">ST_IsSolid</a>, <a class="xref" href="#ST_Area" title="ST_Area">ST_Area</a></p></div></div><div class="refentry" id="ST_Volume"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Volume — Computa o volume de um sólido 3D. Se aplicado a geometrias com superfícies (mesmo fechadas), irão retornar 0.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float <strong class="fsfunc">ST_Volume</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21548"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_Volume" title="ST_Volume">ST_Volume</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_Volume" title="CG_Volume">CG_Volume</a> instead. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 9.1 (same as ST_3DVolume)</p></div><div class="refsection" id="idm21575"><h2>Exemplo</h2><p>Quando superfícies fechadas são criadas com WKT, elas são tratadas como territoriais ao invés de sólido. Para torná-las sólidos, você precis usar <a class="xref" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a>. Geometrias territoriais não têm volume. Aqui está um exemplo demonstrativo.</p><pre class="programlisting">SELECT ST_Volume(geom) As cube_surface_vol,
    ST_Volume(ST_MakeSolid(geom)) As solid_surface_vol
    FROM (SELECT 'POLYHEDRALSURFACE( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
    ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)),
    ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
    ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
    ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)),
    ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'::geometry) As f(geom);

    cube_surface_vol | solid_surface_vol
    ------------------+-------------------
    0 |                 1
</pre></div><div class="refsection" id="idm21580"><h2>Veja também</h2><p><a class="xref" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a>, <a class="xref" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a>, <a class="xref" href="#ST_IsSolid" title="ST_IsSolid">ST_IsSolid</a></p></div></div></section><section class="section" id="sfcgal_processing"><div class="titlepage"><div><div><h2 class="title" style="clear: both">8.3. SFCGAL Processing and Relationship Functions</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#CG_Intersection">CG_Intersection</a></span><span class="refpurpose"> — Computes the intersection of two geometries</span></li><li><span class="refentrytitle"><a href="#CG_Intersects">CG_Intersects</a></span><span class="refpurpose"> — Tests if two geometries intersect (they have at least one point in common)</span></li><li><span class="refentrytitle"><a href="#CG_3DIntersects">CG_3DIntersects</a></span><span class="refpurpose"> — Tests if two 3D geometries intersect</span></li><li><span class="refentrytitle"><a href="#CG_Difference">CG_Difference</a></span><span class="refpurpose"> — Computes the geometric difference between two geometries</span></li><li><span class="refentrytitle"><a href="#ST_3DDifference">ST_3DDifference</a></span><span class="refpurpose"> — Representar diferença 3D </span></li><li><span class="refentrytitle"><a href="#CG_3DDifference">CG_3DDifference</a></span><span class="refpurpose"> — Representar diferença 3D </span></li><li><span class="refentrytitle"><a href="#CG_Distance">CG_Distance</a></span><span class="refpurpose"> — Computes the minimum distance between two geometries</span></li><li><span class="refentrytitle"><a href="#CG_3DDistance">CG_3DDistance</a></span><span class="refpurpose"> — Computes the minimum 3D distance between two geometries</span></li><li><span class="refentrytitle"><a href="#ST_3DConvexHull">ST_3DConvexHull</a></span><span class="refpurpose"> — Computa o eixo mediano aproximado de uma geometria territorial.</span></li><li><span class="refentrytitle"><a href="#CG_3DConvexHull">CG_3DConvexHull</a></span><span class="refpurpose"> — Computa o eixo mediano aproximado de uma geometria territorial.</span></li><li><span class="refentrytitle"><a href="#ST_3DIntersection">ST_3DIntersection</a></span><span class="refpurpose"> — Representar intersecção 3D</span></li><li><span class="refentrytitle"><a href="#CG_3DIntersection">CG_3DIntersection</a></span><span class="refpurpose"> — Representar intersecção 3D</span></li><li><span class="refentrytitle"><a href="#CG_Union">CG_Union</a></span><span class="refpurpose"> — Computes the union of two geometries</span></li><li><span class="refentrytitle"><a href="#ST_3DUnion">ST_3DUnion</a></span><span class="refpurpose"> — Perform 3D union.</span></li><li><span class="refentrytitle"><a href="#CG_3DUnion">CG_3DUnion</a></span><span class="refpurpose"> — Perform 3D union using postgis_sfcgal.</span></li><li><span class="refentrytitle"><a href="#ST_AlphaShape">ST_AlphaShape</a></span><span class="refpurpose"> — Computes an Alpha-shape enclosing a geometry</span></li><li><span class="refentrytitle"><a href="#CG_AlphaShape">CG_AlphaShape</a></span><span class="refpurpose"> — Computes an Alpha-shape enclosing a geometry</span></li><li><span class="refentrytitle"><a href="#CG_ApproxConvexPartition">CG_ApproxConvexPartition</a></span><span class="refpurpose"> — Computes approximal convex partition of the polygon geometry</span></li><li><span class="refentrytitle"><a href="#ST_ApproximateMedialAxis">ST_ApproximateMedialAxis</a></span><span class="refpurpose"> — Computa o eixo mediano aproximado de uma geometria territorial.</span></li><li><span class="refentrytitle"><a href="#CG_ApproximateMedialAxis">CG_ApproximateMedialAxis</a></span><span class="refpurpose"> — Computa o eixo mediano aproximado de uma geometria territorial.</span></li><li><span class="refentrytitle"><a href="#ST_ConstrainedDelaunayTriangles">ST_ConstrainedDelaunayTriangles</a></span><span class="refpurpose"> — Return a constrained Delaunay triangulation around the given input geometry. </span></li><li><span class="refentrytitle"><a href="#CG_ConstrainedDelaunayTriangles">CG_ConstrainedDelaunayTriangles</a></span><span class="refpurpose"> — Return a constrained Delaunay triangulation around the given input geometry. </span></li><li><span class="refentrytitle"><a href="#ST_Extrude">ST_Extrude</a></span><span class="refpurpose"> — Extrude uma superfície a um volume relacionado</span></li><li><span class="refentrytitle"><a href="#CG_Extrude">CG_Extrude</a></span><span class="refpurpose"> — Extrude uma superfície a um volume relacionado</span></li><li><span class="refentrytitle"><a href="#CG_ExtrudeStraightSkeleton">CG_ExtrudeStraightSkeleton</a></span><span class="refpurpose"> — Straight Skeleton Extrusion</span></li><li><span class="refentrytitle"><a href="#CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a></span><span class="refpurpose"> — Computes approximal convex partition of the polygon geometry</span></li><li><span class="refentrytitle"><a href="#ST_MinkowskiSum">ST_MinkowskiSum</a></span><span class="refpurpose"> — Representar soma Minkowski</span></li><li><span class="refentrytitle"><a href="#CG_MinkowskiSum">CG_MinkowskiSum</a></span><span class="refpurpose"> — Representar soma Minkowski</span></li><li><span class="refentrytitle"><a href="#ST_OptimalAlphaShape">ST_OptimalAlphaShape</a></span><span class="refpurpose"> — Computes an Alpha-shape enclosing a geometry using an "optimal" alpha value.</span></li><li><span class="refentrytitle"><a href="#CG_OptimalAlphaShape">CG_OptimalAlphaShape</a></span><span class="refpurpose"> — Computes an Alpha-shape enclosing a geometry using an "optimal" alpha value.</span></li><li><span class="refentrytitle"><a href="#CG_OptimalConvexPartition">CG_OptimalConvexPartition</a></span><span class="refpurpose"> — Computes an optimal convex partition of the polygon geometry</span></li><li><span class="refentrytitle"><a href="#CG_StraightSkeleton">CG_StraightSkeleton</a></span><span class="refpurpose"> — Calcule um esqueleto em linha reta de uma geometria</span></li><li><span class="refentrytitle"><a href="#ST_StraightSkeleton">ST_StraightSkeleton</a></span><span class="refpurpose"> — Calcule um esqueleto em linha reta de uma geometria</span></li><li><span class="refentrytitle"><a href="#ST_Tesselate">ST_Tesselate</a></span><span class="refpurpose"> — Representa superfície tesselação de um polígono ou superfície poliédrica e retorna como uma TIN ou coleção de TINS</span></li><li><span class="refentrytitle"><a href="#CG_Tesselate">CG_Tesselate</a></span><span class="refpurpose"> — Representa superfície tesselação de um polígono ou superfície poliédrica e retorna como uma TIN ou coleção de TINS</span></li><li><span class="refentrytitle"><a href="#CG_Triangulate">CG_Triangulate</a></span><span class="refpurpose"> — Triangulates a polygonal geometry</span></li><li><span class="refentrytitle"><a href="#CG_Visibility">CG_Visibility</a></span><span class="refpurpose"> — Compute a visibility polygon from a point or a segment in a polygon geometry</span></li><li><span class="refentrytitle"><a href="#CG_YMonotonePartition">CG_YMonotonePartition</a></span><span class="refpurpose"> — Computes y-monotone partition of the polygon geometry</span></li></ul></div><div class="refentry" id="CG_Intersection"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Intersection — Computes the intersection of two geometries</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_Intersection</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm21603"><h2>Descrição</h2><p>Computes the intersection of two geometries.</p><p>Performed by the SFCGAL module</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE: this function returns a geometry representing the intersection.</p></td></tr></table></div><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div><div class="refsection" id="idm21614"><h2>Exemplos de Geometria</h2><pre class="programlisting">SELECT ST_AsText(CG_Intersection('LINESTRING(0 0, 5 5)', 'LINESTRING(5 0, 0 5)'));
                cg_intersection
                -----------------
                POINT(2.5 2.5)
                (1 row)</pre></div><div class="refsection" id="idm21617"><h2>Veja também</h2><p><a class="xref" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a>, <a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a></p></div></div><div class="refentry" id="CG_Intersects"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Intersects — Tests if two geometries intersect (they have at least one point in common)</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">CG_Intersects</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm21637"><h2>Descrição</h2><p>Returns <code class="varname">true</code> if two geometries intersect. Geometries intersect if they have any point in common. </p><p>Performed by the SFCGAL module</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE: this is the "allowable" version that returns a boolean, not an integer.</p></td></tr></table></div><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm21653"><h2>Exemplos de Geometria</h2><pre class="programlisting">SELECT CG_Intersects('POINT(0 0)'::geometry, 'LINESTRING ( 2 0, 0 2 )'::geometry);
    cg_intersects
    ---------------
    f
    (1 row)
    SELECT CG_Intersects('POINT(0 0)'::geometry, 'LINESTRING ( 0 0, 0 2 )'::geometry);
    cg_intersects
    ---------------
    t
    (1 row)
</pre></div><div class="refsection" id="idm21656"><h2>Veja também</h2><p><a class="xref" href="#CG_3DIntersects" title="CG_3DIntersects">CG_3DIntersects</a>, <a class="xref" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a></p></div></div><div class="refentry" id="CG_3DIntersects"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_3DIntersects — Tests if two 3D geometries intersect</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">CG_3DIntersects</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm21678"><h2>Descrição</h2><p>Tests if two 3D geometries intersect. 3D geometries intersect if they have any point in common in the three-dimensional space.</p><p>Performed by the SFCGAL module</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE: this is the "allowable" version that returns a boolean, not an integer.</p></td></tr></table></div><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm21693"><h2>Exemplos de Geometria</h2><pre class="programlisting">SELECT CG_3DIntersects('POINT(1.2 0.1 0)','POLYHEDRALSURFACE(((0 0 0,0.5 0.5 0,1 0 0,1 1 0,0 1 0,0 0 0)),((1 0 0,2 0 0,2 1 0,1 1 0,1 0 0),(1.2 0.2 0,1.2 0.8 0,1.8 0.8 0,1.8 0.2 0,1.2 0.2 0)))');
        cg_3dintersects
        ---------------
        t
        (1 row)
    </pre></div><div class="refsection" id="idm21696"><h2>Veja também</h2><p><a class="xref" href="#CG_Intersects" title="CG_Intersects">CG_Intersects</a>, <a class="xref" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a></p></div></div><div class="refentry" id="CG_Difference"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Difference — Computes the geometric difference between two geometries</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_Difference</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm21718"><h2>Descrição</h2><p>Computes the geometric difference between two geometries. The resulting geometry is a set of points that are present in geomA but not in geomB.</p><p>Performed by the SFCGAL module</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE: this function returns a geometry.</p></td></tr></table></div><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm21733"><h2>Exemplos de Geometria</h2><pre class="programlisting">SELECT ST_AsText(CG_Difference('POLYGON((0 0, 0 1, 1 1, 1 0, 0 0))'::geometry, 'LINESTRING(0 0, 2 2)'::geometry));
    cg_difference
    ---------------
    POLYGON((0 0,1 0,1 1,0 1,0 0))
    (1 row)</pre></div><div class="refsection" id="idm21736"><h2>Veja também</h2><p><a class="xref" href="#ST_3DDifference" title="ST_3DDifference">ST_3DDifference</a>, <a class="xref" href="#ST_Difference" title="ST_Difference">ST_Difference</a></p></div></div><div class="refentry" id="ST_3DDifference"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DDifference — Representar diferença 3D </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DDifference</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p></div></div><div class="refsection" id="idm21756"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_3DDifference" title="ST_3DDifference">ST_3DDifference</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_3DDifference" title="CG_3DDifference">CG_3DDifference</a> instead. </p></td></tr></table></div><p>Retorna aquela parte de geom1 que não faz parte de geom2.</p><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div></div><div class="refentry" id="CG_3DDifference"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_3DDifference — Representar diferença 3D </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_3DDifference</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p></div></div><div class="refsection" id="idm21799"><h2>Descrição</h2><p>Retorna aquela parte de geom1 que não faz parte de geom2.</p><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm21823"><h2>Exemplos</h2><p>As imagens 3D foram criadas usando o PostGIS xref linkend="ST_AsX3D"/&gt; e interpretadas no HTML usando: <a class="link" href="http://www.x3dom.org" target="_top">X3Dom HTML Javascript rendering library</a>.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
                                </p><pre class="programlisting">SELECT CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                                50, 'quad_segs=2'),0,0,30) AS geom1,
                                CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(80 80)'),
                                50, 'quad_segs=1'),0,0,30) AS geom2;
                            </pre><p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_3ddifference01.png"/><div class="caption"><p>Geometrias 3D originais cobertas. geom2 é a parte que será removida.</p></div></div></div>
                    </td><td><p>
                            </p><pre class="programlisting">SELECT CG_3DDifference(geom1,geom2)
                            FROM ( SELECT CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                            50, 'quad_segs=2'),0,0,30) AS geom1,
                            CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(80 80)'),
                            50, 'quad_segs=1'),0,0,30) AS geom2 ) As t;</pre><p>
                        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_3ddifference02.png"/><div class="caption"><p>O que restou depois de remover geom2</p></div></div></div>
                </td></tr></tbody></table></div></div><div class="refsection" id="idm21849"><h2>Veja também</h2><p><a class="xref" href="#CG_Extrude" title="CG_Extrude">CG_Extrude</a>, <a class="xref" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a>, <a class="xref" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a> <a class="xref" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a> </p></div></div><div class="refentry" id="CG_Distance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Distance — Computes the minimum distance between two geometries</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">CG_Distance</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm21871"><h2>Descrição</h2><p>Computes the minimum distance between two geometries.</p><p>Performed by the SFCGAL module</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE: this function returns a double precision value representing the distance.</p></td></tr></table></div><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm21886"><h2>Exemplos de Geometria</h2><pre class="programlisting">SELECT CG_Distance('LINESTRING(0.0 0.0,-1.0 -1.0)', 'LINESTRING(3.0 4.0,4.0 5.0)');
        cg_distance
        -------------
        2.0
        (1 row)</pre></div><div class="refsection" id="idm21889"><h2>Veja também</h2><p><a class="xref" href="#CG_3DDistance" title="CG_3DDistance">CG_3DDistance</a>, <a class="xref" href="#CG_Distance" title="CG_Distance">CG_Distance</a></p></div></div><div class="refentry" id="CG_3DDistance"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_3DDistance — Computes the minimum 3D distance between two geometries</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">CG_3DDistance</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm21909"><h2>Descrição</h2><p>Computes the minimum 3D distance between two geometries.</p><p>Performed by the SFCGAL module</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE: this function returns a double precision value representing the 3D distance.</p></td></tr></table></div><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm21924"><h2>Exemplos de Geometria</h2><pre class="programlisting">SELECT CG_3DDistance('LINESTRING(-1.0 0.0 2.0,1.0 0.0 3.0)', 'TRIANGLE((-4.0 0.0 1.0,4.0 0.0 1.0,0.0 4.0 1.0,-4.0 0.0 1.0))');
        cg_3ddistance
        ----------------
        1
        (1 row)</pre></div><div class="refsection" id="idm21927"><h2>Veja também</h2><p><a class="xref" href="#CG_Distance" title="CG_Distance">CG_Distance</a>, <a class="xref" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a></p></div></div><div class="refentry" id="ST_3DConvexHull"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DConvexHull — Computa o eixo mediano aproximado de uma geometria territorial.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DConvexHull</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21944"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_3DConvexHull" title="ST_3DConvexHull">ST_3DConvexHull</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_3DConvexHull" title="CG_3DConvexHull">CG_3DConvexHull</a> instead. </p></td></tr></table></div><p class="availability">Availability: 3.3.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div></div><div class="refentry" id="CG_3DConvexHull"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_3DConvexHull — Computa o eixo mediano aproximado de uma geometria territorial.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_3DConvexHull</strong>(</code>geometry <var class="pdparam">geom1</var><code>)</code>;</p></div></div><div class="refsection" id="idm21979"><h2>Descrição</h2><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm21998"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(CG_3DConvexHull('LINESTRING Z(0 0 5, 1 5 3, 5 7 6, 9 5 3 , 5 7 5, 6 3 5)'::geometry));</pre><pre class="screen">POLYHEDRALSURFACE Z (((1 5 3,9 5 3,0 0 5,1 5 3)),((1 5 3,0 0 5,5 7 6,1 5 3)),((5 7 6,5 7 5,1 5 3,5 7 6)),((0 0 5,6 3 5,5 7 6,0 0 5)),((6 3 5,9 5 3,5 7 6,6 3 5)),((0 0 5,9 5 3,6 3 5,0 0 5)),((9 5 3,5 7 5,5 7 6,9 5 3)),((1 5 3,5 7 5,9 5 3,1 5 3)))</pre><pre class="programlisting">WITH f AS (SELECT i, CG_Extrude(geom, 0,0, i ) AS geom
        FROM ST_Subdivide(ST_Letters('CH'),5) WITH ORDINALITY AS sd(geom,i)
        )
        SELECT CG_3DConvexHull(ST_Collect(f.geom) )
        FROM f;</pre><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_3dconvexhull.png"/><div class="caption"><p>Original geometry overlaid with 3D convex hull</p></div></div></div><p>
    </p></div><div class="refsection" id="idm22010"><h2>Veja também</h2><p><a class="xref" href="#ST_Letters" title="ST_Letters">ST_Letters</a>, <a class="xref" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a></p></div></div><div class="refentry" id="ST_3DIntersection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DIntersection — Representar intersecção 3D</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DIntersection</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p></div></div><div class="refsection" id="idm22030"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a> instead. </p></td></tr></table></div><p>Retorna uma geometria que é dividida entre geom1 e geom2</p><p class="availability">Disponibilidade: 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div></div><div class="refentry" id="CG_3DIntersection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_3DIntersection — Representar intersecção 3D</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_3DIntersection</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p></div></div><div class="refsection" id="idm22073"><h2>Descrição</h2><p>Retorna uma geometria que é dividida entre geom1 e geom2</p><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm22097"><h2>Exemplos</h2><p>As imagens 3D foram criadas usando o PostGIS xref linkend="ST_AsX3D"/&gt; e interpretadas no HTML usando: <a class="link" href="http://www.x3dom.org" target="_top">X3Dom HTML Javascript rendering library</a>.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
                                    </p><pre class="programlisting">SELECT CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                                    50, 'quad_segs=2'),0,0,30) AS geom1,
                                    CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(80 80)'),
                                    50, 'quad_segs=1'),0,0,30) AS geom2;
                                </pre><p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_3ddifference01.png"/><div class="caption"><p>Geometrias 3D originais cobertas. geom2 é apresentada semitransparente </p></div></div></div>
                        </td><td><p>
                                </p><pre class="programlisting">SELECT CG_3DIntersection(geom1,geom2)
                                FROM ( SELECT CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                                50, 'quad_segs=2'),0,0,30) AS geom1,
                                CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(80 80)'),
                                50, 'quad_segs=1'),0,0,30) AS geom2 ) As t;</pre><p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_3dintersection01.png"/><div class="caption"><p>Intersecção de geom1 e geom2 </p></div></div></div>
                    </td></tr></tbody></table></div><p>Linestrings 3D e polígonos</p><pre class="programlisting">SELECT ST_AsText(CG_3DIntersection(linestring, polygon)) As wkt
    FROM  ST_GeomFromText('LINESTRING Z (2 2 6,1.5 1.5 7,1 1 8,0.5 0.5 8,0 0 10)') AS linestring
    CROSS JOIN ST_GeomFromText('POLYGON((0 0 8, 0 1 8, 1 1 8, 1 0 8, 0 0 8))') AS polygon;

    wkt
    --------------------------------
    LINESTRING Z (1 1 8,0.5 0.5 8)
</pre><p>Cubo (superfície poliédrica fechada) e polígono Z</p><pre class="programlisting">SELECT ST_AsText(CG_3DIntersection(
ST_GeomFromText('POLYHEDRALSURFACE Z( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'),
'POLYGON Z ((0 0 0, 0 0 0.5, 0 0.5 0.5, 0 0.5 0, 0 0 0))'::geometry))</pre><pre class="screen">TIN Z (((0 0 0,0 0 0.5,0 0.5 0.5,0 0 0)),((0 0.5 0,0 0 0,0 0.5 0.5,0 0.5 0)))</pre><p>Intersecção de 2 sólidos, que resulta em uma intersecção volumétrica, também é um sólido (ST_Dimension retorna 3)</p><pre class="programlisting">SELECT ST_AsText(CG_3DIntersection( CG_Extrude(ST_Buffer('POINT(10 20)'::geometry,10,1),0,0,30),
            CG_Extrude(ST_Buffer('POINT(10 20)'::geometry,10,1),2,0,10) ));</pre><pre class="screen">POLYHEDRALSURFACE Z (((13.3333333333333 13.3333333333333 10,20 20 0,20 20 10,13.3333333333333 13.3333333333333 10)),
        ((20 20 10,16.6666666666667 23.3333333333333 10,13.3333333333333 13.3333333333333 10,20 20 10)),
        ((20 20 0,16.6666666666667 23.3333333333333 10,20 20 10,20 20 0)),
        ((13.3333333333333 13.3333333333333 10,10 10 0,20 20 0,13.3333333333333 13.3333333333333 10)),
        ((16.6666666666667 23.3333333333333 10,12 28 10,13.3333333333333 13.3333333333333 10,16.6666666666667 23.3333333333333 10)),
        ((20 20 0,9.99999999999995 30 0,16.6666666666667 23.3333333333333 10,20 20 0)),
        ((10 10 0,9.99999999999995 30 0,20 20 0,10 10 0)),((13.3333333333333 13.3333333333333 10,12 12 10,10 10 0,13.3333333333333 13.3333333333333 10)),
        ((12 28 10,12 12 10,13.3333333333333 13.3333333333333 10,12 28 10)),
        ((16.6666666666667 23.3333333333333 10,9.99999999999995 30 0,12 28 10,16.6666666666667 23.3333333333333 10)),
        ((10 10 0,0 20 0,9.99999999999995 30 0,10 10 0)),
        ((12 12 10,11 11 10,10 10 0,12 12 10)),((12 28 10,11 11 10,12 12 10,12 28 10)),
        ((9.99999999999995 30 0,11 29 10,12 28 10,9.99999999999995 30 0)),((0 20 0,2 20 10,9.99999999999995 30 0,0 20 0)),
        ((10 10 0,2 20 10,0 20 0,10 10 0)),((11 11 10,2 20 10,10 10 0,11 11 10)),((12 28 10,11 29 10,11 11 10,12 28 10)),
        ((9.99999999999995 30 0,2 20 10,11 29 10,9.99999999999995 30 0)),((11 11 10,11 29 10,2 20 10,11 11 10)))</pre></div></div><div class="refentry" id="CG_Union"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Union — Computes the union of two geometries</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_Union</strong>(</code> geometry <var class="pdparam">geomA</var> ,  geometry <var class="pdparam">geomB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm22146"><h2>Descrição</h2><p>Computes the union of two geometries.</p><p>Performed by the SFCGAL module</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE: this function returns a geometry representing the union.</p></td></tr></table></div><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div><div class="refsection" id="idm22157"><h2>Exemplos de Geometria</h2><pre class="programlisting">SELECT CG_Union('POINT(.5 0)', 'LINESTRING(-1 0,1 0)');
                cg_union
                -----------
                LINESTRING(-1 0,0.5 0,1 0)
                (1 row)</pre></div><div class="refsection" id="idm22160"><h2>Veja também</h2><p><a class="xref" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a></p></div></div><div class="refentry" id="ST_3DUnion"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_3DUnion — Perform 3D union.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DUnion</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">ST_3DUnion</strong>(</code>geometry set <var class="pdparam">g1field</var><code>)</code>;</p></div></div><div class="refsection" id="idm22186"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a> instead. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0</p><p class="availability">Availability: 3.3.0 aggregate variant was added</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p><span class="bold"><strong>Aggregate variant:</strong></span> returns a geometry that is the 3D union of a rowset of geometries. The ST_3DUnion() function is an "aggregate" function in the terminology of PostgreSQL. That means that it operates on rows of data, in the same way the SUM() and AVG() functions do and like most aggregates, it also ignores NULL geometries. </p></div></div><div class="refentry" id="CG_3DUnion"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_3DUnion — Perform 3D union using postgis_sfcgal.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_3DUnion</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">CG_3DUnion</strong>(</code>geometry set <var class="pdparam">g1field</var><code>)</code>;</p></div></div><div class="refsection" id="idm22237"><h2>Descrição</h2><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM IEC 13249-3: 5.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p><p><span class="bold"><strong>Aggregate variant:</strong></span> returns a geometry that is the 3D union of a rowset of geometries. The CG_3DUnion() function is an "aggregate" function in the terminology of PostgreSQL. That means that it operates on rows of data, in the same way the SUM() and AVG() functions do and like most aggregates, it also ignores NULL geometries. </p></div><div class="refsection" id="idm22262"><h2>Exemplos</h2><p>As imagens 3D foram criadas usando o PostGIS xref linkend="ST_AsX3D"/&gt; e interpretadas no HTML usando: <a class="link" href="http://www.x3dom.org" target="_top">X3Dom HTML Javascript rendering library</a>.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><p>
                                    </p><pre class="programlisting">SELECT CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                                    50, 'quad_segs=2'),0,0,30) AS geom1,
                                    CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(80 80)'),
                                    50, 'quad_segs=1'),0,0,30) AS geom2;
                                </pre><p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_3ddifference01.png"/><div class="caption"><p>Geometrias 3D originais cobertas. geom2 é a com transparência.</p></div></div></div>
                        </td><td><p>
                                </p><pre class="programlisting">SELECT CG_3DUnion(geom1,geom2)
                                FROM ( SELECT CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                                50, 'quad_segs=2'),0,0,30) AS geom1,
                                CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(80 80)'),
                                50, 'quad_segs=1'),0,0,30) AS geom2 ) As t;</pre><p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_3dunion01.png"/><div class="caption"><p>União de geom1 e geom2</p></div></div></div>
                    </td></tr></tbody></table></div></div><div class="refsection" id="idm22288"><h2>Veja também</h2><p><a class="xref" href="#CG_Extrude" title="CG_Extrude">CG_Extrude</a>, <a class="xref" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a>, <a class="xref" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a> <a class="xref" href="#CG_3DDifference" title="CG_3DDifference">CG_3DDifference</a> </p></div></div><div class="refentry" id="ST_AlphaShape"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AlphaShape — Computes an Alpha-shape enclosing a geometry</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_AlphaShape</strong>(</code>geometry <var class="pdparam">geom</var>, float  <var class="pdparam">alpha</var>, boolean  <var class="pdparam">allow_holes = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm22313"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_AlphaShape" title="ST_AlphaShape">ST_AlphaShape</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_AlphaShape" title="CG_AlphaShape">CG_AlphaShape</a> instead. </p></td></tr></table></div><p>Computes the <a class="link" href="https://en.wikipedia.org/wiki/Alpha_shape" target="_top">Alpha-Shape</a> of the points in a geometry. An alpha-shape is a (usually) concave polygonal geometry which contains all the vertices of the input, and whose vertices are a subset of the input vertices. An alpha-shape provides a closer fit to the shape of the input than the shape produced by the <a class="link" href="#ST_ConvexHull" title="ST_ConvexHull">convex hull</a>. </p></div></div><div class="refentry" id="CG_AlphaShape"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_AlphaShape — Computes an Alpha-shape enclosing a geometry</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_AlphaShape</strong>(</code>geometry <var class="pdparam">geom</var>, float  <var class="pdparam">alpha</var>, boolean  <var class="pdparam">allow_holes = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm22340"><h2>Descrição</h2><p>Computes the <a class="link" href="https://en.wikipedia.org/wiki/Alpha_shape" target="_top">Alpha-Shape</a> of the points in a geometry. An alpha-shape is a (usually) concave polygonal geometry which contains all the vertices of the input, and whose vertices are a subset of the input vertices. An alpha-shape provides a closer fit to the shape of the input than the shape produced by the <a class="link" href="#ST_ConvexHull" title="ST_ConvexHull">convex hull</a>. </p><p>The "closeness of fit" is controlled by the <code class="varname">alpha</code> parameter, which can have values from 0 to infinity. Smaller alpha values produce more concave results. Alpha values greater than some data-dependent value produce the convex hull of the input. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Following the CGAL implementation, the alpha value is the <span class="emphasis"><em>square</em></span> of the radius of the disc used in the Alpha-Shape algorithm to "erode" the Delaunay Triangulation of the input points. See <a class="link" href="https://doc.cgal.org/latest/Alpha_shapes_2/index.html#Chapter_2D_Alpha_Shapes" target="_top">CGAL Alpha-Shapes</a> for more information. This is different from the original definition of alpha-shapes, which defines alpha as the radius of the eroding disc. </p></td></tr></table></div><p>The computed shape does not contain holes unless the optional <code class="varname">allow_holes</code> argument is specified as true. </p><p>This function effectively computes a concave hull of a geometry in a similar way to <a class="xref" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>, but uses CGAL and a different algorithm. </p><p class="availability">Availability: 3.5.0 - requires SFCGAL &gt;= 1.4.1.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div><div class="refsection" id="idm22360"><h2>Exemplos</h2><p>
            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_alphashape01.png"/><div class="caption"><p>Alpha-shape of a MultiPoint (same example As <a class="xref" href="#CG_OptimalAlphaShape" title="CG_OptimalAlphaShape">CG_OptimalAlphaShape</a>)</p></div></div></div><p>
            </p><pre class="programlisting">SELECT ST_AsText(CG_AlphaShape('MULTIPOINT((63 84),(76 88),(68 73),(53 18),(91 50),(81 70),
            (88 29),(24 82),(32 51),(37 23),(27 54),(84 19),(75 87),(44 42),(77 67),(90 30),(36 61),(32 65),
            (81 47),(88 58),(68 73),(49 95),(81 60),(87 50),
            (78 16),(79 21),(30 22),(78 43),(26 85),(48 34),(35 35),(36 40),(31 79),(83 29),(27 84),(52 98),(72 95),(85 71),
            (75 84),(75 77),(81 29),(77 73),(41 42),(83 72),(23 36),(89 53),(27 57),(57 97),(27 77),(39 88),(60 81),
            (80 72),(54 32),(55 26),(62 22),(70 20),(76 27),(84 35),(87 42),(82 54),(83 64),(69 86),(60 90),(50 86),(43 80),(36 73),
            (36 68),(40 75),(24 67),(23 60),(26 44),(28 33),(40 32),(43 19),(65 16),(73 16),(38 46),(31 59),(34 86),(45 90),(64 97))'::geometry,80.2));</pre><p>
        </p><pre class="screen">POLYGON((89 53,91 50,87 42,90 30,88 29,84 19,78 16,73 16,65 16,53 18,43 19,
        37 23,30 22,28 33,23 36,26 44,27 54,23 60,24 67,27 77,
        24 82,26 85,34 86,39 88,45 90,49 95,52 98,57 97,
        64 97,72 95,76 88,75 84,83 72,85 71,88 58,89 53))</pre><p>
</p><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_alphashape02.png"/><div class="caption"><p>Alpha-shape of a MultiPoint, allowing holes (same example as <a class="xref" href="#CG_OptimalAlphaShape" title="CG_OptimalAlphaShape">CG_OptimalAlphaShape</a>)</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_AsText(CG_AlphaShape('MULTIPOINT((63 84),(76 88),(68 73),(53 18),(91 50),(81 70),(88 29),(24 82),(32 51),(37 23),(27 54),(84 19),(75 87),(44 42),(77 67),(90 30),(36 61),(32 65),(81 47),(88 58),(68 73),(49 95),(81 60),(87 50),
    (78 16),(79 21),(30 22),(78 43),(26 85),(48 34),(35 35),(36 40),(31 79),(83 29),(27 84),(52 98),(72 95),(85 71),
    (75 84),(75 77),(81 29),(77 73),(41 42),(83 72),(23 36),(89 53),(27 57),(57 97),(27 77),(39 88),(60 81),
    (80 72),(54 32),(55 26),(62 22),(70 20),(76 27),(84 35),(87 42),(82 54),(83 64),(69 86),(60 90),(50 86),(43 80),(36 73),
    (36 68),(40 75),(24 67),(23 60),(26 44),(28 33),(40 32),(43 19),(65 16),(73 16),(38 46),(31 59),(34 86),(45 90),(64 97))'::geometry, 100.1,true))</pre><p>
</p><pre class="screen">POLYGON((89 53,91 50,87 42,90 30,84 19,78 16,73 16,65 16,53 18,43 19,30 22,28 33,23 36,
26 44,27 54,23 60,24 67,27 77,24 82,26 85,34 86,39 88,45 90,49 95,52 98,57 97,64 97,72 95,
76 88,75 84,83 72,85 71,88 58,89 53),(36 61,36 68,40 75,43 80,60 81,68 73,77 67,
81 60,82 54,81 47,78 43,76 27,62 22,54 32,44 42,38 46,36 61))</pre><p>
            </p><p>
                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_alphashape03.png"/><div class="caption"><p>Alpha-shape of a MultiPoint, allowing holes (same example as <a class="xref" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(CG_AlphaShape(
                'MULTIPOINT ((132 64), (114 64), (99 64), (81 64), (63 64), (57 49), (52 36), (46 20), (37 20), (26 20), (32 36), (39 55), (43 69), (50 84), (57 100), (63 118), (68 133), (74 149), (81 164), (88 180), (101 180), (112 180), (119 164), (126 149), (132 131), (139 113), (143 100), (150 84), (157 69), (163 51), (168 36), (174 20), (163 20), (150 20), (143 36), (139 49), (132 64), (99 151), (92 138), (88 124), (81 109), (74 93), (70 82), (83 82), (99 82), (112 82), (126 82), (121 96), (114 109), (110 122), (103 138), (99 151), (34 27), (43 31), (48 44), (46 58), (52 73), (63 73), (61 84), (72 71), (90 69), (101 76), (123 71), (141 62), (166 27), (150 33), (159 36), (146 44), (154 53), (152 62), (146 73), (134 76), (143 82), (141 91), (130 98), (126 104), (132 113), (128 127), (117 122), (112 133), (119 144), (108 147), (119 153), (110 171), (103 164), (92 171), (86 160), (88 142), (79 140), (72 124), (83 131), (79 118), (68 113), (63 102), (68 93), (35 45))'::geometry,102.2, true));</pre><p>
            </p><pre class="screen">POLYGON((26 20,32 36,35 45,39 55,43 69,50 84,57 100,63 118,68 133,74 149,81 164,88 180,
            101 180,112 180,119 164,126 149,132 131,139 113,143 100,150 84,157 69,163 51,168 36,
            174 20,163 20,150 20,143 36,139 49,132 64,114 64,99 64,90 69,81 64,63 64,57 49,52 36,46 20,37 20,26 20),
            (74 93,81 109,88 124,92 138,103 138,110 122,114 109,121 96,112 82,99 82,83 82,74 93))</pre><p>
    </p></div><div class="refsection" id="idm22392"><h2>Veja também</h2><p><a class="xref" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>, <a class="xref" href="#CG_OptimalAlphaShape" title="CG_OptimalAlphaShape">CG_OptimalAlphaShape</a></p></div></div><div class="refentry" id="CG_ApproxConvexPartition"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_ApproxConvexPartition — Computes approximal convex partition of the polygon geometry</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_ApproxConvexPartition</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm22409"><h2>Descrição</h2><p>Computes approximal convex partition of the polygon geometry (using a triangulation). </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A partition of a polygon P is a set of polygons such that the interiors of the polygons do not intersect and the union of the polygons is equal to the interior of the original polygon P. CG_ApproxConvexPartition and CG_GreeneApproxConvexPartition functions produce approximately optimal convex partitions. Both these functions produce convex decompositions by first decomposing the polygon into simpler polygons; CG_ApproxConvexPartition uses a triangulation and CG_GreeneApproxConvexPartition a monotone partition. These two functions both guarantee that they will produce no more than four times the optimal number of convex pieces but they differ in their runtime complexities. Though the triangulation-based approximation algorithm often results in fewer convex pieces, this is not always the case. </p></td></tr></table></div><p class="availability">Availability: 3.5.0 - requires SFCGAL &gt;= 1.5.0.</p><p class="sfcgal_requirement">Requires SFCGAL &gt;= 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div><div class="refsection" id="idm22420"><h2>Exemplos</h2><p>
                </p><div class="informalfigure"><div class="mediaobject"><img src="images/cg_approxconvexpartition01.png"/><div class="caption"><p>Approximal Convex Partition (same example As <a class="xref" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a>, <a class="xref" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a> and <a class="xref" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a>)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(CG_ApproxConvexPartition('POLYGON((156 150,83 181,89 131,148 120,107 61,32 159,0 45,41 86,45 1,177 2,67 24,109 31,170 60,180 110,156 150))'::geometry));</pre><p>
                </p><pre class="screen">GEOMETRYCOLLECTION(POLYGON((156 150,83 181,89 131,148 120,156 150)),POLYGON((32 159,0 45,41 86,32 159)),POLYGON((107 61,32 159,41 86,107 61)),POLYGON((45 1,177 2,67 24,45 1)),POLYGON((41 86,45 1,67 24,41 86)),POLYGON((107 61,41 86,67 24,109 31,107 61)),POLYGON((148 120,107 61,109 31,170 60,148 120)),POLYGON((156 150,148 120,170 60,180 110,156 150)))</pre><p>
            </p></div><div class="refsection" id="idm22434"><h2>Veja também</h2><p><a class="xref" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a>, <a class="xref" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a>, <a class="xref" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a></p></div></div><div class="refentry" id="ST_ApproximateMedialAxis"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ApproximateMedialAxis — Computa o eixo mediano aproximado de uma geometria territorial.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ApproximateMedialAxis</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm22452"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_ApproximateMedialAxis" title="ST_ApproximateMedialAxis">ST_ApproximateMedialAxis</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_ApproximateMedialAxis" title="CG_ApproximateMedialAxis">CG_ApproximateMedialAxis</a> instead. </p></td></tr></table></div><p>Return an approximate medial axis for the areal input based on its straight skeleton. Uses an SFCGAL specific API when built against a capable version (1.2.0+). Otherwise the function is just a wrapper around CG_StraightSkeleton (slower case). </p><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div></div><div class="refentry" id="CG_ApproximateMedialAxis"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_ApproximateMedialAxis — Computa o eixo mediano aproximado de uma geometria territorial.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_ApproximateMedialAxis</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm22488"><h2>Descrição</h2><p>Return an approximate medial axis for the areal input based on its straight skeleton. Uses an SFCGAL specific API when built against a capable version (1.2.0+). Otherwise the function is just a wrapper around CG_StraightSkeleton (slower case). </p><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm22508"><h2>Exemplos</h2><pre class="programlisting">SELECT CG_ApproximateMedialAxis(ST_GeomFromText('POLYGON (( 190 190, 10 190, 10 10, 190 10, 190 20, 160 30, 60 30, 60 130, 190 140, 190 190 ))'));</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_approximatemedialaxis01.png"/><div class="caption"><p>Um polígono e seu eixo mediano aproximado </p></div></div></div>
                            </td></tr></tbody></table></div></div><div class="refsection" id="idm22523"><h2>Veja também</h2><p><a class="xref" href="#CG_StraightSkeleton" title="CG_StraightSkeleton">CG_StraightSkeleton</a></p></div></div><div class="refentry" id="ST_ConstrainedDelaunayTriangles"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ConstrainedDelaunayTriangles — Return a constrained Delaunay triangulation around the given input geometry. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ConstrainedDelaunayTriangles</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm22539"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_ConstrainedDelaunayTriangles" title="ST_ConstrainedDelaunayTriangles">ST_ConstrainedDelaunayTriangles</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_ConstrainedDelaunayTriangles" title="CG_ConstrainedDelaunayTriangles">CG_ConstrainedDelaunayTriangles</a> instead. </p></td></tr></table></div><p>Return a <a class="link" href="https://en.wikipedia.org/wiki/Constrained_Delaunay_triangulation" target="_top">Constrained Delaunay triangulation</a> around the vertices of the input geometry. Output is a TIN. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p class="availability">Disponibilidade: 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div></div><div class="refentry" id="CG_ConstrainedDelaunayTriangles"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_ConstrainedDelaunayTriangles — Return a constrained Delaunay triangulation around the given input geometry. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_ConstrainedDelaunayTriangles</strong>(</code>geometry  <var class="pdparam">g1</var><code>)</code>;</p></div></div><div class="refsection" id="idm22568"><h2>Descrição</h2><p>Return a <a class="link" href="https://en.wikipedia.org/wiki/Constrained_Delaunay_triangulation" target="_top">Constrained Delaunay triangulation</a> around the vertices of the input geometry. Output is a TIN. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p class="availability">Disponibilidade: 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm22581"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_constraineddelaunaytriangles01.png"/><div class="caption"><p>CG_ConstrainedDelaunayTriangles of 2 polygons</p></div></div></div><p>
                                    </p><pre class="programlisting">select CG_ConstrainedDelaunayTriangles(
                                        ST_Union(
                                        'POLYGON((175 150, 20 40, 50 60, 125 100, 175 150))'::geometry,
                                        ST_Buffer('POINT(110 170)'::geometry, 20)
                                        )
                                        );
                                    </pre><p>
                            </p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_constraineddelaunaytriangles02.png"/><div class="caption"><p><a class="xref" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a> of 2 polygons. Triangle edges cross polygon boundaries.</p></div></div></div><p>
                                    </p><pre class="programlisting">select ST_DelaunayTriangles(
                                        ST_Union(
                                        'POLYGON((175 150, 20 40, 50 60, 125 100, 175 150))'::geometry,
                                        ST_Buffer('POINT(110 170)'::geometry, 20)
                                        )
                                        );
                                    </pre><p>
                            </p></td></tr></tbody></table></div></div><div class="refsection" id="idm22606"><h2>Veja também</h2><p><a class="xref" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a>, <a class="xref" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a>, <a class="xref" href="#CG_Tesselate" title="CG_Tesselate">CG_Tesselate</a>, <a class="xref" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>, <a class="xref" href="#ST_Dump" title="ST_Dump">ST_Dump</a> </p></div></div><div class="refentry" id="ST_Extrude"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Extrude — Extrude uma superfície a um volume relacionado</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Extrude</strong>(</code>geometry <var class="pdparam">geom</var>, float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">z</var><code>)</code>;</p></div></div><div class="refsection" id="idm22635"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_Extrude" title="ST_Extrude">ST_Extrude</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_Extrude" title="CG_Extrude">CG_Extrude</a> instead. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div></div><div class="refentry" id="CG_Extrude"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Extrude — Extrude uma superfície a um volume relacionado</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_Extrude</strong>(</code>geometry <var class="pdparam">geom</var>, float <var class="pdparam">x</var>, float <var class="pdparam">y</var>, float <var class="pdparam">z</var><code>)</code>;</p></div></div><div class="refsection" id="idm22679"><h2>Descrição</h2><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm22698"><h2>Exemplos</h2><p>As imagens 3D foram criadas usando o PostGIS xref linkend="ST_AsX3D"/&gt; e interpretadas no HTML usando: <a class="link" href="http://www.x3dom.org" target="_top">X3Dom HTML Javascript rendering library</a>.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><p>
                                    </p><pre class="programlisting">SELECT ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                                    50, 'quad_segs=2'),0,0,30);</pre><p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_extrude01.png"/><div class="caption"><p>Octágono original formado a partir do ponto buffering </p></div></div></div>
                        </td><td style="border-bottom: 1px solid ; "><p>
                                </p><pre class="programlisting">CG_Extrude(ST_Buffer(ST_GeomFromText('POINT(100 90)'),
                                50, 'quad_segs=2'),0,0,30);</pre><p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_extrude02.png"/><div class="caption"><p>30 unidades expelidas do hexágono com Z produz uma PolyhedralSurfaceZ</p></div></div></div>
                    </td></tr><tr><td style="border-right: 1px solid ; "><p>
                            </p><pre class="programlisting">SELECT ST_GeomFromText('LINESTRING(50 50, 100 90, 95 150)')</pre><p>
                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_extrude03.png"/><div class="caption"><p>Linestring original</p></div></div></div>
                    </td><td><p>
                            </p><pre class="programlisting">SELECT CG_Extrude(
                            ST_GeomFromText('LINESTRING(50 50, 100 90, 95 150)'),0,0,10));</pre><p>
                        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_extrude04.png"/><div class="caption"><p>Linestring expelida com Z produz uma PolyhedralSurfaceZ</p></div></div></div>
                </td></tr></tbody></table></div></div><div class="refsection" id="idm22743"><h2>Veja também</h2><p><a class="xref" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a>, <a class="xref" href="#CG_ExtrudeStraightSkeleton" title="CG_ExtrudeStraightSkeleton">CG_ExtrudeStraightSkeleton</a></p></div></div><div class="refentry" id="CG_ExtrudeStraightSkeleton"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_ExtrudeStraightSkeleton — Straight Skeleton Extrusion</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_ExtrudeStraightSkeleton</strong>(</code>geometry <var class="pdparam">geom</var>, float  <var class="pdparam">roof_height</var>, float  <var class="pdparam">body_height = 0</var><code>)</code>;</p></div></div><div class="refsection" id="idm22766"><h2>Descrição</h2><p>Computes an extrusion with a maximal height of the polygon geometry. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Perhaps the first (historically) use-case of straight skeletons: given a polygonal roof, the straight skeleton directly gives the layout of each tent. If each skeleton edge is lifted from the plane a height equal to its offset distance, the resulting roof is "correct" in that water will always fall down to the contour edges (the roof's border), regardless of where it falls on the roof. The function computes this extrusion aka "roof" on a polygon. If the argument body_height 
&gt; 0, so the polygon is extruded like with CG_Extrude(polygon, 0, 0, body_height). The result is an union of these polyhedralsurfaces. </p></td></tr></table></div><p class="availability">Availability: 3.5.0 - requires SFCGAL &gt;= 1.5.0.</p><p class="sfcgal_requirement">Requires SFCGAL &gt;= 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div><div class="refsection" id="idm22777"><h2>Exemplos</h2><p>
                </p><pre class="programlisting">SELECT ST_AsText(CG_ExtrudeStraightSkeleton('POLYGON (( 0 0, 5 0, 5 5, 4 5, 4 4, 0 4, 0 0 ), (1 1, 1 2,2 2, 2 1, 1 1))', 3.0, 2.0));</pre><p>
                </p><pre class="screen">POLYHEDRALSURFACE Z (((0 0 0,0 4 0,4 4 0,4 5 0,5 5 0,5 0 0,0 0 0),(1 1 0,2 1 0,2 2 0,1 2 0,1 1 0)),((0 0 0,0 0 2,0 4 2,0 4 0,0 0 0)),((0 4 0,0 4 2,4 4 2,4 4 0,0 4 0)),((4 4 0,4 4 2,4 5 2,4 5 0,4 4 0)),((4 5 0,4 5 2,5 5 2,5 5 0,4 5 0)),((5 5 0,5 5 2,5 0 2,5 0 0,5 5 0)),((5 0 0,5 0 2,0 0 2,0 0 0,5 0 0)),((1 1 0,1 1 2,2 1 2,2 1 0,1 1 0)),((2 1 0,2 1 2,2 2 2,2 2 0,2 1 0)),((2 2 0,2 2 2,1 2 2,1 2 0,2 2 0)),((1 2 0,1 2 2,1 1 2,1 1 0,1 2 0)),((4 5 2,5 5 2,4 4 2,4 5 2)),((2 1 2,5 0 2,0 0 2,2 1 2)),((5 5 2,5 0 2,4 4 2,5 5 2)),((2 1 2,0 0 2,1 1 2,2 1 2)),((1 2 2,1 1 2,0 0 2,1 2 2)),((0 4 2,2 2 2,1 2 2,0 4 2)),((0 4 2,1 2 2,0 0 2,0 4 2)),((4 4 2,5 0 2,2 2 2,4 4 2)),((4 4 2,2 2 2,0 4 2,4 4 2)),((2 2 2,5 0 2,2 1 2,2 2 2)),((0.5 2.5 2.5,0 0 2,0.5 0.5 2.5,0.5 2.5 2.5)),((1 3 3,0 4 2,0.5 2.5 2.5,1 3 3)),((0.5 2.5 2.5,0 4 2,0 0 2,0.5 2.5 2.5)),((2.5 0.5 2.5,5 0 2,3.5 1.5 3.5,2.5 0.5 2.5)),((0 0 2,5 0 2,2.5 0.5 2.5,0 0 2)),((0.5 0.5 2.5,0 0 2,2.5 0.5 2.5,0.5 0.5 2.5)),((4.5 3.5 2.5,5 5 2,4.5 4.5 2.5,4.5 3.5 2.5)),((3.5 2.5 3.5,3.5 1.5 3.5,4.5 3.5 2.5,3.5 2.5 3.5)),((4.5 3.5 2.5,5 0 2,5 5 2,4.5 3.5 2.5)),((3.5 1.5 3.5,5 0 2,4.5 3.5 2.5,3.5 1.5 3.5)),((5 5 2,4 5 2,4.5 4.5 2.5,5 5 2)),((4.5 4.5 2.5,4 4 2,4.5 3.5 2.5,4.5 4.5 2.5)),((4.5 4.5 2.5,4 5 2,4 4 2,4.5 4.5 2.5)),((3 3 3,0 4 2,1 3 3,3 3 3)),((3.5 2.5 3.5,4.5 3.5 2.5,3 3 3,3.5 2.5 3.5)),((3 3 3,4 4 2,0 4 2,3 3 3)),((4.5 3.5 2.5,4 4 2,3 3 3,4.5 3.5 2.5)),((2 1 2,1 1 2,0.5 0.5 2.5,2 1 2)),((2.5 0.5 2.5,2 1 2,0.5 0.5 2.5,2.5 0.5 2.5)),((1 1 2,1 2 2,0.5 2.5 2.5,1 1 2)),((0.5 0.5 2.5,1 1 2,0.5 2.5 2.5,0.5 0.5 2.5)),((1 3 3,2 2 2,3 3 3,1 3 3)),((0.5 2.5 2.5,1 2 2,1 3 3,0.5 2.5 2.5)),((1 3 3,1 2 2,2 2 2,1 3 3)),((2 2 2,2 1 2,2.5 0.5 2.5,2 2 2)),((3.5 2.5 3.5,3 3 3,3.5 1.5 3.5,3.5 2.5 3.5)),((3.5 1.5 3.5,2 2 2,2.5 0.5 2.5,3.5 1.5 3.5)),((3 3 3,2 2 2,3.5 1.5 3.5,3 3 3)))</pre><p>
            </p></div><div class="refsection" id="idm22782"><h2>Veja também</h2><p><a class="xref" href="#ST_Extrude" title="ST_Extrude">ST_Extrude</a>, <a class="xref" href="#CG_StraightSkeleton" title="CG_StraightSkeleton">CG_StraightSkeleton</a></p></div></div><div class="refentry" id="CG_GreeneApproxConvexPartition"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_GreeneApproxConvexPartition — Computes approximal convex partition of the polygon geometry</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_GreeneApproxConvexPartition</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm22799"><h2>Descrição</h2><p>Computes approximal monotone convex partition of the polygon geometry. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A partition of a polygon P is a set of polygons such that the interiors of the polygons do not intersect and the union of the polygons is equal to the interior of the original polygon P. CG_ApproxConvexPartition and CG_GreeneApproxConvexPartition functions produce approximately optimal convex partitions. Both these functions produce convex decompositions by first decomposing the polygon into simpler polygons; CG_ApproxConvexPartition uses a triangulation and CG_GreeneApproxConvexPartition a monotone partition. These two functions both guarantee that they will produce no more than four times the optimal number of convex pieces but they differ in their runtime complexities. Though the triangulation-based approximation algorithm often results in fewer convex pieces, this is not always the case. </p></td></tr></table></div><p class="availability">Availability: 3.5.0 - requires SFCGAL &gt;= 1.5.0.</p><p class="sfcgal_requirement">Requires SFCGAL &gt;= 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div><div class="refsection" id="idm22810"><h2>Exemplos</h2><p>
            </p><div class="informalfigure"><div class="mediaobject"><img src="images/cg_greeneapproxconvexpartition01.png"/><div class="caption"><p>Greene Approximal Convex Partition (same example As <a class="xref" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a>, <a class="xref" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a> and <a class="xref" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a>)</p></div></div></div><p>
            </p><pre class="programlisting">SELECT ST_AsText(CG_GreeneApproxConvexPartition('POLYGON((156 150,83 181,89 131,148 120,107 61,32 159,0 45,41 86,45 1,177 2,67 24,109 31,170 60,180 110,156 150))'::geometry));</pre><p>
            </p><pre class="screen">GEOMETRYCOLLECTION(POLYGON((32 159,0 45,41 86,32 159)),POLYGON((45 1,177 2,67 24,45 1)),POLYGON((67 24,109 31,170 60,107 61,67 24)),POLYGON((41 86,45 1,67 24,41 86)),POLYGON((107 61,32 159,41 86,67 24,107 61)),POLYGON((148 120,107 61,170 60,148 120)),POLYGON((148 120,170 60,180 110,156 150,148 120)),POLYGON((156 150,83 181,89 131,148 120,156 150)))</pre><p>
        </p></div><div class="refsection" id="idm22824"><h2>Veja também</h2><p><a class="xref" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a>, <a class="xref" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a>, <a class="xref" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a></p></div></div><div class="refentry" id="ST_MinkowskiSum"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinkowskiSum — Representar soma Minkowski</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MinkowskiSum</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p></div></div><div class="refsection" id="idm22845"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_MinkowskiSum" title="ST_MinkowskiSum">ST_MinkowskiSum</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_MinkowskiSum" title="CG_MinkowskiSum">CG_MinkowskiSum</a> instead. </p></td></tr></table></div><p>Essa função representa uma soma minkowski 2D de um ponto, linha ou polígono com um polígono.</p><p>Uma soma minkowski de duas geometrias A e B é o conjunto de todos os pontos que estão somados a quaisquer pontos A e B. As somas minkowski são usadas em planos em movimento e design de ajuda de computadores. Maiores detalhes em <a class="link" href="https://en.wikipedia.org/wiki/Minkowski_addition" target="_top">Wikipedia Minkowski addition</a>.</p><p>O primeiro parâmetro pode ser  qualquer geometria 2D (ponto, linestring, polígono). Se uma geometria 3D é passada, ela será convertida para 2D forçando Z para 0, levando a possíveis casos de invalidade. O segundo parâmetro deve ser um polígono 2D. </p><p>Implementação utiliza <a class="link" href="http://doc.cgal.org/latest/Minkowski_sum_2/" target="_top">CGAL 2D Minkowskisum</a>.</p><p class="availability">Disponibilidade: 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div></div><div class="refentry" id="CG_MinkowskiSum"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_MinkowskiSum — Representar soma Minkowski</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_MinkowskiSum</strong>(</code>geometry <var class="pdparam">geom1</var>, geometry <var class="pdparam">geom2</var><code>)</code>;</p></div></div><div class="refsection" id="idm22877"><h2>Descrição</h2><p>Essa função representa uma soma minkowski 2D de um ponto, linha ou polígono com um polígono.</p><p>Uma soma minkowski de duas geometrias A e B é o conjunto de todos os pontos que estão somados a quaisquer pontos A e B. As somas minkowski são usadas em planos em movimento e design de ajuda de computadores. Maiores detalhes em <a class="link" href="https://en.wikipedia.org/wiki/Minkowski_addition" target="_top">Wikipedia Minkowski addition</a>.</p><p>O primeiro parâmetro pode ser  qualquer geometria 2D (ponto, linestring, polígono). Se uma geometria 3D é passada, ela será convertida para 2D forçando Z para 0, levando a possíveis casos de invalidade. O segundo parâmetro deve ser um polígono 2D. </p><p>Implementação utiliza <a class="link" href="http://doc.cgal.org/latest/Minkowski_sum_2/" target="_top">CGAL 2D Minkowskisum</a>.</p><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div><div class="refsection" id="idm22890"><h2>Exemplos</h2><p>Soma minkowski de linestring e polígono circular onde a linestring corta através do círculo</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                            <p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_minkowskisum01.png"/><div class="caption"><p>Antes da soma</p></div></div></div><p>
                            </p>
                        </td><td>
                            <p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_minkowskisum02.png"/><div class="caption"><p>Depois de somar</p></div></div></div><p>
                            </p>
                        </td></tr></tbody></table></div><pre class="programlisting">SELECT CG_MinkowskiSum(line, circle))
            FROM (SELECT
            ST_MakeLine(ST_Point(10, 10),ST_Point(100, 100)) As line,
            ST_Buffer(ST_GeomFromText('POINT(50 50)'), 30) As circle) As foo;

            -- wkt --
            MULTIPOLYGON(((30 59.9999999999999,30.5764415879031 54.1472903395161,32.2836140246614 48.5194970290472,35.0559116309237 43.3328930094119,38.7867965644036 38.7867965644035,43.332893009412 35.0559116309236,48.5194970290474 32.2836140246614,54.1472903395162 30.5764415879031,60.0000000000001 30,65.8527096604839 30.5764415879031,71.4805029709527 32.2836140246614,76.6671069905881 35.0559116309237,81.2132034355964 38.7867965644036,171.213203435596 128.786796564404,174.944088369076 133.332893009412,177.716385975339 138.519497029047,179.423558412097 144.147290339516,180 150,179.423558412097 155.852709660484,177.716385975339 161.480502970953,174.944088369076 166.667106990588,171.213203435596 171.213203435596,166.667106990588 174.944088369076,
            161.480502970953 177.716385975339,155.852709660484 179.423558412097,150 180,144.147290339516 179.423558412097,138.519497029047 177.716385975339,133.332893009412 174.944088369076,128.786796564403 171.213203435596,38.7867965644035 81.2132034355963,35.0559116309236 76.667106990588,32.2836140246614 71.4805029709526,30.5764415879031 65.8527096604838,30 59.9999999999999)))
        </pre><p>Soma minkowski de um polígono e multiponto</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                            <p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_minkowskisum03.png"/><div class="caption"><p>Antes da soma</p></div></div></div><p>
                            </p>
                        </td><td>
                            <p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_minkowskisum04.png"/><div class="caption"><p>Depois de somar: polígono é duplicado e transladado para posições de pontos</p></div></div></div><p>
                            </p>
                        </td></tr></tbody></table></div><pre class="programlisting">SELECT CG_MinkowskiSum(mp, poly)
        FROM (SELECT 'MULTIPOINT(25 50,70 25)'::geometry As mp,
        'POLYGON((130 150, 20 40, 50 60, 125 100, 130 150))'::geometry As poly
        ) As foo


        -- wkt --
        MULTIPOLYGON(
        ((70 115,100 135,175 175,225 225,70 115)),
        ((120 65,150 85,225 125,275 175,120 65))
        )
    </pre></div></div><div class="refentry" id="ST_OptimalAlphaShape"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_OptimalAlphaShape — Computes an Alpha-shape enclosing a geometry using an "optimal" alpha value.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_OptimalAlphaShape</strong>(</code>geometry <var class="pdparam">geom</var>, boolean  <var class="pdparam">allow_holes = false</var>, integer  <var class="pdparam">nb_components = 1</var><code>)</code>;</p></div></div><div class="refsection" id="idm22954"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_OptimalAlphaShape" title="ST_OptimalAlphaShape">ST_OptimalAlphaShape</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_OptimalAlphaShape" title="CG_OptimalAlphaShape">CG_OptimalAlphaShape</a> instead. </p></td></tr></table></div><p>Computes the "optimal" alpha-shape of the points in a geometry. The alpha-shape is computed using a value of α chosen so that: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>the number of polygon elements is equal to or smaller than <code class="varname">nb_components</code> (which defaults to 1)</p></li><li class="listitem"><p>all input points are contained in the shape</p></li></ol></div><p>The result will not contain holes unless the optional <code class="varname">allow_holes</code> argument is specified as true. </p><p class="availability">Availability: 3.3.0 - requires SFCGAL &gt;= 1.4.1.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div></div><div class="refentry" id="CG_OptimalAlphaShape"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_OptimalAlphaShape — Computes an Alpha-shape enclosing a geometry using an "optimal" alpha value.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_OptimalAlphaShape</strong>(</code>geometry <var class="pdparam">geom</var>, boolean  <var class="pdparam">allow_holes = false</var>, integer  <var class="pdparam">nb_components = 1</var><code>)</code>;</p></div></div><div class="refsection" id="idm22992"><h2>Descrição</h2><p>Computes the "optimal" alpha-shape of the points in a geometry. The alpha-shape is computed using a value of α chosen so that: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>the number of polygon elements is equal to or smaller than <code class="varname">nb_components</code> (which defaults to 1)</p></li><li class="listitem"><p>all input points are contained in the shape</p></li></ol></div><p>The result will not contain holes unless the optional <code class="varname">allow_holes</code> argument is specified as true. </p><p class="availability">Availability: 3.5.0 - requires SFCGAL &gt;= 1.4.1.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div><div class="refsection" id="idm23008"><h2>Exemplos</h2><p>
                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_optimalalphashape01.png"/><div class="caption"><p>Optimal alpha-shape of a MultiPoint (same example as <a class="xref" href="#CG_AlphaShape" title="CG_AlphaShape">CG_AlphaShape</a>)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(CG_OptimalAlphaShape('MULTIPOINT((63 84),(76 88),(68 73),(53 18),(91 50),(81 70),
                (88 29),(24 82),(32 51),(37 23),(27 54),(84 19),(75 87),(44 42),(77 67),(90 30),(36 61),(32 65),
                (81 47),(88 58),(68 73),(49 95),(81 60),(87 50),
                (78 16),(79 21),(30 22),(78 43),(26 85),(48 34),(35 35),(36 40),(31 79),(83 29),(27 84),(52 98),(72 95),(85 71),
                (75 84),(75 77),(81 29),(77 73),(41 42),(83 72),(23 36),(89 53),(27 57),(57 97),(27 77),(39 88),(60 81),
                (80 72),(54 32),(55 26),(62 22),(70 20),(76 27),(84 35),(87 42),(82 54),(83 64),(69 86),(60 90),(50 86),(43 80),(36 73),
                (36 68),(40 75),(24 67),(23 60),(26 44),(28 33),(40 32),(43 19),(65 16),(73 16),(38 46),(31 59),(34 86),(45 90),(64 97))'::geometry));</pre><p>
            </p><pre class="screen">POLYGON((89 53,91 50,87 42,90 30,88 29,84 19,78 16,73 16,65 16,53 18,43 19,37 23,30 22,28 33,23 36,
            26 44,27 54,23 60,24 67,27 77,24 82,26 85,34 86,39 88,45 90,49 95,52 98,57 97,64 97,72 95,76 88,75 84,75 77,83 72,85 71,83 64,88 58,89 53))</pre><p>
    </p><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_optimalalphashape02.png"/><div class="caption"><p>Optimal alpha-shape of a MultiPoint, allowing holes (same example as <a class="xref" href="#CG_AlphaShape" title="CG_AlphaShape">CG_AlphaShape</a>)</p></div></div></div><p>
        </p><pre class="programlisting">SELECT ST_AsText(CG_OptimalAlphaShape('MULTIPOINT((63 84),(76 88),(68 73),(53 18),(91 50),(81 70),(88 29),(24 82),(32 51),(37 23),(27 54),(84 19),(75 87),(44 42),(77 67),(90 30),(36 61),(32 65),(81 47),(88 58),(68 73),(49 95),(81 60),(87 50),
        (78 16),(79 21),(30 22),(78 43),(26 85),(48 34),(35 35),(36 40),(31 79),(83 29),(27 84),(52 98),(72 95),(85 71),
        (75 84),(75 77),(81 29),(77 73),(41 42),(83 72),(23 36),(89 53),(27 57),(57 97),(27 77),(39 88),(60 81),
        (80 72),(54 32),(55 26),(62 22),(70 20),(76 27),(84 35),(87 42),(82 54),(83 64),(69 86),(60 90),(50 86),(43 80),(36 73),
        (36 68),(40 75),(24 67),(23 60),(26 44),(28 33),(40 32),(43 19),(65 16),(73 16),(38 46),(31 59),(34 86),(45 90),(64 97))'::geometry, allow_holes =&gt; true));</pre><p>
    </p><pre class="screen">POLYGON((89 53,91 50,87 42,90 30,88 29,84 19,78 16,73 16,65 16,53 18,43 19,37 23,30 22,28 33,23 36,26 44,27 54,23 60,24 67,27 77,24 82,26 85,34 86,39 88,45 90,49 95,52 98,57 97,64 97,72 95,76 88,75 84,75 77,83 72,85 71,83 64,88 58,89 53),(36 61,36 68,40 75,43 80,50 86,60 81,68 73,77 67,81 60,82 54,81 47,78 43,81 29,76 27,70 20,62 22,55 26,54 32,48 34,44 42,38 46,36 61))</pre><p>
</p></div><div class="refsection" id="idm23030"><h2>Veja também</h2><p><a class="xref" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>, <a class="xref" href="#CG_AlphaShape" title="CG_AlphaShape">CG_AlphaShape</a></p></div></div><div class="refentry" id="CG_OptimalConvexPartition"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_OptimalConvexPartition — Computes an optimal convex partition of the polygon geometry</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_OptimalConvexPartition</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm23047"><h2>Descrição</h2><p>Computes an optimal convex partition of the polygon geometry. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A partition of a polygon P is a set of polygons such that the interiors of the polygons do not intersect and the union of the polygons is equal to the interior of the original polygon P. CG_OptimalConvexPartition produces a partition that is optimal in the number of pieces. </p></td></tr></table></div><p class="availability">Availability: 3.5.0 - requires SFCGAL &gt;= 1.5.0.</p><p class="sfcgal_requirement">Requires SFCGAL &gt;= 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div><div class="refsection" id="idm23058"><h2>Exemplos</h2><p>
                </p><div class="informalfigure"><div class="mediaobject"><img src="images/cg_optimalconvexpartition01.png"/><div class="caption"><p>Optimal Convex Partition (same example As <a class="xref" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a>, <a class="xref" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a> and <a class="xref" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a>)</p></div></div></div><p>
                </p><pre class="programlisting">SELECT ST_AsText(CG_OptimalConvexPartition('POLYGON((156 150,83 181,89 131,148 120,107 61,32 159,0 45,41 86,45 1,177 2,67 24,109 31,170 60,180 110,156 150))'::geometry));</pre><p>
                </p><pre class="screen">GEOMETRYCOLLECTION(POLYGON((156 150,83 181,89 131,148 120,156 150)),POLYGON((32 159,0 45,41 86,32 159)),POLYGON((45 1,177 2,67 24,45 1)),POLYGON((41 86,45 1,67 24,41 86)),POLYGON((107 61,32 159,41 86,67 24,109 31,107 61)),POLYGON((148 120,107 61,109 31,170 60,180 110,148 120)),POLYGON((156 150,148 120,180 110,156 150)))</pre><p>
            </p></div><div class="refsection" id="idm23072"><h2>Veja também</h2><p><a class="xref" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a>, <a class="xref" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a>, <a class="xref" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a></p></div></div><div class="refentry" id="CG_StraightSkeleton"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_StraightSkeleton — Calcule um esqueleto em linha reta de uma geometria</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_StraightSkeleton</strong>(</code>geometry <var class="pdparam">geom</var>, boolean  <var class="pdparam">use_distance_as_m = false</var><code>)</code>;</p></div></div><div class="refsection" id="idm23093"><h2>Descrição</h2><p class="availability">Availability: 3.5.0</p><p class="sfcgal_requirement">Requires SFCGAL &gt;= 1.3.8 for option use_distance_as_m</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm23113"><h2>Exemplos</h2><pre class="programlisting">SELECT CG_StraightSkeleton(ST_GeomFromText('POLYGON (( 190 190, 10 190, 10 10, 190 10, 190 20, 160 30, 60 30, 60 130, 190 140, 190 190 ))'));</pre><pre class="programlisting">ST_AsText(CG_StraightSkeleton('POLYGON((0 0,1 0,1 1,0 1,0 0))', true);</pre><pre class="screen">MULTILINESTRING M ((0 0 0,0.5 0.5 0.5),(1 0 0,0.5 0.5 0.5),(1 1 0,0.5 0.5 0.5),(0 1 0,0.5 0.5 0.5))</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_straightskeleton01.png"/><div class="caption"><p>Polígono original</p></div></div></div>
                            </td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_straightskeleton02.png"/><div class="caption"><p>Esqueleto reto de polígono</p></div></div></div>
                            </td></tr></tbody></table></div></div><div class="refsection" id="idm23138"><h2>Veja também</h2><p><a class="xref" href="#CG_ExtrudeStraightSkeleton" title="CG_ExtrudeStraightSkeleton">CG_ExtrudeStraightSkeleton</a></p></div></div><div class="refentry" id="ST_StraightSkeleton"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_StraightSkeleton — Calcule um esqueleto em linha reta de uma geometria</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_StraightSkeleton</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm23154"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_StraightSkeleton" title="ST_StraightSkeleton">ST_StraightSkeleton</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_StraightSkeleton" title="CG_StraightSkeleton">CG_StraightSkeleton</a> instead. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm23177"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_StraightSkeleton(ST_GeomFromText('POLYGON (( 190 190, 10 190, 10 10, 190 10, 190 20, 160 30, 60 30, 60 130, 190 140, 190 190 ))'));</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_straightskeleton01.png"/><div class="caption"><p>Polígono original</p></div></div></div>
                            </td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_straightskeleton02.png"/><div class="caption"><p>Esqueleto reto de polígono</p></div></div></div>
                            </td></tr></tbody></table></div></div><div class="refsection" id="idm23200"><h2>Veja também</h2><p><a class="xref" href="#CG_ExtrudeStraightSkeleton" title="CG_ExtrudeStraightSkeleton">CG_ExtrudeStraightSkeleton</a></p></div></div><div class="refentry" id="ST_Tesselate"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Tesselate — Representa superfície tesselação de um polígono ou superfície poliédrica e retorna como uma TIN ou coleção de TINS</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Tesselate</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm23216"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_Tesselate" title="ST_Tesselate">ST_Tesselate</a> is deprecated as of 3.5.0. Use <a class="xref" href="#CG_Tesselate" title="CG_Tesselate">CG_Tesselate</a> instead. </p></td></tr></table></div><p>Usa como entrada uma superfície como um MULTI(POLÍGONO) ou SUPERFÍCIEPOLIÉDRICA e retorna uma representação TIN via o processo de tesselação usando triângulos.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a> does similar to this function except that it returns a geometry collection of polygons instead of a TIN and also only works with 2D geometries.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div></div><div class="refentry" id="CG_Tesselate"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Tesselate — Representa superfície tesselação de um polígono ou superfície poliédrica e retorna como uma TIN ou coleção de TINS</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_Tesselate</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm23255"><h2>Descrição</h2><p>Usa como entrada uma superfície como um MULTI(POLÍGONO) ou SUPERFÍCIEPOLIÉDRICA e retorna uma representação TIN via o processo de tesselação usando triângulos.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a> does similar to this function except that it returns a geometry collection of polygons instead of a TIN and also only works with 2D geometries.</p></td></tr></table></div><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm23278"><h2>Exemplos</h2><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><p>
                                    </p><pre class="programlisting">SELECT ST_GeomFromText('POLYHEDRALSURFACE Z( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                                    ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                                    ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                                    ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )');</pre><p>
                                </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_tesselate01.png"/><div class="caption"><p>Cubo original</p></div></div></div>
                        </td><td style="border-bottom: 1px solid ; "><p>
                                </p><pre class="programlisting">SELECT CG_Tesselate(ST_GeomFromText('POLYHEDRALSURFACE Z( ((0 0 0, 0 0 1, 0 1 1, 0 1 0, 0 0 0)),
                                ((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)),
                                ((1 1 0, 1 1 1, 1 0 1, 1 0 0, 1 1 0)),
                                ((0 1 0, 0 1 1, 1 1 1, 1 1 0, 0 1 0)), ((0 0 1, 1 0 1, 1 1 1, 0 1 1, 0 0 1)) )'));</pre>
                        <p>ST_AsText output:</p>
                        <pre class="screen">TIN Z (((0 0 0,0 0 1,0 1 1,0 0 0)),((0 1 0,0 0 0,0 1 1,0 1 0)),
                        ((0 0 0,0 1 0,1 1 0,0 0 0)),
                        ((1 0 0,0 0 0,1 1 0,1 0 0)),((0 0 1,1 0 0,1 0 1,0 0 1)),
                        ((0 0 1,0 0 0,1 0 0,0 0 1)),
                        ((1 1 0,1 1 1,1 0 1,1 1 0)),((1 0 0,1 1 0,1 0 1,1 0 0)),
                        ((0 1 0,0 1 1,1 1 1,0 1 0)),((1 1 0,0 1 0,1 1 1,1 1 0)),
                        ((0 1 1,1 0 1,1 1 1,0 1 1)),((0 1 1,0 0 1,1 0 1,0 1 1)))</pre>
                    <p> </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_tesselate02.png"/><div class="caption"><p>Cubo tesselado com triângulos coloridos </p></div></div></div>
                </td></tr><tr><td style="border-right: 1px solid ; "><p>
                        </p><pre class="programlisting">SELECT 'POLYGON (( 10 190, 10 70, 80 70, 80 130, 50 160, 120 160, 120 190, 10 190 ))'::geometry;</pre><p>
                        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_tesselate03.png"/><div class="caption"><p>Polígono original</p></div></div></div>
                </td><td><p>
                        </p><pre class="programlisting">SELECT
                        CG_Tesselate('POLYGON (( 10 190, 10 70, 80 70, 80 130, 50 160, 120 160, 120 190, 10 190 ))'::geometry);</pre><p>
                </p>
                <p>ST_AsText output</p>
                <pre class="screen">TIN(((80 130,50 160,80 70,80 130)),((50 160,10 190,10 70,50 160)),
                ((80 70,50 160,10 70,80 70)),((120 160,120 190,50 160,120 160)),
                ((120 190,10 190,50 160,120 190)))</pre>
            <div class="informalfigure"><div class="mediaobject"><img src="images/st_tesselate04.png"/><div class="caption"><p>Polígono tesselado </p></div></div></div>
        </td></tr></tbody></table></div></div><div class="refsection" id="idm23327"><h2>Veja também</h2><p><a class="xref" href="#CG_ConstrainedDelaunayTriangles" title="CG_ConstrainedDelaunayTriangles">CG_ConstrainedDelaunayTriangles</a>, <a class="xref" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a>, <a class="xref" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a></p></div></div><div class="refentry" id="CG_Triangulate"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Triangulate — Triangulates a polygonal geometry</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_Triangulate</strong>(</code> geometry <var class="pdparam">geom</var> <code>)</code>;</p></div></div><div class="refsection" id="idm23345"><h2>Descrição</h2><p>Triangulates a polygonal geometry.</p><p>Performed by the SFCGAL module</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>NOTE: this function returns a geometry representing the triangulated result.</p></td></tr></table></div><p class="availability">Availability: 3.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div><div class="refsection" id="idm23356"><h2>Exemplos de Geometria</h2><pre class="programlisting">SELECT CG_Triangulate('POLYGON((0.0 0.0,1.0 0.0,1.0 1.0,0.0 1.0,0.0 0.0),(0.2 0.2,0.2 0.8,0.8 0.8,0.8 0.2,0.2 0.2))');
                cg_triangulate
                ----------------
                TIN(((0.8 0.2,0.2 0.2,1 0,0.8 0.2)),((0.2 0.2,0 0,1 0,0.2 0.2)),((1 1,0.8 0.8,0.8 0.2,1 1)),((0 1,0 0,0.2 0.2,0 1)),((0 1,0.2 0.8,1 1,0 1)),((0 1,0.2 0.2,0.2 0.8,0 1)),((0.2 0.8,0.8 0.8,1 1,0.2 0.8)),((0.2 0.8,0.2 0.2,0.8 0.2,0.2 0.8)),((1 1,0.8 0.2,1 0,1 1)),((0.8 0.8,0.2 0.8,0.8 0.2,0.8 0.8)))

                (1 row)</pre></div><div class="refsection" id="idm23359"><h2>Veja também</h2><p><a class="xref" href="#CG_ConstrainedDelaunayTriangles" title="CG_ConstrainedDelaunayTriangles">CG_ConstrainedDelaunayTriangles</a>, <a class="xref" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a>, <a class="xref" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a></p></div></div><div class="refentry" id="CG_Visibility"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_Visibility — Compute a visibility polygon from a point or a segment in a polygon geometry</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_Visibility</strong>(</code>geometry <var class="pdparam">polygon</var>, geometry <var class="pdparam">point</var><code>)</code>;</p><p><code class="funcdef">geometry <strong class="fsfunc">CG_Visibility</strong>(</code>geometry <var class="pdparam">polygon</var>, geometry <var class="pdparam">pointA</var>, geometry <var class="pdparam">pointB</var><code>)</code>;</p></div></div><div class="refsection" id="idm23392"><h2>Descrição</h2><p class="availability">Availability: 3.5.0 - requires SFCGAL &gt;= 1.5.0.</p><p class="sfcgal_requirement">Requires SFCGAL &gt;= 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Polyhedral surfaces. </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports Triangles and Triangulated Irregular Network Surfaces (TIN). </p></div><div class="refsection" id="idm23412"><h2>Exemplos</h2><pre class="programlisting">SELECT CG_Visibility('POLYGON((23.5 23.5,23.5 173.5,173.5 173.5,173.5 23.5,23.5 23.5),(108 98,108 36,156 37,155 99,108 98),(107 157.5,107 106.5,135 107.5,133 127.5,143.5 127.5,143.5 108.5,153.5 109.5,151.5 166,107 157.5),(41 95.5,41 35,100.5 36,98.5 68,78.5 68,77.5 96.5,41 95.5),(39 150,40 104,97.5 106.5,95.5 152,39 150))'::geometry, 'POINT(91 87)'::geometry);</pre><pre class="programlisting">SELECT CG_Visibility('POLYGON((23.5 23.5,23.5 173.5,173.5 173.5,173.5 23.5,23.5 23.5),(108 98,108 36,156 37,155 99,108 98),(107 157.5,107 106.5,135 107.5,133 127.5,143.5 127.5,143.5 108.5,153.5 109.5,151.5 166,107 157.5),(41 95.5,41 35,100.5 36,98.5 68,78.5 68,77.5 96.5,41 95.5),(39 150,40 104,97.5 106.5,95.5 152,39 150))'::geometry,'POINT(78.5 68)'::geometry, 'POINT(98.5 68)'::geometry);</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/cg_visibility01.png"/><div class="caption"><p>Polígono original</p></div></div></div>
                            </td><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/cg_visibility02.png"/><div class="caption"><p>Visibility from the point</p></div></div></div>
                            </td><td><div class="informalfigure"><div class="mediaobject"><img src="images/cg_visibility03.png"/><div class="caption"><p>Visibility from the segment</p></div></div></div>
                            </td></tr></tbody></table></div></div></div><div class="refentry" id="CG_YMonotonePartition"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CG_YMonotonePartition — Computes y-monotone partition of the polygon geometry</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">CG_YMonotonePartition</strong>(</code>geometry <var class="pdparam">geom</var><code>)</code>;</p></div></div><div class="refsection" id="idm23456"><h2>Descrição</h2><p>Computes y-monotone partition of the polygon geometry. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A partition of a polygon P is a set of polygons such that the interiors of the polygons do not intersect and the union of the polygons is equal to the interior of the original polygon P. A y-monotone polygon is a polygon whose vertices v1,…,vn can be divided into two chains v1,…,vk and vk,…,vn,v1, such that any horizontal line intersects either chain at most once. This algorithm does not guarantee a bound on the number of polygons produced with respect to the optimal number. </p></td></tr></table></div><p class="availability">Availability: 3.5.0 - requires SFCGAL &gt;= 1.5.0.</p><p class="sfcgal_requirement">Requires SFCGAL &gt;= 1.5.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs SFCGAL backend. </p></div><div class="refsection" id="idm23467"><h2>Exemplos</h2><p>
            </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/cg_ymonotonepartition01.png"/><div class="caption"><p>Polígono original</p></div></div></div>
                            </td><td><div class="informalfigure"><div class="mediaobject"><img src="images/cg_ymonotonepartition02.png"/><div class="caption"><p>Y-Monotone Partition (same example As <a class="xref" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a>, <a class="xref" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a> and <a class="xref" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a>)</p></div></div></div>
                            </td></tr></tbody></table></div><p>
            </p><pre class="programlisting">SELECT ST_AsText(CG_YMonotonePartition('POLYGON((156 150,83 181,89 131,148 120,107 61,32 159,0 45,41 86,45 1,177 2,67 24,109 31,170 60,180 110,156 150))'::geometry));</pre><p>
            </p><pre class="screen">GEOMETRYCOLLECTION(POLYGON((32 159,0 45,41 86,32 159)),POLYGON((107 61,32 159,41 86,45 1,177 2,67 24,109 31,170 60,107 61)),POLYGON((156 150,83 181,89 131,148 120,107 61,170 60,180 110,156 150)))</pre><p>
        </p></div><div class="refsection" id="idm23495"><h2>Veja também</h2><p><a class="xref" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a>, <a class="xref" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a>, <a class="xref" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a></p></div></div></section></section><section class="chapter" id="Topology"><div class="titlepage"><div><div><h1 class="title">Chapter 9. Topologia</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#Topology_Types">9.1. Tipos de topologia</a></span></li><li><span class="section"><a href="#Topology_Domains">9.2. Domínios de Topologia</a></span></li><li><span class="section"><a href="#Topology_ManagementFunctions">9.3. Gerenciamento de Topologia e TopoGeometria</a></span></li><li><span class="section"><a href="#Topology_StatsManagement">9.4. Topology Statistics Management</a></span></li><li><span class="section"><a href="#Topology_Constructors">9.5. Construtores de topologia</a></span></li><li><span class="section"><a href="#Topology_Editing">9.6. Editores de Topologia</a></span></li><li><span class="section"><a href="#Topology_Accessors">9.7. Assessores de Topologia</a></span></li><li><span class="section"><a href="#Topology_Processing">9.8. Processamento de Topologia</a></span></li><li><span class="section"><a href="#TopoGeometry_Constructors">9.9. Construtores de TopoGeometria</a></span></li><li><span class="section"><a href="#TopoGeometry_Editors">9.10. Editores de TopoGeometria</a></span></li><li><span class="section"><a href="#TopoGeom_Accessors">9.11. Assessores de TopoGeometria</a></span></li><li><span class="section"><a href="#TopoGeometry_Outputs">9.12. TopoGeometry Outputs</a></span></li><li><span class="section"><a href="#Topology_Relationships">9.13. Relações de Topologia Espacial</a></span></li><li><span class="section"><a href="#Topology_Import_Export">9.14. Importing and exporting Topologies</a></span></li></ul></div><p>Os tipos e as funções de topologia do PostGIS são usados para administrar objetos como: faces, bordas e nodos. </p><p>Sandro Santilli's presentation at PostGIS Day Paris 2011 conference gives a good synopsis of PostGIS Topology and where it is headed <a class="link" href="http://strk.kbt.io/projects/postgis/Paris2011_TopologyWithPostGIS_2_0.pdf" target="_top">Topology with PostGIS 2.0 slide deck</a>.</p><p>Vincent Picavet provides a good synopsis and overview of what is Topology, how is it used, and various FOSS4G tools that support it in <a class="link" href="https://gitlab.com/Oslandia/documentation/presentations/-/blob/master/2012/pgconf_eu_2012/pgconfeu2012_vincent_picavet_postgis_topology.pdf" target="_top">PostGIS Topology PGConf EU 2012</a>. </p><p>Um exemplo de um banco de dados GIS baseado topologicamente é o banco de dados <a class="link" href="https://www.census.gov/geo/maps-data/data/tiger.html" target="_top">US Census Topologically Integrated Geographic Encoding and Referencing System (TIGER)</a>. Se você quiser experimentar com a topologia POstGIS e precisa de alguns dados, confira <a class="xref" href="#Topology_Load_Tiger" title="Topology_Load_Tiger">Topology_Load_Tiger</a>.</p><p>O módulo PostGIS Topologia existiu em versões anteriores, mas nunca foi parte da documentação Oficial do PostGIS. A maior limpeza PostGIS 2.0.0, vai remover todas as funções menores, consertar problemas de usabilidade, vai documentar melhor as características e funções e melhorar a conformidade com os padrões SQL-MM.</p><p>Detalhes deste projeto podem ser encontrados em <a class="link" href="http://trac.osgeo.org/postgis/wiki/UsersWikiPostgisTopology" target="_top">PostGIS Topology Wiki</a></p><p>Todas as funções e tables associadas com este módulo estão instaladas em um esquema nomeado <code class="varname">topology</code>.</p><p>Funções que são definidas no padrão SQL/MM estão prefixadas com ST_ e funções específicas para o POstGIS não estão prefixadas.</p><p>Topology support is build by default starting with PostGIS 2.0, and can be disabled specifying --without-topology configure option at build time as described in <a class="xref" href="#postgis_installation" title="Chapter 2. Instalação do PostGIS">Chapter 2, <em>Instalação do PostGIS</em></a></p><section class="section" id="Topology_Types"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.1. Tipos de topologia</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Essa seção lista os tipos de dados PostgreSQL instalados pela topologia PostGIS. Note que descrevemos o comportamento de distribuição de papeis desses, que são bastante importantes quando desenvolvem suas próprias funções. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#getfaceedges_returntype">getfaceedges_returntype</a></span><span class="refpurpose"> — A composite type that consists of a sequence number and an edge number. </span></li><li><span class="refentrytitle"><a href="#topogeometry">TopoGeometry</a></span><span class="refpurpose"> — A composite type representing a topologically defined geometry.</span></li><li><span class="refentrytitle"><a href="#validatetopology_returntype">validatetopology_returntype</a></span><span class="refpurpose"> — A composite type that consists of an error message and id1 and id2 to denote location of error. This is the return type for <code class="varname">ValidateTopology</code>.</span></li></ul></div><div class="refentry" id="getfaceedges_returntype"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>getfaceedges_returntype — A composite type that consists of a sequence number and an edge number. </p></div><div class="refsection" id="idm23528"><h2>Descrição</h2><p>A composite type that consists of a sequence number and an edge number. This is the return type for <code class="varname">ST_GetFaceEdges</code> and <code class="varname">GetNodeEdges</code> functions. </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">sequence</code> é um inteiro: Refere-se a uma topologia definida na table topology.topology que define o esquema e srid da topologia.</p></li><li class="listitem"><p><code class="varname">edge</code> é um inteiro: O identificador de um limite.</p></li></ol></div></div></div><div class="refentry" id="topogeometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeometry — A composite type representing a topologically defined geometry.</p></div><div class="refsection" id="idm23544"><h2>Descrição</h2><p>Um tipo composto que refere-se a uma geometria de topologia em uma camada específica da topologia, tendo um tipo e id específicos. Os elementos de uma TopoGeometry são as propriedades: topology_id, layer_id, inteireza id, inteireza do tipo.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">topology_id</code> é um inteiro: Refere-se a uma topologia definida na table topology.topology que define o esquema e srid da topologia.</p></li><li class="listitem"><p><code class="varname">layer_id</code> é um inteiro: A layer_id nas layers tables que a TopoGEometry pertence. A combinação de topology_id, layer_id fornece uma referência única na table topology.layers. </p></li><li class="listitem"><p><code class="varname">id</code> é um inteiro: a identidade é o número sequência autogerado que define a topogeometry  na respectiva camada da topologia.</p></li><li class="listitem"><p><code class="varname">type</code> inteiro entre 1 - 4 that define o tipo da geometria: 1:[multi]ponto, 2:[multi]linha, 3:[multi]poly, 4:coleção</p></li></ol></div></div><div class="refsection" id="idm23560"><h2>Comportamento Casting</h2><p>Esta seção lista os casts automáticos bem como os explícitos permitidos para esse tipo de dados </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Cast To</td><td style="border-bottom: 1px solid ; ">Comportamento</td></tr><tr><td style="border-right: 1px solid ; ">geometria</td><td>automático</td></tr></tbody></table></div></div><div class="refsection" id="idm23572"><h2>Veja também</h2><p><a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a></p></div></div><div class="refentry" id="validatetopology_returntype"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>validatetopology_returntype — A composite type that consists of an error message and id1 and id2 to denote location of error. This is the return type for <code class="varname">ValidateTopology</code>.</p></div><div class="refsection" id="idm23581"><h2>Descrição</h2><p>Um tipo composto que consiste em uma mensagem de erro e dois inteiros. A função <a class="xref" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a> retorna um conjunto para indicar erros de validação e a id1 e id2 para indicar as ids dos objetos da topologia envolvidas no erro. </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">error</code> é varchar: Indica tipo de erro. </p><p>A descrições de erro atuais são: nós coincidentes, limite cruza nó, limite não simples, geometria limite e nó que não combinam, limite começa e a geometria nó não combina, face sobrepõe face, face dentro de face, </p></li><li class="listitem"><p><code class="varname">id1</code> é um inteiro: Indica identificador de limite / face / nós no erro.</p></li><li class="listitem"><p><code class="varname">id2</code> é um inteiro: Para erros que envolvem limite / ou nó secundário</p></li></ol></div></div><div class="refsection" id="idm23596"><h2>Veja também</h2><p><a class="xref" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a></p></div></div></section><section class="section" id="Topology_Domains"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.2. Domínios de Topologia</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Esta seção lista os domínios do PostgreSQL instalados pela Topologia PostGIS. Os domínios podem ser usados como tipos objetos de funções ou table columns. A distinção entre um domínio e um tipo é que o domínio é um tipo existente com uma restrição verificada ligada a ele. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#topoelement">TopoElement</a></span><span class="refpurpose"> — Um arranjo de 2 inteiros geralmente usado para identificar um componente TopoGeometry.</span></li><li><span class="refentrytitle"><a href="#topoelementarray">TopoElementArray</a></span><span class="refpurpose"> — An array of TopoElement objects.</span></li></ul></div><div class="refentry" id="topoelement"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoElement — Um arranjo de 2 inteiros geralmente usado para identificar um componente TopoGeometry.</p></div><div class="refsection" id="idm23609"><h2>Descrição</h2><p>Um arranjo de 2 inteiros usados para representar um componente de um simples ou  hierárquico <a class="xref" href="#topogeometry" title="TopoGeometry">TopoGeometry</a>. </p><p>No caso de de uma TopoGeometria simples, o primeiro elemento do arranjo representa o identificador de um topológico primitivo, e o segundo elemento representa o tipo dele (1:nó, 2:limite, 3:face). No caso de uma TopoGeometria hierárquica o primeiro elemento do arranjo representa o identificador de uma TopoGeometria filha e o segundo elemento representa seu identificador de camada. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para qualquer uma das TopoGeometrias hierárquicas dadas, todos os elementos das TopoGeometrias filhas virão da mesma camada,  assim com está especificado no relato topology.layer para a camada da TopoGeometria que está sendo definida.  </p></td></tr></table></div></div><div class="refsection" id="idm23616"><h2>Exemplos</h2><pre class="programlisting">SELECT te[1] AS id, te[2] AS type FROM
( SELECT ARRAY[1,2]::topology.topoelement AS te ) f;
 id | type
----+------
  1 |    2
                 </pre><pre class="programlisting">SELECT ARRAY[1,2]::topology.topoelement;
  te
-------
 {1,2}
                 </pre><pre class="programlisting">--Example of what happens when you try to case a 3 element array to topoelement
-- NOTE: topoement has to be a 2 element array so fails dimension check
SELECT ARRAY[1,2,3]::topology.topoelement;
ERROR:  value for domain topology.topoelement violates check constraint "dimensions"
                 </pre></div><div class="refsection" id="idm23621"><h2>Veja também</h2><p><a class="xref" href="#GetTopoGeomElements" title="GetTopoGeomElements">GetTopoGeomElements</a>, <a class="xref" href="#topoelementarray" title="TopoElementArray">TopoElementArray</a>, <a class="xref" href="#topogeometry" title="TopoGeometry">TopoGeometry</a>, <a class="xref" href="#TopoGeom_addElement" title="TopoGeom_addElement">TopoGeom_addElement</a>, <a class="xref" href="#TopoGeom_remElement" title="TopoGeom_remElement">TopoGeom_remElement</a> </p></div></div><div class="refentry" id="topoelementarray"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoElementArray — An array of TopoElement objects.</p></div><div class="refsection" id="idm23633"><h2>Descrição</h2><p>Um arranjo de 1 ou mais objetos TopoGeometria, geralmente usado para circular componentes dos objetos de TopoGeometrias. </p></div><div class="refsection" id="idm23636"><h2>Exemplos</h2><pre class="programlisting">SELECT '{{1,2},{4,3}}'::topology.topoelementarray As tea;
  tea
-------
{{1,2},{4,3}}

-- more verbose equivalent --
SELECT ARRAY[ARRAY[1,2], ARRAY[4,3]]::topology.topoelementarray As tea;

  tea
-------
{{1,2},{4,3}}

--using the array agg function packaged with topology --
SELECT topology.TopoElementArray_Agg(ARRAY[e,t]) As tea
  FROM generate_series(1,4) As e CROSS JOIN generate_series(1,3) As t;
  tea
--------------------------------------------------------------------------
{{1,1},{1,2},{1,3},{2,1},{2,2},{2,3},{3,1},{3,2},{3,3},{4,1},{4,2},{4,3}}
                 </pre><pre class="programlisting">SELECT '{{1,2,4},{3,4,5}}'::topology.topoelementarray As tea;
ERROR:  value for domain topology.topoelementarray violates check constraint "dimensions"
                 </pre></div><div class="refsection" id="idm23640"><h2>Veja também</h2><p><a class="xref" href="#topoelement" title="TopoElement">TopoElement</a>, <a class="xref" href="#GetTopoGeomElementArray" title="GetTopoGeomElementArray">GetTopoGeomElementArray</a>, <a class="xref" href="#TopoElementArray_Agg" title="TopoElementArray_Agg">TopoElementArray_Agg</a> </p></div></div></section><section class="section" id="Topology_ManagementFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.3. Gerenciamento de Topologia e TopoGeometria</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Esta seção lista as funções da Topologia para construir novos esquemas de Topologia, validando topologias e gerenciar Colunas TopoGeometrias</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#AddTopoGeometryColumn">AddTopoGeometryColumn</a></span><span class="refpurpose"> — Adiciona uma coluna topogeometria a uma table, registra essa coluna nova como uma camada topology.layer e retorna a nova layer_id.</span></li><li><span class="refentrytitle"><a href="#RenameTopoGeometryColumn">RenameTopoGeometryColumn</a></span><span class="refpurpose"> — Renames a topogeometry column</span></li><li><span class="refentrytitle"><a href="#DropTopology">DropTopology</a></span><span class="refpurpose"> — Cuidado ao usar: Derruba um esquema topologia e deleta sua referência da table topology.topology e referências para tables naquele esquema da table geometry_columns.</span></li><li><span class="refentrytitle"><a href="#RenameTopology">RenameTopology</a></span><span class="refpurpose"> — Renames a topology</span></li><li><span class="refentrytitle"><a href="#DropTopoGeometryColumn">DropTopoGeometryColumn</a></span><span class="refpurpose"> — Derruba a coluna topogeometria da table nomeada <code class="varname">table_name</code> no esquema <code class="varname">schema_name</code> e tira os registros da </span></li><li><span class="refentrytitle"><a href="#Populate_Topology_Layer">Populate_Topology_Layer</a></span><span class="refpurpose"> — Adds missing entries to topology.layer table by reading metadata from topo tables.</span></li><li><span class="refentrytitle"><a href="#TopologySummary">TopologySummary</a></span><span class="refpurpose"> — Takes a topology name and provides summary totals of types of objects in topology.</span></li><li><span class="refentrytitle"><a href="#ValidateTopology">ValidateTopology</a></span><span class="refpurpose"> — Returns a set of validatetopology_returntype objects detailing issues with topology.</span></li><li><span class="refentrytitle"><a href="#ValidateTopologyRelation">ValidateTopologyRelation</a></span><span class="refpurpose"> — Returns info about invalid topology relation records</span></li><li><span class="refentrytitle"><a href="#FindTopology">FindTopology</a></span><span class="refpurpose"> — Returns a topology record by different means.</span></li><li><span class="refentrytitle"><a href="#FindLayer">FindLayer</a></span><span class="refpurpose"> — Returns a topology.layer record by different means.</span></li></ul></div><div class="refentry" id="AddTopoGeometryColumn"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AddTopoGeometryColumn — Adiciona uma coluna topogeometria a uma table, registra essa coluna nova como uma camada topology.layer e retorna a nova layer_id.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">AddTopoGeometryColumn</strong>(</code>varchar  <var class="pdparam">topology_name</var>, varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, varchar  <var class="pdparam">feature_type</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">AddTopoGeometryColumn</strong>(</code>varchar  <var class="pdparam">topology_name</var>, varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var>, varchar  <var class="pdparam">feature_type</var>, integer  <var class="pdparam">child_layer</var><code>)</code>;</p></div></div><div class="refsection" id="idm23696"><h2>Descrição</h2><p>Cada objeto TopoGeometria pertence à uma camada específica de uma Topologia específica. Antes de criar tal objeto, você precisa criar sua TopologyLayer. uma Camada de Topologia é uma associação de feature-table com a topologia. Também contém informações de tipo de hierárquicas. Nós criamos uma camada usando a função AddTopoGeometryColumn(): </p><p>Esta função irá adicionar a coluna pedida e um relato para a table topology.layer com todas as informações dadas. </p><p>Se você não especificar  [child_layer] (ou configurar para NULO) essa camada irá conter TopoGeometrias Básicas (compostas por elementos de topologia primitivos). Senão essa camada conterá TopoGeometrias hierárquicas (compostas por TopoGeometrias da child_layer). </p><p>Uma vez que a camada é criada (sua id retorna através da função AddTopoGeometryColumn) você pode construir objetos TopoGeometria nela.   </p><p>Valid <code class="varname">feature_type</code>s are: POINT, MULTIPOINT, LINE, MULTILINE, POLYGON, MULTIPOLYGON, COLLECTION</p><p class="availability">Availability: 1.1</p></div><div class="refsection" id="idm23705"><h2>Exemplos</h2><pre class="programlisting">-- Note for this example we created our new table in the ma_topo schema
-- though we could have created it in a different schema -- in which case topology_name and schema_name would be different
CREATE SCHEMA ma;
CREATE TABLE ma.parcels(gid serial, parcel_id varchar(20) PRIMARY KEY, address text);
SELECT topology.AddTopoGeometryColumn('ma_topo', 'ma', 'parcels', 'topo', 'POLYGON');</pre><pre class="programlisting">CREATE SCHEMA ri;
CREATE TABLE ri.roads(gid serial PRIMARY KEY, road_name text);
SELECT topology.AddTopoGeometryColumn('ri_topo', 'ri', 'roads', 'topo', 'LINE');
</pre></div><div class="refsection" id="idm23709"><h2>Veja também</h2><p><a class="xref" href="#DropTopoGeometryColumn" title="DropTopoGeometryColumn">DropTopoGeometryColumn</a>, <a class="xref" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a> </p></div></div><div class="refentry" id="RenameTopoGeometryColumn"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>RenameTopoGeometryColumn — Renames a topogeometry column</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topology.layer <strong class="fsfunc">RenameTopoGeometryColumn</strong>(</code>regclass  <var class="pdparam">layer_table</var>, name  <var class="pdparam">feature_column</var>, name  <var class="pdparam">new_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm23734"><h2>Descrição</h2><p>This function changes the name of an existing TopoGeometry column ensuring metadata information about it is updated accordingly. </p><p class="availability">Availability: 3.4.0</p></div><div class="refsection" id="idm23738"><h2>Exemplos</h2><pre class="programlisting">SELECT topology.RenameTopoGeometryColumn('public.parcels', 'topogeom', 'tgeom');
                </pre></div><div class="refsection" id="idm23741"><h2>Veja também</h2><p><a class="xref" href="#AddTopoGeometryColumn" title="AddTopoGeometryColumn">AddTopoGeometryColumn</a>, <a class="xref" href="#RenameTopology" title="RenameTopology">RenameTopology</a> </p></div></div><div class="refentry" id="DropTopology"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>DropTopology — Cuidado ao usar: Derruba um esquema topologia e deleta sua referência da table topology.topology e referências para tables naquele esquema da table geometry_columns.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">DropTopology</strong>(</code>varchar  <var class="pdparam">topology_schema_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm23758"><h2>Descrição</h2><p>Derruba um esquema topologia e deleta sua referência da table topology.topology e referências para tables naquele esquema da table geometry_columns.Esta função deve ser USADA COM CUIDADO, ela pode destruir algum dado importante. Se o esquema não existir. ela só remove entradas de referência do esquema nomeado.</p><p class="availability">Availability: 1.1</p></div><div class="refsection" id="idm23762"><h2>Exemplos</h2><p>Cascata derruba o esquema ma_topo e remove todas as referências no topology.topology e geometry_columns.</p><pre class="programlisting">SELECT topology.DropTopology('ma_topo');</pre></div><div class="refsection" id="idm23766"><h2>Veja também</h2><p><a class="xref" href="#DropTopoGeometryColumn" title="DropTopoGeometryColumn">DropTopoGeometryColumn</a></p></div></div><div class="refentry" id="RenameTopology"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>RenameTopology — Renames a topology</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">varchar <strong class="fsfunc">RenameTopology</strong>(</code>varchar  <var class="pdparam">old_name</var>, varchar  <var class="pdparam">new_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm23785"><h2>Descrição</h2><p>Renames a topology schema, updating its metadata record in the <code class="varname">topology.topology</code> table. </p><p class="availability">Availability: 3.4.0</p></div><div class="refsection" id="idm23790"><h2>Exemplos</h2><p>Rename a topology from <code class="varname">topo_stage</code> to <code class="varname">topo_prod</code>. </p><pre class="programlisting">SELECT topology.RenameTopology('topo_stage', 'topo_prod');</pre></div><div class="refsection" id="idm23796"><h2>Veja também</h2><p><a class="xref" href="#CopyTopology" title="CopyTopology">CopyTopology</a>, <a class="xref" href="#RenameTopoGeometryColumn" title="RenameTopoGeometryColumn">RenameTopoGeometryColumn</a> </p></div></div><div class="refentry" id="DropTopoGeometryColumn"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>DropTopoGeometryColumn — Derruba a coluna topogeometria da table nomeada <code class="varname">table_name</code> no esquema <code class="varname">schema_name</code> e tira os registros da </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">DropTopoGeometryColumn</strong>(</code>varchar  <var class="pdparam">schema_name</var>, varchar  <var class="pdparam">table_name</var>, varchar  <var class="pdparam">column_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm23821"><h2>Descrição</h2><p>Derruba a coluna topogeometria da table nomeada <code class="varname">table_name</code> no esquema <code class="varname">schema_name</code> e tira os registros da colunas da table topology.layer. Retorna um resumo do drop status. NOTA: ela primeiro configura todos os valores para NULO antes de derrubar checks de integridade referencial.  </p><p class="availability">Availability: 1.1</p></div><div class="refsection" id="idm23827"><h2>Exemplos</h2><pre class="programlisting">SELECT topology.DropTopoGeometryColumn('ma_topo', 'parcel_topo', 'topo');</pre></div><div class="refsection" id="idm23830"><h2>Veja também</h2><p><a class="xref" href="#AddTopoGeometryColumn" title="AddTopoGeometryColumn">AddTopoGeometryColumn</a></p></div></div><div class="refentry" id="Populate_Topology_Layer"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Populate_Topology_Layer — Adds missing entries to topology.layer table by reading metadata from topo tables.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">Populate_Topology_Layer</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm23844"><h2>Descrição</h2><p>Adds missing entries to the <code class="varname">topology.layer</code> table by inspecting topology constraints on tables. This function is useful for fixing up entries in topology catalog after restores of schemas with topo data.</p><p>It returns the list of entries created. Returned columns are <code class="varname">schema_name</code>, <code class="varname">table_name</code>, <code class="varname">feature_column</code>.</p><p class="availability">Disponibilidade: 2.3.0</p></div><div class="refsection" id="idm23853"><h2>Exemplos</h2><pre class="programlisting">SELECT CreateTopology('strk_topo');
CREATE SCHEMA strk;
CREATE TABLE strk.parcels(gid serial, parcel_id varchar(20) PRIMARY KEY, address text);
SELECT topology.AddTopoGeometryColumn('strk_topo', 'strk', 'parcels', 'topo', 'POLYGON');
-- this will return no records because this feature is already registered
SELECT *
  FROM topology.Populate_Topology_Layer();

-- let's rebuild
TRUNCATE TABLE topology.layer;

SELECT *
  FROM topology.Populate_Topology_Layer();

SELECT topology_id,layer_id, schema_name As sn, table_name As tn, feature_column As fc
FROM topology.layer;

                                </pre><pre class="screen">schema_name | table_name | feature_column
-------------+------------+----------------
 strk        | parcels    | topo
(1 row)

 topology_id | layer_id |  sn  |   tn    |  fc
-------------+----------+------+---------+------
           2 |        2 | strk | parcels | topo
(1 row)</pre></div><div class="refsection" id="idm23857"><h2>Veja também</h2><p><a class="xref" href="#AddTopoGeometryColumn" title="AddTopoGeometryColumn">AddTopoGeometryColumn</a></p></div></div><div class="refentry" id="TopologySummary"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopologySummary — Takes a topology name and provides summary totals of types of objects in topology.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">TopologySummary</strong>(</code>varchar  <var class="pdparam">topology_schema_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm23873"><h2>Descrição</h2><p>Takes a topology name and provides summary totals of types of objects in topology.</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm23877"><h2>Exemplos</h2><pre class="programlisting">SELECT topology.topologysummary('city_data');
                    topologysummary
--------------------------------------------------------
 Topology city_data (329), SRID 4326, precision: 0
 22 nodes, 24 edges, 10 faces, 29 topogeoms in 5 layers
 Layer 1, type Polygonal (3), 9 topogeoms
  Deploy: features.land_parcels.feature
 Layer 2, type Puntal (1), 8 topogeoms
  Deploy: features.traffic_signs.feature
 Layer 3, type Lineal (2), 8 topogeoms
  Deploy: features.city_streets.feature
 Layer 4, type Polygonal (3), 3 topogeoms
  Hierarchy level 1, child layer 1
  Deploy: features.big_parcels.feature
 Layer 5, type Puntal (1), 1 topogeoms
  Hierarchy level 1, child layer 2
  Deploy: features.big_signs.feature</pre></div><div class="refsection" id="idm23880"><h2>Veja também</h2><p><a class="xref" href="#Topology_Load_Tiger" title="Topology_Load_Tiger">Topology_Load_Tiger</a></p></div></div><div class="refentry" id="ValidateTopology"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ValidateTopology — Returns a set of validatetopology_returntype objects detailing issues with topology.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof validatetopology_returntype <strong class="fsfunc">ValidateTopology</strong>(</code>varchar  <var class="pdparam">toponame</var>, geometry <var class="pdparam">bbox</var><code>)</code>;</p></div></div><div class="refsection" id="idm23899"><h2>Descrição</h2><p>Returns a set of <a class="xref" href="#validatetopology_returntype" title="validatetopology_returntype">validatetopology_returntype</a> objects detailing issues with topology, optionally limiting the check to the area specified by the <code class="varname">bbox</code> parameter. </p><p>List of possible errors, what they mean and what the returned ids represent are displayed below:</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Erro</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">id1</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">id2</th><th style="border-bottom: 1px solid ; ">Meaning</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">coincident nodes</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of first node.</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of second node.</td><td style="border-bottom: 1px solid ; ">Two nodes have the same geometry. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">borda cruza nodo</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the edge.</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the node.</td><td style="border-bottom: 1px solid ; ">An edge has a node in its interior. See <a class="xref" href="#ST_Relate" title="ST_Relate">ST_Relate</a>. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">borda inválida</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the edge.</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">An edge geometry is invalid. See <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">borda não simples</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the edge.</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">An edge geometry has self-intersections. See <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">borda cruza borda</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of first edge.</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of second edge.</td><td style="border-bottom: 1px solid ; ">Two edges have an interior intersection. See <a class="xref" href="#ST_Relate" title="ST_Relate">ST_Relate</a>. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">edge start node geometry mismatch</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the edge.</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the indicated start node. </td><td style="border-bottom: 1px solid ; ">The geometry of the node indicated as the starting node for an edge does not match the first point of the edge geometry. See <a class="xref" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a>. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">edge end node geometry mismatch</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the edge.</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the indicated end node. </td><td style="border-bottom: 1px solid ; ">The geometry of the node indicated as the ending node for an edge does not match the last point of the edge geometry. See <a class="xref" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a>. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">face sem bordas</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the orphaned face. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">No edge reports an existing face on either of its sides (left_face, right_face). </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">face sem anéis </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the partially-defined face. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">Edges reporting a face on their sides do not form a ring. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">face has wrong mbr</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the face with wrong mbr cache. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">Minimum bounding rectangle of a face does not match minimum bounding box of the collection of edges reporting the face on their sides. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">hole not in advertised face</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Signed identifier of an edge, identifying the ring. See <a class="xref" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a>. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">A ring of edges reporting a face on its exterior is contained in different face. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">not-isolated node has not- containing_face</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the ill-defined node. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">A node which is reported as being on the boundary of one or more edges is indicating a containing face. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">isolated node has containing_face</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the ill-defined node. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">A node which is not reported as being on the boundary of any edges is lacking the indication of a containing face. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">isolated node has wrong containing_face</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the misrepresented node. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">A node which is not reported as being on the boundary of any edges indicates a containing face which is not the actual face containing it. See <a class="xref" href="#GetFaceContainingPoint" title="GetFaceContainingPoint">GetFaceContainingPoint</a>. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">invalid next_right_edge</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the misrepresented edge. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Signed id of the edge which should be indicated as the next right edge. </td><td style="border-bottom: 1px solid ; ">The edge indicated as the next edge encountered walking on the right side of an edge is wrong. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">invalid next_left_edge</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identifier of the misrepresented edge. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Signed id of the edge which should be indicated as the next left edge. </td><td style="border-bottom: 1px solid ; ">The edge indicated as the next edge encountered walking on the left side of an edge is wrong. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">mixed face labeling in ring</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Signed identifier of an edge, identifying the ring. See <a class="xref" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a>. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">Edges in a ring indicate conflicting faces on the walking side. This is also known as a "Side Location Conflict". </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">non-closed ring</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Signed identifier of an edge, identifying the ring. See <a class="xref" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a>. </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="border-bottom: 1px solid ; ">A ring of edges formed by following next_left_edge/next_right_edge attributes starts and ends on different nodes. </td></tr><tr><td style="border-right: 1px solid ; ">face has multiple shells</td><td style="border-right: 1px solid ; ">Identifier of the contended face. </td><td style="border-right: 1px solid ; ">Signed identifier of an edge, identifying the ring. See <a class="xref" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a>. </td><td>More than a one ring of edges indicate the same face on its interior. </td></tr></tbody></table></div><p class="availability">Disponibilidade: 1.0.0</p><p class="enhanced">Melhorias: 2.0.0 limite mais eficiente cruzando detenção e consertos para falsos positivos que existiam em versões anteriores.  </p><p class="changed">Alterações: 2.2.0 valores para id1 e id2 foram trocados para "limite cruza nó", para serem consistentes com a descrição do erro.</p><p class="changed">Changed: 3.2.0 added optional bbox parameter, perform face labeling and edge linking checks.</p></div><div class="refsection" id="idm24024"><h2>Exemplos</h2><pre class="programlisting">SELECT * FROM  topology.ValidateTopology('ma_topo');
      error        | id1 | id2
-------------------+-----+-----
face without edges |   1 |
                                </pre></div><div class="refsection" id="idm24027"><h2>Veja também</h2><p><a class="xref" href="#validatetopology_returntype" title="validatetopology_returntype">validatetopology_returntype</a>, <a class="xref" href="#Topology_Load_Tiger" title="Topology_Load_Tiger">Topology_Load_Tiger</a></p></div></div><div class="refentry" id="ValidateTopologyRelation"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ValidateTopologyRelation — Returns info about invalid topology relation records</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ValidateTopologyRelation</strong>(</code>varchar  <var class="pdparam">toponame</var><code>)</code>;</p></div></div><div class="refsection" id="idm24044"><h2>Descrição</h2><p>Returns a set records giving information about invalidities in the relation table of the topology. </p><p class="availability">Availability: 3.2.0</p></div><div class="refsection" id="idm24048"><h2>Veja também</h2><p><a class="xref" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a></p></div></div><div class="refentry" id="FindTopology"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>FindTopology — Returns a topology record by different means.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topology <strong class="fsfunc">FindTopology</strong>(</code>TopoGeometry <var class="pdparam">topogeom</var><code>)</code>;</p><p><code class="funcdef">topology <strong class="fsfunc">FindTopology</strong>(</code>regclass <var class="pdparam">layerTable</var>, name <var class="pdparam">layerColumn</var><code>)</code>;</p><p><code class="funcdef">topology <strong class="fsfunc">FindTopology</strong>(</code>name <var class="pdparam">layerSchema</var>, name <var class="pdparam">layerTable</var>, name <var class="pdparam">layerColumn</var><code>)</code>;</p><p><code class="funcdef">topology <strong class="fsfunc">FindTopology</strong>(</code>text <var class="pdparam">topoName</var><code>)</code>;</p><p><code class="funcdef">topology <strong class="fsfunc">FindTopology</strong>(</code>int <var class="pdparam">id</var><code>)</code>;</p></div></div><div class="refsection" id="idm24097"><h2>Descrição</h2><p>Takes a topology identifier or the identifier of a topology-related object and returns a topology.topology record.</p><p class="availability">Availability: 3.2.0</p></div><div class="refsection" id="idm24101"><h2>Exemplos</h2><pre class="programlisting">SELECT name(findTopology('features.land_parcels', 'feature'));
   name
-----------
 city_data
(1 row)
</pre></div><div class="refsection" id="idm24104"><h2>Veja também</h2><p><a class="xref" href="#FindLayer" title="FindLayer">FindLayer</a></p></div></div><div class="refentry" id="FindLayer"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>FindLayer — Returns a topology.layer record by different means.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topology.layer <strong class="fsfunc">FindLayer</strong>(</code>TopoGeometry <var class="pdparam">tg</var><code>)</code>;</p><p><code class="funcdef">topology.layer <strong class="fsfunc">FindLayer</strong>(</code>regclass <var class="pdparam">layer_table</var>, name <var class="pdparam">feature_column</var><code>)</code>;</p><p><code class="funcdef">topology.layer <strong class="fsfunc">FindLayer</strong>(</code>name <var class="pdparam">schema_name</var>, name <var class="pdparam">table_name</var>, name <var class="pdparam">feature_column</var><code>)</code>;</p><p><code class="funcdef">topology.layer <strong class="fsfunc">FindLayer</strong>(</code>integer <var class="pdparam">topology_id</var>, integer <var class="pdparam">layer_id</var><code>)</code>;</p></div></div><div class="refsection" id="idm24150"><h2>Descrição</h2><p>Takes a layer identifier or the identifier of a topology-related object and returns a topology.layer record.</p><p class="availability">Availability: 3.2.0</p></div><div class="refsection" id="idm24154"><h2>Exemplos</h2><pre class="programlisting">SELECT layer_id(findLayer('features.land_parcels', 'feature'));
 layer_id
----------
        1
(1 row)
</pre></div><div class="refsection" id="idm24157"><h2>Veja também</h2><p><a class="xref" href="#FindTopology" title="FindTopology">FindTopology</a></p></div></div></section><section class="section" id="Topology_StatsManagement"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.4. Topology Statistics Management</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>This section discusses management of database statistics during topology building. </p></div></div></div></div><p>Adding elements to a topology triggers many database queries for finding existing edges that will be split, adding nodes and updating edges that will node with the new linework. For this reason it is useful that statistics about the data in the topology tables are up-to-date. </p><p>PostGIS Topology population and editing functions do not automatically update the statistics because a updating stats after each and every change in a topology would be overkill, so it is the caller's duty to take care of that. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>That the statistics updated by autovacuum will NOT be visible to transactions which started before autovacuum process completed, so long-running transactions will need to run ANALYZE themselves, to use updated statistics. </p></td></tr></table></div></section><section class="section" id="Topology_Constructors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.5. Construtores de topologia</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Esta seção cobre as funções da topologia para criar novas topologias.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#CreateTopology">CreateTopology</a></span><span class="refpurpose"> — Creates a new topology schema and registers it in the topology.topology table.</span></li><li><span class="refentrytitle"><a href="#CopyTopology">CopyTopology</a></span><span class="refpurpose"> — Makes a copy of a topology (nodes, edges, faces, layers and TopoGeometries) into a new schema</span></li><li><span class="refentrytitle"><a href="#ST_InitTopoGeo">ST_InitTopoGeo</a></span><span class="refpurpose"> — Creates a new topology schema and registers it in the topology.topology table.</span></li><li><span class="refentrytitle"><a href="#ST_CreateTopoGeo">ST_CreateTopoGeo</a></span><span class="refpurpose"> — Adiciona uma coleção de geometrias para uma dada topologia vazia e retorna uma mensagem detalhando sucesso. </span></li><li><span class="refentrytitle"><a href="#TopoGeo_AddPoint">TopoGeo_AddPoint</a></span><span class="refpurpose"> — Adiciona um ponto a uma topologia usando uma tolerância e possivelmente dividindo um limite existente. </span></li><li><span class="refentrytitle"><a href="#TopoGeo_AddLineString">TopoGeo_AddLineString</a></span><span class="refpurpose"> — Adds a linestring to an existing topology using a tolerance and possibly splitting existing edges/faces. </span></li><li><span class="refentrytitle"><a href="#TopoGeo_AddPolygon">TopoGeo_AddPolygon</a></span><span class="refpurpose"> — Adds a polygon to an existing topology using a tolerance and possibly splitting existing edges/faces. Returns face identifiers.</span></li><li><span class="refentrytitle"><a href="#TopoGeo_LoadGeometry">TopoGeo_LoadGeometry</a></span><span class="refpurpose"> — Load a geometry into an existing topology, snapping and splitting as needed.</span></li></ul></div><div class="refentry" id="CreateTopology"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CreateTopology — Creates a new topology schema and registers it in the topology.topology table.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">CreateTopology</strong>(</code>varchar  <var class="pdparam">topology_schema_name</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">CreateTopology</strong>(</code>varchar  <var class="pdparam">topology_schema_name</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">CreateTopology</strong>(</code>varchar  <var class="pdparam">topology_schema_name</var>, integer  <var class="pdparam">srid</var>, double precision  <var class="pdparam">prec</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">CreateTopology</strong>(</code>varchar  <var class="pdparam">topology_schema_name</var>, integer  <var class="pdparam">srid</var>, double precision  <var class="pdparam">prec</var>, boolean  <var class="pdparam">hasz</var><code>)</code>;</p></div></div><div class="refsection" id="idm24223"><h2>Descrição</h2><p>Creates a new topology schema with name <code class="varname">topology_name</code> and registers it in the <code class="varname">topology.topology</code> table. Topologies must be uniquely named. The topology tables (<code class="varname">edge_data</code>, <code class="varname">face</code>, <code class="varname">node</code>,and <code class="varname">relation</code> are created in the schema. It returns the id of the topology. </p><p>The <code class="varname">srid</code> is the <a class="link" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">spatial reference system</a> SRID for the topology. </p><p>The tolerance <code class="varname">prec</code> is measured in the units of the spatial reference system. The tolerance defaults to 0. </p><p><code class="varname">hasz</code> defaults to false if not specified. </p><p>This is similar to the SQL/MM <a class="xref" href="#ST_InitTopoGeo" title="ST_InitTopoGeo">ST_InitTopoGeo</a> but has more functionality.</p><p class="availability">Availability: 1.1</p><p class="enhanced">Enhanced: 2.0 added the signature accepting hasZ</p></div><div class="refsection" id="idm24243"><h2>Exemplos</h2><p>Create a topology schema called <code class="varname">ma_topo</code> that stores edges and nodes in Massachusetts State Plane-meters (SRID = 26986). The tolerance represents 0.5 meters since the spatial reference system is meter-based.</p><pre class="programlisting">SELECT topology.CreateTopology('ma_topo', 26986, 0.5);</pre><p>Create a topology for Rhode Island called <code class="varname">ri_topo</code> in spatial reference system State Plane-feet (SRID = 3438)</p><pre class="programlisting">SELECT topology.CreateTopology('ri_topo', 3438) AS topoid;
topoid
------
2</pre></div><div class="refsection" id="idm24251"><h2>Veja também</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a>, <a class="xref" href="#ST_InitTopoGeo" title="ST_InitTopoGeo">ST_InitTopoGeo</a>, <a class="xref" href="#Topology_Load_Tiger" title="Topology_Load_Tiger">Topology_Load_Tiger</a></p></div></div><div class="refentry" id="CopyTopology"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CopyTopology — Makes a copy of a topology (nodes, edges, faces, layers and TopoGeometries) into a new schema</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">CopyTopology</strong>(</code>varchar  <var class="pdparam">existing_topology_name</var>, varchar  <var class="pdparam">new_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm24272"><h2>Descrição</h2><p>Creates a new topology with name <code class="varname">new_name</code>, with SRID and precision copied from <code class="varname">existing_topology_name</code> The nodes, edges and faces in <code class="varname">existing_topology_name</code> are copied into the new topology, as well as Layers and their associated TopoGeometries. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The new rows in the <code class="varname">topology.layer</code> table contain synthetic values for schema_name, table_name and feature_column. This is because the TopoGeometry objects exist only as a definition and are not yet available in a user-defined table. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm24282"><h2>Exemplos</h2><p>Make a backup of a topology called <code class="varname">ma_topo</code>. </p><pre class="programlisting">SELECT topology.CopyTopology('ma_topo', 'ma_topo_backup');</pre></div><div class="refsection" id="idm24287"><h2>Veja também</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#RenameTopology" title="RenameTopology">RenameTopology</a> </p></div></div><div class="refentry" id="ST_InitTopoGeo"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_InitTopoGeo — Creates a new topology schema and registers it in the topology.topology table.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_InitTopoGeo</strong>(</code>varchar  <var class="pdparam">topology_schema_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm24305"><h2>Descrição</h2><p>This is the SQL-MM equivalent of <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>. It lacks options for spatial reference system and tolerance. it returns a text description of the topology creation, instead of the topology id.</p><p class="availability">Availability: 1.1</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3 Topo-Geo and Topo-Net 3: Routine Details: X.3.17</p></div><div class="refsection" id="idm24314"><h2>Exemplos</h2><pre class="programlisting">SELECT topology.ST_InitTopoGeo('topo_schema_to_create') AS topocreation;
                      astopocreation
------------------------------------------------------------
 Topology-Geometry 'topo_schema_to_create' (id:7) created.
                                </pre></div><div class="refsection" id="idm24317"><h2>Veja também</h2><p><a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a></p></div></div><div class="refentry" id="ST_CreateTopoGeo"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CreateTopoGeo — Adiciona uma coleção de geometrias para uma dada topologia vazia e retorna uma mensagem detalhando sucesso. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_CreateTopoGeo</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">acollection</var><code>)</code>;</p></div></div><div class="refsection" id="idm24336"><h2>Descrição</h2><p>Adiciona uma coleção de geometrias para uma dada topologia vazia e retorna uma mensagem detalhando sucesso. </p><p>Útil para popular uma topologia vazia.</p><p class="availability">Disponibilidade: 2.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM: Topo-Geo and Topo-Net 3: Routine Details -- X.3.18</p></div><div class="refsection" id="idm24345"><h2>Exemplos</h2><pre class="programlisting">-- Populate topology --
SELECT topology.ST_CreateTopoGeo('ri_topo',
 ST_GeomFromText('MULTILINESTRING((384744 236928,384750 236923,384769 236911,384799 236895,384811 236890,384833 236884,
  384844 236882,384866 236881,384879 236883,384954 236898,385087 236932,385117 236938,
  385167 236938,385203 236941,385224 236946,385233 236950,385241 236956,385254 236971,
  385260 236979,385268 236999,385273 237018,385273 237037,385271 237047,385267 237057,
  385225 237125,385210 237144,385192 237161,385167 237192,385162 237202,385159 237214,
  385159 237227,385162 237241,385166 237256,385196 237324,385209 237345,385234 237375,
  385237 237383,385238 237399,385236 237407,385227 237419,385213 237430,385193 237439,
  385174 237451,385170 237455,385169 237460,385171 237475,385181 237503,385190 237521,
  385200 237533,385206 237538,385213 237541,385221 237542,385235 237540,385242 237541,
  385249 237544,385260 237555,385270 237570,385289 237584,385292 237589,385291 237596,385284 237630))',3438)
  );

      st_createtopogeo
----------------------------
 Topology ri_topo populated


-- create tables and topo geometries --
CREATE TABLE ri.roads(gid serial PRIMARY KEY, road_name text);

SELECT topology.AddTopoGeometryColumn('ri_topo', 'ri', 'roads', 'topo', 'LINE');
                                </pre></div><div class="refsection" id="idm24348"><h2>Veja também</h2><p><a class="xref" href="#TopoGeo_LoadGeometry" title="TopoGeo_LoadGeometry">TopoGeo_LoadGeometry</a>, <a class="xref" href="#AddTopoGeometryColumn" title="AddTopoGeometryColumn">AddTopoGeometryColumn</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#DropTopology" title="DropTopology">DropTopology</a> </p></div></div><div class="refentry" id="TopoGeo_AddPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeo_AddPoint — Adiciona um ponto a uma topologia usando uma tolerância e possivelmente dividindo um limite existente. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">TopoGeo_AddPoint</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">apoint</var>, float8  <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm24373"><h2>Descrição</h2><p>Adds a point to an existing topology and returns its identifier. The given point will snap to existing nodes or edges within given tolerance. An existing edge may be split by the snapped point. </p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm24377"><h2>Veja também</h2><p><a class="xref" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a>, <a class="xref" href="#TopoGeo_AddPolygon" title="TopoGeo_AddPolygon">TopoGeo_AddPolygon</a>, <a class="xref" href="#TopoGeo_LoadGeometry" title="TopoGeo_LoadGeometry">TopoGeo_LoadGeometry</a>, <a class="xref" href="#AddNode" title="AddNode">AddNode</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a> </p></div></div><div class="refentry" id="TopoGeo_AddLineString"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeo_AddLineString — Adds a linestring to an existing topology using a tolerance and possibly splitting existing edges/faces. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">SETOF integer <strong class="fsfunc">TopoGeo_AddLineString</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">aline</var>, float8  <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm24403"><h2>Descrição</h2><p>Adds a linestring to an existing topology and returns a set of signed edge identifiers forming it up (negative identifies mean the edge goes in the opposite direction of the input linestring). The given line will snap to existing nodes or edges within given tolerance. Existing edges and faces may be split by the line. New nodes and faces may be added. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Updating statistics about topologies being loaded via this function is up to caller, see <a class="xref" href="#Topology_StatsManagement" title="9.4. Topology Statistics Management">maintaining statistics during topology editing and population</a>. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p><p class="enhanced">Enhanced: 3.2.0 added support for returning signed identifier.</p></div><div class="refsection" id="idm24411"><h2>Veja também</h2><p><a class="xref" href="#TopoGeo_AddPoint" title="TopoGeo_AddPoint">TopoGeo_AddPoint</a>, <a class="xref" href="#TopoGeo_AddPolygon" title="TopoGeo_AddPolygon">TopoGeo_AddPolygon</a>, <a class="xref" href="#TopoGeo_LoadGeometry" title="TopoGeo_LoadGeometry">TopoGeo_LoadGeometry</a>, <a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a> </p></div></div><div class="refentry" id="TopoGeo_AddPolygon"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeo_AddPolygon — Adds a polygon to an existing topology using a tolerance and possibly splitting existing edges/faces. Returns face identifiers.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">SETOF integer <strong class="fsfunc">TopoGeo_AddPolygon</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">apoly</var>, float8  <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm24437"><h2>Descrição</h2><p>Adds a polygon to an existing topology and returns a set of face identifiers forming it up. The boundary of the given polygon will snap to existing nodes or edges within given tolerance. Existing edges and faces may be split by the boundary of the new polygon. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Updating statistics about topologies being loaded via this function is up to caller, see <a class="xref" href="#Topology_StatsManagement" title="9.4. Topology Statistics Management">maintaining statistics during topology editing and population</a>. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm24444"><h2>Veja também</h2><p><a class="xref" href="#TopoGeo_AddPoint" title="TopoGeo_AddPoint">TopoGeo_AddPoint</a>, <a class="xref" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a>, <a class="xref" href="#TopoGeo_LoadGeometry" title="TopoGeo_LoadGeometry">TopoGeo_LoadGeometry</a>, <a class="xref" href="#AddFace" title="AddFace">AddFace</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a> </p></div></div><div class="refentry" id="TopoGeo_LoadGeometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeo_LoadGeometry — Load a geometry into an existing topology, snapping and splitting as needed.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">void <strong class="fsfunc">TopoGeo_LoadGeometry</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">ageom</var>, float8  <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm24470"><h2>Descrição</h2><p>Loads a geometry into an existing topology. The given geometry will snap to existing nodes or edges within given tolerance. Existing edges and faces may be split as a consequence of the load. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Updating statistics about topologies being loaded via this function is up to caller, see <a class="xref" href="#Topology_StatsManagement" title="9.4. Topology Statistics Management">maintaining statistics during topology editing and population</a>. </p></td></tr></table></div><p class="availability">Availability: 3.5.0</p></div><div class="refsection" id="idm24477"><h2>Veja também</h2><p><a class="xref" href="#TopoGeo_AddPoint" title="TopoGeo_AddPoint">TopoGeo_AddPoint</a>, <a class="xref" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a>, <a class="xref" href="#TopoGeo_AddPolygon" title="TopoGeo_AddPolygon">TopoGeo_AddPolygon</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a> </p></div></div></section><section class="section" id="Topology_Editing"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.6. Editores de Topologia</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Esta seção cobre as funções da topologia para adicionar, mover, deletar e dividir limites, faces e nós. Todas essas funções são definidas pelo </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#ST_AddIsoNode">ST_AddIsoNode</a></span><span class="refpurpose"> — Adiciona um nó isolado a uma face em uma topologia e retorna a id do novo nó. Se a face é nula, o nó continua sendo criado.</span></li><li><span class="refentrytitle"><a href="#ST_AddIsoEdge">ST_AddIsoEdge</a></span><span class="refpurpose"> — Adiciona um limite isolado definido pela geometria <code class="varname">alinestring</code> a uma topologia conectando dois nós isolados<code class="varname">anode</code> e <code class="varname">anothernode</code> e retorna a nova id do novo limite.</span></li><li><span class="refentrytitle"><a href="#ST_AddEdgeNewFaces">ST_AddEdgeNewFaces</a></span><span class="refpurpose"> — Adiciona um novo limite e, se uma face for dividida, deleta a face original e substitui por duas novas faces.  </span></li><li><span class="refentrytitle"><a href="#ST_AddEdgeModFace">ST_AddEdgeModFace</a></span><span class="refpurpose"> — Adiciona um novo limite e, se uma face for dividida, modifica a face original e adiciona uma nova face.  </span></li><li><span class="refentrytitle"><a href="#ST_RemEdgeNewFace">ST_RemEdgeNewFace</a></span><span class="refpurpose"> — Remove um limite e, se o limite removido separava duas faces, deleta as faces originais e as substitui por uma nova face. </span></li><li><span class="refentrytitle"><a href="#ST_RemEdgeModFace">ST_RemEdgeModFace</a></span><span class="refpurpose"> — Removes an edge, and if the edge separates two faces deletes one face and modifies the other face to cover the space of both. </span></li><li><span class="refentrytitle"><a href="#ST_ChangeEdgeGeom">ST_ChangeEdgeGeom</a></span><span class="refpurpose"> — Modifica a forma de um limite sem afetar a estrutura da topologia. </span></li><li><span class="refentrytitle"><a href="#ST_ModEdgeSplit">ST_ModEdgeSplit</a></span><span class="refpurpose"> — Divide um limite criando um novo nó junto de um limite existente, modificando o limite original e adicionando um novo limite. </span></li><li><span class="refentrytitle"><a href="#ST_ModEdgeHeal">ST_ModEdgeHeal</a></span><span class="refpurpose"> — Heals two edges by deleting the node connecting them, modifying the first edge and deleting the second edge. Returns the id of the deleted node. </span></li><li><span class="refentrytitle"><a href="#ST_NewEdgeHeal">ST_NewEdgeHeal</a></span><span class="refpurpose"> — Heals two edges by deleting the node connecting them, deleting both edges, and replacing them with an edge whose direction is the same as the first edge provided. </span></li><li><span class="refentrytitle"><a href="#ST_MoveIsoNode">ST_MoveIsoNode</a></span><span class="refpurpose"> — Moves an isolated node in a topology from one point to another. If new <code class="varname">apoint</code> geometry exists as a node an error is thrown. Returns description of move.</span></li><li><span class="refentrytitle"><a href="#ST_NewEdgesSplit">ST_NewEdgesSplit</a></span><span class="refpurpose"> — Divide um limite criando um novo nó ao longo do limite existente, deletando o limite original e substituindo-o por dois novos. Retorna a id do novo nó criado que integra os novos limites.</span></li><li><span class="refentrytitle"><a href="#ST_RemoveIsoNode">ST_RemoveIsoNode</a></span><span class="refpurpose"> — Remove um nó isolado e retorna descrição de ação. Se o nó não for isolado (for  começo ou fim de um limite), então, uma exceção é lançada.</span></li><li><span class="refentrytitle"><a href="#ST_RemoveIsoEdge">ST_RemoveIsoEdge</a></span><span class="refpurpose"> — Removes an isolated edge and returns description of action. If the edge is not isolated, then an exception is thrown.</span></li></ul></div><div class="refentry" id="ST_AddIsoNode"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AddIsoNode — Adiciona um nó isolado a uma face em uma topologia e retorna a id do novo nó. Se a face é nula, o nó continua sendo criado.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_AddIsoNode</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">aface</var>, geometry  <var class="pdparam">apoint</var><code>)</code>;</p></div></div><div class="refsection" id="idm24507"><h2>Descrição</h2><p>Adiciona um nó isolado com a localização do ponto <code class="varname">apoint</code> com uma face existente com faceid <code class="varname">aface</code>  a uma topologia <code class="varname">atopology</code> e retorna a nodeid do novo nó.</p><p>O sistema de referência espacial (srid) da geometria pontual não é o mesmo que a topologia, o  <code class="varname">apoint</code> não é uma geometria pontual, o ponto é nulo, ou o ponto intersecta um limite existente (mesmo nos limites), então uma exceção é aberta. Se o ponto já existe como um nó, uma exceção é aberta. </p><p>Se <code class="varname">aface</code> não é nula e o <code class="varname">apoint</code> não está dentro da face, então, uma exceção é aberta. </p><p class="availability">Availability: 1.1 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM: Topo-Net Routines: X+1.3.1</p></div><div class="refsection" id="idm24523"><h2>Exemplos</h2><p/></div><div class="refsection" id="idm24526"><h2>Veja também</h2><p><a class="xref" href="#AddNode" title="AddNode">AddNode</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#DropTopology" title="DropTopology">DropTopology</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a></p></div></div><div class="refentry" id="ST_AddIsoEdge"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AddIsoEdge — Adiciona um limite isolado definido pela geometria <code class="varname">alinestring</code> a uma topologia conectando dois nós isolados<code class="varname">anode</code> e <code class="varname">anothernode</code> e retorna a nova id do novo limite.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_AddIsoEdge</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anode</var>, integer  <var class="pdparam">anothernode</var>, geometry  <var class="pdparam">alinestring</var><code>)</code>;</p></div></div><div class="refsection" id="idm24557"><h2>Descrição</h2><p>Adiciona um limite isolado definido pela geometria <code class="varname">alinestring</code> a uma topologia conectando dois nós isolados<code class="varname">anode</code> e <code class="varname">anothernode</code> e retorna a nova id do novo limite.</p><p>Se o sistema de referência espacial (srid) da geometria <code class="varname">alinestring</code> não for o mesmo da topologia, qualquer argumento de entrada é nulo, ou is nós estão contidos em mais de uma face, ou eles são o começo ou fim de um limite existente, então, uma exceção é aberta.</p><p>Se a <code class="varname">alinestring</code> não está dentro da face da face o <code class="varname">anode</code> e <code class="varname">anothernode</code> pertence, então, uma exceção é aberta.</p><p>Se o <code class="varname">anode</code> e <code class="varname">anothernode</code> não são os pontos de começo e fim da <code class="varname">alinestring</code> então, uma exceção é aberta. </p><p class="availability">Availability: 1.1 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM: Topo-Geo and Topo-Net 3: Routine Details: X.3.4</p></div><div class="refsection" id="idm24578"><h2>Exemplos</h2><p/></div><div class="refsection" id="idm24581"><h2>Veja também</h2><p><a class="xref" href="#ST_AddIsoNode" title="ST_AddIsoNode">ST_AddIsoNode</a>, <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>, <a class="xref" href="#ST_Within" title="ST_Within">ST_Within</a></p></div></div><div class="refentry" id="ST_AddEdgeNewFaces"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AddEdgeNewFaces — Adiciona um novo limite e, se uma face for dividida, deleta a face original e substitui por duas novas faces.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_AddEdgeNewFaces</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anode</var>, integer  <var class="pdparam">anothernode</var>, geometry  <var class="pdparam">acurve</var><code>)</code>;</p></div></div><div class="refsection" id="idm24608"><h2>Descrição</h2><p>Adiciona um novo limite e, se uma face for dividida, deleta a face original e substitui por duas novas faces. Retorna a id do novo limite adicionado.   </p><p>Atualiza todos os limites existentes e relacionamentos em conformidade.  </p><p>Se algum argumento for nulo, os nós são desconhecidos (devem existir na table <code class="varname">node</code> do esquema de topologia), a <code class="varname">acurve</code> não é uma <code class="varname">LINESTRING</code>, o <code class="varname">anode</code> e <code class="varname">anothernode</code> não são os pontos de começo e fim da <code class="varname">acurve</code>, logo, um erro é lançado.</p><p>Se o sistema de referência espacial (srid) da geometria <code class="varname">acurve</code> não for o mesmo da topologia, uma exceção é lançada.</p><p class="availability">Disponibilidade: 2.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM: Topo-Geo and Topo-Net 3: Routine Details: X.3.12</p></div><div class="refsection" id="idm24626"><h2>Exemplos</h2><p/></div><div class="refsection" id="idm24629"><h2>Veja também</h2><p><a class="xref" href="#ST_RemEdgeNewFace" title="ST_RemEdgeNewFace">ST_RemEdgeNewFace</a></p><p><a class="xref" href="#ST_AddEdgeModFace" title="ST_AddEdgeModFace">ST_AddEdgeModFace</a></p></div></div><div class="refentry" id="ST_AddEdgeModFace"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AddEdgeModFace — Adiciona um novo limite e, se uma face for dividida, modifica a face original e adiciona uma nova face.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_AddEdgeModFace</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anode</var>, integer  <var class="pdparam">anothernode</var>, geometry  <var class="pdparam">acurve</var><code>)</code>;</p></div></div><div class="refsection" id="idm24656"><h2>Descrição</h2><p>Adiciona um novo limite e, se uma face for dividida, modifica a face original e adiciona uma nova.   </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se possível, a face nova será criada no lado esquerdo do novo limite. Isto não será possível se a face do lado esquerdo precisar ser a face universal (sem limites). </p></td></tr></table></div><p>Retorna a id do novo limite adicionado. </p><p>Atualiza todos os limites existentes e relacionamentos em conformidade.  </p><p>Se algum argumento for nulo, os nós são desconhecidos (devem existir na table <code class="varname">node</code> do esquema de topologia), a <code class="varname">acurve</code> não é uma <code class="varname">LINESTRING</code>, o <code class="varname">anode</code> e <code class="varname">anothernode</code> não são os pontos de começo e fim da <code class="varname">acurve</code>, logo, um erro é lançado.</p><p>Se o sistema de referência espacial (srid) da geometria <code class="varname">acurve</code> não for o mesmo da topologia, uma exceção é lançada.</p><p class="availability">Disponibilidade: 2.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM: Topo-Geo and Topo-Net 3: Routine Details: X.3.13</p></div><div class="refsection" id="idm24677"><h2>Exemplos</h2><p/></div><div class="refsection" id="idm24680"><h2>Veja também</h2><p><a class="xref" href="#ST_RemEdgeModFace" title="ST_RemEdgeModFace">ST_RemEdgeModFace</a></p><p><a class="xref" href="#ST_AddEdgeNewFaces" title="ST_AddEdgeNewFaces">ST_AddEdgeNewFaces</a></p></div></div><div class="refentry" id="ST_RemEdgeNewFace"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemEdgeNewFace — Remove um limite e, se o limite removido separava duas faces, deleta as faces originais e as substitui por uma nova face. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_RemEdgeNewFace</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var><code>)</code>;</p></div></div><div class="refsection" id="idm24701"><h2>Descrição</h2><p>Remove um limite e, se o limite removido separava duas faces, deleta as faces originais e as substitui por uma nova face. </p><p>Retorna a id de uma face nova criada ou NULA, se nenhuma face nova for criada. Nenhuma face nova é criada quando o limite removido está pendurado, isolado ou confinado na face universal (possivelmente fazendo a inundação universal dentro da face no outro lado).  </p><p>Atualiza todos os limites existentes e relacionamentos em conformidade.  </p><p>Refuses to remove an edge participating in the definition of an existing TopoGeometry. Refuses to heal two faces if any TopoGeometry is defined by only one of them (and not the other). </p><p>Se qualquer argumento for nulo, o limite dado é desconhecido (deve existir na table <code class="varname">edge</code> do esquema de topologia), o nome da topologia é inválido, logo, um erro é lançado.  </p><p class="availability">Disponibilidade: 2.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM: Topo-Geo and Topo-Net 3: Routine Details: X.3.14</p></div><div class="refsection" id="idm24714"><h2>Exemplos</h2><p/></div><div class="refsection" id="idm24717"><h2>Veja também</h2><p><a class="xref" href="#ST_RemEdgeModFace" title="ST_RemEdgeModFace">ST_RemEdgeModFace</a></p><p><a class="xref" href="#ST_AddEdgeNewFaces" title="ST_AddEdgeNewFaces">ST_AddEdgeNewFaces</a></p></div></div><div class="refentry" id="ST_RemEdgeModFace"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemEdgeModFace — Removes an edge, and if the edge separates two faces deletes one face and modifies the other face to cover the space of both. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_RemEdgeModFace</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var><code>)</code>;</p></div></div><div class="refsection" id="idm24738"><h2>Descrição</h2><p>Removes an edge, and if the removed edge separates two faces deletes one face and modifies the other face to cover the space of both. Preferentially keeps the face on the right, to be consistent with <a class="xref" href="#ST_AddEdgeModFace" title="ST_AddEdgeModFace">ST_AddEdgeModFace</a>. Returns the id of the face which is preserved. </p><p>Atualiza todos os limites existentes e relacionamentos em conformidade.  </p><p>Refuses to remove an edge participating in the definition of an existing TopoGeometry. Refuses to heal two faces if any TopoGeometry is defined by only one of them (and not the other). </p><p>Se qualquer argumento for nulo, o limite dado é desconhecido (deve existir na table <code class="varname">edge</code> do esquema de topologia), o nome da topologia é inválido, logo, um erro é lançado.  </p><p class="availability">Disponibilidade: 2.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM: Topo-Geo and Topo-Net 3: Routine Details: X.3.15</p></div><div class="refsection" id="idm24751"><h2>Exemplos</h2><p/></div><div class="refsection" id="idm24754"><h2>Veja também</h2><p><a class="xref" href="#ST_AddEdgeModFace" title="ST_AddEdgeModFace">ST_AddEdgeModFace</a></p><p><a class="xref" href="#ST_RemEdgeNewFace" title="ST_RemEdgeNewFace">ST_RemEdgeNewFace</a></p></div></div><div class="refentry" id="ST_ChangeEdgeGeom"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ChangeEdgeGeom — Modifica a forma de um limite sem afetar a estrutura da topologia. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_ChangeEdgeGeom</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var>, geometry  <var class="pdparam">acurve</var><code>)</code>;</p></div></div><div class="refsection" id="idm24778"><h2>Descrição</h2><p>Modifica a forma de um limite sem afetar a estrutura da topologia. </p><p>If any arguments are null, the given edge does not exist in the <code class="varname">edge</code> table of the topology schema, the <code class="varname">acurve</code> is not a <code class="varname">LINESTRING</code>, or the modification would change the underlying topology then an error is thrown. </p><p>Se o sistema de referência espacial (srid) da geometria <code class="varname">acurve</code> não for o mesmo da topologia, uma exceção é lançada.</p><p>Se a nova <code class="varname">acurve</code> não for simples, um erro é lançado.</p><p>Se mover o limite de uma posição antiga acertar um obstáculo, um erro é lançado. </p><p class="availability">Disponibilidade: 1.1.0</p><p>Melhorias: 2.0.0 adiciona execução da consistência topológica </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM: Topo-Geo and Topo-Net 3: Routine Details X.3.6</p></div><div class="refsection" id="idm24796"><h2>Exemplos</h2><pre class="programlisting">SELECT topology.ST_ChangeEdgeGeom('ma_topo', 1,
                ST_GeomFromText('LINESTRING(227591.9 893900.4,227622.6 893844.3,227641.6 893816.6, 227704.5 893778.5)', 26986) );
 ----
 Edge 1 changed</pre></div><div class="refsection" id="idm24799"><h2>Veja também</h2><p><a class="xref" href="#ST_AddEdgeModFace" title="ST_AddEdgeModFace">ST_AddEdgeModFace</a></p><p><a class="xref" href="#ST_RemEdgeModFace" title="ST_RemEdgeModFace">ST_RemEdgeModFace</a></p><p><a class="xref" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a></p></div></div><div class="refentry" id="ST_ModEdgeSplit"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ModEdgeSplit — Divide um limite criando um novo nó junto de um limite existente, modificando o limite original e adicionando um novo limite. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_ModEdgeSplit</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var>, geometry  <var class="pdparam">apoint</var><code>)</code>;</p></div></div><div class="refsection" id="idm24825"><h2>Descrição</h2><p>Divide um limite criando um novo nó junto de um limite existente, modificando o limite original e adicionando um novo limite. Atualiza todos os limites e relacionamentos em conformidade. Retorna o identificador do novo nó adicionado. </p><p class="availability">Availability: 1.1 </p><p class="changed">Alterações: 2.0 - Nas versões anteriores, isto recebia o nome errado ST_ModEdgesSplit</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM: Topo-Geo and Topo-Net 3: Routine Details: X.3.9</p></div><div class="refsection" id="idm24834"><h2>Exemplos</h2><pre class="programlisting">-- Add an edge --
 SELECT topology.AddEdge('ma_topo', ST_GeomFromText('LINESTRING(227592 893910, 227600 893910)', 26986) ) As edgeid;

-- edgeid-
3


-- Split the edge  --
SELECT topology.ST_ModEdgeSplit('ma_topo',  3, ST_SetSRID(ST_Point(227594,893910),26986)  ) As node_id;
        node_id
-------------------------
7
</pre></div><div class="refsection" id="idm24837"><h2>Veja também</h2><p><a class="xref" href="#ST_NewEdgesSplit" title="ST_NewEdgesSplit">ST_NewEdgesSplit</a>, <a class="xref" href="#ST_ModEdgeHeal" title="ST_ModEdgeHeal">ST_ModEdgeHeal</a>, <a class="xref" href="#ST_NewEdgeHeal" title="ST_NewEdgeHeal">ST_NewEdgeHeal</a>, <a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a> </p></div></div><div class="refentry" id="ST_ModEdgeHeal"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ModEdgeHeal — Heals two edges by deleting the node connecting them, modifying the first edge and deleting the second edge. Returns the id of the deleted node. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">int <strong class="fsfunc">ST_ModEdgeHeal</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var>, integer  <var class="pdparam">anotheredge</var><code>)</code>;</p></div></div><div class="refsection" id="idm24862"><h2>Descrição</h2><p>Heals two edges by deleting the node connecting them, modifying the first edge and deleting the second edge. Returns the id of the deleted node. Updates all existing joined edges and relationships accordingly. </p><p class="availability">Disponibilidade: 2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM: Topo-Geo and Topo-Net 3: Routine Details: X.3.9</p></div><div class="refsection" id="idm24870"><h2>Veja também</h2><p>
				<a class="xref" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a>
				<a class="xref" href="#ST_NewEdgesSplit" title="ST_NewEdgesSplit">ST_NewEdgesSplit</a>
				</p></div></div><div class="refentry" id="ST_NewEdgeHeal"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NewEdgeHeal — Heals two edges by deleting the node connecting them, deleting both edges, and replacing them with an edge whose direction is the same as the first edge provided. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">int <strong class="fsfunc">ST_NewEdgeHeal</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var>, integer  <var class="pdparam">anotheredge</var><code>)</code>;</p></div></div><div class="refsection" id="idm24893"><h2>Descrição</h2><p>Heals two edges by deleting the node connecting them, deleting both edges, and replacing them with an edge whose direction is the same as the first edge provided. Returns the id of the new edge replacing the healed ones. Updates all existing joined edges and relationships accordingly. </p><p class="availability">Disponibilidade: 2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM: Topo-Geo and Topo-Net 3: Routine Details: X.3.9</p></div><div class="refsection" id="idm24901"><h2>Veja também</h2><p>
				<a class="xref" href="#ST_ModEdgeHeal" title="ST_ModEdgeHeal">ST_ModEdgeHeal</a>
				<a class="xref" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a>
				<a class="xref" href="#ST_NewEdgesSplit" title="ST_NewEdgesSplit">ST_NewEdgesSplit</a>
				</p></div></div><div class="refentry" id="ST_MoveIsoNode"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MoveIsoNode — Moves an isolated node in a topology from one point to another. If new <code class="varname">apoint</code> geometry exists as a node an error is thrown. Returns description of move.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_MoveIsoNode</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anode</var>, geometry  <var class="pdparam">apoint</var><code>)</code>;</p></div></div><div class="refsection" id="idm24926"><h2>Descrição</h2><p>Move um nó isolado em uma topologia de um ponto para outro. Se nova geometria <code class="varname">apoint</code> existe como um nó, um erro é lançado.</p><p>If any arguments are null, the <code class="varname">apoint</code> is not a point, the existing node is not isolated (is a start or end point of an existing edge), new node location intersects an existing edge (even at the end points) or the new location is in a different face (since 3.2.0) then an exception is thrown. </p><p>Se o sistema de referência espacial (srid) da geometria pontual não for o mesmo da topologia, uma exceção é lançada.</p><p class="availability">Disponibilidade: 2.0.0 </p><p>Enhanced: 3.2.0 ensures the nod cannot be moved in a different face </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM: Topo-Net Routines: X.3.2</p></div><div class="refsection" id="idm24939"><h2>Exemplos</h2><pre class="programlisting">-- Add an isolated node with no face  --
SELECT topology.ST_AddIsoNode('ma_topo',  NULL, ST_GeomFromText('POINT(227579 893916)', 26986) ) As nodeid;
 nodeid
--------
      7
-- Move the new node --
SELECT topology.ST_MoveIsoNode('ma_topo', 7,  ST_GeomFromText('POINT(227579.5 893916.5)', 26986) ) As descrip;
                      descrip
----------------------------------------------------
Isolated Node 7 moved to location 227579.5,893916.5</pre></div><div class="refsection" id="idm24942"><h2>Veja também</h2><p><a class="xref" href="#ST_AddIsoNode" title="ST_AddIsoNode">ST_AddIsoNode</a></p></div></div><div class="refentry" id="ST_NewEdgesSplit"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NewEdgesSplit — Divide um limite criando um novo nó ao longo do limite existente, deletando o limite original e substituindo-o por dois novos. Retorna a id do novo nó criado que integra os novos limites.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NewEdgesSplit</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var>, geometry  <var class="pdparam">apoint</var><code>)</code>;</p></div></div><div class="refsection" id="idm24964"><h2>Descrição</h2><p>Divide um limite com uma id limite <code class="varname">anedge</code> criando um novo nó com uma localização de ponto <code class="varname">apoint</code> junto co i limite atual, deletando o limite original e substituindo-o por dois novos. Retorna a id do novo nó criado que se une aos novos limites. Atualiza todos os limites unidos e relacionamentos em conformidade.  </p><p>Se o sistema de referência espacial (srid) da geometria pontual não é o mesmo que a topologia, o  <code class="varname">apoint</code> não é uma geometria pontual, o ponto é nulo, o ponto já existe como um nó, o limite não corresponde a um limite existente ou o ponto não está dentro do limite, então, uma exceção é aberta. </p><p class="availability">Availability: 1.1 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM: Topo-Net Routines: X.3.8</p></div><div class="refsection" id="idm24976"><h2>Exemplos</h2><pre class="programlisting">-- Add an edge  --
SELECT topology.AddEdge('ma_topo', ST_GeomFromText('LINESTRING(227575 893917,227592 893900)', 26986) ) As edgeid;
-- result-
edgeid
------
        2
-- Split the new edge --
SELECT topology.ST_NewEdgesSplit('ma_topo', 2,  ST_GeomFromText('POINT(227578.5 893913.5)', 26986) ) As newnodeid;
 newnodeid
---------
       6</pre></div><div class="refsection" id="idm24979"><h2>Veja também</h2><p>
				<a class="xref" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a>
				<a class="xref" href="#ST_ModEdgeHeal" title="ST_ModEdgeHeal">ST_ModEdgeHeal</a>
				<a class="xref" href="#ST_NewEdgeHeal" title="ST_NewEdgeHeal">ST_NewEdgeHeal</a>
				<a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a>
				</p></div></div><div class="refentry" id="ST_RemoveIsoNode"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemoveIsoNode — Remove um nó isolado e retorna descrição de ação. Se o nó não for isolado (for  começo ou fim de um limite), então, uma exceção é lançada.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_RemoveIsoNode</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anode</var><code>)</code>;</p></div></div><div class="refsection" id="idm25001"><h2>Descrição</h2><p>Remove um nó isolado e retorna descrição de ação. Se o nó não for isolado (for  começo ou fim de um limite), então, uma exceção é lançada.</p><p class="availability">Availability: 1.1 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM: Topo-Geo and Topo-Net 3: Routine Details: X+1.3.3</p></div><div class="refsection" id="idm25009"><h2>Exemplos</h2><pre class="programlisting">-- Remove an isolated node with no face  --
SELECT topology.ST_RemoveIsoNode('ma_topo',  7 ) As result;
         result
-------------------------
 Isolated node 7 removed
</pre></div><div class="refsection" id="idm25012"><h2>Veja também</h2><p><a class="xref" href="#ST_AddIsoNode" title="ST_AddIsoNode">ST_AddIsoNode</a></p></div></div><div class="refentry" id="ST_RemoveIsoEdge"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RemoveIsoEdge — Removes an isolated edge and returns description of action. If the edge is not isolated, then an exception is thrown.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_RemoveIsoEdge</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anedge</var><code>)</code>;</p></div></div><div class="refsection" id="idm25031"><h2>Descrição</h2><p>Removes an isolated edge and returns description of action. If the edge is not isolated, then an exception is thrown.</p><p class="availability">Availability: 1.1 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM: Topo-Geo and Topo-Net 3: Routine Details: X+1.3.3</p></div><div class="refsection" id="idm25039"><h2>Exemplos</h2><pre class="programlisting">-- Remove an isolated node with no face  --
SELECT topology.ST_RemoveIsoNode('ma_topo',  7 ) As result;
         result
-------------------------
 Isolated node 7 removed
</pre></div><div class="refsection" id="idm25042"><h2>Veja também</h2><p><a class="xref" href="#ST_AddIsoNode" title="ST_AddIsoNode">ST_AddIsoNode</a></p></div></div></section><section class="section" id="Topology_Accessors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.7. Assessores de Topologia</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#GetEdgeByPoint">GetEdgeByPoint</a></span><span class="refpurpose"> — Finds the edge-id of an edge that intersects a given point.</span></li><li><span class="refentrytitle"><a href="#GetFaceByPoint">GetFaceByPoint</a></span><span class="refpurpose"> — Finds face intersecting a given point.</span></li><li><span class="refentrytitle"><a href="#GetFaceContainingPoint">GetFaceContainingPoint</a></span><span class="refpurpose"> — Finds the face containing a point.</span></li><li><span class="refentrytitle"><a href="#GetNodeByPoint">GetNodeByPoint</a></span><span class="refpurpose"> — Finds the node-id of a node at a point location.</span></li><li><span class="refentrytitle"><a href="#GetTopologyID">GetTopologyID</a></span><span class="refpurpose"> — Retorna a id de uma topologia na table topology.topology dado o nome da topologia.</span></li><li><span class="refentrytitle"><a href="#GetTopologySRID">GetTopologySRID</a></span><span class="refpurpose"> — Retorna o SRID de uma topologia na table topology.topology dado o nome da topologia.</span></li><li><span class="refentrytitle"><a href="#GetTopologyName">GetTopologyName</a></span><span class="refpurpose"> — Retorna o nome de uma topologia (esquema) dada a id da topologia. </span></li><li><span class="refentrytitle"><a href="#ST_GetFaceEdges">ST_GetFaceEdges</a></span><span class="refpurpose"> — Retorna um conjunto de limites ordenados que amarram <code class="varname">aface</code>. </span></li><li><span class="refentrytitle"><a href="#ST_GetFaceGeometry">ST_GetFaceGeometry</a></span><span class="refpurpose"> — Retorna o polígono na topologia dada com a id de face especificada. </span></li><li><span class="refentrytitle"><a href="#GetRingEdges">GetRingEdges</a></span><span class="refpurpose"> — Retorna o conjunto ordenado de identificadores de limites assinados, conhecidos caminhando em um lado da beirada.   </span></li><li><span class="refentrytitle"><a href="#GetNodeEdges">GetNodeEdges</a></span><span class="refpurpose"> — Retorna um conjunto ordenado de limites incidentes no dado nó. </span></li></ul></div><div class="refentry" id="GetEdgeByPoint"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetEdgeByPoint — Finds the edge-id of an edge that intersects a given point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">GetEdgeByPoint</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">apoint</var>, float8  <var class="pdparam">tol1</var><code>)</code>;</p></div></div><div class="refsection" id="idm25066"><h2>Descrição</h2><p>Retrieves the id of an edge that intersects a Point.</p><p>A função retorna uma inteireza (id-limite) dada uma topologia, um PONTO e uma tolerância. Se tolerância = 0, o ponto tem que intersectar o limite.</p><p>If <code class="varname">apoint</code> doesn't intersect an edge, returns 0 (zero).</p><p>If use tolerance &gt; 0 and there is more than one edge near the point then an exception is thrown.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se tolerância = 0, a função usa ST_Intersects, senão usa ST_DWithin.</p></td></tr></table></div><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm25077"><h2>Exemplos</h2><p>Estes exemplos utilizam limites que criamos em </p><pre class="programlisting">SELECT topology.GetEdgeByPoint('ma_topo',geom, 1) As with1mtol, topology.GetEdgeByPoint('ma_topo',geom,0) As withnotol
FROM ST_GeomFromEWKT('SRID=26986;POINT(227622.6 893843)') As geom;
 with1mtol | withnotol
-----------+-----------
         2 |         0
</pre><pre class="programlisting">SELECT topology.GetEdgeByPoint('ma_topo',geom, 1) As nearnode
FROM ST_GeomFromEWKT('SRID=26986;POINT(227591.9 893900.4)') As geom;

-- get error --
ERROR:  Two or more edges found</pre></div><div class="refsection" id="idm25082"><h2>Veja também</h2><p><a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a>, <a class="xref" href="#GetNodeByPoint" title="GetNodeByPoint">GetNodeByPoint</a>, <a class="xref" href="#GetFaceByPoint" title="GetFaceByPoint">GetFaceByPoint</a> </p></div></div><div class="refentry" id="GetFaceByPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetFaceByPoint — Finds face intersecting a given point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">GetFaceByPoint</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">apoint</var>, float8  <var class="pdparam">tol1</var><code>)</code>;</p></div></div><div class="refsection" id="idm25106"><h2>Descrição</h2><p>Finds a face referenced by a Point, with given tolerance. </p><p>The function will effectively look for a face intersecting a circle having the point as center and the tolerance as radius. </p><p>If no face intersects the given query location, 0 is returned (universal face). </p><p>If more than one face intersect the query location an exception is thrown. </p><p class="availability">Disponibilidade: 2.0.0</p><p class="enhanced">Enhanced: 3.2.0 more efficient implementation and clearer contract, stops working with invalid topologies.</p></div><div class="refsection" id="idm25114"><h2>Exemplos</h2><pre class="programlisting">SELECT topology.GetFaceByPoint('ma_topo',geom, 10) As with1mtol, topology.GetFaceByPoint('ma_topo',geom,0) As withnotol
        FROM ST_GeomFromEWKT('POINT(234604.6 899382.0)') As geom;

         with1mtol | withnotol
        -----------+-----------
                         1 |         0</pre><pre class="programlisting">SELECT topology.GetFaceByPoint('ma_topo',geom, 1) As nearnode
        FROM ST_GeomFromEWKT('POINT(227591.9 893900.4)') As geom;

-- get error --
ERROR:  Two or more faces found</pre></div><div class="refsection" id="idm25118"><h2>Veja também</h2><p><a class="xref" href="#GetFaceContainingPoint" title="GetFaceContainingPoint">GetFaceContainingPoint</a>, <a class="xref" href="#AddFace" title="AddFace">AddFace</a>, <a class="xref" href="#GetNodeByPoint" title="GetNodeByPoint">GetNodeByPoint</a>, <a class="xref" href="#GetEdgeByPoint" title="GetEdgeByPoint">GetEdgeByPoint</a> </p></div></div><div class="refentry" id="GetFaceContainingPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetFaceContainingPoint — Finds the face containing a point.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">GetFaceContainingPoint</strong>(</code>text  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">apoint</var><code>)</code>;</p></div></div><div class="refsection" id="idm25140"><h2>Descrição</h2><p>Returns the id of the face containing a point.</p><p>An exception is thrown if the point falls on a face boundary.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The function relies on a valid topology, using edge linking and face labeling.</p></td></tr></table></div><p class="availability">Availability: 3.2.0</p></div><div class="refsection" id="idm25147"><h2>Veja também</h2><p>
<a class="xref" href="#ST_GetFaceGeometry" title="ST_GetFaceGeometry">ST_GetFaceGeometry</a>
</p></div></div><div class="refentry" id="GetNodeByPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetNodeByPoint — Finds the node-id of a node at a point location.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">GetNodeByPoint</strong>(</code>varchar  <var class="pdparam">atopology</var>, geometry  <var class="pdparam">apoint</var>, float8  <var class="pdparam">tol1</var><code>)</code>;</p></div></div><div class="refsection" id="idm25169"><h2>Descrição</h2><p>Retrieves the id of a node at a point location.</p><p>The function returns an integer (id-node) given a topology, a POINT and a tolerance. If tolerance = 0 means exact intersection, otherwise retrieves the node from an interval.</p><p>If <code class="varname">apoint</code> doesn't intersect a node, returns 0 (zero).</p><p>If use tolerance &gt; 0 and there is more than one node near the point then an exception is thrown.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se tolerância = 0, a função usa ST_Intersects, senão usa ST_DWithin.</p></td></tr></table></div><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm25180"><h2>Exemplos</h2><p>Estes exemplos utilizam limites que criamos em </p><pre class="programlisting">SELECT topology.GetNodeByPoint('ma_topo',geom, 1) As nearnode
 FROM ST_GeomFromEWKT('SRID=26986;POINT(227591.9 893900.4)') As geom;
  nearnode
----------
        2
 </pre><pre class="programlisting">SELECT topology.GetNodeByPoint('ma_topo',geom, 1000) As too_much_tolerance
 FROM ST_GeomFromEWKT('SRID=26986;POINT(227591.9 893900.4)') As geom;

 ----get error--
 ERROR:  Two or more nodes found
 </pre></div><div class="refsection" id="idm25185"><h2>Veja também</h2><p><a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a>, <a class="xref" href="#GetEdgeByPoint" title="GetEdgeByPoint">GetEdgeByPoint</a>, <a class="xref" href="#GetFaceByPoint" title="GetFaceByPoint">GetFaceByPoint</a> </p></div></div><div class="refentry" id="GetTopologyID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetTopologyID — Retorna a id de uma topologia na table topology.topology dado o nome da topologia.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">GetTopologyID</strong>(</code>varchar <var class="pdparam">toponame</var><code>)</code>;</p></div></div><div class="refsection" id="idm25203"><h2>Descrição</h2><p>Retorna a id de uma topologia na table topology.topology dado o nome da topologia.</p><p class="availability">Availability: 1.1</p></div><div class="refsection" id="idm25207"><h2>Exemplos</h2><pre class="programlisting">SELECT topology.GetTopologyID('ma_topo') As topo_id;
 topo_id
---------
       1</pre></div><div class="refsection" id="idm25210"><h2>Veja também</h2><p><a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#DropTopology" title="DropTopology">DropTopology</a>, <a class="xref" href="#GetTopologyName" title="GetTopologyName">GetTopologyName</a>, <a class="xref" href="#GetTopologySRID" title="GetTopologySRID">GetTopologySRID</a> </p></div></div><div class="refentry" id="GetTopologySRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetTopologySRID — Retorna o SRID de uma topologia na table topology.topology dado o nome da topologia.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">GetTopologyID</strong>(</code>varchar <var class="pdparam">toponame</var><code>)</code>;</p></div></div><div class="refsection" id="idm25229"><h2>Descrição</h2><p>Retorna a id de referência espacial de uma topologia na table topology.topology dado o nome da topologia.</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm25233"><h2>Exemplos</h2><pre class="programlisting">SELECT topology.GetTopologySRID('ma_topo') As SRID;
 SRID
-------
  4326</pre></div><div class="refsection" id="idm25236"><h2>Veja também</h2><p><a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#DropTopology" title="DropTopology">DropTopology</a>, <a class="xref" href="#GetTopologyName" title="GetTopologyName">GetTopologyName</a>, <a class="xref" href="#GetTopologyID" title="GetTopologyID">GetTopologyID</a> </p></div></div><div class="refentry" id="GetTopologyName"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetTopologyName — Retorna o nome de uma topologia (esquema) dada a id da topologia. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">varchar <strong class="fsfunc">GetTopologyName</strong>(</code>integer <var class="pdparam">topology_id</var><code>)</code>;</p></div></div><div class="refsection" id="idm25255"><h2>Descrição</h2><p>Retorna o nome da topologia (esquema) de uma table topology.topology dada a id topologia dela.</p><p class="availability">Availability: 1.1</p></div><div class="refsection" id="idm25259"><h2>Exemplos</h2><pre class="programlisting">SELECT topology.GetTopologyName(1) As topo_name;
 topo_name
-----------
 ma_topo</pre></div><div class="refsection" id="idm25262"><h2>Veja também</h2><p><a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#DropTopology" title="DropTopology">DropTopology</a>, <a class="xref" href="#GetTopologyID" title="GetTopologyID">GetTopologyID</a>, <a class="xref" href="#GetTopologySRID" title="GetTopologySRID">GetTopologySRID</a> </p></div></div><div class="refentry" id="ST_GetFaceEdges"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GetFaceEdges — Retorna um conjunto de limites ordenados que amarram <code class="varname">aface</code>. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">getfaceedges_returntype <strong class="fsfunc">ST_GetFaceEdges</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">aface</var><code>)</code>;</p></div></div><div class="refsection" id="idm25285"><h2>Descrição</h2><p>Retorna um conjunto de limites ordenados que amarram <code class="varname">aface</code>.  Cada saída consiste em uma sequência e uma limiteid. Os números das sequências começam com o valor 1.</p><p>A enumeração dos limites de cada anel começa do limite com o menos identificador. A ordem de limites segue uma regra da mão esquerda (a face amarrada está a esquerda de cada limite direto). </p><p class="availability">Disponibilidade: 2.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3 Topo-Geo and Topo-Net 3: Routine Details: X.3.5</p></div><div class="refsection" id="idm25295"><h2>Exemplos</h2><pre class="programlisting">-- Returns the edges bounding face 1
SELECT (topology.ST_GetFaceEdges('tt', 1)).*;
-- result --
 sequence | edge
----------+------
        1 |   -4
        2 |    5
        3 |    7
        4 |   -6
        5 |    1
        6 |    2
        7 |    3
(7 rows)
</pre><pre class="programlisting">-- Returns the sequence, edge id
-- and geometry of the edges that bound face 1
-- If you just need geom and seq, can use ST_GetFaceGeometry
SELECT t.seq, t.edge, geom
FROM topology.ST_GetFaceEdges('tt',1) As t(seq,edge)
        INNER JOIN tt.edge AS e ON abs(t.edge) = e.edge_id;
</pre></div><div class="refsection" id="idm25299"><h2>Veja também</h2><p><a class="xref" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a>, <a class="xref" href="#AddFace" title="AddFace">AddFace</a>, <a class="xref" href="#ST_GetFaceGeometry" title="ST_GetFaceGeometry">ST_GetFaceGeometry</a> </p></div></div><div class="refentry" id="ST_GetFaceGeometry"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GetFaceGeometry — Retorna o polígono na topologia dada com a id de face especificada. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_GetFaceGeometry</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">aface</var><code>)</code>;</p></div></div><div class="refsection" id="idm25320"><h2>Descrição</h2><p>Retorna o polígono na topologia dada com a id de face especificada. Constrói o polígono dos limites fazendo a face.</p><p class="availability">Availability: 1.1 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3 Topo-Geo and Topo-Net 3: Routine Details: X.3.16</p></div><div class="refsection" id="idm25328"><h2>Exemplos</h2><pre class="programlisting">-- Returns the wkt of the polygon added with AddFace
SELECT ST_AsText(topology.ST_GetFaceGeometry('ma_topo', 1)) As facegeomwkt;
-- result --
               facegeomwkt

--------------------------------------------------------------------------------
 POLYGON((234776.9 899563.7,234896.5 899456.7,234914 899436.4,234946.6 899356.9,
234872.5 899328.7,234891 899285.4,234992.5 899145,234890.6 899069,
234755.2 899255.4,234612.7 899379.4,234776.9 899563.7))
</pre></div><div class="refsection" id="idm25331"><h2>Veja também</h2><p><a class="xref" href="#AddFace" title="AddFace">AddFace</a></p></div></div><div class="refentry" id="GetRingEdges"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetRingEdges — Retorna o conjunto ordenado de identificadores de limites assinados, conhecidos caminhando em um lado da beirada.   </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">getfaceedges_returntype <strong class="fsfunc">GetRingEdges</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">aring</var>, integer  <var class="pdparam">max_edges=null</var><code>)</code>;</p></div></div><div class="refsection" id="idm25353"><h2>Descrição</h2><p>Retorna o conjunto ordenado de identificadores de limites assinados, conhecidos caminhando em um lado da beirada. Cada saída consiste em uma sequência e uma id limite assinada. Números em sequência começam com o valor 1. </p><p>Se você passa uma id limite positiva, a caminhada começa no lado esquerdo do limite correspondente e segue sua direção. Se você passa uma id limite negativa, a caminhada começa no lado direito dele e orienta-se para trás.  </p><p>Se <code class="varname">max_edges</code> não é nulo, não mais que aqueles relatos são retornados pela função. Isto foi feito para ser um parâmetro seguro ao lidar com topologias possivelmente inválidas.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função utiliza anel limite vinculando metadados.  </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0 </p></div><div class="refsection" id="idm25362"><h2>Veja também</h2><p><a class="xref" href="#ST_GetFaceEdges" title="ST_GetFaceEdges">ST_GetFaceEdges</a>, <a class="xref" href="#GetNodeEdges" title="GetNodeEdges">GetNodeEdges</a> </p></div></div><div class="refentry" id="GetNodeEdges"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetNodeEdges — Retorna um conjunto ordenado de limites incidentes no dado nó. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">getfaceedges_returntype <strong class="fsfunc">GetNodeEdges</strong>(</code>varchar  <var class="pdparam">atopology</var>, integer  <var class="pdparam">anode</var><code>)</code>;</p></div></div><div class="refsection" id="idm25382"><h2>Descrição</h2><p>Retorna um conjunto de limites incidentes no dado nó. Cada saída consiste em uma sequência e uma id limite assinada. Os números sequência começam com o valor 1. Um limite positivo começa no dado nó. Um limite negativo termina no dado nó. Limites fechado aparecerão duas vezes (com ambos sinais). A ordem é sentido horário, começando do norte.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função computa ordenação em vez de derivação dos metadados e é, assim, útil para construir o vínculo do limite anel.  </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0 </p></div><div class="refsection" id="idm25388"><h2>Veja também</h2><p><a class="xref" href="#getfaceedges_returntype" title="getfaceedges_returntype">getfaceedges_returntype</a>, <a class="xref" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a>, <a class="xref" href="#ST_Azimuth" title="ST_Azimuth">ST_Azimuth</a> </p></div></div></section><section class="section" id="Topology_Processing"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.8. Processamento de Topologia</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Esta seção cobre as funções para processar topologias de maneiras não padronizadas. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#TopologyPolygonize">Polygonize</a></span><span class="refpurpose"> — Finds and registers all faces defined by topology edges.</span></li><li><span class="refentrytitle"><a href="#AddNode">AddNode</a></span><span class="refpurpose"> — Adiciona um ponto nó na table nó no esquema topológico específico e retorna a nodeid do novo nó. Se o ponto já existe, a nodeid é retornada.</span></li><li><span class="refentrytitle"><a href="#AddEdge">AddEdge</a></span><span class="refpurpose"> — Adiciona uma linestring limite à edge table e os pontos de início e fim associados à table ponto nó do esquema de topologia especificado usando a linestring geometria específica e retorna a bordaid da nova borda (ou da borda já existente).</span></li><li><span class="refentrytitle"><a href="#AddFace">AddFace</a></span><span class="refpurpose"> — Registra uma face primitiva a uma topologia e pega seu identificador.</span></li><li><span class="refentrytitle"><a href="#TP_ST_Simplify">ST_Simplify</a></span><span class="refpurpose"> — Retorna uma versão "simplificada" da geometria da dada TopoGeometria usando o algorítimo Douglas-Peucker.</span></li><li><span class="refentrytitle"><a href="#TP_RemoveUnusedPrimitives">RemoveUnusedPrimitives</a></span><span class="refpurpose"> — Removes topology primitives which not needed to define existing TopoGeometry objects.</span></li></ul></div><div class="refentry" id="TopologyPolygonize"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Polygonize — Finds and registers all faces defined by topology edges.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Polygonize</strong>(</code>varchar  <var class="pdparam">toponame</var><code>)</code>;</p></div></div><div class="refsection" id="idm25411"><h2>Descrição</h2><p>Registers all faces that can be built out a topology edge primitives.</p><p>A topologia alvo supostamente contém nenhuma borda que se auto intersecta.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Faces já conhecidas são reconhecidas, logo, é seguro chamar Polygonize várias vezes na mesma topologia.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função não utiliza os campos set the next_left_edge e next_right_edge da table limite. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm25420"><h2>Veja também</h2><p><a class="xref" href="#AddFace" title="AddFace">AddFace</a>, <a class="xref" href="#ST_Polygonize" title="ST_Polygonize">ST_Polygonize</a></p></div></div><div class="refentry" id="AddNode"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AddNode — Adiciona um ponto nó na table nó no esquema topológico específico e retorna a nodeid do novo nó. Se o ponto já existe, a nodeid é retornada.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">AddNode</strong>(</code>varchar  <var class="pdparam">toponame</var>, geometry  <var class="pdparam">apoint</var>, boolean  <var class="pdparam">allowEdgeSplitting=false</var>, boolean  <var class="pdparam">computeContainingFace=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm25446"><h2>Descrição</h2><p>Adiciona um ponto nó na table nó no esquema topológico específico. A função <a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a> automaticamente adiciona pontos de início e fim de um limite quando chamado, não é necessário adicionar nós de um limite explicitamente. </p><p>Se qualquer limite cruzando o nó é encontrado, ou uma exceção surge ou a borda é dividida, dependendo do valor do parâmetro <code class="varname">allowEdgeSplitting</code>. </p><p>Se <code class="varname">computeContainingFace</code> for verdade, um novo nó adicionado irá corrigir a face computada. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se a geometria <code class="varname">apoint</code> já existe como um nó, não se adiciona um nó, mas a nodeid existente retorna.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm25458"><h2>Exemplos</h2><pre class="programlisting">SELECT topology.AddNode('ma_topo', ST_GeomFromText('POINT(227641.6 893816.5)', 26986) ) As nodeid;
-- result --
nodeid
--------
 4

</pre></div><div class="refsection" id="idm25461"><h2>Veja também</h2><p><a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a></p></div></div><div class="refentry" id="AddEdge"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AddEdge — Adiciona uma linestring limite à edge table e os pontos de início e fim associados à table ponto nó do esquema de topologia especificado usando a linestring geometria específica e retorna a bordaid da nova borda (ou da borda já existente).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">AddEdge</strong>(</code>varchar  <var class="pdparam">toponame</var>, geometry  <var class="pdparam">aline</var><code>)</code>;</p></div></div><div class="refsection" id="idm25481"><h2>Descrição</h2><p>Adiciona uma borda à edge table e nós associados às nodes tables do esquema <code class="varname">toponame</code> especificado, usando a linestring geometria específica e retorna a bordaid do novo ou já existente relato. A nova borda adicionada tem a face "universal" nos dois lados e se conecta com si mesma. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se a <code class="varname">aline</code> geometria cruza, sobrepõe, contém ou é contida por uma borda linestring, um erro é lançado e a borda não é adicionada.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A geometria da <code class="varname">aline</code> deve ter o mesmo <code class="varname">srid</code> definido para a topologia, senão um erro inválido é lançado no sistema de referência espacial. </p></td></tr></table></div><p>Desempenhado pelo módulo GEOS.</p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a> is deprecated as of 3.5.0. Use <a class="xref" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a> instead.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm25498"><h2>Exemplos</h2><pre class="programlisting">SELECT topology.AddEdge('ma_topo', ST_GeomFromText('LINESTRING(227575.8 893917.2,227591.9 893900.4)', 26986) ) As edgeid;
-- result-
edgeid
--------
 1

SELECT topology.AddEdge('ma_topo', ST_GeomFromText('LINESTRING(227591.9 893900.4,227622.6 893844.2,227641.6 893816.5,
 227704.5 893778.5)', 26986) ) As edgeid;
-- result --
edgeid
--------
 2

 SELECT topology.AddEdge('ma_topo', ST_GeomFromText('LINESTRING(227591.2 893900, 227591.9 893900.4,
  227704.5 893778.5)', 26986) ) As edgeid;
 -- gives error --
 ERROR:  Edge intersects (not on endpoints) with existing edge 1
</pre></div><div class="refsection" id="idm25501"><h2>Veja também</h2><p><a class="xref" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a> </p></div></div><div class="refentry" id="AddFace"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AddFace — Registra uma face primitiva a uma topologia e pega seu identificador.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">AddFace</strong>(</code>varchar  <var class="pdparam">toponame</var>, geometry  <var class="pdparam">apolygon</var>, boolean  <var class="pdparam">force_new=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm25525"><h2>Descrição</h2><p>Registra uma face primitiva a uma topologia e pega seu identificador. </p><p>Para uma nova face adicionada, as bordas formando seus limites e as contidas na face, serão atualizadas para ter valore corretos nos campos left_face e right_face.  Os nós isolados contidos na face também serão atualizados para ter um valor correto do campo containing_face. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função não utiliza os campos set the next_left_edge e next_right_edge da table limite. </p></td></tr></table></div><p>A topologia alvo é supostamente válida (não contendo nenhuma borda auto intersectada). Uma exceção surge se: O limite do polígono não estiver completamente definido ou caso o polígono sobreponha uma face existente.</p><p>Se a <code class="varname">apolygon</code>  geometria já existe como face, então: se <code class="varname">force_new</code> é falso (o padrão) a id da face da face existente retorna, se <code class="varname">force_new</code> é verdade uma nova id será assinada para a nova face registrada. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Quando um no registro de uma face existente é representada (force_new=true), nenhuma ação será tomada para resolver referências pendentes a face existente na borda, nó e tables relacionadas, nem o relato do campo MBR será atualizado. Fica a critério do chamador lidar ou não com isso. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A geometria da <code class="varname">apolygon</code>  deve ter o mesmo <code class="varname">srid</code> definido para a topologia, senão um erro inválido é lançado no sistema de referência espacial. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm25543"><h2>Exemplos</h2><pre class="programlisting">

-- first add the edges we use generate_series as an iterator (the below
-- will only work for polygons with &lt; 10000 points because of our max in gs)
SELECT topology.AddEdge('ma_topo', ST_MakeLine(ST_PointN(geom,i), ST_PointN(geom, i + 1) )) As edgeid
    FROM (SELECT  ST_NPoints(geom) AS npt, geom
            FROM
                (SELECT ST_Boundary(ST_GeomFromText('POLYGON((234896.5 899456.7,234914 899436.4,234946.6 899356.9,234872.5 899328.7,
                234891 899285.4,234992.5 899145, 234890.6 899069,234755.2 899255.4,
                234612.7 899379.4,234776.9 899563.7,234896.5 899456.7))', 26986) )  As geom
            )  As geoms) As facen CROSS JOIN generate_series(1,10000) As i
         WHERE i &lt; npt;
-- result --
 edgeid
--------
      3
      4
      5
      6
      7
      8
      9
     10
     11
     12
(10 rows)
-- then add the face -

SELECT topology.AddFace('ma_topo',
    ST_GeomFromText('POLYGON((234896.5 899456.7,234914 899436.4,234946.6 899356.9,234872.5 899328.7,
    234891 899285.4,234992.5 899145, 234890.6 899069,234755.2 899255.4,
    234612.7 899379.4,234776.9 899563.7,234896.5 899456.7))', 26986) ) As faceid;
-- result --
faceid
--------
 1

</pre></div><div class="refsection" id="idm25546"><h2>Veja também</h2><p><a class="xref" href="#AddEdge" title="AddEdge">AddEdge</a>, <a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a></p></div></div><div class="refentry" id="TP_ST_Simplify"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Simplify — Retorna uma versão "simplificada" da geometria da dada TopoGeometria usando o algorítimo Douglas-Peucker.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Simplify</strong>(</code>TopoGeometry <var class="pdparam">tg</var>, float8 <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm25567"><h2>Descrição</h2><p>Retorna uma versão "simplificada" da geometria da dada TopoGeometria usando o algorítimo Douglas-Peucker em cada borda componente.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A geometria retornada pode ser não simples ou não válida.</p><p>Dividir bordas componentes pode ajudar a manter simplicidade/validade.</p></td></tr></table></div><p>Desempenhado pelo módulo GEOS.</p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm25575"><h2>Veja também</h2><p>Geometry <a class="xref" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>, <a class="xref" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>, <a class="xref" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>, <a class="xref" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a></p></div></div><div class="refentry" id="TP_RemoveUnusedPrimitives"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>RemoveUnusedPrimitives — Removes topology primitives which not needed to define existing TopoGeometry objects.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">int <strong class="fsfunc">RemoveUnusedPrimitives</strong>(</code>text <var class="pdparam">topology_name</var>, geometry <var class="pdparam">bbox</var><code>)</code>;</p></div></div><div class="refsection" id="idm25597"><h2>Descrição</h2><p>Finds all primitives (nodes, edges, faces) that are not strictly needed to represent existing TopoGeometry objects and removes them, maintaining topology validity (edge linking, face labeling) and TopoGeometry space occupation. </p><p>No new primitive identifiers are created, but rather existing primitives are expanded to include merged faces (upon removing edges) or healed edges (upon removing nodes). </p><p class="availability">Availability: 3.3.0</p></div><div class="refsection" id="idm25602"><h2>Veja também</h2><p><a class="xref" href="#ST_ModEdgeHeal" title="ST_ModEdgeHeal">ST_ModEdgeHeal</a>, <a class="xref" href="#ST_RemEdgeModFace" title="ST_RemEdgeModFace">ST_RemEdgeModFace</a> </p></div></div></section><section class="section" id="TopoGeometry_Constructors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.9. Construtores de TopoGeometria</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Esta seção cobre as funções da topologia para criar novas topogeometrias. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#CreateTopoGeom">CreateTopoGeom</a></span><span class="refpurpose"> — Cria uma novo objeto de topo geometria de um arranjo topo elemento - tg_type: 1:[multi]point, 2:[multi]line, 3:[multi]poly, 4:collection </span></li><li><span class="refentrytitle"><a href="#toTopoGeom">toTopoGeom</a></span><span class="refpurpose"> — Converts a simple Geometry into a topo geometry.</span></li><li><span class="refentrytitle"><a href="#TopoElementArray_Agg">TopoElementArray_Agg</a></span><span class="refpurpose"> — Returns a <code class="varname">topoelementarray</code> for a set of element_id, type arrays (topoelements).</span></li><li><span class="refentrytitle"><a href="#TopoElement">TopoElement</a></span><span class="refpurpose"> — Converts a topogeometry to a topoelement.</span></li></ul></div><div class="refentry" id="CreateTopoGeom"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>CreateTopoGeom — Cria uma novo objeto de topo geometria de um arranjo topo elemento - tg_type: 1:[multi]point, 2:[multi]line, 3:[multi]poly, 4:collection </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topogeometry <strong class="fsfunc">CreateTopoGeom</strong>(</code>varchar  <var class="pdparam">toponame</var>, integer  <var class="pdparam">tg_type</var>, integer <var class="pdparam">layer_id</var>, topoelementarray <var class="pdparam">tg_objs</var><code>)</code>;</p><p><code class="funcdef">topogeometry <strong class="fsfunc">CreateTopoGeom</strong>(</code>varchar  <var class="pdparam">toponame</var>, integer  <var class="pdparam">tg_type</var>, integer <var class="pdparam">layer_id</var><code>)</code>;</p></div></div><div class="refsection" id="idm25645"><h2>Descrição</h2><p>Creates a topogeometry object for layer denoted by <code class="varname">layer_id</code> and registers it in the relations table in the <code class="varname">toponame</code> schema.</p><p><code class="varname">tg_type</code> is an integer: 1:[multi]point (punctal), 2:[multi]line (lineal), 3:[multi]poly (areal), 4:collection. <code class="varname">layer_id</code> is the layer id in the topology.layer table.</p><p>camadas pontuais são formadas a partir de um conjunto de nós, camadas lineares são formadas a partir de um conjunto de bordas, camadas areais são formadas a partir de um conjunto de faces e as coleções podem ser formadas a partir de uma mistura de nós, bordas e faces.</p><p>Omitir o arranjo de componentes gera um objeto TopoGeometria vazio.</p><p class="availability">Availability: 1.1</p></div><div class="refsection" id="idm25656"><h2>Exemplos: Formados de bordas existentes</h2><p>Create a topogeom in ri_topo schema for layer 2 (our ri_roads), of type (2) LINE, for the first edge (we loaded in <code class="varname">ST_CreateTopoGeo</code>).</p><pre class="programlisting">INSERT INTO ri.ri_roads(road_name, topo) VALUES('Unknown', topology.CreateTopoGeom('ri_topo',2,2,'{{1,2}}'::topology.topoelementarray);</pre></div><div class="refsection" id="idm25661"><h2>Exemplos: Converte uma geometria areal para uma topogeometria melhor</h2><p>Digamos que tenhamos geometrias que deveriam ser formadas de uma coleção de faces. Nós temos, por exemplo, blockgroupos tables e queremos saber a topo geometria de cada block group. Se seus dados foram perfeitamente alinhados, podemos fazer isto:</p><pre class="programlisting">-- create our topo geometry column --
SELECT topology.AddTopoGeometryColumn(
        'topo_boston',
        'boston', 'blockgroups', 'topo', 'POLYGON');

-- addtopgeometrycolumn --
1

-- update our column assuming
-- everything is perfectly aligned with our edges
UPDATE boston.blockgroups AS bg
        SET topo = topology.CreateTopoGeom('topo_boston'
        ,3,1
        , foo.bfaces)
FROM (SELECT b.gid,  topology.TopoElementArray_Agg(ARRAY[f.face_id,3]) As bfaces
        FROM boston.blockgroups As b
            INNER JOIN topo_boston.face As f ON b.geom &amp;&amp; f.mbr
        WHERE ST_Covers(b.geom, topology.ST_GetFaceGeometry('topo_boston', f.face_id))
            GROUP BY b.gid) As foo
WHERE foo.gid = bg.gid;
</pre><pre class="programlisting">--the world is rarely perfect allow for some error
--count the face if 50% of it falls
-- within what we think is our blockgroup boundary
UPDATE boston.blockgroups AS bg
        SET topo = topology.CreateTopoGeom('topo_boston'
        ,3,1
        , foo.bfaces)
FROM (SELECT b.gid,  topology.TopoElementArray_Agg(ARRAY[f.face_id,3]) As bfaces
        FROM boston.blockgroups As b
            INNER JOIN topo_boston.face As f ON b.geom &amp;&amp; f.mbr
        WHERE ST_Covers(b.geom, topology.ST_GetFaceGeometry('topo_boston', f.face_id))
        OR
 (  ST_Intersects(b.geom, topology.ST_GetFaceGeometry('topo_boston', f.face_id))
            AND ST_Area(ST_Intersection(b.geom, topology.ST_GetFaceGeometry('topo_boston', f.face_id) ) ) &gt;
                ST_Area(topology.ST_GetFaceGeometry('topo_boston', f.face_id))*0.5
                )
            GROUP BY b.gid) As foo
WHERE foo.gid = bg.gid;

-- and if we wanted to convert our topogeometry back
-- to a denormalized geometry aligned with our faces and edges
-- cast the topo to a geometry
-- The really cool thing is my new geometries
-- are now aligned with my tiger street centerlines
UPDATE boston.blockgroups SET new_geom = topo::geometry;
</pre></div><div class="refsection" id="idm25666"><h2>Veja também</h2><p><a class="xref" href="#AddTopoGeometryColumn" title="AddTopoGeometryColumn">AddTopoGeometryColumn</a>, <a class="xref" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a> <a class="xref" href="#ST_CreateTopoGeo" title="ST_CreateTopoGeo">ST_CreateTopoGeo</a>, <a class="xref" href="#ST_GetFaceGeometry" title="ST_GetFaceGeometry">ST_GetFaceGeometry</a>, <a class="xref" href="#topoelementarray" title="TopoElementArray">TopoElementArray</a>, <a class="xref" href="#TopoElementArray_Agg" title="TopoElementArray_Agg">TopoElementArray_Agg</a> </p></div></div><div class="refentry" id="toTopoGeom"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>toTopoGeom — Converts a simple Geometry into a topo geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topogeometry <strong class="fsfunc">toTopoGeom</strong>(</code>geometry  <var class="pdparam">geom</var>, varchar  <var class="pdparam">toponame</var>, integer <var class="pdparam">layer_id</var>, float8 <var class="pdparam">tolerance</var><code>)</code>;</p><p><code class="funcdef">topogeometry <strong class="fsfunc">toTopoGeom</strong>(</code>geometry  <var class="pdparam">geom</var>, topogeometry  <var class="pdparam">topogeom</var>, float8 <var class="pdparam">tolerance</var><code>)</code>;</p></div></div><div class="refsection" id="idm25708"><h2>Descrição</h2><p>Converte uma simples geometria em <a class="xref" href="#topogeometry" title="TopoGeometry">TopoGeometry</a>. </p><p>Topológicos primitivos requeridos para representar a geometria de entrada será adicionada a topologia oculta, possivelmente dividindo as existentes, e elas serão associadas com a TopoGeometria de saída na table <code class="varname">relation</code>. </p><p>Objetos existentes de TopoGeometria (com a possível exceção de <code class="varname">topogeom</code>, se dada) manterão suas formas. </p><p>Quando <code class="varname">tolerance</code> é dada, será usada para quebrar a geometria de entrada para primitivas existentes. </p><p>Na primeira forma, uma nova TopoGeometria será criada para a dada camada (<code class="varname">layer_id</code>) da topologia (<code class="varname">toponame</code>) </p><p>Na segunda forma, as rpimitivs resultantes da conversão serão adicionadas a uma TopoGeometria pre existente (<code class="varname">topogeom</code>), adicionando, possivelmente, espaço à sua forma final. Para obter a nova forma completamente substituir a antiga, veja <a class="xref" href="#clearTopoGeom" title="clearTopoGeom">clearTopoGeom</a>. </p><p class="availability">Disponibilidade: 2.0</p><p class="enhanced">Melhorias: 2.1.0 adiciona a versão pegando uma TopoGeometria existente.</p></div><div class="refsection" id="idm25726"><h2>Exemplos</h2><p>Este é um fluxo de trabalho auto contido completo</p><pre class="programlisting">-- do this if you don't have a topology setup already
-- creates topology not allowing any tolerance
SELECT topology.CreateTopology('topo_boston_test', 2249);
-- create a new table
CREATE TABLE nei_topo(gid serial primary key, nei varchar(30));
--add a topogeometry column to it
SELECT topology.AddTopoGeometryColumn('topo_boston_test', 'public', 'nei_topo', 'topo', 'MULTIPOLYGON') As new_layer_id;
new_layer_id
-----------
1

--use new layer id in populating the new topogeometry column
-- we add the topogeoms to the new layer with 0 tolerance
INSERT INTO nei_topo(nei, topo)
SELECT nei,  topology.toTopoGeom(geom, 'topo_boston_test', 1)
FROM neighborhoods
WHERE gid BETWEEN 1 and 15;

--use to verify what has happened --
SELECT * FROM
    topology.TopologySummary('topo_boston_test');

-- summary--
Topology topo_boston_test (5), SRID 2249, precision 0
61 nodes, 87 edges, 35 faces, 15 topogeoms in 1 layers
Layer 1, type Polygonal (3), 15 topogeoms
 Deploy: public.nei_topo.topo</pre><pre class="programlisting">

-- Shrink all TopoGeometry polygons by 10 meters
UPDATE nei_topo SET topo = ST_Buffer(clearTopoGeom(topo), -10);

-- Get the no-one-lands left by the above operation
-- I think GRASS calls this "polygon0 layer"
SELECT ST_GetFaceGeometry('topo_boston_test', f.face_id)
  FROM topo_boston_test.face f
  WHERE f.face_id 
&gt; 0 -- don't consider the universe face
  AND NOT EXISTS ( -- check that no TopoGeometry references the face
    SELECT * FROM topo_boston_test.relation
    WHERE layer_id = 1 AND element_id = f.face_id
  );
        </pre></div><div class="refsection" id="idm25731"><h2>Veja também</h2><p><a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#AddTopoGeometryColumn" title="AddTopoGeometryColumn">AddTopoGeometryColumn</a>, <a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a>, <a class="xref" href="#TopologySummary" title="TopologySummary">TopologySummary</a>, <a class="xref" href="#clearTopoGeom" title="clearTopoGeom">clearTopoGeom</a> </p></div></div><div class="refentry" id="TopoElementArray_Agg"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoElementArray_Agg — Returns a <code class="varname">topoelementarray</code> for a set of element_id, type arrays (topoelements).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topoelementarray <strong class="fsfunc">TopoElementArray_Agg</strong>(</code>topoelement set <var class="pdparam">tefield</var><code>)</code>;</p></div></div><div class="refsection" id="idm25752"><h2>Descrição</h2><p>Usado para criar um <a class="xref" href="#topoelementarray" title="TopoElementArray">TopoElementArray</a> de um conjunto de <a class="xref" href="#topoelement" title="TopoElement">TopoElement</a>.</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm25758"><h2>Exemplos</h2><pre class="programlisting">SELECT topology.TopoElementArray_Agg(ARRAY[e,t]) As tea
  FROM generate_series(1,3) As e CROSS JOIN generate_series(1,4) As t;
  tea
--------------------------------------------------------------------------
{{1,1},{1,2},{1,3},{1,4},{2,1},{2,2},{2,3},{2,4},{3,1},{3,2},{3,3},{3,4}}</pre></div><div class="refsection" id="idm25761"><h2>Veja também</h2><p><a class="xref" href="#topoelement" title="TopoElement">TopoElement</a>, <a class="xref" href="#topoelementarray" title="TopoElementArray">TopoElementArray</a></p></div></div><div class="refentry" id="TopoElement"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoElement — Converts a topogeometry to a topoelement.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topoelement <strong class="fsfunc">TopoElement</strong>(</code>topogeometry  <var class="pdparam">topo</var><code>)</code>;</p></div></div><div class="refsection" id="idm25778"><h2>Descrição</h2><p>Converts a <a class="xref" href="#topogeometry" title="TopoGeometry">TopoGeometry</a> to a <a class="xref" href="#topoelement" title="TopoElement">TopoElement</a>.</p><p class="availability">Availability: 3.4.0</p></div><div class="refsection" id="idm25784"><h2>Exemplos</h2><p>Este é um fluxo de trabalho auto contido completo</p><pre class="programlisting">-- do this if you don't have a topology setup already
-- Creates topology not allowing any tolerance
SELECT TopoElement(topo)
FROM neighborhoods;</pre><pre class="programlisting">-- using as cast
SELECT topology.TopoElementArray_Agg(topo::topoelement)
FROM neighborhoods
GROUP BY city;</pre></div><div class="refsection" id="idm25789"><h2>Veja também</h2><p><a class="xref" href="#TopoElementArray_Agg" title="TopoElementArray_Agg">TopoElementArray_Agg</a>, <a class="xref" href="#topogeometry" title="TopoGeometry">TopoGeometry</a>, <a class="xref" href="#topoelement" title="TopoElement">TopoElement</a></p></div></div></section><section class="section" id="TopoGeometry_Editors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.10. Editores de TopoGeometria</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Esta seção cobre as funções da topologia para editar  topogeometrias existentes. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#clearTopoGeom">clearTopoGeom</a></span><span class="refpurpose"> — Clears the content of a topo geometry.</span></li><li><span class="refentrytitle"><a href="#TopoGeom_addElement">TopoGeom_addElement</a></span><span class="refpurpose"> — Adds an element to the definition of a TopoGeometry.</span></li><li><span class="refentrytitle"><a href="#TopoGeom_remElement">TopoGeom_remElement</a></span><span class="refpurpose"> — Removes an element from the definition of a TopoGeometry.</span></li><li><span class="refentrytitle"><a href="#TopoGeom_addTopoGeom">TopoGeom_addTopoGeom</a></span><span class="refpurpose"> — Adds element of a TopoGeometry to the definition of another TopoGeometry.</span></li><li><span class="refentrytitle"><a href="#toTopoGeom_editor_proxy">toTopoGeom</a></span><span class="refpurpose"> — Adds a geometry shape to an existing topo geometry.</span></li></ul></div><div class="refentry" id="clearTopoGeom"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>clearTopoGeom — Clears the content of a topo geometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topogeometry <strong class="fsfunc">clearTopoGeom</strong>(</code>topogeometry  <var class="pdparam">topogeom</var><code>)</code>;</p></div></div><div class="refsection" id="idm25812"><h2>Descrição</h2><p>Limpa o conteúdo de um <a class="xref" href="#topogeometry" title="TopoGeometry">TopoGeometry</a> tornando-o vazio. Mais útil quando usado em conjunto com <a class="xref" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a> para substituir o formato de objetos existentes e qualquer objeto dependente em níveis hierárquicos mais elevados. </p><p class="availability">Disponibilidade: 2.1</p></div><div class="refsection" id="idm25818"><h2>Exemplos</h2><pre class="programlisting">-- Shrink all TopoGeometry polygons by 10 meters
UPDATE nei_topo SET topo = ST_Buffer(clearTopoGeom(topo), -10);
                                </pre></div><div class="refsection" id="idm25821"><h2>Veja também</h2><p>
<a class="xref" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a>
        </p></div></div><div class="refentry" id="TopoGeom_addElement"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeom_addElement — Adds an element to the definition of a TopoGeometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topogeometry <strong class="fsfunc">TopoGeom_addElement</strong>(</code>topogeometry  <var class="pdparam">tg</var>, topoelement  <var class="pdparam">el</var><code>)</code>;</p></div></div><div class="refsection" id="idm25840"><h2>Descrição</h2><p>Adiciona um <a class="xref" href="#topoelement" title="TopoElement">TopoElement</a> à definição de um objeto de TopoGeometria. Não apresenta erro se o elemento já faz parte da definição. </p><p class="availability">Disponibilidade: 2.3</p></div><div class="refsection" id="idm25845"><h2>Exemplos</h2><pre class="programlisting">-- Add edge 5 to TopoGeometry tg
UPDATE mylayer SET tg = TopoGeom_addElement(tg, '{5,2}');
                                </pre></div><div class="refsection" id="idm25848"><h2>Veja também</h2><p><a class="xref" href="#TopoGeom_remElement" title="TopoGeom_remElement">TopoGeom_remElement</a>, <a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a> </p></div></div><div class="refentry" id="TopoGeom_remElement"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeom_remElement — Removes an element from the definition of a TopoGeometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topogeometry <strong class="fsfunc">TopoGeom_remElement</strong>(</code>topogeometry  <var class="pdparam">tg</var>, topoelement  <var class="pdparam">el</var><code>)</code>;</p></div></div><div class="refsection" id="idm25868"><h2>Descrição</h2><p>Remove um <a class="xref" href="#topoelement" title="TopoElement">TopoElement</a> de uma definição de uma objeto de TopoGeometrias. </p><p class="availability">Disponibilidade: 2.3</p></div><div class="refsection" id="idm25873"><h2>Exemplos</h2><pre class="programlisting">-- Remove face 43 from TopoGeometry tg
UPDATE mylayer SET tg = TopoGeom_remElement(tg, '{43,3}');
                                </pre></div><div class="refsection" id="idm25876"><h2>Veja também</h2><p><a class="xref" href="#TopoGeom_addElement" title="TopoGeom_addElement">TopoGeom_addElement</a>, <a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a> </p></div></div><div class="refentry" id="TopoGeom_addTopoGeom"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>TopoGeom_addTopoGeom — Adds element of a TopoGeometry to the definition of another TopoGeometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topogeometry <strong class="fsfunc">TopoGeom_addTopoGeom</strong>(</code>topogeometry  <var class="pdparam">tgt</var>, topogeometry  <var class="pdparam">src</var><code>)</code>;</p></div></div><div class="refsection" id="idm25896"><h2>Descrição</h2><p>Adds the elements of a <a class="xref" href="#topogeometry" title="TopoGeometry">TopoGeometry</a> to the definition of another TopoGeometry, possibly changing its cached type (type attribute) to a collection, if needed to hold all elements in the source object. </p><p>The two TopoGeometry objects need be defined against the *same* topology and, if hierarchically defined, need be composed by elements of the same child layer. </p><p class="availability">Availability: 3.2</p></div><div class="refsection" id="idm25902"><h2>Exemplos</h2><pre class="programlisting">-- Set an "overall" TopoGeometry value to be composed by all
-- elements of specific TopoGeometry values
UPDATE mylayer SET tg_overall = TopoGeom_addTopogeom(
    TopoGeom_addTopoGeom(
        clearTopoGeom(tg_overall),
        tg_specific1
    ),
    tg_specific2
);
                                </pre></div><div class="refsection" id="idm25905"><h2>Veja também</h2><p><a class="xref" href="#TopoGeom_addElement" title="TopoGeom_addElement">TopoGeom_addElement</a>, <a class="xref" href="#clearTopoGeom" title="clearTopoGeom">clearTopoGeom</a>, <a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a> </p></div></div><div class="refentry" id="toTopoGeom_editor_proxy"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>toTopoGeom — Adds a geometry shape to an existing topo geometry.</p></div><div class="refsection" id="idm25915"><h2>Descrição</h2><p>Refer to <a class="xref" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a>. </p></div></div></section><section class="section" id="TopoGeom_Accessors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.11. Assessores de TopoGeometria</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#GetTopoGeomElementArray">GetTopoGeomElementArray</a></span><span class="refpurpose"> — Returns a <code class="varname">topoelementarray</code> (an array of topoelements) containing the topological elements and type of the given TopoGeometry (primitive elements).</span></li><li><span class="refentrytitle"><a href="#GetTopoGeomElements">GetTopoGeomElements</a></span><span class="refpurpose"> — Returns a set of <code class="varname">topoelement</code> objects containing the topological element_id,element_type of the given TopoGeometry (primitive elements).</span></li><li><span class="refentrytitle"><a href="#TG_ST_SRID">ST_SRID</a></span><span class="refpurpose"> — Returns the spatial reference identifier for a topogeometry.</span></li></ul></div><div class="refentry" id="GetTopoGeomElementArray"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetTopoGeomElementArray — Returns a <code class="varname">topoelementarray</code> (an array of topoelements) containing the topological elements and type of the given TopoGeometry (primitive elements).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">topoelementarray <strong class="fsfunc">GetTopoGeomElementArray</strong>(</code>varchar  <var class="pdparam">toponame</var>, integer  <var class="pdparam">layer_id</var>, integer <var class="pdparam">tg_id</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">topoelementarray <strong class="fsfunc">GetTopoGeomElementArray</strong>(</code>topogeometry  <var class="pdparam">tg</var><code>)</code>;</p></div></div><div class="refsection" id="idm25947"><h2>Descrição</h2><p>Retorna um <a class="xref" href="#topoelementarray" title="TopoElementArray">TopoElementArray</a> contendo os tipos e elementos da dada TopoGeometria (elementos primitivos). Isto é parecido com GetTopoGeomElements, mas em vez de retornar os elementos como dataset, retorna como um arranjo. </p><p>tg_id é a id topogeometria do objeto de topogeometria na camada indicada pela <code class="varname">layer_id</code> na topology.layer table.</p><p class="availability">Availability: 1.1</p></div><div class="refsection" id="idm25954"><h2>Exemplos</h2><p/></div><div class="refsection" id="idm25957"><h2>Veja também</h2><p><a class="xref" href="#GetTopoGeomElements" title="GetTopoGeomElements">GetTopoGeomElements</a>, <a class="xref" href="#topoelementarray" title="TopoElementArray">TopoElementArray</a></p></div></div><div class="refentry" id="GetTopoGeomElements"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>GetTopoGeomElements — Returns a set of <code class="varname">topoelement</code> objects containing the topological element_id,element_type of the given TopoGeometry (primitive elements).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof topoelement <strong class="fsfunc">GetTopoGeomElements</strong>(</code>varchar  <var class="pdparam">toponame</var>, integer  <var class="pdparam">layer_id</var>, integer <var class="pdparam">tg_id</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">setof topoelement <strong class="fsfunc">GetTopoGeomElements</strong>(</code>topogeometry  <var class="pdparam">tg</var><code>)</code>;</p></div></div><div class="refsection" id="idm25988"><h2>Descrição</h2><p>Returns a set of element_id,element_type (topoelements) corresponding to primitive topology elements <a class="xref" href="#topoelement" title="TopoElement">TopoElement</a> (1: nodes, 2: edges, 3: faces) that a given topogeometry object in <code class="varname">toponame</code> schema is composed of.</p><p>tg_id é a id topogeometria do objeto de topogeometria na camada indicada pela <code class="varname">layer_id</code> na topology.layer table.</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm25996"><h2>Exemplos</h2><p/></div><div class="refsection" id="idm25999"><h2>Veja também</h2><p><a class="xref" href="#GetTopoGeomElementArray" title="GetTopoGeomElementArray">GetTopoGeomElementArray</a>, <a class="xref" href="#topoelement" title="TopoElement">TopoElement</a>, <a class="xref" href="#TopoGeom_addElement" title="TopoGeom_addElement">TopoGeom_addElement</a>, <a class="xref" href="#TopoGeom_remElement" title="TopoGeom_remElement">TopoGeom_remElement</a> </p></div></div><div class="refentry" id="TG_ST_SRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SRID — Returns the spatial reference identifier for a topogeometry.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_SRID</strong>(</code>topogeometry  <var class="pdparam">tg</var><code>)</code>;</p></div></div><div class="refsection" id="idm26018"><h2>Descrição</h2><p>Returns the spatial reference identifier for the ST_Geometry as defined in spatial_ref_sys table. <a class="xref" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a></p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>spatial_ref_sys table is a table that catalogs all spatial reference systems known to PostGIS and is used for transformations from one spatial reference system to another. So verifying you have the right spatial reference system identifier is important if you plan to ever transform your geometries.</p></td></tr></table></div><p class="availability">Availability: 3.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method implements the SQL/MM specification.  SQL-MM 3: 14.1.5</p></div><div class="refsection" id="idm26030"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_SRID(ST_GeomFromText('POINT(-71.1043 42.315)',4326));
                --result
                4326
                </pre></div><div class="refsection" id="idm26033"><h2>Veja também</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a>, <a class="xref" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div></section><section class="section" id="TopoGeometry_Outputs"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.12. TopoGeometry Outputs</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#AsGML">AsGML</a></span><span class="refpurpose"> — Retorna a representação GML de uma topogeometria.</span></li><li><span class="refentrytitle"><a href="#AsTopoJSON">AsTopoJSON</a></span><span class="refpurpose"> — Retorna a representação TopoJSON  de uma topogeometria.</span></li></ul></div><div class="refentry" id="AsGML"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AsGML — Retorna a representação GML de uma topogeometria.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var>, text  <var class="pdparam">nsprefix_in</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var>, regclass  <var class="pdparam">visitedTable</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var>, regclass  <var class="pdparam">visitedTable</var>, text  <var class="pdparam">nsprefix</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var>, text  <var class="pdparam">nsprefix_in</var>, integer  <var class="pdparam">precision</var>, integer  <var class="pdparam">options</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var>, text  <var class="pdparam">nsprefix_in</var>, integer  <var class="pdparam">precision</var>, integer  <var class="pdparam">options</var>, regclass  <var class="pdparam">visitedTable</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var>, text  <var class="pdparam">nsprefix_in</var>, integer  <var class="pdparam">precision</var>, integer  <var class="pdparam">options</var>, regclass  <var class="pdparam">visitedTable</var>, text  <var class="pdparam">idprefix</var><code>)</code>;</p><p><code class="funcdef">text <strong class="fsfunc">AsGML</strong>(</code>topogeometry  <var class="pdparam">tg</var>, text  <var class="pdparam">nsprefix_in</var>, integer  <var class="pdparam">precision</var>, integer  <var class="pdparam">options</var>, regclass  <var class="pdparam">visitedTable</var>, text  <var class="pdparam">idprefix</var>, int  <var class="pdparam">gmlversion</var><code>)</code>;</p></div></div><div class="refsection" id="idm26162"><h2>Descrição</h2><p>Retorna a representação GML de uma topogeometria na versão GML3 format. Se o <code class="varname">nsprefix_in</code> não for especificado, então <code class="varname">gml</code> é usado. Passa em uma string vazia para nsprefix para pegar um espaço não qualificado. A precisão (padrão: 15) e parâmetros (padrão 1) de opções, se dados, são passados inalterados para a chamada subjacente para ST_AsGML. </p><p>O parâmetro <code class="varname">visitedTable</code>, se dado, é usado para manter o caminho dos elementos nó e borda visitados, assim como para usar referências-cruzadas  (xlink:xref) em vez de definições duplicadas. É esperado que a tabela tenha (pelo menos) dois campos inteiros: 'element_type' e 'element_id'. O usuário visitante deve ter os privilégios escritos e lidos na dada tabela. Para uma melhor apresentação, um index deve ser definido no <code class="varname">element_type</code> e <code class="varname">element_id</code>, nesta ordem. Tal index será adicionado automaticamente ao adicionar uma única limitação aos campos. Exemplo:  </p><pre class="programlisting">CREATE TABLE visited (
  element_type integer, element_id integer,
  unique(element_type, element_id)
);
</pre><p>
		</p><p>O parâmetro <code class="varname">idprefix</code>, se dado, será antecipado aos identificadores tag de bordas e nós. </p><p>O parâmetro <code class="varname">gmlver</code>, se dado, será passado à ST_AsGML subjacente. Padrões para 3.</p><p class="availability">Disponibilidade: 2.0.0 </p></div><div class="refsection" id="idm26177"><h2>Exemplos</h2><p>Isto usa a topo geometria que criamos em <a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a></p><pre class="programlisting">
SELECT topology.AsGML(topo) As rdgml
  FROM ri.roads
  WHERE road_name = 'Unknown';

-- rdgml--
&lt;gml:TopoCurve&gt;
    &lt;gml:directedEdge&gt;
        &lt;gml:Edge gml:id="E1"&gt;
            &lt;gml:directedNode orientation="-"&gt;
                &lt;gml:Node gml:id="N1"/&gt;
            &lt;/gml:directedNode&gt;
            &lt;gml:directedNode
&gt;&lt;/gml:directedNode&gt;
            &lt;gml:curveProperty&gt;
                &lt;gml:Curve srsName="urn:ogc:def:crs:EPSG::3438"&gt;
                    &lt;gml:segments&gt;
                        &lt;gml:LineStringSegment&gt;
                            &lt;gml:posList srsDimension="2"
&gt;384744 236928 384750 236923 384769 236911 384799 236895 384811 236890
                            384833 236884 384844 236882 384866 236881 384879 236883 384954 236898 385087 236932 385117 236938
                            385167 236938 385203 236941 385224 236946 385233 236950 385241 236956 385254 236971
                            385260 236979 385268 236999 385273 237018 385273 237037 385271 237047 385267 237057 385225 237125
                            385210 237144 385192 237161 385167 237192 385162 237202 385159 237214 385159 237227 385162 237241
                            385166 237256 385196 237324 385209 237345 385234 237375 385237 237383 385238 237399 385236 237407
                            385227 237419 385213 237430 385193 237439 385174 237451 385170 237455 385169 237460 385171 237475
                            385181 237503 385190 237521 385200 237533 385206 237538 385213 237541 385221 237542 385235 237540 385242 237541
                            385249 237544 385260 237555 385270 237570 385289 237584 385292 237589 385291 237596 385284 237630&lt;/gml:posList&gt;
                        &lt;/gml:LineStringSegment&gt;
                    &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
            &lt;/gml:curveProperty&gt;
        &lt;/gml:Edge&gt;
    &lt;/gml:directedEdge&gt;
&lt;/gml:TopoCurve&gt;
</pre><p>É o mesmo exercício do o anterior, mas sem o espaço para nome</p><pre class="programlisting">
SELECT topology.AsGML(topo,'') As rdgml
  FROM ri.roads
  WHERE road_name = 'Unknown';

-- rdgml--
&lt;TopoCurve&gt;
    &lt;directedEdge&gt;
        &lt;Edge id="E1"&gt;
            &lt;directedNode orientation="-"&gt;
                &lt;Node id="N1"/&gt;
            &lt;/directedNode&gt;
            &lt;directedNode
&gt;&lt;/directedNode&gt;
            &lt;curveProperty&gt;
                &lt;Curve srsName="urn:ogc:def:crs:EPSG::3438"&gt;
                    &lt;segments&gt;
                        &lt;LineStringSegment&gt;
                            &lt;posList srsDimension="2"
&gt;384744 236928 384750 236923 384769 236911 384799 236895 384811 236890
                            384833 236884 384844 236882 384866 236881 384879 236883 384954 236898 385087 236932 385117 236938
                            385167 236938 385203 236941 385224 236946 385233 236950 385241 236956 385254 236971
                            385260 236979 385268 236999 385273 237018 385273 237037 385271 237047 385267 237057 385225 237125
                            385210 237144 385192 237161 385167 237192 385162 237202 385159 237214 385159 237227 385162 237241
                            385166 237256 385196 237324 385209 237345 385234 237375 385237 237383 385238 237399 385236 237407
                            385227 237419 385213 237430 385193 237439 385174 237451 385170 237455 385169 237460 385171 237475
                            385181 237503 385190 237521 385200 237533 385206 237538 385213 237541 385221 237542 385235 237540 385242 237541
                            385249 237544 385260 237555 385270 237570 385289 237584 385292 237589 385291 237596 385284 237630&lt;/posList&gt;
                         &lt;/LineStringSegment&gt;
                    &lt;/segments&gt;
                &lt;/Curve&gt;
            &lt;/curveProperty&gt;
        &lt;/Edge&gt;
    &lt;/directedEdge&gt;
&lt;/TopoCurve&gt;
</pre></div><div class="refsection" id="idm26184"><h2>Veja também</h2><p><a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a>, <a class="xref" href="#ST_CreateTopoGeo" title="ST_CreateTopoGeo">ST_CreateTopoGeo</a></p></div></div><div class="refentry" id="AsTopoJSON"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AsTopoJSON — Retorna a representação TopoJSON  de uma topogeometria.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">AsTopoJSON</strong>(</code>topogeometry  <var class="pdparam">tg</var>, regclass  <var class="pdparam">edgeMapTable</var><code>)</code>;</p></div></div><div class="refsection" id="idm26204"><h2>Descrição</h2><p>Retorna a representação TopoJSON de uma topogeometria. Se a <code class="varname">edgeMapTable</code> não for nula, será usada como um mapeamento de pesquisa/armazenamento de identificadores de borda para índices de arcos. Isto é para permitir um arranjo compacto de "arcos" no documento final. </p><p>É esperado que a tabela, se dada, tenha um campo  "arc_id" do tipo "serial" e uma "edge_id" de tipo inteiro; o código irá consultar a tabela para "edge_id", então é recomendado adicionar um index naquele campo.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Os índices de arcos na saída TopoJSON são 0-baseados mas são 1-baseados na tabela "edgeMapTable". </p></td></tr></table></div><p>Um documento TopoJSON completo precisará conter, em soma com os fragmentos retornados por esta função, os arcos atuais mais alguns cabeçalhos. Veja a <a class="link" href="http://github.com/mbostock/topojson-specification/blob/master/README.md" target="_top">TopoJSON specification</a>. </p><p class="availability">Disponibilidade: 2.1.0 </p><p class="enhanced">Melhorias: 2.2.1 suporte para entradas pontuais adicionado </p></div><div class="refsection" id="idm26215"><h2>Veja também</h2><p><a class="xref" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a></p></div><div class="refsection" id="idm26219"><h2>Exemplos</h2><pre class="programlisting">CREATE TEMP TABLE edgemap(arc_id serial, edge_id int unique);

-- header
SELECT '{ "type": "Topology", "transform": { "scale": [1,1], "translate": [0,0] }, "objects": {'

-- objects
UNION ALL SELECT '"' || feature_name || '": ' || AsTopoJSON(feature, 'edgemap')
FROM features.big_parcels WHERE feature_name = 'P3P4';

-- arcs
WITH edges AS (
  SELECT m.arc_id, e.geom FROM edgemap m, city_data.edge e
  WHERE e.edge_id = m.edge_id
), points AS (
  SELECT arc_id, (st_dumppoints(geom)).* FROM edges
), compare AS (
  SELECT p2.arc_id,
         CASE WHEN p1.path IS NULL THEN p2.geom
              ELSE ST_Translate(p2.geom, -ST_X(p1.geom), -ST_Y(p1.geom))
         END AS geom
  FROM points p2 LEFT OUTER JOIN points p1
  ON ( p1.arc_id = p2.arc_id AND p2.path[1] = p1.path[1]+1 )
  ORDER BY arc_id, p2.path
), arcsdump AS (
  SELECT arc_id, (regexp_matches( ST_AsGeoJSON(geom), '\[.*\]'))[1] as t
  FROM compare
), arcs AS (
  SELECT arc_id, '[' || array_to_string(array_agg(t), ',') || ']' as a FROM arcsdump
  GROUP BY arc_id
  ORDER BY arc_id
)
SELECT '}, "arcs": [' UNION ALL
SELECT array_to_string(array_agg(a), E',\n') from arcs

-- footer
UNION ALL SELECT ']}'::text as t;

-- Result:
{ "type": "Topology", "transform": { "scale": [1,1], "translate": [0,0] }, "objects": {
"P3P4": { "type": "MultiPolygon", "arcs": [[[-1]],[[6,5,-5,-4,-3,1]]]}
}, "arcs": [
 [[25,30],[6,0],[0,10],[-14,0],[0,-10],[8,0]],
 [[35,6],[0,8]],
 [[35,6],[12,0]],
 [[47,6],[0,8]],
 [[47,14],[0,8]],
 [[35,22],[12,0]],
 [[35,14],[0,8]]
 ]}
</pre></div></div></section><section class="section" id="Topology_Relationships"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.13. Relações de Topologia Espacial</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Esta seção lista as funções Topológicas usadas para verificar as relações entre topogeometrias e topologias primitivas</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#TG_Equals">Equals</a></span><span class="refpurpose"> — Retorna verdade se duas topogeometrias forem compostas da mesma topologia primitiva</span></li><li><span class="refentrytitle"><a href="#TG_Intersects">Intersects</a></span><span class="refpurpose"> — Retorna verdade se algum par de primitivos das duas topologias se intersectar.</span></li></ul></div><div class="refentry" id="TG_Equals"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Equals — Retorna verdade se duas topogeometrias forem compostas da mesma topologia primitiva</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">Equals</strong>(</code>topogeometry  <var class="pdparam">tg1</var>, topogeometry  <var class="pdparam">tg2</var><code>)</code>;</p></div></div><div class="refsection" id="idm26242"><h2>Descrição</h2><p>Retorna verdade se duas topogeometrias forem compostas das mesmas topologias primitivas: faces, bordas e nós.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função não é suportada por geometrias que são coleções de geometrias. Também não pode comparar topogeometrias de topologias diferentes.</p></td></tr></table></div><p class="availability">Disponibilidade: 1.1.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm26252"><h2>Exemplos</h2><pre class="programlisting"/></div><div class="refsection" id="idm26255"><h2>Veja também</h2><p><a class="xref" href="#GetTopoGeomElements" title="GetTopoGeomElements">GetTopoGeomElements</a>, <a class="xref" href="#ST_Equals" title="ST_Equals">ST_Equals</a></p></div></div><div class="refentry" id="TG_Intersects"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Intersects — Retorna verdade se algum par de primitivos das duas topologias se intersectar.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">Intersects</strong>(</code>topogeometry  <var class="pdparam">tg1</var>, topogeometry  <var class="pdparam">tg2</var><code>)</code>;</p></div></div><div class="refsection" id="idm26275"><h2>Descrição</h2><p>Retorna verdade se algum par de primitivos das duas topologias se intersectar. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function not supported for topogeometries that are geometry collections. It also can not compare topogeometries from different topologies. Also not currently supported for hierarchical topogeometries (topogeometries composed of other topogeometries).</p></td></tr></table></div><p class="availability">Disponibilidade: 1.1.0 </p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This function supports 3d and will not drop the z-index. </p></div><div class="refsection" id="idm26285"><h2>Exemplos</h2><pre class="programlisting"/></div><div class="refsection" id="idm26288"><h2>Veja também</h2><p><a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a></p></div></div></section><section class="section" id="Topology_Import_Export"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.14. Importing and exporting Topologies</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#pgtopo_export">9.14.1. Using the Topology exporter</a></span></li><li><span class="section"><a href="#pgtopo_import">9.14.2. Using the Topology importer</a></span></li></ul></div><p>Once you have created topologies, and maybe associated topological layers, you might want to export them into a file-based format for backup or transfer into another database. </p><p>Using the standard dump/restore tools of PostgreSQL is problematic because topologies are composed by a set of tables (4 for primitives, an arbitrary number for layers) and records in metadata tables (topology.topology and topology.layer). Additionally, topology identifiers are not univoque across databases so that parameter of your topology will need to be changes upon restoring it. </p><p>In order to simplify export/restore of topologies a pair of executables are provided: <code class="filename">pgtopo_export</code> and <code class="filename">pgtopo_import</code>. Example usage: </p><pre class="programlisting">pgtopo_export dev_db topo1 | pgtopo_import topo1 | psql staging_db
</pre><section class="section" id="pgtopo_export"><div class="titlepage"><div><div><h3 class="title">9.14.1. Using the Topology exporter</h3></div></div></div><p>The <code class="filename">pgtopo_export</code> script takes the name of a database and a topology and outputs a dump file which can be used to import the topology (and associated layers) into a new database. </p><p>By default <code class="filename">pgtopo_export</code> writes the dump file to the standard output so that it can be piped to <code class="filename">pgtopo_import</code> or redirected to a file (refusing to write to terminal). You can optionally specify an output filename with the <code class="code">-f</code> commandline switch. </p><p>By default <code class="filename">pgtopo_export</code> includes a dump of all layers defined against the given topology. This may be more data than you need, or may be non-working (in case your layer tables have complex dependencies) in which case you can request skipping the layers with the <code class="code">--skip-layers</code> switch and deal with those separately. </p><p>Invoking <code class="filename">pgtopo_export</code> with the <code class="code">--help</code> (or <code class="code">-h</code> for short) switch will always print short usage string. </p><p>The dump file format is a compressed tar archive of a <code class="filename">pgtopo_export</code> directory containing at least a <code class="filename">pgtopo_dump_version</code> file with format version info. As of version <code class="code">1</code> the directory contains tab-delimited CSV files with data of the topology primitive tables (node, edge_data, face, relation), the topology and layer records associated with it and (unless <code class="code">--skip-layers</code> is given) a custom-format PostgreSQL dump of tables reported as being layers of the given topology. </p></section><section class="section" id="pgtopo_import"><div class="titlepage"><div><div><h3 class="title">9.14.2. Using the Topology importer</h3></div></div></div><p>The <code class="filename">pgtopo_import</code> script takes a <code class="code">pgtopo_export</code> format topology dump and a name to give to the topology to be created and outputs an SQL script reconstructing the topology and associated layers. </p><p>The generated SQL file will contain statements that create a topology with the given name, load primitive data in it, restores and registers all topology layers by properly linking all TopoGeometry values to their correct topology. </p><p>By default <code class="filename">pgtopo_import</code> reads the dump from the standard input so that it can be used in conjunction with <code class="filename">pgtopo_export</code> in a pipeline. You can optionally specify an input filename with the <code class="code">-f</code> commandline switch. </p><p>By default <code class="filename">pgtopo_import</code> includes in the output SQL file the code to restore all layers found in the dump. </p><p>This may be unwanted or non-working in case your target database already have tables with the same name as the ones in the dump. In that case you can request skipping the layers with the <code class="code">--skip-layers</code> switch and deal with those separately (or later). </p><p>SQL to only load and link layers to a named topology can be generated using the <code class="code">--only-layers</code> switch. This can be useful to load layers AFTER resolving the naming conflicts or to link layers to a different topology (say a spatially-simplified version of the starting topology). </p></section></section></section><section class="chapter" id="using_raster_dataman"><div class="titlepage"><div><div><h1 class="title">Chapter 10. Gerência de dados raster, pesquisas e aplicações </h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#RT_Loading_Rasters">10.1. Carregando e criando dados matriciais</a></span></li><li><span class="section"><a href="#RT_Raster_Catalog">10.2. Catálogos Raster</a></span></li><li><span class="section"><a href="#RT_Raster_Applications">10.3. Construindo Aplicações Personalizadas com o PostGIS Raster</a></span></li></ul></div><section class="section" id="RT_Loading_Rasters"><div class="titlepage"><div><div><h2 class="title" style="clear: both">10.1. Carregando e criando dados matriciais</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#RT_Raster_Loader">10.1.1. Usando o raster2pgsql para carregar dados matricias</a></span></li><li><span class="section"><a href="#RT_Creating_Rasters">10.1.2. Criando rasters utilizando as funções rasters do PostGIS </a></span></li><li><span class="section"><a href="#RT_Cloud_Rasters">10.1.3. Using "out db" cloud rasters</a></span></li></ul></div><p>Para a maioria dos casos, você usará a ferramenta <code class="varname">raster2pgsql</code> para carregar os dados matricias para o PostGIS.</p><section class="section" id="RT_Raster_Loader"><div class="titlepage"><div><div><h3 class="title">10.1.1. Usando o raster2pgsql para carregar dados matricias</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#idm26352">10.1.1.1. Example Usage</a></span></li><li><span class="section"><a href="#idm26366">10.1.1.2. raster2pgsql options</a></span></li></ul></div><p>The <code class="varname">raster2pgsql</code> is a raster loader executable that loads GDAL supported raster formats into SQL suitable for loading into a PostGIS raster table. It is capable of loading folders of raster files as well as creating overviews of rasters. </p><p>Since the raster2pgsql is compiled as part of PostGIS most often (unless you compile your own GDAL library), the raster types supported by the executable will be the same as those compiled in the GDAL dependency library. To get a list of raster types your particular <code class="varname">raster2pgsql</code> supports use the <code class="varname">-G</code> switch.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Na criação de overviews de um fator específico de um conjunto de rasters que estão alinhados, é possível que as overviews não se alinhem. Visite <a class="link" href="http://trac.osgeo.org/postgis/ticket/1764" target="_top">http://trac.osgeo.org/postgis/ticket/1764</a> para ver um exemplo onde as overviews não se alinham.</p></td></tr></table></div><section class="section" id="idm26352"><div class="titlepage"><div><div><h4 class="title">10.1.1.1. Example Usage</h4></div></div></div><p>Uma sessão de exemplo usando o carregador para criar um arquivo de entrada fazendo upload de seus azulejos fragmentados em 100x100, pode ficar parecido com:</p><pre class="programlisting">
# -s use srid 4326
# -I create spatial index
# -C use standard raster constraints
# -M vacuum analyze after load
# *.tif load all these files
# -F include a filename column in the raster table
# -t tile the output 100x100
# public.demelevation load into this table
raster2pgsql -s 4326 -I -C -M -F -t 100x100 *.tif public.demelevation 
&gt; elev.sql

# -d connect to this database
# -f read this file after connecting
psql -d gisdb -f elev.sql
</pre><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If you do not specify the schema as part of the target table name, the table will be created in the default schema of the database or user you are connecting with.</p></td></tr></table></div><p>Uma conversão e u upload podem ser feitos em apenas um passo usando encadeamento UNIX: </p><pre class="programlisting">raster2pgsql -s 4326 -I -C -M *.tif -F -t 100x100 public.demelevation | psql -d gisdb</pre><p>Carregue as tiles em metros dos rasters do estado plano de Massachusetts no esquema chamado: <code class="varname">aerial</code> e crie uma view completa,tabelas panoramas de níveis 2 e 4, use o modo cópia para inserir (sem arquivos intermediários), e -e não força tudo em uma transação (é bom se você quiser ver dados em tabelas sem esperar nada por isso). Quebre os rasters em 128x128 pixel tiles e aplique restrições de rasters. Utilize o modo cópia em vez da tabela inserida. (-F) Inclui um campo chamado filename para conter o nome do arquivo de onde as tiles cortam. </p><pre class="programlisting">raster2pgsql -I -C -e -Y -F -s 26986 -t 128x128  -l 2,4 bostonaerials2008/*.jpg aerials.boston | psql -U postgres -d gisdb -h localhost -p 5432</pre><pre class="programlisting">--get a list of raster types supported:
raster2pgsql -G</pre><p>Os comandos -G  geram uma lista parecida com  </p><pre class="screen">Available GDAL raster formats:
  Virtual Raster
  GeoTIFF
  National Imagery Transmission Format
  Raster Product Format TOC format
  ECRG TOC format
  Erdas Imagine Images (.img)
  CEOS SAR Image
  CEOS Image
  ...
  Arc/Info Export E00 GRID
  ZMap Plus Grid
  NOAA NGS Geoid Height Grids</pre></section><section class="section" id="idm26366"><div class="titlepage"><div><div><h4 class="title">10.1.1.2. raster2pgsql options</h4></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-?</code></span></dt><dd><p>Tela de ajuda. A ajuda também é exibida se você não passar em nenhum argumento.  </p></dd><dt><span class="term"><code class="option">-G</code></span></dt><dd><p>Imprimir os formatos de raster suportados.  </p></dd><dt><span class="term">(c|a|d|p) Essas são opções mutualmente exclusivas: </span></dt><dd><p>
              </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-c</code></span></dt><dd><p>Criar nova table e popular ela com raster(s), <span class="emphasis"><em>esse é o modo padrão</em></span> </p></dd><dt><span class="term"><code class="option">-a</code></span></dt><dd><p>Anexar raster(s) à uma table existente.  </p></dd><dt><span class="term"><code class="option">-d</code></span></dt><dd><p>Derrubar table, criar nova e popular ela com raster(s) </p></dd><dt><span class="term"><code class="option">-p</code></span></dt><dd><p>Preparar modo, somente criar a table. </p></dd></dl></div><p>
            </p></dd><dt><span class="term">Processo raster: Solicitando restrições para registro apropriado nos catálogos raster </span></dt><dd><p>
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-C </code></span></dt><dd><p>Solicitar restrições raster -- srid, pixelsize etc. para assegurar que o raster está registrado corretamente na view <code class="varname">raster_columns</code> . </p></dd><dt><span class="term"><code class="option">-x </code></span></dt><dd><p>Desativar configuração da extensão de restrição máxima. Empregado somente se a bandeira -C também for.   </p></dd><dt><span class="term"><code class="option">-r</code></span></dt><dd><p>Configurar as restrições (espacialmente únicas e telha de cobertura) para bloqueio normal. Empregado somente se a bandeira -C também for.  </p></dd></dl></div><p>
				</p></dd><dt><span class="term">Processo raster: Parâmetros opcionais usados para manipular a entrada do conjunto de dados raster</span></dt><dd><p>
            </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-s &lt;SRID&gt;</code></span></dt><dd><p>Saída raster designada com SRID específico. Se não for fornecida ou for zero, os metadados raster serão verificados para determinar um SRID apropriado.  </p></dd><dt><span class="term"><code class="option">-b BAND</code></span></dt><dd><p>Índice (1-base) da banda para extrair de raster. Para mais de um índice de banda, separe com vírgula(,). Se não especificado, todas as bandas de raster serão extraídas.  </p></dd><dt><span class="term"><code class="option">-t TILE_SIZE</code></span></dt><dd><p>Corte raster em ladrilhos para ser inserido um por fileira na tabela. O  <code class="varname">TILE_SIZE</code> é expressado como LARGURAxALTURA ou configurado para o valor "auto" para permitir o carregador computar um tamanho usando o primeiro raster e aplicando para os outros rasters. </p></dd><dt><span class="term"><code class="option">-P</code></span></dt><dd><p>Preenche a maioria das tiles da direita e de baixo para garantir que todas as tiles tenham a mesma largura e peso. </p></dd><dt><span class="term"><code class="option">-R, --register</code></span></dt><dd><p>Registrar o raster como o sistema de arquivos raster (out-db).</p><p>Somente os metadados do raster e a localização do caminho para o raster estão armazenados no banco de dados (não os pixels).</p></dd><dt><span class="term"><code class="option">-l OVERVIEW_FACTOR</code></span></dt><dd><p>Cria uma visão geral do raster. Para mais de um fator, separe com a vírgula(,). A visão geral da tabela de nomes segue o modelo o_<code class="varname">overview factor</code>_<code class="varname">table</code>, onde <code class="varname">overview factor</code> é um marcador de posição para um fator de visão geral numérico e <code class="varname">table</code> é substituído com a tabela de nome básica. A visão geral criada está armazenada no banco de dados e não é afetada por -R. Note que seu arquivo sql criado contém a tabela principal e as tabelas panoramas. </p></dd><dt><span class="term"><code class="option">-N NODATA</code></span></dt><dd><p>NODATA valor para usar em bandas sem um valor NODATA. </p></dd></dl></div><p>
            </p></dd><dt><span class="term">Parâmetros opcionais usados para manipular objetos do banco de dados</span></dt><dd><p>
              </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-f COLUMN</code></span></dt><dd><p>Especificar nome de destinação da coluna raster, o padrão é 'rast' </p></dd><dt><span class="term"><code class="option">-F</code></span></dt><dd><p>Adicionar uma coluna com o nome do arquivo </p></dd><dt><span class="term"><code class="option">-n COLUMN</code></span></dt><dd><p>Especificar o nome da coluna filename. Sugere -F.</p></dd><dt><span class="term"><code class="option">-q</code></span></dt><dd><p>Identificadores wrap PostgreSQL em citações.</p></dd><dt><span class="term"><code class="option">-I</code></span></dt><dd><p>Cria um índice GiST na coluna raster. </p></dd><dt><span class="term"><code class="option">-M</code></span></dt><dd><p>Vácuo analise a tabela raster. </p></dd><dt><span class="term"><code class="option">-k</code></span></dt><dd><p>Keeps empty tiles and skips NODATA value checks for each raster band. Note you save time in checking, but could end up with far more junk rows in your database and those junk rows are not marked as empty tiles. </p></dd><dt><span class="term"><code class="option">-T tablespace</code></span></dt><dd><p>Especificar o espaço da tabela para a nova tabela. Note que os índices (incluindo a chave primária) continuarão sendo usados o espaço de tabela padrão, a menos que a bandeira -X também esteja sendo usada.  </p></dd><dt><span class="term"><code class="option">-X tablespace</code></span></dt><dd><p>Especificar o espaço da tabela para a nova tabela. Isto se aplica à chave primária e ao índice espacial se a bandeira -I estiver sendo usada. </p></dd><dt><span class="term"><code class="option">-Y max_rows_per_copy=50</code></span></dt><dd><p>Use copy statements instead of insert statements. Optionally specify <code class="varname">max_rows_per_copy</code>; default 50 when not specified.</p></dd></dl></div><p>
            </p></dd><dt><span class="term"><code class="option">-e</code></span></dt><dd><p>Execute cada declaração individualmente, não use uma transação. </p></dd><dt><span class="term"><code class="option">-E ENDIAN</code></span></dt><dd><p>Controla endianidade da saída binária gerada do raster; especificamos 0 para XDR e 1 para NDR (padrão); somente a saída NDR é suportada agora</p></dd><dt><span class="term"><code class="option">-V version</code></span></dt><dd><p>Especificamos uma versão de formato de saída. O padrão é 0. Somente o 0 é suportado neste momento. </p></dd></dl></div></section></section><section class="section" id="RT_Creating_Rasters"><div class="titlepage"><div><div><h3 class="title">10.1.2. Criando rasters utilizando as funções rasters do PostGIS </h3></div></div></div><p>Em várias ocasiões, você vai querer criar rasters e tabelas rasters no banco de dados. Existe uma superabundância de funções que fazem isto. Os passos gerais para seguir.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Cria uma tabela com uma coluna raster para segurar os novos relatos rasters que são efetuados com:</p><pre class="programlisting">CREATE TABLE myrasters(rid serial primary key, rast raster);</pre></li><li class="listitem"><p>Existem várias funções para auxiliar com este objetivo. Se você não estiver criando rasters como derivados de outros rasters, você precisará de começar com: <a class="xref" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a>, seguido por <a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a></p><p>Você também pode criar rasters de geometrias. Para alcançar seu objetivo, você irá querer usar <a class="xref" href="#RT_ST_AsRaster" title="ST_AsRaster">ST_AsRaster</a> talvez acompanhado com outras funções como: <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a> ou <a class="xref" href="#RT_ST_MapAlgebraFct2" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> ou qualquer um da família de outras funções álgebra de mapa. </p><p>Existem ainda mais opções para a criação de novas tabelas rasters a partir das tabelas existentes. Você pode criar uma tabela raster em uma projeção diferente de uma existente, por exemplo, utilizando: <a class="xref" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a> </p></li><li class="listitem"><p>Uma vez que você houver terminado de popular sua tabela inicialmente, você vai querer criar um índice espacial na coluna raster com algo parecido com:</p><pre class="programlisting">CREATE INDEX myrasters_rast_st_convexhull_idx ON myrasters USING gist( ST_ConvexHull(rast) );</pre><p>Note o uso do <a class="xref" href="#RT_ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a> já que a maioria dos operados raster são baseados no casco convexo dos rasters.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Versões pre-2.0 do raster PostGIS eram baseadas no envelope em vez do casco convexo, Para os índices espaciais funcionar propriamente, você precisará derrubar estes e  substituí-los com índice de casco convexo. </p></td></tr></table></div></li><li class="listitem"><p>Aplique restrições rasters usando </p></li></ol></div></section><section class="section" id="RT_Cloud_Rasters"><div class="titlepage"><div><div><h3 class="title">10.1.3. Using "out db" cloud rasters</h3></div></div></div><p>The <code class="varname">raster2pgsql</code> tool uses GDAL to access raster data, and can take advantage of a key GDAL feature: the ability to read from rasters that are <a class="link" href="https://gdal.org/user/virtual_file_systems.html#network-based-file-systems" target="_top">stored remotely</a> in cloud "object stores" (e.g. AWS S3, Google Cloud Storage). </p><p>Efficient use of cloud stored rasters requires the use of a "cloud optimized" format. The most well-known and widely used is the "<a class="link" href="https://gdal.org/drivers/raster/cog.html" target="_top">cloud optimized GeoTIFF</a>" format. Using a non-cloud format, like a JPEG, or an un-tiled TIFF will result in very poor performance, as the system will have to download the entire raster each time it needs to access a subset. </p><p>First, load your raster into the cloud storage of your choice. Once it is loaded, you will have a URI to access it with, either an "http" URI, or sometimes a URI specific to the service. (e.g., "s3://bucket/object"). To access non-public buckets, you will need to supply GDAL config options to authenticate your connection. Note that this command is <span class="emphasis"><em>reading</em></span> from the cloud raster and <span class="emphasis"><em>writing</em></span> to the database. </p><pre class="programlisting">AWS_ACCESS_KEY_ID=xxxxxxxxxxxxxxxxxxxx \
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx \
raster2pgsql \
  -s 990000 \
  -t 256x256 \
  -I \
  -R \
  /vsis3/your.bucket.com/your_file.tif \
  your_table \
  | psql your_db</pre><p>Once the table is loaded, you need to give the database permission to read from remote rasters, by setting two permissions, <a class="xref" href="#postgis_enable_outdb_rasters" title="postgis.enable_outdb_rasters">postgis.enable_outdb_rasters</a> and <a class="xref" href="#postgis_gdal_enabled_drivers" title="postgis.gdal_enabled_drivers">postgis.gdal_enabled_drivers</a>. </p><pre class="programlisting">SET postgis.enable_outdb_rasters = true;
SET postgis.gdal_enabled_drivers TO 'ENABLE_ALL';
    </pre><p>To make the changes sticky, set them directly on your database. You will need to re-connect to experience the new settings. </p><pre class="programlisting">ALTER DATABASE your_db SET postgis.enable_outdb_rasters = true;
ALTER DATABASE your_db SET postgis.gdal_enabled_drivers TO 'ENABLE_ALL';
    </pre><p>For non-public rasters, you may have to provide access keys to read from the cloud rasters. The same keys you used to write the <code class="varname">raster2pgsql</code> call can be set for use inside the database, with the <a class="xref" href="#postgis_gdal_vsi_options" title="postgis.gdal_vsi_options">postgis.gdal_vsi_options</a> configuration. Note that multiple options can be set by space-separating the <code class="varname">key=value</code> pairs. </p><pre class="programlisting">SET postgis.gdal_vsi_options = 'AWS_ACCESS_KEY_ID=xxxxxxxxxxxxxxxxxxxx
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx';</pre><p>Once you have the data loaded and permissions set you can interact with the raster table like any other raster table, using the same functions. The database will handle all the mechanics of connecting to the cloud data when it needs to read pixel data. </p></section></section><section class="section" id="RT_Raster_Catalog"><div class="titlepage"><div><div><h2 class="title" style="clear: both">10.2. Catálogos Raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#RT_Raster_Columns">10.2.1. Catálogo de Colunas Raster</a></span></li><li><span class="section"><a href="#RT_Raster_Overviews">10.2.2. Panoramas Raster</a></span></li></ul></div><p>Existem duas view raster catalogadas  que vêm compactadas com o PostGIS. Ambas views utilizam informações embutidas em restrições das tabelas rasters. Como resultado as views catalogadas são sempre consistentes com os dados raster nas tabelas já que as restrições são impostas.  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">raster_columns</code> esta view cataloga todas os tabelas de colunas rasters no seu banco de dados.</p></li><li class="listitem"><p><code class="varname">raster_overviews</code> esta view cataloga todos as tabelas de colunas raster no seu banco de dados que servem como um panorama para uma tabela granulada melhor. Tabelas deste tipo são geradas quando você utiliza o interruptor <code class="varname">-l</code>  durante o carregamento.</p></li></ol></div><section class="section" id="RT_Raster_Columns"><div class="titlepage"><div><div><h3 class="title">10.2.1. Catálogo de Colunas Raster</h3></div></div></div><p>O <code class="varname">raster_columns</code> é um catálogo de todas as colunas de tabela raster no seu banco de dados que são do tipo raster. É uma view utilizando as restrições nas tabelas para que a informação seja sempre consistente, mesmo se você tiver restaurado uma tabela raster de um backup de outro banco de dados. As seguintes colunas existem no catálogo <code class="varname">raster_columns</code>.</p><p>Se você criou suas tabelas sem o carregador ou esqueceu de especificar a bandeira <code class="varname">-C</code> durante o carregamento, você pode forçar as restrições depois de usá-las de fato <a class="xref" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a> para que o catálogo <code class="varname">raster_columns</code> registre as informações comuns sobre as tiles raster.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">r_table_catalog</code> O banco de dados que a tabela está. Isto irá sempre ler o banco de dados atual. </p></li><li class="listitem"><p><code class="varname">r_table_schema</code> O esquema do banco de dados que o raster pertence. </p></li><li class="listitem"><p><code class="varname">r_table_name</code> raster table</p></li><li class="listitem"><p><code class="varname">r_raster_column</code> a coluna é a <code class="varname">r_table_name</code> tabela que é do tipo raster. Não há nada no PostGIS que previna múltiplas colunas raster por tabela, assim, é possível haver uma tabela raster listada várias vezes com uma coluna raster diferente pra cada uma.</p></li><li class="listitem"><p><code class="varname">srid</code> O identificador de referência espacial do raster. Deve ser uma entrada no <a class="xref" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a>.</p></li><li class="listitem"><p><code class="varname">scale_x</code> A escala entre coordenadas geométricas espaciais e pixel. Isto só está disponível se todas as tiles na coluna raster tiverem a mesma <code class="varname">scale_x</code> e esta restrição for aplicada. Recorra a <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a> para mais detalhes.</p></li><li class="listitem"><p><code class="varname">scale_y</code> A escala entre coordenadas geométricas espaciais e pixel. Isto só está disponível se todas as tiles na coluna raster tiverem a mesma <code class="varname">scale_y</code> e a restrição <code class="varname">scale_y</code> for aplicada. Recorra a <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a> para mais detalhes.</p></li><li class="listitem"><p><code class="varname">blocksize_x</code> A largura (número de pixels obliquamente) de cada raster tile. Recorrer a<a class="xref" href="#RT_ST_Width" title="ST_Width">ST_Width</a> para mais detalhes.</p></li><li class="listitem"><p><code class="varname">blocksize_y</code> A largura (número de pixels para baixo) de cada raster tile. Recorrer a <a class="xref" href="#RT_ST_Height" title="ST_Height">ST_Height</a> para mais detalhes. </p></li><li class="listitem"><p><code class="varname">same_alignment</code> Uma booleana que é verdade se todos os rasters tiles têm o mesmo alinhamento. Recorrer a  <a class="xref" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a> para mais detalhes.</p></li><li class="listitem"><p><code class="varname">regular_blocking</code> Se a coluna  raster possui a espacialidade única e cobre restrições tiles, o valor com ela se torna VERDADE. Senão, será FALSO.</p></li><li class="listitem"><p><code class="varname">num_bands</code> O número de bandas em cada tile do seu conjunto de raster. É a mesma informação da que é fornecida por <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a></p></li><li class="listitem"><p><code class="varname">pixel_types</code> Um arranjo definindo o tipo de pixel para cada banda. Você terá o mesmo número de elementos e bandas nesse arranjo. Os pixel_types são uns dos definidos em  <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>.</p></li><li class="listitem"><p><code class="varname">nodata_values</code> Um arranjo de números preciso dobrados indicando o <code class="varname">nodata_value</code> para cada banda. Você terá o mesmo número de elementos e de bandas neste arranjo. Esses números definem o valor do pixel para cada banda que deveria ser ignorada para a maioria das operações. Uma informação parecida é fornecida por: <a class="xref" href="#RT_ST_BandNoDataValue" title="ST_BandNoDataValue">ST_BandNoDataValue</a>.</p></li><li class="listitem"><p><code class="varname">out_db</code> Um arranjo de bandeiras booleanas indicando se os dados das bandas rasters são mantidos de fora do banco de dados. Você terá o mesmo número de elementos e bandas neste arranjo. </p></li><li class="listitem"><p><code class="varname">extent</code> Isto é uma extensão de todas as filas raster no sua configuração raster. Se você planeja carregar mais dados que irão modificar a extensão de configuração, precisará executar a função <a class="xref" href="#RT_DropRasterConstraints" title="DropRasterConstraints">DropRasterConstraints</a> antes de carregar e então reaplicar as restrições com <a class="xref" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a> depois carregar. </p></li><li class="listitem"><p><code class="varname">spatial_index</code> Uma booleana que é verdade se uma coluna raster possui um índice espacial. </p></li></ul></div></section><section class="section" id="RT_Raster_Overviews"><div class="titlepage"><div><div><h3 class="title">10.2.2. Panoramas Raster</h3></div></div></div><p><code class="varname">raster_overviews</code> cataloga informação sobre as colunas de tabelas raster usadas para panoramas e informações adicionais sobre elas, que são úteis para saber quando usar os panoramas. As tabelas de panoramas são catalogadas em  <code class="varname">raster_columns</code> e <code class="varname">raster_overviews</code>, porque elas são raster, mas também têm um propósito especial de serem uma caricatura de baixa resolução de uma tabela de alta resolução. Elas são geradas ao longo do lado da tabela raster principal quando você usa a troca <code class="varname">-l</code> no carregamento raster ou podem ser geradas manualmente, utilizando: <a class="xref" href="#RT_AddOverviewConstraints" title="AddOverviewConstraints">AddOverviewConstraints</a>.</p><p>Tabelas resumidas contêm as mesmas restrições que as outras tabelas raster bem como informações adicionais somente restrições específicas para panoramas.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A informação em <code class="varname">raster_overviews</code> não duplica a informação em <code class="varname">raster_columns</code>. Se você precisa da informação sobre uma tabela panorama presente em <code class="varname">raster_columns</code>, você pode unir as <code class="varname">raster_overviews</code> e <code class="varname">raster_columns</code> para obter o conjunto completo de informações que precisa.</p></td></tr></table></div><p>Duas razões principais para panoramas são:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Baixa resolução das tabelas de núcleo comumente usadas para um mapeamento de aproximação mais rápido.</p></li><li class="listitem"><p>Os cálculos são, geralmente, mais rápidos de serem feitos em si mesmos que a resolução mais alta de seus parentes, porque são relatos menores e cada pixel cobre mais território. Embora os cálculos não são tão atuais quanto as tabelas high-res que eles suportam, eles pode ser suficientes em vários cálculos da regra do polegar. </p></li></ol></div><p>O catálogo <code class="varname">raster_overviews</code> contém as seguintes colunas de informação.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">o_table_catalog</code> O banco de dados que o panorama está localizado. Isto sempre irá ler o banco de dados atual.</p></li><li class="listitem"><p><code class="varname">o_table_schema</code> O esquema do banco de dados que a tabela do panorama raster pertence. </p></li><li class="listitem"><p><code class="varname">o_table_name</code> nome da tabela de panorama raster</p></li><li class="listitem"><p><code class="varname">o_raster_column</code> a coluna raster na tabela panorama</p></li><li class="listitem"><p><code class="varname">r_table_catalog</code> O banco de dados que a tabela raster que este panorama está. Isto sempre lerá o banco de dados atual. </p></li><li class="listitem"><p><code class="varname">r_table_schema</code> O esquema do banco de dados da tabela raster que os serviços do panorama pertence. </p></li><li class="listitem"><p><code class="varname">r_table_name</code> tabela raster que este panorama fornece.</p></li><li class="listitem"><p><code class="varname">r_raster_column</code> a coluna raster que esta coluna panorama fornece.</p></li><li class="listitem"><p><code class="varname">overview_factor</code> - este é o nível da pirâmide da tabela panorama. Quanto maior o número menor a resolução da tabela. raster2pgsql se dada uma pasta de imagens, irá calcular panorama de cada arquivo de imagem e carregar separadamente. O nível 1 é assumido e sempre o arquivo original. Nível 2 terá que cada tile representa 4 do original. Então, por exemplo, se você tem uma pasta com arquivos de imagens de 5000x5000 pixel e você escolhe ordenar 125x125, para cada arquivo de imagem sua tabela base terá (5000*5000)/(125*125) records = 1600, your (l=2) <code class="varname">o_2</code> will have ceiling(1600/Power(2,2)) = 400 rows, your (l=3) <code class="varname">o_3</code> will have ceiling(1600/Power(2,3) ) = 200 rows. Se seus pixels não são visíveis pelo tamanho das suas tiles, você pegará algumas tiles sobras (que não estão completamente cheias). Note que cada tile panorama gerada pelo raster2pgsql tem o meso número de pixels de seus pais, mas é de uma resolução menor onde cada pixel dele representa (Power(2,overview_factor) pixels do original).</p></li></ul></div></section></section><section class="section" id="RT_Raster_Applications"><div class="titlepage"><div><div><h2 class="title" style="clear: both">10.3. Construindo Aplicações Personalizadas com o PostGIS Raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#RT_PHP_Output">10.3.1. PHP Exemplo Outputting usando ST_AsPNG em consenso co outras funções raster</a></span></li><li><span class="section"><a href="#RT_Net_Output_CS">10.3.2. ASP.NET C# Exemplo gerado usando ST_AsPNG em consenso com outras funções raster</a></span></li><li><span class="section"><a href="#RT_Java_Console_App">10.3.3. O app console Java que gera a consulta raster como arquivo de imagem </a></span></li><li><span class="section"><a href="#RT_PLPython">10.3.4. Use PLPython para excluir imagens via SQL</a></span></li><li><span class="section"><a href="#RasterOutput_PSQL">10.3.5. Rasters de saída com PSQL</a></span></li></ul></div><p>The fact that PostGIS raster provides you with SQL functions to render rasters in known image formats gives you a lot of options for rendering them. For example you can use OpenOffice / LibreOffice for rendering as demonstrated in <a class="link" href="http://www.postgresonline.com/journal/archives/244-Rendering-PostGIS-Raster-graphics-with-LibreOffice-Base-Reports.html" target="_top">Rendering PostGIS Raster graphics with LibreOffice Base Reports</a>. In addition you can use a wide variety of languages as demonstrated in this section.</p><section class="section" id="RT_PHP_Output"><div class="titlepage"><div><div><h3 class="title">10.3.1. PHP Exemplo Outputting usando ST_AsPNG em consenso co outras funções raster</h3></div></div></div><p>Nesta seção, demonstraremos como usar o driver PHP PostgreSQL e a família <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a> de funções para gerar banda 1,2,3 de um raster para um fluxo de solicitação PHP que pode ser inserido em uma img src html tag.</p><p>A consulta exemplo demonstra como combinar um conjunto de funções raster para apanhar todas as tiles que intersectam uma caixa delimitadora wgs 84 e então une com <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a> as tiles intersectando retornando todas as bandas, transforma para projeção de usuário específico usando <a class="xref" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a>, e gera os resultados como um png usando <a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>.</p><p>Você poderia chamar o abaixo usando </p><pre class="programlisting">http://mywebserver/test_raster.php?srid=2249</pre><p> para obter a imagem raster no Massachusetts state plane feet.</p><pre class="programlisting">

&lt;?php
/** contents of test_raster.php **/
$conn_str ='dbname=mydb host=localhost port=5432 user=myuser password=mypwd';
$dbconn = pg_connect($conn_str);
header('Content-Type: image/png');
/**If a particular projection was requested use it otherwise use mass state plane meters **/
if (!empty( $_REQUEST['srid'] ) &amp;amp;&amp;amp; is_numeric( $_REQUEST['srid']) ){
                $input_srid = intval($_REQUEST['srid']);
}
else { $input_srid = 26986; }
/** The set bytea_output may be needed for PostgreSQL 9.0+, but not for 8.4 **/
$sql = "set bytea_output='escape';
SELECT ST_AsPNG(ST_Transform(
                        ST_AddBand(ST_Union(rast,1), ARRAY[ST_Union(rast,2),ST_Union(rast,3)])
                                ,$input_srid) ) As new_rast
 FROM aerials.boston
        WHERE
         ST_Intersects(rast, ST_Transform(ST_MakeEnvelope(-71.1217, 42.227, -71.1210, 42.218,4326),26986) )";
$result = pg_query($sql);
$row = pg_fetch_row($result);
pg_free_result($result);
if ($row === false) return;
echo pg_unescape_bytea($row[0]);
?&gt;
</pre></section><section class="section" id="RT_Net_Output_CS"><div class="titlepage"><div><div><h3 class="title">10.3.2. ASP.NET C# Exemplo gerado usando ST_AsPNG em consenso com outras funções raster</h3></div></div></div><p>Nesta seção, demonstraremos como usar o driver PHP PostgreSQL .NET driver e a família <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a> de funções para gerar banda 1,2,3 de um raster para um fluxo de solicitação PHP que pode ser inserido em uma img src html tag.</p><p>Você precisará do driver npgsql .NET PostgreSQL para este exercício que pode ser obtido em:  <a class="link" href="http://npgsql.projects.postgresql.org/" target="_top">http://npgsql.projects.postgresql.org/</a>. Apenas faça o download e coloque na sua pasta ASP.NET bin e você estará pronto. </p><p>A consulta exemplo demonstra como combinar um conjunto de funções raster para apanhar todas as tiles que intersectam uma caixa delimitadora wgs 84 e então une com <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a> as tiles intersectando retornando todas as bandas, transforma para projeção de usuário específico usando <a class="xref" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a>, e gera os resultados como um png usando <a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>.</p><p>Este é o mesmo exemplo de <a class="xref" href="#RT_PHP_Output" title="10.3.1. PHP Exemplo Outputting usando ST_AsPNG em consenso co outras funções raster">Section 10.3.1, “PHP Exemplo Outputting usando ST_AsPNG em consenso co outras funções raster”</a> exceto implementado em C#.</p><p>Você poderia chamar o abaixo usando </p><pre class="programlisting">http://mywebserver/TestRaster.ashx?srid=2249</pre><p> para obter a imagem raster no Massachusetts state plane feet.</p><pre class="programlisting">
 -- web.config connection string section --
&lt;connectionStrings&gt;
    &lt;add name="DSN"
        connectionString="server=localhost;database=mydb;Port=5432;User Id=myuser;password=mypwd"/&gt;
&lt;/connectionStrings&gt;
</pre><pre class="programlisting">
// Code for TestRaster.ashx
&lt;%@ WebHandler Language="C#" Class="TestRaster" %&gt;
using System;
using System.Data;
using System.Web;
using Npgsql;

public class TestRaster : IHttpHandler
{
        public void ProcessRequest(HttpContext context)
        {

                context.Response.ContentType = "image/png";
                context.Response.BinaryWrite(GetResults(context));

        }

        public bool IsReusable {
                get { return false; }
        }

        public byte[] GetResults(HttpContext context)
        {
                byte[] result = null;
                NpgsqlCommand command;
                string sql = null;
                int input_srid = 26986;
        try {
                    using (NpgsqlConnection conn = new NpgsqlConnection(System.Configuration.ConfigurationManager.ConnectionStrings["DSN"].ConnectionString)) {
                            conn.Open();

                if (context.Request["srid"] != null)
                {
                    input_srid = Convert.ToInt32(context.Request["srid"]);
                }
                sql = @"SELECT ST_AsPNG(
                            ST_Transform(
                                        ST_AddBand(
                                ST_Union(rast,1), ARRAY[ST_Union(rast,2),ST_Union(rast,3)])
                                                    ,:input_srid) ) As new_rast
                        FROM aerials.boston
                                WHERE
                                    ST_Intersects(rast,
                                    ST_Transform(ST_MakeEnvelope(-71.1217, 42.227, -71.1210, 42.218,4326),26986) )";
                            command = new NpgsqlCommand(sql, conn);
                command.Parameters.Add(new NpgsqlParameter("input_srid", input_srid));


                            result = (byte[]) command.ExecuteScalar();
                conn.Close();
                        }

                }
        catch (Exception ex)
        {
            result = null;
            context.Response.Write(ex.Message.Trim());
        }
                return result;
        }
}
</pre></section><section class="section" id="RT_Java_Console_App"><div class="titlepage"><div><div><h3 class="title">10.3.3. O app console Java que gera a consulta raster como arquivo de imagem </h3></div></div></div><p>Este é um exemplo de aplicativo console java que utiliza uma consulta que retorna uma imagem e gera um arquivo específico. </p><p>Você pode baixar os últimos drivers PostgreSQL JDBC de <a class="link" href="http://jdbc.postgresql.org/download.html" target="_top">http://jdbc.postgresql.org/download.html</a>  </p><p>Você pode compilar o código seguinte usando um comando como:</p><pre class="programlisting">set env CLASSPATH .:..\postgresql-9.0-801.jdbc4.jar
javac SaveQueryImage.java
jar cfm SaveQueryImage.jar Manifest.txt *.class</pre><p>E chama da linha de comando com algo tipo</p><pre class="programlisting">java -jar SaveQueryImage.jar "SELECT ST_AsPNG(ST_AsRaster(ST_Buffer(ST_Point(1,5),10, 'quad_segs=2'),150, 150, '8BUI',100));" "test.png" </pre><pre class="programlisting">-- Manifest.txt --
Class-Path: postgresql-9.0-801.jdbc4.jar
Main-Class: SaveQueryImage</pre><pre class="programlisting">// Code for SaveQueryImage.java
import java.sql.Connection;
import java.sql.SQLException;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.io.*;

public class SaveQueryImage {
  public static void main(String[] argv) {
      System.out.println("Checking if Driver is registered with DriverManager.");

      try {
        //java.sql.DriverManager.registerDriver (new org.postgresql.Driver());
        Class.forName("org.postgresql.Driver");
      }
      catch (ClassNotFoundException cnfe) {
        System.out.println("Couldn't find the driver!");
        cnfe.printStackTrace();
        System.exit(1);
      }

      Connection conn = null;

      try {
        conn = DriverManager.getConnection("jdbc:postgresql://localhost:5432/mydb","myuser", "mypwd");
        conn.setAutoCommit(false);

        PreparedStatement sGetImg = conn.prepareStatement(argv[0]);

        ResultSet rs = sGetImg.executeQuery();

                FileOutputStream fout;
                try
                {
                        rs.next();
                        /** Output to file name requested by user **/
                        fout = new FileOutputStream(new File(argv[1]) );
                        fout.write(rs.getBytes(1));
                        fout.close();
                }
                catch(Exception e)
                {
                        System.out.println("Can't create file");
                        e.printStackTrace();
                }

        rs.close();
                sGetImg.close();
        conn.close();
      }
      catch (SQLException se) {
        System.out.println("Couldn't connect: print out a stack trace and exit.");
        se.printStackTrace();
        System.exit(1);
      }
  }
}</pre></section><section class="section" id="RT_PLPython"><div class="titlepage"><div><div><h3 class="title">10.3.4. Use PLPython para excluir imagens via SQL</h3></div></div></div><p>Esta é uma função plpython armazenada que cria um arquivo no diretório do servidor para cada relato. Requer que tenha instalado plpython. Deve funcionar bem com plpythonu e plpython3u. </p><pre class="programlisting">CREATE OR REPLACE FUNCTION write_file (param_bytes bytea, param_filepath text)
RETURNS text
AS $$
f = open(param_filepath, 'wb+')
f.write(param_bytes)
return param_filepath
$$ LANGUAGE plpythonu;</pre><pre class="programlisting">--write out 5 images to the PostgreSQL server in varying sizes
-- note the postgresql daemon account needs to have write access to folder
-- this echos back the file names created;
 SELECT write_file(ST_AsPNG(
        ST_AsRaster(ST_Buffer(ST_Point(1,5),j*5, 'quad_segs=2'),150*j, 150*j, '8BUI',100)),
         'C:/temp/slices'|| j || '.png')
         FROM generate_series(1,5) As j;

     write_file
---------------------
 C:/temp/slices1.png
 C:/temp/slices2.png
 C:/temp/slices3.png
 C:/temp/slices4.png
 C:/temp/slices5.png
</pre></section><section class="section" id="RasterOutput_PSQL"><div class="titlepage"><div><div><h3 class="title">10.3.5. Rasters de saída com PSQL</h3></div></div></div><p>Infelizmente o PSQL não tem facilidade em usar funcionalidade embutida para binários gerados. Isto é um pequeno hack no legado PostgreSQL de suporte de objetos grandes. Para usar, primeiro lance sua linha de comando psql conectada no seu banco de dados.  </p><p>Diferente da aproximação python, esta cria o arquivo no seu computador local.</p><pre class="screen">SELECT oid, lowrite(lo_open(oid, 131072), png) As num_bytes
 FROM
 ( VALUES (lo_create(0),
   ST_AsPNG( (SELECT rast FROM aerials.boston WHERE rid=1) )
  ) ) As v(oid,png);
-- you'll get an output something like --
   oid   | num_bytes
---------+-----------
 2630819 |     74860

-- next note the oid and do this replacing the c:/test.png to file path location
-- on your local computer
 \lo_export 2630819 'C:/temp/aerial_samp.png'

-- this deletes the file from large object storage on db
SELECT lo_unlink(2630819);
                        </pre></section></section></section><section class="chapter" id="RT_reference"><div class="titlepage"><div><div><h1 class="title">Chapter 11. Referência Raster</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#Raster_Types">11.1. Tipos de suporte de dados raster</a></span></li><li><span class="section"><a href="#Raster_Management_Functions">11.2. Gerenciamento Raster</a></span></li><li><span class="section"><a href="#Raster_Constructors">11.3. Construtores Raster</a></span></li><li><span class="section"><a href="#Raster_Accessors">11.4. Assessores Raster</a></span></li><li><span class="section"><a href="#RasterBand_Accessors">11.5. Assessores de banda raster</a></span></li><li><span class="section"><a href="#Raster_Pixel_Accessors">11.6. Assessores e Setters de Pixel Raster</a></span></li><li><span class="section"><a href="#Raster_Editors">11.7. Editores Raster</a></span></li><li><span class="section"><a href="#RasterBand_Editors">11.8. Editores de Banda Raster</a></span></li><li><span class="section"><a href="#RasterBand_Stats">11.9. Análises e Estatísticas de Banda Raster</a></span></li><li><span class="section"><a href="#Raster_Inputs">11.10. Raster Inputs</a></span></li><li><span class="section"><a href="#Raster_Outputs">11.11. Raster Outputs</a></span></li><li><span class="section"><a href="#Raster_Processing_MapAlgebra">11.12. Processamento Raster</a></span></li><li><span class="section"><a href="#Raster_Processing_MapAlgebra_Callbacks">11.13. Funções retorno de mapa algébrico embutido</a></span></li><li><span class="section"><a href="#Raster_Processing_DEM">11.14. Processamento Raster</a></span></li><li><span class="section"><a href="#Raster_Processing_Geometry">11.15. Raster para Geometria </a></span></li><li><span class="section"><a href="#RT_Operators">11.16. Operadores Raster</a></span></li><li><span class="section"><a href="#Raster_Relationships">11.17. Relações raster e raster de banda espacial </a></span></li><li><span class="section"><a href="#Raster_Tips">11.18. Raster Tips</a></span></li></ul></div><p>As funções abaixo são as que um usuário do PostGIS Raster vai precisar e que estão disponíveis no momento no PostGIS Raster. Existem outras funções que precisam das funções suporte para os objetos raster que não são de uso geral.</p><p><code class="varname">raster</code> é um novo tipo PostGIS para armazenar e analizar dados raster. </p><p>Para carregar rasters de arquivos raster, por favor, vá para <a class="xref" href="#RT_Loading_Rasters" title="10.1. Carregando e criando dados matriciais">Section 10.1, “Carregando e criando dados matriciais”</a></p><p>Para os exemplos nessa referência, nós usaremos uma table raster de rasters simulados - Formados com o seguinte código  </p><pre class="programlisting">CREATE TABLE dummy_rast(rid integer, rast raster);
INSERT INTO dummy_rast(rid, rast)
VALUES (1,
('01' -- little endian (uint8 ndr)
||
'0000' -- version (uint16 0)
||
'0000' -- nBands (uint16 0)
||
'0000000000000040' -- scaleX (float64 2)
||
'0000000000000840' -- scaleY (float64 3)
||
'000000000000E03F' -- ipX (float64 0.5)
||
'000000000000E03F' -- ipY (float64 0.5)
||
'0000000000000000' -- skewX (float64 0)
||
'0000000000000000' -- skewY (float64 0)
||
'00000000' -- SRID (int32 0)
||
'0A00' -- width (uint16 10)
||
'1400' -- height (uint16 20)
)::raster
),
-- Raster: 5 x 5 pixels, 3 bands, PT_8BUI pixel type, NODATA = 0
(2,  ('01000003009A9999999999A93F9A9999999999A9BF000000E02B274A' ||
'41000000007719564100000000000000000000000000000000FFFFFFFF050005000400FDFEFDFEFEFDFEFEFDF9FAFEF' ||
'EFCF9FBFDFEFEFDFCFAFEFEFE04004E627AADD16076B4F9FE6370A9F5FE59637AB0E54F58617087040046566487A1506CA2E3FA5A6CAFFBFE4D566DA4CB3E454C5665')::raster);</pre><section class="section" id="Raster_Types"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.1. Tipos de suporte de dados raster</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Essa seção lista os tipos de dados PostgreSQL criados especificamente para suportar a funcionalidade raster.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#geomval">geomval</a></span><span class="refpurpose"> — Um tipo de dado espacial com dois campos - geom (possuindo objeto geométrico) e val (possuindo um valor de pixel de precisão dupla de uma banda raster).</span></li><li><span class="refentrytitle"><a href="#addbandarg">addbandarg</a></span><span class="refpurpose"> — Um tipo composto usado como entrada na função ST_AddBand definindo os atributos e valor inicial da nova banda.</span></li><li><span class="refentrytitle"><a href="#rastbandarg">rastbandarg</a></span><span class="refpurpose"> — Um tipo composto para usar quando for preciso expressar um raster e um índice de banda desse raster.</span></li><li><span class="refentrytitle"><a href="#raster">raster</a></span><span class="refpurpose"> — raster spatial data type.</span></li><li><span class="refentrytitle"><a href="#reclassarg">reclassarg</a></span><span class="refpurpose"> — Um tipo composto usado como entrada dentro da função ST_Reclass definindo o comportamento da reclassificação.</span></li><li><span class="refentrytitle"><a href="#summarystats">summarystats</a></span><span class="refpurpose"> — Um tipo composto retornado pelas funções ST_SummaryStats e ST_SummaryStatsAgg.  </span></li><li><span class="refentrytitle"><a href="#unionarg">unionarg</a></span><span class="refpurpose"> — Um tipo composto usado como entrada dentro da função ST_Union definindo as bandas a serem processadas e o comportamento da operação UNIÃO.</span></li></ul></div><div class="refentry" id="geomval"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>geomval — Um tipo de dado espacial com dois campos - geom (possuindo objeto geométrico) e val (possuindo um valor de pixel de precisão dupla de uma banda raster).</p></div><div class="refsection" id="idm26804"><h2>Descrição</h2><p>geomval é uma mistura de tipo de dados que consiste em um objeto de geometria referenciado pelo campo .geom e val, um valor de precisão dupla que representa o valor do pixel em uma localização específica de geometria em uma banda raster. É usado por ST_DumpAsPolygon e a família de interseção raster de funções como um tipo de saída para explodir uma banda raster em polígonos. </p></div><div class="refsection" id="idm26807"><h2>Veja também</h2><p><a class="xref" href="#PostGIS_Geometry_DumpFunctions" title="13.6. PostGIS Geometry / Geography / Raster Dump Functions">Section 13.6, “PostGIS Geometry / Geography / Raster Dump Functions”</a> </p></div></div><div class="refentry" id="addbandarg"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>addbandarg — Um tipo composto usado como entrada na função ST_AddBand definindo os atributos e valor inicial da nova banda.</p></div><div class="refsection" id="idm26815"><h2>Descrição</h2><p>Um tipo composto usado como entrada na função ST_AddBand definindo os atributos e valor inicial da nova banda. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">index integer </code></span></dt><dd><p>Valor de 1-base indicando a posição onde a nova banda será adicionada no meio das bandas do raster. Se NULO, a nova banda será adicionada no fim das bandas do raster.  </p></dd><dt><span class="term"><code class="varname">pixeltype text </code></span></dt><dd><p>tipo do pixel da nova banda. Um dos tipos de pixel definidos como descrito em: <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>. </p></dd><dt><span class="term"><code class="varname">initialvalue double precision </code></span></dt><dd><p>Valor inicial que todos os pixels da nova banda serão definidos.  </p></dd><dt><span class="term"><code class="varname">nodataval double precision </code></span></dt><dd><p>Valor NODATA da nova banda. Se NULA, a nova banda terá uma valor NODATA assinado.  </p></dd></dl></div><p>

                </p></div><div class="refsection" id="idm26840"><h2>Veja também</h2><p>
                    <a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>
                </p></div></div><div class="refentry" id="rastbandarg"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>rastbandarg — Um tipo composto para usar quando for preciso expressar um raster e um índice de banda desse raster.</p></div><div class="refsection" id="idm26848"><h2>Descrição</h2><p>Um tipo composto para usar quando for preciso expressar um raster e um índice de banda desse raster. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">rast raster </code></span></dt><dd><p>O raster em questão/ </p></dd><dt><span class="term"><code class="varname">nband integer </code></span></dt><dd><p>Valor 1-base indicando a banda do raster </p></dd></dl></div><p>

                </p></div><div class="refsection" id="idm26862"><h2>Veja também</h2><p>
                    <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>
                </p></div></div><div class="refentry" id="raster"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>raster — raster spatial data type.</p></div><div class="refsection" id="idm26870"><h2>Descrição</h2><p>raster is a spatial data type used to represent raster data such as those imported from JPEGs, TIFFs, PNGs, digital elevation models. Each raster has 1 or more bands each having a set of pixel values. Rasters can be georeferenced.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Requer que o PostGIS esteja compilado com o suporte GDAL. Os rasters, atualmente, podem ser convertidos implicitamente para geometria, mas a conversão retorna a <a class="xref" href="#RT_ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a> do raster. Este auto casting pode ser removido em futuro próximo, então não confie muito nisto. </p></td></tr></table></div></div><div class="refsection" id="idm26876"><h2>Comportamento Casting</h2><p>Esta seção lista os casts automáticos bem como os explícitos permitidos para esse tipo de dados </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Cast To</td><td style="border-bottom: 1px solid ; ">Comportamento</td></tr><tr><td style="border-right: 1px solid ; ">geometria</td><td>automático</td></tr></tbody></table></div></div><div class="refsection" id="idm26888"><h2>Veja também</h2><p><a class="xref" href="#RT_reference" title="Chapter 11. Referência Raster">Chapter 11, <em>Referência Raster</em></a></p></div></div><div class="refentry" id="reclassarg"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>reclassarg — Um tipo composto usado como entrada dentro da função ST_Reclass definindo o comportamento da reclassificação.</p></div><div class="refsection" id="idm26896"><h2>Descrição</h2><p>Um tipo composto usado como entrada dentro da função ST_Reclass definindo o comportamento da reclassificação.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">nband integer</code></span></dt><dd><p>O número banda para banda para reclassificar. </p></dd><dt><span class="term"><code class="varname">reclassexpr text</code></span></dt><dd><p>expressão de variação consistindo em mapeamentos range:map_range delimitados por vírgulas. : para definir mapeamento que esclarece como mapear valores antigos de banda para novos. ( means &gt;, ) significa menor que, ] &lt; ou igual, [ significa &gt; ou igual</p><pre class="programlisting">
1. [a-b] = a &lt;= x &lt;= b

2. (a-b] = a &lt; x &lt;= b

3. [a-b) = a &lt;= x &lt; b

4. (a-b) = a &lt; x &lt; b
</pre><p>( notação é opcional então a-b significa o mesmo que (a-b)</p></dd><dt><span class="term"><code class="varname">pixeltype text</code></span></dt><dd><p>Um dos tipos de pixel definidos como descrito em: <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a></p></dd><dt><span class="term"><code class="varname">nodataval double precision</code></span></dt><dd><p>Valor para tratar como sem dados. Para saídas de imagens que suportam transparência, essas serão em branco. </p></dd></dl></div></div><div class="refsection" id="idm26924"><h2>Exemplo: Reclassificar banda 2 como um 8BUI onde 255 é o valor sem dados</h2><pre class="programlisting">SELECT ROW(2, '0-100:1-10, 101-500:11-150,501 - 10000: 151-254', '8BUI', 255)::reclassarg;</pre></div><div class="refsection" id="idm26927"><h2>Exemplo: Reclassificar banda 1 como um 1BB e nenhum valor sem dados definido</h2><pre class="programlisting">SELECT ROW(1, '0-100]:0, (100-255:1', '1BB', NULL)::reclassarg;</pre></div><div class="refsection" id="idm26930"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a></p></div></div><div class="refentry" id="summarystats"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>summarystats — Um tipo composto retornado pelas funções ST_SummaryStats e ST_SummaryStatsAgg.  </p></div><div class="refsection" id="idm26938"><h2>Descrição</h2><p>Um tipo composto retornado pelas funções <a class="xref" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a> e <a class="xref" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a>. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">count integer </span></dt><dd><p>Número de pixels contados para as estatísticas resumo. </p></dd><dt><span class="term">sum double precision </span></dt><dd><p>Resumo de todos os valores contados de pixels.  </p></dd><dt><span class="term">mean double precision </span></dt><dd><p>Significado aritmético de todos os valores de pixels.   </p></dd><dt><span class="term">stddev double precision </span></dt><dd><p>Divergência parão de todos os valores contados de pixels. </p></dd><dt><span class="term">min double precision </span></dt><dd><p>Valor mínimo dos valores dos pixeis contados.  </p></dd><dt><span class="term">max double precision </span></dt><dd><p>Valor máximo dos valores dos pixeis contados.  </p></dd></dl></div><p>

                </p></div><div class="refsection" id="idm26968"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a>, <a class="xref" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a> </p></div></div><div class="refentry" id="unionarg"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>unionarg — Um tipo composto usado como entrada dentro da função ST_Union definindo as bandas a serem processadas e o comportamento da operação UNIÃO.</p></div><div class="refsection" id="idm26977"><h2>Descrição</h2><p>Um tipo composto usado como entrada dentro da função ST_Union definindo as bandas a serem processadas e o comportamento da operação UNIÃO. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">nband integer </code></span></dt><dd><p>Valor 1-baseado indicando a banda de cada raster de entrada a ser processado.  </p></dd><dt><span class="term"><code class="varname">uniontype text </code></span></dt><dd><p>Tipo de operação de UNIÃO. Um dos tipos definidos como descritos em <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a>. </p></dd></dl></div><p>

                </p></div><div class="refsection" id="idm26992"><h2>Veja também</h2><p>
                    <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a>
                </p></div></div></section><section class="section" id="Raster_Management_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.2. Gerenciamento Raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_AddRasterConstraints">AddRasterConstraints</a></span><span class="refpurpose"> — Adds raster constraints to a loaded raster table for a specific column that constrains spatial ref, scaling, blocksize, alignment, bands, band type and a flag to denote if raster column is regularly blocked. The table must be loaded with data for the constraints to be inferred. Returns true if the constraint setting was accomplished and issues a notice otherwise.</span></li><li><span class="refentrytitle"><a href="#RT_DropRasterConstraints">DropRasterConstraints</a></span><span class="refpurpose"> — Derruba as restrições raster PostGIS que se referem a uma tabela de coluna raster. É útil se você precisar recarregar dados ou atualizar os dados da sua coluna raster. </span></li><li><span class="refentrytitle"><a href="#RT_AddOverviewConstraints">AddOverviewConstraints</a></span><span class="refpurpose"> — Marca uma coluna raster como sendo um resumo de outra. </span></li><li><span class="refentrytitle"><a href="#RT_DropOverviewConstraints">DropOverviewConstraints</a></span><span class="refpurpose"> — Desmarca uma coluna raster de ser um resumo de outra. </span></li><li><span class="refentrytitle"><a href="#RT_PostGIS_GDAL_Version">PostGIS_GDAL_Version</a></span><span class="refpurpose"> — Relata a versão da biblioteca GDAL em uso pelo PostGIS</span></li><li><span class="refentrytitle"><a href="#RT_PostGIS_Raster_Lib_Build_Date">PostGIS_Raster_Lib_Build_Date</a></span><span class="refpurpose"> — Relata a data da biblioteca raster construída completa. </span></li><li><span class="refentrytitle"><a href="#RT_PostGIS_Raster_Lib_Version">PostGIS_Raster_Lib_Version</a></span><span class="refpurpose"> — Relata a versão raster completa e constrói informações de configuração.</span></li><li><span class="refentrytitle"><a href="#RT_ST_GDALDrivers">ST_GDALDrivers</a></span><span class="refpurpose"> — Returns a list of raster formats supported by PostGIS through GDAL. Only those formats with can_write=True can be used by ST_AsGDALRaster</span></li><li><span class="refentrytitle"><a href="#RT_ST_Contour">ST_Contour</a></span><span class="refpurpose"> — Generates a set of vector contours from the provided raster band, using the GDAL contouring algorithm.</span></li><li><span class="refentrytitle"><a href="#RT_ST_InterpolateRaster">ST_InterpolateRaster</a></span><span class="refpurpose"> — Interpolates a gridded surface based on an input set of 3-d points, using the X- and Y-values to position the points on the grid and the Z-value of the points as the surface elevation. </span></li><li><span class="refentrytitle"><a href="#RT_UpdateRasterSRID">UpdateRasterSRID</a></span><span class="refpurpose"> — Altera o SRID de todos os rasters na coluna e tabela do usuário especificado.  </span></li><li><span class="refentrytitle"><a href="#RT_CreateOverview">ST_CreateOverview</a></span><span class="refpurpose"> — Cria uma resolução de versão reduzida de uma dada cobertura raster. </span></li></ul></div><div class="refentry" id="RT_AddRasterConstraints"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AddRasterConstraints — Adds raster constraints to a loaded raster table for a specific column that constrains spatial ref, scaling, blocksize, alignment, bands, band type and a flag to denote if raster column is regularly blocked. The table must be loaded with data for the constraints to be inferred. Returns true if the constraint setting was accomplished and issues a notice otherwise.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">AddRasterConstraints</strong>(</code>name  <var class="pdparam">rasttable</var>, name  <var class="pdparam">rastcolumn</var>, boolean  <var class="pdparam">srid=true</var>, boolean  <var class="pdparam">scale_x=true</var>, boolean  <var class="pdparam">scale_y=true</var>, boolean  <var class="pdparam">blocksize_x=true</var>, boolean  <var class="pdparam">blocksize_y=true</var>, boolean  <var class="pdparam">same_alignment=true</var>, boolean  <var class="pdparam">regular_blocking=false</var>, boolean  <var class="pdparam">num_bands=true</var> , boolean  <var class="pdparam">pixel_types=true</var> , boolean  <var class="pdparam">nodata_values=true</var> , boolean  <var class="pdparam">out_db=true</var> , boolean  <var class="pdparam">extent=true</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">AddRasterConstraints</strong>(</code>name  <var class="pdparam">rasttable</var>, name  <var class="pdparam">rastcolumn</var>, text[]  <var class="pdparam">VARIADIC constraints</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">AddRasterConstraints</strong>(</code>name  <var class="pdparam">rastschema</var>, name  <var class="pdparam">rasttable</var>, name  <var class="pdparam">rastcolumn</var>, text[]  <var class="pdparam">VARIADIC constraints</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">AddRasterConstraints</strong>(</code>name  <var class="pdparam">rastschema</var>, name  <var class="pdparam">rasttable</var>, name  <var class="pdparam">rastcolumn</var>, boolean  <var class="pdparam">srid=true</var>, boolean  <var class="pdparam">scale_x=true</var>, boolean  <var class="pdparam">scale_y=true</var>, boolean  <var class="pdparam">blocksize_x=true</var>, boolean  <var class="pdparam">blocksize_y=true</var>, boolean  <var class="pdparam">same_alignment=true</var>, boolean  <var class="pdparam">regular_blocking=false</var>, boolean  <var class="pdparam">num_bands=true</var>, boolean  <var class="pdparam">pixel_types=true</var>, boolean  <var class="pdparam">nodata_values=true</var> , boolean  <var class="pdparam">out_db=true</var> , boolean  <var class="pdparam">extent=true</var> <code>)</code>;</p></div></div><div class="refsection" id="idm27124"><h2>Descrição</h2><p>Gera restrições em uma coluna raster que são usadas para expor informação no catálogo raster <code class="varname">raster_columns</code>. O <code class="varname">rastschema</code> é o nome da tabela esquema que a tabela está. O <code class="varname">srid</code> deve ser um valor inteiro referência a uma entrada na tabela SPATIAL_REF_SYS.</p><p><code class="varname">raster2pgsql</code> o carregador usa esta função para registrar tabelas raster</p><p>Valida nomes restritos para passar: recorra a <a class="xref" href="#RT_Raster_Columns" title="10.2.1. Catálogo de Colunas Raster">Section 10.2.1, “Catálogo de Colunas Raster”</a> para mais detalhes. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">blocksize</code> coloca X e Y blocksize</p></li><li class="listitem"><p><code class="varname">blocksize_x</code> coloca tile X (largura em pixeis de cada tile)</p></li><li class="listitem"><p><code class="varname">blocksize_y</code> coloca tile Y (altura em pixeis de cada tile)</p></li><li class="listitem"><p><code class="varname">extent</code> calcula a extensão da tabela toda e aplica restrições, todos os rasters devem estar dentro da extensão</p></li><li class="listitem"><p><code class="varname">num_bands</code> número de bandas </p></li><li class="listitem"><p><code class="varname">pixel_types</code> lê arranjo de tipos de pixeis para cada banda garantir que todas as bandas n tenham o mesmo tipo de pixel </p></li><li class="listitem"><p><code class="varname">regular_blocking</code> espacialmente único (dois rasters não podem ser espacialmente iguais) e restrições de tile de cobertura (raster é alinhado a uma cobertura)</p></li><li class="listitem"><p><code class="varname">same_alignment</code> ensures they all have same alignment meaning any two tiles you compare will return true for. Refer to <a class="xref" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a>.</p></li><li class="listitem"><p><code class="varname">srid</code> assegura que todos tenham o mesmo srid</p></li><li class="listitem"><p>Mais -- qualquer um listado como entrada dentro das funções acima</p></li></ul></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função infere as restrições dos dados já presentes na tabela. Assim como para que ela funcione, você deve criar a coluna raster primeiro e então carregá-la com dados. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você precisar carregar mais dados nas suas tabelas depois de ter aplicado suas restrições, talvez queira executar as DropRasterConstraints se a extensão dos seus dados mudou.  </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm27170"><h2>Exemplos: Aplica todas as restrições possíveis em uma coluna baseada em dados</h2><pre class="programlisting">CREATE TABLE myrasters(rid SERIAL primary key, rast raster);
INSERT INTO myrasters(rast)
SELECT ST_AddBand(ST_MakeEmptyRaster(1000, 1000, 0.3, -0.3, 2, 2, 0, 0,4326), 1, '8BSI'::text, -129, NULL);

SELECT AddRasterConstraints('myrasters'::name, 'rast'::name);


-- verify if registered correctly in the raster_columns view --
SELECT srid, scale_x, scale_y, blocksize_x, blocksize_y, num_bands, pixel_types, nodata_values
    FROM raster_columns
    WHERE r_table_name = 'myrasters';

 srid | scale_x | scale_y | blocksize_x | blocksize_y | num_bands | pixel_types| nodata_values
------+---------+---------+-------------+-------------+-----------+-------------+---------------
 4326 |       2 |       2 |        1000 |        1000 |         1 | {8BSI}      | {0}
        </pre></div><div class="refsection" id="idm27173"><h2>Exemplos: Aplica uma única restrição</h2><pre class="programlisting">CREATE TABLE public.myrasters2(rid SERIAL primary key, rast raster);
INSERT INTO myrasters2(rast)
SELECT ST_AddBand(ST_MakeEmptyRaster(1000, 1000, 0.3, -0.3, 2, 2, 0, 0,4326), 1, '8BSI'::text, -129, NULL);

SELECT AddRasterConstraints('public'::name, 'myrasters2'::name, 'rast'::name,'regular_blocking', 'blocksize');
-- get notice--
NOTICE:  Adding regular blocking constraint
NOTICE:  Adding blocksize-X constraint
NOTICE:  Adding blocksize-Y constraint</pre></div><div class="refsection" id="idm27176"><h2>Veja também</h2><p><a class="xref" href="#RT_Raster_Columns" title="10.2.1. Catálogo de Colunas Raster">Section 10.2.1, “Catálogo de Colunas Raster”</a>, <a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>, <a class="xref" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a>, <a class="xref" href="#RT_DropRasterConstraints" title="DropRasterConstraints">DropRasterConstraints</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="RT_DropRasterConstraints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>DropRasterConstraints — Derruba as restrições raster PostGIS que se referem a uma tabela de coluna raster. É útil se você precisar recarregar dados ou atualizar os dados da sua coluna raster. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">DropRasterConstraints</strong>(</code>name  <var class="pdparam">rasttable</var>, name  <var class="pdparam">rastcolumn</var>, boolean  <var class="pdparam">srid</var>, boolean  <var class="pdparam">scale_x</var>, boolean  <var class="pdparam">scale_y</var>, boolean  <var class="pdparam">blocksize_x</var>, boolean  <var class="pdparam">blocksize_y</var>, boolean  <var class="pdparam">same_alignment</var>, boolean  <var class="pdparam">regular_blocking</var>, boolean  <var class="pdparam">num_bands=true</var>, boolean  <var class="pdparam">pixel_types=true</var>, boolean  <var class="pdparam">nodata_values=true</var>, boolean  <var class="pdparam">out_db=true</var> , boolean  <var class="pdparam">extent=true</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">DropRasterConstraints</strong>(</code>name  <var class="pdparam">rastschema</var>, name  <var class="pdparam">rasttable</var>, name  <var class="pdparam">rastcolumn</var>, boolean  <var class="pdparam">srid=true</var>, boolean  <var class="pdparam">scale_x=true</var>, boolean  <var class="pdparam">scale_y=true</var>, boolean  <var class="pdparam">blocksize_x=true</var>, boolean  <var class="pdparam">blocksize_y=true</var>, boolean  <var class="pdparam">same_alignment=true</var>, boolean  <var class="pdparam">regular_blocking=false</var>, boolean  <var class="pdparam">num_bands=true</var>, boolean  <var class="pdparam">pixel_types=true</var>, boolean  <var class="pdparam">nodata_values=true</var>, boolean  <var class="pdparam">out_db=true</var> , boolean  <var class="pdparam">extent=true</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">DropRasterConstraints</strong>(</code>name  <var class="pdparam">rastschema</var>, name  <var class="pdparam">rasttable</var>, name  <var class="pdparam">rastcolumn</var>, text[]  <var class="pdparam">constraints</var><code>)</code>;</p></div></div><div class="refsection" id="idm27299"><h2>Descrição</h2><p>Derruba as restrições raster PostGIS que se referem a uma tabela de coluna raster que foram adicionadas pela <a class="xref" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a>. É útil se você precisar recarregar dados ou atualizar os dados da sua coluna raster. Não é necessário fazer isso se quiser livrar-se de uma tabela ou coluna raster.  </p><p>Para derrubar uma tabela raster use o padrão </p><pre class="programlisting">DROP TABLE mytable</pre><p>Para derrubar uma coluna raster e deixar o resto da tabela, use o SQL padrão </p><pre class="programlisting">ALTER TABLE mytable DROP COLUMN rast</pre><p>a tabela desparecerá do catálogo <code class="varname">raster_columns</code> se a coluna ou tabela for derrubada. Entretanto, se somente as restrições forem derrubadas, a coluna raster continuará sendo listada no catálogo <code class="varname">raster_columns</code>, mas não haverá nenhuma outra informação sobre isso à parte do nome da coluna e da tabela. </p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm27311"><h2>Exemplos</h2><pre class="programlisting">SELECT DropRasterConstraints ('myrasters','rast');
----RESULT output ---
t

-- verify change in raster_columns --
SELECT srid, scale_x, scale_y, blocksize_x, blocksize_y, num_bands, pixel_types, nodata_values
    FROM raster_columns
    WHERE r_table_name = 'myrasters';

 srid | scale_x | scale_y | blocksize_x | blocksize_y | num_bands | pixel_types| nodata_values
------+---------+---------+-------------+-------------+-----------+-------------+---------------
    0 |         |         |             |             |           |             |
        </pre></div><div class="refsection" id="idm27314"><h2>Veja também</h2><p><a class="xref" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a></p></div></div><div class="refentry" id="RT_AddOverviewConstraints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>AddOverviewConstraints — Marca uma coluna raster como sendo um resumo de outra. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">AddOverviewConstraints</strong>(</code>name  <var class="pdparam">ovschema</var>, name  <var class="pdparam">ovtable</var>, name  <var class="pdparam">ovcolumn</var>, name  <var class="pdparam">refschema</var>, name  <var class="pdparam">reftable</var>, name  <var class="pdparam">refcolumn</var>, int  <var class="pdparam">ovfactor</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">AddOverviewConstraints</strong>(</code>name  <var class="pdparam">ovtable</var>, name  <var class="pdparam">ovcolumn</var>, name  <var class="pdparam">reftable</var>, name  <var class="pdparam">refcolumn</var>, int  <var class="pdparam">ovfactor</var><code>)</code>;</p></div></div><div class="refsection" id="idm27366"><h2>Descrição</h2><p>Adiciona restrições em uma coluna raster que são usadas para expor informações no catálogo <code class="varname">raster_overviews</code> raster. </p><p>O parâmetro <code class="varname">ovfactor</code> representa a escala multiplicadora na coluna resumo: fatores resumo mais altos possuem uma resolução menor.  </p><p>Quando os parâmetros <code class="varname">ovschema</code> e <code class="varname">refschema</code> são omitidos, a primeira tabela encontrada escaneando o <code class="varname">search_path</code> será utilizada.  </p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm27377"><h2>Exemplos</h2><pre class="programlisting">CREATE TABLE res1 AS SELECT
ST_AddBand(
  ST_MakeEmptyRaster(1000, 1000, 0, 0, 2),
  1, '8BSI'::text, -129, NULL
) r1;

CREATE TABLE res2 AS SELECT
ST_AddBand(
  ST_MakeEmptyRaster(500, 500, 0, 0, 4),
  1, '8BSI'::text, -129, NULL
) r2;

SELECT AddOverviewConstraints('res2', 'r2', 'res1', 'r1', 2);

-- verify if registered correctly in the raster_overviews view --
SELECT o_table_name ot, o_raster_column oc,
       r_table_name rt, r_raster_column rc,
       overview_factor f
FROM raster_overviews WHERE o_table_name = 'res2';
  ot  | oc |  rt  | rc | f
------+----+------+----+---
 res2 | r2 | res1 | r1 | 2
(1 row)
        </pre></div><div class="refsection" id="idm27380"><h2>Veja também</h2><p><a class="xref" href="#RT_Raster_Overviews" title="10.2.2. Panoramas Raster">Section 10.2.2, “Panoramas Raster”</a>, <a class="xref" href="#RT_DropOverviewConstraints" title="DropOverviewConstraints">DropOverviewConstraints</a>, <a class="xref" href="#RT_CreateOverview" title="ST_CreateOverview">ST_CreateOverview</a>, <a class="xref" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a> </p></div></div><div class="refentry" id="RT_DropOverviewConstraints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>DropOverviewConstraints — Desmarca uma coluna raster de ser um resumo de outra. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">DropOverviewConstraints</strong>(</code>name  <var class="pdparam">ovschema</var>, name  <var class="pdparam">ovtable</var>, name  <var class="pdparam">ovcolumn</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">DropOverviewConstraints</strong>(</code>name  <var class="pdparam">ovtable</var>, name  <var class="pdparam">ovcolumn</var><code>)</code>;</p></div></div><div class="refsection" id="idm27414"><h2>Descrição</h2><p>Remove as restrições de uma coluna raster usadas para apresentá-la como um resumo de outra no catálogo <code class="varname">raster_overviews</code> raster.  </p><p>Quando o parâmetro <code class="varname">ovschema</code> é omitido, a primeira tabela encontradas escaneando o <code class="varname">search_path</code> será utilizada.  </p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm27422"><h2>Veja também</h2><p><a class="xref" href="#RT_Raster_Overviews" title="10.2.2. Panoramas Raster">Section 10.2.2, “Panoramas Raster”</a>, <a class="xref" href="#RT_AddOverviewConstraints" title="AddOverviewConstraints">AddOverviewConstraints</a>, <a class="xref" href="#RT_DropRasterConstraints" title="DropRasterConstraints">DropRasterConstraints</a> </p></div></div><div class="refentry" id="RT_PostGIS_GDAL_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_GDAL_Version — Relata a versão da biblioteca GDAL em uso pelo PostGIS</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_GDAL_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm27438"><h2>Descrição</h2><p>Relata a versão da biblioteca em uso pelo PostGIS. Também irá verificar e reportar se GDAL pode encontrar os dados de seus arquivos. </p></div><div class="refsection" id="idm27441"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_GDAL_Version();
       postgis_gdal_version
-----------------------------------
 GDAL 1.11dev, released 2013/04/13
                </pre></div><div class="refsection" id="idm27444"><h2>Veja também</h2><p>
                    <a class="xref" href="#postgis_gdal_datapath" title="postgis.gdal_datapath">postgis.gdal_datapath</a>
                </p></div></div><div class="refentry" id="RT_PostGIS_Raster_Lib_Build_Date"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Raster_Lib_Build_Date — Relata a data da biblioteca raster construída completa. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Raster_Lib_Build_Date</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm27458"><h2>Descrição</h2><p>Relata a data de construção raster</p></div><div class="refsection" id="idm27461"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_Raster_Lib_Build_Date();
postgis_raster_lib_build_date
-----------------------------
2010-04-28 21:15:10
</pre></div><div class="refsection" id="idm27464"><h2>Veja também</h2><p> <a class="xref" href="#RT_PostGIS_Raster_Lib_Version" title="PostGIS_Raster_Lib_Version">PostGIS_Raster_Lib_Version</a></p></div></div><div class="refentry" id="RT_PostGIS_Raster_Lib_Version"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>PostGIS_Raster_Lib_Version — Relata a versão raster completa e constrói informações de configuração.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">PostGIS_Raster_Lib_Version</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm27478"><h2>Descrição</h2><p>Relata a versão raster completa e constrói informações de configuração.</p></div><div class="refsection" id="idm27481"><h2>Exemplos</h2><pre class="programlisting">SELECT PostGIS_Raster_Lib_Version();
postgis_raster_lib_version
-----------------------------
 2.0.0
</pre></div><div class="refsection" id="idm27484"><h2>Veja também</h2><p> <a class="xref" href="#PostGIS_Lib_Version" title="PostGIS_Lib_Version">PostGIS_Lib_Version</a></p></div></div><div class="refentry" id="RT_ST_GDALDrivers"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GDALDrivers — Returns a list of raster formats supported by PostGIS through GDAL. Only those formats with can_write=True can be used by ST_AsGDALRaster</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_GDALDrivers</strong>(</code>integer  <var class="pdparam">OUT idx</var>, text  <var class="pdparam">OUT short_name</var>, text  <var class="pdparam">OUT long_name</var>, text  <var class="pdparam">OUT can_read</var>, text  <var class="pdparam">OUT can_write</var>, text  <var class="pdparam">OUT create_options</var><code>)</code>;</p></div></div><div class="refsection" id="idm27515"><h2>Descrição</h2><p>Returns a list of raster formats short_name,long_name and creator options of each format supported by GDAL. Use the short_name as input in the <code class="varname">format</code> parameter of <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>. Options vary depending on what drivers your libgdal was compiled with. <code class="varname">create_options</code> returns an xml formatted set of CreationOptionList/Option consisting of name and optional <code class="varname">type</code>, <code class="varname">description</code> and set of <code class="varname">VALUE</code> for each creator option for the specific driver. </p><p class="changed">Changed: 2.5.0 - add can_read and can_write columns.</p><p class="changed">Alterações: 2.0.6, 2.1.3 - por padrão nenhum driver é ativado, a menos que GUC ou a variável ambiental gdal_enabled_drivers estejam colocadas.</p><p class="availability">Disponibilidade: 2.0.0 - requer GDAL &gt;= 1.6.0. </p></div><div class="refsection" id="idm27527"><h2>Exemplos: Lista de Dispositivos</h2><pre class="programlisting">SET postgis.gdal_enabled_drivers = 'ENABLE_ALL';
SELECT short_name, long_name, can_write
FROM st_gdaldrivers()
ORDER BY short_name;

   short_name    |                          long_name                          | can_write
-----------------+-------------------------------------------------------------+-----------
 AAIGrid         | Arc/Info ASCII Grid                                         | t
 ACE2            | ACE2                                                        | f
 ADRG            | ARC Digitized Raster Graphics                               | f
 AIG             | Arc/Info Binary Grid                                        | f
 AirSAR          | AirSAR Polarimetric Image                                   | f
 ARG             | Azavea Raster Grid format                                   | t
 BAG             | Bathymetry Attributed Grid                                  | f
 BIGGIF          | Graphics Interchange Format (.gif)                          | f
 BLX             | Magellan topo (.blx)                                        | t
 BMP             | MS Windows Device Independent Bitmap                        | f
 BSB             | Maptech BSB Nautical Charts                                 | f
 PAux            | PCI .aux Labelled                                           | f
 PCIDSK          | PCIDSK Database File                                        | f
 PCRaster        | PCRaster Raster File                                        | f
 PDF             | Geospatial PDF                                              | f
 PDS             | NASA Planetary Data System                                  | f
 PDS4            | NASA Planetary Data System 4                                | t
 PLMOSAIC        | Planet Labs Mosaics API                                     | f
 PLSCENES        | Planet Labs Scenes API                                      | f
 PNG             | Portable Network Graphics                                   | t
 PNM             | Portable Pixmap Format (netpbm)                             | f
 PRF             | Racurs PHOTOMOD PRF                                         | f
 R               | R Object Data Store                                         | t
 Rasterlite      | Rasterlite                                                  | t
 RDA             | DigitalGlobe Raster Data Access driver                      | f
 RIK             | Swedish Grid RIK (.rik)                                     | f
 RMF             | Raster Matrix Format                                        | f
 ROI_PAC         | ROI_PAC raster                                              | f
 RPFTOC          | Raster Product Format TOC format                            | f
 RRASTER         | R Raster                                                    | f
 RS2             | RadarSat 2 XML Product                                      | f
 RST             | Idrisi Raster A.1                                           | t
 SAFE            | Sentinel-1 SAR SAFE Product                                 | f
 SAGA            | SAGA GIS Binary Grid (.sdat, .sg-grd-z)                     | t
 SAR_CEOS        | CEOS SAR Image                                              | f
 SDTS            | SDTS Raster                                                 | f
 SENTINEL2       | Sentinel 2                                                  | f
 SGI             | SGI Image File Format 1.0                                   | f
 SNODAS          | Snow Data Assimilation System                               | f
 SRP             | Standard Raster Product (ASRP/USRP)                         | f
 SRTMHGT         | SRTMHGT File Format                                         | t
 Terragen        | Terragen heightfield                                        | f
 TIL             | EarthWatch .TIL                                             | f
 TSX             | TerraSAR-X Product                                          | f
 USGSDEM         | USGS Optional ASCII DEM (and CDED)                          | t
 VICAR           | MIPL VICAR file                                             | f
 VRT             | Virtual Raster                                              | t
 WCS             | OGC Web Coverage Service                                    | f
 WMS             | OGC Web Map Service                                         | t
 WMTS            | OGC Web Map Tile Service                                    | t
 XPM             | X11 PixMap Format                                           | t
 XYZ             | ASCII Gridded XYZ                                           | t
 ZMap            | ZMap Plus Grid                                              | t
</pre></div><div class="refsection" id="idm27530"><h2>Exemplo: Lista de opções para cada dispositivo</h2><pre class="programlisting">-- Output the create options XML column of JPEG as a table  --
-- Note you can use these creator options in ST_AsGDALRaster options argument
SELECT (xpath('@name', g.opt))[1]::text As oname,
       (xpath('@type', g.opt))[1]::text As otype,
       (xpath('@description', g.opt))[1]::text As descrip
FROM (SELECT unnest(xpath('/CreationOptionList/Option', create_options::xml)) As opt
FROM  st_gdaldrivers()
WHERE short_name = 'JPEG') As g;

       oname        |  otype  |      descrip
--------------------+---------+-------------------------------------------------
 PROGRESSIVE        | boolean | whether to generate a progressive JPEG
 QUALITY            | int     | good=100, bad=0, default=75
 WORLDFILE          | boolean | whether to generate a worldfile
 INTERNAL_MASK      | boolean | whether to generate a validity mask
 COMMENT            | string  | Comment
 SOURCE_ICC_PROFILE | string  | ICC profile encoded in Base64
 EXIF_THUMBNAIL     | boolean | whether to generate an EXIF thumbnail(overview).
                                By default its max dimension will be 128
 THUMBNAIL_WIDTH    | int     | Forced thumbnail width
 THUMBNAIL_HEIGHT   | int     | Forced thumbnail height
(9 rows)
</pre><pre class="programlisting">

-- raw xml output for creator options for GeoTiff --
SELECT create_options
FROM st_gdaldrivers()
WHERE short_name = 'GTiff';

&lt;CreationOptionList&gt;
    &lt;Option name="COMPRESS" type="string-select"&gt;
        &lt;Value
&gt;NONE&lt;/Value&gt;
        &lt;Value
&gt;LZW&lt;/Value&gt;
        &lt;Value
&gt;PACKBITS&lt;/Value&gt;
        &lt;Value
&gt;JPEG&lt;/Value&gt;
        &lt;Value
&gt;CCITTRLE&lt;/Value&gt;
        &lt;Value
&gt;CCITTFAX3&lt;/Value&gt;
        &lt;Value
&gt;CCITTFAX4&lt;/Value&gt;
        &lt;Value
&gt;DEFLATE&lt;/Value&gt;
    &lt;/Option&gt;
    &lt;Option name="PREDICTOR" type="int" description="Predictor Type"/&gt;
    &lt;Option name="JPEG_QUALITY" type="int" description="JPEG quality 1-100" default="75"/&gt;
    &lt;Option name="ZLEVEL" type="int" description="DEFLATE compression level 1-9" default="6"/&gt;
    &lt;Option name="NBITS" type="int" description="BITS for sub-byte files (1-7), sub-uint16 (9-15), sub-uint32 (17-31)"/&gt;
    &lt;Option name="INTERLEAVE" type="string-select" default="PIXEL"&gt;
        &lt;Value
&gt;BAND&lt;/Value&gt;
        &lt;Value
&gt;PIXEL&lt;/Value&gt;
    &lt;/Option&gt;
    &lt;Option name="TILED" type="boolean" description="Switch to tiled format"/&gt;
    &lt;Option name="TFW" type="boolean" description="Write out world file"/&gt;
    &lt;Option name="RPB" type="boolean" description="Write out .RPB (RPC) file"/&gt;
    &lt;Option name="BLOCKXSIZE" type="int" description="Tile Width"/&gt;
    &lt;Option name="BLOCKYSIZE" type="int" description="Tile/Strip Height"/&gt;
    &lt;Option name="PHOTOMETRIC" type="string-select"&gt;
        &lt;Value
&gt;MINISBLACK&lt;/Value&gt;
        &lt;Value
&gt;MINISWHITE&lt;/Value&gt;
        &lt;Value
&gt;PALETTE&lt;/Value&gt;
        &lt;Value
&gt;RGB&lt;/Value&gt;
        &lt;Value
&gt;CMYK&lt;/Value&gt;
        &lt;Value
&gt;YCBCR&lt;/Value&gt;
        &lt;Value
&gt;CIELAB&lt;/Value&gt;
        &lt;Value
&gt;ICCLAB&lt;/Value&gt;
        &lt;Value
&gt;ITULAB&lt;/Value&gt;
    &lt;/Option&gt;
    &lt;Option name="SPARSE_OK" type="boolean" description="Can newly created files have missing blocks?" default="FALSE"/&gt;
    &lt;Option name="ALPHA" type="boolean" description="Mark first extrasample as being alpha"/&gt;
    &lt;Option name="PROFILE" type="string-select" default="GDALGeoTIFF"&gt;
        &lt;Value
&gt;GDALGeoTIFF&lt;/Value&gt;
        &lt;Value
&gt;GeoTIFF&lt;/Value&gt;
        &lt;Value
&gt;BASELINE&lt;/Value&gt;
    &lt;/Option&gt;
    &lt;Option name="PIXELTYPE" type="string-select"&gt;
        &lt;Value
&gt;DEFAULT&lt;/Value&gt;
        &lt;Value
&gt;SIGNEDBYTE&lt;/Value&gt;
    &lt;/Option&gt;
    &lt;Option name="BIGTIFF" type="string-select" description="Force creation of BigTIFF file"&gt;
        &lt;Value
&gt;YES&lt;/Value&gt;
        &lt;Value
&gt;NO&lt;/Value&gt;
        &lt;Value
&gt;IF_NEEDED&lt;/Value&gt;
        &lt;Value
&gt;IF_SAFER&lt;/Value&gt;
    &lt;/Option&gt;
    &lt;Option name="ENDIANNESS" type="string-select" default="NATIVE" description="Force endianness of created file. For DEBUG purpose mostly"&gt;
        &lt;Value
&gt;NATIVE&lt;/Value&gt;
        &lt;Value
&gt;INVERTED&lt;/Value&gt;
        &lt;Value
&gt;LITTLE&lt;/Value&gt;
        &lt;Value
&gt;BIG&lt;/Value&gt;
    &lt;/Option&gt;
    &lt;Option name="COPY_SRC_OVERVIEWS" type="boolean" default="NO" description="Force copy of overviews of source dataset (CreateCopy())"/&gt;
&lt;/CreationOptionList&gt;

-- Output the create options XML column for GTiff as a table  --
SELECT (xpath('@name', g.opt))[1]::text As oname,
       (xpath('@type', g.opt))[1]::text As otype,
       (xpath('@description', g.opt))[1]::text As descrip,
       array_to_string(xpath('Value/text()', g.opt),', ') As vals
FROM (SELECT unnest(xpath('/CreationOptionList/Option', create_options::xml)) As opt
FROM  st_gdaldrivers()
WHERE short_name = 'GTiff') As g;

       oname        |     otype     |                               descrip                                |                                   vals
--------------------+---------------+----------------------------------------------------------------------+---------------------------------------------------------------------------
 COMPRESS           | string-select |                                                                      | NONE, LZW, PACKBITS, JPEG, CCITTRLE, CCITTFAX3, CCITTFAX4, DEFLATE
 PREDICTOR          | int           | Predictor Type                                                       |
 JPEG_QUALITY       | int           | JPEG quality 1-100                                                   |
 ZLEVEL             | int           | DEFLATE compression level 1-9                                        |
 NBITS              | int           | BITS for sub-byte files (1-7), sub-uint16 (9-15), sub-uint32 (17-31) |
 INTERLEAVE         | string-select |                                                                      | BAND, PIXEL
 TILED              | boolean       | Switch to tiled format                                               |
 TFW                | boolean       | Write out world file                                                 |
 RPB                | boolean       | Write out .RPB (RPC) file                                            |
 BLOCKXSIZE         | int           | Tile Width                                                           |
 BLOCKYSIZE         | int           | Tile/Strip Height                                                    |
 PHOTOMETRIC        | string-select |                                                                      | MINISBLACK, MINISWHITE, PALETTE, RGB, CMYK, YCBCR, CIELAB, ICCLAB, ITULAB
 SPARSE_OK          | boolean       | Can newly created files have missing blocks?                         |
 ALPHA              | boolean       | Mark first extrasample as being alpha                                |
 PROFILE            | string-select |                                                                      | GDALGeoTIFF, GeoTIFF, BASELINE
 PIXELTYPE          | string-select |                                                                      | DEFAULT, SIGNEDBYTE
 BIGTIFF            | string-select | Force creation of BigTIFF file                                       | YES, NO, IF_NEEDED, IF_SAFER
 ENDIANNESS         | string-select | Force endianness of created file. For DEBUG purpose mostly           | NATIVE, INVERTED, LITTLE, BIG
 COPY_SRC_OVERVIEWS | boolean       | Force copy of overviews of source dataset (CreateCopy())             |
(19 rows)

</pre></div><div class="refsection" id="idm27534"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a>, <a class="xref" href="#postgis_gdal_enabled_drivers" title="postgis.gdal_enabled_drivers">postgis.gdal_enabled_drivers</a> </p></div></div><div class="refentry" id="RT_ST_Contour"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Contour — Generates a set of vector contours from the provided raster band, using the <a class="link" href="https://gdal.org/api/gdal_alg.html?highlight=contour#_CPPv421GDALContourGenerateEx15GDALRasterBandHPv12CSLConstList16GDALProgressFuncPv" target="_top">GDAL contouring algorithm</a>.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_Contour</strong>(</code>raster <var class="pdparam">rast</var>, integer <var class="pdparam">bandnumber=1</var>, double precision <var class="pdparam">level_interval=100.0</var>, double precision <var class="pdparam">level_base=0.0</var>, double precision[] <var class="pdparam">fixed_levels=ARRAY[]</var>, boolean <var class="pdparam">polygonize=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm27568"><h2>Descrição</h2><p>Generates a set of vector contours from the provided raster band, using the <a class="link" href="https://gdal.org/api/gdal_alg.html?highlight=contour#_CPPv421GDALContourGenerateEx15GDALRasterBandHPv12CSLConstList16GDALProgressFuncPv" target="_top">GDAL contouring algorithm</a>.</p><p>When the <code class="varname">fixed_levels</code> parameter is a non-empty array, the <code class="varname">level_interval</code> and <code class="varname">level_base</code> parameters are ignored. </p><p>Input parameters are: </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">rast</code></span></dt><dd><p>The raster to generate the contour of</p></dd><dt><span class="term"><code class="varname">bandnumber</code></span></dt><dd><p>The band to generate the contour of</p></dd><dt><span class="term"><code class="varname">level_interval</code></span></dt><dd><p>The elevation interval between contours generated</p></dd><dt><span class="term"><code class="varname">level_base</code></span></dt><dd><p>The "base" relative to which contour intervals are applied, this is normally zero, but could be different. To generate 10m contours at 5, 15, 25, ... the LEVEL_BASE would be 5.</p></dd><dt><span class="term"><code class="varname">fixed_levels</code></span></dt><dd><p>The elevation interval between contours generated</p></dd><dt><span class="term"><code class="varname">polygonize</code></span></dt><dd><p>If <code class="literal">true</code>, contour polygons will be created, rather than polygon lines.</p></dd></dl></div><p>Return values are a set of records with the following attributes: </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">geom</code></span></dt><dd><p>The geometry of the contour line.</p></dd><dt><span class="term"><code class="varname">id</code></span></dt><dd><p>A unique identifier given to the contour line by GDAL.</p></dd><dt><span class="term"><code class="varname">value</code></span></dt><dd><p>The raster value the line represents. For an elevation DEM input, this would be the elevation of the output contour.</p></dd></dl></div><p class="availability">Availability: 3.2.0</p></div><div class="refsection" id="idm27627"><h2>Exemplo</h2><pre class="programlisting">WITH c AS (
SELECT (ST_Contour(rast, 1, fixed_levels =&gt; ARRAY[100.0, 200.0, 300.0])).*
FROM dem_grid WHERE rid = 1
)
SELECT st_astext(geom), id, value
FROM c;</pre></div><div class="refsection" id="idm27630"><h2>Veja também</h2><p>
        <a class="xref" href="#RT_ST_InterpolateRaster" title="ST_InterpolateRaster">ST_InterpolateRaster</a>
        </p></div></div><div class="refentry" id="RT_ST_InterpolateRaster"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_InterpolateRaster — Interpolates a gridded surface based on an input set of 3-d points, using the X- and Y-values to position the points on the grid and the Z-value of the points as the surface elevation. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_InterpolateRaster</strong>(</code>geometry <var class="pdparam">input_points</var>, text <var class="pdparam">algorithm_options</var>, raster <var class="pdparam">template</var>, integer <var class="pdparam">template_band_num=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm27655"><h2>Descrição</h2><p>Interpolates a gridded surface based on an input set of 3-d points, using the X- and Y-values to position the points on the grid and the Z-value of the points as the surface elevation. There are five interpolation algorithms available: inverse distance, inverse distance nearest-neighbor, moving average, nearest neighbor, and linear interpolation. See the <a class="link" href="https://gdal.org/programs/gdal_grid.html#interpolation-algorithms" target="_top">gdal_grid documentation</a> for more details on the algorithms and their parameters. For more information on how interpolations are calculated, see the <a class="link" href="https://gdal.org/tutorials/gdal_grid_tut.html" target="_top">GDAL grid tutorial</a>. </p><p>Input parameters are: </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">input_points</code></span></dt><dd><p>The points to drive the interpolation. Any geometry with Z-values is acceptable, all points in the input will be used.</p></dd><dt><span class="term"><code class="varname">algorithm_options</code></span></dt><dd><p>A string defining the algorithm and algorithm options, in the format used by <a class="link" href="https://gdal.org/programs/gdal_grid.html#interpolation-algorithms" target="_top">gdal_grid</a>. For example, for an inverse-distance interpolation with a smoothing of 2, you would use "invdist:smoothing=2.0" </p></dd><dt><span class="term"><code class="varname">template</code></span></dt><dd><p>A raster template to drive the geometry of the output raster. The width, height, pixel size, spatial extent and pixel type will be read from this template. </p></dd><dt><span class="term"><code class="varname">template_band_num</code></span></dt><dd><p>By default the first band in the template raster is used to drive the output raster, but that can be adjusted with this parameter. </p></dd></dl></div><p class="availability">Availability: 3.2.0</p></div><div class="refsection" id="idm27684"><h2>Exemplo</h2><pre class="programlisting">SELECT ST_InterpolateRaster(
    'MULTIPOINT(10.5 9.5 1000, 11.5 8.5 1000, 10.5 8.5 500, 11.5 9.5 500)'::geometry,
    'invdist:smoothing:2.0',
    ST_AddBand(ST_MakeEmptyRaster(200, 400, 10, 10, 0.01, -0.005, 0, 0), '16BSI')
)</pre></div><div class="refsection" id="idm27687"><h2>Veja também</h2><p>
            <a class="xref" href="#RT_ST_Contour" title="ST_Contour">ST_Contour</a>
            </p></div></div><div class="refentry" id="RT_UpdateRasterSRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>UpdateRasterSRID — Altera o SRID de todos os rasters na coluna e tabela do usuário especificado.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">UpdateRasterSRID</strong>(</code>name  <var class="pdparam">schema_name</var>, name  <var class="pdparam">table_name</var>, name  <var class="pdparam">column_name</var>, integer  <var class="pdparam">new_srid</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">UpdateRasterSRID</strong>(</code>name  <var class="pdparam">table_name</var>, name  <var class="pdparam">column_name</var>, integer  <var class="pdparam">new_srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm27724"><h2>Descrição</h2><p>Altera o SRID de todos os rasters na coluna e tabela do usuário especificado. A função irá derrubar todas as restrições de colunas apropriadas (extensão, alinhamento e SRID) antes de modificar o SRID dos rasters específicos da coluna.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Os dados (banda valores pixel) dos rasters não são mexidos por esta função. Somente os metadados do restar são alterados.  </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm27730"><h2>Veja também</h2><p>
          <a class="xref" href="#UpdateGeometrySRID" title="UpdateGeometrySRID">UpdateGeometrySRID</a>
        </p></div></div><div class="refentry" id="RT_CreateOverview"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CreateOverview — Cria uma resolução de versão reduzida de uma dada cobertura raster. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">regclass <strong class="fsfunc">ST_CreateOverview</strong>(</code>regclass  <var class="pdparam">tab</var>, name  <var class="pdparam">col</var>, int  <var class="pdparam">factor</var>, text  <var class="pdparam">algo='NearestNeighbor'</var><code>)</code>;</p></div></div><div class="refsection" id="idm27755"><h2>Descrição</h2><p>Cria uma tabela panorama com resampled tiles da tabela fonte. AS tiles de saída terão o mesmo tamanho das de entrada e cobrirão a mesma extensão espacial com uma resolução mais baixa (tamanho do pixel  será 1/<code class="varname">factor</code> do original em ambas direções).  </p><p>A tabela panorama se tronará disponível no catálogo <code class="varname">raster_overviews</code> e terá restrições raster executadas.  </p><p>As opções de algorítimo são: 'NearestNeighbor', 'Bilinear', 'Cubic', 'CubicSpline', e 'Lanczos'. Recorra a: <a class="link" href="http://www.gdal.org/gdalwarp.html" target="_top">GDAL Warp resampling methods</a> para mais detalhes.</p><p class="availability">Disponibilidade: 2.2.0</p></div><div class="refsection" id="idm27764"><h2>Exemplo</h2><p>Output to generally better quality but slower to product format</p><pre class="programlisting">SELECT ST_CreateOverview('mydata.mytable'::regclass, 'rast', 2, 'Lanczos');</pre><p>Output to faster to process default nearest neighbor</p><pre class="programlisting">SELECT ST_CreateOverview('mydata.mytable'::regclass, 'rast', 2);</pre></div><div class="refsection" id="idm27770"><h2>Veja também</h2><p><a class="xref" href="#RT_Retile" title="ST_Retile">ST_Retile</a>, <a class="xref" href="#RT_AddOverviewConstraints" title="AddOverviewConstraints">AddOverviewConstraints</a>, <a class="xref" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a>, <a class="xref" href="#RT_Raster_Overviews" title="10.2.2. Panoramas Raster">Section 10.2.2, “Panoramas Raster”</a> </p></div></div></section><section class="section" id="Raster_Constructors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.3. Construtores Raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_AddBand">ST_AddBand</a></span><span class="refpurpose"> — Retorna um raster com nova banda(s) do tipo dado adicionado com o valor inicial com a localização do índice. Se nenhum índice for especificado, a banda é adicionada ao final.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_AsRaster">ST_AsRaster</a></span><span class="refpurpose"> — Converte uma geometria PostGIS para um raster PostGIS. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Band">ST_Band</a></span><span class="refpurpose"> — Retorna uma ou mais bandas de um raster existente como um novo raster. Útil para a construção de novos rasters a partir de rasters existentes. </span></li><li><span class="refentrytitle"><a href="#RT_ST_MakeEmptyCoverage">ST_MakeEmptyCoverage</a></span><span class="refpurpose"> — Cover georeferenced area with a grid of empty raster tiles.</span></li><li><span class="refentrytitle"><a href="#RT_ST_MakeEmptyRaster">ST_MakeEmptyRaster</a></span><span class="refpurpose"> — Retorna um raster vazio (sem bandas) das dimensões dadas (width &amp; height), o X e Y do superior esquerdo, tamanho de pixel e rotação (scalex, scaley, skewx &amp; skewy) e sistema de referência (srid). Se um raster passar, retorna um novo raster com o mesmo tamanho, alinhamento e SRID. Se o srid é deixado de fora, a referência espacial se torna desconhecida (0).</span></li><li><span class="refentrytitle"><a href="#RT_ST_Tile">ST_Tile</a></span><span class="refpurpose"> — Retorna um conjunto de rasters resultante de uma divisão do raster de entrada baseado nas dimensões desejadas nos rasters de saída.</span></li><li><span class="refentrytitle"><a href="#RT_Retile">ST_Retile</a></span><span class="refpurpose"> — Retorna um conjunto de tiles configuradas de uma cobertura raster aleatória.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_FromGDALRaster">ST_FromGDALRaster</a></span><span class="refpurpose"> — Retorna um raster de um arquivo raster GDAL suportado.</span></li></ul></div><div class="refentry" id="RT_ST_AddBand"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AddBand — Retorna um raster com nova banda(s) do tipo dado adicionado com o valor inicial com a localização do índice. Se nenhum índice for especificado, a banda é adicionada ao final.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">(1) raster <strong class="fsfunc">ST_AddBand</strong>(</code>raster  <var class="pdparam">rast</var>, addbandarg[]  <var class="pdparam">addbandargset</var><code>)</code>;</p><p><code class="funcdef">(2) raster <strong class="fsfunc">ST_AddBand</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">index</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">initialvalue=0</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">(3) raster <strong class="fsfunc">ST_AddBand</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">initialvalue=0</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">(4) raster <strong class="fsfunc">ST_AddBand</strong>(</code>raster  <var class="pdparam">torast</var>, raster  <var class="pdparam">fromrast</var>, integer  <var class="pdparam">fromband=1</var>, integer  <var class="pdparam">torastindex=at_end</var><code>)</code>;</p><p><code class="funcdef">(5) raster <strong class="fsfunc">ST_AddBand</strong>(</code>raster  <var class="pdparam">torast</var>, raster[]  <var class="pdparam">fromrasts</var>, integer  <var class="pdparam">fromband=1</var>, integer  <var class="pdparam">torastindex=at_end</var><code>)</code>;</p><p><code class="funcdef">(6) raster <strong class="fsfunc">ST_AddBand</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">index</var>, text  <var class="pdparam">outdbfile</var>, integer[]  <var class="pdparam">outdbindex</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">(7) raster <strong class="fsfunc">ST_AddBand</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">outdbfile</var>, integer[]  <var class="pdparam">outdbindex</var>, integer  <var class="pdparam">index=at_end</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm27893"><h2>Descrição</h2><p>Returns a raster with a new band added in given position (index), of given type, of given initial value, and of given nodata value. If no index is specified, the band is added to the end. If no <code class="varname">fromband</code> is specified, band 1 is assumed. Pixel type is a string representation of one of the pixel types specified in <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>. If an existing index is specified all subsequent bands &gt;= that index are incremented by 1. If an initial value greater than the max of the pixel type is specified, then the initial value is set to the highest value allowed by the pixel type. </p><p>Para a variante que pega um arranjo de <a class="xref" href="#addbandarg" title="addbandarg">addbandarg</a> (Variante 1), um valor de índice addbandarg's específico é relativo ao raster no mesmo tempo que a banda é descrita por aquele addbandarg's está sendo adicionada ao raster. Veja o exemplo abaixo.  </p><p>Para a variante que pega um arranjo de rasters (Variante 5), se <code class="varname">torast</code> é NULO então a <code class="varname">fromband</code> banda de cada raster no arranjo está acumulada dentro de um novo raster.  </p><p>Para as variantes que pegam <code class="varname">outdbfile</code> (Variantes 6 e 7), o valor deve incluir o caminho completo para o arquivo raster. O arquivo deve ser acessível também pata o processo do servidor postgres. </p><p class="enhanced">Melhorias: 2.1.0 suporte para addbandarg adicionado.</p><p class="enhanced">Melhorias: 2.1.0 suporte para novas bandas out-db adicionado. </p></div><div class="refsection" id="idm27907"><h2>Exemplos: Nova banda única</h2><pre class="programlisting">-- Add another band of type 8 bit unsigned integer with pixels initialized to 200
UPDATE dummy_rast
    SET rast = ST_AddBand(rast,'8BUI'::text,200)
WHERE rid = 1;
                </pre><pre class="programlisting">-- Create an empty raster 100x100 units, with upper left  right at 0, add 2 bands (band 1 is 0/1 boolean bit switch, band2 allows values 0-15)
-- uses addbandargs
INSERT INTO dummy_rast(rid,rast)
    VALUES(10, ST_AddBand(ST_MakeEmptyRaster(100, 100, 0, 0, 1, -1, 0, 0, 0),
    ARRAY[
        ROW(1, '1BB'::text, 0, NULL),
        ROW(2, '4BUI'::text, 0, NULL)
            ]::addbandarg[]
     )
    );

-- output meta data of raster bands to verify all is right --
SELECT  (bmd).*
FROM (SELECT ST_BandMetaData(rast,generate_series(1,2)) As bmd
    FROM dummy_rast WHERE rid = 10) AS foo;
 --result --
 pixeltype | nodatavalue | isoutdb | path
-----------+----------------+-------------+---------+------
 1BB       |             | f       |
 4BUI      |             | f       |


-- output meta data of raster -
SELECT  (rmd).width, (rmd).height, (rmd).numbands
FROM (SELECT ST_MetaData(rast) As rmd
    FROM dummy_rast WHERE rid = 10) AS foo;
-- result --
 upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands
------------+------------+-------+--------+------------+------------+-------+-------+------+----------
          0 |          0 |   100 |    100 |      1 |     -1 |     0 |     0 |   0 |        2
                </pre></div><div class="refsection" id="idm27911"><h2>Exemplos: Várias bandas novas</h2><pre class="programlisting">SELECT
    *
FROM ST_BandMetadata(
    ST_AddBand(
        ST_MakeEmptyRaster(10, 10, 0, 0, 1, -1, 0, 0, 0),
        ARRAY[
            ROW(NULL, '8BUI', 255, 0),
            ROW(NULL, '16BUI', 1, 2),
            ROW(2, '32BUI', 100, 12),
            ROW(2, '32BF', 3.14, -1)
        ]::addbandarg[]
    ),
    ARRAY[]::integer[]
);

 bandnum | pixeltype | nodatavalue | isoutdb | path
---------+-----------+-------------+---------+------
       1 | 8BUI      |           0 | f       |
       2 | 32BF      |          -1 | f       |
       3 | 32BUI     |          12 | f       |
       4 | 16BUI     |           2 | f       |
                </pre><pre class="programlisting">-- Aggregate the 1st band of a table of like rasters into a single raster
-- with as many bands as there are test_types and as many rows (new rasters) as there are mice
-- NOTE: The ORDER BY test_type is only supported in PostgreSQL 9.0+
-- for 8.4 and below it usually works to order your data in a subselect (but not guaranteed)
-- The resulting raster will have a band for each test_type alphabetical by test_type
-- For mouse lovers: No mice were harmed in this exercise
SELECT
    mouse,
    ST_AddBand(NULL, array_agg(rast ORDER BY test_type), 1) As rast
FROM mice_studies
GROUP BY mouse;
                </pre></div><div class="refsection" id="idm27915"><h2>Exemplos: Nova banda out-db</h2><pre class="programlisting">SELECT
    *
FROM ST_BandMetadata(
    ST_AddBand(
        ST_MakeEmptyRaster(10, 10, 0, 0, 1, -1, 0, 0, 0),
        '/home/raster/mytestraster.tif'::text, NULL::int[]
    ),
    ARRAY[]::integer[]
);

 bandnum | pixeltype | nodatavalue | isoutdb | path
---------+-----------+-------------+---------+------
       1 | 8BUI      |             | t       | /home/raster/mytestraster.tif
       2 | 8BUI      |             | t       | /home/raster/mytestraster.tif
       3 | 8BUI      |             | t       | /home/raster/mytestraster.tif
                </pre></div><div class="refsection" id="idm27918"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a>, <a class="xref" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a>, <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a>, <a class="xref" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a> </p></div></div><div class="refentry" id="RT_ST_AsRaster"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsRaster — Converte uma geometria PostGIS para um raster PostGIS. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, raster  <var class="pdparam">ref</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">value=1</var>, double precision  <var class="pdparam">nodataval=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, raster  <var class="pdparam">ref</var>, text[]  <var class="pdparam">pixeltype=ARRAY['8BUI']</var>, double precision[]  <var class="pdparam">value=ARRAY[1]</var>, double precision[]  <var class="pdparam">nodataval=ARRAY[0]</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, double precision  <var class="pdparam">gridx</var>, double precision  <var class="pdparam">gridy</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">value=1</var>, double precision  <var class="pdparam">nodataval=0</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, double precision  <var class="pdparam">gridx=NULL</var>, double precision  <var class="pdparam">gridy=NULL</var>, text[]  <var class="pdparam">pixeltype=ARRAY['8BUI']</var>, double precision[]  <var class="pdparam">value=ARRAY[1]</var>, double precision[]  <var class="pdparam">nodataval=ARRAY[0]</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">value=1</var>, double precision  <var class="pdparam">nodataval=0</var>, double precision  <var class="pdparam">upperleftx=NULL</var>, double precision  <var class="pdparam">upperlefty=NULL</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, text[]  <var class="pdparam">pixeltype</var>, double precision[]  <var class="pdparam">value=ARRAY[1]</var>, double precision[]  <var class="pdparam">nodataval=ARRAY[0]</var>, double precision  <var class="pdparam">upperleftx=NULL</var>, double precision  <var class="pdparam">upperlefty=NULL</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, double precision  <var class="pdparam">gridx</var>, double precision  <var class="pdparam">gridy</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">value=1</var>, double precision  <var class="pdparam">nodataval=0</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, double precision  <var class="pdparam">gridx=NULL</var>, double precision  <var class="pdparam">gridy=NULL</var>, text[]  <var class="pdparam">pixeltype=ARRAY['8BUI']</var>, double precision[]  <var class="pdparam">value=ARRAY[1]</var>, double precision[]  <var class="pdparam">nodataval=ARRAY[0]</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">value=1</var>, double precision  <var class="pdparam">nodataval=0</var>, double precision  <var class="pdparam">upperleftx=NULL</var>, double precision  <var class="pdparam">upperlefty=NULL</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_AsRaster</strong>(</code>geometry  <var class="pdparam">geom</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, text[]  <var class="pdparam">pixeltype</var>, double precision[]  <var class="pdparam">value=ARRAY[1]</var>, double precision[]  <var class="pdparam">nodataval=ARRAY[0]</var>, double precision  <var class="pdparam">upperleftx=NULL</var>, double precision  <var class="pdparam">upperlefty=NULL</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, boolean  <var class="pdparam">touched=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm28263"><h2>Descrição</h2><p>Converte uma geometria PostGIS para um raster PostGIS.  As diversas variantes oferecem três grupos de possibilidades para configurar o alinhamento e o tamanho do pixel do raster resultante. </p><p>O primeiro grupo, composto pelas duas primeiras variantes, produz um raster tendo o mesmo alinhamento (<code class="varname">scalex</code>, <code class="varname">scaley</code>, <code class="varname">gridx</code> e <code class="varname">gridy</code>), tipo pixel e valor nodata como foi fornecido pelo raster referência. Você geralmente passa este raster referência unindo a tabela que contém a geometria com a que contém o raster referência. </p><p>O segundo grupo, composto por quatro variantes, permite que você fixe dimensões do raster fornecendo os parâmetros do tamanho de um pixel (<code class="varname">scalex</code> &amp; <code class="varname">scaley</code> e <code class="varname">skewx</code> &amp; <code class="varname">skewy</code>). O <code class="varname">width</code> &amp; <code class="varname">height</code> do raster resultante será ajustado para caber na extensão da geometria. Na maioria dos casos, você deve cast integer <code class="varname">scalex</code> &amp; <code class="varname">scaley</code> argumentos para dobrar a precisão para que o PostgreSQL escolha a variante correta. </p><p>O terceiro grupo, composto por quatro variantes, permite que você conserte dimensões do raster fornecendo elas (<code class="varname">width</code> &amp; <code class="varname">height</code>). Os parâmetros do tamanho do pixel  (<code class="varname">scalex</code> &amp; <code class="varname">scaley</code> and <code class="varname">skewx</code> &amp; <code class="varname">skewy</code>) do raster resultante será ajustado para caber na extensão da geometria. </p><p>As duas primeiras variantes de cada um destes dois últimos grupos permite que você especifique o alinhamento com um canto aleatório da rede de alinhamento (<code class="varname">gridx</code> &amp; <code class="varname">gridy</code>) e as duas últimas variantes pegam o canto esquerdo mais alto (<code class="varname">upperleftx</code> &amp; <code class="varname">upperlefty</code>).</p><p>Cada grupo de variantes permite a produção de uma ou várias bandas raster. Para produzir várias, você deve fornecer um arranjo de tipos pixel (<code class="varname">pixeltype[]</code>), um arranjo de valores iniciais (<code class="varname">value</code>) e um de valores nodata (<code class="varname">nodataval</code>). Se não fornecidos pixeltyped torna-se 8BUI, valores para 1 e nodataval para 0.</p><p>O raster de saída terá a mesma referência espacial que a geometria fonte. A única exceção é para variantes com raster referência. Neste caso, o raster resultante terá o mesmo SRID do raster referência.</p><p>O parâmetro opcional <code class="varname">touched</code> é falso e mapeia a opção rasterização GDAL ALL_TOUCHED, a qual determina se pixeis tocados por linhas ou polígonos serão queimados. Não apenas aqueles no caminho de renderização de linha, ou aqueles cujo ponto central está dentro do polígono. </p><p>Isto é particularmente útil para renderizar jpegs e pngs de geometrias diretamente do banco de dados quando usando em conjunto com <a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a> e outra família <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a> de funções.</p><p class="availability">Disponibilidade: 2.0.0 - requer GDAL &gt;= 1.6.0. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Ainda não é capaz de renderizar geometrias complexas como: curvas, TINS, e superfícies poliédricas, mas deveria ser, já que GDAL consegue. </p></td></tr></table></div></div><div class="refsection" id="idm28305"><h2>Exemplos: Gera geometrias como arquivos PNG</h2><div class="informalfigure"><div class="mediaobject"><img src="images/st_asraster01.png"/><div class="caption"><p>círculo preto</p></div></div></div><pre class="programlisting">-- this will output a black circle taking up 150 x 150 pixels --
SELECT ST_AsPNG(ST_AsRaster(ST_Buffer(ST_Point(1,5),10),150, 150));</pre><div class="informalfigure"><div class="mediaobject"><img src="images/st_asraster02.png"/><div class="caption"><p>exemplo de buffer renderizado só com o PostGIS</p></div></div></div><pre class="programlisting">-- the bands map to RGB bands - the value (118,154,118) - teal  --
SELECT ST_AsPNG(
    ST_AsRaster(
        ST_Buffer(
            ST_GeomFromText('LINESTRING(50 50,150 150,150 50)'), 10,'join=bevel'),
            200,200,ARRAY['8BUI', '8BUI', '8BUI'], ARRAY[118,154,118], ARRAY[0,0,0]));</pre></div><div class="refsection" id="idm28323"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a>, <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>, <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>, <a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>, <a class="xref" href="#RT_ST_AsJPEG" title="ST_AsJPEG">ST_AsJPEG</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="RT_ST_Band"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Band — Retorna uma ou mais bandas de um raster existente como um novo raster. Útil para a construção de novos rasters a partir de rasters existentes. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Band</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nbands = ARRAY[1]</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Band</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Band</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">nbands</var>, character  <var class="pdparam">delimiter=,</var><code>)</code>;</p></div></div><div class="refsection" id="idm28369"><h2>Descrição</h2><p>Returns one or more bands of an existing raster as a new raster. Useful for building new rasters from existing rasters or export of only selected bands of a raster or rearranging the order of bands in a raster. If no band is specified or any of specified bands does not exist in the raster, then all bands are returned. Used as a helper function in various functions such as for deleting a band. </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para as <code class="code">nbands</code> como variantes de textos de função, o delimitador padrão é <code class="code">,</code> que significa que você pode pedir por <code class="code">'1,2,3'</code> e se quiser usar um delimitador diferente você poderia fazer <code class="code">ST_Band(rast, '1@2@3', '@')</code>. Para pedir por várias bandas, sugerimos que use a forma de arranjo desta função ex.: <code class="code">ST_Band(rast, '{1,2,3}'::int[]);</code> já que a forma de lista de banda <code class="code">text</code> pode ser removida em versões futuras do PostGIS. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm28381"><h2>Exemplos</h2><pre class="programlisting">-- Make 2 new rasters: 1 containing band 1 of dummy, second containing band 2 of dummy and then reclassified as a 2BUI
SELECT ST_NumBands(rast1) As numb1, ST_BandPixelType(rast1) As pix1,
 ST_NumBands(rast2) As numb2,  ST_BandPixelType(rast2) As pix2
FROM (
    SELECT ST_Band(rast) As rast1, ST_Reclass(ST_Band(rast,3), '100-200):1, [200-254:2', '2BUI') As rast2
        FROM dummy_rast
        WHERE rid = 2) As foo;

 numb1 | pix1 | numb2 | pix2
-------+------+-------+------
     1 | 8BUI |     1 | 2BUI
                    </pre><pre class="programlisting">-- Return bands 2 and 3. Using array cast syntax
SELECT ST_NumBands(ST_Band(rast, '{2,3}'::int[])) As num_bands
    FROM dummy_rast WHERE rid=2;

num_bands
----------
2

-- Return bands 2 and 3. Use array to define bands
SELECT ST_NumBands(ST_Band(rast, ARRAY[2,3])) As num_bands
    FROM dummy_rast
WHERE rid=2;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_band01.png"/><div class="caption"><p>original (column rast)</p></div></div></div>
         </td><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_band02.png"/><div class="caption"><p>dupe_band</p></div></div></div>
         </td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_band03.png"/><div class="caption"><p>sing_band</p></div></div></div>
         </td></tr></tbody></table></div><pre class="programlisting">--Make a new raster with 2nd band of original and 1st band repeated twice,
and another with just the third band
SELECT rast, ST_Band(rast, ARRAY[2,1,1]) As dupe_band,
    ST_Band(rast, 3) As sing_band
FROM samples.than_chunked
WHERE rid=35;
                    </pre></div><div class="refsection" id="idm28414"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>, <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a>, <a class="xref" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a>, <a class="xref" href="#RT_reference" title="Chapter 11. Referência Raster">Chapter 11, <em>Referência Raster</em></a></p></div></div><div class="refentry" id="RT_ST_MakeEmptyCoverage"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakeEmptyCoverage — Cover georeferenced area with a grid of empty raster tiles.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MakeEmptyCoverage</strong>(</code>integer  <var class="pdparam">tilewidth</var>, integer  <var class="pdparam">tileheight</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, double precision  <var class="pdparam">upperleftx</var>, double precision  <var class="pdparam">upperlefty</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, double precision  <var class="pdparam">skewx</var>, double precision  <var class="pdparam">skewy</var>, integer  <var class="pdparam">srid=unknown</var><code>)</code>;</p></div></div><div class="refsection" id="idm28463"><h2>Descrição</h2><p>Create a set of raster tiles with <a class="xref" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a>. Grid dimension is <code class="varname">width</code> &amp; <code class="varname">height</code>. Tile dimension is <code class="varname">tilewidth</code> &amp; <code class="varname">tileheight</code>. The covered georeferenced area is from upper left corner (<code class="varname">upperleftx</code>, <code class="varname">upperlefty</code>) to lower right corner (<code class="varname">upperleftx</code> + <code class="varname">width</code> * <code class="varname">scalex</code>, <code class="varname">upperlefty</code> + <code class="varname">height</code> * <code class="varname">scaley</code>).</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Note that scaley is generally negative for rasters and scalex is generally positive. So lower right corner will have a lower y value and higher x value than the upper left corner.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0 </p></div><div class="refsection" id="idm28482"><h2>Exemplos básicos </h2><p>Create 16 tiles in a 4x4 grid to cover the WGS84 area from upper left corner (22, 77) to lower right corner (55, 33).</p><pre class="programlisting">SELECT (ST_MetaData(tile)).* FROM ST_MakeEmptyCoverage(1, 1, 4, 4, 22, 33, (55 - 22)/(4)::float, (33 - 77)/(4)::float, 0., 0., 4326) tile;

 upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands
-------------------------------------------------------------------------------------
         22 |         33 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      30.25 |         33 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
       38.5 |         33 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      46.75 |         33 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
         22 |         22 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      30.25 |         22 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
       38.5 |         22 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      46.75 |         22 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
         22 |         11 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      30.25 |         11 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
       38.5 |         11 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      46.75 |         11 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
         22 |          0 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      30.25 |          0 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
       38.5 |          0 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0
      46.75 |          0 |     1 |      1 |   8.25 |    -11 |     0 |     0 | 4326 |        0</pre></div><div class="refsection" id="idm28486"><h2>Veja também</h2><p>
                      <a class="xref" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a>
                    </p></div></div><div class="refentry" id="RT_ST_MakeEmptyRaster"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MakeEmptyRaster — Retorna um raster vazio (sem bandas) das dimensões dadas (width &amp; height), o X e Y do superior esquerdo, tamanho de pixel e rotação (scalex, scaley, skewx &amp; skewy) e sistema de referência (srid). Se um raster passar, retorna um novo raster com o mesmo tamanho, alinhamento e SRID. Se o srid é deixado de fora, a referência espacial se torna desconhecida (0).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MakeEmptyRaster</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MakeEmptyRaster</strong>(</code>integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, float8  <var class="pdparam">upperleftx</var>, float8  <var class="pdparam">upperlefty</var>, float8  <var class="pdparam">scalex</var>, float8  <var class="pdparam">scaley</var>, float8  <var class="pdparam">skewx</var>, float8  <var class="pdparam">skewy</var>, integer  <var class="pdparam">srid=unknown</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MakeEmptyRaster</strong>(</code>integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, float8  <var class="pdparam">upperleftx</var>, float8  <var class="pdparam">upperlefty</var>, float8  <var class="pdparam">pixelsize</var><code>)</code>;</p></div></div><div class="refsection" id="idm28550"><h2>Descrição</h2><p>Retorna um raster vazio (sem bandas) das dimensões dadas (width &amp; height) e georeferenciado nas coordenadas espaciais (ou mundo)  com o X esquerdo superior (upperleftx), Y superior esquerdo (upperlefty), tamanho de pixel e rotação (scalex, scaley, skewx &amp; skewy) e sistema de referência (srid).</p><p>A última versão usa um único parâmetro para especificar o tamanho do pixel (pixelsize). scalex é estabelecida neste argumento e scaley é estabelecida no valor negativo deste argumento. skewx e skewy são 0.  </p><p>Se um raster existente passar, ele retorna um novo raster com as mesmas configurações de meta dados (sem as bandas). </p><p>Se nenhum srid é especificado, é 0. Depois que você criou um raster vazio talvez queira adicionar bandas a ele e editá-lo. Recorra a <a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a> para definir bandas e <a class="xref" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a> para valores iniciais de pixel. </p></div><div class="refsection" id="idm28558"><h2>Exemplos</h2><pre class="programlisting">INSERT INTO dummy_rast(rid,rast)
VALUES(3, ST_MakeEmptyRaster( 100, 100, 0.0005, 0.0005, 1, 1, 0, 0, 4326) );

--use an existing raster as template for new raster
INSERT INTO dummy_rast(rid,rast)
SELECT 4, ST_MakeEmptyRaster(rast)
FROM dummy_rast WHERE rid = 3;

-- output meta data of rasters we just added
SELECT rid, (md).*
FROM (SELECT rid, ST_MetaData(rast) As md
    FROM dummy_rast
    WHERE rid IN(3,4)) As foo;

-- output --
 rid | upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands
-----+------------+------------+-------+--------+------------+------------+-------+-------+------+----------
   3 |     0.0005 |     0.0005 |   100 |    100 |          1 |          1 |    0  |     0 | 4326 |        0
   4 |     0.0005 |     0.0005 |   100 |    100 |          1 |          1 |    0  |     0 | 4326 |        0
                </pre></div><div class="refsection" id="idm28561"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>, <a class="xref" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>, , <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a></p></div></div><div class="refentry" id="RT_ST_Tile"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Tile — Retorna um conjunto de rasters resultante de uma divisão do raster de entrada baseado nas dimensões desejadas nos rasters de saída.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof raster <strong class="fsfunc">ST_Tile</strong>(</code>raster  <var class="pdparam">rast</var>, int[]  <var class="pdparam">nband</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, boolean  <var class="pdparam">padwithnodata=FALSE</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">setof raster <strong class="fsfunc">ST_Tile</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, boolean  <var class="pdparam">padwithnodata=FALSE</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">setof raster <strong class="fsfunc">ST_Tile</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, boolean  <var class="pdparam">padwithnodata=FALSE</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm28637"><h2>Descrição</h2><p>Retorna um conjunto de rasters resultante de uma divisão do raster de entrada baseado nas dimensões desejadas nos rasters de saída. </p><p>Se <code class="varname">padwithnodata</code> = FALSO, tiles limite no lado direito e inferior do raster podem ter dimensões diferentes do resto das tiles. Se <code class="varname">padwithnodata</code> = VERDADEIRO, todas as tiles terão a mesma dimensão com a possibilidade das tiles limites serem preenchidas com valores NODATA. Se a banda(s) não possui valor(es) NODATA especificado, pode ser especificado por <code class="varname">nodataval</code>. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se uma banda especificada do raster de entrada estiver  out-of-db, a banda correspondente nos rasters de saída também estará.  </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm28647"><h2>Exemplos</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI', 1, 0), 2, '8BUI', 10, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, 0, 1, -1, 0, 0, 0), 1, '8BUI', 2, 0), 2, '8BUI', 20, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, 0, 1, -1, 0, 0, 0), 1, '8BUI', 3, 0), 2, '8BUI', 30, 0) AS rast UNION ALL

    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, -3, 1, -1, 0, 0, 0), 1, '8BUI', 4, 0), 2, '8BUI', 40, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, -3, 1, -1, 0, 0, 0), 1, '8BUI', 5, 0), 2, '8BUI', 50, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, -3, 1, -1, 0, 0, 0), 1, '8BUI', 6, 0), 2, '8BUI', 60, 0) AS rast UNION ALL

    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, -6, 1, -1, 0, 0, 0), 1, '8BUI', 7, 0), 2, '8BUI', 70, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, -6, 1, -1, 0, 0, 0), 1, '8BUI', 8, 0), 2, '8BUI', 80, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, -6, 1, -1, 0, 0, 0), 1, '8BUI', 9, 0), 2, '8BUI', 90, 0) AS rast
), bar AS (
    SELECT ST_Union(rast) AS rast FROM foo
), baz AS (
    SELECT ST_Tile(rast, 3, 3, TRUE) AS rast FROM bar
)
SELECT
    ST_DumpValues(rast)
FROM baz;

              st_dumpvalues
------------------------------------------
 (1,"{{1,1,1},{1,1,1},{1,1,1}}")
 (2,"{{10,10,10},{10,10,10},{10,10,10}}")
 (1,"{{2,2,2},{2,2,2},{2,2,2}}")
 (2,"{{20,20,20},{20,20,20},{20,20,20}}")
 (1,"{{3,3,3},{3,3,3},{3,3,3}}")
 (2,"{{30,30,30},{30,30,30},{30,30,30}}")
 (1,"{{4,4,4},{4,4,4},{4,4,4}}")
 (2,"{{40,40,40},{40,40,40},{40,40,40}}")
 (1,"{{5,5,5},{5,5,5},{5,5,5}}")
 (2,"{{50,50,50},{50,50,50},{50,50,50}}")
 (1,"{{6,6,6},{6,6,6},{6,6,6}}")
 (2,"{{60,60,60},{60,60,60},{60,60,60}}")
 (1,"{{7,7,7},{7,7,7},{7,7,7}}")
 (2,"{{70,70,70},{70,70,70},{70,70,70}}")
 (1,"{{8,8,8},{8,8,8},{8,8,8}}")
 (2,"{{80,80,80},{80,80,80},{80,80,80}}")
 (1,"{{9,9,9},{9,9,9},{9,9,9}}")
 (2,"{{90,90,90},{90,90,90},{90,90,90}}")
(18 rows)
                </pre><pre class="programlisting">WITH foo AS (
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI', 1, 0), 2, '8BUI', 10, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, 0, 1, -1, 0, 0, 0), 1, '8BUI', 2, 0), 2, '8BUI', 20, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, 0, 1, -1, 0, 0, 0), 1, '8BUI', 3, 0), 2, '8BUI', 30, 0) AS rast UNION ALL

    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, -3, 1, -1, 0, 0, 0), 1, '8BUI', 4, 0), 2, '8BUI', 40, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, -3, 1, -1, 0, 0, 0), 1, '8BUI', 5, 0), 2, '8BUI', 50, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, -3, 1, -1, 0, 0, 0), 1, '8BUI', 6, 0), 2, '8BUI', 60, 0) AS rast UNION ALL

    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, -6, 1, -1, 0, 0, 0), 1, '8BUI', 7, 0), 2, '8BUI', 70, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, -6, 1, -1, 0, 0, 0), 1, '8BUI', 8, 0), 2, '8BUI', 80, 0) AS rast UNION ALL
    SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, -6, 1, -1, 0, 0, 0), 1, '8BUI', 9, 0), 2, '8BUI', 90, 0) AS rast
), bar AS (
    SELECT ST_Union(rast) AS rast FROM foo
), baz AS (
    SELECT ST_Tile(rast, 3, 3, 2) AS rast FROM bar
)
SELECT
    ST_DumpValues(rast)
FROM baz;

              st_dumpvalues
------------------------------------------
 (1,"{{10,10,10},{10,10,10},{10,10,10}}")
 (1,"{{20,20,20},{20,20,20},{20,20,20}}")
 (1,"{{30,30,30},{30,30,30},{30,30,30}}")
 (1,"{{40,40,40},{40,40,40},{40,40,40}}")
 (1,"{{50,50,50},{50,50,50},{50,50,50}}")
 (1,"{{60,60,60},{60,60,60},{60,60,60}}")
 (1,"{{70,70,70},{70,70,70},{70,70,70}}")
 (1,"{{80,80,80},{80,80,80},{80,80,80}}")
 (1,"{{90,90,90},{90,90,90},{90,90,90}}")
(9 rows)
                </pre></div><div class="refsection" id="idm28651"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a>, <a class="xref" href="#RT_Retile" title="ST_Retile">ST_Retile</a> </p></div></div><div class="refentry" id="RT_Retile"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Retile — Retorna um conjunto de tiles configuradas de uma cobertura raster aleatória.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">SETOF raster <strong class="fsfunc">ST_Retile</strong>(</code>regclass  <var class="pdparam">tab</var>, name  <var class="pdparam">col</var>, geometry  <var class="pdparam">ext</var>, float8  <var class="pdparam">sfx</var>, float8  <var class="pdparam">sfy</var>, int  <var class="pdparam">tw</var>, int  <var class="pdparam">th</var>, text  <var class="pdparam">algo='NearestNeighbor'</var><code>)</code>;</p></div></div><div class="refsection" id="idm28689"><h2>Descrição</h2><p>Retorna um conjunto de tiles tendo a escala especificada (<code class="varname">sfx</code>, <code class="varname">sfy</code>) e tamanho máximo (<code class="varname">tw</code>, <code class="varname">th</code>) e cobrindo a extensão especificada (<code class="varname">ext</code>) com os dados vindos da cobertura raster especificada (<code class="varname">tab</code>, <code class="varname">col</code>). </p><p>As opções de algorítimo são: 'NearestNeighbor', 'Bilinear', 'Cubic', 'CubicSpline', e 'Lanczos'. Recorra a: <a class="link" href="http://www.gdal.org/gdalwarp.html" target="_top">GDAL Warp resampling methods</a> para mais detalhes.</p><p class="availability">Disponibilidade: 2.2.0</p></div><div class="refsection" id="idm28702"><h2>Veja também</h2><p>
          <a class="xref" href="#RT_CreateOverview" title="ST_CreateOverview">ST_CreateOverview</a>
        </p></div></div><div class="refentry" id="RT_ST_FromGDALRaster"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_FromGDALRaster — Retorna um raster de um arquivo raster GDAL suportado.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_FromGDALRaster</strong>(</code>bytea  <var class="pdparam">gdaldata</var>, integer  <var class="pdparam">srid=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm28721"><h2>Descrição</h2><p>Retorna um raster de uma arquivo raster GDAL suportado. <code class="varname">gdaldata</code> é do tipo bytea e deve ser o conteúdo do arquivo raster GDAL.  </p><p>Se <code class="varname">srid</code> for NULO, a função tentará designar automaticamente o SRID do raster GDAL. Se <code class="varname">srid</code> for fornecido, o valor fornecido irá exceder qualquer SRID designado automaticamente. </p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm28729"><h2>Exemplos</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_AsPNG(ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 0.1, -0.1, 0, 0, 4326), 1, '8BUI', 1, 0), 2, '8BUI', 2, 0), 3, '8BUI', 3, 0)) AS png
),
bar AS (
    SELECT 1 AS rid, ST_FromGDALRaster(png) AS rast FROM foo
    UNION ALL
    SELECT 2 AS rid, ST_FromGDALRaster(png, 3310) AS rast FROM foo
)
SELECT
    rid,
    ST_Metadata(rast) AS metadata,
    ST_SummaryStats(rast, 1) AS stats1,
    ST_SummaryStats(rast, 2) AS stats2,
    ST_SummaryStats(rast, 3) AS stats3
FROM bar
ORDER BY rid;

 rid |         metadata          |    stats1     |    stats2     |     stats3
-----+---------------------------+---------------+---------------+----------------
   1 | (0,0,2,2,1,-1,0,0,0,3)    | (4,4,1,0,1,1) | (4,8,2,0,2,2) | (4,12,3,0,3,3)
   2 | (0,0,2,2,1,-1,0,0,3310,3) | (4,4,1,0,1,1) | (4,8,2,0,2,2) | (4,12,3,0,3,3)
(2 rows)
                </pre></div><div class="refsection" id="idm28732"><h2>Veja também</h2><p>
                    <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>
                </p></div></div></section><section class="section" id="Raster_Accessors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.4. Assessores Raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_GeoReference">ST_GeoReference</a></span><span class="refpurpose"> — Retorna os metadados georreferenciados no formato GDAL ou ESRI como é comumente visto em um arquivo mundo. O padrão é GDAL. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Height">ST_Height</a></span><span class="refpurpose"> — Retorna a altura do raster em pixeis. </span></li><li><span class="refentrytitle"><a href="#RT_ST_IsEmpty">ST_IsEmpty</a></span><span class="refpurpose"> — Retorna verdadeiro se o raster estiver vazio (largura = 0 e altura = 0). Senão, retorna falso.</span></li><li><span class="refentrytitle"><a href="#RT_ST_MemSize">ST_MemSize</a></span><span class="refpurpose"> — Retorna a quantidade de espaço (em bytes) que o raster pega.</span></li><li><span class="refentrytitle"><a href="#RT_ST_MetaData">ST_MetaData</a></span><span class="refpurpose"> — Retorna metadados básicos sobre um objeto raster como um tanho pixel, rotação (skew), esquerda superior, inferior etc. </span></li><li><span class="refentrytitle"><a href="#RT_ST_NumBands">ST_NumBands</a></span><span class="refpurpose"> — Retorna o número de bandas no objeto raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelHeight">ST_PixelHeight</a></span><span class="refpurpose"> — Retorna a altura do pixel em unidades geométricas do sistema de referência espacial. </span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelWidth">ST_PixelWidth</a></span><span class="refpurpose"> — Retorna a largura do pixel em unidades geométricas do sistema de referência espacial. </span></li><li><span class="refentrytitle"><a href="#RT_ST_ScaleX">ST_ScaleX</a></span><span class="refpurpose"> — Retorna o componente X da largura do pixel em unidades do sistema de referência coordenadas. </span></li><li><span class="refentrytitle"><a href="#RT_ST_ScaleY">ST_ScaleY</a></span><span class="refpurpose"> — Retorna o componente Y da altura do pixel em unidades do sistema de referência coordenadas. </span></li><li><span class="refentrytitle"><a href="#RT_ST_RasterToWorldCoord">ST_RasterToWorldCoord</a></span><span class="refpurpose"> — Retorna o canto superior esquerdo do raster como X e Y geométricos (longitude e latitude) dada a coluna e linha. Coluna e linha começam em 1.</span></li><li><span class="refentrytitle"><a href="#RT_ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a></span><span class="refpurpose"> — Retorna a coordenada geométrica X superior esquerda de um raster, coluna ou linha. A numeração das colunas e linhas começam no 1. </span></li><li><span class="refentrytitle"><a href="#RT_ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a></span><span class="refpurpose"> — Retorna a coordenada geométrica Y superior esquerda de um raster, coluna e linha. A numeração das colunas e linhas começam no 1.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_Rotation">ST_Rotation</a></span><span class="refpurpose"> — Retorna a rotação do raster em radianos. </span></li><li><span class="refentrytitle"><a href="#RT_ST_SkewX">ST_SkewX</a></span><span class="refpurpose"> — Retorna o desvio X georreferência (ou parâmetro e rotação).</span></li><li><span class="refentrytitle"><a href="#RT_ST_SkewY">ST_SkewY</a></span><span class="refpurpose"> — Retorna o desvio Y georreferência (ou parâmetro e rotação).</span></li><li><span class="refentrytitle"><a href="#RT_ST_SRID">ST_SRID</a></span><span class="refpurpose"> — Retorna o identificador de referência espacial  como definido na tabela spatial_ref_sys.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Summary">ST_Summary</a></span><span class="refpurpose"> — Retorna um texto resumo dos conteúdos do raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_UpperLeftX">ST_UpperLeftX</a></span><span class="refpurpose"> — Retorna a coordenada X superior esquerda na ref. espacial projetada.</span></li><li><span class="refentrytitle"><a href="#RT_ST_UpperLeftY">ST_UpperLeftY</a></span><span class="refpurpose"> — Retorna a coordenada Y superior esquerda na ref. espacial projetada.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Width">ST_Width</a></span><span class="refpurpose"> — Retorna a largura do raster em pixeis.</span></li><li><span class="refentrytitle"><a href="#RT_ST_WorldToRasterCoord">ST_WorldToRasterCoord</a></span><span class="refpurpose"> — Retorna o canto superior esquerdo como coluna e linha dados os X e Y geométricos (longitude e latitude) ou um ponto expressado na coordenada do sistema de referência espacial do raster. </span></li><li><span class="refentrytitle"><a href="#RT_ST_WorldToRasterCoordX">ST_WorldToRasterCoordX</a></span><span class="refpurpose"> — Retorna a coluna no raster do ponto (pt) ou uma coordenada X e Y (xw, yw) representada no sistema de referência espacial mundial de raster. </span></li><li><span class="refentrytitle"><a href="#RT_ST_WorldToRasterCoordY">ST_WorldToRasterCoordY</a></span><span class="refpurpose"> — Retorna a linha no raster do ponto (pt) ou uma coordenada X e Y (xw, yw) representada no sistema de referência espacial global de raster. </span></li></ul></div><div class="refentry" id="RT_ST_GeoReference"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_GeoReference — Retorna os metadados georreferenciados no formato GDAL ou ESRI como é comumente visto em um arquivo mundo. O padrão é GDAL. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_GeoReference</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">format=GDAL</var><code>)</code>;</p></div></div><div class="refsection" id="idm28753"><h2>Descrição</h2><p>Retorna os metadados georreferenciados, incluindo transporte, no formato GDAL ou ESRI como visto no <code class="varname">srid</code>. O padrão é GDAL se nenhum tipo for especificado. O tipo é string 'GDAL' ou 'ESRI'. </p><p>A diferença entre representações de formatos é a seguinte:</p><p><code class="varname">GDAL</code>: </p><pre class="programlisting">scalex
skewy
skewx
scaley
upperleftx
upperlefty</pre><p><code class="varname">ESRI</code>: </p><pre class="programlisting">scalex
skewy
skewx
scaley
upperleftx + scalex*0.5
upperlefty + scaley*0.5</pre></div><div class="refsection" id="idm28764"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_GeoReference(rast, 'ESRI') As esri_ref, ST_GeoReference(rast, 'GDAL') As gdal_ref
 FROM dummy_rast WHERE rid=1;

   esri_ref   |   gdal_ref
--------------+--------------
 2.0000000000 | 2.0000000000
 0.0000000000 : 0.0000000000
 0.0000000000 : 0.0000000000
 3.0000000000 : 3.0000000000
 1.5000000000 : 0.5000000000
 2.0000000000 : 0.5000000000
                </pre></div><div class="refsection" id="idm28767"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_SetGeoReference" title="ST_SetGeoReference">ST_SetGeoReference</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a></p></div></div><div class="refentry" id="RT_ST_Height"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Height — Retorna a altura do raster em pixeis. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_Height</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28785"><h2>Descrição</h2><p>Retorna a altura do raster.</p></div><div class="refsection" id="idm28788"><h2>Exemplos</h2><pre class="programlisting">SELECT rid, ST_Height(rast) As rastheight
FROM dummy_rast;

 rid | rastheight
-----+------------
   1 |         20
   2 |          5
                </pre></div><div class="refsection" id="idm28791"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Width" title="ST_Width">ST_Width</a></p></div></div><div class="refentry" id="RT_ST_IsEmpty"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_IsEmpty — Retorna verdadeiro se o raster estiver vazio (largura = 0 e altura = 0). Senão, retorna falso.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_IsEmpty</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28807"><h2>Descrição</h2><p>Retorna verdadeiro se o raster estiver vazio (largura = 0 e altura = 0). Senão, retorna falso.</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm28811"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_IsEmpty(ST_MakeEmptyRaster(100, 100, 0, 0, 0, 0, 0, 0))
st_isempty |
-----------+
f          |


SELECT ST_IsEmpty(ST_MakeEmptyRaster(0, 0, 0, 0, 0, 0, 0, 0))
st_isempty |
-----------+
t          |

                </pre></div><div class="refsection" id="idm28814"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_HasNoBand" title="ST_HasNoBand">ST_HasNoBand</a></p></div></div><div class="refentry" id="RT_ST_MemSize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MemSize — Retorna a quantidade de espaço (em bytes) que o raster pega.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_MemSize</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28830"><h2>Descrição</h2><p>Retorna a quantidade de espaço (em bytes) que o raster pega. </p><p>Isso é um ótimo elogio para o PostgreSQL construído nas funções pg_column_size, pg_size_pretty, pg_relation_size, pg_total_relation_size.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>pg_relation_size que fornece o tamanho em bytes de uma tabela, talvez retorne com o tamanho em byte menor que ST_MemSize. Isso acontece porque o pg_relation_size não adiciona contribuição de tabela toasted e grandes geometrias são guardadas em tabelas TOAST. g_column_size pode retornar menor porque retorna o tamanho comprimido. </p><p>pg_total_relation_size - inclui, a tabela, as tabelas toasted, e os índices.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0</p></div><div class="refsection" id="idm28838"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_MemSize(ST_AsRaster(ST_Buffer(ST_Point(1,5),10,1000),150, 150, '8BUI')) As rast_mem;

        rast_mem
        --------
        22568
    </pre></div><div class="refsection" id="idm28841"><h2>Veja também</h2><p/></div></div><div class="refentry" id="RT_ST_MetaData"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MetaData — Retorna metadados básicos sobre um objeto raster como um tanho pixel, rotação (skew), esquerda superior, inferior etc. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">record <strong class="fsfunc">ST_MetaData</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28856"><h2>Descrição</h2><p>Retorna metadados básicos sobre um objeto raster como um tanho pixel, rotação (skew), esquerda superior, inferior etc. Colunas retornadas: upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands</p></div><div class="refsection" id="idm28859"><h2>Exemplos</h2><pre class="programlisting">SELECT rid, (foo.md).*
 FROM (SELECT rid, ST_MetaData(rast) As md
FROM dummy_rast) As foo;

 rid | upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands
 ----+------------+------------+-------+--------+--------+-----------+-------+-------+------+-------
   1 |        0.5 |        0.5 |    10 |     20 |      2 |      3 |     0 |     0 |    0 |        0
   2 | 3427927.75 |    5793244 |     5 |      5 |   0.05 |  -0.05 |     0 |     0 |    0 |        3
                </pre></div><div class="refsection" id="idm28862"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a>, <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a></p></div></div><div class="refentry" id="RT_ST_NumBands"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NumBands — Retorna o número de bandas no objeto raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_NumBands</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28879"><h2>Descrição</h2><p>Retorna o número de bandas no objeto raster.</p></div><div class="refsection" id="idm28882"><h2>Exemplos</h2><pre class="programlisting">SELECT rid, ST_NumBands(rast) As numbands
FROM dummy_rast;

rid | numbands
----+----------
  1 |        0
  2 |        3
                </pre></div><div class="refsection" id="idm28885"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a></p></div></div><div class="refentry" id="RT_ST_PixelHeight"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelHeight — Retorna a altura do pixel em unidades geométricas do sistema de referência espacial. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">ST_PixelHeight</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28901"><h2>Descrição</h2><p>Retorna a altura do pixel em unidades geométricas do sistema de referência espacial.  No caso comum onde não existem desvios, a altura do pixel é somente a escala de proporção entre coordenadas geométricas e pixeis raster. </p><p>Recorra a <a class="xref" href="#RT_ST_PixelWidth" title="ST_PixelWidth">ST_PixelWidth</a> para uma visualização diagramática da relação. </p></div><div class="refsection" id="idm28906"><h2>Exemplos: Rasters sem desvio</h2><pre class="programlisting">SELECT ST_Height(rast) As rastheight, ST_PixelHeight(rast) As pixheight,
 ST_ScaleX(rast) As scalex, ST_ScaleY(rast) As scaley, ST_SkewX(rast) As skewx,
        ST_SkewY(rast) As skewy
FROM dummy_rast;

 rastheight | pixheight | scalex | scaley | skewx | skewy
------------+-----------+--------+--------+-------+----------
         20 |         3 |      2 |      3 |     0 |        0
          5 |      0.05 |   0.05 |  -0.05 |     0 |        0
            </pre></div><div class="refsection" id="idm28909"><h2>Exemplos: Rasters com desvio diferente de 0</h2><pre class="programlisting">SELECT ST_Height(rast) As rastheight, ST_PixelHeight(rast) As pixheight,
 ST_ScaleX(rast) As scalex, ST_ScaleY(rast) As scaley, ST_SkewX(rast) As skewx,
        ST_SkewY(rast) As skewy
FROM (SELECT ST_SetSKew(rast,0.5,0.5) As rast
        FROM dummy_rast) As skewed;

rastheight |     pixheight     | scalex | scaley | skewx | skewy
-----------+-------------------+--------+--------+-------+----------
        20 |  3.04138126514911 |      2 |      3 |   0.5 |      0.5
         5 | 0.502493781056044 |   0.05 |  -0.05 |   0.5 |      0.5
            </pre></div><div class="refsection" id="idm28912"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_PixelWidth" title="ST_PixelWidth">ST_PixelWidth</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>, <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a> </p></div></div><div class="refentry" id="RT_ST_PixelWidth"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelWidth — Retorna a largura do pixel em unidades geométricas do sistema de referência espacial. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">ST_PixelWidth</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28932"><h2>Descrição</h2><p>Retorna a largura do pixel em unidades geométricas do sistema de referência espacial.  No caso comum onde não existem desvios, a largura do pixel é somente a escala de proporção entre coordenadas geométricas e pixeis raster. </p><p>O diagrama a seguir demonstra a relação: </p><p>
            </p><div class="informalfigure"><div class="mediaobject"><img src="images/raster_xscale_yscale_xskew_yskew.png"/><div class="caption"><p>Largura do Pixel: tamanho do pixel na direção i</p><p>Altura do Pixel: tamanho do pixel na direção j</p></div></div></div><p>
            </p></div><div class="refsection" id="idm28944"><h2>Exemplos: Rasters sem desvio</h2><pre class="programlisting">SELECT ST_Width(rast) As rastwidth, ST_PixelWidth(rast) As pixwidth,
    ST_ScaleX(rast) As scalex, ST_ScaleY(rast) As scaley, ST_SkewX(rast) As skewx,
    ST_SkewY(rast) As skewy
    FROM dummy_rast;

    rastwidth | pixwidth | scalex | scaley | skewx | skewy
    -----------+----------+--------+--------+-------+----------
    10 |        2 |      2 |      3 |     0 |        0
     5 |     0.05 |   0.05 |  -0.05 |     0 |        0
        </pre></div><div class="refsection" id="idm28947"><h2>Exemplos: Rasters com desvio diferente de 0</h2><pre class="programlisting">SELECT ST_Width(rast) As rastwidth, ST_PixelWidth(rast) As pixwidth,
    ST_ScaleX(rast) As scalex, ST_ScaleY(rast) As scaley, ST_SkewX(rast) As skewx,
    ST_SkewY(rast) As skewy
    FROM (SELECT ST_SetSkew(rast,0.5,0.5) As rast
    FROM dummy_rast) As skewed;

    rastwidth |     pixwidth      | scalex | scaley | skewx | skewy
    -----------+-------------------+--------+--------+-------+----------
    10 |  2.06155281280883 |      2 |      3 |   0.5 |      0.5
     5 | 0.502493781056044 |   0.05 |  -0.05 |   0.5 |      0.5
        </pre></div><div class="refsection" id="idm28950"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_PixelHeight" title="ST_PixelHeight">ST_PixelHeight</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>, <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a></p></div></div><div class="refentry" id="RT_ST_ScaleX"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ScaleX — Retorna o componente X da largura do pixel em unidades do sistema de referência coordenadas. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_ScaleX</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28970"><h2>Descrição</h2><p>Retorna o componente X da largura do pixel em unidades do sistema de referência coordenadas. Recorra a <a class="link" href="http://en.wikipedia.org/wiki/World_file" target="_top">World File</a> para mais detalhes. </p><p class="changed">Alterações: 2.0.0. Nas versões WKTRaster era chamado de ST_PixelSizeX.</p></div><div class="refsection" id="idm28975"><h2>Exemplos</h2><pre class="programlisting">SELECT rid, ST_ScaleX(rast) As rastpixwidth
FROM dummy_rast;

 rid | rastpixwidth
-----+--------------
   1 |            2
   2 |         0.05
                </pre></div><div class="refsection" id="idm28978"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Width" title="ST_Width">ST_Width</a></p></div></div><div class="refentry" id="RT_ST_ScaleY"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ScaleY — Retorna o componente Y da altura do pixel em unidades do sistema de referência coordenadas. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_ScaleY</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm28994"><h2>Descrição</h2><p>Retorna o componente Y da altura do pixel em unidades do sistema de referência coordenadas. Recorra a <a class="link" href="http://en.wikipedia.org/wiki/World_file" target="_top">World File</a> para mais detalhes. </p><p class="changed">Alterações: 2.0.0. Nas versões WKTRaster era chamado de ST_PixelSizeY.</p></div><div class="refsection" id="idm28999"><h2>Exemplos</h2><pre class="programlisting">SELECT rid, ST_ScaleY(rast) As rastpixheight
FROM dummy_rast;

 rid | rastpixheight
-----+---------------
   1 |             3
   2 |         -0.05
                </pre></div><div class="refsection" id="idm29002"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Height" title="ST_Height">ST_Height</a></p></div></div><div class="refentry" id="RT_ST_RasterToWorldCoord"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RasterToWorldCoord — Retorna o canto superior esquerdo do raster como X e Y geométricos (longitude e latitude) dada a coluna e linha. Coluna e linha começam em 1.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">record <strong class="fsfunc">ST_RasterToWorldCoord</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">xcolumn</var>, integer  <var class="pdparam">yrow</var><code>)</code>;</p></div></div><div class="refsection" id="idm29024"><h2>Descrição</h2><p>Retorna o canto esquerdo superior como X e Y geométricos (longitude e latitude) dada a coluna e linha. o X e Y estão em unidades geométricas do raster georreferenciado. A numeração da coluna e da linha começa no 1, mas se algum passar como zero, um número negativo ou um maior que a respectiva dimensão do raster, retornará as coordenas fora do raster assumindo que a rede raster é aplicável fora dos limites do raster.  </p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm29028"><h2>Exemplos</h2><pre class="programlisting">-- non-skewed raster
SELECT
    rid,
    (ST_RasterToWorldCoord(rast,1, 1)).*,
    (ST_RasterToWorldCoord(rast,2, 2)).*
FROM dummy_rast

 rid | longitude  | latitude | longitude |  latitude
-----+------------+----------+-----------+------------
   1 |        0.5 |      0.5 |       2.5 |        3.5
   2 | 3427927.75 |  5793244 | 3427927.8 | 5793243.95
                </pre><pre class="programlisting">-- skewed raster
SELECT
    rid,
    (ST_RasterToWorldCoord(rast, 1, 1)).*,
    (ST_RasterToWorldCoord(rast, 2, 3)).*
FROM (
    SELECT
        rid,
        ST_SetSkew(rast, 100.5, 0) As rast
    FROM dummy_rast
) As foo

 rid | longitude  | latitude | longitude | latitude
-----+------------+----------+-----------+-----------
   1 |        0.5 |      0.5 |     203.5 |       6.5
   2 | 3427927.75 |  5793244 | 3428128.8 | 5793243.9
                </pre></div><div class="refsection" id="idm29032"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a>, <a class="xref" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a>, <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a> </p></div></div><div class="refentry" id="RT_ST_RasterToWorldCoordX"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RasterToWorldCoordX — Retorna a coordenada geométrica X superior esquerda de um raster, coluna ou linha. A numeração das colunas e linhas começam no 1. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_RasterToWorldCoordX</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">xcolumn</var><code>)</code>;</p><p><code class="funcdef">float8 <strong class="fsfunc">ST_RasterToWorldCoordX</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">xcolumn</var>, integer  <var class="pdparam">yrow</var><code>)</code>;</p></div></div><div class="refsection" id="idm29065"><h2>Descrição</h2><p>Retorna a coordenada X superior esquerda de uma coluna raster em unidades geométricas do raster georreferenciado. A numeração da coluna e da linha começa no 1, mas se algum passar como zero, um número negativo ou um maior que a respectiva dimensão do raster, retornará as coordenas fora do raster para esquerda ou direita, assumindo que a skew e tamanhos do pixel são os mesmo que o raster selecionado. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para rasters sem desvio, fornecer a coluna X é suficiente. Para rasters com desvio, a coordenada georreferenciada é uma função da ST_ScaleX e ST_SkewX e linha e coluna. Um erro aparecerá se você der somente a coluna X para um raster desviado. </p></td></tr></table></div><p class="changed">Alterações: 2.1.0 Em versões anteriores, era chamado de ST_Raster2WorldCoordX</p></div><div class="refsection" id="idm29071"><h2>Exemplos</h2><pre class="programlisting">-- non-skewed raster providing column is sufficient
SELECT rid, ST_RasterToWorldCoordX(rast,1) As x1coord,
    ST_RasterToWorldCoordX(rast,2) As x2coord,
    ST_ScaleX(rast) As pixelx
FROM dummy_rast;

 rid |  x1coord   |  x2coord  | pixelx
-----+------------+-----------+--------
   1 |        0.5 |       2.5 |      2
   2 | 3427927.75 | 3427927.8 |   0.05
                </pre><pre class="programlisting">-- for fun lets skew it
SELECT rid, ST_RasterToWorldCoordX(rast, 1, 1) As x1coord,
    ST_RasterToWorldCoordX(rast, 2, 3) As x2coord,
    ST_ScaleX(rast) As pixelx
FROM (SELECT rid, ST_SetSkew(rast, 100.5, 0) As rast FROM dummy_rast) As foo;

 rid |  x1coord   |  x2coord  | pixelx
-----+------------+-----------+--------
   1 |        0.5 |     203.5 |      2
   2 | 3427927.75 | 3428128.8 |   0.05
                </pre></div><div class="refsection" id="idm29075"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a>, <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a></p></div></div><div class="refentry" id="RT_ST_RasterToWorldCoordY"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RasterToWorldCoordY — Retorna a coordenada geométrica Y superior esquerda de um raster, coluna e linha. A numeração das colunas e linhas começam no 1.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_RasterToWorldCoordY</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">yrow</var><code>)</code>;</p><p><code class="funcdef">float8 <strong class="fsfunc">ST_RasterToWorldCoordY</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">xcolumn</var>, integer  <var class="pdparam">yrow</var><code>)</code>;</p></div></div><div class="refsection" id="idm29109"><h2>Descrição</h2><p>Retorna a coordenada Y superior esquerda de uma coluna raster em unidades geométricas do raster georreferenciado. A numeração da coluna e da linha começa no 1, mas se algum passar como zero, um número negativo ou um maior que a respectiva dimensão do raster, retornará as coordenas fora do raster para esquerda ou direita, assumindo que o desvio e tamanhos do pixel são os mesmos que o raster selecionado. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para rasters sem desvio, fornecer a coluna Y é suficiente. Para rasters com desvio, a coordenada georreferenciada é uma função da ST_ScaleY e ST_SkewY e linha e coluna. Um erro aparecerá se você der somente a linha Y para um raster desviado. </p></td></tr></table></div><p class="changed">Alterações: 2.1.0 Em versões anteriores, era chamado de ST_Raster2WorldCoordY</p></div><div class="refsection" id="idm29115"><h2>Exemplos</h2><pre class="programlisting">-- non-skewed raster providing row is sufficient
SELECT rid, ST_RasterToWorldCoordY(rast,1) As y1coord,
    ST_RasterToWorldCoordY(rast,3) As y2coord,
    ST_ScaleY(rast) As pixely
FROM dummy_rast;

 rid | y1coord |  y2coord  | pixely
-----+---------+-----------+--------
   1 |     0.5 |       6.5 |      3
   2 | 5793244 | 5793243.9 |  -0.05
                </pre><pre class="programlisting">-- for fun lets skew it
SELECT rid, ST_RasterToWorldCoordY(rast,1,1) As y1coord,
    ST_RasterToWorldCoordY(rast,2,3) As y2coord,
    ST_ScaleY(rast) As pixely
FROM (SELECT rid, ST_SetSkew(rast,0,100.5) As rast FROM dummy_rast) As foo;

 rid | y1coord |  y2coord  | pixely
-----+---------+-----------+--------
   1 |     0.5 |       107 |      3
   2 | 5793244 | 5793344.4 |  -0.05
                </pre></div><div class="refsection" id="idm29119"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a>, <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a>, <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a></p></div></div><div class="refentry" id="RT_ST_Rotation"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Rotation — Retorna a rotação do raster em radianos. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_Rotation</strong>(</code>raster <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29138"><h2>Descrição</h2><p>Retorna a rotação uniforme do raster em radianos. Se um raster n ão tiver uma rotação uniforme, NaN retorna. Recorra a <a class="link" href="http://en.wikipedia.org/wiki/World_file" target="_top">World File</a> para mais detalhes. </p></div><div class="refsection" id="idm29142"><h2>Exemplos</h2><pre class="programlisting">SELECT rid, ST_Rotation(ST_SetScale(ST_SetSkew(rast, sqrt(2)), sqrt(2))) as rot FROM dummy_rast;

 rid |        rot
-----+-------------------
   1 | 0.785398163397448
   2 | 0.785398163397448
                </pre></div><div class="refsection" id="idm29145"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_SetRotation" title="ST_SetRotation">ST_SetRotation</a>, <a class="xref" href="#RT_ST_SetScale" title="ST_SetScale">ST_SetScale</a>, <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a></p></div></div><div class="refentry" id="RT_ST_SkewX"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SkewX — Retorna o desvio X georreferência (ou parâmetro e rotação).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_SkewX</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29163"><h2>Descrição</h2><p>Retorna o desvio X georreferência (ou parâmetro de rotação). Recorra a <a class="link" href="http://en.wikipedia.org/wiki/World_file" target="_top">World File</a> para mais detalhes. </p></div><div class="refsection" id="idm29167"><h2>Exemplos</h2><pre class="programlisting">SELECT rid, ST_SkewX(rast) As skewx, ST_SkewY(rast) As skewy,
    ST_GeoReference(rast) as georef
FROM dummy_rast;

 rid | skewx | skewy |       georef
-----+-------+-------+--------------------
   1 |     0 |     0 | 2.0000000000
                     : 0.0000000000
                     : 0.0000000000
                     : 3.0000000000
                     : 0.5000000000
                     : 0.5000000000
                     :
   2 |     0 |     0 | 0.0500000000
                     : 0.0000000000
                     : 0.0000000000
                     : -0.0500000000
                     : 3427927.7500000000
                     : 5793244.0000000000
                </pre></div><div class="refsection" id="idm29170"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a>, <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a></p></div></div><div class="refentry" id="RT_ST_SkewY"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SkewY — Retorna o desvio Y georreferência (ou parâmetro e rotação).</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_SkewY</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29188"><h2>Descrição</h2><p>Retorna o desvio Y georreferência (ou parâmetro de rotação). Recorra a <a class="link" href="http://en.wikipedia.org/wiki/World_file" target="_top">World File</a> para mais detalhes. </p></div><div class="refsection" id="idm29192"><h2>Exemplos</h2><pre class="programlisting">SELECT rid, ST_SkewX(rast) As skewx, ST_SkewY(rast) As skewy,
    ST_GeoReference(rast) as georef
FROM dummy_rast;

 rid | skewx | skewy |       georef
-----+-------+-------+--------------------
   1 |     0 |     0 | 2.0000000000
                     : 0.0000000000
                     : 0.0000000000
                     : 3.0000000000
                     : 0.5000000000
                     : 0.5000000000
                     :
   2 |     0 |     0 | 0.0500000000
                     : 0.0000000000
                     : 0.0000000000
                     : -0.0500000000
                     : 3427927.7500000000
                     : 5793244.0000000000
                </pre></div><div class="refsection" id="idm29195"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>, <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a></p></div></div><div class="refentry" id="RT_ST_SRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SRID — Retorna o identificador de referência espacial  como definido na tabela spatial_ref_sys.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_SRID</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29213"><h2>Descrição</h2><p>Retorna o identificador de referência espacial do objeto raster como definido na tabela spatial_ref_sys.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A partir do PostGIS 2.0+ o srid de raster/geometria não georreferenciado é 0 em vez de -1.</p></td></tr></table></div></div><div class="refsection" id="idm29218"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_SRID(rast) As srid
FROM dummy_rast WHERE rid=1;

srid
----------------
0
                </pre></div><div class="refsection" id="idm29221"><h2>Veja também</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a>, <a class="xref" href="#ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="RT_ST_Summary"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Summary — Retorna um texto resumo dos conteúdos do raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_Summary</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29238"><h2>Descrição</h2><p>Retorna um texto resumo dos conteúdos do raster.</p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm29242"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_Summary(
    ST_AddBand(
        ST_AddBand(
            ST_AddBand(
                ST_MakeEmptyRaster(10, 10, 0, 0, 1, -1, 0, 0, 0)
                , 1, '8BUI', 1, 0
            )
            , 2, '32BF', 0, -9999
        )
        , 3, '16BSI', 0, NULL
    )
);

                            st_summary
------------------------------------------------------------------
 Raster of 10x10 pixels has 3 bands and extent of BOX(0 -10,10 0)+
     band 1 of pixtype 8BUI is in-db with NODATA value of 0      +
     band 2 of pixtype 32BF is in-db with NODATA value of -9999  +
     band 3 of pixtype 16BSI is in-db with no NODATA value
(1 row)
                </pre></div><div class="refsection" id="idm29245"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a>, <a class="xref" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a>, <a class="xref" href="#ST_Summary" title="ST_Summary">ST_Summary</a> <a class="xref" href="#ST_Extent" title="ST_Extent">ST_Extent</a> </p></div></div><div class="refentry" id="RT_ST_UpperLeftX"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_UpperLeftX — Retorna a coordenada X superior esquerda na ref. espacial projetada.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_UpperLeftX</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29264"><h2>Descrição</h2><p>Retorna a coordenada X superior esquerda na ref. espacial projetada.</p></div><div class="refsection" id="idm29267"><h2>Exemplos</h2><pre class="programlisting">SELECt rid, ST_UpperLeftX(rast) As ulx
FROM dummy_rast;

 rid |    ulx
-----+------------
   1 |        0.5
   2 | 3427927.75
                </pre></div><div class="refsection" id="idm29270"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_UpperLeftY" title="ST_UpperLeftY">ST_UpperLeftY</a>, <a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_Box3D" title="Box3D">Box3D</a></p></div></div><div class="refentry" id="RT_ST_UpperLeftY"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_UpperLeftY — Retorna a coordenada Y superior esquerda na ref. espacial projetada.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_UpperLeftY</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29288"><h2>Descrição</h2><p>Retorna a coordenada Y superior esquerda na ref. espacial projetada.</p></div><div class="refsection" id="idm29291"><h2>Exemplos</h2><pre class="programlisting">SELECT rid, ST_UpperLeftY(rast) As uly
FROM dummy_rast;

 rid |   uly
-----+---------
   1 |     0.5
   2 | 5793244
                </pre></div><div class="refsection" id="idm29294"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_UpperLeftX" title="ST_UpperLeftX">ST_UpperLeftX</a>, <a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_Box3D" title="Box3D">Box3D</a></p></div></div><div class="refentry" id="RT_ST_Width"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Width — Retorna a largura do raster em pixeis.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_Width</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm29312"><h2>Descrição</h2><p>Retorna a largura do raster em pixeis.</p></div><div class="refsection" id="idm29315"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_Width(rast) As rastwidth
FROM dummy_rast WHERE rid=1;

rastwidth
----------------
10
                </pre></div><div class="refsection" id="idm29318"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Height" title="ST_Height">ST_Height</a></p></div></div><div class="refentry" id="RT_ST_WorldToRasterCoord"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_WorldToRasterCoord — Retorna o canto superior esquerdo como coluna e linha dados os X e Y geométricos (longitude e latitude) ou um ponto expressado na coordenada do sistema de referência espacial do raster. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">record <strong class="fsfunc">ST_WorldToRasterCoord</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">pt</var><code>)</code>;</p><p><code class="funcdef">record <strong class="fsfunc">ST_WorldToRasterCoord</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">longitude</var>, double precision  <var class="pdparam">latitude</var><code>)</code>;</p></div></div><div class="refsection" id="idm29349"><h2>Descrição</h2><p>Retorna o canto superior esquerdo como coluna e linha dados os X e Y geométricos (longitude e latitude) ou um ponto. Esta função funciona se o X e Y geométricos ou ponto estiver fora da extensão do raster ou não. O X e Y geométricos devem ser expressados na coordenada do sistema de referência espacial do raster. </p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm29353"><h2>Exemplos</h2><pre class="programlisting">SELECT
    rid,
    (ST_WorldToRasterCoord(rast,3427927.8,20.5)).*,
    (ST_WorldToRasterCoord(rast,ST_GeomFromText('POINT(3427927.8 20.5)',ST_SRID(rast)))).*
FROM dummy_rast;

 rid | columnx |   rowy    | columnx |   rowy
-----+---------+-----------+---------+-----------
   1 | 1713964 |         7 | 1713964 |         7
   2 |       2 | 115864471 |       2 | 115864471
                </pre></div><div class="refsection" id="idm29356"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_WorldToRasterCoordX" title="ST_WorldToRasterCoordX">ST_WorldToRasterCoordX</a>, <a class="xref" href="#RT_ST_WorldToRasterCoordY" title="ST_WorldToRasterCoordY">ST_WorldToRasterCoordY</a>, <a class="xref" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a>, <a class="xref" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a> </p></div></div><div class="refentry" id="RT_ST_WorldToRasterCoordX"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_WorldToRasterCoordX — Retorna a coluna no raster do ponto (pt) ou uma coordenada X e Y (xw, yw) representada no sistema de referência espacial mundial de raster. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_WorldToRasterCoordX</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">pt</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">ST_WorldToRasterCoordX</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">xw</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">ST_WorldToRasterCoordX</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">xw</var>, double precision  <var class="pdparam">yw</var><code>)</code>;</p></div></div><div class="refsection" id="idm29400"><h2>Descrição</h2><p>Retorna a coluna no raster do ponto (pt) ou uma coordenada X e Y (xw, yw). Um ponto, ou (ambas as coordenadas xw e yw são requeridas se um raster estiver desviado). Se um raster não estiver desviado, então xw é o suficiente. Coordenadas globais estão no sistema de coordenadas de referência espacial do raster. </p><p class="changed">Alterações: 2.1.0 Em versões anteriores, era chamado de ST_World2RasterCoordX</p></div><div class="refsection" id="idm29404"><h2>Exemplos</h2><pre class="programlisting">SELECT rid, ST_WorldToRasterCoordX(rast,3427927.8) As xcoord,
        ST_WorldToRasterCoordX(rast,3427927.8,20.5) As xcoord_xwyw,
        ST_WorldToRasterCoordX(rast,ST_GeomFromText('POINT(3427927.8 20.5)',ST_SRID(rast))) As ptxcoord
FROM dummy_rast;

 rid | xcoord  |  xcoord_xwyw   | ptxcoord
-----+---------+---------+----------
   1 | 1713964 | 1713964 |  1713964
   2 |       1 |       1 |        1
                </pre></div><div class="refsection" id="idm29407"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a>, <a class="xref" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a> </p></div></div><div class="refentry" id="RT_ST_WorldToRasterCoordY"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_WorldToRasterCoordY — Retorna a linha no raster do ponto (pt) ou uma coordenada X e Y (xw, yw) representada no sistema de referência espacial global de raster. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_WorldToRasterCoordY</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">pt</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">ST_WorldToRasterCoordY</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">xw</var><code>)</code>;</p><p><code class="funcdef">integer <strong class="fsfunc">ST_WorldToRasterCoordY</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">xw</var>, double precision  <var class="pdparam">yw</var><code>)</code>;</p></div></div><div class="refsection" id="idm29449"><h2>Descrição</h2><p>Retorna a linha no raster do ponto (pt) ou uma coordenada X e Y (xw, yw). Um ponto, ou (ambas as coordenadas xw e yw são requeridas se um raster estiver desviado). Se um raster não estiver desviado, então xw é o suficiente. Coordenadas globais estão no sistema de coordenadas de referência espacial do raster. </p><p class="changed">Alterações: 2.1.0 Em versões anteriores, era chamado de ST_World2RasterCoordY</p></div><div class="refsection" id="idm29453"><h2>Exemplos</h2><pre class="programlisting">SELECT rid, ST_WorldToRasterCoordY(rast,20.5) As ycoord,
        ST_WorldToRasterCoordY(rast,3427927.8,20.5) As ycoord_xwyw,
        ST_WorldToRasterCoordY(rast,ST_GeomFromText('POINT(3427927.8 20.5)',ST_SRID(rast))) As ptycoord
FROM dummy_rast;

 rid |  ycoord   | ycoord_xwyw | ptycoord
-----+-----------+-------------+-----------
   1 |         7 |           7 |         7
   2 | 115864471 |   115864471 | 115864471
                </pre></div><div class="refsection" id="idm29456"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a>, <a class="xref" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div></section><section class="section" id="RasterBand_Accessors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.5. Assessores de banda raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_BandMetaData">ST_BandMetaData</a></span><span class="refpurpose"> — Retorna os metadados básicos para uma banda raster especificada. banda número 1 é assumida se nenhuma for especificada. </span></li><li><span class="refentrytitle"><a href="#RT_ST_BandNoDataValue">ST_BandNoDataValue</a></span><span class="refpurpose"> — Retorna o valor em uma dada banda que não representa nenhum valor. Se nenhuma banda número 1 for assumida. </span></li><li><span class="refentrytitle"><a href="#RT_ST_BandIsNoData">ST_BandIsNoData</a></span><span class="refpurpose"> — Retorna verdadeiro se a banda estiver repleta somente de valores nodata.</span></li><li><span class="refentrytitle"><a href="#RT_ST_BandPath">ST_BandPath</a></span><span class="refpurpose"> — Retorna o caminho do arquivo do sistema para uma banda armazenada em um sistema de arquivos. Se nenhum número de banda for especificado, usa-se 1. </span></li><li><span class="refentrytitle"><a href="#RT_ST_BandFileSize">ST_BandFileSize</a></span><span class="refpurpose"> — Returns the file size of a band stored in file system. If no bandnum specified, 1 is assumed.</span></li><li><span class="refentrytitle"><a href="#RT_ST_BandFileTimestamp">ST_BandFileTimestamp</a></span><span class="refpurpose"> — Returns the file timestamp of a band stored in file system. If no bandnum specified, 1 is assumed.</span></li><li><span class="refentrytitle"><a href="#RT_ST_BandPixelType">ST_BandPixelType</a></span><span class="refpurpose"> — Retorna o tipo pixel para uma dada banda. Se nenhum número de banda for especificado, usa-se 1. </span></li><li><span class="refentrytitle"><a href="#ST_MinPossibleValue">ST_MinPossibleValue</a></span><span class="refpurpose"> — Retorna o número de bandas no objeto raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_HasNoBand">ST_HasNoBand</a></span><span class="refpurpose"> — Retorna verdade se não existirem bandas com números dados. Se nenhum número de banda for especificado, então assume-se a banda 1.</span></li></ul></div><div class="refentry" id="RT_ST_BandMetaData"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BandMetaData — Retorna os metadados básicos para uma banda raster especificada. banda número 1 é assumida se nenhuma for especificada. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">(1) record <strong class="fsfunc">ST_BandMetaData</strong>(</code>raster <var class="pdparam">rast</var>, integer <var class="pdparam">band=1</var><code>)</code>;</p><p><code class="funcdef">(2) record <strong class="fsfunc">ST_BandMetaData</strong>(</code>raster <var class="pdparam">rast</var>, integer[] <var class="pdparam">band</var><code>)</code>;</p></div></div><div class="refsection" id="idm29488"><h2>Descrição</h2><p>Returns basic meta data about a raster band. Columns returned: pixeltype, nodatavalue, isoutdb, path, outdbbandnum, filesize, filetimestamp. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se o raster não contém nenhuma banda, então surge um erro.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If band has no NODATA value, nodatavalue are NULL. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If isoutdb is False, path, outdbbandnum, filesize and filetimestamp are NULL. If outdb access is disabled, filesize and filetimestamp will also be NULL. </p></td></tr></table></div><p class="enhanced">Enhanced: 2.5.0 to include <span class="emphasis"><em>outdbbandnum</em></span>, <span class="emphasis"><em>filesize</em></span> and <span class="emphasis"><em>filetimestamp</em></span> for outdb rasters.</p></div><div class="refsection" id="idm29501"><h2>Exemplos: Variante 1</h2><pre class="programlisting">SELECT
    rid,
    (foo.md).*
FROM (
    SELECT
        rid,
        ST_BandMetaData(rast, 1) AS md
    FROM dummy_rast
    WHERE rid=2
) As foo;

 rid | pixeltype | nodatavalue | isoutdb | path | outdbbandnum
-----+-----------+---- --------+---------+------+--------------
   2 | 8BUI      |           0 | f       |      |
                </pre></div><div class="refsection" id="idm29504"><h2>Exemplos: Variant 2</h2><pre class="programlisting">WITH foo AS (
    SELECT
        ST_AddBand(NULL::raster, '/home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif', NULL::int[]) AS rast
)
SELECT
    *
FROM ST_BandMetadata(
    (SELECT rast FROM foo),
    ARRAY[1,3,2]::int[]
);

 bandnum | pixeltype | nodatavalue | isoutdb |                                      path                                      | outdbbandnum  | filesize | filetimestamp |
---------+-----------+-------------+---------+--------------------------------------------------------------------------------+---------------+----------+---------------+-
       1 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif      |            1  |    12345 |    1521807257 |
       3 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif      |            3  |    12345 |    1521807257 |
       2 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif      |            2  |    12345 |    1521807257 |
                </pre></div><div class="refsection" id="idm29507"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a></p></div></div><div class="refentry" id="RT_ST_BandNoDataValue"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BandNoDataValue — Retorna o valor em uma dada banda que não representa nenhum valor. Se nenhuma banda número 1 for assumida. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">ST_BandNoDataValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm29527"><h2>Descrição</h2><p>Retorna o valor que não representa nenhum dado para a banda</p></div><div class="refsection" id="idm29530"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_BandNoDataValue(rast,1) As bnval1,
    ST_BandNoDataValue(rast,2) As bnval2, ST_BandNoDataValue(rast,3) As bnval3
FROM dummy_rast
WHERE rid = 2;

 bnval1 | bnval2 | bnval3
--------+--------+--------
      0 |      0 |      0
                </pre></div><div class="refsection" id="idm29533"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a></p></div></div><div class="refentry" id="RT_ST_BandIsNoData"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BandIsNoData — Retorna verdadeiro se a banda estiver repleta somente de valores nodata.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_BandIsNoData</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, boolean  <var class="pdparam">forceChecking=true</var><code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_BandIsNoData</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">forceChecking=true</var><code>)</code>;</p></div></div><div class="refsection" id="idm29564"><h2>Descrição</h2><p>Retorna verdadeiro se a banda estiver repleta apenas de valores nodata. Banda 1 é assumida se não especificada. Se o último argumento for VERDADEIRO, a banda toda é verificada pixel por pixel. Caso contrário, a função simplesmente retorna o valor da bandeira isnodata para a banda. O valor padrão para este parâmetro é FALSO, se não especificado.</p><p class="availability">Disponibilidade: 2.0.0</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se a bandeira for suja (ou seja, o resultado for diferente usando VERDADEIRO como último parâmetro e não usando ele) você deveria atualizar o raster para tornar esta bandeira verdadeira, usando a ST_SetBandIsNodata(), ou ST_SetBandNodataValue() com VERDADEIRO como último argumento. Veja <a class="xref" href="#RT_ST_SetBandIsNoData" title="ST_SetBandIsNoData">ST_SetBandIsNoData</a>.</p></td></tr></table></div></div><div class="refsection" id="idm29571"><h2>Exemplos</h2><pre class="programlisting">-- Create dummy table with one raster column
create table dummy_rast (rid integer, rast raster);

-- Add raster with two bands, one pixel/band. In the first band, nodatavalue = pixel value = 3.
-- In the second band, nodatavalue = 13, pixel value = 4
insert into dummy_rast values(1,
(
'01' -- little endian (uint8 ndr)
||
'0000' -- version (uint16 0)
||
'0200' -- nBands (uint16 0)
||
'17263529ED684A3F' -- scaleX (float64 0.000805965234044584)
||
'F9253529ED684ABF' -- scaleY (float64 -0.00080596523404458)
||
'1C9F33CE69E352C0' -- ipX (float64 -75.5533328537098)
||
'718F0E9A27A44840' -- ipY (float64 49.2824585505576)
||
'ED50EB853EC32B3F' -- skewX (float64 0.000211812383858707)
||
'7550EB853EC32B3F' -- skewY (float64 0.000211812383858704)
||
'E6100000' -- SRID (int32 4326)
||
'0100' -- width (uint16 1)
||
'0100' -- height (uint16 1)
||
'6' -- hasnodatavalue and isnodata value set to true.
||
'2' -- first band type (4BUI)
||
'03' -- novalue==3
||
'03' -- pixel(0,0)==3 (same that nodata)
||
'0' -- hasnodatavalue set to false
||
'5' -- second band type (16BSI)
||
'0D00' -- novalue==13
||
'0400' -- pixel(0,0)==4
)::raster
);

select st_bandisnodata(rast, 1) from dummy_rast where rid = 1; -- Expected true
select st_bandisnodata(rast, 2) from dummy_rast where rid = 1; -- Expected false
            </pre></div><div class="refsection" id="idm29574"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_BandNoDataValue" title="ST_BandNoDataValue">ST_BandNoDataValue</a>, <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a>, <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a>, <a class="xref" href="#RT_ST_SetBandIsNoData" title="ST_SetBandIsNoData">ST_SetBandIsNoData</a></p></div></div><div class="refentry" id="RT_ST_BandPath"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BandPath — Retorna o caminho do arquivo do sistema para uma banda armazenada em um sistema de arquivos. Se nenhum número de banda for especificado, usa-se 1. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_BandPath</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm29596"><h2>Descrição</h2><p>Retorna o caminho do arquivo do sistema para uma banda. Surge um erro se for chamado com uma banda no banco de dados. </p></div><div class="refsection" id="idm29599"><h2>Exemplos</h2><pre class="programlisting">
                    </pre></div><div class="refsection" id="idm29602"><h2>Veja também</h2><p/></div></div><div class="refentry" id="RT_ST_BandFileSize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BandFileSize — Returns the file size of a band stored in file system. If no bandnum specified, 1 is assumed.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bigint <strong class="fsfunc">ST_BandFileSize</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm29620"><h2>Descrição</h2><p>Returns the file size of a band stored in file system. Throws an error if called with an in db band, or if outdb access is not enabled.</p><p>This function is typically used in conjunction with ST_BandPath() and ST_BandFileTimestamp() so a client can determine if the filename of a outdb raster as seen by it is the same as the one seen by the server.</p><p class="availability">Availability: 2.5.0</p></div><div class="refsection" id="idm29625"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_BandFileSize(rast,1) FROM dummy_rast WHERE rid = 1;

 st_bandfilesize
-----------------
          240574
                </pre></div></div><div class="refentry" id="RT_ST_BandFileTimestamp"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BandFileTimestamp — Returns the file timestamp of a band stored in file system. If no bandnum specified, 1 is assumed.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bigint <strong class="fsfunc">ST_BandFileTimestamp</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm29643"><h2>Descrição</h2><p>Returns the file timestamp (number of seconds since Jan 1st 1970 00:00:00 UTC) of a band stored in file system. Throws an error if called with an in db band, or if outdb access is not enabled.</p><p>This function is typically used in conjunction with ST_BandPath() and ST_BandFileSize() so a client can determine if the filename of a outdb raster as seen by it is the same as the one seen by the server.</p><p class="availability">Availability: 2.5.0</p></div><div class="refsection" id="idm29648"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_BandFileTimestamp(rast,1) FROM dummy_rast WHERE rid = 1;

 st_bandfiletimestamp
----------------------
           1521807257
                </pre></div></div><div class="refentry" id="RT_ST_BandPixelType"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_BandPixelType — Retorna o tipo pixel para uma dada banda. Se nenhum número de banda for especificado, usa-se 1. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_BandPixelType</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm29666"><h2>Descrição</h2><p>Returns name describing data type and size of values stored in each cell of given band.</p><p>Existem 11 tipos de pixel. Os tipos suportados são os seguintes: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>1BB - 1-bit boolean</p></li><li class="listitem"><p>2BUI - 2-bit inteiro não assinado</p></li><li class="listitem"><p>4BUI - 4-bit inteiro não assinado </p></li><li class="listitem"><p>8BSI - 8-bit inteiro assinado </p></li><li class="listitem"><p>8BUI - 8-bit inteiro não assinado</p></li><li class="listitem"><p>16BSI - 16-bit inteiro assinado</p></li><li class="listitem"><p>16BUI - 16-bit inteiro não assinado </p></li><li class="listitem"><p>32BSI - 32-bit inteiro assinado</p></li><li class="listitem"><p>32BUI - 32-bit inteiro não assinado</p></li><li class="listitem"><p>32BF - 32-bit float</p></li><li class="listitem"><p>64BF - 64-bit float</p></li></ul></div><p>
                </p></div><div class="refsection" id="idm29693"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_BandPixelType(rast,1) As btype1,
    ST_BandPixelType(rast,2) As btype2, ST_BandPixelType(rast,3) As btype3
FROM dummy_rast
WHERE rid = 2;

 btype1 | btype2 | btype3
--------+--------+--------
 8BUI   | 8BUI   | 8BUI
                </pre></div><div class="refsection" id="idm29696"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a></p></div></div><div class="refentry" id="ST_MinPossibleValue"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinPossibleValue — Retorna o número de bandas no objeto raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">integer <strong class="fsfunc">ST_MinPossibleValue</strong>(</code>text  <var class="pdparam">pixeltype</var><code>)</code>;</p></div></div><div class="refsection" id="idm29712"><h2>Descrição</h2><p>Retorna o número de bandas no objeto raster.</p></div><div class="refsection" id="idm29715"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_MinPossibleValue('16BSI');

 st_minpossiblevalue
---------------------
              -32768


SELECT ST_MinPossibleValue('8BUI');

 st_minpossiblevalue
---------------------
                   0
                </pre></div><div class="refsection" id="idm29718"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a></p></div></div><div class="refentry" id="RT_ST_HasNoBand"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_HasNoBand — Retorna verdade se não existirem bandas com números dados. Se nenhum número de banda for especificado, então assume-se a banda 1.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_HasNoBand</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm29737"><h2>Descrição</h2><p>Retorna verdade se não existirem bandas com números dados. Se nenhum número de banda for especificado, então assume-se a banda 1.</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm29741"><h2>Exemplos</h2><pre class="programlisting">SELECT rid, ST_HasNoBand(rast) As hb1, ST_HasNoBand(rast,2) as hb2,
ST_HasNoBand(rast,4) as hb4, ST_NumBands(rast) As numbands
FROM dummy_rast;

rid | hb1 | hb2 | hb4 | numbands
-----+-----+-----+-----+----------
1 | t   | t   | t   |        0
2 | f   | f   | t   |        3
            </pre></div><div class="refsection" id="idm29744"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a></p></div></div></section><section class="section" id="Raster_Pixel_Accessors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.6. Assessores e Setters de Pixel Raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_PixelAsPolygon">ST_PixelAsPolygon</a></span><span class="refpurpose"> — Retorna o polígono que limita o pixel para uma linha e coluna específicas.</span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelAsPolygons">ST_PixelAsPolygons</a></span><span class="refpurpose"> — Retorna o polígono que limita cada pixel de uma banda raster ao longo do valor, as coordenadas raster X e Y de cada pixel.</span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelAsPoint">ST_PixelAsPoint</a></span><span class="refpurpose"> — Retorna um ponto geométrico do canto superior esquerdo do pixel. </span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelAsPoints">ST_PixelAsPoints</a></span><span class="refpurpose"> — Retorna um ponto geométrico para cada pixel de uma banda raster junto com  o valor, as coordenas raster X e Y de cada pixel. As coordenadas do ponto são do ponto esquerdo superior do pixel. </span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelAsCentroid">ST_PixelAsCentroid</a></span><span class="refpurpose"> — Retorna o centroide (ponto) da área representada por um pixel. </span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelAsCentroids">ST_PixelAsCentroids</a></span><span class="refpurpose"> — Retorna o centroide (ponto geométrico) para cada pixel de uma banda raster junto com  o valor, as coordenas raster X e Y de cada pixel. O ponto é o centroide da área representada por um pixel. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Value">ST_Value</a></span><span class="refpurpose"> — Retorna o valor da banda dada com a colunax, linhay pixel ou em um ponto específico. Os números de banda começam em 1 e assumem-se 1 se não especificados. Se <code class="varname">exclude_nodata_value</code> for falso, então todos os pixeis, inclusive os <code class="varname">nodata</code>, são considerados para intersectar e retornar valor. Se <code class="varname">exclude_nodata_value</code> não passar então lê dos metadados do raster. </span></li><li><span class="refentrytitle"><a href="#RT_ST_NearestValue">ST_NearestValue</a></span><span class="refpurpose"> — Retorna o valor não-<code class="varname">NODATA</code> mais próximo de um dado pixel de banda especificado por uma colunax e linhay ou um ponto geométrico expressado no mesmo sistema de coordenada referência do raster.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_SetZ">ST_SetZ</a></span><span class="refpurpose"> — Returns a geometry with the same X/Y coordinates as the input geometry, and values from the raster copied into the Z dimension using the requested resample algorithm.</span></li><li><span class="refentrytitle"><a href="#RT_ST_SetM">ST_SetM</a></span><span class="refpurpose"> — Returns a geometry with the same X/Y coordinates as the input geometry, and values from the raster copied into the M dimension using the requested resample algorithm.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Neighborhood">ST_Neighborhood</a></span><span class="refpurpose"> — Retorna um arranjo de precisão 2-D dobrada dos valores não-<code class="varname">NODATA</code> em torno da banda de pixel especificada ou por uma colunaX e linhaY ou um ponto geométrico expressado no mesmo sistema de coordenada de referência especial como o raster.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_SetValue">ST_SetValue</a></span><span class="refpurpose"> — Retorna o raster modificado resultante do valor de uma banda em uma dada colunax, linhay pixel ou os pixeis que intersectam uma geometria específica. Os números de banda começam no 1 e são assumidos como 1 se não estiverem especificados. </span></li><li><span class="refentrytitle"><a href="#RT_ST_SetValues">ST_SetValues</a></span><span class="refpurpose"> — Retorna o raster modificado resultante dos valores de uma dada banda. </span></li><li><span class="refentrytitle"><a href="#RT_ST_DumpValues">ST_DumpValues</a></span><span class="refpurpose"> — Obtenha os valores da banda específica como um arranjo 2-dimensional. </span></li><li><span class="refentrytitle"><a href="#RT_ST_PixelOfValue">ST_PixelOfValue</a></span><span class="refpurpose"> — Obtenha as coordenadas colunax, linhay do pixel cujos valores são iguais ao valor de pesquisa.  </span></li></ul></div><div class="refentry" id="RT_ST_PixelAsPolygon"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelAsPolygon — Retorna o polígono que limita o pixel para uma linha e coluna específicas.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PixelAsPolygon</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var><code>)</code>;</p></div></div><div class="refsection" id="idm29768"><h2>Descrição</h2><p>Retorna o polígono que limita o pixel para uma linha e coluna específicas.</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm29772"><h2>Exemplos</h2><pre class="programlisting">-- get raster pixel polygon
SELECT i,j, ST_AsText(ST_PixelAsPolygon(foo.rast, i,j)) As b1pgeom
FROM dummy_rast As foo
    CROSS JOIN generate_series(1,2) As i
    CROSS JOIN generate_series(1,1) As j
WHERE rid=2;

 i | j |                                                    b1pgeom
---+---+-----------------------------------------------------------------------------
 1 | 1 | POLYGON((3427927.75 5793244,3427927.8 5793244,3427927.8 5793243.95,...
 2 | 1 | POLYGON((3427927.8 5793244,3427927.85 5793244,3427927.85 5793243.95, ..
  </pre></div><div class="refsection" id="idm29775"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a>, <a class="xref" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a>, <a class="xref" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a>, <a class="xref" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a>, <a class="xref" href="#RT_ST_Intersection" title="ST_Intersection">ST_Intersection</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a> </p></div></div><div class="refentry" id="RT_ST_PixelAsPolygons"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelAsPolygons — Retorna o polígono que limita cada pixel de uma banda raster ao longo do valor, as coordenadas raster X e Y de cada pixel.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_PixelAsPolygons</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band=1</var>, boolean  <var class="pdparam">exclude_nodata_value=TRUE</var><code>)</code>;</p></div></div><div class="refsection" id="idm29804"><h2>Descrição</h2><p>Retorna o polígono que limita cada pixel de uma banda raster ao longo do valor (precisão dobrada), as coordenadas (inteiras) raster X e Y de cada pixel.</p><p>Return record format: <em class="parameter"><code>geom</code></em> <a class="xref" href="#geometry" title="geometry">geometry</a>, <em class="parameter"><code>val</code></em> double precision, <em class="parameter"><code>x</code></em> integer, <em class="parameter"><code>y</code></em> integers. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>When <em class="parameter"><code>exclude_nodata_value</code></em> = TRUE, only those pixels whose values are not NODATA are returned as points. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_PixelAsPolygons retorna um polígono para cada pixel. Isto é diferente da ST_DumpAsPolygons, onde cada geometria representa um ou mais pixeis com o mesmo valor.  </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p><p class="enhanced">Melhorias: 2.1.0 o argumento opcional exclude_nodata_value foi adicionado.</p><p class="changed">Alterações: 2.1.1 Mudança no comportamento do exclude_nodata_value.</p></div><div class="refsection" id="idm29821"><h2>Exemplos</h2><pre class="programlisting">-- get raster pixel polygon
SELECT (gv).x, (gv).y, (gv).val, ST_AsText((gv).geom) geom
FROM (SELECT ST_PixelAsPolygons(
                 ST_SetValue(ST_SetValue(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 0.001, -0.001, 0.001, 0.001, 4269),
                                                    '8BUI'::text, 1, 0),
                                         2, 2, 10),
                             1, 1, NULL)
) gv
) foo;

 x | y | val |                geom
---+---+-----------------------------------------------------------------------------
 1 | 1 |     | POLYGON((0 0,0.001 0.001,0.002 0,0.001 -0.001,0 0))
 1 | 2 |   1 | POLYGON((0.001 -0.001,0.002 0,0.003 -0.001,0.002 -0.002,0.001 -0.001))
 2 | 1 |   1 | POLYGON((0.001 0.001,0.002 0.002,0.003 0.001,0.002 0,0.001 0.001))
 2 | 2 |  10 | POLYGON((0.002 0,0.003 0.001,0.004 0,0.003 -0.001,0.002 0))
  </pre></div><div class="refsection" id="idm29824"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a>, <a class="xref" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a>, <a class="xref" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a>, <a class="xref" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a>, <a class="xref" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a> </p></div></div><div class="refentry" id="RT_ST_PixelAsPoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelAsPoint — Retorna um ponto geométrico do canto superior esquerdo do pixel. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PixelAsPoint</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var><code>)</code>;</p></div></div><div class="refsection" id="idm29852"><h2>Descrição</h2><p>Retorna um ponto geométrico do canto superior esquerdo do pixel.</p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm29856"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_PixelAsPoint(rast, 1, 1)) FROM dummy_rast WHERE rid = 1;

   st_astext
----------------
 POINT(0.5 0.5)
                </pre></div><div class="refsection" id="idm29859"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a>, <a class="xref" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a>, <a class="xref" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a>, <a class="xref" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a> </p></div></div><div class="refentry" id="RT_ST_PixelAsPoints"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelAsPoints — Retorna um ponto geométrico para cada pixel de uma banda raster junto com  o valor, as coordenas raster X e Y de cada pixel. As coordenadas do ponto são do ponto esquerdo superior do pixel. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_PixelAsPoints</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band=1</var>, boolean  <var class="pdparam">exclude_nodata_value=TRUE</var><code>)</code>;</p></div></div><div class="refsection" id="idm29886"><h2>Descrição</h2><p>Retorna um ponto geométrico para cada pixel de uma banda raster junto com  o valor, as coordenas raster X e Y de cada pixel. As coordenadas do ponto são do ponto esquerdo superior do pixel. </p><p>Return record format: <em class="parameter"><code>geom</code></em> <a class="xref" href="#geometry" title="geometry">geometry</a>, <em class="parameter"><code>val</code></em> double precision, <em class="parameter"><code>x</code></em> integer, <em class="parameter"><code>y</code></em> integers. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>When <em class="parameter"><code>exclude_nodata_value</code></em> = TRUE, only those pixels whose values are not NODATA are returned as points. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p><p class="changed">Alterações: 2.1.1 Mudança no comportamento do exclude_nodata_value.</p></div><div class="refsection" id="idm29900"><h2>Exemplos</h2><pre class="programlisting">SELECT x, y, val, ST_AsText(geom) FROM (SELECT (ST_PixelAsPoints(rast, 1)).* FROM dummy_rast WHERE rid = 2) foo;

 x | y | val |          st_astext
---+---+-----+------------------------------
 1 | 1 | 253 | POINT(3427927.75 5793244)
 2 | 1 | 254 | POINT(3427927.8 5793244)
 3 | 1 | 253 | POINT(3427927.85 5793244)
 4 | 1 | 254 | POINT(3427927.9 5793244)
 5 | 1 | 254 | POINT(3427927.95 5793244)
 1 | 2 | 253 | POINT(3427927.75 5793243.95)
 2 | 2 | 254 | POINT(3427927.8 5793243.95)
 3 | 2 | 254 | POINT(3427927.85 5793243.95)
 4 | 2 | 253 | POINT(3427927.9 5793243.95)
 5 | 2 | 249 | POINT(3427927.95 5793243.95)
 1 | 3 | 250 | POINT(3427927.75 5793243.9)
 2 | 3 | 254 | POINT(3427927.8 5793243.9)
 3 | 3 | 254 | POINT(3427927.85 5793243.9)
 4 | 3 | 252 | POINT(3427927.9 5793243.9)
 5 | 3 | 249 | POINT(3427927.95 5793243.9)
 1 | 4 | 251 | POINT(3427927.75 5793243.85)
 2 | 4 | 253 | POINT(3427927.8 5793243.85)
 3 | 4 | 254 | POINT(3427927.85 5793243.85)
 4 | 4 | 254 | POINT(3427927.9 5793243.85)
 5 | 4 | 253 | POINT(3427927.95 5793243.85)
 1 | 5 | 252 | POINT(3427927.75 5793243.8)
 2 | 5 | 250 | POINT(3427927.8 5793243.8)
 3 | 5 | 254 | POINT(3427927.85 5793243.8)
 4 | 5 | 254 | POINT(3427927.9 5793243.8)
 5 | 5 | 254 | POINT(3427927.95 5793243.8)
                </pre></div><div class="refsection" id="idm29903"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a>, <a class="xref" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a>, <a class="xref" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a>, <a class="xref" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a> </p></div></div><div class="refentry" id="RT_ST_PixelAsCentroid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelAsCentroid — Retorna o centroide (ponto) da área representada por um pixel. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_PixelAsCentroid</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">x</var>, integer  <var class="pdparam">y</var><code>)</code>;</p></div></div><div class="refsection" id="idm29930"><h2>Descrição</h2><p>Retorna o centroide (ponto) da área representada por um pixel.</p><p class="enhanced">Melhorias: 2.1.0 Reescrito em C</p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm29935"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsText(ST_PixelAsCentroid(rast, 1, 1)) FROM dummy_rast WHERE rid = 1;

  st_astext
--------------
 POINT(1.5 2)
                </pre></div><div class="refsection" id="idm29938"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a>, <a class="xref" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a>, <a class="xref" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a>, <a class="xref" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a> </p></div></div><div class="refentry" id="RT_ST_PixelAsCentroids"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelAsCentroids — Retorna o centroide (ponto geométrico) para cada pixel de uma banda raster junto com  o valor, as coordenas raster X e Y de cada pixel. O ponto é o centroide da área representada por um pixel. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_PixelAsCentroids</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band=1</var>, boolean  <var class="pdparam">exclude_nodata_value=TRUE</var><code>)</code>;</p></div></div><div class="refsection" id="idm29965"><h2>Descrição</h2><p>Retorna o centroide (ponto geométrico) para cada pixel de uma banda raster junto com  o valor, as coordenas raster X e Y de cada pixel. O ponto é o centroide da área representada por um pixel. </p><p>Return record format: <em class="parameter"><code>geom</code></em> <a class="xref" href="#geometry" title="geometry">geometry</a>, <em class="parameter"><code>val</code></em> double precision, <em class="parameter"><code>x</code></em> integer, <em class="parameter"><code>y</code></em> integers. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>When <em class="parameter"><code>exclude_nodata_value</code></em> = TRUE, only those pixels whose values are not NODATA are returned as points. </p></td></tr></table></div><p class="enhanced">Melhorias: 2.1.0 Reescrito em C</p><p class="changed">Alterações: 2.1.1 Mudança no comportamento do exclude_nodata_value.</p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm29980"><h2>Exemplos</h2><pre class="programlisting">--LATERAL syntax requires PostgreSQL 9.3+
SELECT x, y, val, ST_AsText(geom)
    FROM (SELECT dp.* FROM dummy_rast, LATERAL ST_PixelAsCentroids(rast, 1) AS dp WHERE rid = 2) foo;
 x | y | val |           st_astext
---+---+-----+--------------------------------
 1 | 1 | 253 | POINT(3427927.775 5793243.975)
 2 | 1 | 254 | POINT(3427927.825 5793243.975)
 3 | 1 | 253 | POINT(3427927.875 5793243.975)
 4 | 1 | 254 | POINT(3427927.925 5793243.975)
 5 | 1 | 254 | POINT(3427927.975 5793243.975)
 1 | 2 | 253 | POINT(3427927.775 5793243.925)
 2 | 2 | 254 | POINT(3427927.825 5793243.925)
 3 | 2 | 254 | POINT(3427927.875 5793243.925)
 4 | 2 | 253 | POINT(3427927.925 5793243.925)
 5 | 2 | 249 | POINT(3427927.975 5793243.925)
 1 | 3 | 250 | POINT(3427927.775 5793243.875)
 2 | 3 | 254 | POINT(3427927.825 5793243.875)
 3 | 3 | 254 | POINT(3427927.875 5793243.875)
 4 | 3 | 252 | POINT(3427927.925 5793243.875)
 5 | 3 | 249 | POINT(3427927.975 5793243.875)
 1 | 4 | 251 | POINT(3427927.775 5793243.825)
 2 | 4 | 253 | POINT(3427927.825 5793243.825)
 3 | 4 | 254 | POINT(3427927.875 5793243.825)
 4 | 4 | 254 | POINT(3427927.925 5793243.825)
 5 | 4 | 253 | POINT(3427927.975 5793243.825)
 1 | 5 | 252 | POINT(3427927.775 5793243.775)
 2 | 5 | 250 | POINT(3427927.825 5793243.775)
 3 | 5 | 254 | POINT(3427927.875 5793243.775)
 4 | 5 | 254 | POINT(3427927.925 5793243.775)
 5 | 5 | 254 | POINT(3427927.975 5793243.775)
                </pre></div><div class="refsection" id="idm29983"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a>, <a class="xref" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a>, <a class="xref" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a>, <a class="xref" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a>, <a class="xref" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a> </p></div></div><div class="refentry" id="RT_ST_Value"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Value — Retorna o valor da banda dada com a colunax, linhay pixel ou em um ponto específico. Os números de banda começam em 1 e assumem-se 1 se não especificados. Se <code class="varname">exclude_nodata_value</code> for falso, então todos os pixeis, inclusive os <code class="varname">nodata</code>, são considerados para intersectar e retornar valor. Se <code class="varname">exclude_nodata_value</code> não passar então lê dos metadados do raster. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">ST_Value</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">pt</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Value</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, geometry  <var class="pdparam">pt</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var>, text  <var class="pdparam">resample='nearest'</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Value</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">x</var>, integer  <var class="pdparam">y</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Value</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, integer  <var class="pdparam">x</var>, integer  <var class="pdparam">y</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p></div></div><div class="refsection" id="idm30064"><h2>Descrição</h2><p>Retorna o raster modificado resultante do valor de uma banda em uma dada colunax, linhay pixel ou os pixeis que intersectam uma geometria específica. Os números de banda começam no 1 e são assumidos como 1 se não estiverem especificados. </p><p>Se <code class="varname">exclude_nodata_value</code> for verdade, contará apenas pixeis com valor diferente do valor <code class="varname">nodata</code> do raster. <code class="varname">exclude_nodata_value</code> é falso para contar todos os pixeis. </p><p>The allowed values of the <code class="varname">resample</code> parameter are "nearest" which performs the default nearest-neighbor resampling, and "bilinear" which performs a <a class="link" href="https://en.wikipedia.org/wiki/Bilinear_interpolation" target="_top">bilinear interpolation</a> to estimate the value between pixel centers.</p><p class="enhanced">Melhorias: 2.1.0 o argumento opcional exclude_nodata_value foi adicionado.</p><p class="enhanced">Melhorias: 2.0.0 o argumento opcional exclude_nodata_value foi adicionado.</p></div><div class="refsection" id="idm30076"><h2>Exemplos</h2><pre class="programlisting">-- get raster values at particular postgis geometry points
-- the srid of your geometry should be same as for your raster
SELECT rid, ST_Value(rast, foo.pt_geom) As b1pval, ST_Value(rast, 2, foo.pt_geom) As b2pval
FROM dummy_rast CROSS JOIN (SELECT ST_SetSRID(ST_Point(3427927.77, 5793243.76), 0) As pt_geom) As foo
WHERE rid=2;

 rid | b1pval | b2pval
-----+--------+--------
   2 |    252 |     79


-- general fictitious example using a real table
SELECT rid, ST_Value(rast, 3, sometable.geom) As b3pval
FROM sometable
WHERE ST_Intersects(rast,sometable.geom);
                </pre><pre class="programlisting">SELECT rid, ST_Value(rast, 1, 1, 1) As b1pval,
    ST_Value(rast, 2, 1, 1) As b2pval, ST_Value(rast, 3, 1, 1) As b3pval
FROM dummy_rast
WHERE rid=2;

 rid | b1pval | b2pval | b3pval
-----+--------+--------+--------
   2 |    253 |     78 |     70
                </pre><pre class="programlisting">

--- Get all values in bands 1,2,3 of each pixel --
SELECT x, y, ST_Value(rast, 1, x, y) As b1val,
    ST_Value(rast, 2, x, y) As b2val, ST_Value(rast, 3, x, y) As b3val
FROM dummy_rast CROSS JOIN
generate_series(1, 1000) As x CROSS JOIN generate_series(1, 1000) As y
WHERE rid =  2 AND x &lt;= ST_Width(rast) AND y &lt;= ST_Height(rast);

 x | y | b1val | b2val | b3val
---+---+-------+-------+-------
 1 | 1 |   253 |    78 |    70
 1 | 2 |   253 |    96 |    80
 1 | 3 |   250 |    99 |    90
 1 | 4 |   251 |    89 |    77
 1 | 5 |   252 |    79 |    62
 2 | 1 |   254 |    98 |    86
 2 | 2 |   254 |   118 |   108
 :
 :

</pre><pre class="programlisting">

--- Get all values in bands 1,2,3 of each pixel same as above but returning the upper left point point of each pixel --
SELECT ST_AsText(ST_SetSRID(
    ST_Point(ST_UpperLeftX(rast) + ST_ScaleX(rast)*x,
        ST_UpperLeftY(rast) + ST_ScaleY(rast)*y),
        ST_SRID(rast))) As uplpt
    , ST_Value(rast, 1, x, y) As b1val,
    ST_Value(rast, 2, x, y) As b2val, ST_Value(rast, 3, x, y) As b3val
FROM dummy_rast CROSS JOIN
generate_series(1,1000) As x CROSS JOIN generate_series(1,1000) As y
WHERE rid =  2 AND x &lt;= ST_Width(rast) AND y &lt;= ST_Height(rast);

            uplpt            | b1val | b2val | b3val
-----------------------------+-------+-------+-------
 POINT(3427929.25 5793245.5) |   253 |    78 |    70
 POINT(3427929.25 5793247)   |   253 |    96 |    80
 POINT(3427929.25 5793248.5) |   250 |    99 |    90
:

</pre><pre class="programlisting">

--- Get a polygon formed by union of all pixels
    that fall in a particular value range and intersect particular polygon --
SELECT ST_AsText(ST_Union(pixpolyg)) As shadow
FROM (SELECT ST_Translate(ST_MakeEnvelope(
        ST_UpperLeftX(rast), ST_UpperLeftY(rast),
            ST_UpperLeftX(rast) + ST_ScaleX(rast),
            ST_UpperLeftY(rast) + ST_ScaleY(rast), 0
            ), ST_ScaleX(rast)*x, ST_ScaleY(rast)*y
        ) As pixpolyg, ST_Value(rast, 2, x, y) As b2val
    FROM dummy_rast CROSS JOIN
generate_series(1,1000) As x CROSS JOIN generate_series(1,1000) As y
WHERE rid =  2
    AND x &lt;= ST_Width(rast) AND y &lt;= ST_Height(rast)) As foo
WHERE
    ST_Intersects(
        pixpolyg,
        ST_GeomFromText('POLYGON((3427928 5793244,3427927.75 5793243.75,3427928 5793243.75,3427928 5793244))',0)
        ) AND b2val != 254;


        shadow
------------------------------------------------------------------------------------
 MULTIPOLYGON(((3427928 5793243.9,3427928 5793243.85,3427927.95 5793243.85,3427927.95 5793243.9,
 3427927.95 5793243.95,3427928 5793243.95,3427928.05 5793243.95,3427928.05 5793243.9,3427928 5793243.9)),((3427927.95 5793243.9,3427927.95 579324
3.85,3427927.9 5793243.85,3427927.85 5793243.85,3427927.85 5793243.9,3427927.9 5793243.9,3427927.9 5793243.95,
3427927.95 5793243.95,3427927.95 5793243.9)),((3427927.85 5793243.75,3427927.85 5793243.7,3427927.8 5793243.7,3427927.8 5793243.75
,3427927.8 5793243.8,3427927.8 5793243.85,3427927.85 5793243.85,3427927.85 5793243.8,3427927.85 5793243.75)),
((3427928.05 5793243.75,3427928.05 5793243.7,3427928 5793243.7,3427927.95 5793243.7,3427927.95 5793243.75,3427927.95 5793243.8,3427
927.95 5793243.85,3427928 5793243.85,3427928 5793243.8,3427928.05 5793243.8,
3427928.05 5793243.75)),((3427927.95 5793243.75,3427927.95 5793243.7,3427927.9 5793243.7,3427927.85 5793243.7,
3427927.85 5793243.75,3427927.85 5793243.8,3427927.85 5793243.85,3427927.9 5793243.85,
3427927.95 5793243.85,3427927.95 5793243.8,3427927.95 5793243.75)))

</pre><pre class="programlisting">

--- Checking all the pixels of a large raster tile can take a long time.
--- You can dramatically improve speed at some lose of precision by orders of magnitude
--  by sampling pixels using the step optional parameter of generate_series.
--  This next example does the same as previous but by checking 1 for every 4 (2x2) pixels and putting in the last checked
--  putting in the checked pixel as the value for subsequent 4

SELECT ST_AsText(ST_Union(pixpolyg)) As shadow
FROM (SELECT ST_Translate(ST_MakeEnvelope(
        ST_UpperLeftX(rast), ST_UpperLeftY(rast),
            ST_UpperLeftX(rast) + ST_ScaleX(rast)*2,
            ST_UpperLeftY(rast) + ST_ScaleY(rast)*2, 0
            ), ST_ScaleX(rast)*x, ST_ScaleY(rast)*y
        ) As pixpolyg, ST_Value(rast, 2, x, y) As b2val
    FROM dummy_rast CROSS JOIN
generate_series(1,1000,2) As x CROSS JOIN generate_series(1,1000,2) As y
WHERE rid =  2
    AND x &lt;= ST_Width(rast)  AND y &lt;= ST_Height(rast)  ) As foo
WHERE
    ST_Intersects(
        pixpolyg,
        ST_GeomFromText('POLYGON((3427928 5793244,3427927.75 5793243.75,3427928 5793243.75,3427928 5793244))',0)
        ) AND b2val != 254;

        shadow
------------------------------------------------------------------------------------
 MULTIPOLYGON(((3427927.9 5793243.85,3427927.8 5793243.85,3427927.8 5793243.95,
 3427927.9 5793243.95,3427928 5793243.95,3427928.1 5793243.95,3427928.1 5793243.85,3427928 5793243.85,3427927.9 5793243.85)),
 ((3427927.9 5793243.65,3427927.8 5793243.65,3427927.8 5793243.75,3427927.8 5793243.85,3427927.9 5793243.85,
 3427928 5793243.85,3427928 5793243.75,3427928.1 5793243.75,3427928.1 5793243.65,3427928 5793243.65,3427927.9 5793243.65)))

</pre></div><div class="refsection" id="idm30084"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a>, <a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a>, <a class="xref" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_UpperLeftX" title="ST_UpperLeftX">ST_UpperLeftX</a>, <a class="xref" href="#RT_ST_UpperLeftY" title="ST_UpperLeftY">ST_UpperLeftY</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_Point" title="ST_Point">ST_Point</a>, <a class="xref" href="#ST_MakeEnvelope" title="ST_MakeEnvelope">ST_MakeEnvelope</a>, <a class="xref" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a> </p></div></div><div class="refentry" id="RT_ST_NearestValue"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NearestValue — Retorna o valor não-<code class="varname">NODATA</code> mais próximo de um dado pixel de banda especificado por uma colunax e linhay ou um ponto geométrico expressado no mesmo sistema de coordenada referência do raster.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">ST_NearestValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum</var>, geometry  <var class="pdparam">pt</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_NearestValue</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">pt</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_NearestValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_NearestValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p></div></div><div class="refsection" id="idm30168"><h2>Descrição</h2><p>Returns the nearest non-<code class="varname">NODATA</code> value of a given band in a given columnx, rowy pixel or at a specific geometric point. If the columnx, rowy pixel or the pixel at the specified geometric point is <code class="varname">NODATA</code>, the function will find the nearest pixel to the columnx, rowy pixel or geometric point whose value is not <code class="varname">NODATA</code>. </p><p>O número de banda começa no 1 e <code class="varname">bandnum</code> é assumido a ser 1 se não estiver especificado. Se <code class="varname">exclude_nodata_value</code> for falso, então todos os pixeis inclusive os pixeis <code class="varname">nodata</code> são considerados para intersectar e retornar valor. Se <code class="varname">exclude_nodata_value</code> não passar então lê dos metadados do raster.  </p><p class="availability">Disponibilidade: 2.1.0</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_NearestValue é uma substituição drop-in para ST_Value. </p></td></tr></table></div></div><div class="refsection" id="idm30182"><h2>Exemplos</h2><pre class="programlisting">-- pixel 2x2 has value
SELECT
    ST_Value(rast, 2, 2) AS value,
    ST_NearestValue(rast, 2, 2) AS nearestvalue
FROM (
    SELECT
        ST_SetValue(
            ST_SetValue(
                ST_SetValue(
                    ST_SetValue(
                        ST_SetValue(
                            ST_AddBand(
                                ST_MakeEmptyRaster(5, 5, -2, 2, 1, -1, 0, 0, 0),
                                '8BUI'::text, 1, 0
                            ),
                            1, 1, 0.
                        ),
                        2, 3, 0.
                    ),
                    3, 5, 0.
                ),
                4, 2, 0.
            ),
            5, 4, 0.
        ) AS rast
) AS foo

 value | nearestvalue
-------+--------------
     1 |            1
                </pre><pre class="programlisting">-- pixel 2x3 is NODATA
SELECT
    ST_Value(rast, 2, 3) AS value,
    ST_NearestValue(rast, 2, 3) AS nearestvalue
FROM (
    SELECT
        ST_SetValue(
            ST_SetValue(
                ST_SetValue(
                    ST_SetValue(
                        ST_SetValue(
                            ST_AddBand(
                                ST_MakeEmptyRaster(5, 5, -2, 2, 1, -1, 0, 0, 0),
                                '8BUI'::text, 1, 0
                            ),
                            1, 1, 0.
                        ),
                        2, 3, 0.
                    ),
                    3, 5, 0.
                ),
                4, 2, 0.
            ),
            5, 4, 0.
        ) AS rast
) AS foo

 value | nearestvalue
-------+--------------
       |            1
                </pre></div><div class="refsection" id="idm30186"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Neighborhood" title="ST_Neighborhood">ST_Neighborhood</a>, <a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a> </p></div></div><div class="refentry" id="RT_ST_SetZ"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetZ — Returns a geometry with the same X/Y coordinates as the input geometry, and values from the raster copied into the Z dimension using the requested resample algorithm.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SetZ</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">geom</var>, text  <var class="pdparam">resample=nearest</var>, integer  <var class="pdparam">band=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm30212"><h2>Descrição</h2><p>Returns a geometry with the same X/Y coordinates as the input geometry, and values from the raster copied into the Z dimensions using the requested resample algorithm.</p><p>The <code class="varname">resample</code> parameter can be set to "nearest" to copy the values from the cell each vertex falls within, or "bilinear" to use <a class="link" href="https://en.wikipedia.org/wiki/Bilinear_interpolation" target="_top">bilinear interpolation</a> to calculate a value that takes neighboring cells into account also.</p><p class="availability">Availability: 3.2.0</p></div><div class="refsection" id="idm30219"><h2>Exemplos</h2><pre class="programlisting">--
-- 2x2 test raster with values
--
-- 10 50
-- 40 20
--
WITH test_raster AS (
SELECT
ST_SetValues(
  ST_AddBand(
    ST_MakeEmptyRaster(width =&gt; 2, height =&gt; 2,
      upperleftx =&gt; 0, upperlefty =&gt; 2,
      scalex =&gt; 1.0, scaley =&gt; -1.0,
      skewx =&gt; 0, skewy =&gt; 0, srid =&gt; 4326),
    index =&gt; 1, pixeltype =&gt; '16BSI',
    initialvalue =&gt; 0,
    nodataval =&gt; -999),
  1,1,1,
  newvalueset =&gt;ARRAY[ARRAY[10.0::float8, 50.0::float8], ARRAY[40.0::float8, 20.0::float8]]) AS rast
)
SELECT
ST_AsText(
  ST_SetZ(
    rast,
    band =&gt; 1,
    geom =&gt; 'SRID=4326;LINESTRING(1.0 1.9, 1.0 0.2)'::geometry,
    resample =&gt; 'bilinear'
))
FROM test_raster

            st_astext
----------------------------------
 LINESTRING Z (1 1.9 38,1 0.2 27)</pre></div><div class="refsection" id="idm30222"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> </p></div></div><div class="refentry" id="RT_ST_SetM"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetM — Returns a geometry with the same X/Y coordinates as the input geometry, and values from the raster copied into the M dimension using the requested resample algorithm.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_SetM</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">geom</var>, text  <var class="pdparam">resample=nearest</var>, integer  <var class="pdparam">band=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm30248"><h2>Descrição</h2><p>Returns a geometry with the same X/Y coordinates as the input geometry, and values from the raster copied into the M dimensions using the requested resample algorithm.</p><p>The <code class="varname">resample</code> parameter can be set to "nearest" to copy the values from the cell each vertex falls within, or "bilinear" to use <a class="link" href="https://en.wikipedia.org/wiki/Bilinear_interpolation" target="_top">bilinear interpolation</a> to calculate a value that takes neighboring cells into account also.</p><p class="availability">Availability: 3.2.0</p></div><div class="refsection" id="idm30255"><h2>Exemplos</h2><pre class="programlisting">--
-- 2x2 test raster with values
--
-- 10 50
-- 40 20
--
WITH test_raster AS (
SELECT
ST_SetValues(
  ST_AddBand(
    ST_MakeEmptyRaster(width =&gt; 2, height =&gt; 2,
      upperleftx =&gt; 0, upperlefty =&gt; 2,
      scalex =&gt; 1.0, scaley =&gt; -1.0,
      skewx =&gt; 0, skewy =&gt; 0, srid =&gt; 4326),
    index =&gt; 1, pixeltype =&gt; '16BSI',
    initialvalue =&gt; 0,
    nodataval =&gt; -999),
  1,1,1,
  newvalueset =&gt;ARRAY[ARRAY[10.0::float8, 50.0::float8], ARRAY[40.0::float8, 20.0::float8]]) AS rast
)
SELECT
ST_AsText(
  ST_SetM(
    rast,
    band =&gt; 1,
    geom =&gt; 'SRID=4326;LINESTRING(1.0 1.9, 1.0 0.2)'::geometry,
    resample =&gt; 'bilinear'
))
FROM test_raster

            st_astext
----------------------------------
 LINESTRING M (1 1.9 38,1 0.2 27)</pre></div><div class="refsection" id="idm30258"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> </p></div></div><div class="refentry" id="RT_ST_Neighborhood"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Neighborhood — Retorna um arranjo de precisão 2-D dobrada dos valores não-<code class="varname">NODATA</code> em torno da banda de pixel especificada ou por uma colunaX e linhaY ou um ponto geométrico expressado no mesmo sistema de coordenada de referência especial como o raster.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision[][] <strong class="fsfunc">ST_Neighborhood</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum</var>, integer  <var class="pdparam">columnX</var>, integer  <var class="pdparam">rowY</var>, integer  <var class="pdparam">distanceX</var>, integer  <var class="pdparam">distanceY</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision[][] <strong class="fsfunc">ST_Neighborhood</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">columnX</var>, integer  <var class="pdparam">rowY</var>, integer  <var class="pdparam">distanceX</var>, integer  <var class="pdparam">distanceY</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision[][] <strong class="fsfunc">ST_Neighborhood</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum</var>, geometry  <var class="pdparam">pt</var>, integer  <var class="pdparam">distanceX</var>, integer  <var class="pdparam">distanceY</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">double precision[][] <strong class="fsfunc">ST_Neighborhood</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">pt</var>, integer  <var class="pdparam">distanceX</var>, integer  <var class="pdparam">distanceY</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p></div></div><div class="refsection" id="idm30354"><h2>Descrição</h2><p>Retorna um arranjo de precisão 2-D dobrada dos valores não-<code class="varname">NODATA</code> em torno da banda de pixel especificada ou por uma colunaX e linhaY ou um ponto geométrico expressado no mesmo sistema de coordenada de referência especial como o raster. Os parâmetros <code class="varname">distanceX</code> e <code class="varname">distanceY</code> definem o número de pixeis em torno do pixel especificado nos eixos X e Y, ex.: Quero todos os valores dentro de uma distância de 3 pixeis no eixo X e 2 pixeis de distância no eixo Y ao redor do meu pixel de interesse. O valor central do arranjo 2-D será o valor no pixel especificado pela colunaX e linhaY ou ponto geométrico.  </p><p>O número de banda começa no 1 e <code class="varname">bandnum</code> é assumido a ser 1 se não estiver especificado. Se <code class="varname">exclude_nodata_value</code> for falso, então todos os pixeis inclusive os pixeis <code class="varname">nodata</code> são considerados para intersectar e retornar valor. Se <code class="varname">exclude_nodata_value</code> não passar então lê dos metadados do raster.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O número de elementos ao longo de cada eixo do arranjo que está retornando 2-D é 2 *  (<code class="varname">distanceX</code>|<code class="varname">distanceY</code>) + 1. Então, para uma <code class="varname">distanceX</code> e <code class="varname">distanceY</code> de 1, o arranjo que retorna será 3x3.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A saída do arranjo 2-D pode ser passado para qualquer um dos processos raster de funções bultiin, ex.: ST_Min4ma, ST_Sum4ma, ST_Mean4ma.  </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm30374"><h2>Exemplos</h2><pre class="programlisting">-- pixel 2x2 has value
SELECT
    ST_Neighborhood(rast, 2, 2, 1, 1)
FROM (
    SELECT
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(5, 5, -2, 2, 1, -1, 0, 0, 0),
                '8BUI'::text, 1, 0
            ),
            1, 1, 1, ARRAY[
                [0, 1, 1, 1, 1],
                [1, 1, 1, 0, 1],
                [1, 0, 1, 1, 1],
                [1, 1, 1, 1, 0],
                [1, 1, 0, 1, 1]
            ]::double precision[],
            1
        ) AS rast
) AS foo

         st_neighborhood
---------------------------------
{{NULL,1,1},{1,1,1},{1,NULL,1}}
                </pre><pre class="programlisting">-- pixel 2x3 is NODATA
SELECT
    ST_Neighborhood(rast, 2, 3, 1, 1)
FROM (
    SELECT
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(5, 5, -2, 2, 1, -1, 0, 0, 0),
                '8BUI'::text, 1, 0
            ),
            1, 1, 1, ARRAY[
                [0, 1, 1, 1, 1],
                [1, 1, 1, 0, 1],
                [1, 0, 1, 1, 1],
                [1, 1, 1, 1, 0],
                [1, 1, 0, 1, 1]
            ]::double precision[],
            1
        ) AS rast
) AS foo

       st_neighborhood
------------------------------
 {{1,1,1},{1,NULL,1},{1,1,1}}
                </pre><pre class="programlisting">-- pixel 3x3 has value
-- exclude_nodata_value = FALSE
SELECT
    ST_Neighborhood(rast, 3, 3, 1, 1, false)
FROM ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(5, 5, -2, 2, 1, -1, 0, 0, 0),
                '8BUI'::text, 1, 0
            ),
            1, 1, 1, ARRAY[
                [0, 1, 1, 1, 1],
                [1, 1, 1, 0, 1],
                [1, 0, 1, 1, 1],
                [1, 1, 1, 1, 0],
                [1, 1, 0, 1, 1]
            ]::double precision[],
            1
        ) AS rast

      st_neighborhood
---------------------------
{{1,1,0},{0,1,1},{1,1,1}}
                </pre></div><div class="refsection" id="idm30379"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_NearestValue" title="ST_NearestValue">ST_NearestValue</a>, <a class="xref" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>, <a class="xref" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>, <a class="xref" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>, <a class="xref" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>, <a class="xref" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a>, <a class="xref" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div><div class="refentry" id="RT_ST_SetValue"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetValue — Retorna o raster modificado resultante do valor de uma banda em uma dada colunax, linhay pixel ou os pixeis que intersectam uma geometria específica. Os números de banda começam no 1 e são assumidos como 1 se não estiverem especificados. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum</var>, geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">newvalue</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValue</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">newvalue</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">bandnum</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, double precision  <var class="pdparam">newvalue</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, double precision  <var class="pdparam">newvalue</var><code>)</code>;</p></div></div><div class="refsection" id="idm30456"><h2>Descrição</h2><p>Returns modified raster resulting from setting the specified pixels' values to new value for the designated band given the raster's row and column or a geometry. If no band is specified, then band 1 is assumed. </p><p class="enhanced">Melhorias: 2.1.0 Variante geométrica ST_SetValue() agora suporta qualquer tipo de geometria, não apenas ponto. A variante geométrica é um envoltório em torno da variante geomval[] da ST_SetValues()</p></div><div class="refsection" id="idm30460"><h2>Exemplos</h2><pre class="programlisting">

                -- Geometry example
SELECT (foo.geomval).val, ST_AsText(ST_Union((foo.geomval).geom))
FROM (SELECT ST_DumpAsPolygons(
        ST_SetValue(rast,1,
                ST_Point(3427927.75, 5793243.95),
                50)
            ) As geomval
FROM dummy_rast
where rid = 2) As foo
WHERE (foo.geomval).val &lt; 250
GROUP BY (foo.geomval).val;

 val |                                                     st_astext
-----+-------------------------------------------------------------------
  50 | POLYGON((3427927.75 5793244,3427927.75 5793243.95,3427927.8 579324 ...
 249 | POLYGON((3427927.95 5793243.95,3427927.95 5793243.85,3427928 57932 ...


</pre><pre class="programlisting">-- Store the changed raster --
    UPDATE dummy_rast SET rast = ST_SetValue(rast,1, ST_Point(3427927.75, 5793243.95),100)
        WHERE rid = 2   ;

                </pre></div><div class="refsection" id="idm30464"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a></p></div></div><div class="refentry" id="RT_ST_SetValues"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetValues — Retorna o raster modificado resultante dos valores de uma dada banda. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValues</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, double precision[][]  <var class="pdparam">newvalueset</var>, boolean[][]  <var class="pdparam">noset=NULL</var>, boolean  <var class="pdparam">keepnodata=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValues</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, double precision[][]  <var class="pdparam">newvalueset</var>, double precision  <var class="pdparam">nosetvalue</var>, boolean  <var class="pdparam">keepnodata=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValues</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, double precision  <var class="pdparam">newvalue</var>, boolean  <var class="pdparam">keepnodata=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValues</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">columnx</var>, integer  <var class="pdparam">rowy</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, double precision  <var class="pdparam">newvalue</var>, boolean  <var class="pdparam">keepnodata=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetValues</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, geomval[]  <var class="pdparam">geomvalset</var>, boolean  <var class="pdparam">keepnodata=FALSE</var><code>)</code>;</p></div></div><div class="refsection" id="idm30589"><h2>Descrição</h2><p>Retorna o raster modificado resultante dos valores especificados do pixel para novo valor(es) para a banda designada.  </p><p>Se <code class="varname">keepnodata</code> for VERDADE, aqueles pixeis cujos valores são NODATA não terão o valor correspondente em <code class="varname">newvalueset</code>. </p><p>Para Variante 1, os pixeis específicos são determinados pela <code class="varname">columnx</code>, <code class="varname">rowy</code> coordenadas pixel e as dimensões do arranjo <code class="varname">newvalueset</code>. <code class="varname">noset</code> pode ser usado para prevenir pixeis com valores presentes no <code class="varname">newvalueset</code> de serem estabelecidos ( PostgreSQL não permitindo arranjos ragged/jagged). Veja o exemplo de Variante 1. </p><p>Variante 2 é como a Variante 1, mas com uma precisão dupla simples <code class="varname">nosetvalue</code> em vez de um arranjo booleano <code class="varname">noset</code>. Elementos no <code class="varname">newvalueset</code> com o valor <code class="varname">nosetvalue</code> são pulados. Veja o exemplo da Variante 2.  </p><p>Para Variante 3, os pixeis a serem estabelecidos são determinados pelas <code class="varname">columnx</code>, <code class="varname">rowy</code> coordenadas pixel, <code class="varname">width</code> e <code class="varname">height</code>. Veja o exemplo da Variante 3. </p><p>A Variante 4 é a mesma que a Variante 3, com a exceção de que ela assume que a primeira banda do pixel de <code class="varname">rast</code> será estabelecida.  </p><p>Para a Variante 5, um arranjo de <a class="xref" href="#geomval" title="geomval">geomval</a> é usado para determinar os pixeis específicos. Se todas as geometrias no arranjo forem do tipo PONTO ou MULTIPONTO, a função usa um atalho onde a longitude e latitude de cada ponto é usada para pôr um pixel diretamente. Caso contrário, as geometrias são convertidas para rasters e então iteradas através de um passo. Veja o exemplo de Variante 5.  </p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm30616"><h2>Exemplos: Variante 1</h2><pre class="programlisting">

/*
The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 1 | 1 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |    =
&gt;    | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                1, '8BUI', 1, 0
            ),
            1, 2, 2, ARRAY[[9, 9], [9, 9]]::double precision[][]
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |   1
 1 | 2 |   1
 1 | 3 |   1
 2 | 1 |   1
 2 | 2 |   9
 2 | 3 |   9
 3 | 1 |   1
 3 | 2 |   9
 3 | 3 |   9

</pre><pre class="programlisting">

/*
The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 9 | 9 | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |    =
&gt;    | 9 |   | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 9 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                1, '8BUI', 1, 0
            ),
            1, 1, 1, ARRAY[[9, 9, 9], [9, NULL, 9], [9, 9, 9]]::double precision[][]
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |   9
 1 | 2 |   9
 1 | 3 |   9
 2 | 1 |   9
 2 | 2 |
 2 | 3 |   9
 3 | 1 |   9
 3 | 2 |   9
 3 | 3 |   9

</pre><pre class="programlisting">/*
The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 9 | 9 | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |    =&gt;    | 1 |   | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 9 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                1, '8BUI', 1, 0
            ),
            1, 1, 1,
                ARRAY[[9, 9, 9], [9, NULL, 9], [9, 9, 9]]::double precision[][],
                ARRAY[[false], [true]]::boolean[][]
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |   9
 1 | 2 |   1
 1 | 3 |   9
 2 | 1 |   9
 2 | 2 |
 2 | 3 |   9
 3 | 1 |   9
 3 | 2 |   9
 3 | 3 |   9
                </pre><pre class="programlisting">/*
The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
|   | 1 | 1 |          |   | 9 | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |    =&gt;    | 1 |   | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 9 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_SetValue(
                ST_AddBand(
                    ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                    1, '8BUI', 1, 0
                ),
                1, 1, 1, NULL
            ),
            1, 1, 1,
                ARRAY[[9, 9, 9], [9, NULL, 9], [9, 9, 9]]::double precision[][],
                ARRAY[[false], [true]]::boolean[][],
                TRUE
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |
 1 | 2 |   1
 1 | 3 |   9
 2 | 1 |   9
 2 | 2 |
 2 | 3 |   9
 3 | 1 |   9
 3 | 2 |   9
 3 | 3 |   9
                </pre></div><div class="refsection" id="idm30622"><h2>Exemplos: Variant 2</h2><pre class="programlisting">/*
The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 1 | 1 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |    =&gt;    | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                1, '8BUI', 1, 0
            ),
            1, 1, 1, ARRAY[[-1, -1, -1], [-1, 9, 9], [-1, 9, 9]]::double precision[][], -1
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |   1
 1 | 2 |   1
 1 | 3 |   1
 2 | 1 |   1
 2 | 2 |   9
 2 | 3 |   9
 3 | 1 |   1
 3 | 2 |   9
 3 | 3 |   9
                </pre><pre class="programlisting">/*
This example is like the previous one.  Instead of nosetvalue = -1, nosetvalue = NULL

The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 1 | 1 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |    =&gt;    | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                1, '8BUI', 1, 0
            ),
            1, 1, 1, ARRAY[[NULL, NULL, NULL], [NULL, 9, 9], [NULL, 9, 9]]::double precision[][], NULL::double precision
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |   1
 1 | 2 |   1
 1 | 3 |   1
 2 | 1 |   1
 2 | 2 |   9
 2 | 3 |   9
 3 | 1 |   1
 3 | 2 |   9
 3 | 3 |   9
                </pre></div><div class="refsection" id="idm30626"><h2>Exemplos: Variante 3</h2><pre class="programlisting">/*
The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 1 | 1 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |    =&gt;    | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                1, '8BUI', 1, 0
            ),
            1, 2, 2, 2, 2, 9
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |   1
 1 | 2 |   1
 1 | 3 |   1
 2 | 1 |   1
 2 | 2 |   9
 2 | 3 |   9
 3 | 1 |   1
 3 | 2 |   9
 3 | 3 |   9
                </pre><pre class="programlisting">/*
The ST_SetValues() does the following...

+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 1 | 1 |
+ - + - + - +          + - + - + - +
| 1 |   | 1 |    =&gt;    | 1 |   | 9 |
+ - + - + - +          + - + - + - +
| 1 | 1 | 1 |          | 1 | 9 | 9 |
+ - + - + - +          + - + - + - +
*/
SELECT
    (poly).x,
    (poly).y,
    (poly).val
FROM (
SELECT
    ST_PixelAsPolygons(
        ST_SetValues(
            ST_SetValue(
                ST_AddBand(
                    ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0),
                    1, '8BUI', 1, 0
                ),
                1, 2, 2, NULL
            ),
            1, 2, 2, 2, 2, 9, TRUE
        )
    ) AS poly
) foo
ORDER BY 1, 2;

 x | y | val
---+---+-----
 1 | 1 |   1
 1 | 2 |   1
 1 | 3 |   1
 2 | 1 |   1
 2 | 2 |
 2 | 3 |   9
 3 | 1 |   1
 3 | 2 |   9
 3 | 3 |   9
                </pre></div><div class="refsection" id="idm30630"><h2>Exemplos: Variante 5</h2><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI', 0, 0) AS rast
), bar AS (
    SELECT 1 AS gid, 'SRID=0;POINT(2.5 -2.5)'::geometry geom UNION ALL
    SELECT 2 AS gid, 'SRID=0;POLYGON((1 -1, 4 -1, 4 -4, 1 -4, 1 -1))'::geometry geom UNION ALL
    SELECT 3 AS gid, 'SRID=0;POLYGON((0 0, 5 0, 5 -1, 1 -1, 1 -4, 0 -4, 0 0))'::geometry geom UNION ALL
    SELECT 4 AS gid, 'SRID=0;MULTIPOINT(0 0, 4 4, 4 -4)'::geometry
)
SELECT
    rid, gid, ST_DumpValues(ST_SetValue(rast, 1, geom, gid))
FROM foo t1
CROSS JOIN bar t2
ORDER BY rid, gid;

 rid | gid |                                                                st_dumpvalues
-----+-----+---------------------------------------------------------------------------------------------------------------------------------------------
   1 |   1 | (1,"{{NULL,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL},{NULL,NULL,1,NULL,NULL},{NULL,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL}}")
   1 |   2 | (1,"{{NULL,NULL,NULL,NULL,NULL},{NULL,2,2,2,NULL},{NULL,2,2,2,NULL},{NULL,2,2,2,NULL},{NULL,NULL,NULL,NULL,NULL}}")
   1 |   3 | (1,"{{3,3,3,3,3},{3,NULL,NULL,NULL,NULL},{3,NULL,NULL,NULL,NULL},{3,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL}}")
   1 |   4 | (1,"{{4,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,4}}")
(4 rows)
                </pre><p>A seguir está demonstrado que geomvals podem, mais tarde, sobrescrever no arranjo geomvals anteriores</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI', 0, 0) AS rast
), bar AS (
    SELECT 1 AS gid, 'SRID=0;POINT(2.5 -2.5)'::geometry geom UNION ALL
    SELECT 2 AS gid, 'SRID=0;POLYGON((1 -1, 4 -1, 4 -4, 1 -4, 1 -1))'::geometry geom UNION ALL
    SELECT 3 AS gid, 'SRID=0;POLYGON((0 0, 5 0, 5 -1, 1 -1, 1 -4, 0 -4, 0 0))'::geometry geom UNION ALL
    SELECT 4 AS gid, 'SRID=0;MULTIPOINT(0 0, 4 4, 4 -4)'::geometry
)
SELECT
    t1.rid, t2.gid, t3.gid, ST_DumpValues(ST_SetValues(rast, 1, ARRAY[ROW(t2.geom, t2.gid), ROW(t3.geom, t3.gid)]::geomval[]))
FROM foo t1
CROSS JOIN bar t2
CROSS JOIN bar t3
WHERE t2.gid = 1
    AND t3.gid = 2
ORDER BY t1.rid, t2.gid, t3.gid;

 rid | gid | gid |                                                    st_dumpvalues
-----+-----+-----+---------------------------------------------------------------------------------------------------------------------
   1 |   1 |   2 | (1,"{{NULL,NULL,NULL,NULL,NULL},{NULL,2,2,2,NULL},{NULL,2,2,2,NULL},{NULL,2,2,2,NULL},{NULL,NULL,NULL,NULL,NULL}}")
(1 row)
                </pre><p>Este exemplo é o oposto do exemplo anterior</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI', 0, 0) AS rast
), bar AS (
    SELECT 1 AS gid, 'SRID=0;POINT(2.5 -2.5)'::geometry geom UNION ALL
    SELECT 2 AS gid, 'SRID=0;POLYGON((1 -1, 4 -1, 4 -4, 1 -4, 1 -1))'::geometry geom UNION ALL
    SELECT 3 AS gid, 'SRID=0;POLYGON((0 0, 5 0, 5 -1, 1 -1, 1 -4, 0 -4, 0 0))'::geometry geom UNION ALL
    SELECT 4 AS gid, 'SRID=0;MULTIPOINT(0 0, 4 4, 4 -4)'::geometry
)
SELECT
    t1.rid, t2.gid, t3.gid, ST_DumpValues(ST_SetValues(rast, 1, ARRAY[ROW(t2.geom, t2.gid), ROW(t3.geom, t3.gid)]::geomval[]))
FROM foo t1
CROSS JOIN bar t2
CROSS JOIN bar t3
WHERE t2.gid = 2
    AND t3.gid = 1
ORDER BY t1.rid, t2.gid, t3.gid;

 rid | gid | gid |                                                    st_dumpvalues
-----+-----+-----+---------------------------------------------------------------------------------------------------------------------
   1 |   2 |   1 | (1,"{{NULL,NULL,NULL,NULL,NULL},{NULL,2,2,2,NULL},{NULL,2,1,2,NULL},{NULL,2,2,2,NULL},{NULL,NULL,NULL,NULL,NULL}}")
(1 row)
                </pre></div><div class="refsection" id="idm30637"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a>, <a class="xref" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a> </p></div></div><div class="refentry" id="RT_ST_DumpValues"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DumpValues — Obtenha os valores da banda específica como um arranjo 2-dimensional. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_DumpValues</strong>(</code> raster  <var class="pdparam">rast</var> ,  integer[]  <var class="pdparam">nband=NULL</var> ,  boolean  <var class="pdparam">exclude_nodata_value=true</var> <code>)</code>;</p><p><code class="funcdef">double precision[][] <strong class="fsfunc">ST_DumpValues</strong>(</code> raster  <var class="pdparam">rast</var> ,  integer  <var class="pdparam">nband</var> ,  boolean  <var class="pdparam">exclude_nodata_value=true</var> <code>)</code>;</p></div></div><div class="refsection" id="idm30673"><h2>Descrição</h2><p>Obtenha os valores da banda especificada como um arranjo 2-dimensional (o primeiro índice é linha, o segundo é coluna). Se <code class="varname">nband</code> for NULO ou não for fornecido, todas as bandas raster serão processadas.  </p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm30678"><h2>Exemplos</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI'::text, 1, 0), 2, '32BF'::text, 3, -9999), 3, '16BSI', 0, 0) AS rast
)
SELECT
    (ST_DumpValues(rast)).*
FROM foo;

 nband |                       valarray
-------+------------------------------------------------------
     1 | {{1,1,1},{1,1,1},{1,1,1}}
     2 | {{3,3,3},{3,3,3},{3,3,3}}
     3 | {{NULL,NULL,NULL},{NULL,NULL,NULL},{NULL,NULL,NULL}}
(3 rows)
                </pre><pre class="programlisting">WITH foo AS (
    SELECT ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI'::text, 1, 0), 2, '32BF'::text, 3, -9999), 3, '16BSI', 0, 0) AS rast
)
SELECT
    (ST_DumpValues(rast, ARRAY[3, 1])).*
FROM foo;

 nband |                       valarray
-------+------------------------------------------------------
     3 | {{NULL,NULL,NULL},{NULL,NULL,NULL},{NULL,NULL,NULL}}
     1 | {{1,1,1},{1,1,1},{1,1,1}}
(2 rows)
                </pre><pre class="programlisting">WITH foo AS (
    SELECT ST_SetValue(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI', 1, 0), 1, 2, 5) AS rast
)
SELECT
    (ST_DumpValues(rast, 1))[2][1]
FROM foo;

 st_dumpvalues
---------------
             5
(1 row)
                </pre></div><div class="refsection" id="idm30683"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a>, <a class="xref" href="#RT_ST_SetValues" title="ST_SetValues">ST_SetValues</a> </p></div></div><div class="refentry" id="RT_ST_PixelOfValue"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_PixelOfValue — Obtenha as coordenadas colunax, linhay do pixel cujos valores são iguais ao valor de pesquisa.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">ST_PixelOfValue</strong>(</code> raster  <var class="pdparam">rast</var> ,  integer  <var class="pdparam">nband</var> ,  double precision[]  <var class="pdparam">search</var> ,  boolean  <var class="pdparam">exclude_nodata_value=true</var> <code>)</code>;</p><p><code class="funcdef">setof record <strong class="fsfunc">ST_PixelOfValue</strong>(</code> raster  <var class="pdparam">rast</var> ,  double precision[]  <var class="pdparam">search</var> ,  boolean  <var class="pdparam">exclude_nodata_value=true</var> <code>)</code>;</p><p><code class="funcdef">setof record <strong class="fsfunc">ST_PixelOfValue</strong>(</code> raster  <var class="pdparam">rast</var> ,  integer  <var class="pdparam">nband</var> ,  double precision  <var class="pdparam">search</var> ,  boolean  <var class="pdparam">exclude_nodata_value=true</var> <code>)</code>;</p><p><code class="funcdef">setof record <strong class="fsfunc">ST_PixelOfValue</strong>(</code> raster  <var class="pdparam">rast</var> ,  double precision  <var class="pdparam">search</var> ,  boolean  <var class="pdparam">exclude_nodata_value=true</var> <code>)</code>;</p></div></div><div class="refsection" id="idm30749"><h2>Descrição</h2><p>Obtenha as coordenadas colunax, linhay do pixel cujos valores são iguais ao valor de pesquisa. Se nenhuma banda for especificada, então a banda 1 é assumida.  </p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm30753"><h2>Exemplos</h2><pre class="programlisting">SELECT
    (pixels).*
FROM (
    SELECT
        ST_PixelOfValue(
            ST_SetValue(
                ST_SetValue(
                    ST_SetValue(
                        ST_SetValue(
                            ST_SetValue(
                                ST_AddBand(
                                    ST_MakeEmptyRaster(5, 5, -2, 2, 1, -1, 0, 0, 0),
                                    '8BUI'::text, 1, 0
                                ),
                                1, 1, 0
                            ),
                            2, 3, 0
                        ),
                        3, 5, 0
                    ),
                    4, 2, 0
                ),
                5, 4, 255
            )
        , 1, ARRAY[1, 255]) AS pixels
) AS foo

 val | x | y
-----+---+---
   1 | 1 | 2
   1 | 1 | 3
   1 | 1 | 4
   1 | 1 | 5
   1 | 2 | 1
   1 | 2 | 2
   1 | 2 | 4
   1 | 2 | 5
   1 | 3 | 1
   1 | 3 | 2
   1 | 3 | 3
   1 | 3 | 4
   1 | 4 | 1
   1 | 4 | 3
   1 | 4 | 4
   1 | 4 | 5
   1 | 5 | 1
   1 | 5 | 2
   1 | 5 | 3
 255 | 5 | 4
   1 | 5 | 5
                </pre></div></div></section><section class="section" id="Raster_Editors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.7. Editores Raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_SetGeoReference">ST_SetGeoReference</a></span><span class="refpurpose"> — Coloque os parâmetros Georeference 6 em uma única chamada. Os números deverão ser separadospor espaço branco. Aceita entrar no formato GDAL ou ESRI. O padrão é GDAL. </span></li><li><span class="refentrytitle"><a href="#RT_ST_SetRotation">ST_SetRotation</a></span><span class="refpurpose"> — Põe a rotação do raster em radianos. </span></li><li><span class="refentrytitle"><a href="#RT_ST_SetScale">ST_SetScale</a></span><span class="refpurpose"> — Coloca os tamanhos X e Y dos pixeis em unidades do sistema referencial de coordenadas. Número unidades/pixel largura/altura. </span></li><li><span class="refentrytitle"><a href="#RT_ST_SetSkew">ST_SetSkew</a></span><span class="refpurpose"> — Coloca as georreferências X e Y distorcidas (ou parâmetro de rotação). Se somente um passar, coloca o X e o Y no mesmo valor. </span></li><li><span class="refentrytitle"><a href="#RT_ST_SetSRID">ST_SetSRID</a></span><span class="refpurpose"> — Coloca o SRID de um raster em um srid inteiro específico definido na tabela spatial_ref_sys.</span></li><li><span class="refentrytitle"><a href="#RT_ST_SetUpperLeft">ST_SetUpperLeft</a></span><span class="refpurpose"> — Sets the value of the upper left corner of the pixel of the raster to projected X and Y coordinates.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Resample">ST_Resample</a></span><span class="refpurpose"> — Resample um raster usando um algorítimo específico, novas dimensões, um canto aleatório da grade e um conjunto de rasters georreferenciando atributos definidos ou emprestados de outro raster.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_Rescale">ST_Rescale</a></span><span class="refpurpose"> — Resample a raster by adjusting only its scale (or pixel size). New pixel values are computed using the NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline, Lanczos, Max or Min resampling algorithm. Default is NearestNeighbor. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Reskew">ST_Reskew</a></span><span class="refpurpose"> — Resample um raster ajustando somente sua inclinação (ou tamanho de pixel). Novos valores de pixel são calculados usando o algorítimo NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline ou Lanczos. O padrão é NearestNeighbor. </span></li><li><span class="refentrytitle"><a href="#RT_ST_SnapToGrid">ST_SnapToGrid</a></span><span class="refpurpose"> — Resample um raster encaixando-o em uma grade. Novos valores de pixel são calculados usando o algorítimo NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline ou Lanczos. O padrão é NearestNeighbor. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Resize">ST_Resize</a></span><span class="refpurpose"> — Redimensiona largura/altura novas para um raster  </span></li><li><span class="refentrytitle"><a href="#RT_ST_Transform">ST_Transform</a></span><span class="refpurpose"> — Reprojeta um raster em um sistema de referência espacial conhecido para outro usando um algorítimo resampling especificado. As opções são NearestNeighbor, Bilinear, Cubic, CubicSpline, Lanczos com o padrão sendo NearestNeighbor. </span></li></ul></div><div class="refentry" id="RT_ST_SetGeoReference"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetGeoReference — Coloque os parâmetros Georeference 6 em uma única chamada. Os números deverão ser separadospor espaço branco. Aceita entrar no formato GDAL ou ESRI. O padrão é GDAL. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetGeoReference</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">georefcoords</var>, text  <var class="pdparam">format=GDAL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetGeoReference</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">upperleftx</var>, double precision  <var class="pdparam">upperlefty</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, double precision  <var class="pdparam">skewx</var>, double precision  <var class="pdparam">skewy</var><code>)</code>;</p></div></div><div class="refsection" id="idm30800"><h2>Descrição</h2><p>Coloca os parâmetros georreferência 6 em uma única chamada.  Aceita entrar no formato GDAL ou ESRI. O padrão é GDAL. Se 6 coordenadas não forem fornecidas, retornará null. </p><p>A diferença entre representações de formatos é a seguinte:</p><p><code class="varname">GDAL</code>: </p><pre class="programlisting">scalex skewy skewx scaley upperleftx upperlefty</pre><p><code class="varname">ESRI</code>: </p><pre class="programlisting">scalex skewy skewx scaley upperleftx + scalex*0.5 upperlefty + scaley*0.5</pre><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se o raster tiver bandas fora do banco de dados, alterar a georreferência pode resultar em acesso incorreto dos dados de banda armazenados externamente.  </p></td></tr></table></div><p class="enhanced">Melhorias: 2.1.0 Adição da variante ST_SetGeoReference(raster, double precision, ...)</p></div><div class="refsection" id="idm30813"><h2>Exemplos</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0) AS rast
)
SELECT
    0 AS rid, (ST_Metadata(rast)).*
FROM foo
UNION ALL
SELECT
    1, (ST_Metadata(ST_SetGeoReference(rast, '10 0 0 -10 0.1 0.1', 'GDAL'))).*
FROM foo
UNION ALL
SELECT
    2, (ST_Metadata(ST_SetGeoReference(rast, '10 0 0 -10 5.1 -4.9', 'ESRI'))).*
FROM foo
UNION ALL
SELECT
    3, (ST_Metadata(ST_SetGeoReference(rast, 1, 1, 10, -10, 0.001, 0.001))).*
FROM foo

 rid |     upperleftx     |     upperlefty     | width | height | scalex | scaley | skewx | skewy | srid | numbands
-----+--------------------+--------------------+-------+--------+--------+--------+-------+-------+------+----------
   0 |                  0 |                  0 |     5 |      5 |      1 |     -1 |     0 |     0 |    0 |        0
   1 |                0.1 |                0.1 |     5 |      5 |     10 |    -10 |     0 |     0 |    0 |        0
   2 | 0.0999999999999996 | 0.0999999999999996 |     5 |      5 |     10 |    -10 |     0 |     0 |    0 |        0
   3 |                  1 |                  1 |     5 |      5 |     10 |    -10 | 0.001 | 0.001 |    0 |        0
                </pre></div><div class="refsection" id="idm30816"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_UpperLeftX" title="ST_UpperLeftX">ST_UpperLeftX</a>, <a class="xref" href="#RT_ST_UpperLeftY" title="ST_UpperLeftY">ST_UpperLeftY</a></p></div></div><div class="refentry" id="RT_ST_SetRotation"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetRotation — Põe a rotação do raster em radianos. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetRotation</strong>(</code>raster <var class="pdparam">rast</var>, float8 <var class="pdparam">rotation</var><code>)</code>;</p></div></div><div class="refsection" id="idm30839"><h2>Descrição</h2><p>Gira o raster uniformemente. A rotação é em radianos. Recorra a <a class="link" href="http://en.wikipedia.org/wiki/World_file" target="_top">World File</a> para mais detalhes. </p></div><div class="refsection" id="idm30843"><h2>Exemplos</h2><pre class="programlisting">SELECT
  ST_ScaleX(rast1), ST_ScaleY(rast1), ST_SkewX(rast1), ST_SkewY(rast1),
  ST_ScaleX(rast2), ST_ScaleY(rast2), ST_SkewX(rast2), ST_SkewY(rast2)
FROM (
  SELECT ST_SetRotation(rast, 15) AS rast1, rast as rast2 FROM dummy_rast
) AS foo;
      st_scalex      |      st_scaley      |      st_skewx      |      st_skewy      | st_scalex | st_scaley | st_skewx | st_skewy
---------------------+---------------------+--------------------+--------------------+-----------+-----------+----------+----------
   -1.51937582571764 |   -2.27906373857646 |   1.95086352047135 |   1.30057568031423 |         2 |         3 |        0 |        0
 -0.0379843956429411 | -0.0379843956429411 | 0.0325143920078558 | 0.0325143920078558 |      0.05 |     -0.05 |        0 |        0
                </pre></div><div class="refsection" id="idm30846"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Rotation" title="ST_Rotation">ST_Rotation</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>, <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a></p></div></div><div class="refentry" id="RT_ST_SetScale"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetScale — Coloca os tamanhos X e Y dos pixeis em unidades do sistema referencial de coordenadas. Número unidades/pixel largura/altura. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetScale</strong>(</code>raster  <var class="pdparam">rast</var>, float8  <var class="pdparam">xy</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetScale</strong>(</code>raster  <var class="pdparam">rast</var>, float8  <var class="pdparam">x</var>, float8  <var class="pdparam">y</var><code>)</code>;</p></div></div><div class="refsection" id="idm30881"><h2>Descrição</h2><p>Coloca os tamanhos X e Y dos pixeis em unidades do sistema referencial de coordenadas. Número unidades/pixel largura/altura. Se apenas uma unidade passar, o X e Y assumido são o mesmo número. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_SetScale é diferente de <a class="xref" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a> onde a ST_SetScale não resample o raster para combinar com a extensão. Apenas altera os metadados (ou georreferência) do raster, para corrigir uma escala originalmente mal especificada. A ST_SetScale resulta em um raster tendo largura e altura diferentes, calculadas para caber na extensão geográfica do raster de entrada. A ST_SetScale não modifica a largura, nem a altura do raster.</p></td></tr></table></div><p class="changed">Alterações: 2.0.0 Nas versões WKTRaster era chamado de ST_SetPixelSize. Foi modificado na 2.0.0.</p></div><div class="refsection" id="idm30888"><h2>Exemplos</h2><pre class="programlisting">UPDATE dummy_rast
    SET rast = ST_SetScale(rast, 1.5)
WHERE rid = 2;

SELECT ST_ScaleX(rast) As pixx, ST_ScaleY(rast) As pixy, Box3D(rast) As newbox
FROM dummy_rast
WHERE rid = 2;

 pixx | pixy |                    newbox
------+------+----------------------------------------------
  1.5 |  1.5 | BOX(3427927.75 5793244 0, 3427935.25 5793251.5 0)
                </pre><pre class="programlisting">UPDATE dummy_rast
    SET rast = ST_SetScale(rast, 1.5, 0.55)
WHERE rid = 2;

SELECT ST_ScaleX(rast) As pixx, ST_ScaleY(rast) As pixy, Box3D(rast) As newbox
FROM dummy_rast
WHERE rid = 2;

 pixx | pixy |                   newbox
------+------+--------------------------------------------
  1.5 | 0.55 | BOX(3427927.75 5793244 0,3427935.25 5793247 0)
                </pre></div><div class="refsection" id="idm30892"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_Box3D" title="Box3D">Box3D</a></p></div></div><div class="refentry" id="RT_ST_SetSkew"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetSkew — Coloca as georreferências X e Y distorcidas (ou parâmetro de rotação). Se somente um passar, coloca o X e o Y no mesmo valor. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetSkew</strong>(</code>raster  <var class="pdparam">rast</var>, float8  <var class="pdparam">skewxy</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetSkew</strong>(</code>raster  <var class="pdparam">rast</var>, float8  <var class="pdparam">skewx</var>, float8  <var class="pdparam">skewy</var><code>)</code>;</p></div></div><div class="refsection" id="idm30925"><h2>Descrição</h2><p>Coloca as georreferências X e Y distorcidas (ou parâmetro de rotação). Se somente um passar, coloca o X e o Y no mesmo valor. Recorra a <a class="link" href="http://en.wikipedia.org/wiki/World_file" target="_top">World File</a> para mais detalhes. </p></div><div class="refsection" id="idm30929"><h2>Exemplos</h2><pre class="programlisting">-- Example 1
UPDATE dummy_rast SET rast = ST_SetSkew(rast,1,2) WHERE rid = 1;
SELECT rid, ST_SkewX(rast) As skewx, ST_SkewY(rast) As skewy,
    ST_GeoReference(rast) as georef
FROM dummy_rast WHERE rid = 1;

rid | skewx | skewy |    georef
----+-------+-------+--------------
  1 |     1 |     2 | 2.0000000000
                    : 2.0000000000
                    : 1.0000000000
                    : 3.0000000000
                    : 0.5000000000
                    : 0.5000000000

                </pre><pre class="programlisting">-- Example 2 set both to same number:
UPDATE dummy_rast SET rast = ST_SetSkew(rast,0) WHERE rid = 1;
SELECT rid, ST_SkewX(rast) As skewx, ST_SkewY(rast) As skewy,
    ST_GeoReference(rast) as georef
FROM dummy_rast WHERE rid = 1;

 rid | skewx | skewy |    georef
-----+-------+-------+--------------
   1 |     0 |     0 | 2.0000000000
                     : 0.0000000000
                     : 0.0000000000
                     : 3.0000000000
                     : 0.5000000000
                     : 0.5000000000
                </pre></div><div class="refsection" id="idm30933"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_SetGeoReference" title="ST_SetGeoReference">ST_SetGeoReference</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>, <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a></p></div></div><div class="refentry" id="RT_ST_SetSRID"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetSRID — Coloca o SRID de um raster em um srid inteiro específico definido na tabela spatial_ref_sys.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetSRID</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">srid</var><code>)</code>;</p></div></div><div class="refsection" id="idm30955"><h2>Descrição</h2><p>Coloca o SRID em um raster para um valor inteiro específico. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função não transforma o raster em forma alguma - simplesmente coloca metadados definindo a referência espacial do sistema de coordenadas referência que está sendo usado. É útil para futuras transformações. </p></td></tr></table></div></div><div class="refsection" id="idm30960"><h2>Veja também</h2><p><a class="xref" href="#spatial_ref_sys" title="4.5. The SPATIAL_REF_SYS Table and Spatial Reference Systems">Section 4.5, “The SPATIAL_REF_SYS Table and Spatial Reference Systems”</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="RT_ST_SetUpperLeft"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetUpperLeft — Sets the value of the upper left corner of the pixel of the raster to projected X and Y coordinates.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetUpperLeft</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">x</var>, double precision  <var class="pdparam">y</var><code>)</code>;</p></div></div><div class="refsection" id="idm30983"><h2>Descrição</h2><p>Set the value of the upper left corner of raster to the projected X and Y coordinates</p></div><div class="refsection" id="idm30986"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_SetUpperLeft(rast,-71.01,42.37)
FROM dummy_rast
WHERE rid = 2;
                    </pre></div><div class="refsection" id="idm30989"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_UpperLeftX" title="ST_UpperLeftX">ST_UpperLeftX</a>, <a class="xref" href="#RT_ST_UpperLeftY" title="ST_UpperLeftY">ST_UpperLeftY</a></p></div></div><div class="refentry" id="RT_ST_Resample"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Resample — Resample um raster usando um algorítimo específico, novas dimensões, um canto aleatório da grade e um conjunto de rasters georreferenciando atributos definidos ou emprestados de outro raster.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Resample</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, double precision  <var class="pdparam">gridx=NULL</var>, double precision  <var class="pdparam">gridy=NULL</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Resample</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">scalex=0</var>, double precision  <var class="pdparam">scaley=0</var>, double precision  <var class="pdparam">gridx=NULL</var>, double precision  <var class="pdparam">gridy=NULL</var>, double precision  <var class="pdparam">skewx=0</var>, double precision  <var class="pdparam">skewy=0</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Resample</strong>(</code>raster  <var class="pdparam">rast</var>, raster  <var class="pdparam">ref</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var>, boolean  <var class="pdparam">usescale=true</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Resample</strong>(</code>raster  <var class="pdparam">rast</var>, raster  <var class="pdparam">ref</var>, boolean  <var class="pdparam">usescale</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p></div></div><div class="refsection" id="idm31096"><h2>Descrição</h2><p>Resample um raster usando um algorítimo específico, novas dimensões (largura &amp; altura), um canto de grade (gradex &amp; gradey) e um conjunto de rasters georreferenciando atributos (scalex, scaley, skewx &amp; skewy) definidos ou emprestados de outro raster. Se estiver utilizando uma referência raster, os dois rasters devem possuir o mesmo SRID.  </p><p>New pixel values are computed using one of the following resampling algorithms:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: bullet; "><li class="listitem" style="list-style-type: disc"><p>NearestNeighbor (english or american spelling)</p></li><li class="listitem" style="list-style-type: disc"><p>Bilinear</p></li><li class="listitem" style="list-style-type: disc"><p>Cubic</p></li><li class="listitem" style="list-style-type: disc"><p>CubicSpline</p></li><li class="listitem" style="list-style-type: disc"><p>Lanczos</p></li><li class="listitem" style="list-style-type: disc"><p>Max</p></li><li class="listitem" style="list-style-type: disc"><p>Min</p></li></ul></div><p>The default is NearestNeighbor which is the fastest but results in the worst interpolation.</p><p>Uma porcentagem maxerror de 0.125 é usada se nenhum <code class="varname">maxerr</code> for especificado.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Recorra a: <a class="link" href="http://www.gdal.org/gdalwarp.html" target="_top">GDAL Warp resampling methods</a> para mais detalhes.  </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0 Requer GDAL 1.6.1+</p><p class="enhanced">Enhanced: 3.4.0 max and min resampling options added</p></div><div class="refsection" id="idm31124"><h2>Exemplos</h2><pre class="programlisting">SELECT
    ST_Width(orig) AS orig_width,
    ST_Width(reduce_100) AS new_width
FROM (
    SELECT
        rast AS orig,
        ST_Resample(rast,100,100) AS reduce_100
    FROM aerials.boston
    WHERE ST_Intersects(rast,
        ST_Transform(
            ST_MakeEnvelope(-71.128, 42.2392,-71.1277, 42.2397, 4326),26986)
    )
    LIMIT 1
) AS foo;

 orig_width | new_width
------------+-------------
        200 |         100
                </pre></div><div class="refsection" id="idm31127"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a>, <a class="xref" href="#RT_ST_Resize" title="ST_Resize">ST_Resize</a>, <a class="xref" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a> </p></div></div><div class="refentry" id="RT_ST_Rescale"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Rescale — Resample a raster by adjusting only its scale (or pixel size). New pixel values are computed using the NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline, Lanczos, Max or Min resampling algorithm. Default is NearestNeighbor. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Rescale</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">scalexy</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Rescale</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p></div></div><div class="refsection" id="idm31172"><h2>Descrição</h2><p>Resample a raster by adjusting only its scale (or pixel size). New pixel values are computed using one of the following resampling algorithms:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: bullet; "><li class="listitem" style="list-style-type: disc"><p>NearestNeighbor (english or american spelling)</p></li><li class="listitem" style="list-style-type: disc"><p>Bilinear</p></li><li class="listitem" style="list-style-type: disc"><p>Cubic</p></li><li class="listitem" style="list-style-type: disc"><p>CubicSpline</p></li><li class="listitem" style="list-style-type: disc"><p>Lanczos</p></li><li class="listitem" style="list-style-type: disc"><p>Max</p></li><li class="listitem" style="list-style-type: disc"><p>Min</p></li></ul></div><p>The default is NearestNeighbor which is the fastest but results in the worst interpolation.</p><p><code class="varname">scalex</code> e <code class="varname">scaley</code> definem o tamanho do pixel. A escalay deve ser, geralmente, negativa para ser um raster bem orientado. </p><p>Quando a nova escalax ou escalay não é divisora da largura ou altura do raster, a extensão do raster resultante é expandido para encerrar a extensão do raster fornecido. Se quiser certificar-se de reter a entrada exata, veja <a class="xref" href="#RT_ST_Resize" title="ST_Resize">ST_Resize</a></p><p><code class="varname">maxerr</code> is the threshold for transformation approximation by the resampling algorithm (in pixel units). A default of 0.125 is used if no <code class="varname">maxerr</code> is specified, which is the same value used in GDAL gdalwarp utility. If set to zero, no approximation takes place.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Recorra a: <a class="link" href="http://www.gdal.org/gdalwarp.html" target="_top">GDAL Warp resampling methods</a> para mais detalhes.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_Rescale é diferente de <a class="xref" href="#RT_ST_SetScale" title="ST_SetScale">ST_SetScale</a> onde a ST_SetScale não resample o raster para combinar com a extensão. A ST_SetScale apenas altera os metadados (ou georreferência) do raster, para corrigir uma escala originalmente mal especificada. A ST_Rescale resulta em um raster tendo largura e altura diferentes, calculadas para caber na extensão geográfica do raster de entrada. A ST_SetScale não modifica a largura, nem a altura do raster.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0 Requer GDAL 1.6.1+</p><p class="enhanced">Enhanced: 3.4.0 max and min resampling options added</p><p class="changed">Alterações: 2.1.0 Funciona em rasters sem SRID</p></div><div class="refsection" id="idm31209"><h2>Exemplos</h2><p>Um exemplo simples de reescalar um raster de um tamanho de pixel de 0.001 grau para um pixel de tamanho 0.0015 grau. </p><pre class="programlisting">-- the original raster pixel size
SELECT ST_PixelWidth(ST_AddBand(ST_MakeEmptyRaster(100, 100, 0, 0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0)) width

   width
----------
0.001

-- the rescaled raster raster pixel size
SELECT ST_PixelWidth(ST_Rescale(ST_AddBand(ST_MakeEmptyRaster(100, 100, 0, 0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0), 0.0015)) width

   width
----------
0.0015
</pre></div><div class="refsection" id="idm31213"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Resize" title="ST_Resize">ST_Resize</a>, <a class="xref" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a>, <a class="xref" href="#RT_ST_SetScale" title="ST_SetScale">ST_SetScale</a>, <a class="xref" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>, <a class="xref" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>, <a class="xref" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a> </p></div></div><div class="refentry" id="RT_ST_Reskew"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Reskew — Resample um raster ajustando somente sua inclinação (ou tamanho de pixel). Novos valores de pixel são calculados usando o algorítimo NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline ou Lanczos. O padrão é NearestNeighbor. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Reskew</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">skewxy</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Reskew</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">skewx</var>, double precision  <var class="pdparam">skewy</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p></div></div><div class="refsection" id="idm31261"><h2>Descrição</h2><p>Resample um raster ajustando somente sua inclinação (ou tamanho de pixel). Novos valores de pixel são calculados usando o algorítimo NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline ou Lanczos. O padrão é NearestNeighbor pois é o mais rápido, mas resulta na pior interpolação. </p><p><code class="varname">skewx</code> e <code class="varname">skewy</code> definem a nova distorção.</p><p>A extensão do novo raster irá encerrar a extensão do raster fornecido. </p><p>Uma porcentagem maxerror de 0.125 se nenhum <code class="varname">maxerr</code> for especificado. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Recorra a: <a class="link" href="http://www.gdal.org/gdalwarp.html" target="_top">GDAL Warp resampling methods</a> para mais detalhes.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_Reskew é diferente de <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a> onde a ST_SetSkew não resample o raster para combinar com a extensão. A ST_SetScale apenas altera os metadados (ou georreferência) do raster, para corrigir uma escala originalmente mal especificada. A ST_Reskew resulta em um raster tendo largura e altura diferentes, calculadas para caber na extensão geográfica do raster de entrada. A ST_SetSkew não modifica a largura, nem a altura do raster.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0 Requer GDAL 1.6.1+</p><p class="changed">Alterações: 2.1.0 Funciona em rasters sem SRID</p></div><div class="refsection" id="idm31278"><h2>Exemplos</h2><p>Um exemplo simples de reskewing um raster de uma inclinação de 0.0 para uma de 0.0015. </p><pre class="programlisting">-- the original raster non-rotated
SELECT ST_Rotation(ST_AddBand(ST_MakeEmptyRaster(100, 100, 0, 0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0));

-- result
0

-- the reskewed raster raster rotation
SELECT ST_Rotation(ST_Reskew(ST_AddBand(ST_MakeEmptyRaster(100, 100, 0, 0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0), 0.0015));

-- result
-0.982793723247329</pre></div><div class="refsection" id="idm31282"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a>, <a class="xref" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a>, <a class="xref" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a>, <a class="xref" href="#RT_ST_SetRotation" title="ST_SetRotation">ST_SetRotation</a>, <a class="xref" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>, <a class="xref" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a>, <a class="xref" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a></p></div></div><div class="refentry" id="RT_ST_SnapToGrid"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SnapToGrid — Resample um raster encaixando-o em uma grade. Novos valores de pixel são calculados usando o algorítimo NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline ou Lanczos. O padrão é NearestNeighbor. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SnapToGrid</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">gridx</var>, double precision  <var class="pdparam">gridy</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var>, double precision  <var class="pdparam">scalex=DEFAULT 0</var>, double precision  <var class="pdparam">scaley=DEFAULT 0</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SnapToGrid</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">gridx</var>, double precision  <var class="pdparam">gridy</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SnapToGrid</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">gridx</var>, double precision  <var class="pdparam">gridy</var>, double precision  <var class="pdparam">scalexy</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p></div></div><div class="refsection" id="idm31367"><h2>Descrição</h2><p>Resample um raster encaixando-o em uma grade definida por um pixel de canto (gridx &amp; gridy) e opcionalmente um tamanho de pixel (scalex &amp; scaley). Novos valores de pixel são calculados usando o algorítimo NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline ou Lanczos. O padrão é NearestNeighbor pois é o mais rápido, mas resulta na pior interpolação. </p><p><code class="varname">gridx</code> e <code class="varname">gridy</code> definem um canto pixel aleatório da nova grade. Não é necessário o canto esquerdo superior do novo raster e não precisa estar dentro do limite da extensão do novo raster. </p><p>You can optionally define the pixel size of the new grid with <code class="varname">scalex</code> and <code class="varname">scaley</code>.</p><p>A extensão do novo raster irá encerrar a extensão do raster fornecido. </p><p>Uma porcentagem maxerror de 0.125 se nenhum <code class="varname">maxerr</code> for especificado. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Recorra a: <a class="link" href="http://www.gdal.org/gdalwarp.html" target="_top">GDAL Warp resampling methods</a> para mais detalhes.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Use <a class="xref" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a> se precisar de mais controle sobre os parâmetros da grade. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0 Requer GDAL 1.6.1+</p><p class="changed">Alterações: 2.1.0 Funciona em rasters sem SRID</p></div><div class="refsection" id="idm31387"><h2>Exemplos</h2><p>Um exemplo simples movendo um raster para um grade um pouco diferente. </p><pre class="programlisting">-- the original raster upper left X
SELECT ST_UpperLeftX(ST_AddBand(ST_MakeEmptyRaster(10, 10, 0, 0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0));
-- result
0

-- the upper left of raster after snapping
SELECT ST_UpperLeftX(ST_SnapToGrid(ST_AddBand(ST_MakeEmptyRaster(10, 10, 0, 0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0), 0.0002, 0.0002));

--result
-0.0008</pre></div><div class="refsection" id="idm31391"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a>, <a class="xref" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a>, <a class="xref" href="#RT_ST_UpperLeftX" title="ST_UpperLeftX">ST_UpperLeftX</a>, <a class="xref" href="#RT_ST_UpperLeftY" title="ST_UpperLeftY">ST_UpperLeftY</a></p></div></div><div class="refentry" id="RT_ST_Resize"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Resize — Redimensiona largura/altura novas para um raster  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Resize</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">width</var>, integer  <var class="pdparam">height</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Resize</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">percentwidth</var>, double precision  <var class="pdparam">percentheight</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Resize</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">width</var>, text  <var class="pdparam">height</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p></div></div><div class="refsection" id="idm31458"><h2>Descrição</h2><p>Redimensiona novas largura/altura para um raster. Elas podem ser especificadas no número exato de pixeis ou uma porcentagem delas. A extensão do novo raster será a mesma da extensão do raster fornecido.  </p><p>Novos valores de pixel são calculados usando o algorítimo NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline ou Lanczos. O padrão é NearestNeighbor por ser mais rápido, porém resulta na pior interpolação.  </p><p>A Variante 1 espera a largura/altura atual do raster de saída.  </p><p>A Variante 2 espera os valores decimais entre zero (0) e um (1) indicando a porcentagem da largura/altura do raster.  </p><p>A Variante 3 pega qualquer largura/altura do raster de saída ou uma porcentagem textual ("20%") indicando a porcentagem da largura/altura do raster de entrada.  </p><p class="availability">Disponibilidade: 2.1.0 Requer GDAL 1.6.1+</p></div><div class="refsection" id="idm31466"><h2>Exemplos</h2><pre class="programlisting">WITH foo AS(
SELECT
    1 AS rid,
    ST_Resize(
        ST_AddBand(
            ST_MakeEmptyRaster(1000, 1000, 0, 0, 1, -1, 0, 0, 0)
            , 1, '8BUI', 255, 0
        )
    , '50%', '500') AS rast
UNION ALL
SELECT
    2 AS rid,
    ST_Resize(
        ST_AddBand(
            ST_MakeEmptyRaster(1000, 1000, 0, 0, 1, -1, 0, 0, 0)
            , 1, '8BUI', 255, 0
        )
    , 500, 100) AS rast
UNION ALL
SELECT
    3 AS rid,
    ST_Resize(
        ST_AddBand(
            ST_MakeEmptyRaster(1000, 1000, 0, 0, 1, -1, 0, 0, 0)
            , 1, '8BUI', 255, 0
        )
    , 0.25, 0.9) AS rast
), bar AS (
    SELECT rid, ST_Metadata(rast) AS meta, rast FROM foo
)
SELECT rid, (meta).* FROM bar

 rid | upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands
-----+------------+------------+-------+--------+--------+--------+-------+-------+------+----------
   1 |          0 |          0 |   500 |    500 |      1 |     -1 |     0 |     0 |    0 |        1
   2 |          0 |          0 |   500 |    100 |      1 |     -1 |     0 |     0 |    0 |        1
   3 |          0 |          0 |   250 |    900 |      1 |     -1 |     0 |     0 |    0 |        1
(3 rows)
                </pre></div><div class="refsection" id="idm31469"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a>, <a class="xref" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a>, <a class="xref" href="#RT_ST_Reskew" title="ST_Reskew">ST_Reskew</a>, <a class="xref" href="#RT_ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a> </p></div></div><div class="refentry" id="RT_ST_Transform"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Transform — Reprojeta um raster em um sistema de referência espacial conhecido para outro usando um algorítimo resampling especificado. As opções são NearestNeighbor, Bilinear, Cubic, CubicSpline, Lanczos com o padrão sendo NearestNeighbor. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Transform</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">srid</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Transform</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">srid</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Transform</strong>(</code>raster  <var class="pdparam">rast</var>, raster  <var class="pdparam">alignto</var>, text  <var class="pdparam">algorithm=NearestNeighbor</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p></div></div><div class="refsection" id="idm31539"><h2>Descrição</h2><p>Reprojeta um raster em um sistema de referência espacial conhecido para outro usando um algorítimo pixel warping especificado. Usa "NearestNeighbor" se nenhum algorítimo for especificado e a porcentagem maxerror de 0.125 se nenhum maxerr for especificado. </p><p>As opções de algorítimo são: 'NearestNeighbor', 'Bilinear', 'Cubic', 'CubicSpline', e 'Lanczos'. Recorra a: <a class="link" href="http://www.gdal.org/gdalwarp.html" target="_top">GDAL Warp resampling methods</a> para mais detalhes.</p><p>Geralmente, aST_Transform confundida com a  ST_SetSRID(). Na verdade, a ST_Transform modifica as coordenadas de um raster (e resample os valores do pixel) de um sistema de referência espacial para outro, enquanto a ST_SetSRID() só altera o identificador de SRID do raster.  </p><p>Diferente das outras variantes, a 3 requer um raster referência como <code class="varname">alignto</code>. O raster transformado será alterado para o sistema de referência espacial (SRID) do raster referência e será alinhado (ST_SameAlignment = VERDADE) ao raster referência.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If you find your transformation support is not working right, you may need to set the environment variable PROJSO to the .so or .dll projection library your PostGIS is using. This just needs to have the name of the file. So for example on windows, you would in Control Panel -&gt; System -&gt; Environment Variables add a system variable called <code class="varname">PROJSO</code> and set it to <code class="varname">libproj.dll</code> (if you are using proj 4.6.1). You'll have to restart your PostgreSQL service/daemon after this change. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>When transforming a coverage of tiles, you almost always want to use a reference raster to insure same alignment and no gaps in your tiles as demonstrated in example: Variant 3. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0 Requer GDAL 1.6.1+</p><p class="enhanced">Melhorias: 2.1.0 Adição da variante ST_Transform(rast, alignto)  </p></div><div class="refsection" id="idm31555"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_Width(mass_stm) As w_before, ST_Width(wgs_84) As w_after,
  ST_Height(mass_stm) As h_before, ST_Height(wgs_84) As h_after
    FROM
    ( SELECT rast As mass_stm, ST_Transform(rast,4326) As wgs_84
  ,  ST_Transform(rast,4326, 'Bilinear') AS wgs_84_bilin
        FROM aerials.o_2_boston
            WHERE ST_Intersects(rast,
                ST_Transform(ST_MakeEnvelope(-71.128, 42.2392,-71.1277, 42.2397, 4326),26986) )
        LIMIT 1) As foo;

 w_before | w_after | h_before | h_after
----------+---------+----------+---------
      200 |     228 |      200 |     170
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/rt_st_transform01.png"/><div class="caption"><p>original mass state plane meters (mass_stm)</p></div></div></div>
         </td><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/rt_st_transform02.png"/><div class="caption"><p>Depois transforma para wgs 84 long lat (wgs_84)</p></div></div></div>
         </td><td><div class="informalfigure"><div class="mediaobject"><img src="images/rt_st_transform03.png"/><div class="caption"><p>Depois transforma para wgs 84 long lat algorítimo bilinear em vez do padrão NN (wgs_84_bilin)</p></div></div></div>
         </td></tr></tbody></table></div></div><div class="refsection" id="idm31586"><h2>Exemplos: Variante 3</h2><p>A seguir está a diferença entre usar ST_Transform(raster, srid) e ST_Transform(raster, alignto)</p><pre class="programlisting">WITH foo AS (
    SELECT 0 AS rid, ST_AddBand(ST_MakeEmptyRaster(2, 2, -500000, 600000, 100, -100, 0, 0, 2163), 1, '16BUI', 1, 0) AS rast UNION ALL
    SELECT 1, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499800, 600000, 100, -100, 0, 0, 2163), 1, '16BUI', 2, 0) AS rast UNION ALL
    SELECT 2, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499600, 600000, 100, -100, 0, 0, 2163), 1, '16BUI', 3, 0) AS rast UNION ALL

    SELECT 3, ST_AddBand(ST_MakeEmptyRaster(2, 2, -500000, 599800, 100, -100, 0, 0, 2163), 1, '16BUI', 10, 0) AS rast UNION ALL
    SELECT 4, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499800, 599800, 100, -100, 0, 0, 2163), 1, '16BUI', 20, 0) AS rast UNION ALL
    SELECT 5, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499600, 599800, 100, -100, 0, 0, 2163), 1, '16BUI', 30, 0) AS rast UNION ALL

    SELECT 6, ST_AddBand(ST_MakeEmptyRaster(2, 2, -500000, 599600, 100, -100, 0, 0, 2163), 1, '16BUI', 100, 0) AS rast UNION ALL
    SELECT 7, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499800, 599600, 100, -100, 0, 0, 2163), 1, '16BUI', 200, 0) AS rast UNION ALL
    SELECT 8, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499600, 599600, 100, -100, 0, 0, 2163), 1, '16BUI', 300, 0) AS rast
), bar AS (
    SELECT
        ST_Transform(rast, 4269) AS alignto
    FROM foo
    LIMIT 1
), baz AS (
    SELECT
        rid,
        rast,
        ST_Transform(rast, 4269) AS not_aligned,
        ST_Transform(rast, alignto) AS aligned
    FROM foo
    CROSS JOIN bar
)
SELECT
    ST_SameAlignment(rast) AS rast,
    ST_SameAlignment(not_aligned) AS not_aligned,
    ST_SameAlignment(aligned) AS aligned
FROM baz

 rast | not_aligned | aligned
------+-------------+---------
 t    | f           | t
                </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/rt_st_transform04.png"/><div class="caption"><p>not_aligned</p></div></div></div><p>
                          </p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/rt_st_transform05.png"/><div class="caption"><p>aligned</p></div></div></div><p>
                        </p></td></tr></tbody></table></div></div><div class="refsection" id="idm31610"><h2>Veja também</h2><p><a class="xref" href="#ST_Transform" title="ST_Transform">ST_Transform</a>, <a class="xref" href="#RT_ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a></p></div></div></section><section class="section" id="RasterBand_Editors"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.8. Editores de Banda Raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_SetBandNoDataValue">ST_SetBandNoDataValue</a></span><span class="refpurpose"> — Coloca o valor da banda que não representa nenhum dado. A banda 1 é assumida se nenhuma banda for especificada. Para marcar uma banda como tendo nenhum valor nodata, coloca ele = NULL. </span></li><li><span class="refentrytitle"><a href="#RT_ST_SetBandIsNoData">ST_SetBandIsNoData</a></span><span class="refpurpose"> — Coloca a bandeira isnodata da banda como VERDADE. </span></li><li><span class="refentrytitle"><a href="#RT_ST_SetBandPath">ST_SetBandPath</a></span><span class="refpurpose"> — Update the external path and band number of an out-db band</span></li><li><span class="refentrytitle"><a href="#RT_ST_SetBandIndex">ST_SetBandIndex</a></span><span class="refpurpose"> — Update the external band number of an out-db band</span></li></ul></div><div class="refentry" id="RT_ST_SetBandNoDataValue"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetBandNoDataValue — Coloca o valor da banda que não representa nenhum dado. A banda 1 é assumida se nenhuma banda for especificada. Para marcar uma banda como tendo nenhum valor nodata, coloca ele = NULL. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetBandNoDataValue</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">nodatavalue</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_SetBandNoDataValue</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, double precision  <var class="pdparam">nodatavalue</var>, boolean  <var class="pdparam">forcechecking=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm31647"><h2>Descrição</h2><p>Coloca o valor que não representa nenhum dado para a banda. A banda 1 é assumida se não especificada. Isso irá afetar os resultados de <a class="xref" href="#RT_ST_Polygon" title="ST_Polygon">ST_Polygon</a>, <a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>, e as funções ST_PixelAs...().</p></div><div class="refsection" id="idm31652"><h2>Exemplos</h2><pre class="programlisting">-- change just first band no data value
UPDATE dummy_rast
    SET rast = ST_SetBandNoDataValue(rast,1, 254)
WHERE rid = 2;

-- change no data band value of bands 1,2,3
UPDATE dummy_rast
    SET rast =
        ST_SetBandNoDataValue(
            ST_SetBandNoDataValue(
                ST_SetBandNoDataValue(
                    rast,1, 254)
                ,2,99),
                3,108)
        WHERE rid = 2;

-- wipe out the nodata value this will ensure all pixels are considered for all processing functions
UPDATE dummy_rast
    SET rast = ST_SetBandNoDataValue(rast,1, NULL)
WHERE rid = 2;
                    </pre></div><div class="refsection" id="idm31655"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_BandNoDataValue" title="ST_BandNoDataValue">ST_BandNoDataValue</a>, <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a></p></div></div><div class="refentry" id="RT_ST_SetBandIsNoData"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetBandIsNoData — Coloca a bandeira isnodata da banda como VERDADE. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetBandIsNoData</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm31675"><h2>Descrição</h2><p>Coloca a bandeira isnodata para a banda como verdade. A banda 1 é assumida se não especificada. Esta função deveria ser chamada apenas quando a bandeira for considerada suja. Isto é, quando a chamada resultado <a class="xref" href="#RT_ST_BandIsNoData" title="ST_BandIsNoData">ST_BandIsNoData</a> for diferente usando VERDADEIRO como último argumento e sem usá-lo. </p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm31680"><h2>Exemplos</h2><pre class="programlisting">-- Create dummy table with one raster column
create table dummy_rast (rid integer, rast raster);

-- Add raster with two bands, one pixel/band. In the first band, nodatavalue = pixel value = 3.
-- In the second band, nodatavalue = 13, pixel value = 4
insert into dummy_rast values(1,
(
'01' -- little endian (uint8 ndr)
||
'0000' -- version (uint16 0)
||
'0200' -- nBands (uint16 0)
||
'17263529ED684A3F' -- scaleX (float64 0.000805965234044584)
||
'F9253529ED684ABF' -- scaleY (float64 -0.00080596523404458)
||
'1C9F33CE69E352C0' -- ipX (float64 -75.5533328537098)
||
'718F0E9A27A44840' -- ipY (float64 49.2824585505576)
||
'ED50EB853EC32B3F' -- skewX (float64 0.000211812383858707)
||
'7550EB853EC32B3F' -- skewY (float64 0.000211812383858704)
||
'E6100000' -- SRID (int32 4326)
||
'0100' -- width (uint16 1)
||
'0100' -- height (uint16 1)
||
'4' -- hasnodatavalue set to true, isnodata value set to false (when it should be true)
||
'2' -- first band type (4BUI)
||
'03' -- novalue==3
||
'03' -- pixel(0,0)==3 (same that nodata)
||
'0' -- hasnodatavalue set to false
||
'5' -- second band type (16BSI)
||
'0D00' -- novalue==13
||
'0400' -- pixel(0,0)==4
)::raster
);

select st_bandisnodata(rast, 1) from dummy_rast where rid = 1; -- Expected false
select st_bandisnodata(rast, 1, TRUE) from dummy_rast where rid = 1; -- Expected true

-- The isnodata flag is dirty. We are going to set it to true
update dummy_rast set rast = st_setbandisnodata(rast, 1) where rid = 1;


select st_bandisnodata(rast, 1) from dummy_rast where rid = 1; -- Expected true

                    </pre></div><div class="refsection" id="idm31683"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_BandNoDataValue" title="ST_BandNoDataValue">ST_BandNoDataValue</a>, <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a>, <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a>, <a class="xref" href="#RT_ST_BandIsNoData" title="ST_BandIsNoData">ST_BandIsNoData</a></p></div></div><div class="refentry" id="RT_ST_SetBandPath"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetBandPath — Update the external path and band number of an out-db band</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetBandPath</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, text  <var class="pdparam">outdbpath</var>, integer  <var class="pdparam">outdbindex</var>, boolean  <var class="pdparam">force=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm31714"><h2>Descrição</h2><p>Updates an out-db band's external raster file path and external band number.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If <code class="varname">force</code> is set to true, no tests are done to ensure compatibility (e.g. alignment, pixel support) between the external raster file and the PostGIS raster. This mode is intended for file system changes where the external raster resides. </p></td></tr></table></div><p class="availability">Availability: 2.5.0</p></div><div class="refsection" id="idm31721"><h2>Exemplos</h2><pre class="programlisting">WITH foo AS (
    SELECT
        ST_AddBand(NULL::raster, '/home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif', NULL::int[]) AS rast
)
SELECT
    1 AS query,
    *
FROM ST_BandMetadata(
    (SELECT rast FROM foo),
    ARRAY[1,3,2]::int[]
)
UNION ALL
SELECT
    2,
    *
FROM ST_BandMetadata(
    (
        SELECT
            <span class="strong"><strong>ST_SetBandPath(
                rast,
                2,
                '/home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected2.tif',
                1
            )</strong></span> AS rast
        FROM foo
    ),
    ARRAY[1,3,2]::int[]
)
ORDER BY 1, 2;

 query | bandnum | pixeltype | nodatavalue | isoutdb |                                      path                                       | outdbbandnum
-------+---------+-----------+-------------+---------+---------------------------------------------------------------------------------+--------------
     1 |       1 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            1
     1 |       2 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            2
     1 |       3 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            3
     2 |       1 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            1
<span class="strong"><strong>     2 |       2 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected2.tif      |            1</strong></span>
     2 |       3 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            3
                </pre></div><div class="refsection" id="idm31726"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a>, <a class="xref" href="#RT_ST_SetBandIndex" title="ST_SetBandIndex">ST_SetBandIndex</a> </p></div></div><div class="refentry" id="RT_ST_SetBandIndex"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SetBandIndex — Update the external band number of an out-db band</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_SetBandIndex</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, integer  <var class="pdparam">outdbindex</var>, boolean  <var class="pdparam">force=false</var><code>)</code>;</p></div></div><div class="refsection" id="idm31752"><h2>Descrição</h2><p>Updates an out-db band's external band number. This does not touch the external raster file associated with the out-db band</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If <code class="varname">force</code> is set to true, no tests are done to ensure compatibility (e.g. alignment, pixel support) between the external raster file and the PostGIS raster. This mode is intended for where bands are moved around in the external raster file. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Internally, this method replaces the PostGIS raster's band at index <code class="varname">band</code> with a new band instead of updating the existing path information. </p></td></tr></table></div><p class="availability">Availability: 2.5.0</p></div><div class="refsection" id="idm31762"><h2>Exemplos</h2><pre class="programlisting">WITH foo AS (
    SELECT
        ST_AddBand(NULL::raster, '/home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif', NULL::int[]) AS rast
)
SELECT
    1 AS query,
    *
FROM ST_BandMetadata(
    (SELECT rast FROM foo),
    ARRAY[1,3,2]::int[]
)
UNION ALL
SELECT
    2,
    *
FROM ST_BandMetadata(
    (
        SELECT
            <span class="strong"><strong>ST_SetBandIndex(
                rast,
                2,
                1
            )</strong></span> AS rast
        FROM foo
    ),
    ARRAY[1,3,2]::int[]
)
ORDER BY 1, 2;

 query | bandnum | pixeltype | nodatavalue | isoutdb |                                      path                                       | outdbbandnum
-------+---------+-----------+-------------+---------+---------------------------------------------------------------------------------+--------------
     1 |       1 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            1
     1 |       2 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            2
     1 |       3 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            3
     2 |       1 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            1
<span class="strong"><strong>     2 |       2 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            1</strong></span>
     2 |       3 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/Projected.tif       |            3
                </pre></div><div class="refsection" id="idm31767"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a>, <a class="xref" href="#RT_ST_SetBandPath" title="ST_SetBandPath">ST_SetBandPath</a> </p></div></div></section><section class="section" id="RasterBand_Stats"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.9. Análises e Estatísticas de Banda Raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_Count">ST_Count</a></span><span class="refpurpose"> — Retorna o número de pixeis em uma banda dada de um raster ou cobertura raster. Se nenhuma banda for especificada, o padrão é usar a banda 1. Se exclude_nodata_value for verdade, contará somente pixeis que não são iguais ao valor nodata. </span></li><li><span class="refentrytitle"><a href="#RT_ST_CountAgg">ST_CountAgg</a></span><span class="refpurpose"> — Agregado. Retorna o número de pixeis em uma banda dada de um raster ou cobertura raster. Se nenhuma banda for especificada, o padrão é usar a banda 1. Se exclude_nodata_value for verdade, contará somente pixeis que são diferentes ao valor NODATA.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_Histogram">ST_Histogram</a></span><span class="refpurpose"> — Retorna um conjunto de registros que resumem um raster ou distribuição de dados de cobertura raster intervalos bin separados. O número de bins é auto calculado. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Quantile">ST_Quantile</a></span><span class="refpurpose"> — Calcula quantiles para um raster ou cobertura de tabela raster no contexto da amostra ou população. Assim, um valor poderia ser examinado para estar na porcentagem 25%, 50%, 75% do raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_SummaryStats">ST_SummaryStats</a></span><span class="refpurpose"> — Retorna as estatísticas resumidas consistindo de count, sum, mean, stddev, min, max para uma dada banda raster de um raster ou cobertura raster. A banda 1 é assumida se nenhuma banda for especificada. </span></li><li><span class="refentrytitle"><a href="#RT_ST_SummaryStatsAgg">ST_SummaryStatsAgg</a></span><span class="refpurpose"> — Agregado. Retorna as estatísticas resumidas consistindo de count, sum, mean, stddev, min, max para uma dada banda raster de um conjunto de rasters. A banda 1 é assumida se nenhuma banda for especificada. </span></li><li><span class="refentrytitle"><a href="#RT_ST_ValueCount">ST_ValueCount</a></span><span class="refpurpose"> — Retorna o conjunto de registros contendo uma banda pixel de valor e conta do número de pixeis em uma dada banda de um raster (ou uma cobertura raster) que tem um dado conjunto de valores. Usa-se a banda 1 se nenhuma for especificada. Por padrão pixeis de valor nodata não são contados. Todos os outros valores no pixel são saída e os valores de pixeis são arredondados para o inteiro mais próximo. </span></li></ul></div><div class="refentry" id="RT_ST_Count"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Count — Retorna o número de pixeis em uma banda dada de um raster ou cobertura raster. Se nenhuma banda for especificada, o padrão é usar a banda 1. Se exclude_nodata_value for verdade, contará somente pixeis que não são iguais ao valor nodata. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bigint <strong class="fsfunc">ST_Count</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband=1</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_Count</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">exclude_nodata_value</var><code>)</code>;</p></div></div><div class="refsection" id="idm31801"><h2>Descrição</h2><p>Retorna o número de pixeis em uma banda de um raster ou cobertura raster. Se nenhuma banda foi especificada <code class="varname">nband</code> usa-se 1.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se <code class="varname">exclude_nodata_value</code> for verdade, contará apenas pixeis com valor diferente do valor <code class="varname">nodata</code> do raster. <code class="varname">exclude_nodata_value</code> é falso para contar todos os pixeis. </p></td></tr></table></div><p class="changed">As variantes ST_Count(rastertable, rastercolumn, ...) são deprecadas como da 2.2.0. Ao contrário, use: <a class="xref" href="#RT_ST_CountAgg" title="ST_CountAgg">ST_CountAgg</a>. </p><p class="availability">Disponibilidade: 2.0.0 </p></div><div class="refsection" id="idm31813"><h2>Exemplos</h2><pre class="programlisting">--example will count all pixels not 249 and one will count all pixels.  --
SELECT rid, ST_Count(ST_SetBandNoDataValue(rast,249)) As exclude_nodata,
        ST_Count(ST_SetBandNoDataValue(rast,249),false) As include_nodata
    FROM dummy_rast WHERE rid=2;

rid | exclude_nodata | include_nodata
-----+----------------+----------------
   2 |             23 |             25
                </pre></div><div class="refsection" id="idm31816"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_CountAgg" title="ST_CountAgg">ST_CountAgg</a>, <a class="xref" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a>, <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a> </p></div></div><div class="refentry" id="RT_ST_CountAgg"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CountAgg — Agregado. Retorna o número de pixeis em uma banda dada de um raster ou cobertura raster. Se nenhuma banda for especificada, o padrão é usar a banda 1. Se exclude_nodata_value for verdade, contará somente pixeis que são diferentes ao valor NODATA.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bigint <strong class="fsfunc">ST_CountAgg</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, double precision  <var class="pdparam">sample_percent</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_CountAgg</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_CountAgg</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">exclude_nodata_value</var><code>)</code>;</p></div></div><div class="refsection" id="idm31864"><h2>Descrição</h2><p>Retorna o número de pixeis em uma banda de um conjunto de rasters. Se nenhuma banda foi especificada <code class="varname">nband</code> usa-se 1. </p><p>Se <code class="varname">exclude_nodata_value</code> for verdade, contará apenas pixeis com valor diferente do valor <code class="varname">NODATA</code> do raster. <code class="varname">exclude_nodata_value</code> é falso para contar todos os pixeis.  </p><p>Por padrão irá tomar todos os pixeis. Para obter uma resposta mais rápida, coloque <code class="varname">sample_percent</code> no valor entre zero (0) e um (1)</p><p class="availability">Disponibilidade: 2.2.0 </p></div><div class="refsection" id="idm31875"><h2>Exemplos</h2><pre class="programlisting">WITH foo AS (
    SELECT
        rast.rast
    FROM (
        SELECT ST_SetValue(
            ST_SetValue(
                ST_SetValue(
                    ST_AddBand(
                        ST_MakeEmptyRaster(10, 10, 10, 10, 2, 2, 0, 0,0)
                        , 1, '64BF', 0, 0
                    )
                    , 1, 1, 1, -10
                )
                , 1, 5, 4, 0
            )
            , 1, 5, 5, 3.14159
        ) AS rast
    ) AS rast
    FULL JOIN (
        SELECT generate_series(1, 10) AS id
    ) AS id
        ON 1 = 1
)
SELECT
    ST_CountAgg(rast, 1, TRUE)
FROM foo;

 st_countagg
-------------
          20
(1 row)
                </pre></div><div class="refsection" id="idm31878"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Count" title="ST_Count">ST_Count</a>, <a class="xref" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a>, <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a> </p></div></div><div class="refentry" id="RT_ST_Histogram"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Histogram — Retorna um conjunto de registros que resumem um raster ou distribuição de dados de cobertura raster intervalos bin separados. O número de bins é auto calculado. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_Histogram</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband=1</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var>, integer  <var class="pdparam">bins=autocomputed</var>, double precision[]  <var class="pdparam">width=NULL</var>, boolean  <var class="pdparam">right=false</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_Histogram</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">bins</var>, double precision[]  <var class="pdparam">width=NULL</var>, boolean  <var class="pdparam">right=false</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_Histogram</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, integer  <var class="pdparam">bins</var>, boolean  <var class="pdparam">right</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_Histogram</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">bins</var>, boolean  <var class="pdparam">right</var><code>)</code>;</p></div></div><div class="refsection" id="idm31962"><h2>Descrição</h2><p>retorna um conjunto de registros de porcentagens min, max, count, para uma banda raster dada para cada bin. Se nenhuma banda for especificada <code class="varname">nband</code> usa-se 1.   </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Por padrão só considera valores de pixeis diferentes do valor <code class="varname">nodata</code>. <code class="varname">exclude_nodata_value</code> é falso para contar todos os pixeis.  </p></td></tr></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">width</code></span></dt><dd><p>largura: um arranjo indicando a largura de cada categoria/bin. Se o número de bins for maior que o número de larguras, elas são repetidas.  </p><p>Exemplo: 9 bins, larguras são [a, b, c] terão a saída como [a, b, c, a, b, c, a, b, c]</p></dd><dt><span class="term"><code class="varname">bins</code></span></dt><dd><p>Número de fugas -- este é o número de registros que terá de volta da função especificada. Se não especificado, o número de fugas é auto calculado. </p></dd><dt><span class="term"><code class="varname">right</code></span></dt><dd><p>calcula o histograma da direita ao invés do da esquerda (padrão). Isto altera o critério de avaliar um valor x de [a, b) para (a, b]</p></dd></dl></div><p class="changed">Changed: 3.1.0 Removed ST_Histogram(table_name, column_name) variant. </p><p class="availability">Disponibilidade: 2.0.0 </p></div><div class="refsection" id="idm31989"><h2>Exemplo: Única raster tile - calcula histogramas para bandas 1, 2, 3 e auto calcula bins. </h2><pre class="programlisting">SELECT band, (stats).*
FROM (SELECT rid, band, ST_Histogram(rast, band) As stats
    FROM dummy_rast CROSS JOIN generate_series(1,3) As band
     WHERE rid=2) As foo;

 band |  min  |  max  | count | percent
------+-------+-------+-------+---------
    1 |   249 |   250 |     2 |    0.08
    1 |   250 |   251 |     2 |    0.08
    1 |   251 |   252 |     1 |    0.04
    1 |   252 |   253 |     2 |    0.08
    1 |   253 |   254 |    18 |    0.72
    2 |    78 | 113.2 |    11 |    0.44
    2 | 113.2 | 148.4 |     4 |    0.16
    2 | 148.4 | 183.6 |     4 |    0.16
    2 | 183.6 | 218.8 |     1 |    0.04
    2 | 218.8 |   254 |     5 |     0.2
    3 |    62 | 100.4 |    11 |    0.44
    3 | 100.4 | 138.8 |     5 |     0.2
    3 | 138.8 | 177.2 |     4 |    0.16
    3 | 177.2 | 215.6 |     1 |    0.04
    3 | 215.6 |   254 |     4 |    0.16</pre></div><div class="refsection" id="idm31992"><h2>Exemplo: Apenas banda 2 mas para 6 bins </h2><pre class="programlisting">SELECT (stats).*
FROM (SELECT rid, ST_Histogram(rast, 2,6) As stats
    FROM dummy_rast
     WHERE rid=2) As foo;

    min     |    max     | count | percent
------------+------------+-------+---------
         78 | 107.333333 |     9 |    0.36
 107.333333 | 136.666667 |     6 |    0.24
 136.666667 |        166 |     0 |       0
        166 | 195.333333 |     4 |    0.16
 195.333333 | 224.666667 |     1 |    0.04
 224.666667 |        254 |     5 |     0.2
(6 rows)

-- Same as previous but we explicitly control the pixel value range of each bin.
SELECT (stats).*
FROM (SELECT rid, ST_Histogram(rast, 2,6,ARRAY[0.5,1,4,100,5]) As stats
    FROM dummy_rast
     WHERE rid=2) As foo;

  min  |  max  | count | percent
-------+-------+-------+----------
    78 |  78.5 |     1 |     0.08
  78.5 |  79.5 |     1 |     0.04
  79.5 |  83.5 |     0 |        0
  83.5 | 183.5 |    17 |   0.0068
 183.5 | 188.5 |     0 |        0
 188.5 |   254 |     6 | 0.003664
(6 rows)</pre></div><div class="refsection" id="idm31995"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Count" title="ST_Count">ST_Count</a>, <a class="xref" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a>, <a class="xref" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a> </p></div></div><div class="refentry" id="RT_ST_Quantile"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Quantile — Calcula quantiles para um raster ou cobertura de tabela raster no contexto da amostra ou população. Assim, um valor poderia ser examinado para estar na porcentagem 25%, 50%, 75% do raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband=1</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var>, double precision[]  <var class="pdparam">quantiles=NULL</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, double precision[]  <var class="pdparam">quantiles</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, double precision[]  <var class="pdparam">quantiles</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">quantile</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, double precision  <var class="pdparam">quantile=NULL</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, double precision  <var class="pdparam">quantile</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, double precision  <var class="pdparam">quantile</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Quantile</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, double precision  <var class="pdparam">quantile</var><code>)</code>;</p></div></div><div class="refsection" id="idm32103"><h2>Descrição</h2><p>Calcula quantiles para um raster ou cobertura de tabela raster no contexto da amostra ou população. Assim, um valor poderia ser examinado para estar na porcentagem 25%, 50%, 75% do raster.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se <code class="varname">exclude_nodata_value</code> for falso, contará também pixeis sem dados. </p></td></tr></table></div><p class="changed">Changed: 3.1.0 Removed ST_Quantile(table_name, column_name) variant. </p><p class="availability">Disponibilidade: 2.0.0 </p></div><div class="refsection" id="idm32111"><h2>Exemplos</h2><pre class="programlisting">UPDATE dummy_rast SET rast = ST_SetBandNoDataValue(rast,249) WHERE rid=2;
--Example will consider only pixels of band 1 that are not 249 and in named quantiles --

SELECT (pvq).*
FROM (SELECT ST_Quantile(rast, ARRAY[0.25,0.75]) As pvq
    FROM dummy_rast WHERE rid=2) As foo
    ORDER BY (pvq).quantile;

 quantile | value
----------+-------
     0.25 |   253
     0.75 |   254

SELECT ST_Quantile(rast, 0.75) As value
    FROM dummy_rast WHERE rid=2;

value
------
  254
</pre><pre class="programlisting">--real live example.  Quantile of all pixels in band 2 intersecting a geometry
SELECT rid, (ST_Quantile(rast,2)).* As pvc
    FROM o_4_boston
        WHERE ST_Intersects(rast,
            ST_GeomFromText('POLYGON((224486 892151,224486 892200,224706 892200,224706 892151,224486 892151))',26986)
            )
ORDER BY value, quantile,rid
;


 rid | quantile | value
-----+----------+-------
   1 |        0 |     0
   2 |        0 |     0
  14 |        0 |     1
  15 |        0 |     2
  14 |     0.25 |    37
   1 |     0.25 |    42
  15 |     0.25 |    47
   2 |     0.25 |    50
  14 |      0.5 |    56
   1 |      0.5 |    64
  15 |      0.5 |    66
   2 |      0.5 |    77
  14 |     0.75 |    81
  15 |     0.75 |    87
   1 |     0.75 |    94
   2 |     0.75 |   106
  14 |        1 |   199
   1 |        1 |   244
   2 |        1 |   255
  15 |        1 |   255
</pre></div><div class="refsection" id="idm32115"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Count" title="ST_Count">ST_Count</a>, <a class="xref" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a>, <a class="xref" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a>, <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a> </p></div></div><div class="refentry" id="RT_ST_SummaryStats"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SummaryStats — Retorna as estatísticas resumidas consistindo de count, sum, mean, stddev, min, max para uma dada banda raster de um raster ou cobertura raster. A banda 1 é assumida se nenhuma banda for especificada. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">summarystats <strong class="fsfunc">ST_SummaryStats</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">exclude_nodata_value</var><code>)</code>;</p><p><code class="funcdef">summarystats <strong class="fsfunc">ST_SummaryStats</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var><code>)</code>;</p></div></div><div class="refsection" id="idm32149"><h2>Descrição</h2><p>Retorna <a class="xref" href="#summarystats" title="summarystats">summarystats</a> consistindo de count, sum, mean, stddev, min, max para uma dada banda raster de um raster ou cobertura raster. Se nenhuma banda for especificada <code class="varname">nband</code> usa-se a 1. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Por padrão só considera valores de pixeis diferentes do valor <code class="varname">nodata</code>. <code class="varname">exclude_nodata_value</code> é falso para contar todos os pixeis.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Por padrão irá tomar todos os pixeis. Para obter uma resposta mais rápida, use <code class="varname">sample_percent</code> para menor que 1</p></td></tr></table></div><p class="changed">As variantes ST_SummaryStats(rastertable, rastercolumn, ...) são deprecadas como da 2.2.0. Ao contrário, use: <a class="xref" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a>.  </p><p class="availability">Disponibilidade: 2.0.0 </p></div><div class="refsection" id="idm32164"><h2>Exemplo: Única tile raster </h2><pre class="programlisting">SELECT rid, band, (stats).*
FROM (SELECT rid, band, ST_SummaryStats(rast, band) As stats
    FROM dummy_rast CROSS JOIN generate_series(1,3) As band
     WHERE rid=2) As foo;

 rid | band | count | sum  |    mean    |  stddev   | min | max
-----+------+-------+------+------------+-----------+-----+-----
   2 |    1 |    23 | 5821 | 253.086957 |  1.248061 | 250 | 254
   2 |    2 |    25 | 3682 |     147.28 | 59.862188 |  78 | 254
   2 |    3 |    25 | 3290 |      131.6 | 61.647384 |  62 | 254
                </pre></div><div class="refsection" id="idm32167"><h2>Exemplo: Resuma pixeis que intersectam construções de interesse </h2><p>Este exemplo tomou 574ms no PostGIS windows 64-bit com todas as construções de Boston e tiles aéreas (cada uma com 150x150 pixeis ~ 134,000 tiles), ~102,000 registros de construções</p><pre class="programlisting">
WITH
-- our features of interest
   feat AS (SELECT gid As building_id, geom_26986 As geom FROM buildings AS b
    WHERE gid IN(100, 103,150)
   ),
-- clip band 2 of raster tiles to boundaries of builds
-- then get stats for these clipped regions
   b_stats AS
    (SELECT  building_id, (stats).*
FROM (SELECT building_id, ST_SummaryStats(ST_Clip(rast,2,geom)) As stats
    FROM aerials.boston
        INNER JOIN feat
    ON ST_Intersects(feat.geom,rast)
 ) As foo
 )
-- finally summarize stats
SELECT building_id, SUM(count) As num_pixels
  , MIN(min) As min_pval
  ,  MAX(max) As max_pval
  , SUM(mean*count)/SUM(count) As avg_pval
    FROM b_stats
 WHERE count 
&gt; 0
    GROUP BY building_id
    ORDER BY building_id;
 building_id | num_pixels | min_pval | max_pval |     avg_pval
-------------+------------+----------+----------+------------------
         100 |       1090 |        1 |      255 | 61.0697247706422
         103 |        655 |        7 |      182 | 70.5038167938931
         150 |        895 |        2 |      252 | 185.642458100559
</pre></div><div class="refsection" id="idm32171"><h2>Exemplo: Cobertura raster</h2><pre class="programlisting">-- stats for each band --
SELECT band, (stats).*
FROM (SELECT band, ST_SummaryStats('o_4_boston','rast', band) As stats
    FROM generate_series(1,3) As band) As foo;

 band |  count  |  sum   |       mean       |      stddev      | min | max
------+---------+--------+------------------+------------------+-----+-----
    1 | 8450000 | 725799 | 82.7064349112426 | 45.6800222638537 |   0 | 255
    2 | 8450000 | 700487 | 81.4197705325444 | 44.2161184161765 |   0 | 255
    3 | 8450000 | 575943 |  74.682739408284 | 44.2143885481407 |   0 | 255

-- For a table -- will get better speed if set sampling to less than 100%
-- Here we set to 25% and get a much faster answer
SELECT band, (stats).*
FROM (SELECT band, ST_SummaryStats('o_4_boston','rast', band,true,0.25) As stats
    FROM generate_series(1,3) As band) As foo;

 band |  count  |  sum   |       mean       |      stddev      | min | max
------+---------+--------+------------------+------------------+-----+-----
    1 | 2112500 | 180686 | 82.6890480473373 | 45.6961043857248 |   0 | 255
    2 | 2112500 | 174571 |  81.448503668639 | 44.2252623171821 |   0 | 255
    3 | 2112500 | 144364 | 74.6765884023669 | 44.2014869384578 |   0 | 255
                </pre></div><div class="refsection" id="idm32174"><h2>Veja também</h2><p><a class="xref" href="#summarystats" title="summarystats">summarystats</a>, <a class="xref" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a>, <a class="xref" href="#RT_ST_Count" title="ST_Count">ST_Count</a>, <a class="xref" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a> </p></div></div><div class="refentry" id="RT_ST_SummaryStatsAgg"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SummaryStatsAgg — Agregado. Retorna as estatísticas resumidas consistindo de count, sum, mean, stddev, min, max para uma dada banda raster de um conjunto de rasters. A banda 1 é assumida se nenhuma banda for especificada. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">summarystats <strong class="fsfunc">ST_SummaryStatsAgg</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, double precision  <var class="pdparam">sample_percent</var><code>)</code>;</p><p><code class="funcdef">summarystats <strong class="fsfunc">ST_SummaryStatsAgg</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, double precision  <var class="pdparam">sample_percent</var><code>)</code>;</p><p><code class="funcdef">summarystats <strong class="fsfunc">ST_SummaryStatsAgg</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var><code>)</code>;</p></div></div><div class="refsection" id="idm32226"><h2>Descrição</h2><p>Retorna <a class="xref" href="#summarystats" title="summarystats">summarystats</a> consistindo de count, sum, mean, stddev, min, max para uma dada banda raster de um raster ou cobertura raster. Se nenhuma banda for especificada <code class="varname">nband</code> usa-se a 1. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Por padrão só considera valores de pixeis diferentes do valor <code class="varname">NODATA</code>. <code class="varname">exclude_nodata_value</code> é falso para contar todos os pixeis.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Por padrão irá tomar todos os pixeis. Para obter uma resposta mais rápida, coloque <code class="varname">sample_percent</code> no valor entre zero 0 e um 1</p></td></tr></table></div><p class="availability">Disponibilidade: 2.2.0 </p></div><div class="refsection" id="idm32239"><h2>Exemplos</h2><pre class="programlisting">WITH foo AS (
    SELECT
        rast.rast
    FROM (
        SELECT ST_SetValue(
            ST_SetValue(
                ST_SetValue(
                    ST_AddBand(
                        ST_MakeEmptyRaster(10, 10, 10, 10, 2, 2, 0, 0,0)
                        , 1, '64BF', 0, 0
                    )
                    , 1, 1, 1, -10
                )
                , 1, 5, 4, 0
            )
            , 1, 5, 5, 3.14159
        ) AS rast
    ) AS rast
    FULL JOIN (
        SELECT generate_series(1, 10) AS id
    ) AS id
        ON 1 = 1
)
SELECT
    (stats).count,
    round((stats).sum::numeric, 3),
    round((stats).mean::numeric, 3),
    round((stats).stddev::numeric, 3),
    round((stats).min::numeric, 3),
    round((stats).max::numeric, 3)
FROM (
    SELECT
        ST_SummaryStatsAgg(rast, 1, TRUE, 1) AS stats
    FROM foo
) bar;

 count |  round  | round  | round |  round  | round
-------+---------+--------+-------+---------+-------
    20 | -68.584 | -3.429 | 6.571 | -10.000 | 3.142
(1 row)
                </pre></div><div class="refsection" id="idm32242"><h2>Veja também</h2><p><a class="xref" href="#summarystats" title="summarystats">summarystats</a>, <a class="xref" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a>, <a class="xref" href="#RT_ST_Count" title="ST_Count">ST_Count</a>, <a class="xref" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a> </p></div></div><div class="refentry" id="RT_ST_ValueCount"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ValueCount — Retorna o conjunto de registros contendo uma banda pixel de valor e conta do número de pixeis em uma dada banda de um raster (ou uma cobertura raster) que tem um dado conjunto de valores. Usa-se a banda 1 se nenhuma for especificada. Por padrão pixeis de valor nodata não são contados. Todos os outros valores no pixel são saída e os valores de pixeis são arredondados para o inteiro mais próximo. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_ValueCount</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband=1</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var>, double precision[]  <var class="pdparam">searchvalues=NULL</var>, double precision  <var class="pdparam">roundto=0</var>, double precision  <var class="pdparam">OUT value</var>, integer  <var class="pdparam">OUT count</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_ValueCount</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, double precision[]  <var class="pdparam">searchvalues</var>, double precision  <var class="pdparam">roundto=0</var>, double precision  <var class="pdparam">OUT value</var>, integer  <var class="pdparam">OUT count</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_ValueCount</strong>(</code>raster  <var class="pdparam">rast</var>, double precision[]  <var class="pdparam">searchvalues</var>, double precision  <var class="pdparam">roundto=0</var>, double precision  <var class="pdparam">OUT value</var>, integer  <var class="pdparam">OUT count</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_ValueCount</strong>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">searchvalue</var>, double precision  <var class="pdparam">roundto=0</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_ValueCount</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, double precision  <var class="pdparam">searchvalue</var>, double precision  <var class="pdparam">roundto=0</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_ValueCount</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, double precision  <var class="pdparam">searchvalue</var>, double precision  <var class="pdparam">roundto=0</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_ValueCount</strong>(</code>text  <var class="pdparam">rastertable</var>, text  <var class="pdparam">rastercolumn</var>, integer  <var class="pdparam">nband=1</var>, boolean  <var class="pdparam">exclude_nodata_value=true</var>, double precision[]  <var class="pdparam">searchvalues=NULL</var>, double precision  <var class="pdparam">roundto=0</var>, double precision  <var class="pdparam">OUT value</var>, integer  <var class="pdparam">OUT count</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_ValueCount</strong>(</code>text  <var class="pdparam">rastertable</var>, text  <var class="pdparam">rastercolumn</var>, double precision[]  <var class="pdparam">searchvalues</var>, double precision  <var class="pdparam">roundto=0</var>, double precision  <var class="pdparam">OUT value</var>, integer  <var class="pdparam">OUT count</var><code>)</code>;</p><p><code class="funcdef">SETOF record <strong class="fsfunc">ST_ValueCount</strong>(</code>text  <var class="pdparam">rastertable</var>, text  <var class="pdparam">rastercolumn</var>, integer  <var class="pdparam">nband</var>, double precision[]  <var class="pdparam">searchvalues</var>, double precision  <var class="pdparam">roundto=0</var>, double precision  <var class="pdparam">OUT value</var>, integer  <var class="pdparam">OUT count</var><code>)</code>;</p><p><code class="funcdef">bigint<strong class="fsfunc">ST_ValueCount</strong>(</code>text  <var class="pdparam">rastertable</var>, text  <var class="pdparam">rastercolumn</var>, integer  <var class="pdparam">nband</var>, boolean  <var class="pdparam">exclude_nodata_value</var>, double precision  <var class="pdparam">searchvalue</var>, double precision  <var class="pdparam">roundto=0</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_ValueCount</strong>(</code>text  <var class="pdparam">rastertable</var>, text  <var class="pdparam">rastercolumn</var>, double precision  <var class="pdparam">searchvalue</var>, double precision  <var class="pdparam">roundto=0</var><code>)</code>;</p><p><code class="funcdef">bigint <strong class="fsfunc">ST_ValueCount</strong>(</code>text  <var class="pdparam">rastertable</var>, text  <var class="pdparam">rastercolumn</var>, integer  <var class="pdparam">nband</var>, double precision  <var class="pdparam">searchvalue</var>, double precision  <var class="pdparam">roundto=0</var><code>)</code>;</p></div></div><div class="refsection" id="idm32489"><h2>Descrição</h2><p>Retorna um conjunto de registros com colunas <code class="varname">value</code> <code class="varname">count</code> que contêm o valor da banda pixel e soma de pixeis na tile raster ou cobertura raster da banda selecionada.  </p><p>Se nenhuma banda for especificada <code class="varname">nband</code> usa-se 1. Se nenhum <code class="varname">searchvalues</code> for especificado, retornarão pixeis com valores encontrados no raster ou cobertura raster. Se um valor de pesquisa for dado, retornará um inteiro em vez de registros indicando a soma de pixeis que têm aquele valor de banda pixel </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se <code class="varname">exclude_nodata_value</code> for falso, contará também pixeis sem dados. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0 </p></div><div class="refsection" id="idm32501"><h2>Exemplos</h2><pre class="programlisting">UPDATE dummy_rast SET rast = ST_SetBandNoDataValue(rast,249) WHERE rid=2;
--Example will count only pixels of band 1 that are not 249. --

SELECT (pvc).*
FROM (SELECT ST_ValueCount(rast) As pvc
    FROM dummy_rast WHERE rid=2) As foo
    ORDER BY (pvc).value;

 value | count
-------+-------
   250 |     2
   251 |     1
   252 |     2
   253 |     6
   254 |    12

-- Example will coount all pixels of band 1 including 249 --
SELECT (pvc).*
FROM (SELECT ST_ValueCount(rast,1,false) As pvc
    FROM dummy_rast WHERE rid=2) As foo
    ORDER BY (pvc).value;

 value | count
-------+-------
   249 |     2
   250 |     2
   251 |     1
   252 |     2
   253 |     6
   254 |    12

-- Example will count only non-nodata value pixels of band 2
SELECT (pvc).*
FROM (SELECT ST_ValueCount(rast,2) As pvc
    FROM dummy_rast WHERE rid=2) As foo
    ORDER BY (pvc).value;
 value | count
-------+-------
    78 |     1
    79 |     1
    88 |     1
    89 |     1
    96 |     1
    97 |     1
    98 |     1
    99 |     2
   112 |     2
:

                </pre><pre class="programlisting">--real live example.  Count all the pixels in an aerial raster tile band 2 intersecting a geometry
-- and return only the pixel band values that have a count &gt; 500
SELECT (pvc).value, SUM((pvc).count) As total
FROM (SELECT ST_ValueCount(rast,2) As pvc
    FROM o_4_boston
        WHERE ST_Intersects(rast,
            ST_GeomFromText('POLYGON((224486 892151,224486 892200,224706 892200,224706 892151,224486 892151))',26986)
             )
        ) As foo
    GROUP BY (pvc).value
    HAVING SUM((pvc).count) &gt; 500
    ORDER BY (pvc).value;

 value | total
-------+-----
    51 | 502
    54 | 521
</pre><pre class="programlisting">-- Just return count of pixels in each raster tile that have value of 100 of tiles that intersect  a specific geometry --
SELECT rid, ST_ValueCount(rast,2,100) As count
    FROM o_4_boston
        WHERE ST_Intersects(rast,
            ST_GeomFromText('POLYGON((224486 892151,224486 892200,224706 892200,224706 892151,224486 892151))',26986)
             ) ;

 rid | count
-----+-------
   1 |    56
   2 |    95
  14 |    37
  15 |    64
</pre></div><div class="refsection" id="idm32506"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Count" title="ST_Count">ST_Count</a>, <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a></p></div></div></section><section class="section" id="Raster_Inputs"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.10. Raster Inputs</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_RastFromWKB">ST_RastFromWKB</a></span><span class="refpurpose"> — Return a raster value from a Well-Known Binary (WKB) raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_RastFromHexWKB">ST_RastFromHexWKB</a></span><span class="refpurpose"> — Return a raster value from a Hex representation of Well-Known Binary (WKB) raster.</span></li></ul></div><div class="refentry" id="RT_ST_RastFromWKB"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RastFromWKB — Return a raster value from a Well-Known Binary (WKB) raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_RastFromWKB</strong>(</code>bytea  <var class="pdparam">wkb</var><code>)</code>;</p></div></div><div class="refsection" id="idm32525"><h2>Descrição</h2><p>Given a Well-Known Binary (WKB) raster, return a raster. </p><p class="availability">Availability: 2.5.0</p></div><div class="refsection" id="idm32529"><h2>Exemplos</h2><pre class="programlisting">SELECT (ST_Metadata(
    ST_RastFromWKB(
        '\001\000\000\000\000\000\000\000\000\000\000\000@\000\000\000\000\000\000\010@\000\000\000\000\000\000\340?\000\000\000\000\000\000\340?\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\012\000\000\000\012\000\024\000'::bytea
    )
)).* AS metadata;

 upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands
------------+------------+-------+--------+--------+--------+-------+-------+------+----------
        0.5 |        0.5 |    10 |     20 |      2 |      3 |     0 |     0 |   10 |        0
                </pre></div><div class="refsection" id="idm32532"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a>, <a class="xref" href="#RT_ST_RastFromHexWKB" title="ST_RastFromHexWKB">ST_RastFromHexWKB</a>, <a class="xref" href="#RT_ST_AsBinary" title="ST_AsBinary/ST_AsWKB">ST_AsBinary/ST_AsWKB</a>, <a class="xref" href="#RT_ST_AsHexWKB" title="ST_AsHexWKB">ST_AsHexWKB</a> </p></div></div><div class="refentry" id="RT_ST_RastFromHexWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_RastFromHexWKB — Return a raster value from a Hex representation of Well-Known Binary (WKB) raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_RastFromHexWKB</strong>(</code>text  <var class="pdparam">wkb</var><code>)</code>;</p></div></div><div class="refsection" id="idm32551"><h2>Descrição</h2><p>Given a Well-Known Binary (WKB) raster in Hex representation, return a raster. </p><p class="availability">Availability: 2.5.0</p></div><div class="refsection" id="idm32555"><h2>Exemplos</h2><pre class="programlisting">SELECT (ST_Metadata(
    ST_RastFromHexWKB(
        '010000000000000000000000400000000000000840000000000000E03F000000000000E03F000000000000000000000000000000000A0000000A001400'
    )
)).* AS metadata;

 upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy | srid | numbands
------------+------------+-------+--------+--------+--------+-------+-------+------+----------
        0.5 |        0.5 |    10 |     20 |      2 |      3 |     0 |     0 |   10 |        0
                </pre></div><div class="refsection" id="idm32558"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a>, <a class="xref" href="#RT_ST_RastFromWKB" title="ST_RastFromWKB">ST_RastFromWKB</a>, <a class="xref" href="#RT_ST_AsBinary" title="ST_AsBinary/ST_AsWKB">ST_AsBinary/ST_AsWKB</a>, <a class="xref" href="#RT_ST_AsHexWKB" title="ST_AsHexWKB">ST_AsHexWKB</a> </p></div></div></section><section class="section" id="Raster_Outputs"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.11. Raster Outputs</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_AsBinary">ST_AsBinary/ST_AsWKB</a></span><span class="refpurpose"> — Return the Well-Known Binary (WKB) representation of the raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_AsHexWKB">ST_AsHexWKB</a></span><span class="refpurpose"> — Return the Well-Known Binary (WKB) in Hex representation of the raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_AsGDALRaster">ST_AsGDALRaster</a></span><span class="refpurpose"> — Return the raster tile in the designated GDAL Raster format. Raster formats are one of those supported by your compiled library. Use ST_GDALDrivers() to get a list of formats supported by your library.</span></li><li><span class="refentrytitle"><a href="#RT_ST_AsJPEG">ST_AsJPEG</a></span><span class="refpurpose"> — Retorna as bandas tile raster selecionadas como uma única Joint Photographic Exports Group (JPEG) image (byte arranjo). Se nenhuma banda for especificada e 1 ou mais que 3 bandas, então somente a primeira banda é usada. Se somente 3 bandas, então todas as 3 bandas serão usadas para mapear par RGB.</span></li><li><span class="refentrytitle"><a href="#RT_ST_AsPNG">ST_AsPNG</a></span><span class="refpurpose"> — Retorna as bandas tile raster selecionadas como um gráfico de rede portátil (PNG) imagem (byte array). Se as bandas raster 1, 3 ou 4 e nenhum banda for especificado, então todas as bandas são usadas. Se mais 2 ou mais que 4 bandas e nenhuma banda forem especificadas, então somente a banda 1 é usada. As bandas são mapeadas para espeço RGB ou RGBA. </span></li><li><span class="refentrytitle"><a href="#RT_ST_AsTIFF">ST_AsTIFF</a></span><span class="refpurpose"> — Return the raster selected bands as a single TIFF image (byte array). If no band is specified or any of specified bands does not exist in the raster, then will try to use all bands.</span></li></ul></div><div class="refentry" id="RT_ST_AsBinary"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsBinary/ST_AsWKB — Return the Well-Known Binary (WKB) representation of the raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsBinary</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">outasin=FALSE</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsWKB</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">outasin=FALSE</var><code>)</code>;</p></div></div><div class="refsection" id="idm32591"><h2>Descrição</h2><p>Returns the Binary representation of the raster. If <code class="varname">outasin</code> is TRUE, out-db bands are treated as in-db. Refer to raster/doc/RFC2-WellKnownBinaryFormat located in the PostGIS source folder for details of the representation. </p><p>Isso é útil em cursores binários para tirar dados do banco de dados sem converter para uma representação de string.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Por padrão, saída WKB contém o caminho do arquivo externo para bandas fora do banco de dados. Se o cliente não tem acesso ao arquivo raster secreto uma banda fora do banco de dados, <code class="varname">outasin</code> é VERDADE.</p></td></tr></table></div><p class="enhanced">Melhorias: 2.1.0 Adição da <code class="varname">outasin</code></p><p class="enhanced">Enhanced: 2.5.0 Addition of <code class="varname">ST_AsWKB</code></p></div><div class="refsection" id="idm32603"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsBinary(rast) As rastbin FROM dummy_rast WHERE rid=1;

                     rastbin
---------------------------------------------------------------------------------
\001\000\000\000\000\000\000\000\000\000\000\000@\000\000\000\000\000\000\010@\000\000\000\000\000\000\340?\000\000\000\000\000\000\340?\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\012\000\000\000\012\000\024\000
                </pre></div><div class="refsection" id="idm32606"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_RastFromWKB" title="ST_RastFromWKB">ST_RastFromWKB</a>, <a class="xref" href="#RT_ST_AsHexWKB" title="ST_AsHexWKB">ST_AsHexWKB</a> </p></div></div><div class="refentry" id="RT_ST_AsHexWKB"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsHexWKB — Return the Well-Known Binary (WKB) in Hex representation of the raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsHexWKB</strong>(</code>raster  <var class="pdparam">rast</var>, boolean  <var class="pdparam">outasin=FALSE</var><code>)</code>;</p></div></div><div class="refsection" id="idm32626"><h2>Descrição</h2><p>Returns the Binary representation in Hex representation of the raster. If <code class="varname">outasin</code> is TRUE, out-db bands are treated as in-db. Refer to raster/doc/RFC2-WellKnownBinaryFormat located in the PostGIS source folder for details of the representation. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>By default, Hex WKB output contains the external file path for out-db bands. If the client does not have access to the raster file underlying an out-db band, set <code class="varname">outasin</code> to TRUE.</p></td></tr></table></div><p class="availability">Availability: 2.5.0 </p></div><div class="refsection" id="idm32634"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsHexWKB(rast) As rastbin FROM dummy_rast WHERE rid=1;

                                                        st_ashexwkb
----------------------------------------------------------------------------------------------------------------------------
 010000000000000000000000400000000000000840000000000000E03F000000000000E03F000000000000000000000000000000000A0000000A001400
                </pre></div><div class="refsection" id="idm32637"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_RastFromHexWKB" title="ST_RastFromHexWKB">ST_RastFromHexWKB</a>, <a class="xref" href="#RT_ST_AsBinary" title="ST_AsBinary/ST_AsWKB">ST_AsBinary/ST_AsWKB</a> </p></div></div><div class="refentry" id="RT_ST_AsGDALRaster"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsGDALRaster — Return the raster tile in the designated GDAL Raster format. Raster formats are one of those supported by your compiled library. Use ST_GDALDrivers() to get a list of formats supported by your library.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsGDALRaster</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">format</var>, text[]  <var class="pdparam">options=NULL</var>, integer  <var class="pdparam">srid=sameassource</var><code>)</code>;</p></div></div><div class="refsection" id="idm32663"><h2>Descrição</h2><p>Retorna a tile raster no formato designado. Os argumentos estão listados abaixo:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">format</code> formato para saída. Isso depende dos drivers compilados na sua biblioteca libgdal. Estão normalmente disponíveis 'JPEG', 'GTIff', 'PNG'. Use <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a> para conseguir uma lista dos formatos suportados por sua biblioteca.  </p></li><li class="listitem"><p><code class="varname">options</code> texto arranjo de opções GDAL. As opções válidas são dependentes do formato. Recorra a <a class="link" href="http://www.gdal.org/frmt_various.html" target="_top">GDAL Raster format options</a> para mais detalhes.  </p></li><li class="listitem"><p><code class="varname">srs</code> O proj4text ou srtext (do spatial_ref_sys) para embutir na imagem </p></li></ul></div><p class="availability">Disponibilidade: 2.0.0 - requer GDAL &gt;= 1.6.0. </p></div><div class="refsection" id="idm32679"><h2>JPEG Output Example, multiple tiles as single raster</h2><pre class="programlisting">
SELECT ST_AsGDALRaster(ST_Union(rast), 'JPEG', ARRAY['QUALITY=50']) As rastjpg
FROM dummy_rast
WHERE rast &amp;&amp; ST_MakeEnvelope(10, 10, 11, 11);
</pre></div><div class="refsection" id="idm32682"><h2>Using PostgreSQL Large Object Support to export raster</h2><p>One way to export raster into another format is using <a class="link" href="https://www.postgresql.org/docs/current/static/lo-funcs.html" target="_top">PostgreSQL large object export functions</a>. We'lll repeat the prior example but also exporting. Note for this you'll need to have super user access to db since it uses server side lo functions. It will also export to path on server network. If you need export locally, use the psql equivalent lo_ functions which export to the local file system instead of the server file system.</p><pre class="programlisting">
DROP TABLE IF EXISTS tmp_out ;

CREATE TABLE tmp_out AS
SELECT lo_from_bytea(0,
       ST_AsGDALRaster(ST_Union(rast), 'JPEG', ARRAY['QUALITY=50'])
        ) AS loid
  FROM dummy_rast
WHERE rast &amp;&amp; ST_MakeEnvelope(10, 10, 11, 11);

SELECT lo_export(loid, '/tmp/dummy.jpg')
   FROM tmp_out;

SELECT lo_unlink(loid)
  FROM tmp_out;
</pre></div><div class="refsection" id="idm32687"><h2>GTIFF Output Examples</h2><pre class="programlisting">SELECT ST_AsGDALRaster(rast, 'GTiff') As rastjpg
FROM dummy_rast WHERE rid=2;

-- Out GeoTiff with jpeg compression, 90% quality
SELECT ST_AsGDALRaster(rast, 'GTiff',
  ARRAY['COMPRESS=JPEG', 'JPEG_QUALITY=90'],
  4269) As rasttiff
FROM dummy_rast WHERE rid=2;
                </pre></div><div class="refsection" id="idm32690"><h2>Veja também</h2><p><a class="xref" href="#RT_Raster_Applications" title="10.3. Construindo Aplicações Personalizadas com o PostGIS Raster">Section 10.3, “Construindo Aplicações Personalizadas com o PostGIS Raster”</a>, <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div><div class="refentry" id="RT_ST_AsJPEG"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsJPEG — Retorna as bandas tile raster selecionadas como uma única Joint Photographic Exports Group (JPEG) image (byte arranjo). Se nenhuma banda for especificada e 1 ou mais que 3 bandas, então somente a primeira banda é usada. Se somente 3 bandas, então todas as 3 bandas serão usadas para mapear par RGB.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsJPEG</strong>(</code>raster  <var class="pdparam">rast</var>, text[]  <var class="pdparam">options=NULL</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsJPEG</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">quality</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsJPEG</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, text[]  <var class="pdparam">options=NULL</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsJPEG</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nbands</var>, text[]  <var class="pdparam">options=NULL</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsJPEG</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nbands</var>, integer  <var class="pdparam">quality</var><code>)</code>;</p></div></div><div class="refsection" id="idm32759"><h2>Descrição</h2><p>Retorna as bandas selecionadas do raster como uma única Joint Photographic Exports Group Image (JPEG). Use <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a> se precisar exportar como tipos raster menos comuns. Se nenhuma banda for especificada e 1 ou mais que 3 bandas, então somente a primeira é usada. Se 3 bandas, então 3 bandas são usadas. Existem muitas variantes da função com várias opções. Elas estão listadas abaixo:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">nband</code> é para exportação de uma única banda. </p></li><li class="listitem"><p><code class="varname">nbands</code> é um arranjo para exportar (note que o máximo é 3 para JPEG) e a ordem das bandas é RGB. ex.: ARRAY[3,2,1] significa mapa banda 3 para Vermelho, banda 2 para verde e banda 1 para azul.  </p></li><li class="listitem"><p><code class="varname">quality</code> número de 0 a 100. Quanto maior o número mais translúcida a imagem.  </p></li><li class="listitem"><p><code class="varname">options</code> opções de textos Array of GDAL definidas para JPEG (veja em create_options para JPEG <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>). Para JPEG válido eles são <code class="varname">PROGRESSIVE</code> ON or OFF e <code class="varname">QUALITY</code> a range from 0 to 100 and default to 75. Recorra a <a class="link" href="http://www.gdal.org/frmt_various.html" target="_top">GDAL Raster format options</a> para mais dealhes. </p></li></ul></div><p class="availability">Disponibilidade: 2.0.0 - requer GDAL &gt;= 1.6.0. </p></div><div class="refsection" id="idm32781"><h2>Exemplos: Saída</h2><pre class="programlisting">-- output first 3 bands 75% quality
SELECT ST_AsJPEG(rast) As rastjpg
    FROM dummy_rast WHERE rid=2;

-- output only first band as 90% quality
SELECT ST_AsJPEG(rast,1,90) As rastjpg
    FROM dummy_rast WHERE rid=2;

-- output first 3 bands (but make band 2 Red, band 1 green, and band 3 blue, progressive and 90% quality
SELECT ST_AsJPEG(rast,ARRAY[2,1,3],ARRAY['QUALITY=90','PROGRESSIVE=ON']) As rastjpg
    FROM dummy_rast WHERE rid=2;</pre></div><div class="refsection" id="idm32784"><h2>Veja também</h2><p><a class="xref" href="#RT_Raster_Applications" title="10.3. Construindo Aplicações Personalizadas com o PostGIS Raster">Section 10.3, “Construindo Aplicações Personalizadas com o PostGIS Raster”</a>, <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>, <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>, <a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>, <a class="xref" href="#RT_ST_AsTIFF" title="ST_AsTIFF">ST_AsTIFF</a> </p></div></div><div class="refentry" id="RT_ST_AsPNG"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsPNG — Retorna as bandas tile raster selecionadas como um gráfico de rede portátil (PNG) imagem (byte array). Se as bandas raster 1, 3 ou 4 e nenhum banda for especificado, então todas as bandas são usadas. Se mais 2 ou mais que 4 bandas e nenhuma banda forem especificadas, então somente a banda 1 é usada. As bandas são mapeadas para espeço RGB ou RGBA. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsPNG</strong>(</code>raster  <var class="pdparam">rast</var>, text[]  <var class="pdparam">options=NULL</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsPNG</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, integer  <var class="pdparam">compression</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsPNG</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, text[]  <var class="pdparam">options=NULL</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsPNG</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nbands</var>, integer  <var class="pdparam">compression</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsPNG</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nbands</var>, text[]  <var class="pdparam">options=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm32855"><h2>Descrição</h2><p>Retorna as bandas selecionadas do raster como uma única Portable Network Graphics Image (PNG). Use <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a> se precisar exportar como os tipo de raster menos comuns. Se nenhuma banda for especificada, então as 3 primeiras bandas serão exportadas. Existem muitas variantes da função com várias opções. Se nenhum <code class="varname">srid</code>for especificado, o srid do raster é usado. Eles estão listados abaixo:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">nband</code> é para exportação de uma única banda. </p></li><li class="listitem"><p><code class="varname">nbands</code> é um arranjo para exportar (note que o máximo é 4 para JPEG) e a ordem das bandas é RGB. ex.: ARRAY[3,2,1] significa mapa banda 3 para Vermelho, banda 2 para verde e banda 1 para azul.  </p></li><li class="listitem"><p><code class="varname">compression</code> número de 1 a 9. Quanto maior o número melhor a compressão.  </p></li><li class="listitem"><p><code class="varname">options</code> opções de textos do Arranjo do GDAL como definidas para PNG (veja em create_options para PNG da <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>). Para PNG válido é somente ZLEVEL (porção de tempo para gastar na comprensão -- padrão 6) ex.: ARRAY['ZLEVEL=9']. WORLDFILE não é permitido já que a função teria que gerar duas saídas. Recorra a <a class="link" href="http://www.gdal.org/frmt_various.html" target="_top">GDAL Raster format options</a> para mais detalhes.  </p></li></ul></div><p class="availability">Disponibilidade: 2.0.0 - requer GDAL &gt;= 1.6.0. </p></div><div class="refsection" id="idm32876"><h2>Exemplos</h2><pre class="programlisting">SELECT ST_AsPNG(rast) As rastpng
FROM dummy_rast WHERE rid=2;

-- export the first 3 bands and map band 3 to Red, band 1 to Green, band 2 to blue
SELECT ST_AsPNG(rast, ARRAY[3,1,2]) As rastpng
FROM dummy_rast WHERE rid=2;
                </pre></div><div class="refsection" id="idm32879"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>, <a class="xref" href="#RT_ST_ColorMap" title="ST_ColorMap">ST_ColorMap</a>, <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>, <a class="xref" href="#RT_Raster_Applications" title="10.3. Construindo Aplicações Personalizadas com o PostGIS Raster">Section 10.3, “Construindo Aplicações Personalizadas com o PostGIS Raster”</a></p></div></div><div class="refentry" id="RT_ST_AsTIFF"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_AsTIFF — Return the raster selected bands as a single TIFF image (byte array). If no band is specified or any of specified bands does not exist in the raster, then will try to use all bands.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsTIFF</strong>(</code>raster  <var class="pdparam">rast</var>, text[]  <var class="pdparam">options=''</var>, integer  <var class="pdparam">srid=sameassource</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsTIFF</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">compression=''</var>, integer  <var class="pdparam">srid=sameassource</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsTIFF</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nbands</var>, text  <var class="pdparam">compression=''</var>, integer  <var class="pdparam">srid=sameassource</var><code>)</code>;</p><p><code class="funcdef">bytea <strong class="fsfunc">ST_AsTIFF</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nbands</var>, text[]  <var class="pdparam">options</var>, integer  <var class="pdparam">srid=sameassource</var><code>)</code>;</p></div></div><div class="refsection" id="idm32946"><h2>Descrição</h2><p>Retorna as bandas selecionadas do raster como um formato Tagged Image File Format (TIFF) único. Se nenhuma banda estiver especificada, tentaremos usar todas as bandas. Isto é uma envoltório em torno da <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>. Use <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a> se precisar exportar como tipos raster menos comuns. Existem muitas variantes da função com diversas opções. Se nenhuma texto de referência espacial SRS estiver presente, a referência espacial do raster é usada. Elas estão listadas abaixo:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">nbands</code> é um arranjo de bandas para exportar (note que o máximo é 3 para PNG) e a ordem das bandas é RGB. ex.: ARRAY[3,2,1] significa mapear banda 3 para vermelho, banda 2 para verde e banda 1 para azul </p></li><li class="listitem"><p><code class="varname">compression</code> Expressão de compressão -- JPEG90 (ou algum outro percentual), LZW, JPEG, DEFLATE9. </p></li><li class="listitem"><p><code class="varname">options</code> text Array of GDAL create options as defined for GTiff (look at create_options for GTiff of <a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>). or refer to <a class="link" href="http://www.gdal.org/frmt_various.html" target="_top">GDAL Raster format options</a> for more details. </p></li><li class="listitem"><p><code class="varname">srid</code> srid do spatial_ref_sys do raster. É usado para popular a informação georreferência  </p></li></ul></div><p class="availability">Disponibilidade: 2.0.0 - requer GDAL &gt;= 1.6.0. </p></div><div class="refsection" id="idm32967"><h2>Exemplo: Use jpeg compressão 90%</h2><pre class="programlisting">SELECT ST_AsTIFF(rast, 'JPEG90') As rasttiff
FROM dummy_rast WHERE rid=2;
                </pre></div><div class="refsection" id="idm32970"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>, <a class="xref" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a></p></div></div></section><section class="section" id="Raster_Processing_MapAlgebra"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.12. Processamento Raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_Clip">ST_Clip</a></span><span class="refpurpose"> — Returns the raster clipped by the input geometry. If band number is not specified, all bands are processed. If <code class="varname">crop</code> is not specified or TRUE, the output raster is cropped. If <code class="varname">touched</code> is set to TRUE, then touched pixels are included, otherwise only if the center of the pixel is in the geometry it is included.</span></li><li><span class="refentrytitle"><a href="#RT_ST_ColorMap">ST_ColorMap</a></span><span class="refpurpose"> — Cria um novo raster de até quatro bandas 8BUI (grayscale, RGB, RGBA) do raster fonte e uma banda específica. A banda 1 usada se não especificado. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Grayscale">ST_Grayscale</a></span><span class="refpurpose"> — Creates a new one-8BUI band raster from the source raster and specified bands representing Red, Green and Blue</span></li><li><span class="refentrytitle"><a href="#RT_ST_Intersection">ST_Intersection</a></span><span class="refpurpose"> — Retorna uma raster ou conjunto de pares de valores de pixeis de geometria representando a porção dividida de dois rasters ou a interseção geométrica de uma vetorização do raster e uma geometria.</span></li><li><span class="refentrytitle"><a href="#RT_ST_MapAlgebra">ST_MapAlgebra (callback function version)</a></span><span class="refpurpose"> — Versão função retorno - Retorna um raster de uma banda dado um ou mais rasters de entrada, os índices e uma função retorno de um usuário específico.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_MapAlgebra_expr">ST_MapAlgebra (expression version)</a></span><span class="refpurpose"> — Versão expressão - Retorna um raster de uma banda dado um ou mais rasters de entrada, índices de banda e uma ou mais expressões SQL de usuários específicos. </span></li><li><span class="refentrytitle"><a href="#RT_ST_MapAlgebraExpr">ST_MapAlgebraExpr</a></span><span class="refpurpose"> — Versão de banda raster 1: Cria uma nova banda raster formada pela aplicação de ma operação algébrica válida do PostgreSQL na banda raster de entrada de um tipo de pixel fornecido. A banda 1 é assumida se nenhuma banda for especificada. </span></li><li><span class="refentrytitle"><a href="#RT_ST_MapAlgebraExpr2">ST_MapAlgebraExpr</a></span><span class="refpurpose"> — Versão de banda raster 2: Cria uma banda raster nova formada pela aplicação de uma operação algébrica válida PostgreSQL nas duas bandas raster de entrada e do tipo de pixel fornecido. A banda 1 de cada raster é assumida se nenhum número de bandas for especificado. O raster resultante será alinhado (escala, inclinação e cantos de pixel) na grade definida pelo primeiro raster e tem sua extensão definida pelo parâmetro "extenttype". O valores para "extenttype"  pode ser: INTERSEÇÃO, UNIÃO, PRIMEIRO, SEGUNDO.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_MapAlgebraFct">ST_MapAlgebraFct</a></span><span class="refpurpose"> — Versão de banda raster 1: Cria uma nova banda raster formada pela aplicação de uma função válida do PostgreSQL na banda raster de entrada de um tipo de pixel fornecido. A banda 1 é assumida se nenhuma banda for especificada. </span></li><li><span class="refentrytitle"><a href="#RT_ST_MapAlgebraFct2">ST_MapAlgebraFct</a></span><span class="refpurpose"> — Versão de banda 2 - Cria uma nova banda raster um formada pela aplicação de uma função PostgreSQL na 2 entrada de bandas raster e do tipo de pixel fornecido. A banda 1 é assumida se nenhuma banda for especificada. Tipo de extensão torna-se INTERSEÇÃO se não especificada.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a></span><span class="refpurpose"> — Versão 1-banda: o vizinho mais próximo no mapa algébrico usando a função de usuário definido PostgreSQL. Retorna um raster cujos valores são o resultado de uma função usuário PLPGSQL envolvendo uma vizinhança de valores da banda raster de entrada. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Reclass">ST_Reclass</a></span><span class="refpurpose"> — Cria um novo raster composto por tipos de banda reclassificados do original. A nband pode ser alterada. Se nenhuma nband for especificada, usa-se a 1. Todas as outras bandas são retornadas inalteradas. Use caso: converta uma banda 16BUI para 8BUI e então adiante para uma renderização mais simples como formatos visíveis. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Union">ST_Union</a></span><span class="refpurpose"> — Retorna a união de um conjunto de tiles raster em um único raster composto de 1 ou mais bandas. </span></li></ul></div><div class="refentry" id="RT_ST_Clip"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Clip — Returns the raster clipped by the input geometry. If band number is not specified, all bands are processed. If <code class="varname">crop</code> is not specified or TRUE, the output raster is cropped. If <code class="varname">touched</code> is set to TRUE, then touched pixels are included, otherwise only if the center of the pixel is in the geometry it is included.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Clip</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nband</var>, geometry  <var class="pdparam">geom</var>, double precision[]  <var class="pdparam">nodataval=NULL</var>, boolean  <var class="pdparam">crop=TRUE</var>, boolean  <var class="pdparam">touched=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Clip</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">nodataval</var>, boolean  <var class="pdparam">crop=TRUE</var>, boolean  <var class="pdparam">touched=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Clip</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, geometry  <var class="pdparam">geom</var>, boolean  <var class="pdparam">crop</var>, boolean  <var class="pdparam">touched=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Clip</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">geom</var>, double precision[]  <var class="pdparam">nodataval=NULL</var>, boolean  <var class="pdparam">crop=TRUE</var>, boolean  <var class="pdparam">touched=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Clip</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">geom</var>, double precision  <var class="pdparam">nodataval</var>, boolean  <var class="pdparam">crop=TRUE</var>, boolean  <var class="pdparam">touched=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Clip</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">geom</var>, boolean  <var class="pdparam">crop</var>, boolean  <var class="pdparam">touched=FALSE</var><code>)</code>;</p></div></div><div class="refsection" id="idm33097"><h2>Descrição</h2><p>Retorna um raster que é suprimido pela geometria de entrada <code class="varname">geom</code>. Se o índice de banda não for especificado, todas as bandas são processadas.  </p><p>Os rasters resultantes da ST_Clip devem ter o valor nodata designado para as áreas suprimidas, um para cada banda. Se nenhum for promovido e o raster de entrada não tiver nenhum valor nodata definido, os valore nodata do raster resultante são ST_MinPossibleValue(ST_BandPixelType(rast, band)). Quando o número de valor nodata no arranjo é menor qua o número de banda, o último no arranjo é usado para as bandas que sobraram. Se o número de valor nodata for maior que o número de banda, os valores extras serão ignorados. Todas as variantes que aceitam um arranjo de valores nodata também aceitam um valor único, que pode ser designado para cada banda.  </p><p>If <code class="varname">crop</code> is not specified, true is assumed meaning the output raster is cropped to the intersection of the <code class="varname">geom</code>and <code class="varname">rast</code> extents. If <code class="varname">crop</code> is set to false, the new raster gets the same extent as <code class="varname">rast</code>. If <code class="varname">touched</code> is set to true, then all pixels in the <code class="varname">rast</code> that intersect the geometry are selected. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>The default behavior is touched=false, which will only select pixels where the center of the pixel is covered by the geometry.</p></td></tr></table></div><p class="enhanced">Enhanced: 3.5.0 - touched argument added.</p><p class="availability">Disponibilidade: 2.0.0 </p><p class="enhanced">Melhorias: 2.1.0 Reescrito em C</p><p>Examples here use Massachusetts aerial data available on MassGIS site <a class="link" href="https://www.mass.gov/info-details/massgis-data-20082009-aerial-imagery" target="_top">MassGIS Aerial Orthos</a>. </p></div><div class="refsection" id="idm33117"><h2>Examples: Comparing selecting all touched vs. not all touched</h2><pre class="programlisting">SELECT ST_Count(rast) AS count_pixels_in_orig, ST_Count(rast_touched) AS all_touched_pixels, ST_Count(rast_not_touched) AS default_clip
FROM ST_AsRaster(ST_Letters('R'), scalex =
&gt; 1.0, scaley =
&gt; -1.0) AS r(rast) 
    INNER JOIN ST_GeomFromText('LINESTRING(0 1, 5 6, 10 10)') AS g(geom)
 ON ST_Intersects(r.rast,g.geom)
 , ST_Clip(r.rast, g.geom, touched =
&gt; true) AS rast_touched
 , ST_Clip(r.rast, g.geom, touched =
&gt; false) AS rast_not_touched;
 
 count_pixels_in_orig | all_touched_pixels | default_clip
----------------------+--------------------+--------------
                 2605 |                 16 |           10
(1 row)
 </pre></div><div class="refsection" id="idm33120"><h2>Examples: 1 band clipping (not touched)</h2><pre class="programlisting">-- Clip the first band of an aerial tile by a 20 meter buffer.
SELECT ST_Clip(rast, 1,
        ST_Buffer(ST_Centroid(ST_Envelope(rast)),20)
    ) from aerials.boston
WHERE rid = 4;
                    </pre><pre class="programlisting">-- Demonstrate effect of crop on final dimensions of raster
-- Note how final extent is clipped to that of the geometry
-- if crop = true
SELECT ST_XMax(ST_Envelope(ST_Clip(rast, 1, clipper, true))) As xmax_w_trim,
    ST_XMax(clipper) As xmax_clipper,
    ST_XMax(ST_Envelope(ST_Clip(rast, 1, clipper, false))) As xmax_wo_trim,
    ST_XMax(ST_Envelope(rast)) As xmax_rast_orig
FROM (SELECT rast, ST_Buffer(ST_Centroid(ST_Envelope(rast)),6) As clipper
    FROM aerials.boston
WHERE rid = 6) As foo;

   xmax_w_trim    |   xmax_clipper   |   xmax_wo_trim   |  xmax_rast_orig
------------------+------------------+------------------+------------------
 230657.436173996 | 230657.436173996 | 230666.436173996 | 230666.436173996
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_clip01.png"/><div class="caption"><p>Tile raster completa antes se suprimir </p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_clip02.png"/><div class="caption"><p>Depois de suprimir</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm33144"><h2>Exemplos: 1 banda suprimindo sem cortes e adiciona de volta outras bandas inalteradas</h2><pre class="programlisting">-- Same example as before, but we need to set crop to false to be able to use ST_AddBand
-- because ST_AddBand requires all bands be the same Width and height
SELECT ST_AddBand(ST_Clip(rast, 1,
        ST_Buffer(ST_Centroid(ST_Envelope(rast)),20),false
    ), ARRAY[ST_Band(rast,2),ST_Band(rast,3)] ) from aerials.boston
WHERE rid = 6;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_clip04.png"/><div class="caption"><p>Tile raster completa antes se suprimir </p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_clip05.png"/><div class="caption"><p>Depois de suprimir - surreal </p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm33167"><h2>Exemplos: Suprime todas as bandas</h2><pre class="programlisting">-- Clip all bands of an aerial tile by a 20 meter buffer.
-- Only difference is we don't specify a specific band to clip
-- so all bands are clipped
SELECT ST_Clip(rast,
      ST_Buffer(ST_Centroid(ST_Envelope(rast)), 20),
      false
    ) from aerials.boston
WHERE rid = 4;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_clip01.png"/><div class="caption"><p>Tile raster completa antes se suprimir </p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_clip03.png"/><div class="caption"><p>Depois de suprimir</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm33190"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>, <a class="xref" href="#RT_ST_Count" title="ST_Count">ST_Count</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Intersection" title="ST_Intersection">ST_Intersection</a> </p></div></div><div class="refentry" id="RT_ST_ColorMap"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ColorMap — Cria um novo raster de até quatro bandas 8BUI (grayscale, RGB, RGBA) do raster fonte e uma banda específica. A banda 1 usada se não especificado. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_ColorMap</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband=1</var>, text  <var class="pdparam">colormap=grayscale</var>, text  <var class="pdparam">method=INTERPOLATE</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_ColorMap</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">colormap</var>, text  <var class="pdparam">method=INTERPOLATE</var><code>)</code>;</p></div></div><div class="refsection" id="idm33231"><h2>Descrição</h2><p>Aplica um <code class="varname">colormap</code> à banda na <code class="varname">nband</code> do <code class="varname">rast</code> resultando em um novo raster englobado com até quatro bandas 8BUI. O número de bandas 8BUI no novo raster é determinado pelo número de cores componentes definidas no <code class="varname">colormap</code>. </p><p>Se <code class="varname">nband</code> não for especificado, a banda 1 é assumida. </p><p><code class="varname">colormap</code> pode ser uma palavra-chave de um colormap pré definido ou um conjunto de linhas definindo o valor e a cor dos componentes.  </p><p>Palavra-chave válida do <code class="varname">colormap</code> pré definida:  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">grayscale</code> ou <code class="varname">greyscale</code> para uma banda raster 8BUI de tons de cinza.  </p></li><li class="listitem"><p><code class="varname">pseudocolor</code> para quatro bandas raster 8BUI (RGBA) com cores indo de azul para verde e para vermelho.  </p></li><li class="listitem"><p><code class="varname">fire</code> para quatro bandas raster 8BUI (RGBA) com cores indo de preto para vermelho para amarelo claro.  </p></li><li class="listitem"><p><code class="varname">bluered</code> para quatro bandas raster 8BUI (RGBA) com cores indo de azul para branco para vermelho.  </p></li></ul></div><p>Os usuários podem passar um conjunto de entradas (uma por linha) para <code class="varname">colormap</code> para especificar colormaps personalizados. Cada entrada consiste de cinco valores: o valor de pixel e componentes Vermelho, Verde, Azul, Alfa correspondentes (entre 0 e 255). Valores de porcentagem podem ser usados em vez de valores de pixel onde 0% e 100% são os mínimos e os máximos encontrados na banda raster. Os valores podem ser separados por vírgulas (","), tabs, dois pontos (":") e/ou espaços. O valor do pixel pode ser <span class="emphasis"><em>nv</em></span>, <span class="emphasis"><em>null</em></span> ou <span class="emphasis"><em>nodata</em></span> para o valor NODATA. Um exemplo é fornecido abaixo.  </p><pre class="programlisting">5 0 0 0 255
4 100:50 55 255
1 150,100 150 255
0% 255 255 255 255
nv 0 0 0 0
                    </pre><p>A sintaxe do <code class="varname">colormap</code> é parecida com com a do modo do auxílio de cor do GDAL <a class="link" href="http://www.gdal.org/gdaldem.html#gdaldem_color_relief" target="_top">gdaldem</a>. </p><p>Palavras-chave válidas para <code class="varname">method</code>: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">INTERPOLATE</code> para usar interpolação linear para misturar suavemente as cores entre os valores do pixel </p></li><li class="listitem"><p><code class="varname">EXACT</code> para combinar estritamente somente aqueles valores de pixel encontrados no colormap. Os pixeis cujos valores não combinarem com uma entrada do colormap serão 0 0 0 0 (RGBA) </p></li><li class="listitem"><p><code class="varname">NEAREST</code> para usar a entrada do colormap cujos valores são mais próximos ao valor do pixel  </p></li></ul></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Uma ótima referência para o colormap é <a class="link" href="http://www.colorbrewer2.org" target="_top">ColorBrewer</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>As bandas resultantes do novo raster não terá nenhum valor NODATA. Use <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a> se precisar de um valor NODATA.  </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0 </p></div><div class="refsection" id="idm33286"><h2>Exemplos</h2><p>Esta não é uma boa tabela para desfrutar</p><pre class="programlisting">-- setup test raster table --
DROP TABLE IF EXISTS funky_shapes;
CREATE TABLE funky_shapes(rast raster);

INSERT INTO funky_shapes(rast)
WITH ref AS (
    SELECT ST_MakeEmptyRaster( 200, 200, 0, 200, 1, -1, 0, 0) AS rast
)
SELECT
    ST_Union(rast)
FROM (
    SELECT
        ST_AsRaster(
            ST_Rotate(
                ST_Buffer(
                    ST_GeomFromText('LINESTRING(0 2,50 50,150 150,125 50)'),
                    i*2
                ),
                pi() * i * 0.125, ST_Point(50,50)
            ),
            ref.rast, '8BUI'::text, i * 5
        ) AS rast
    FROM ref
    CROSS JOIN generate_series(1, 10, 3) AS i
) AS shapes;
                    </pre><pre class="programlisting">SELECT
    ST_NumBands(rast) As n_orig,
    ST_NumBands(ST_ColorMap(rast,1, 'greyscale')) As ngrey,
    ST_NumBands(ST_ColorMap(rast,1, 'pseudocolor')) As npseudo,
    ST_NumBands(ST_ColorMap(rast,1, 'fire')) As nfire,
    ST_NumBands(ST_ColorMap(rast,1, 'bluered')) As nbluered,
    ST_NumBands(ST_ColorMap(rast,1, '
100% 255   0   0
 80% 160   0   0
 50% 130   0   0
 30%  30   0   0
 20%  60   0   0
  0%   0   0   0
  nv 255 255 255
    ')) As nred
FROM funky_shapes;
                    </pre><pre class="screen">n_orig | ngrey | npseudo | nfire | nbluered | nred
--------+-------+---------+-------+----------+------
      1 |     1 |       4 |     4 |        4 |    3
                    </pre></div><div class="refsection" id="idm33292"><h2>Exemplos: Compara cores diferentes no mapa usando ST_AsPNG</h2><pre class="programlisting">SELECT
    ST_AsPNG(rast) As orig_png,
    ST_AsPNG(ST_ColorMap(rast,1,'greyscale')) As grey_png,
    ST_AsPNG(ST_ColorMap(rast,1, 'pseudocolor')) As pseudo_png,
    ST_AsPNG(ST_ColorMap(rast,1, 'nfire')) As fire_png,
    ST_AsPNG(ST_ColorMap(rast,1, 'bluered')) As bluered_png,
    ST_AsPNG(ST_ColorMap(rast,1, '
100% 255   0   0
 80% 160   0   0
 50% 130   0   0
 30%  30   0   0
 20%  60   0   0
  0%   0   0   0
  nv 255 255 255
    ')) As red_png
FROM funky_shapes;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_colormap_orig.png"/><div class="caption"><p>orig_png</p></div></div></div><p>
                                        </p>
                                    </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_colormap_grey.png"/><div class="caption"><p>grey_png</p></div></div></div><p>
                                        </p>
                                    </td><td style="border-bottom: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_colormap_pseudo.png"/><div class="caption"><p>pseudo_png</p></div></div></div><p>
                                        </p>
                                    </td></tr><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_colormap_fire.png"/><div class="caption"><p>fire_png</p></div></div></div><p>
                                        </p>
                                    </td><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_colormap_bluered.png"/><div class="caption"><p>bluered_png</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_colormap_red.png"/><div class="caption"><p>red_png</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm33348"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>, <a class="xref" href="#RT_ST_AsRaster" title="ST_AsRaster">ST_AsRaster</a> <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Grayscale" title="ST_Grayscale">ST_Grayscale</a> <a class="xref" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a>, <a class="xref" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a>, <a class="xref" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a>, <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a> </p></div></div><div class="refentry" id="RT_ST_Grayscale"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Grayscale — Creates a new one-8BUI band raster from the source raster and specified bands representing Red, Green and Blue</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">(1) raster <strong class="fsfunc">ST_Grayscale</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">redband=1</var>, integer  <var class="pdparam">greenband=2</var>, integer  <var class="pdparam">blueband=3</var>, text  <var class="pdparam">extenttype=INTERSECTION</var><code>)</code>;</p></div><div class="funcsynopsis"><p><code class="funcdef">(2) raster <strong class="fsfunc">ST_Grayscale</strong>(</code>rastbandarg[]  <var class="pdparam">rastbandargset</var>, text  <var class="pdparam">extenttype=INTERSECTION</var><code>)</code>;</p></div></div><div class="refsection" id="idm33393"><h2>Descrição</h2><p>Create a raster with one 8BUI band given three input bands (from one or more rasters). Any input band whose pixel type is not 8BUI will be reclassified using <a class="xref" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a>. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function is not like <a class="xref" href="#RT_ST_ColorMap" title="ST_ColorMap">ST_ColorMap</a> with the <code class="varname">grayscale</code> keyword as ST_ColorMap operates on only one band while this function expects three bands for RGB. This function applies the following equation for converting RGB to Grayscale: 0.2989 * RED + 0.5870 * GREEN + 0.1140 * BLUE </p></td></tr></table></div><p class="availability">Availability: 2.5.0 </p></div><div class="refsection" id="idm33402"><h2>Exemplos: Variante 1</h2><pre class="programlisting">SET postgis.gdal_enabled_drivers = 'ENABLE_ALL';
SET postgis.enable_outdb_rasters = True;

WITH apple AS (
    SELECT ST_AddBand(
        ST_MakeEmptyRaster(350, 246, 0, 0, 1, -1, 0, 0, 0),
        '/tmp/apple.png'::text,
        NULL::int[]
    ) AS rast
)
SELECT
    ST_AsPNG(rast) AS original_png,
    ST_AsPNG(ST_Grayscale(rast)) AS grayscale_png
FROM apple;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/apple.png"/><div class="caption"><p>original_png</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/apple_st_grayscale.png"/><div class="caption"><p>grayscale_png</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm33425"><h2>Exemplos: Variant 2</h2><pre class="programlisting">SET postgis.gdal_enabled_drivers = 'ENABLE_ALL';
SET postgis.enable_outdb_rasters = True;

WITH apple AS (
    SELECT ST_AddBand(
        ST_MakeEmptyRaster(350, 246, 0, 0, 1, -1, 0, 0, 0),
        '/tmp/apple.png'::text,
        NULL::int[]
    ) AS rast
)
SELECT
    ST_AsPNG(rast) AS original_png,
    ST_AsPNG(ST_Grayscale(
        ARRAY[
            ROW(rast, 1)::rastbandarg, -- red
            ROW(rast, 2)::rastbandarg, -- green
            ROW(rast, 3)::rastbandarg, -- blue
        ]::rastbandarg[]
    )) AS grayscale_png
FROM apple;
                    </pre></div><div class="refsection" id="idm33428"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>, <a class="xref" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a>, <a class="xref" href="#RT_ST_ColorMap" title="ST_ColorMap">ST_ColorMap</a> </p></div></div><div class="refentry" id="RT_ST_Intersection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Intersection — Retorna uma raster ou conjunto de pares de valores de pixeis de geometria representando a porção dividida de dois rasters ou a interseção geométrica de uma vetorização do raster e uma geometria.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof geomval <strong class="fsfunc">ST_Intersection</strong>(</code>geometry  <var class="pdparam">geom</var>, raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band_num=1</var><code>)</code>;</p><p><code class="funcdef">setof geomval <strong class="fsfunc">ST_Intersection</strong>(</code>raster  <var class="pdparam">rast</var>, geometry  <var class="pdparam">geom</var><code>)</code>;</p><p><code class="funcdef">setof geomval <strong class="fsfunc">ST_Intersection</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, geometry  <var class="pdparam">geomin</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Intersection</strong>(</code>raster  <var class="pdparam">rast1</var>, raster  <var class="pdparam">rast2</var>, double precision[]  <var class="pdparam">nodataval</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Intersection</strong>(</code>raster  <var class="pdparam">rast1</var>, raster  <var class="pdparam">rast2</var>, text  <var class="pdparam">returnband</var>, double precision[]  <var class="pdparam">nodataval</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Intersection</strong>(</code>raster  <var class="pdparam">rast1</var>, integer  <var class="pdparam">band1</var>, raster  <var class="pdparam">rast2</var>, integer  <var class="pdparam">band2</var>, double precision[]  <var class="pdparam">nodataval</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Intersection</strong>(</code>raster  <var class="pdparam">rast1</var>, integer  <var class="pdparam">band1</var>, raster  <var class="pdparam">rast2</var>, integer  <var class="pdparam">band2</var>, text  <var class="pdparam">returnband</var>, double precision[]  <var class="pdparam">nodataval</var><code>)</code>;</p></div></div><div class="refsection" id="idm33539"><h2>Descrição</h2><p>Retorna uma raster ou conjunto de pares de valores de pixeis de geometria representando a porção dividida de dois rasters ou a interseção geométrica de uma vetorização do raster e uma geometria. </p><p>As primeiras três variantes, retornando um conjunto de geomval, funciona no espaço vetor. Primeiramente, o raster é vetorizado (usando a ST_DumpAsPolygon) dentro de linhas geomval e elas intersectam com a geometria usando a função PostGIS ST_Intersection(geometria, geometria). Somente as geometrias intersectando com uma área de valor nodata  de um raster, retornam uma geometria vazia. Normalmente, elas são excluídas dos resultados pelo próprio uso da ST_Intersect na cláusula ONDE.  </p><p>Você pode acessar a geometria e as partes do valor do conjunto geomval resultante colocando parênteses e adicionando '.geom' ou '.val' no fim da expressão. ex.: (ST_Intersection(rast, geom)).geom </p><p>As outras variantes, retornando um raster, funcionam no espaço raster. Elas estão usando a versão de dois raster da ST_MapAlgebraExp para representar a interseção.  </p><p>A extensão do raster resultante corresponde à interseção geométrica das duas extensões raster. O raster resultante inclui 'BANDA1', 'BANDA2' ou 'AMBAS' as bandas, a seguir o que é passado como o parâmetro <code class="varname">returnband</code>. As áreas do valor nodata presentes em qualquer banda resultam áreas de valor nodata em todas as bandas do resultado. Em outras palavras, qualquer pixel intersectando com um pixel de valor nodata se torna um pixel de valor nodata no resultado.  </p><p>Os rasters resultantes da ST_Intersection devem ter um valor nodata designado para áreas que não intersectam. Você pode definir ou substituir o valor nodata para qualquer banda resultante fornecendo um arranjo <code class="varname">nodataval[]</code> de um ou dois valores nodata, dependendo se solicitou  'BANDA1', 'BANDA2' ou 'AMBAS' as bandas. O primeiro valor no arranjo substitui o valor nodata na primeira banda e o segundo substitui o valor nodata na segunda banda. Se uma banda de entrada não possuir o valor nodata definido e nenhum for fornecido como arranjo, um é escolhido usando a função ST_MinPossibleValue. Todas as variantes que aceitam um arranjo com valor nodata também aceita um único valor que pode ser designado para cada banda pedida.  </p><p>Em todas as variantes, se nenhum número de banda for especificado, a banda 1 é assumida. Se precisar de uma interseção entre um raster e uma geometria que retorna um raster, recorra a <a class="xref" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a>. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para ter mais controle na extensão resultante ou no que retorna quando encontra um valor nodata, use a versão de dois raster da <a class="xref" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para calcular a interseção de uma banda raster com uma geometria em um espaço raster, use <a class="xref" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a>. ST_Clip funciona em várias bandas rasters e não retorna uma banda correspondente para uma geometria rasterizada.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A ST_Intersection deveria ser usada em conjunto com a ST_Intersects e um índice na coluna raster e/ou na coluna geométrica.  </p></td></tr></table></div><p>Melhorias: 2.0.0 - Interseção no espaço raster foi introduzida. Nas versões anteriores pre-2.0.0, somente a interseção apresentada no espaço do vetor era suportada.  </p></div><div class="refsection" id="idm33560"><h2>Exemplos: Geometria, Raster -- resultando em geometria vals</h2><pre class="programlisting">SELECT
    foo.rid,
    foo.gid,
    ST_AsText((foo.geomval).geom) As geomwkt,
    (foo.geomval).val
FROM (
    SELECT
        A.rid,
        g.gid,
        ST_Intersection(A.rast, g.geom) As geomval
    FROM dummy_rast AS A
    CROSS JOIN (
        VALUES
            (1, ST_Point(3427928, 5793243.85) ),
            (2, ST_GeomFromText('LINESTRING(3427927.85 5793243.75,3427927.8 5793243.75,3427927.8 5793243.8)')),
            (3, ST_GeomFromText('LINESTRING(1 2, 3 4)'))
    ) As g(gid,geom)
    WHERE A.rid = 2
) As foo;

 rid | gid |      geomwkt                                               | val
-----+-----+---------------------------------------------------------------------------------------------
   2 |   1 | POINT(3427928 5793243.85)                                  | 249
   2 |   1 | POINT(3427928 5793243.85)                                  | 253
   2 |   2 | POINT(3427927.85 5793243.75)                               | 254
   2 |   2 | POINT(3427927.8 5793243.8)                                 | 251
   2 |   2 | POINT(3427927.8 5793243.8)                                 | 253
   2 |   2 | LINESTRING(3427927.8 5793243.75,3427927.8 5793243.8)   | 252
   2 |   2 | MULTILINESTRING((3427927.8 5793243.8,3427927.8 5793243.75),...) | 250
   2 |   3 | GEOMETRYCOLLECTION EMPTY
                    </pre></div><div class="refsection" id="idm33563"><h2>Veja também</h2><p><a class="xref" href="#geomval" title="geomval">geomval</a>, <a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>, <a class="xref" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a> </p></div></div><div class="refentry" id="RT_ST_MapAlgebra"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MapAlgebra (callback function version) — Versão função retorno - Retorna um raster de uma banda dado um ou mais rasters de entrada, os índices e uma função retorno de um usuário específico.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>rastbandarg[]  <var class="pdparam">rastbandargset</var>, regprocedure  <var class="pdparam">callbackfunc</var>, text  <var class="pdparam">pixeltype=NULL</var>, text  <var class="pdparam">extenttype=INTERSECTION</var>, raster  <var class="pdparam">customextent=NULL</var>, integer  <var class="pdparam">distancex=0</var>, integer  <var class="pdparam">distancey=0</var>, text[]  <var class="pdparam">VARIADIC userargs=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster  <var class="pdparam">rast</var>, integer[]  <var class="pdparam">nband</var>, regprocedure  <var class="pdparam">callbackfunc</var>, text  <var class="pdparam">pixeltype=NULL</var>, text  <var class="pdparam">extenttype=FIRST</var>, raster  <var class="pdparam">customextent=NULL</var>, integer  <var class="pdparam">distancex=0</var>, integer  <var class="pdparam">distancey=0</var>, text[]  <var class="pdparam">VARIADIC userargs=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, regprocedure  <var class="pdparam">callbackfunc</var>, text  <var class="pdparam">pixeltype=NULL</var>, text  <var class="pdparam">extenttype=FIRST</var>, raster  <var class="pdparam">customextent=NULL</var>, integer  <var class="pdparam">distancex=0</var>, integer  <var class="pdparam">distancey=0</var>, text[]  <var class="pdparam">VARIADIC userargs=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster  <var class="pdparam">rast1</var>, integer  <var class="pdparam">nband1</var>, raster  <var class="pdparam">rast2</var>, integer  <var class="pdparam">nband2</var>, regprocedure  <var class="pdparam">callbackfunc</var>, text  <var class="pdparam">pixeltype=NULL</var>, text  <var class="pdparam">extenttype=INTERSECTION</var>, raster  <var class="pdparam">customextent=NULL</var>, integer  <var class="pdparam">distancex=0</var>, integer  <var class="pdparam">distancey=0</var>, text[]  <var class="pdparam">VARIADIC userargs=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster <var class="pdparam">rast</var>, integer <var class="pdparam">nband</var>, regprocedure  <var class="pdparam">callbackfunc</var>, float8[]  <var class="pdparam">mask</var>, boolean  <var class="pdparam">weighted</var>, text  <var class="pdparam">pixeltype=NULL</var>, text  <var class="pdparam">extenttype=INTERSECTION</var>, raster  <var class="pdparam">customextent=NULL</var>, text[]  <var class="pdparam">VARIADIC userargs=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm33730"><h2>Descrição</h2><p>Retorna um raster de uma banda dado um ou mais rasters de entrada, os índices e uma função retorno de um usuário específico.  </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">rast,rast1,rast2, rastbandargset</code></span></dt><dd><p>Rasters onde o processo do mapa algébrico é avaliado. </p><p><code class="varname">rastbandargset</code> permite o uso de uma operação do mapa algébrico em vários rasters e/ou bandas. Veja o exemplo da Variante 1.  </p></dd><dt><span class="term"><code class="varname">nband, nband1, nband2</code></span></dt><dd><p>Os números de banda do raster a ser avaliado. nband pode ser um inteiro ou inteiro [] indicando as bandas. nband1 é uma banda no rast1 e nband2 é banda no rast2 para caso the 2 raster/2band. </p></dd><dt><span class="term"><code class="varname">callbackfunc</code></span></dt><dd><p>The <code class="varname">callbackfunc</code> parameter must be the name and signature of an SQL or PL/pgSQL function, cast to a regprocedure. An example PL/pgSQL function example is: </p><pre class="programlisting">CREATE OR REPLACE FUNCTION sample_callbackfunc(value double precision[][][], position integer[][], VARIADIC userargs text[])
    RETURNS double precision
    AS $$
    BEGIN
        RETURN 0;
    END;
    $$ LANGUAGE 'plpgsql' IMMUTABLE;
                                    </pre><p>The <code class="varname">callbackfunc</code> must have three arguments: a 3-dimension double precision array, a 2-dimension integer array and a variadic 1-dimension text array. The first argument <code class="varname">value</code> is the set of values (as double precision) from all input rasters. The three dimensions (where indexes are 1-based) are: raster #, row y, column x. The second argument <code class="varname">position</code> is the set of pixel positions from the output raster and input rasters. The outer dimension (where indexes are 0-based) is the raster #. The position at outer dimension index 0 is the output raster's pixel position. For each outer dimension, there are two elements in the inner dimension for X and Y. The third argument <code class="varname">userargs</code> is for passing through any user-specified arguments. </p><p>Passing a <span class="type">regprocedure</span> argument to a SQL function requires the full function signature to be passed, then cast to a <span class="type">regprocedure</span> type. To pass the above example PL/pgSQL function as an argument, the SQL for the argument is: </p><pre class="programlisting">'sample_callbackfunc(double precision[], integer[], text[])'::regprocedure
                                    </pre><p>Note that the argument contains the name of the function, the types of the function arguments, quotes around the name and argument types, and a cast to a <span class="type">regprocedure</span>. </p></dd><dt><span class="term"><code class="varname">mask</code></span></dt><dd><p>An n-dimensional array (matrix) of numbers used to filter what cells get passed to map algebra call-back function. 0 means a neighbor cell value should be treated as no-data and 1 means value should be treated as data. If weight is set to true, then the values, are used as multipliers to multiple the pixel value of that value in the neighborhood position. </p></dd><dt><span class="term"><code class="varname">weighted</code></span></dt><dd><p>booleano (verdadeiro/falso) para indicar se o valor da máscara deveria ser pesado (multiplicado pelo valor original) ou não (só se aplica para protocolo que usa máscara).  </p></dd><dt><span class="term"><code class="varname">pixeltype</code></span></dt><dd><p>Se um <code class="varname">pixeltype</code> for passado, a banda do novo raster será desse tipo de pixel. Se ele passar NULO ou for deixado, a nova banda raster terá o mesmo tipo de pixel da banda especificada do primeiro raster (para tipos de extensão: INTERSEÇÃO, UNIÃO, PRIMEIRO, CUSTOM) ou da banda específica do raster apropriado (para tipos de extensão: SEGUNDO, ÚLTIMO). Se estiver em dúvida, sempre especifique <code class="varname">pixeltype</code>.  </p><p>O tipo de pixel resultante do raster de saída devem ser listados em <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a> ou deixado de fora ou NULO.  </p></dd><dt><span class="term"><code class="varname">extenttype</code></span></dt><dd><p>Possíveis valores são INTERSEÇÃO (padrão), UNIÃO, PRIMEIRO (padrão para uma variante raster), SEGUNDO, ÚLTIMO, CUSTOM.  </p></dd><dt><span class="term"><code class="varname">customextent</code></span></dt><dd><p>Se <code class="varname">extentype</code> for CUSTOM, um raster deve ser fornecido para <code class="varname">customextent</code>. Veja o exemplo 4 de Variante 1.  </p></dd><dt><span class="term"><code class="varname">distancex</code></span></dt><dd><p>The distance in pixels from the reference cell in x direction. So width of resulting matrix would be <code class="code">2*distancex + 1</code>.If not specified only the reference cell is considered (neighborhood of 0). </p></dd><dt><span class="term"><code class="varname">distancey</code></span></dt><dd><p>A distância em pixeis da célula de referência na direção y. A altura da matriz resultante seria <code class="code">2*distancey + 1</code>. Se não especificada, apenas a célula referência é considerada (vizinhança de 0).  </p></dd><dt><span class="term"><code class="varname">userargs</code></span></dt><dd><p>O terceiro argumento para a <code class="varname">callbackfunc</code> é um arranjo <span class="type">variadic text</span>. Todos os argumentos de caminho de texto são passados pelo <code class="varname">callbackfunc</code> especificado, e são contados no argumento <code class="varname">userargs</code>.  </p></dd></dl></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para maiores informações sobre a palavra-chave VARIADIC, por favor recorra à documentação do PostgreSQL e a seção  "SQL Functions with Variable Numbers of Arguments" do <a class="link" href="http://www.postgresql.org/docs/current/static/xfunc-sql.html" target="_top">Query Language (SQL) Functions</a>. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O argumento <span class="type">text[]</span> para a <code class="varname">callbackfunc</code> é requerido, independente de onde você escolher passar qualquer argumento para a função retorno para processar ou não.  </p></td></tr></table></div><p>A Variante 1 aceita um arranjo de <code class="varname">rastbandarg</code> permitindo o uso da operação de mapa algébrico em vários rasters e/ou bandas. Veja o exemplo de Variante 1.  </p><p>As Variantes 2 e 3 operam em uma ou mais bandas de um raster. Veja os exemplos das Variantes 2 e 3.  </p><p>A Variante 4 opera em dois raster com uma banda por raster. Veja o exemplo da Variante 4. </p><p class="availability">Disponibilidade: 2.2.0: Habilidade de adicionar máscara</p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm33829"><h2>Exemplos: Variante 1</h2><p>Um raster, uma banda</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0) AS rast
)
SELECT
    ST_MapAlgebra(
        ARRAY[ROW(rast, 1)]::rastbandarg[],
        'sample_callbackfunc(double precision[], int[], text[])'::regprocedure
    ) AS rast
FROM foo
                    </pre><p>Um raster, várias bandas</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI', 100, 0) AS rast
)
SELECT
    ST_MapAlgebra(
        ARRAY[ROW(rast, 3), ROW(rast, 1), ROW(rast, 3), ROW(rast, 2)]::rastbandarg[],
        'sample_callbackfunc(double precision[], int[], text[])'::regprocedure
    ) AS rast
FROM foo
                    </pre><p>Vŕios rasters, várias bandas</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI', 100, 0) AS rast UNION ALL
    SELECT 2 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 1, 1, -1, 0, 0, 0), 1, '16BUI', 2, 0), 2, '8BUI', 20, 0), 3, '32BUI', 300, 0) AS rast
)
SELECT
    ST_MapAlgebra(
        ARRAY[ROW(t1.rast, 3), ROW(t2.rast, 1), ROW(t2.rast, 3), ROW(t1.rast, 2)]::rastbandarg[],
        'sample_callbackfunc(double precision[], int[], text[])'::regprocedure
    ) AS rast
FROM foo t1
CROSS JOIN foo t2
WHERE t1.rid = 1
    AND t2.rid = 2
                    </pre><p>Exemplo completo de tiles de uma cobertura com vizinhança. Esta consulta funciona apenas com PostgreSQL 9.1 ou superior. </p><pre class="programlisting">WITH foo AS (
    SELECT 0 AS rid, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0) AS rast UNION ALL
    SELECT 1, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, 0, 1, -1, 0, 0, 0), 1, '16BUI', 2, 0) AS rast UNION ALL
    SELECT 2, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, 0, 1, -1, 0, 0, 0), 1, '16BUI', 3, 0) AS rast UNION ALL

    SELECT 3, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, -2, 1, -1, 0, 0, 0), 1, '16BUI', 10, 0) AS rast UNION ALL
    SELECT 4, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, -2, 1, -1, 0, 0, 0), 1, '16BUI', 20, 0) AS rast UNION ALL
    SELECT 5, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, -2, 1, -1, 0, 0, 0), 1, '16BUI', 30, 0) AS rast UNION ALL

    SELECT 6, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, -4, 1, -1, 0, 0, 0), 1, '16BUI', 100, 0) AS rast UNION ALL
    SELECT 7, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, -4, 1, -1, 0, 0, 0), 1, '16BUI', 200, 0) AS rast UNION ALL
    SELECT 8, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, -4, 1, -1, 0, 0, 0), 1, '16BUI', 300, 0) AS rast
)
SELECT
    t1.rid,
    ST_MapAlgebra(
        ARRAY[ROW(ST_Union(t2.rast), 1)]::rastbandarg[],
        'sample_callbackfunc(double precision[], int[], text[])'::regprocedure,
        '32BUI',
        'CUSTOM', t1.rast,
        1, 1
    ) AS rast
FROM foo t1
CROSS JOIN foo t2
WHERE t1.rid = 4
    AND t2.rid BETWEEN 0 AND 8
    AND ST_Intersects(t1.rast, t2.rast)
GROUP BY t1.rid, t1.rast
                    </pre><p>Exemplo como o anterior, mas funciona com o PostgreSQL 9.0.</p><pre class="programlisting">WITH src AS (
    SELECT 0 AS rid, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0) AS rast UNION ALL
    SELECT 1, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, 0, 1, -1, 0, 0, 0), 1, '16BUI', 2, 0) AS rast UNION ALL
    SELECT 2, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, 0, 1, -1, 0, 0, 0), 1, '16BUI', 3, 0) AS rast UNION ALL

    SELECT 3, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, -2, 1, -1, 0, 0, 0), 1, '16BUI', 10, 0) AS rast UNION ALL
    SELECT 4, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, -2, 1, -1, 0, 0, 0), 1, '16BUI', 20, 0) AS rast UNION ALL
    SELECT 5, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, -2, 1, -1, 0, 0, 0), 1, '16BUI', 30, 0) AS rast UNION ALL

    SELECT 6, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, -4, 1, -1, 0, 0, 0), 1, '16BUI', 100, 0) AS rast UNION ALL
    SELECT 7, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, -4, 1, -1, 0, 0, 0), 1, '16BUI', 200, 0) AS rast UNION ALL
    SELECT 8, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, -4, 1, -1, 0, 0, 0), 1, '16BUI', 300, 0) AS rast
)
WITH foo AS (
    SELECT
        t1.rid,
        ST_Union(t2.rast) AS rast
    FROM src t1
    JOIN src t2
        ON ST_Intersects(t1.rast, t2.rast)
        AND t2.rid BETWEEN 0 AND 8
    WHERE t1.rid = 4
    GROUP BY t1.rid
), bar AS (
    SELECT
        t1.rid,
        ST_MapAlgebra(
            ARRAY[ROW(t2.rast, 1)]::rastbandarg[],
            'raster_nmapalgebra_test(double precision[], int[], text[])'::regprocedure,
            '32BUI',
            'CUSTOM', t1.rast,
            1, 1
        ) AS rast
    FROM src t1
    JOIN foo t2
        ON t1.rid = t2.rid
)
SELECT
    rid,
    (ST_Metadata(rast)),
    (ST_BandMetadata(rast, 1)),
    ST_Value(rast, 1, 1, 1)
FROM bar;
                    </pre></div><div class="refsection" id="idm33841"><h2>Exemplos: Variantes 2 e 3</h2><p>Um raster, várias bandas</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI', 100, 0) AS rast
)
SELECT
    ST_MapAlgebra(
        rast, ARRAY[3, 1, 3, 2]::integer[],
        'sample_callbackfunc(double precision[], int[], text[])'::regprocedure
    ) AS rast
FROM foo
                    </pre><p>Um raster, uma banda</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI', 100, 0) AS rast
)
SELECT
    ST_MapAlgebra(
        rast, 2,
        'sample_callbackfunc(double precision[], int[], text[])'::regprocedure
    ) AS rast
FROM foo
                    </pre></div><div class="refsection" id="idm33847"><h2>Exemplos: Variante 4</h2><p>Dois rasters, duas bandas</p><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI', 100, 0) AS rast UNION ALL
    SELECT 2 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 1, 1, -1, 0, 0, 0), 1, '16BUI', 2, 0), 2, '8BUI', 20, 0), 3, '32BUI', 300, 0) AS rast
)
SELECT
    ST_MapAlgebra(
        t1.rast, 2,
        t2.rast, 1,
        'sample_callbackfunc(double precision[], int[], text[])'::regprocedure
    ) AS rast
FROM foo t1
CROSS JOIN foo t2
WHERE t1.rid = 1
    AND t2.rid = 2
                    </pre></div><div class="refsection" id="idm33851"><h2>Exemplos: Utilizando Máscaras</h2><pre class="programlisting">WITH foo AS (SELECT
   ST_SetBandNoDataValue(
ST_SetValue(ST_SetValue(ST_AsRaster(
        ST_Buffer(
            ST_GeomFromText('LINESTRING(50 50,100 90,100 50)'), 5,'join=bevel'),
            200,200,ARRAY['8BUI'], ARRAY[100], ARRAY[0]), ST_Buffer('POINT(70 70)'::geometry,10,'quad_segs=1') ,50),
  'LINESTRING(20 20, 100 100, 150 98)'::geometry,1),0)  AS rast )
SELECT 'original' AS title, rast
FROM foo
UNION ALL
SELECT 'no mask mean value' AS title, ST_MapAlgebra(rast,1,'ST_mean4ma(double precision[], int[], text[])'::regprocedure) AS rast
FROM foo
UNION ALL
SELECT 'mask only consider neighbors, exclude center' AS title, ST_MapAlgebra(rast,1,'ST_mean4ma(double precision[], int[], text[])'::regprocedure,
    '{{1,1,1}, {1,0,1}, {1,1,1}}'::double precision[], false) As rast
FROM foo

UNION ALL
SELECT 'mask weighted only consider neighbors, exclude center multi other pixel values by 2' AS title, ST_MapAlgebra(rast,1,'ST_mean4ma(double precision[], int[], text[])'::regprocedure,
    '{{2,2,2}, {2,0,2}, {2,2,2}}'::double precision[], true) As rast
FROM foo;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebramask01.png"/><div class="caption"><p>original</p></div></div></div><p>
                                        </p>
                                    </td><td style="border-bottom: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebramask02.png"/><div class="caption"><p>nenhuma máscara significa valor (é o mesmo que todos 1s na matriz máscara)</p></div></div></div><p>
                                        </p>
                                    </td></tr><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebramask03.png"/><div class="caption"><p>máscara considera somente vizinhos, exclui centro</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebramask04.png"/><div class="caption"><p>máscara pesada considera somente vizinhos, exclui centro multi outros valores de pixel por 2</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm33891"><h2>Veja também</h2><p><a class="xref" href="#rastbandarg" title="rastbandarg">rastbandarg</a>, <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a>, <a class="xref" href="#RT_ST_MapAlgebra_expr" title="ST_MapAlgebra (expression version)">ST_MapAlgebra (expression version)</a> </p></div></div><div class="refentry" id="RT_ST_MapAlgebra_expr"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MapAlgebra (expression version) — Versão expressão - Retorna um raster de uma banda dado um ou mais rasters de entrada, índices de banda e uma ou mais expressões SQL de usuários específicos. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, text  <var class="pdparam">pixeltype</var>, text  <var class="pdparam">expression</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">pixeltype</var>, text  <var class="pdparam">expression</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster  <var class="pdparam">rast1</var>, integer  <var class="pdparam">nband1</var>, raster  <var class="pdparam">rast2</var>, integer  <var class="pdparam">nband2</var>, text  <var class="pdparam">expression</var>, text  <var class="pdparam">pixeltype=NULL</var>, text  <var class="pdparam">extenttype=INTERSECTION</var>, text  <var class="pdparam">nodata1expr=NULL</var>, text  <var class="pdparam">nodata2expr=NULL</var>, double precision  <var class="pdparam">nodatanodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebra</strong>(</code>raster  <var class="pdparam">rast1</var>, raster  <var class="pdparam">rast2</var>, text  <var class="pdparam">expression</var>, text  <var class="pdparam">pixeltype=NULL</var>, text  <var class="pdparam">extenttype=INTERSECTION</var>, text  <var class="pdparam">nodata1expr=NULL</var>, text  <var class="pdparam">nodata2expr=NULL</var>, double precision  <var class="pdparam">nodatanodataval=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm33996"><h2>Descrição</h2><p>Versão expressão - Retorna um raster de uma banda dado um ou mais rasters de entrada, índices de banda e uma ou mais expressões SQL de usuários específicos. </p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm34000"><h2>Descrição: Variantes 1 e 2 (um raster)</h2><p>Cria uma nova banda raster formada pela aplicação válida de uma operação algébrica PostgreSQL definida pela <code class="varname">expression</code> no raster de saída (<code class="varname">rast</code>). Se <code class="varname">nband</code> não for dado, a banda 1 é assumida. O novo raster terá a mesma georreferência, largura e altura que o raster original, mas só terá uma banda.  </p><p>Se um <code class="varname">pixeltype</code> passar, então o novo raster terá a mesma banda dele. Se o tipo de pixel passar NULO, a nova banda raster terá o mesmo tipo de pixel que a banda de entrada <code class="varname">rast</code>. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Palavras-chave permitidas para <code class="varname">expression</code></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">[rast]</code> - Valor do pixel de interesse </p></li><li class="listitem"><p><code class="varname">[rast.val]</code> - Valor do pixel de interesse </p></li><li class="listitem"><p><code class="varname">[rast.x]</code> - coluna pixel 1-baseada do pixel de interesse  </p></li><li class="listitem"><p><code class="varname">[rast.y]</code> - linha pixel 1-baseada do pixel de interesse </p></li></ol></div></li></ul></div></div><div class="refsection" id="idm34026"><h2>Descrição: Variantes 3 e 4 (dois rasters)</h2><p>Cria uma nova banda raster formada pela aplicação válida de uma operação algébrica PostgreSQL definida pela <code class="varname">expression</code> no raster de saída (<code class="varname">rast</code>). Se <code class="varname">nband</code>, <code class="varname">band2</code> não forem especificados, a banda 1 é assumida. O raster resultante será alinhado (escala, inclinação e cantos de pixel) na grade definida pelo primeiro raster. O raster resultante terá de ser definido pelo primeiro raster. O raster resultante terá a extensão definida pelo parâmetro <code class="varname">extenttype</code>. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">expression</code></span></dt><dd><p>Uma expressão algébrica PostgreSQL envolvendo dois rasters e funções/operadores PostgreSQL definidos que irão elucidar o valor do pixel quando eles se intersectarem. ex.: (([rast1] + [rast2])/2.0)::integer </p></dd><dt><span class="term"><code class="varname">pixeltype</code></span></dt><dd><p>O tipo de pixel resultante do raster de saída. Deve ser um listado em <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, deixado de fora ou NULO. Se não passar ou for NULO, usa-se o tipo de pixel do primeiro raster. </p></dd><dt><span class="term"><code class="varname">extenttype</code></span></dt><dd><p>Controla a extensão do raster resultante </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">INTERSECTION</code> - A extensão do novo raster é a interseção de dois rasters. Este é o padrão.  </p></li><li class="listitem"><p><code class="varname">UNION</code> - A extensão do novo raster é a união dos dois raster.  </p></li><li class="listitem"><p><code class="varname">FIRST</code> - A extensão do novo raster é a mesma da do primeiro raster.  </p></li><li class="listitem"><p><code class="varname">SECOND</code> - A extensão do novo raster é a mesma da do segundo raster.  </p></li></ol></div></dd><dt><span class="term"><code class="varname">nodata1expr</code></span></dt><dd><p>Uma expressão algébrica envolvendo somente <code class="varname">rast2</code> ou uma constante que define o que retornar quando pixeis de <code class="varname">rast1</code> são valores nodata e os pixeis rast2 têm valores.  </p></dd><dt><span class="term"><code class="varname">nodata2expr</code></span></dt><dd><p>Uma expressão algébrica envolvendo somente <code class="varname">rast1</code> ou uma constante que define o que retornar quando pixeis de <code class="varname">rast2</code> são valores nodata e os pixeis rast1 têm valores.  </p></dd><dt><span class="term"><code class="varname">nodatanodataval</code></span></dt><dd><p>Uma constante numérica para retornar quando os pixeis rast1 e raste2 forem ambos valores nodata.  </p></dd></dl></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Palavras-chave permitidas em  <code class="varname">expression</code>, <code class="varname">nodata1expr</code> e <code class="varname">nodata2expr</code></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">[rast1]</code> - Valor do pixel de interesse do <code class="varname">rast1</code></p></li><li class="listitem"><p><code class="varname">[rast1.val]</code> - Valor do pixel de interesse do <code class="varname">rast1</code></p></li><li class="listitem"><p><code class="varname">[rast1.x]</code> - coluna pixel 1-based do pixel de interesse do<code class="varname">rast1</code></p></li><li class="listitem"><p><code class="varname">[rast1.y]</code> - linha pixel 1-based do pixel de interesse do<code class="varname">rast1</code></p></li><li class="listitem"><p><code class="varname">[rast2]</code> - Valor do pixel de interesse do <code class="varname">rast2</code></p></li><li class="listitem"><p><code class="varname">[rast2.val]</code> - Valor do pixel de interesse do <code class="varname">rast2</code></p></li><li class="listitem"><p><code class="varname">[rast2.x]</code> - coluna pixel 1-based do pixel de interesse do<code class="varname">rast2</code></p></li><li class="listitem"><p><code class="varname">[rast2.y]</code> - linha pixel 1-based do pixel de interesse do<code class="varname">rast2</code></p></li></ol></div></li></ul></div></div><div class="refsection" id="idm34122"><h2>Exemplos: Variantes 1 e 2</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_AddBand(ST_MakeEmptyRaster(10, 10, 0, 0, 1, 1, 0, 0, 0), '32BF'::text, 1, -1) AS rast
)
SELECT
    ST_MapAlgebra(rast, 1, NULL, 'ceil([rast]*[rast.x]/[rast.y]+[rast.val])')
FROM foo;
                    </pre></div><div class="refsection" id="idm34125"><h2>Exemplos: Variantes 3 e 4</h2><pre class="programlisting">WITH foo AS (
    SELECT 1 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, 0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI'::text, 100, 0) AS rast UNION ALL
    SELECT 2 AS rid, ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 1, 1, -1, 0, 0, 0), 1, '16BUI', 2, 0), 2, '8BUI', 20, 0), 3, '32BUI'::text, 300, 0) AS rast
)
SELECT
    ST_MapAlgebra(
        t1.rast, 2,
        t2.rast, 1,
        '([rast2] + [rast1.val]) / 2'
    ) AS rast
FROM foo t1
CROSS JOIN foo t2
WHERE t1.rid = 1
    AND t2.rid = 2;
                    </pre></div><div class="refsection" id="idm34128"><h2>Veja também</h2><p><a class="xref" href="#rastbandarg" title="rastbandarg">rastbandarg</a>, <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a> </p></div></div><div class="refentry" id="RT_ST_MapAlgebraExpr"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MapAlgebraExpr — Versão de banda raster 1: Cria uma nova banda raster formada pela aplicação de ma operação algébrica válida do PostgreSQL na banda raster de entrada de um tipo de pixel fornecido. A banda 1 é assumida se nenhuma banda for especificada. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraExpr</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, text  <var class="pdparam">pixeltype</var>, text  <var class="pdparam">expression</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraExpr</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">pixeltype</var>, text  <var class="pdparam">expression</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm34173"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#RT_ST_MapAlgebraExpr" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a> é menosprezado como do 2.1.0. Use <a class="xref" href="#RT_ST_MapAlgebra_expr" title="ST_MapAlgebra (expression version)">ST_MapAlgebra (expression version)</a>. </p></td></tr></table></div><p>Cria uma nova banda raster formada pela aplicação válida de uma operação algébrica PostgreSQL definida pela <code class="varname">expression</code> no raster de entrada (<code class="varname">rast</code>). Se <code class="varname">band</code> não for dado, a banda 1 é assumida. O novo raster terá a mesma georreferência, largura e altura que o raster original, mas só terá uma banda.  </p><p>Se um <code class="varname">pixeltype</code> passar, então o novo raster terá a mesma banda dele. Se o tipo de pixel passar NULO, a nova banda raster terá o mesmo tipo de pixel que a banda de entrada <code class="varname">rast</code>. </p><p>Na expressão você pode usar o termo <code class="varname">[rast]</code> para referir o valor do pixel da banda original, <code class="varname">[rast.x]</code> para referir ao índice da coluna pixel 1-baseada, <code class="varname">[rast.y]</code> para referir ao índice da linha pixel 1-baseada.  </p><p class="availability">Disponibilidade: 2.0.0 </p></div><div class="refsection" id="idm34191"><h2>Exemplos</h2><p>Cria uma nova banda raster 1 a partir da nossa original que é uma função de módulo 2 da banda raster original. </p><pre class="programlisting">ALTER TABLE dummy_rast ADD COLUMN map_rast raster;
UPDATE dummy_rast SET map_rast = ST_MapAlgebraExpr(rast,NULL,'mod([rast]::numeric,2)') WHERE rid = 2;

SELECT
    ST_Value(rast,1,i,j) As origval,
    ST_Value(map_rast, 1, i, j) As mapval
FROM dummy_rast
CROSS JOIN generate_series(1, 3) AS i
CROSS JOIN generate_series(1,3) AS j
WHERE rid = 2;

 origval | mapval
---------+--------
     253 |      1
     254 |      0
     253 |      1
     253 |      1
     254 |      0
     254 |      0
     250 |      0
     254 |      0
     254 |      0
                    </pre><p>Cria uma nova banda raster 1 do tipo de pixel 2BUI a partir da nossa original que é reclassificada e obtém valor nodata 0.</p><pre class="programlisting">ALTER TABLE dummy_rast ADD COLUMN map_rast2 raster;
UPDATE dummy_rast SET
    map_rast2 = ST_MapAlgebraExpr(rast,'2BUI'::text,'CASE WHEN [rast] BETWEEN 100 and 250 THEN 1 WHEN [rast] = 252 THEN 2 WHEN [rast] BETWEEN 253 and 254 THEN 3 ELSE 0 END'::text, '0')
WHERE rid = 2;

SELECT DISTINCT
    ST_Value(rast,1,i,j) As origval,
    ST_Value(map_rast2, 1, i, j) As mapval
FROM dummy_rast
CROSS JOIN generate_series(1, 5) AS i
CROSS JOIN generate_series(1,5) AS j
WHERE rid = 2;

 origval | mapval
---------+--------
     249 |      1
     250 |      1
     251 |
     252 |      2
     253 |      3
     254 |      3

SELECT
    ST_BandPixelType(map_rast2) As b1pixtyp
FROM dummy_rast
WHERE rid = 2;

 b1pixtyp
----------
 2BUI
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr01.png"/><div class="caption"><p>original (column rast_view)</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr02.png"/><div class="caption"><p>rast_view_ma</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div><p>Cria uma nova banda raster 3 do mesmo tipo de pixel da nossa banda 3 original, com a primeira banda alterada pelo mapa algébrico e 2 bandas permanecem inalteradas. </p><pre class="programlisting">SELECT
    ST_AddBand(
        ST_AddBand(
            ST_AddBand(
                ST_MakeEmptyRaster(rast_view),
                ST_MapAlgebraExpr(rast_view,1,NULL,'tan([rast])*[rast]')
            ),
            ST_Band(rast_view,2)
        ),
        ST_Band(rast_view, 3)
    )  As rast_view_ma
FROM wind
WHERE rid=167;
                    </pre></div><div class="refsection" id="idm34219"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>, <a class="xref" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a> </p></div></div><div class="refentry" id="RT_ST_MapAlgebraExpr2"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MapAlgebraExpr — Versão de banda raster 2: Cria uma banda raster nova formada pela aplicação de uma operação algébrica válida PostgreSQL nas duas bandas raster de entrada e do tipo de pixel fornecido. A banda 1 de cada raster é assumida se nenhum número de bandas for especificado. O raster resultante será alinhado (escala, inclinação e cantos de pixel) na grade definida pelo primeiro raster e tem sua extensão definida pelo parâmetro "extenttype". O valores para "extenttype"  pode ser: INTERSEÇÃO, UNIÃO, PRIMEIRO, SEGUNDO.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraExpr</strong>(</code>raster  <var class="pdparam">rast1</var>, raster  <var class="pdparam">rast2</var>, text  <var class="pdparam">expression</var>, text  <var class="pdparam">pixeltype=same_as_rast1_band</var>, text  <var class="pdparam">extenttype=INTERSECTION</var>, text  <var class="pdparam">nodata1expr=NULL</var>, text  <var class="pdparam">nodata2expr=NULL</var>, double precision  <var class="pdparam">nodatanodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraExpr</strong>(</code>raster  <var class="pdparam">rast1</var>, integer  <var class="pdparam">band1</var>, raster  <var class="pdparam">rast2</var>, integer  <var class="pdparam">band2</var>, text  <var class="pdparam">expression</var>, text  <var class="pdparam">pixeltype=same_as_rast1_band</var>, text  <var class="pdparam">extenttype=INTERSECTION</var>, text  <var class="pdparam">nodata1expr=NULL</var>, text  <var class="pdparam">nodata2expr=NULL</var>, double precision  <var class="pdparam">nodatanodataval=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm34293"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a> é menosprezado como do 2.1.0. Use <a class="xref" href="#RT_ST_MapAlgebra_expr" title="ST_MapAlgebra (expression version)">ST_MapAlgebra (expression version)</a>. </p></td></tr></table></div><p>Cria uma nova banda raster formada pela aplicação válida de uma operação algébrica PostgreSQL definida pela <code class="varname">expression</code> no raster de saída (<code class="varname">rast</code>). Se <code class="varname">nband</code>, <code class="varname">band2</code> não forem especificados, a banda 1 é assumida. O raster resultante será alinhado (escala, inclinação e cantos de pixel) na grade definida pelo primeiro raster. O raster resultante terá de ser definido pelo primeiro raster. O raster resultante terá a extensão definida pelo parâmetro <code class="varname">extenttype</code>. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">expression</code></span></dt><dd><p>Uma expressão algébrica PostgreSQL envolvendo dois rasters e funções/operadores PostgreSQL definidos que irão elucidar o valor do pixel quando eles se intersectarem. ex.: (([rast1] + [rast2])/2.0)::integer </p></dd><dt><span class="term"><code class="varname">pixeltype</code></span></dt><dd><p>O tipo de pixel resultante do raster de saída. Deve ser um listado em <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, deixado de fora ou NULO. Se não passar ou for NULO, usa-se o tipo de pixel do primeiro raster. </p></dd><dt><span class="term"><code class="varname">extenttype</code></span></dt><dd><p>Controla a extensão do raster resultante</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">INTERSECTION</code> - A extensão do novo raster é a interseção de dois rasters. Este é o padrão.  </p></li><li class="listitem"><p><code class="varname">UNION</code> - A extensão do novo raster é a união dos dois raster.  </p></li><li class="listitem"><p><code class="varname">FIRST</code> - A extensão do novo raster é a mesma da do primeiro raster.  </p></li><li class="listitem"><p><code class="varname">SECOND</code> - A extensão do novo raster é a mesma da do segundo raster.  </p></li></ol></div></dd><dt><span class="term"><code class="varname">nodata1expr</code></span></dt><dd><p>Uma expressão algébrica envolvendo somente <code class="varname">rast2</code> ou uma constante que define o que retornar quando pixeis de <code class="varname">rast1</code> são valores nodata e os pixeis rast2 têm valores.  </p></dd><dt><span class="term"><code class="varname">nodata2expr</code></span></dt><dd><p>Uma expressão algébrica envolvendo somente <code class="varname">rast1</code> ou uma constante que define o que retornar quando pixeis de <code class="varname">rast2</code> são valores nodata e os pixeis rast1 têm valores.  </p></dd><dt><span class="term"><code class="varname">nodatanodataval</code></span></dt><dd><p>Uma constante numérica para retornar quando os pixeis rast1 e raste2 forem ambos valores nodata.  </p></dd></dl></div><p>Se <code class="varname">pixeltype</code> passar, o novo raster terá uma banda desse tipo de pixel. Se o tipo de pixel passar NULOou nenhum tipo for especificado, a nova banda raster terá o mesmo tipo de pixel da banda de entrada <code class="varname">rast1</code>. </p><p>Use o termo <code class="varname">[rast1.val]</code> <code class="varname">[rast2.val]</code> para referir-se ao valor de pixel das bandas rasters originais e <code class="varname">[rast1.x]</code>, <code class="varname">[rast1.y]</code> etc. para referir-se à posição da coluna/linha dos pixeis.  </p><p class="availability">Disponibilidade: 2.0.0 </p></div><div class="refsection" id="idm34363"><h2>Exemplo: 2 Interseção de Banda e União</h2><p>Cria uma nova banda raster 1 a partir da nossa original que é uma função de módulo 2 da banda raster original. </p><pre class="programlisting">--Create a cool set of rasters --
DROP TABLE IF EXISTS fun_shapes;
CREATE TABLE fun_shapes(rid serial PRIMARY KEY, fun_name text, rast raster);

-- Insert some cool shapes around Boston in Massachusetts state plane meters --
INSERT INTO fun_shapes(fun_name, rast)
VALUES ('ref', ST_AsRaster(ST_MakeEnvelope(235229, 899970, 237229, 901930,26986),200,200,'8BUI',0,0));

INSERT INTO fun_shapes(fun_name,rast)
WITH ref(rast) AS (SELECT rast FROM fun_shapes WHERE fun_name = 'ref' )
SELECT 'area' AS fun_name, ST_AsRaster(ST_Buffer(ST_SetSRID(ST_Point(236229, 900930),26986), 1000),
            ref.rast,'8BUI', 10, 0) As rast
FROM ref
UNION ALL
SELECT 'rand bubbles',
            ST_AsRaster(
            (SELECT ST_Collect(geom)
    FROM (SELECT ST_Buffer(ST_SetSRID(ST_Point(236229 + i*random()*100, 900930 + j*random()*100),26986), random()*20) As geom
            FROM generate_series(1,10) As i, generate_series(1,10) As j
            ) As foo ), ref.rast,'8BUI', 200, 0)
FROM ref;

--map them -
SELECT  ST_MapAlgebraExpr(
        area.rast, bub.rast, '[rast2.val]', '8BUI', 'INTERSECTION', '[rast2.val]', '[rast1.val]') As interrast,
        ST_MapAlgebraExpr(
            area.rast, bub.rast, '[rast2.val]', '8BUI', 'UNION', '[rast2.val]', '[rast1.val]') As unionrast
FROM
  (SELECT rast FROM fun_shapes WHERE
 fun_name = 'area') As area
CROSS JOIN  (SELECT rast
FROM fun_shapes WHERE
 fun_name = 'rand bubbles') As bub
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr2_01.png"/><div class="caption"><p>interseção de mapa algébrico</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr2_02.png"/><div class="caption"><p>união de mapa algébrico</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm34387"><h2>Exemplo: Revestindo rasters em um quadro como bandas separadas </h2><pre class="programlisting">-- we use ST_AsPNG to render the image so all single band ones look grey --
WITH mygeoms
    AS ( SELECT 2 As bnum, ST_Buffer(ST_Point(1,5),10) As geom
            UNION ALL
            SELECT 3 AS bnum,
                ST_Buffer(ST_GeomFromText('LINESTRING(50 50,150 150,150 50)'), 10,'join=bevel') As geom
            UNION ALL
            SELECT 1 As bnum,
                ST_Buffer(ST_GeomFromText('LINESTRING(60 50,150 150,150 50)'), 5,'join=bevel') As geom
            ),
   -- define our canvas to be 1 to 1 pixel to geometry
   canvas
    AS (SELECT ST_AddBand(ST_MakeEmptyRaster(200,
        200,
        ST_XMin(e)::integer, ST_YMax(e)::integer, 1, -1, 0, 0) , '8BUI'::text,0) As rast
        FROM (SELECT ST_Extent(geom) As e,
                    Max(ST_SRID(geom)) As srid
                    from mygeoms
                    ) As foo
            ),
   rbands AS (SELECT ARRAY(SELECT ST_MapAlgebraExpr(canvas.rast, ST_AsRaster(m.geom, canvas.rast, '8BUI', 100),
                 '[rast2.val]', '8BUI', 'FIRST', '[rast2.val]', '[rast1.val]') As rast
                FROM mygeoms AS m CROSS JOIN canvas
                ORDER BY m.bnum) As rasts
                )
          SELECT rasts[1] As rast1 , rasts[2] As rast2, rasts[3] As rast3, ST_AddBand(
                    ST_AddBand(rasts[1],rasts[2]), rasts[3]) As final_rast
            FROM rbands;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr2_04.png"/><div class="caption"><p>rast1</p></div></div></div><p>
                                        </p>
                                    </td><td style="border-bottom: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr2_05.png"/><div class="caption"><p>rast2</p></div></div></div><p>
                                        </p>
                                    </td></tr><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr2_06.png"/><div class="caption"><p>rast3</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr2_07.png"/><div class="caption"><p>final_rast</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm34427"><h2>Exemplo: Cobre 2 metros de limite das parcelas selecionadas sobre uma área imaginária</h2><pre class="programlisting">-- Create new 3 band raster composed of first 2 clipped bands, and overlay of 3rd band with our geometry
-- This query took 3.6 seconds on PostGIS windows 64-bit install
WITH pr AS
-- Note the order of operation: we clip all the rasters to dimensions of our region
(SELECT ST_Clip(rast,ST_Expand(geom,50) ) As rast, g.geom
    FROM aerials.o_2_boston AS r INNER JOIN
-- union our parcels of interest so they form a single geometry we can later intersect with
        (SELECT ST_Union(ST_Transform(geom,26986)) AS geom
          FROM landparcels WHERE pid IN('0303890000', '0303900000')) As g
        ON ST_Intersects(rast::geometry, ST_Expand(g.geom,50))
),
-- we then union the raster shards together
-- ST_Union on raster is kinda of slow but much faster the smaller you can get the rasters
-- therefore we want to clip first and then union
prunion AS
(SELECT ST_AddBand(NULL, ARRAY[ST_Union(rast,1),ST_Union(rast,2),ST_Union(rast,3)] ) As clipped,geom
FROM pr
GROUP BY geom)
-- return our final raster which is the unioned shard with
-- with the overlay of our parcel boundaries
-- add first 2 bands, then mapalgebra of 3rd band + geometry
SELECT ST_AddBand(ST_Band(clipped,ARRAY[1,2])
    , ST_MapAlgebraExpr(ST_Band(clipped,3), ST_AsRaster(ST_Buffer(ST_Boundary(geom),2),clipped, '8BUI',250),
     '[rast2.val]', '8BUI', 'FIRST', '[rast2.val]', '[rast1.val]') ) As rast
FROM prunion;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr2_08.png"/><div class="caption"><p>As linhas azuis são os limites das parcelas selecionadas </p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm34442"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebraExpr" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>, <a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>, <a class="xref" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>, <a class="xref" href="#RT_ST_AsRaster" title="ST_AsRaster">ST_AsRaster</a>, <a class="xref" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_Union" title="ST_Union">ST_Union</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a> </p></div></div><div class="refentry" id="RT_ST_MapAlgebraFct"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MapAlgebraFct — Versão de banda raster 1: Cria uma nova banda raster formada pela aplicação de uma função válida do PostgreSQL na banda raster de entrada de um tipo de pixel fornecido. A banda 1 é assumida se nenhuma banda for especificada. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, regprocedure <var class="pdparam">onerasteruserfunc</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, regprocedure <var class="pdparam">onerasteruserfunc</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, text <var class="pdparam">pixeltype</var>, regprocedure <var class="pdparam">onerasteruserfunc</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, text <var class="pdparam">pixeltype</var>, regprocedure <var class="pdparam">onerasteruserfunc</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, integer <var class="pdparam">band</var>, regprocedure <var class="pdparam">onerasteruserfunc</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, integer <var class="pdparam">band</var>, regprocedure <var class="pdparam">onerasteruserfunc</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, integer <var class="pdparam">band</var>, text <var class="pdparam">pixeltype</var>, regprocedure <var class="pdparam">onerasteruserfunc</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast</var>, integer <var class="pdparam">band</var>, text <var class="pdparam">pixeltype</var>, regprocedure <var class="pdparam">onerasteruserfunc</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p></div></div><div class="refsection" id="idm34569"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> é menosprezado como do 2.1.0. Use <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><p>Cria uma nova banda raster formada pela aplicação válida de uma função PostgreSQL definida pela <code class="varname">onerasteruserfunc</code> no raster de entrada (<code class="varname">rast</code>). Se <code class="varname">band</code> não for dado, a banda 1 é assumida. O novo raster terá a mesma georreferência, largura e altura que o raster original, mas só terá uma banda. </p><p>Se um <code class="varname">pixeltype</code> passar, então o novo raster terá a mesma banda dele. Se o tipo de pixel passar NULO, a nova banda raster terá o mesmo tipo de pixel que a banda de entrada <code class="varname">rast</code>.</p><p>The <code class="varname">onerasteruserfunc</code> parameter must be the name and signature of a SQL or PL/pgSQL function, cast to a regprocedure. A very simple and quite useless PL/pgSQL function example is: </p><pre class="programlisting">CREATE OR REPLACE FUNCTION simple_function(pixel FLOAT, pos INTEGER[], VARIADIC args TEXT[])
    RETURNS FLOAT
    AS $$ BEGIN
        RETURN 0.0;
    END; $$
    LANGUAGE 'plpgsql' IMMUTABLE;</pre><p>The <code class="varname">userfunction</code> may accept two or three arguments: a float value, an optional integer array, and a variadic text array. The first argument is the value of an individual raster cell (regardless of the raster datatype). The second argument is the position of the current processing cell in the form '{x,y}'. The third argument indicates that all remaining parameters to <a class="xref" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> shall be passed through to the <code class="varname">userfunction</code>. </p><p>Passing a <span class="type">regprodedure</span> argument to a SQL function requires the full function signature to be passed, then cast to a <span class="type">regprocedure</span> type. To pass the above example PL/pgSQL function as an argument, the SQL for the argument is: </p><pre class="programlisting">'simple_function(float,integer[],text[])'::regprocedure</pre><p>Note that the argument contains the name of the function, the types of the function arguments, quotes around the name and argument types, and a cast to a <span class="type">regprocedure</span>. </p><p>O terceiro argumento para a <code class="varname">userfunction</code> é um <span class="type">variadic text</span> arranjo. Todos os argumentos seguindo qualquer chamada <a class="xref" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> passam pela <code class="varname">userfunction</code> especificada, e são contidos no argumento <code class="varname">args</code>. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para maiores informações sobre a palavra-chave VARIADIC, por favor recorra à documentação do PostgreSQL e a seção  "SQL Functions with Variable Numbers of Arguments" do <a class="link" href="http://www.postgresql.org/docs/current/static/xfunc-sql.html" target="_top">Query Language (SQL) Functions</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O argumento <span class="type">text[]</span> para o  <code class="varname">userfunction</code> é requerido, independente se escolher passar argumentos para sua função usuário processar ou não. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm34609"><h2>Exemplos</h2><p>Cria uma nova banda raster 1 a partir da nossa original que é uma função de módulo 2 da banda raster original. </p><pre class="programlisting">ALTER TABLE dummy_rast ADD COLUMN map_rast raster;
CREATE FUNCTION mod_fct(pixel float, pos integer[], variadic args text[])
RETURNS float
AS $$
BEGIN
    RETURN pixel::integer % 2;
END;
$$
LANGUAGE 'plpgsql' IMMUTABLE;

UPDATE dummy_rast SET map_rast = ST_MapAlgebraFct(rast,NULL,'mod_fct(float,integer[],text[])'::regprocedure) WHERE rid = 2;

SELECT ST_Value(rast,1,i,j) As origval, ST_Value(map_rast, 1, i, j) As mapval
FROM dummy_rast CROSS JOIN generate_series(1, 3) AS i CROSS JOIN generate_series(1,3) AS j
WHERE rid = 2;

 origval | mapval
---------+--------
     253 |      1
     254 |      0
     253 |      1
     253 |      1
     254 |      0
     254 |      0
     250 |      0
     254 |      0
     254 |      0
                    </pre><p>Cria uma nova banda raster 1 de tipo pixel 2BUI da original que é reclassificada e adquire valor sem dados para uma parâmetro passado à função usuário (0). </p><pre class="programlisting">
ALTER TABLE dummy_rast ADD COLUMN map_rast2 raster;
CREATE FUNCTION classify_fct(pixel float, pos integer[], variadic args text[])
RETURNS float
AS
$$
DECLARE
    nodata float := 0;
BEGIN
    IF NOT args[1] IS NULL THEN
        nodata := args[1];
    END IF;
    IF pixel &lt; 251 THEN
        RETURN 1;
    ELSIF pixel = 252 THEN
        RETURN 2;
    ELSIF pixel 
&gt; 252 THEN
        RETURN 3;
    ELSE
        RETURN nodata;
    END IF;
END;
$$
LANGUAGE 'plpgsql';
UPDATE dummy_rast SET map_rast2 = ST_MapAlgebraFct(rast,'2BUI','classify_fct(float,integer[],text[])'::regprocedure, '0') WHERE rid = 2;

SELECT DISTINCT ST_Value(rast,1,i,j) As origval, ST_Value(map_rast2, 1, i, j) As mapval
FROM dummy_rast CROSS JOIN generate_series(1, 5) AS i CROSS JOIN generate_series(1,5) AS j
WHERE rid = 2;

 origval | mapval
---------+--------
     249 |      1
     250 |      1
     251 |
     252 |      2
     253 |      3
     254 |      3

SELECT ST_BandPixelType(map_rast2) As b1pixtyp
FROM dummy_rast WHERE rid = 2;

 b1pixtyp
----------
 2BUI

</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; "><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr01.png"/><div class="caption"><p>original (column rast-view)</p></div></div></div></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebraexpr02.png"/><div class="caption"><p>rast_view_ma</p></div></div></div></td></tr></tbody></table></div><p>Cria uma nova banda raster 3 do mesmo tipo de pixel da nossa banda 3 original, com a primeira banda alterada pelo mapa algébrico e 2 bandas permanecem inalteradas. </p><pre class="programlisting">CREATE FUNCTION rast_plus_tan(pixel float, pos integer[], variadic args text[])
RETURNS float
AS
$$
BEGIN
    RETURN tan(pixel) * pixel;
END;
$$
LANGUAGE 'plpgsql';

SELECT ST_AddBand(
    ST_AddBand(
        ST_AddBand(
            ST_MakeEmptyRaster(rast_view),
            ST_MapAlgebraFct(rast_view,1,NULL,'rast_plus_tan(float,integer[],text[])'::regprocedure)
        ),
        ST_Band(rast_view,2)
    ),
    ST_Band(rast_view, 3) As rast_view_ma
)
FROM wind
WHERE rid=167;
                    </pre></div><div class="refsection" id="idm34637"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebraExpr" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a> </p></div></div><div class="refentry" id="RT_ST_MapAlgebraFct2"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MapAlgebraFct — Versão de banda 2 - Cria uma nova banda raster um formada pela aplicação de uma função PostgreSQL na 2 entrada de bandas raster e do tipo de pixel fornecido. A banda 1 é assumida se nenhuma banda for especificada. Tipo de extensão torna-se INTERSEÇÃO se não especificada.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast1</var>, raster <var class="pdparam">rast2</var>, regprocedure <var class="pdparam">tworastuserfunc</var>, text <var class="pdparam">pixeltype=same_as_rast1</var>, text <var class="pdparam">extenttype=INTERSECTION</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFct</strong>(</code>raster <var class="pdparam">rast1</var>, integer <var class="pdparam">band1</var>, raster <var class="pdparam">rast2</var>, integer <var class="pdparam">band2</var>, regprocedure <var class="pdparam">tworastuserfunc</var>, text <var class="pdparam">pixeltype=same_as_rast1</var>, text <var class="pdparam">extenttype=INTERSECTION</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm34698"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#RT_ST_MapAlgebraFct2" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> é menosprezado como do 2.1.0. Use <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><p>Cria uma nova banda raster um formada pela aplicação válida de uma função PostgreSQL definida pela <code class="varname">tworastuserfunc</code> no raster de entrada <code class="varname">rast1</code>, <code class="varname">rast1</code>. Se <code class="varname">band1</code> ou <code class="varname">band2</code> não forem especificadas, a banda 1 é assumida. O novo raster terá a mesma georreferência, largura e altura que o raster original, mas só terá uma banda.  </p><p>Se um <code class="varname">pixeltype</code> passar, então o novo raster terá a mesma banda dele. Se o tipo de pixel passar NULO, a nova banda raster terá o mesmo tipo de pixel que a banda de entrada <code class="varname">rast1</code>. </p><p>The <code class="varname">tworastuserfunc</code> parameter must be the name and signature of an SQL or PL/pgSQL function, cast to a regprocedure. An example PL/pgSQL function example is: </p><pre class="programlisting">CREATE OR REPLACE FUNCTION simple_function_for_two_rasters(pixel1 FLOAT, pixel2 FLOAT, pos INTEGER[], VARIADIC args TEXT[])
    RETURNS FLOAT
    AS $$ BEGIN
        RETURN 0.0;
    END; $$
    LANGUAGE 'plpgsql' IMMUTABLE;</pre><p>The <code class="varname">tworastuserfunc</code> may accept three or four arguments: a double precision value, a double precision value, an optional integer array, and a variadic text array. The first argument is the value of an individual raster cell in <code class="varname">rast1</code> (regardless of the raster datatype). The second argument is an individual raster cell value in <code class="varname">rast2</code>. The third argument is the position of the current processing cell in the form '{x,y}'. The fourth argument indicates that all remaining parameters to <a class="xref" href="#RT_ST_MapAlgebraFct2" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> shall be passed through to the <code class="varname">tworastuserfunc</code>. </p><p>Passing a <span class="type">regprodedure</span> argument to a SQL function requires the full function signature to be passed, then cast to a <span class="type">regprocedure</span> type. To pass the above example PL/pgSQL function as an argument, the SQL for the argument is: </p><pre class="programlisting">'simple_function(double precision, double precision, integer[], text[])'::regprocedure</pre><p>Note that the argument contains the name of the function, the types of the function arguments, quotes around the name and argument types, and a cast to a <span class="type">regprocedure</span>. </p><p>The fourth argument to the <code class="varname">tworastuserfunc</code> is a <span class="type">variadic text</span> array. All trailing text arguments to any <a class="xref" href="#RT_ST_MapAlgebraFct2" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> call are passed through to the specified <code class="varname">tworastuserfunc</code>, and are contained in the <code class="varname">userargs</code> argument. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para maiores informações sobre a palavra-chave VARIADIC, por favor recorra à documentação do PostgreSQL e a seção  "SQL Functions with Variable Numbers of Arguments" do <a class="link" href="http://www.postgresql.org/docs/current/static/xfunc-sql.html" target="_top">Query Language (SQL) Functions</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O argumento <span class="type">text[]</span> para a  <code class="varname">tworastuserfunc</code> é requerido, independente se escolher passar argumentos para sua função usuário processar ou não. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm34742"><h2>Exemplo: Revestindo rasters em um quadro como bandas separadas </h2><pre class="programlisting">

-- define our user defined function --
CREATE OR REPLACE FUNCTION raster_mapalgebra_union(
    rast1 double precision,
    rast2 double precision,
    pos integer[],
    VARIADIC userargs text[]
)
    RETURNS double precision
    AS $$
    DECLARE
    BEGIN
        CASE
            WHEN rast1 IS NOT NULL AND rast2 IS NOT NULL THEN
                RETURN ((rast1 + rast2)/2.);
            WHEN rast1 IS NULL AND rast2 IS NULL THEN
                RETURN NULL;
            WHEN rast1 IS NULL THEN
                RETURN rast2;
            ELSE
                RETURN rast1;
        END CASE;

        RETURN NULL;
    END;
    $$ LANGUAGE 'plpgsql' IMMUTABLE COST 1000;

-- prep our test table of rasters
DROP TABLE IF EXISTS map_shapes;
CREATE TABLE map_shapes(rid serial PRIMARY KEY, rast raster, bnum integer, descrip text);
INSERT INTO map_shapes(rast,bnum, descrip)
WITH mygeoms
    AS ( SELECT 2 As bnum, ST_Buffer(ST_Point(90,90),30) As geom, 'circle' As descrip
            UNION ALL
            SELECT 3 AS bnum,
                ST_Buffer(ST_GeomFromText('LINESTRING(50 50,150 150,150 50)'), 15) As geom, 'big road' As descrip
            UNION ALL
            SELECT 1 As bnum,
                ST_Translate(ST_Buffer(ST_GeomFromText('LINESTRING(60 50,150 150,150 50)'), 8,'join=bevel'), 10,-6) As geom, 'small road' As descrip
            ),
   -- define our canvas to be 1 to 1 pixel to geometry
   canvas
    AS ( SELECT ST_AddBand(ST_MakeEmptyRaster(250,
        250,
        ST_XMin(e)::integer, ST_YMax(e)::integer, 1, -1, 0, 0 ) , '8BUI'::text,0) As rast
        FROM (SELECT ST_Extent(geom) As e,
                    Max(ST_SRID(geom)) As srid
                    from mygeoms
                    ) As foo
            )
-- return our rasters aligned with our canvas
SELECT ST_AsRaster(m.geom, canvas.rast, '8BUI', 240) As rast, bnum, descrip
                FROM mygeoms AS m CROSS JOIN canvas
UNION ALL
SELECT canvas.rast, 4, 'canvas'
FROM canvas;

-- Map algebra on single band rasters and then collect with ST_AddBand
INSERT INTO map_shapes(rast,bnum,descrip)
SELECT ST_AddBand(ST_AddBand(rasts[1], rasts[2]),rasts[3]), 4, 'map bands overlay fct union (canvas)'
    FROM (SELECT ARRAY(SELECT ST_MapAlgebraFct(m1.rast, m2.rast,
            'raster_mapalgebra_union(double precision, double precision, integer[], text[])'::regprocedure, '8BUI', 'FIRST')
                FROM map_shapes As m1 CROSS JOIN map_shapes As m2
    WHERE m1.descrip = 'canvas' AND m2.descrip &lt;
&gt; 'canvas' ORDER BY m2.bnum) As rasts) As foo;

</pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/></colgroup><tbody><tr><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebrafct2_01.png"/><div class="caption"><p>bandas mapa cobrem (quadro) (R: rua pequena, G: círculo, B: rua grande)</p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm34757"><h2>Função de usuário definido que toma argumentos extras</h2><pre class="programlisting">CREATE OR REPLACE FUNCTION raster_mapalgebra_userargs(
    rast1 double precision,
    rast2 double precision,
    pos integer[],
    VARIADIC userargs text[]
)
    RETURNS double precision
    AS $$
    DECLARE
    BEGIN
        CASE
            WHEN rast1 IS NOT NULL AND rast2 IS NOT NULL THEN
                RETURN least(userargs[1]::integer,(rast1 + rast2)/2.);
            WHEN rast1 IS NULL AND rast2 IS NULL THEN
                RETURN userargs[2]::integer;
            WHEN rast1 IS NULL THEN
                RETURN greatest(rast2,random()*userargs[3]::integer)::integer;
            ELSE
                RETURN greatest(rast1, random()*userargs[4]::integer)::integer;
        END CASE;

        RETURN NULL;
    END;
    $$ LANGUAGE 'plpgsql' VOLATILE COST 1000;

SELECT ST_MapAlgebraFct(m1.rast, 1, m1.rast, 3,
            'raster_mapalgebra_userargs(double precision, double precision, integer[], text[])'::regprocedure,
                '8BUI', 'INTERSECT', '100','200','200','0')
                FROM map_shapes As m1
    WHERE m1.descrip = 'map bands overlay fct union (canvas)';
                    </pre><p>
                        </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebrafct2_02.png"/><div class="caption"><p>usuário definido com argumentos extras e bandas diferentes do mesmo raster </p></div></div></div><p>
                    </p></div><div class="refsection" id="idm34767"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>, <a class="xref" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a> </p></div></div><div class="refentry" id="RT_ST_MapAlgebraFctNgb"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MapAlgebraFctNgb — Versão 1-banda: o vizinho mais próximo no mapa algébrico usando a função de usuário definido PostgreSQL. Retorna um raster cujos valores são o resultado de uma função usuário PLPGSQL envolvendo uma vizinhança de valores da banda raster de entrada. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_MapAlgebraFctNgb</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, text  <var class="pdparam">pixeltype</var>, integer  <var class="pdparam">ngbwidth</var>, integer  <var class="pdparam">ngbheight</var>, regprocedure  <var class="pdparam">onerastngbuserfunc</var>, text  <var class="pdparam">nodatamode</var>, text[]  <var class="pdparam">VARIADIC args</var><code>)</code>;</p></div></div><div class="refsection" id="idm34807"><h2>Descrição</h2><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> é menosprezado como do 2.1.0. Use <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><p>(versão raster um) Retorna um raster cujos valores são o resultado de uma função usuário PLPGSQL envolvendo uma vizinhança de valores da banda raster de entrada. A função usuário toma a vizinhança de valores de pixel como um arranjo de números, para cada pixel, retorna o resultado da função usuário, substituindo o valor do pixel, inspecionado no momento, pelo resultado da função.  </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">rast</code></span></dt><dd><p>Raster no qual a função usuário é avaliada. </p></dd><dt><span class="term"><code class="varname">band</code></span></dt><dd><p>Número de banda do raster a ser avaliado. Padrão é 1. </p></dd><dt><span class="term"><code class="varname">pixeltype</code></span></dt><dd><p>O tipo de pixel resultante do raster de saída. Deve estar listado em <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a> ou ser deixado de fora ou ser NULO. Se não passar ou não for NULO, o padrão será o tipo de pixel do <code class="varname">rast</code>. Os resultados são cortados se eles forem maiores que o permitido para o tipo de pixel. </p></dd><dt><span class="term"><code class="varname">ngbwidth</code></span></dt><dd><p>A largura da vizinhança, nas células. </p></dd><dt><span class="term"><code class="varname">ngbheight</code></span></dt><dd><p>A altura da vizinhança, nas células. </p></dd><dt><span class="term"><code class="varname">onerastngbuserfunc</code></span></dt><dd><p>A função usuário PLPGSQL/psq para aplicar uma vizinhança de pixeis de uma única banda de um raster. O primeiro elemento é um arranjo 2-dimensional de números representando a vizinhança do pixel retangular </p></dd><dt><span class="term"><code class="varname">nodatamode</code></span></dt><dd><p>Define qual valor passar para a função para uma vizinhança de pixel que é sem dados ou NULA </p><p>'ignore': quaisquer valores NODATA encontrados na vizinhança são ignorados pelo cálculo -- esta bandeira deve ser enviada para o retorno da função usuário, e ela decide como ignorar. </p><p>'NULL': quaisquer valores NODATA encontrados na vizinhança acusamos o pixel de ser NULL -- neste caso, o retorno da função usuário é pulado.</p><p>'value': quaisquer valores NODATA encontrados na vizinhança são substituídos pelo pixel referência (o no centro da vizinhança). Note que se este valor for NODATA, o comportamento é o mesmo ce 'NULL' (para a vizinhança afetada) </p></dd><dt><span class="term"><code class="varname">args</code></span></dt><dd><p>Argumentos para passar dentro da função usuário. </p></dd></dl></div><p class="availability">Disponibilidade: 2.0.0 </p></div><div class="refsection" id="idm34861"><h2>Exemplos</h2><p>Exemplos utilizam o raster katrina carregado como única tile descrita em <a class="link" href="http://trac.osgeo.org/gdal/wiki/frmts_wtkraster.html" target="_top">http://trac.osgeo.org/gdal/wiki/frmts_wtkraster.html</a> e preparada nos exemplos <a class="xref" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a> </p><pre class="programlisting">--
-- A simple 'callback' user function that averages up all the values in a neighborhood.
--
CREATE OR REPLACE FUNCTION rast_avg(matrix float[][], nodatamode text, variadic args text[])
    RETURNS float AS
    $$
    DECLARE
        _matrix float[][];
        x1 integer;
        x2 integer;
        y1 integer;
        y2 integer;
        sum float;
    BEGIN
        _matrix := matrix;
        sum := 0;
        FOR x in array_lower(matrix, 1)..array_upper(matrix, 1) LOOP
            FOR y in array_lower(matrix, 2)..array_upper(matrix, 2) LOOP
                sum := sum + _matrix[x][y];
            END LOOP;
        END LOOP;
        RETURN (sum*1.0/(array_upper(matrix,1)*array_upper(matrix,2) ))::integer ;
    END;
    $$
LANGUAGE 'plpgsql' IMMUTABLE COST 1000;

-- now we apply to our raster averaging pixels within 2 pixels of each other in X and Y direction --
SELECT ST_MapAlgebraFctNgb(rast, 1,  '8BUI', 4,4,
        'rast_avg(float[][], text, text[])'::regprocedure, 'NULL', NULL) As nn_with_border
    FROM katrinas_rescaled
    limit 1;
                    </pre><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="border-right: 1px solid ; ">
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebrafctngb01.png"/><div class="caption"><p>Primeira banda do nosso raster</p></div></div></div><p>
                                        </p>
                                    </td><td>
                                        <p>
                                            </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_mapalgebrafctngb02.png"/><div class="caption"><p>novo raster depois de calcular pixeis atando 4x4 pixeis de cada um </p></div></div></div><p>
                                        </p>
                                    </td></tr></tbody></table></div></div><div class="refsection" id="idm34887"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a>, <a class="xref" href="#RT_ST_MapAlgebraExpr" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>, <a class="xref" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a> </p></div></div><div class="refentry" id="RT_ST_Reclass"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Reclass — Cria um novo raster composto por tipos de banda reclassificados do original. A nband pode ser alterada. Se nenhuma nband for especificada, usa-se a 1. Todas as outras bandas são retornadas inalteradas. Use caso: converta uma banda 16BUI para 8BUI e então adiante para uma renderização mais simples como formatos visíveis. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Reclass</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, text  <var class="pdparam">reclassexpr</var>, text  <var class="pdparam">pixeltype</var>, double precision  <var class="pdparam">nodataval=NULL</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Reclass</strong>(</code>raster  <var class="pdparam">rast</var>, reclassarg[]  <var class="pdparam">VARIADIC reclassargset</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Reclass</strong>(</code>raster  <var class="pdparam">rast</var>, text  <var class="pdparam">reclassexpr</var>, text  <var class="pdparam">pixeltype</var><code>)</code>;</p></div></div><div class="refsection" id="idm34938"><h2>Descrição</h2><p>Cria um novo raster formado pela aplicação de uma operação algébrica válida PostgreSQL definida pela <code class="varname">reclassexpr</code> no raster de entrada (<code class="varname">rast</code>). Se nenhum <code class="varname">band</code> for especificada, usa-se a banda 1. O novo raster terá a mesma georreferência. largura e altura do raster original. As bandar não designadas voltarão inalteradas. Recorra a  <a class="xref" href="#reclassarg" title="reclassarg">reclassarg</a> para descrição de expressões de reclassificação válidas. </p><p>As bandas do novo raster terão o mesmo tipo de pixel do <code class="varname">pixeltype</code>. Se <code class="varname">reclassargset</code> passar, então, cada argumento reclassificado define o comportamento de cada banda gerada. </p><p class="availability">Disponibilidade: 2.0.0 </p></div><div class="refsection" id="idm34949"><h2>Exemplos básicos </h2><p>Cria um novo raster a partir do original onde banda 2 é convertida de 8BUI para 4BUI e todos os valores de 101-254 são definidos para valor nodata.</p><pre class="programlisting">ALTER TABLE dummy_rast ADD COLUMN reclass_rast raster;
UPDATE dummy_rast SET reclass_rast = ST_Reclass(rast,2,'0-87:1-10, 88-100:11-15, 101-254:0-0', '4BUI',0) WHERE rid = 2;

SELECT i as col, j as row, ST_Value(rast,2,i,j) As origval,
    ST_Value(reclass_rast, 2, i, j) As reclassval,
    ST_Value(reclass_rast, 2, i, j, false) As reclassval_include_nodata
FROM dummy_rast CROSS JOIN generate_series(1, 3) AS i CROSS JOIN generate_series(1,3) AS j
WHERE rid = 2;

 col | row | origval | reclassval | reclassval_include_nodata
-----+-----+---------+------------+---------------------------
   1 |   1 |      78 |          9 |                         9
   2 |   1 |      98 |         14 |                        14
   3 |   1 |     122 |            |                         0
   1 |   2 |      96 |         14 |                        14
   2 |   2 |     118 |            |                         0
   3 |   2 |     180 |            |                         0
   1 |   3 |      99 |         15 |                        15
   2 |   3 |     112 |            |                         0
   3 |   3 |     169 |            |                         0
                    </pre></div><div class="refsection" id="idm34953"><h2>Exemplo: Uso avançado de múltiplos reclassargs</h2><p>Cria um novo raster do original onde banda 1,2,3 é convertida para 1BB, 4BUI, 4BUI respectivamente e reclassificada. Note que isto usa o argumento variado <code class="varname">reclassarg</code> que pode pegar como entrada e número indefinido de reclssargs (teoricamente quantas bandas tiver)  </p><pre class="programlisting">UPDATE dummy_rast SET reclass_rast =
    ST_Reclass(rast,
        ROW(2,'0-87]:1-10, (87-100]:11-15, (101-254]:0-0', '4BUI',NULL)::reclassarg,
        ROW(1,'0-253]:1, 254:0', '1BB', NULL)::reclassarg,
        ROW(3,'0-70]:1, (70-86:2, [86-150):3, [150-255:4', '4BUI', NULL)::reclassarg
        ) WHERE rid = 2;

SELECT i as col, j as row,ST_Value(rast,1,i,j) As ov1,  ST_Value(reclass_rast, 1, i, j) As rv1,
    ST_Value(rast,2,i,j) As ov2, ST_Value(reclass_rast, 2, i, j) As rv2,
    ST_Value(rast,3,i,j) As ov3, ST_Value(reclass_rast, 3, i, j) As rv3
FROM dummy_rast CROSS JOIN generate_series(1, 3) AS i CROSS JOIN generate_series(1,3) AS j
WHERE rid = 2;

col | row | ov1 | rv1 | ov2 | rv2 | ov3 | rv3
----+-----+-----+-----+-----+-----+-----+-----
  1 |   1 | 253 |   1 |  78 |   9 |  70 |   1
  2 |   1 | 254 |   0 |  98 |  14 |  86 |   3
  3 |   1 | 253 |   1 | 122 |   0 | 100 |   3
  1 |   2 | 253 |   1 |  96 |  14 |  80 |   2
  2 |   2 | 254 |   0 | 118 |   0 | 108 |   3
  3 |   2 | 254 |   0 | 180 |   0 | 162 |   4
  1 |   3 | 250 |   1 |  99 |  15 |  90 |   3
  2 |   3 | 254 |   0 | 112 |   0 | 108 |   3
  3 |   3 | 254 |   0 | 169 |   0 | 175 |   4
                    </pre></div><div class="refsection" id="idm34958"><h2>Exemplo: Mapeamento avançado de uma única banda raster 32BF para multiplicar bandas visíveis</h2><p>Cria uma nova banda 3 (8BUI,8BUI,8BUI raster visível)  a partir de um raster que tem apena uma banda 32bf </p><pre class="programlisting">ALTER TABLE wind ADD COLUMN rast_view raster;
UPDATE wind
    set rast_view = ST_AddBand( NULL,
        ARRAY[
    ST_Reclass(rast, 1,'0.1-10]:1-10,9-10]:11,(11-33:0'::text, '8BUI'::text,0),
    ST_Reclass(rast,1, '11-33):0-255,[0-32:0,(34-1000:0'::text, '8BUI'::text,0),
    ST_Reclass(rast,1,'0-32]:0,(32-100:100-255'::text, '8BUI'::text,0)
    ]
    );
                    </pre></div><div class="refsection" id="idm34962"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>, <a class="xref" href="#RT_ST_Band" title="ST_Band">ST_Band</a>, <a class="xref" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>, <a class="xref" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a>, <a class="xref" href="#reclassarg" title="reclassarg">reclassarg</a>, <a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a> </p></div></div><div class="refentry" id="RT_ST_Union"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Union — Retorna a união de um conjunto de tiles raster em um único raster composto de 1 ou mais bandas. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Union</strong>(</code>setof raster  <var class="pdparam">rast</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Union</strong>(</code>setof raster  <var class="pdparam">rast</var>, unionarg[]  <var class="pdparam">unionargset</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Union</strong>(</code>setof raster <var class="pdparam">rast</var>, integer <var class="pdparam">nband</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Union</strong>(</code>setof raster <var class="pdparam">rast</var>, text <var class="pdparam">uniontype</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Union</strong>(</code>setof raster <var class="pdparam">rast</var>, integer <var class="pdparam">nband</var>, text <var class="pdparam">uniontype</var><code>)</code>;</p></div></div><div class="refsection" id="idm35022"><h2>Descrição</h2><p>Retorna a união de um conjunto de tiles raster em um único raster composto de pelo menos uma banda. A extensão resultante do raster é a extensão do conjunto todo. No caso da interseção, o valor resultante é definido pelo <code class="varname">uniontype</code> que é um dos seguintes: LAST (default), FIRST, MIN, MAX, COUNT, SUM, MEAN, RANGE.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>In order for rasters to be unioned, they must all have the same alignment. Use <a class="xref" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a> and <a class="xref" href="#RT_ST_NotSameAlignmentReason" title="ST_NotSameAlignmentReason">ST_NotSameAlignmentReason</a> for more details and help. One way to fix alignment issues is to use <a class="xref" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a> and use the same reference raster for alignment.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0 </p><p class="enhanced">Melhorias: 2.1.0 Velocidade aprimorada (fully C-Based) </p><p class="availability">Disponibilidade: 2.1.0 variante ST_Union(rast, unionarg) foi introduzida.</p><p class="enhanced">Melhorias: 2.1.0 uniões ST_Union(rast) (variante 1) todas as bandas de todos os rasters de entrada. As versões anteriores do PostGIS assumiam a primeira banda. </p><p class="enhanced">Melhorias: 2.1.0 ST_Union(rast, uniontype) (variante 4) uniões de todas as bandas de todos os rasters de entrada. </p></div><div class="refsection" id="idm35036"><h2>Exemplos: Reconstitui uma única tile banda raster em pedaços </h2><pre class="programlisting">-- this creates a single band from first band of raster tiles
-- that form the original file system tile
SELECT filename, ST_Union(rast,1) As file_rast
FROM sometable WHERE filename IN('dem01', 'dem02') GROUP BY filename;
                    </pre></div><div class="refsection" id="idm35039"><h2>Exemplos: Retorna uma multi banda raster que é a união de tiles intersectando geometrias</h2><pre class="programlisting">-- this creates a multi band raster collecting all the tiles that intersect a line
-- Note: In 2.0, this would have just returned a single band raster
-- , new union works on all bands by default
-- this is equivalent to unionarg: ARRAY[ROW(1, 'LAST'), ROW(2, 'LAST'), ROW(3, 'LAST')]::unionarg[]
SELECT ST_Union(rast)
FROM aerials.boston
WHERE ST_Intersects(rast,  ST_GeomFromText('LINESTRING(230486 887771, 230500 88772)',26986) );
                    </pre></div><div class="refsection" id="idm35042"><h2>Exemplos: Retorna uma multi banda raster que é a união de tiles intersectando geometrias</h2><p>Aqui, usamos a sintaxe mais longa se só queremos uma subset de bandas ou queremos alterar a ordem das bandas</p><pre class="programlisting">-- this creates a multi band raster collecting all the tiles that intersect a line
SELECT ST_Union(rast,ARRAY[ROW(2, 'LAST'), ROW(1, 'LAST'), ROW(3, 'LAST')]::unionarg[])
FROM aerials.boston
WHERE ST_Intersects(rast,  ST_GeomFromText('LINESTRING(230486 887771, 230500 88772)',26986) );
                    </pre></div><div class="refsection" id="idm35046"><h2>Veja também</h2><p><a class="xref" href="#unionarg" title="unionarg">unionarg</a>, <a class="xref" href="#RT_ST_Envelope" title="ST_Envelope">ST_Envelope</a>, <a class="xref" href="#RT_ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>, <a class="xref" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a>, <a class="xref" href="#ST_Union" title="ST_Union">ST_Union</a> </p></div></div></section><section class="section" id="Raster_Processing_MapAlgebra_Callbacks"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.13. Funções retorno de mapa algébrico embutido</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_Distinct4ma">ST_Distinct4ma</a></span><span class="refpurpose"> — Função de processamento raster que calcula o resumo de valores únicos de pixel em uma vizinhança. </span></li><li><span class="refentrytitle"><a href="#RT_ST_InvDistWeight4ma">ST_InvDistWeight4ma</a></span><span class="refpurpose"> — Função de processamento raster que interpola um valor de pixel de uma vizinhança. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Max4ma">ST_Max4ma</a></span><span class="refpurpose"> — Função de processamento raster que calcula o valor máximo de pixel em uma vizinhança. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Mean4ma">ST_Mean4ma</a></span><span class="refpurpose"> — Função de processamento raster que calcula o menor valor de pixel em uma vizinhança. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Min4ma">ST_Min4ma</a></span><span class="refpurpose"> — Função de processamento raster que calcula o valor mínimo de pixel em uma vizinhança.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_MinDist4ma">ST_MinDist4ma</a></span><span class="refpurpose"> — Função de processamento raster que retorna a distância mínima (em números de pixeis) entre o pixel de interesse e um pixel vizinho de interesse com valor.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_Range4ma">ST_Range4ma</a></span><span class="refpurpose"> — Função de processamento raster que calcula a varição de  valores de pixel em uma vizinhança. </span></li><li><span class="refentrytitle"><a href="#RT_ST_StdDev4ma">ST_StdDev4ma</a></span><span class="refpurpose"> — Função de processamento raster que calcula o padrão de divergência  de  valores de pixel em uma vizinhança. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Sum4ma">ST_Sum4ma</a></span><span class="refpurpose"> — Função de processamento raster que calcula o resumo de todos os valores de pixel em uma vizinhança. </span></li></ul></div><div class="refentry" id="RT_ST_Distinct4ma"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Distinct4ma — Função de processamento raster que calcula o resumo de valores únicos de pixel em uma vizinhança. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_Distinct4ma</strong>(</code>float8[][] <var class="pdparam">matrix</var>, text <var class="pdparam">nodatamode</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Distinct4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][]  <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35086"><h2>Descrição</h2><p>Calcula o número de valores únicos de pixel em uma vizinhança. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A variante 1 é uma função retorno especializada em uso como um parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A variante 2 é uma função retorno especializada em uso como um parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Uso da variante 1 é desencorajado desde que <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> foi menosprezada como de 2.1.0. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p><p class="enhanced">Melhorias: 2.1.0 Adição da variante 2</p></div><div class="refsection" id="idm35100"><h2>Exemplos</h2><pre class="programlisting">SELECT
    rid,
    st_value(
        st_mapalgebrafctngb(rast, 1, NULL, 1, 1, 'st_distinct4ma(float[][],text,text[])'::regprocedure, 'ignore', NULL), 2, 2
    )
FROM dummy_rast
WHERE rid = 2;
 rid | st_value
-----+----------
   2 |        3
(1 row)
                </pre></div><div class="refsection" id="idm35103"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>, <a class="xref" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>, <a class="xref" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>, <a class="xref" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>, <a class="xref" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div><div class="refentry" id="RT_ST_InvDistWeight4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_InvDistWeight4ma — Função de processamento raster que interpola um valor de pixel de uma vizinhança. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">ST_InvDistWeight4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][] <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35132"><h2>Descrição</h2><p>Calcula um valor interpolado para um pixel usando o método do inverso da potência das distâncias. </p><p>Existem dois parâmetros opcionais que podem ser passados pelos <code class="varname">userargs</code>. O primeiro parâmetro é o fator de força (variável k na equação abaixo) entre 0 e 1 usado na equação do inverso da potência das distâncias. Se não especificado, usa-se 1. O segundo parâmetro é a porcentagem aplicada somente quando o valor do pixel de interesse estiver incluso no valor da vizinhança. Se não especificado e o pixel de interesse possuir um valor, o valor é retornado.  </p><p>A equação do inverso da potência das distâncias é: </p><div class="informalfigure"><div class="mediaobject"><img src="images/st_invdistweight4ma_equation.png"/><div class="caption"><p>k = fator força, um número real entre 0 e 1 </p></div></div></div><p>
                </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função é uma função retorno especializada em uso como parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm35148"><h2>Exemplos</h2><pre class="programlisting">-- NEEDS EXAMPLE
                </pre></div><div class="refsection" id="idm35151"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_MinDist4ma" title="ST_MinDist4ma">ST_MinDist4ma</a> </p></div></div><div class="refentry" id="RT_ST_Max4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Max4ma — Função de processamento raster que calcula o valor máximo de pixel em uma vizinhança. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_Max4ma</strong>(</code>float8[][] <var class="pdparam">matrix</var>, text <var class="pdparam">nodatamode</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Max4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][]  <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35186"><h2>Descrição</h2><p>Calcula o valor de pixel máximo em uma vizinhança de pixeis.</p><p>Para Variante 2, um valor de substituição para pixeis NODATA podem ser especificados passando aquele valor para userargs.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A variante 1 é uma função retorno especializada em uso como um parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A variante 2 é uma função retorno especializada em uso como um parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Uso da variante 1 é desencorajado desde que <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> foi menosprezada como de 2.1.0. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p><p class="enhanced">Melhorias: 2.1.0 Adição da variante 2</p></div><div class="refsection" id="idm35201"><h2>Exemplos</h2><pre class="programlisting">SELECT
    rid,
    st_value(
        st_mapalgebrafctngb(rast, 1, NULL, 1, 1, 'st_max4ma(float[][],text,text[])'::regprocedure, 'ignore', NULL), 2, 2
    )
FROM dummy_rast
WHERE rid = 2;
 rid | st_value
-----+----------
   2 |      254
(1 row)
                </pre></div><div class="refsection" id="idm35204"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>, <a class="xref" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>, <a class="xref" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>, <a class="xref" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a>, <a class="xref" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div><div class="refentry" id="RT_ST_Mean4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Mean4ma — Função de processamento raster que calcula o menor valor de pixel em uma vizinhança. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_Mean4ma</strong>(</code>float8[][] <var class="pdparam">matrix</var>, text <var class="pdparam">nodatamode</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Mean4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][]  <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35245"><h2>Descrição</h2><p>Calcula o menor valor de pixel  em uma vizinhança de pixeis.</p><p>Para Variante 2, um valor de substituição para pixeis NODATA podem ser especificados passando aquele valor para userargs.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A variante 1 é uma função retorno especializada em uso como um parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A variante 2 é uma função retorno especializada em uso como um parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Uso da variante 1 é desencorajado desde que <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> foi menosprezada como de 2.1.0. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p><p class="enhanced">Melhorias: 2.1.0 Adição da variante 2</p></div><div class="refsection" id="idm35260"><h2>Exemplos: Variante 1</h2><pre class="programlisting">SELECT
    rid,
    st_value(
        st_mapalgebrafctngb(rast, 1, '32BF', 1, 1, 'st_mean4ma(float[][],text,text[])'::regprocedure, 'ignore', NULL), 2, 2
    )
FROM dummy_rast
WHERE rid = 2;
 rid |     st_value
-----+------------------
   2 | 253.222229003906
(1 row)
                </pre></div><div class="refsection" id="idm35263"><h2>Exemplos: Variant 2</h2><pre class="programlisting">SELECT
    rid,
    st_value(
              ST_MapAlgebra(rast, 1, 'st_mean4ma(double precision[][][], integer[][], text[])'::regprocedure,'32BF', 'FIRST', NULL, 1, 1)
       ,  2, 2)
  FROM dummy_rast
   WHERE rid = 2;
 rid |     st_value
-----+------------------
   2 | 253.222229003906
(1 row)</pre></div><div class="refsection" id="idm35266"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>, <a class="xref" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>, <a class="xref" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>, <a class="xref" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div><div class="refentry" id="RT_ST_Min4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Min4ma — Função de processamento raster que calcula o valor mínimo de pixel em uma vizinhança.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_Min4ma</strong>(</code>float8[][] <var class="pdparam">matrix</var>, text  <var class="pdparam">nodatamode</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Min4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][]  <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35306"><h2>Descrição</h2><p>Calcula o valor de pixel mínimo em uma vizinhança de pixeis. </p><p>Para Variante 2, um valor de substituição para pixeis NODATA podem ser especificados passando aquele valor para userargs.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A variante 1 é uma função retorno especializada em uso como um parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A variante 2 é uma função retorno especializada em uso como um parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Uso da variante 1 é desencorajado desde que <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> foi menosprezada como de 2.1.0. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p><p class="enhanced">Melhorias: 2.1.0 Adição da variante 2</p></div><div class="refsection" id="idm35321"><h2>Exemplos</h2><pre class="programlisting">SELECT
    rid,
    st_value(
        st_mapalgebrafctngb(rast, 1, NULL, 1, 1, 'st_min4ma(float[][],text,text[])'::regprocedure, 'ignore', NULL), 2, 2
    )
FROM dummy_rast
WHERE rid = 2;
 rid | st_value
-----+----------
   2 |      250
(1 row)
                </pre></div><div class="refsection" id="idm35324"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>, <a class="xref" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>, <a class="xref" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>, <a class="xref" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a>, <a class="xref" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div><div class="refentry" id="RT_ST_MinDist4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinDist4ma — Função de processamento raster que retorna a distância mínima (em números de pixeis) entre o pixel de interesse e um pixel vizinho de interesse com valor.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">double precision <strong class="fsfunc">ST_MinDist4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][] <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35353"><h2>Descrição</h2><p>Retorna a menor função (em números de pixeis) entre o pixel de interesse e o pixel mais próximo com valor na vizinhança. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A intenção desta função é fornecer um ponto de dados informativos que ajude inferir a utilidade do valor interpolado do pixel de interesse da <a class="xref" href="#RT_ST_InvDistWeight4ma" title="ST_InvDistWeight4ma">ST_InvDistWeight4ma</a>. Esta função é particularmente útil quando a vizinhança é esparsamente populada. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função é uma função retorno especializada em uso como parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm35363"><h2>Exemplos</h2><pre class="programlisting">-- NEEDS EXAMPLE
                </pre></div><div class="refsection" id="idm35366"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_InvDistWeight4ma" title="ST_InvDistWeight4ma">ST_InvDistWeight4ma</a> </p></div></div><div class="refentry" id="RT_ST_Range4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Range4ma — Função de processamento raster que calcula a varição de  valores de pixel em uma vizinhança. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_Range4ma</strong>(</code>float8[][] <var class="pdparam">matrix</var>, text <var class="pdparam">nodatamode</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Range4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][]  <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35401"><h2>Descrição</h2><p>Calcula a variação de valores de pixel  em uma vizinhança de pixeis.</p><p>Para Variante 2, um valor de substituição para pixeis NODATA podem ser especificados passando aquele valor para userargs.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A variante 1 é uma função retorno especializada em uso como um parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A variante 2 é uma função retorno especializada em uso como um parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Uso da variante 1 é desencorajado desde que <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> foi menosprezada como de 2.1.0. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p><p class="enhanced">Melhorias: 2.1.0 Adição da variante 2</p></div><div class="refsection" id="idm35416"><h2>Exemplos</h2><pre class="programlisting">SELECT
    rid,
    st_value(
        st_mapalgebrafctngb(rast, 1, NULL, 1, 1, 'st_range4ma(float[][],text,text[])'::regprocedure, 'ignore', NULL), 2, 2
    )
FROM dummy_rast
WHERE rid = 2;
 rid | st_value
-----+----------
   2 |        4
(1 row)
                </pre></div><div class="refsection" id="idm35419"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>, <a class="xref" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>, <a class="xref" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>, <a class="xref" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>, <a class="xref" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div><div class="refentry" id="RT_ST_StdDev4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_StdDev4ma — Função de processamento raster que calcula o padrão de divergência  de  valores de pixel em uma vizinhança. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_StdDev4ma</strong>(</code>float8[][] <var class="pdparam">matrix</var>, text  <var class="pdparam">nodatamode</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_StdDev4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][]  <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35460"><h2>Descrição</h2><p>Calcula o padrão de divergência de valores de pixel  em uma vizinhança de pixeis.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A variante 1 é uma função retorno especializada em uso como um parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A variante 2 é uma função retorno especializada em uso como um parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Uso da variante 1 é desencorajado desde que <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> foi menosprezada como de 2.1.0. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p><p class="enhanced">Melhorias: 2.1.0 Adição da variante 2</p></div><div class="refsection" id="idm35474"><h2>Exemplos</h2><pre class="programlisting">SELECT
    rid,
    st_value(
        st_mapalgebrafctngb(rast, 1, '32BF', 1, 1, 'st_stddev4ma(float[][],text,text[])'::regprocedure, 'ignore', NULL), 2, 2
    )
FROM dummy_rast
WHERE rid = 2;
 rid |     st_value
-----+------------------
   2 | 1.30170822143555
(1 row)
                </pre></div><div class="refsection" id="idm35477"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>, <a class="xref" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>, <a class="xref" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>, <a class="xref" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>, <a class="xref" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div><div class="refentry" id="RT_ST_Sum4ma"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Sum4ma — Função de processamento raster que calcula o resumo de todos os valores de pixel em uma vizinhança. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">float8 <strong class="fsfunc">ST_Sum4ma</strong>(</code>float8[][] <var class="pdparam">matrix</var>, text <var class="pdparam">nodatamode</var>, text[] <var class="pdparam">VARIADIC args</var><code>)</code>;</p><p><code class="funcdef">double precision <strong class="fsfunc">ST_Sum4ma</strong>(</code>double precision[][][] <var class="pdparam">value</var>, integer[][]  <var class="pdparam">pos</var>, text[] <var class="pdparam">VARIADIC userargs</var><code>)</code>;</p></div></div><div class="refsection" id="idm35518"><h2>Descrição</h2><p>Calcula o resumo de todos os valores de pixel  em uma vizinhança de pixeis.</p><p>Para Variante 2, um valor de substituição para pixeis NODATA podem ser especificados passando aquele valor para userargs.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A variante 1 é uma função retorno especializada em uso como um parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A variante 2 é uma função retorno especializada em uso como um parâmetro de retorno para <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>. </p></td></tr></table></div><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Uso da variante 1 é desencorajado desde que <a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> foi menosprezada como de 2.1.0. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p><p class="enhanced">Melhorias: 2.1.0 Adição da variante 2</p></div><div class="refsection" id="idm35533"><h2>Exemplos</h2><pre class="programlisting">SELECT
    rid,
    st_value(
        st_mapalgebrafctngb(rast, 1, '32BF', 1, 1, 'st_sum4ma(float[][],text,text[])'::regprocedure, 'ignore', NULL), 2, 2
    )
FROM dummy_rast
WHERE rid = 2;
 rid | st_value
-----+----------
   2 |     2279
(1 row)
                </pre></div><div class="refsection" id="idm35536"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>, <a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>, <a class="xref" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>, <a class="xref" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>, <a class="xref" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a>, <a class="xref" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>, <a class="xref" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> </p></div></div></section><section class="section" id="Raster_Processing_DEM"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.14. Processamento Raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_Aspect">ST_Aspect</a></span><span class="refpurpose"> — Retorna o aspecto (em graus) de uma banda raster de elevação. Útil para analisar terrenos. </span></li><li><span class="refentrytitle"><a href="#RT_ST_HillShade">ST_HillShade</a></span><span class="refpurpose"> — Retorna a iluminação hipotética de uma banda raster de elevação usando as entradas de azimute, altitude, claridade e escala fornecidas. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Roughness">ST_Roughness</a></span><span class="refpurpose"> — Retorna um raster com a "robustez" calculada de um DEM. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Slope">ST_Slope</a></span><span class="refpurpose"> — Retorna o declive (em graus) de uma banda raster de elevação. Útil para analisar terrenos. </span></li><li><span class="refentrytitle"><a href="#RT_ST_TPI">ST_TPI</a></span><span class="refpurpose"> — Retorna um raster com o índice de posição topográfico calculado. </span></li><li><span class="refentrytitle"><a href="#RT_ST_TRI">ST_TRI</a></span><span class="refpurpose"> — Retorna um raster com o índice de aspereza do terreno calculado. </span></li></ul></div><div class="refentry" id="RT_ST_Aspect"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Aspect — Retorna o aspecto (em graus) de uma banda raster de elevação. Útil para analisar terrenos. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Aspect</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band=1</var>, text  <var class="pdparam">pixeltype=32BF</var>, text  <var class="pdparam">units=DEGREES</var>, boolean  <var class="pdparam">interpolate_nodata=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Aspect</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, raster  <var class="pdparam">customextent</var>, text  <var class="pdparam">pixeltype=32BF</var>, text  <var class="pdparam">units=DEGREES</var>, boolean  <var class="pdparam">interpolate_nodata=FALSE</var><code>)</code>;</p></div></div><div class="refsection" id="idm35594"><h2>Descrição</h2><p>Retorna o aspecto (em graus) de uma banda raster de elevação. Utiliza mapa algébrico e aplica o aspecto de equação para pixeis vizinhos. </p><p><code class="varname">units</code> indica as unidade do aspecto. Possíveis valores são: RADIANOS, GRAUS (padrão).  </p><p>Quando <code class="varname">units</code> = RADIANOS, valoers são entre 0 e 2 * pi radianos medidos sentido horário a partir do Norte.  </p><p>Quando <code class="varname">units</code> = GRAUS, valores são entre 0 e 360 graus medidos a partir do Norte.   </p><p>Se o declive de pixel for zero, o aspecto do pixel é -1.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para maiores informações sobre declive, aspecto e sombreado, por favor recorra a <a class="link" href="http://webhelp.esri.com/arcgisdesktop/9.3/index.cfm?TopicName=How%20Hillshade%20works" target="_top">ESRI - How hillshade works</a> e <a class="link" href="http://e2b.erdas.com/fieldguide/wwhelp/wwhimpl/common/html/wwhelp.htm?context=FieldGuide&amp;file=Aspect_Images.html" target="_top">ERDAS Field Guide - Aspect Images</a>. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0 </p><p class="enhanced">melhorias: 2.1.0 Usa ST_MapAlgebra() e foi adicionado uma função parâmetro opcional <code class="varname">interpolate_nodata</code></p><p class="changed">Alterações: 2.1.0 Nas versões anteriores, os valores retornados eram em radianos. Agora, eles retornam em graus </p></div><div class="refsection" id="idm35612"><h2>Exemplos: Variante 1</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_SetValues(
        ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0), 1, '32BF', 0, -9999),
        1, 1, 1, ARRAY[
            [1, 1, 1, 1, 1],
            [1, 2, 2, 2, 1],
            [1, 2, 3, 2, 1],
            [1, 2, 2, 2, 1],
            [1, 1, 1, 1, 1]
        ]::double precision[][]
    ) AS rast
)
SELECT
    ST_DumpValues(ST_Aspect(rast, 1, '32BF'))
FROM foo

                                                                                                    st_dumpvalues

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------
 (1,"{{315,341.565063476562,0,18.4349479675293,45},{288.434936523438,315,0,45,71.5650482177734},{270,270,-1,90,90},{251.565048217773,225,180,135,108.434951782227},{225,198.43495178
2227,180,161.565048217773,135}}")
(1 row)
                    </pre></div><div class="refsection" id="idm35615"><h2>Exemplos: Variant 2</h2><p>Exemplo completo de tiles de uma cobertura. Esta consulta funciona apenas com PostgreSQL 9.1 ou superior. </p><pre class="programlisting">WITH foo AS (
    SELECT ST_Tile(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(6, 6, 0, 0, 1, -1, 0, 0, 0),
                1, '32BF', 0, -9999
            ),
            1, 1, 1, ARRAY[
                [1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 2, 1],
                [1, 2, 2, 3, 3, 1],
                [1, 1, 3, 2, 1, 1],
                [1, 2, 2, 1, 2, 1],
                [1, 1, 1, 1, 1, 1]
            ]::double precision[]
        ),
        2, 2
    ) AS rast
)
SELECT
    t1.rast,
    ST_Aspect(ST_Union(t2.rast), 1, t1.rast)
FROM foo t1
CROSS JOIN foo t2
WHERE ST_Intersects(t1.rast, t2.rast)
GROUP BY t1.rast;
                    </pre></div><div class="refsection" id="idm35619"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a>, <a class="xref" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a>, <a class="xref" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a>, <a class="xref" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a>, <a class="xref" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a> </p></div></div><div class="refentry" id="RT_ST_HillShade"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_HillShade — Retorna a iluminação hipotética de uma banda raster de elevação usando as entradas de azimute, altitude, claridade e escala fornecidas. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_HillShade</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band=1</var>, text  <var class="pdparam">pixeltype=32BF</var>, double precision  <var class="pdparam">azimuth=315</var>, double precision  <var class="pdparam">altitude=45</var>, double precision  <var class="pdparam">max_bright=255</var>, double precision  <var class="pdparam">scale=1.0</var>, boolean  <var class="pdparam">interpolate_nodata=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_HillShade</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band</var>, raster  <var class="pdparam">customextent</var>, text  <var class="pdparam">pixeltype=32BF</var>, double precision  <var class="pdparam">azimuth=315</var>, double precision  <var class="pdparam">altitude=45</var>, double precision  <var class="pdparam">max_bright=255</var>, double precision  <var class="pdparam">scale=1.0</var>, boolean  <var class="pdparam">interpolate_nodata=FALSE</var><code>)</code>;</p></div></div><div class="refsection" id="idm35691"><h2>Descrição</h2><p>Retorna a iluminação hipotética de uma banda raster de elevação usando as entradas de azimute, altitude, claridade e escala fornecidas. Utiliza mapa algébrico e aplica a equação sombreada nos pixeis vizinhos. Os valores de pixel retornados estão entre 0 e 255. </p><p><code class="varname">azimuth</code> é um valor entre 0 e 360 graus medidos no sentido horário a partir do Norte. </p><p><code class="varname">altitude</code> é um valor entre 0 e 90 graus onde 0 grau está no horizonte e 90 graus estão diretamente em cima.  </p><p><code class="varname">max_bright</code> é um valor entre 0 e 255 com 0 sendo nenhuma claridade e 255 sendo a claridade máxima.  </p><p><code class="varname">scale</code> is the ratio of vertical units to horizontal. For Feet:LatLon use scale=370400, for Meters:LatLon use scale=111120. </p><p>Se <code class="varname">interpolate_nodata</code> for VERDADE, valores para pixeis NODATA do raster de entrada serão interpolados usando <a class="xref" href="#RT_ST_InvDistWeight4ma" title="ST_InvDistWeight4ma">ST_InvDistWeight4ma</a> antes de calcular a iluminação sombreada.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>para maiores informações sobre sombreamento, por favor recorra a <a class="link" href="http://webhelp.esri.com/arcgisdesktop/9.3/index.cfm?TopicName=How%20Hillshade%20works" target="_top">How hillshade works</a>. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0 </p><p class="enhanced">melhorias: 2.1.0 Usa ST_MapAlgebra() e foi adicionado uma função parâmetro opcional <code class="varname">interpolate_nodata</code></p><p class="changed">Alterações: 2.1.0 Nas versões anteriores, o azimute e a altitude eram expressados em radianos. Agora, são representados em graus </p></div><div class="refsection" id="idm35712"><h2>Exemplos: Variante 1</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_SetValues(
        ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0), 1, '32BF', 0, -9999),
        1, 1, 1, ARRAY[
            [1, 1, 1, 1, 1],
            [1, 2, 2, 2, 1],
            [1, 2, 3, 2, 1],
            [1, 2, 2, 2, 1],
            [1, 1, 1, 1, 1]
        ]::double precision[][]
    ) AS rast
)
SELECT
    ST_DumpValues(ST_Hillshade(rast, 1, '32BF'))
FROM foo

                                                                                                                       st_dumpvalues

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------
 (1,"{{NULL,NULL,NULL,NULL,NULL},{NULL,251.32763671875,220.749786376953,147.224319458008,NULL},{NULL,220.749786376953,180.312225341797,67.7497863769531,NULL},{NULL,147.224319458008
,67.7497863769531,43.1210060119629,NULL},{NULL,NULL,NULL,NULL,NULL}}")
(1 row)
                    </pre></div><div class="refsection" id="idm35715"><h2>Exemplos: Variant 2</h2><p>Exemplo completo de tiles de uma cobertura. Esta consulta funciona apenas com PostgreSQL 9.1 ou superior. </p><pre class="programlisting">WITH foo AS (
    SELECT ST_Tile(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(6, 6, 0, 0, 1, -1, 0, 0, 0),
                1, '32BF', 0, -9999
            ),
            1, 1, 1, ARRAY[
                [1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 2, 1],
                [1, 2, 2, 3, 3, 1],
                [1, 1, 3, 2, 1, 1],
                [1, 2, 2, 1, 2, 1],
                [1, 1, 1, 1, 1, 1]
            ]::double precision[]
        ),
        2, 2
    ) AS rast
)
SELECT
    t1.rast,
    ST_Hillshade(ST_Union(t2.rast), 1, t1.rast)
FROM foo t1
CROSS JOIN foo t2
WHERE ST_Intersects(t1.rast, t2.rast)
GROUP BY t1.rast;
                    </pre></div><div class="refsection" id="idm35719"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a>, <a class="xref" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a>, <a class="xref" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a>, <a class="xref" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a>, <a class="xref" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a> </p></div></div><div class="refentry" id="RT_ST_Roughness"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Roughness — Retorna um raster com a "robustez" calculada de um DEM. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Roughness</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, raster  <var class="pdparam">customextent</var>, text  <var class="pdparam">pixeltype="32BF"</var> , boolean  <var class="pdparam"> interpolate_nodata=FALSE </var> <code>)</code>;</p></div></div><div class="refsection" id="idm35752"><h2>Descrição</h2><p>Calcula a "robustez" de um DEM, subtraindo o máximo do mínimo de uma dada área. </p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm35756"><h2>Exemplos</h2><pre class="programlisting">-- needs examples
                    </pre></div><div class="refsection" id="idm35759"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a>, <a class="xref" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a>, <a class="xref" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a>, <a class="xref" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a>, <a class="xref" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> </p></div></div><div class="refentry" id="RT_ST_Slope"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Slope — Retorna o declive (em graus) de uma banda raster de elevação. Útil para analisar terrenos. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_Slope</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband=1</var>, text  <var class="pdparam">pixeltype=32BF</var>, text  <var class="pdparam">units=DEGREES</var>, double precision  <var class="pdparam">scale=1.0</var>, boolean  <var class="pdparam">interpolate_nodata=FALSE</var><code>)</code>;</p><p><code class="funcdef">raster <strong class="fsfunc">ST_Slope</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, raster  <var class="pdparam">customextent</var>, text  <var class="pdparam">pixeltype=32BF</var>, text  <var class="pdparam">units=DEGREES</var>, double precision  <var class="pdparam">scale=1.0</var>, boolean  <var class="pdparam">interpolate_nodata=FALSE</var><code>)</code>;</p></div></div><div class="refsection" id="idm35819"><h2>Descrição</h2><p>Retorna o declive (em graus) de uma banda raster de elevação. Utiliza mapa algébrico e aplica a equação de declive nos pixeis vizinhos. </p><p><code class="varname">units</code> indica as unidades do declive. Possíveis valores são: RADIANOS, GRAUS (padrão), PORCENTAGEM.  </p><p><code class="varname">scale</code> is the ratio of vertical units to horizontal. For Feet:LatLon use scale=370400, for Meters:LatLon use scale=111120. </p><p>Se <code class="varname">interpolate_nodata</code> for VERDADE, valores para pixeis NODATA do raster de entrada serão interpolados usando <a class="xref" href="#RT_ST_InvDistWeight4ma" title="ST_InvDistWeight4ma">ST_InvDistWeight4ma</a> antes de calcular a superfície inclinada.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para maiores informações sobre declive, aspecto e sombreado, por favor recorra a <a class="link" href="http://webhelp.esri.com/arcgisdesktop/9.3/index.cfm?TopicName=How%20Hillshade%20works" target="_top">ESRI - How hillshade works</a> and <a class="link" href="http://e2b.erdas.com/fieldguide/wwhelp/wwhimpl/common/html/wwhelp.htm?context=FieldGuide&amp;file=Slope_Images.html" target="_top">ERDAS Field Guide - Slope Images</a>. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0 </p><p class="enhanced">Melhorias: 2.1.0 Usa ST_MapAlgebra() e foi adicionado a função parâmetros opcionais <code class="varname">units</code>, <code class="varname">scale</code>, <code class="varname">interpolate_nodata</code> </p><p class="changed">Alterações: 2.1.0 Nas versões anteriores, os valores retornados eram em radianos. Agora, eles retornam em graus </p></div><div class="refsection" id="idm35839"><h2>Exemplos: Variante 1</h2><pre class="programlisting">WITH foo AS (
    SELECT ST_SetValues(
        ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0), 1, '32BF', 0, -9999),
        1, 1, 1, ARRAY[
            [1, 1, 1, 1, 1],
            [1, 2, 2, 2, 1],
            [1, 2, 3, 2, 1],
            [1, 2, 2, 2, 1],
            [1, 1, 1, 1, 1]
        ]::double precision[][]
    ) AS rast
)
SELECT
    ST_DumpValues(ST_Slope(rast, 1, '32BF'))
FROM foo

                            st_dumpvalues

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------
 (1,"{{10.0249881744385,21.5681285858154,26.5650520324707,21.5681285858154,10.0249881744385},{21.5681285858154,35.2643890380859,36.8698959350586,35.2643890380859,21.5681285858154},
{26.5650520324707,36.8698959350586,0,36.8698959350586,26.5650520324707},{21.5681285858154,35.2643890380859,36.8698959350586,35.2643890380859,21.5681285858154},{10.0249881744385,21.
5681285858154,26.5650520324707,21.5681285858154,10.0249881744385}}")
(1 row)
                    </pre></div><div class="refsection" id="idm35842"><h2>Exemplos: Variant 2</h2><p>Exemplo completo de tiles de uma cobertura. Esta consulta funciona apenas com PostgreSQL 9.1 ou superior. </p><pre class="programlisting">WITH foo AS (
    SELECT ST_Tile(
        ST_SetValues(
            ST_AddBand(
                ST_MakeEmptyRaster(6, 6, 0, 0, 1, -1, 0, 0, 0),
                1, '32BF', 0, -9999
            ),
            1, 1, 1, ARRAY[
                [1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 2, 1],
                [1, 2, 2, 3, 3, 1],
                [1, 1, 3, 2, 1, 1],
                [1, 2, 2, 1, 2, 1],
                [1, 1, 1, 1, 1, 1]
            ]::double precision[]
        ),
        2, 2
    ) AS rast
)
SELECT
    t1.rast,
    ST_Slope(ST_Union(t2.rast), 1, t1.rast)
FROM foo t1
CROSS JOIN foo t2
WHERE ST_Intersects(t1.rast, t2.rast)
GROUP BY t1.rast;
                    </pre></div><div class="refsection" id="idm35846"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a>, <a class="xref" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a>, <a class="xref" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a>, <a class="xref" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a>, <a class="xref" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> </p></div></div><div class="refentry" id="RT_ST_TPI"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_TPI — Retorna um raster com o índice de posição topográfico calculado. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_TPI</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, raster  <var class="pdparam">customextent</var>, text  <var class="pdparam">pixeltype="32BF"</var> , boolean  <var class="pdparam"> interpolate_nodata=FALSE </var> <code>)</code>;</p></div></div><div class="refsection" id="idm35879"><h2>Descrição</h2><p>Calculates the Topographic Position Index, which is defined as the focal mean with radius of one minus the center cell.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função suporta apenas o raio mínimo central. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm35885"><h2>Exemplos</h2><pre class="programlisting">-- needs examples
                    </pre></div><div class="refsection" id="idm35888"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a>, <a class="xref" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a>, <a class="xref" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a>, <a class="xref" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a>, <a class="xref" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> </p></div></div><div class="refentry" id="RT_ST_TRI"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_TRI — Retorna um raster com o índice de aspereza do terreno calculado. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <strong class="fsfunc">ST_TRI</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband</var>, raster  <var class="pdparam">customextent</var>, text  <var class="pdparam">pixeltype="32BF"</var> , boolean  <var class="pdparam"> interpolate_nodata=FALSE </var> <code>)</code>;</p></div></div><div class="refsection" id="idm35921"><h2>Descrição</h2><p>O índice de aspereza do terreno é calculado pela comparação de um pixel central com seus vizinhos, pegando os valores absolutos das diferenças, e calculando o resultado.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função suporta apenas o raio mínimo central. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm35927"><h2>Exemplos</h2><pre class="programlisting">-- needs examples
                    </pre></div><div class="refsection" id="idm35930"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>, <a class="xref" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a>, <a class="xref" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a>, <a class="xref" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a>, <a class="xref" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a>, <a class="xref" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> </p></div></div></section><section class="section" id="Raster_Processing_Geometry"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.15. Raster para Geometria </h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_Box3D">Box3D</a></span><span class="refpurpose"> — Retorna a representação da caixa 3d da caixa encerrada do raster. </span></li><li><span class="refentrytitle"><a href="#RT_ST_ConvexHull">ST_ConvexHull</a></span><span class="refpurpose"> — Retorna o casco convexo da geometria do raster incluindo valores iguais ao BandNoDataValue. Para rasters com formas normais e não desviadas, o resultado é o mesmo que ST_Envelope, então só é útil para rasters com formas irregulares ou desviados. </span></li><li><span class="refentrytitle"><a href="#RT_ST_DumpAsPolygons">ST_DumpAsPolygons</a></span><span class="refpurpose"> — Retorna um conjunto de  linhas geomval (geom,val), de uma dada banda raster. Se nenhum número de banda for especificado, o número de banda torna-se 1. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Envelope">ST_Envelope</a></span><span class="refpurpose"> — Retorna a representação de polígono da extensão do raster.</span></li><li><span class="refentrytitle"><a href="#RT_ST_MinConvexHull">ST_MinConvexHull</a></span><span class="refpurpose"> — Retorna a geometria de casco convexo do raster excluindo os pixeis SEM DADOS.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_Polygon">ST_Polygon</a></span><span class="refpurpose"> — Retorna um multipolígono formado pela união de pixeis que têm um valor que não é um valor sem dados. Se um número de banda for especificado, usa-se 1. </span></li></ul></div><div class="refentry" id="RT_Box3D"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Box3D — Retorna a representação da caixa 3d da caixa encerrada do raster. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">box3d <strong class="fsfunc">Box3D</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm35953"><h2>Descrição</h2><p>Retorna a caixa representando a extensão do raster. </p><p>O polígono é definido pelos pontos de canto da caixa delimitadora ((<code class="varname">MINX</code>, <code class="varname">MINY</code>), (<code class="varname">MAXX</code>, <code class="varname">MAXY</code>)) </p><p class="changed">Alterações: 2.0.0 Nas versões pre-2.0, costumava existir uma caixa2d em vez de uma caixa3d. Já que a caixa2d é um tipo inferior, foi alterado para caixa3d. </p></div><div class="refsection" id="idm35962"><h2>Exemplos</h2><pre class="programlisting">SELECT
    rid,
    Box3D(rast) AS rastbox
FROM dummy_rast;

rid |        rastbox
----+-------------------------------------------------
1   | BOX3D(0.5 0.5 0,20.5 60.5 0)
2   | BOX3D(3427927.75 5793243.5 0,3427928 5793244 0)
                    </pre></div><div class="refsection" id="idm35965"><h2>Veja também</h2><p>
                        <a class="xref" href="#RT_ST_Envelope" title="ST_Envelope">ST_Envelope</a>
                    </p></div></div><div class="refentry" id="RT_ST_ConvexHull"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ConvexHull — Retorna o casco convexo da geometria do raster incluindo valores iguais ao BandNoDataValue. Para rasters com formas normais e não desviadas, o resultado é o mesmo que ST_Envelope, então só é útil para rasters com formas irregulares ou desviados. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_ConvexHull</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm35981"><h2>Descrição</h2><p>Retorna o casco convexo da geometria do raster incluindo valores iguais ao NoDataBandValue pixeis banda. Para rasters com formas normais e não desviadas, o resultado é o mesmo que ST_Envelope, então só é útil para rasters com formas irregulares ou desviados. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_Envelope derruba as coordenadas e por isso adiciona um pequeno buffer em torno do raster, então a resposta é um pouco diferente da ST_ConvexHull que não derruba. </p></td></tr></table></div></div><div class="refsection" id="idm35986"><h2>Exemplos</h2><p>Recorra a <a class="link" href="http://trac.osgeo.org/postgis/wiki/WKTRaster/SpecificationWorking01" target="_top">PostGIS Raster Specification</a> para um diagrama. </p><pre class="programlisting">-- Note envelope and convexhull are more or less the same
SELECT ST_AsText(ST_ConvexHull(rast)) As convhull,
    ST_AsText(ST_Envelope(rast)) As env
FROM dummy_rast WHERE rid=1;

                        convhull                        |                env
--------------------------------------------------------+------------------------------------
 POLYGON((0.5 0.5,20.5 0.5,20.5 60.5,0.5 60.5,0.5 0.5)) | POLYGON((0 0,20 0,20 60,0 60,0 0))
                </pre><pre class="programlisting">-- now we skew the raster
-- note how the convex hull and envelope are now different
SELECT ST_AsText(ST_ConvexHull(rast)) As convhull,
    ST_AsText(ST_Envelope(rast)) As env
FROM (SELECT ST_SetRotation(rast, 0.1, 0.1) As rast
    FROM dummy_rast WHERE rid=1) As foo;

                        convhull                        |                env
--------------------------------------------------------+------------------------------------
 POLYGON((0.5 0.5,20.5 1.5,22.5 61.5,2.5 60.5,0.5 0.5)) | POLYGON((0 0,22 0,22 61,0 61,0 0))
                    </pre></div><div class="refsection" id="idm35992"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Envelope" title="ST_Envelope">ST_Envelope</a>, <a class="xref" href="#RT_ST_MinConvexHull" title="ST_MinConvexHull">ST_MinConvexHull</a>, <a class="xref" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a> </p></div></div><div class="refentry" id="RT_ST_DumpAsPolygons"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DumpAsPolygons — Retorna um conjunto de  linhas geomval (geom,val), de uma dada banda raster. Se nenhum número de banda for especificado, o número de banda torna-se 1. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof geomval <strong class="fsfunc">ST_DumpAsPolygons</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band_num=1</var>, boolean  <var class="pdparam">exclude_nodata_value=TRUE</var><code>)</code>;</p></div></div><div class="refsection" id="idm36017"><h2>Descrição</h2><p>Esta é uma função retorno (SRF). Ela retorna um conjunto de linhas geomval, formadas por uma geometria (geom) e uma banda pixel valor (val). Cada polígono é a união de todos os pixeis para aquela banda que tem o mesmo valor de pixel indicado pelo val. </p><p>ST_DumpAsPolygon é útil para poligonizar rasters. É o reverso de um GRUPO POR onde cria novas filas. Por exemplo, pode ser usada para expandir um único raster em POLÍGONOS/MULTIPOLÍGONOS.  </p><p>Changed 3.3.0, validation and fixing is disabled to improve performance. May result invalid geometries.</p><p class="availability">Disponibilidade: Requer GDAL 1.7 ou superior. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If there is a no data value set for a band, pixels with that value will not be returned except in the case of exclude_nodata_value=false.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você se importa somente com pixeis contados com um dado valor em um raster, é mais rápido usar:  <a class="xref" href="#RT_ST_ValueCount" title="ST_ValueCount">ST_ValueCount</a>.</p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Isto é diferente da ST_PixelAsPolygons onde uma geometria retorna para cada pixel independente do valor do pixel.  </p></td></tr></table></div></div><div class="refsection" id="idm36030"><h2>Exemplos</h2><pre class="programlisting">-- this syntax requires PostgreSQL 9.3+
SELECT val, ST_AsText(geom) As geomwkt
FROM (
SELECT dp.*
FROM dummy_rast, LATERAL ST_DumpAsPolygons(rast) AS dp
WHERE rid = 2
) As foo
WHERE val BETWEEN 249 and 251
ORDER BY val;

 val |                                                       geomwkt
-----+--------------------------------------------------------------------------
 249 | POLYGON((3427927.95 5793243.95,3427927.95 5793243.85,3427928 5793243.85,
        3427928 5793243.95,3427927.95 5793243.95))
 250 | POLYGON((3427927.75 5793243.9,3427927.75 5793243.85,3427927.8 5793243.85,
        3427927.8 5793243.9,3427927.75 5793243.9))
 250 | POLYGON((3427927.8 5793243.8,3427927.8 5793243.75,3427927.85 5793243.75,
        3427927.85 5793243.8, 3427927.8 5793243.8))
 251 | POLYGON((3427927.75 5793243.85,3427927.75 5793243.8,3427927.8 5793243.8,
        3427927.8 5793243.85,3427927.75 5793243.85))
                    </pre></div><div class="refsection" id="idm36033"><h2>Veja também</h2><p><a class="xref" href="#geomval" title="geomval">geomval</a>, <a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_Polygon" title="ST_Polygon">ST_Polygon</a>, <a class="xref" href="#RT_ST_ValueCount" title="ST_ValueCount">ST_ValueCount</a> </p></div></div><div class="refentry" id="RT_ST_Envelope"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Envelope — Retorna a representação de polígono da extensão do raster.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Envelope</strong>(</code>raster  <var class="pdparam">rast</var><code>)</code>;</p></div></div><div class="refsection" id="idm36052"><h2>Descrição</h2><p>Retorna a representação de polígono da extensão do raster em unidades de coordenadas espaciais definidas pelo srid. É uma caixa delimitadora float8 mínima representada como um polígono.  </p><p>O polígono é definido pelos pontos do canto da caixa delimitadora ((<code class="varname">MINX</code>, <code class="varname">MINY</code>), (<code class="varname">MINX</code>, <code class="varname">MAXY</code>), (<code class="varname">MAXX</code>, <code class="varname">MAXY</code>), (<code class="varname">MAXX</code>, <code class="varname">MINY</code>), (<code class="varname">MINX</code>, <code class="varname">MINY</code>)) </p></div><div class="refsection" id="idm36066"><h2>Exemplos</h2><pre class="programlisting">SELECT rid, ST_AsText(ST_Envelope(rast)) As envgeomwkt
FROM dummy_rast;

 rid |                                         envgeomwkt
-----+--------------------------------------------------------------------
   1 | POLYGON((0 0,20 0,20 60,0 60,0 0))
   2 | POLYGON((3427927 5793243,3427928 5793243,
        3427928 5793244,3427927 5793244, 3427927 5793243))
                    </pre></div><div class="refsection" id="idm36069"><h2>Veja também</h2><p><a class="xref" href="#ST_Envelope" title="ST_Envelope">ST_Envelope</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a> </p></div></div><div class="refentry" id="RT_ST_MinConvexHull"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_MinConvexHull — Retorna a geometria de casco convexo do raster excluindo os pixeis SEM DADOS.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_MinConvexHull</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">nband=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm36090"><h2>Descrição</h2><p>Retorna a geometria de casco convexo do raster excluindo os pixeis NODATA. Se <code class="varname">nband</code> for NULL, todas as bandas do raster serão consideradas.  </p><p class="availability">Disponibilidade: 2.1.0 </p></div><div class="refsection" id="idm36095"><h2>Exemplos</h2><pre class="programlisting">WITH foo AS (
    SELECT
        ST_SetValues(
            ST_SetValues(
                ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(9, 9, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI', 0, 0), 2, '8BUI', 1, 0),
                1, 1, 1,
                ARRAY[
                    [0, 0, 0, 0, 0, 0, 0, 0, 0],
                    [0, 0, 0, 0, 0, 0, 0, 0, 0],
                    [0, 0, 0, 0, 0, 0, 0, 0, 0],
                    [0, 0, 0, 1, 0, 0, 0, 0, 1],
                    [0, 0, 0, 1, 1, 0, 0, 0, 0],
                    [0, 0, 0, 1, 0, 0, 0, 0, 0],
                    [0, 0, 0, 0, 0, 0, 0, 0, 0],
                    [0, 0, 0, 0, 0, 0, 0, 0, 0],
                    [0, 0, 0, 0, 0, 0, 0, 0, 0]
                ]::double precision[][]
            ),
            2, 1, 1,
            ARRAY[
                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                [1, 0, 0, 0, 0, 1, 0, 0, 0],
                [0, 0, 0, 0, 1, 1, 0, 0, 0],
                [0, 0, 0, 0, 0, 1, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 1, 0, 0, 0, 0, 0, 0]
            ]::double precision[][]
        ) AS rast
)
SELECT
    ST_AsText(ST_ConvexHull(rast)) AS hull,
    ST_AsText(ST_MinConvexHull(rast)) AS mhull,
    ST_AsText(ST_MinConvexHull(rast, 1)) AS mhull_1,
    ST_AsText(ST_MinConvexHull(rast, 2)) AS mhull_2
FROM foo

               hull               |                mhull                |               mhull_1               |               mhull_2
----------------------------------+-------------------------------------+-------------------------------------+-------------------------------------
 POLYGON((0 0,9 0,9 -9,0 -9,0 0)) | POLYGON((0 -3,9 -3,9 -9,0 -9,0 -3)) | POLYGON((3 -3,9 -3,9 -6,3 -6,3 -3)) | POLYGON((0 -3,6 -3,6 -9,0 -9,0 -3))
                    </pre></div><div class="refsection" id="idm36098"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Envelope" title="ST_Envelope">ST_Envelope</a>, <a class="xref" href="#RT_ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>, <a class="xref" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a> </p></div></div><div class="refentry" id="RT_ST_Polygon"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Polygon — Retorna um multipolígono formado pela união de pixeis que têm um valor que não é um valor sem dados. Se um número de banda for especificado, usa-se 1. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <strong class="fsfunc">ST_Polygon</strong>(</code>raster  <var class="pdparam">rast</var>, integer  <var class="pdparam">band_num=1</var><code>)</code>;</p></div></div><div class="refsection" id="idm36120"><h2>Descrição</h2><p>Changed 3.3.0, validation and fixing is disabled to improve performance. May result invalid geometries.</p><p class="availability">Disponibilidade: 0.1.6 Requer GDAL 1.7 ou superior.</p><p class="enhanced">Melhorias: 2.1.0 Velocidade aprimorada (fully C-Based) e o multipolígono que retorna é assegurado como válido.  </p><p class="changed">Alterações: 2.1.0 Nas versões anteriores retornaria polígono, foi alterado para sempre voltar multipolígono. </p></div><div class="refsection" id="idm36126"><h2>Exemplos</h2><pre class="programlisting">-- by default no data band value is 0 or not set, so polygon will return a square polygon
SELECT ST_AsText(ST_Polygon(rast)) As geomwkt
FROM dummy_rast
WHERE rid = 2;

geomwkt
--------------------------------------------
MULTIPOLYGON(((3427927.75 5793244,3427928 5793244,3427928 5793243.75,3427927.75 5793243.75,3427927.75 5793244)))


-- now we change the no data value of first band
UPDATE dummy_rast SET rast = ST_SetBandNoDataValue(rast,1,254)
WHERE rid = 2;
SELECt rid, ST_BandNoDataValue(rast)
from dummy_rast where rid = 2;

-- ST_Polygon excludes the pixel value 254 and returns a multipolygon
SELECT ST_AsText(ST_Polygon(rast)) As geomwkt
FROM dummy_rast
WHERE rid = 2;

geomwkt
---------------------------------------------------------
MULTIPOLYGON(((3427927.9 5793243.95,3427927.85 5793243.95,3427927.85 5793244,3427927.9 5793244,3427927.9 5793243.95)),((3427928 5793243.85,3427928 5793243.8,3427927.95 5793243.8,3427927.95 5793243.85,3427927.9 5793243.85,3427927.9 5793243.9,3427927.9 5793243.95,3427927.95 5793243.95,3427928 5793243.95,3427928 5793243.85)),((3427927.8 5793243.75,3427927.75 5793243.75,3427927.75 5793243.8,3427927.75 5793243.85,3427927.75 5793243.9,3427927.75 5793244,3427927.8 5793244,3427927.8 5793243.9,3427927.8 5793243.85,3427927.85 5793243.85,3427927.85 5793243.8,3427927.85 5793243.75,3427927.8 5793243.75)))

-- Or if you want the no data value different for just one time

SELECT ST_AsText(
    ST_Polygon(
        ST_SetBandNoDataValue(rast,1,252)
        )
    ) As geomwkt
FROM dummy_rast
WHERE rid =2;

geomwkt
---------------------------------
MULTIPOLYGON(((3427928 5793243.85,3427928 5793243.8,3427928 5793243.75,3427927.85 5793243.75,3427927.8 5793243.75,3427927.8 5793243.8,3427927.75 5793243.8,3427927.75 5793243.85,3427927.75 5793243.9,3427927.75 5793244,3427927.8 5793244,3427927.85 5793244,3427927.9 5793244,3427928 5793244,3427928 5793243.95,3427928 5793243.85),(3427927.9 5793243.9,3427927.9 5793243.85,3427927.95 5793243.85,3427927.95 5793243.9,3427927.9 5793243.9)))
                    </pre></div><div class="refsection" id="idm36129"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Value" title="ST_Value">ST_Value</a>, <a class="xref" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a> </p></div></div></section><section class="section" id="RT_Operators"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.16. Operadores Raster</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_Raster_Intersect">&amp;&amp;</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se a caixa limitadora de A intersecta a caixa limitadora de B. </span></li><li><span class="refentrytitle"><a href="#RT_Raster_OverLeft">&amp;&lt;</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se uma caixa limitadora de A está à esquerda da de B.</span></li><li><span class="refentrytitle"><a href="#RT_Raster_OverRight">&amp;&gt;</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se uma caixa limitadora de A está à direita da de B.</span></li><li><span class="refentrytitle"><a href="#RT_Raster_EQ">=</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code>se a caixa limitadora de A for a mesma de B. Utiliza precisão dupla de caixa limitadora.</span></li><li><span class="refentrytitle"><a href="#RT_Raster_Contained">@</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code>se a caixa limitadora de A estiver contida pela de B. Utiliza precisão dupla de caixa limitadora.</span></li><li><span class="refentrytitle"><a href="#RT_Raster_Same">~=</a></span><span class="refpurpose"> — Retorna <code class="varname">VERDADE</code> se a caixa limitadora de A é a mesma de B.</span></li><li><span class="refentrytitle"><a href="#RT_Raster_Contains">~</a></span><span class="refpurpose"> — Retorna <code class="varname">TRUE</code> se a caixa delimitadora de A estiver contida na do B. Utiliza caixa delimitadora de precisão dupla. </span></li></ul></div><div class="refentry" id="RT_Raster_Intersect"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&amp; — Retorna <code class="varname">VERDADE</code> se a caixa limitadora de A intersecta a caixa limitadora de B. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> raster  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> raster  <var class="pdparam">A</var> ,  geometry  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&amp;</strong>(</code> geometry  <var class="pdparam">B</var> ,  raster  <var class="pdparam">A</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36170"><h2>Descrição</h2><p>O operador <code class="varname">&amp;&amp;</code> retorna <code class="varname">TRUE</code> se a caixa limitadora da geometria/raster A intersecta a caixa limitadora da geometria/raster B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Este operador fará uso de qualquer índice que pode estar disponível nos rasters. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm36178"><h2>Exemplos</h2><pre class="programlisting">SELECT A.rid As a_rid, B.rid As b_rid, A.rast &amp;&amp; B.rast As intersect
 FROM dummy_rast AS A CROSS JOIN dummy_rast AS B LIMIT 3;

 a_rid | b_rid | intersect
-------+-------+---------
     2 |     2 | t
     2 |     3 | f
     2 |     1 | f
</pre></div></div><div class="refentry" id="RT_Raster_OverLeft"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&lt; — Retorna <code class="varname">VERDADE</code> se uma caixa limitadora de A está à esquerda da de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&lt;</strong>(</code> raster  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36197"><h2>Descrição</h2><p>O operador <code class="varname">&amp;&lt;</code> retorna <code class="varname">VERDADE</code> se a caixa limitadora da geometria A sobrepõe ou está à esquerda da caixa da geometria B, ou mais precisamente, sobrepõe ou NÃO está à direita da caixa limitadora da geometria B. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Este operador fará uso de qualquer índice que pode estar disponível nos rasters. </p></td></tr></table></div></div><div class="refsection" id="idm36204"><h2>Exemplos</h2><pre class="programlisting">
SELECT A.rid As a_rid, B.rid As b_rid, A.rast &amp;&lt; B.rast As overleft
 FROM dummy_rast AS A CROSS JOIN dummy_rast AS B;

a_rid | b_rid | overleft
------+-------+----------
    2 |     2 | t
    2 |     3 | f
    2 |     1 | f
    3 |     2 | t
    3 |     3 | t
    3 |     1 | f
    1 |     2 | t
    1 |     3 | t
    1 |     1 | t

</pre></div></div><div class="refentry" id="RT_Raster_OverRight"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>&amp;&gt; — Retorna <code class="varname">VERDADE</code> se uma caixa limitadora de A está à direita da de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">&amp;&gt;</strong>(</code> raster  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36223"><h2>Descrição</h2><p>O operador <code class="varname">&amp;&gt;</code> retorna <code class="varname">TRUE</code> se a caixa delimitadora do raster A sobrepuser ou estiver à direita da do raster B, ou mais precisamente, sobrepuser ou NÃO estiver à esquerda da do raster B. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esse operador fará uso de qualquer um dos indexes que talvez estejam disponíveis nas geometrias. </p></td></tr></table></div></div><div class="refsection" id="idm36230"><h2>Exemplos</h2><pre class="programlisting">
SELECT A.rid As a_rid, B.rid As b_rid, A.rast &amp;
&gt; B.rast As overright
 FROM dummy_rast AS A CROSS JOIN dummy_rast AS B;

 a_rid | b_rid | overright
-------+-------+----------
     2 |     2 | t
     2 |     3 | t
     2 |     1 | t
     3 |     2 | f
     3 |     3 | t
     3 |     1 | f
     1 |     2 | f
     1 |     3 | t
     1 |     1 | t

</pre></div></div><div class="refentry" id="RT_Raster_EQ"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>= — Retorna <code class="varname">VERDADE</code>se a caixa limitadora de A for a mesma de B. Utiliza precisão dupla de caixa limitadora.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">=</strong>(</code> raster  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36249"><h2>Descrição</h2><p>O operador <code class="varname">=</code> retorna <code class="varname">VERDADE</code> se a caixa limitadora da geometria/geografia A é a mesma da de B. O PostgreSQL usa o operadores =, &lt;, e &gt; definidos para geometrias para representar ordens e comparações internas de geometrias (ex. em um GRUPO ou ORDEM por oração).</p><div class="caution"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Caution]" src="images/caution.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Este operador NÃO fará uso de nenhum índice que podem estar disponíveis nos rasters. Use <a class="xref" href="#RT_Raster_Same" title="~=">~=</a>. Este operador existe em sua maioria para poder ser agrupado pela coluna raster. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0 </p></div><div class="refsection" id="idm36258"><h2>Veja também</h2><p><a class="xref" href="#RT_Raster_Same" title="~=">~=</a></p></div></div><div class="refentry" id="RT_Raster_Contained"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>@ — Retorna <code class="varname">VERDADE</code>se a caixa limitadora de A estiver contida pela de B. Utiliza precisão dupla de caixa limitadora.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">@</strong>(</code> raster  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">@</strong>(</code> geometry  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">@</strong>(</code> raster  <var class="pdparam">B</var> ,  geometry  <var class="pdparam">A</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36296"><h2>Descrição</h2><p>O operador <code class="varname">@</code> retorna <code class="varname">TRUE</code> se a caixa delimitadora do raster/geometria A estiver contida pela caixa delimitadora do raster/geometria B.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Este operador usará índices espaciais nos rasters.  </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0 raster @ raster, raster @ geometria introduzida </p><p class="availability">Disponibilidade: 2.0.5 geometria @ raster introduzida </p></div><div class="refsection" id="idm36305"><h2>Veja também</h2><p><a class="xref" href="#RT_Raster_Contains" title="~">~</a></p></div></div><div class="refentry" id="RT_Raster_Same"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>~= — Retorna <code class="varname">VERDADE</code> se a caixa limitadora de A é a mesma de B.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">~=</strong>(</code> raster  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36325"><h2>Descrição</h2><p>O operador <code class="varname">~=</code> retorna <code class="varname">TRUE</code> se a caixa delimitadora do raster A for a mesma da do raster B.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Este operador fará uso de qualquer índice que pode estar disponível nos rasters. </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm36333"><h2>Exemplos</h2><p>Casos de uso muito úteis é pegar dois conjuntos de bandas raster únicas que são do mesmo  pedaço, mas representam temas diferentes e criar uma multi banda raster </p><pre class="programlisting">SELECT ST_AddBand(prec.rast, alt.rast) As new_rast
    FROM prec INNER JOIN alt ON (prec.rast ~= alt.rast);
        </pre></div><div class="refsection" id="idm36337"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>, <a class="xref" href="#RT_Raster_EQ" title="=">=</a></p></div></div><div class="refentry" id="RT_Raster_Contains"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>~ — Retorna <code class="varname">TRUE</code> se a caixa delimitadora de A estiver contida na do B. Utiliza caixa delimitadora de precisão dupla. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">~</strong>(</code> raster  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">~</strong>(</code> geometry  <var class="pdparam">A</var> ,  raster  <var class="pdparam">B</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">~</strong>(</code> raster  <var class="pdparam">B</var> ,  geometry  <var class="pdparam">A</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36376"><h2>Descrição</h2><p>O operador <code class="varname">~</code> retorna <code class="varname">TRUE</code> se a caixa delimitadora do raster/geometria A estiver contida na caixa delimitadora do raster/geometria B.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Este operador usará índices espaciais nos rasters.  </p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm36384"><h2>Veja também</h2><p><a class="xref" href="#RT_Raster_Contained" title="@">@</a></p></div></div></section><section class="section" id="Raster_Relationships"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.17. Relações raster e raster de banda espacial </h2></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#RT_ST_Contains">ST_Contains</a></span><span class="refpurpose"> — Retorna verdade se nenhum ponto do raster rasteB estiver no exterior do raster rastA e pelo menos um ponto do interior do rastB estiver no interior do rastA.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_ContainsProperly">ST_ContainsProperly</a></span><span class="refpurpose"> — Retorna verdade se o rastB intersectar o interior do rastA, mas não o limite ou exterior do ratA.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_Covers">ST_Covers</a></span><span class="refpurpose"> — Retorna verdade se nenhum ponto do rastB estiver de fora do rastA.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_CoveredBy">ST_CoveredBy</a></span><span class="refpurpose"> — Retorna verdade se nenhum ponto do rastA estiver de fora do rastB. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Disjoint">ST_Disjoint</a></span><span class="refpurpose"> — Retorna verdade se raster rastA não intersectar espacialmente com o rastB.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_Intersects">ST_Intersects</a></span><span class="refpurpose"> — Retorna verdade se o raster rastA intersectar espacialmente com o raster rastB. </span></li><li><span class="refentrytitle"><a href="#RT_ST_Overlaps">ST_Overlaps</a></span><span class="refpurpose"> — Retorna verdade se o raster rastA e rastB  se intersectam, mas um deles não contém o outro completamente.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_Touches">ST_Touches</a></span><span class="refpurpose"> — Retorna verdade se o raster rastA e rastB têm pelo menos um ponto em comum, mas seus interiores não se intersectarem.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_SameAlignment">ST_SameAlignment</a></span><span class="refpurpose"> — Retorna verdade se os rasters têm a mesma inclinação, escala, referência espacial, e deslocamento (pixeis podem ser colocados na mesma grade sem cortar eles) e falso se eles não notificarem problemas detalhados. </span></li><li><span class="refentrytitle"><a href="#RT_ST_NotSameAlignmentReason">ST_NotSameAlignmentReason</a></span><span class="refpurpose"> — Retorna a declaração de texto se os rasters estiverem alinhados e se não tiverem, uma razão do porquê.</span></li><li><span class="refentrytitle"><a href="#RT_ST_Within">ST_Within</a></span><span class="refpurpose"> — Retorna verdade se nenhum ponto do raster rastA estiver no exterior do raster rastB e pelo menos um ponto do interior do rastA estiver no interior do rastB.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_DWithin">ST_DWithin</a></span><span class="refpurpose"> — Retorna verdade se os rasters rastA e rastB estiverem dentro da distância especificada de cada um.  </span></li><li><span class="refentrytitle"><a href="#RT_ST_DFullyWithin">ST_DFullyWithin</a></span><span class="refpurpose"> — Retorna verdade se os rasters rastA e rastB estiverem completamente dentro da distância especificada de cada um.  </span></li></ul></div><div class="refentry" id="RT_ST_Contains"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Contains — Retorna verdade se nenhum ponto do raster rasteB estiver no exterior do raster rastA e pelo menos um ponto do interior do rastB estiver no interior do rastA.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Contains</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Contains</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36420"><h2>Descrição</h2><p>O raster rastA contém o rastB se e somente se nenhum ponto do rastB estiver no exterior do rastA. Se o número de banda não for fornecido (ou for NULL), apenas o casco convexo do raster será considerado no teste. Se o número de banda for fornecido, somente aqueles pixeis com valor (não NODATA) são considerados no teste.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função fará uso de qualquer índice que possa estar disponível nos rasters.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para testar a relação espacial de um raster e uma geometria, usa ST_Polygon no raster, ex.:  ST_Contains(ST_Polygon(raster), geometria) ou ST_Contains(geometria, ST_Polygon(raster)). </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_Contains() é o inverso da ST_Within(). Logo, ST_Contains(rastA, rastB) implica ST_Within(rastB, rastA). </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm36430"><h2>Exemplos</h2><pre class="programlisting">-- specified band numbers
SELECT r1.rid, r2.rid, ST_Contains(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 1;

NOTICE:  The first raster provided has no bands
 rid | rid | st_contains
-----+-----+-------------
   1 |   1 |
   1 |   2 | f
            </pre><pre class="programlisting">-- no band numbers specified
SELECT r1.rid, r2.rid, ST_Contains(r1.rast, r2.rast) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 1;
 rid | rid | st_contains
-----+-----+-------------
   1 |   1 | t
   1 |   2 | f
            </pre></div><div class="refsection" id="idm36434"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#RT_ST_Within" title="ST_Within">ST_Within</a> </p></div></div><div class="refentry" id="RT_ST_ContainsProperly"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_ContainsProperly — Retorna verdade se o rastB intersectar o interior do rastA, mas não o limite ou exterior do ratA.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_ContainsProperly</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_ContainsProperly</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36469"><h2>Descrição</h2><p>O raster rastA contém devidamente o rastB se ele intersectar o interior do rastA, mas não o limite ou exterior do rastA. Se o número de banda não for fornecido (ou for NULL), apenas o casco convexo do raster será considerado no teste. Se o número de banda for fornecido, somente aqueles pixeis com valor (não NODATA) serão considerados no teste.  </p><p>O rastA não se contém devidamente, mas se contém.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função fará uso de qualquer índice que possa estar disponível nos rasters.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para testar a relação espacial de um raster e uma geometria, usa ST_Polygon no raster, ex.:  ST_ContainsProperly(ST_Polygon(raster), geometria) ou ST_ContainsProperly(geometria, ST_Polygon(raster)). </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm36478"><h2>Exemplos</h2><pre class="programlisting">SELECT r1.rid, r2.rid, ST_ContainsProperly(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_containsproperly
-----+-----+---------------------
   2 |   1 | f
   2 |   2 | f
            </pre></div><div class="refsection" id="idm36481"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#RT_ST_Contains" title="ST_Contains">ST_Contains</a> </p></div></div><div class="refentry" id="RT_ST_Covers"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Covers — Retorna verdade se nenhum ponto do rastB estiver de fora do rastA.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Covers</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Covers</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36516"><h2>Descrição</h2><p>O rastA cobre rastB se e somente se nenhum ponto do rastB estiver no exterior do rastA. Se o número de banda não for fornecido ( ou for NULO), apenas o casco convexo do raster é considerado no teste. Se o número de banda for fornecido, apenas aqueles pixeis com valor (não NODATA) serão considerados no teste.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função fará uso de qualquer índice que possa estar disponível nos rasters.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para testar a relação espacial de um raster e uma geometria, usa ST_Polygon no raster, ex.:  ST_Coveres(ST_Polygon(raster), geometria) ou ST_Coveres(geometria, ST_Polygon(raster)). </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm36524"><h2>Exemplos</h2><pre class="programlisting">SELECT r1.rid, r2.rid, ST_Covers(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_covers
-----+-----+-----------
   2 |   1 | f
   2 |   2 | t
            </pre></div><div class="refsection" id="idm36527"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#RT_ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a> </p></div></div><div class="refentry" id="RT_ST_CoveredBy"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_CoveredBy — Retorna verdade se nenhum ponto do rastA estiver de fora do rastB. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_CoveredBy</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_CoveredBy</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36562"><h2>Descrição</h2><p>O rastA está coberto pelo rastB se e somente se nenhum ponto do rastA estiver no exterior do rastB. Se o número de banda não for fornecido ( ou for NULO), apenas o casco convexo do raster é considerado no teste. Se o número de banda for fornecido, apenas aqueles pixeis com valor (não NODATA) serão considerados no teste.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função fará uso de qualquer índice que possa estar disponível nos rasters.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para testar a relação espacial de um raster e uma geometria, usa ST_Polygon no raster, ex.:  ST_CoveredBy(ST_Polygon(raster), geometria) ou ST_CoveredBy(geometria, ST_Polygon(raster)). </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm36570"><h2>Exemplos</h2><pre class="programlisting">SELECT r1.rid, r2.rid, ST_CoveredBy(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_coveredby
-----+-----+--------------
   2 |   1 | f
   2 |   2 | t
            </pre></div><div class="refsection" id="idm36573"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#RT_ST_Covers" title="ST_Covers">ST_Covers</a> </p></div></div><div class="refentry" id="RT_ST_Disjoint"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Disjoint — Retorna verdade se raster rastA não intersectar espacialmente com o rastB.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Disjoint</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Disjoint</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36608"><h2>Descrição</h2><p>O rastA e rastB estarão disjuntos se eles não dividirem nenhum espaço. Se o número de banda não for fornecido ( ou for NULL), apenas o casco convexo do raster é considerado no teste. Se o número de banda for fornecido, apenas aqueles pixeis com valor (não NODATA) serão considerados no teste.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função NÃO usa nenhum índice.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para testar a relação espacial de um raster e uma geometria, use ST_Polygon no raster, ex.: ST_Disjoint(ST_Polygon(raster), geometria). </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm36616"><h2>Exemplos</h2><pre class="programlisting">-- rid = 1 has no bands, hence the NOTICE and the NULL value for st_disjoint
SELECT r1.rid, r2.rid, ST_Disjoint(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

NOTICE:  The second raster provided has no bands
 rid | rid | st_disjoint
-----+-----+-------------
   2 |   1 |
   2 |   2 | f
            </pre><pre class="programlisting">-- this time, without specifying band numbers
SELECT r1.rid, r2.rid, ST_Disjoint(r1.rast, r2.rast) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_disjoint
-----+-----+-------------
   2 |   1 | t
   2 |   2 | f
            </pre></div><div class="refsection" id="idm36620"><h2>Veja também</h2><p>
                <a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>
            </p></div></div><div class="refentry" id="RT_ST_Intersects"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Intersects — Retorna verdade se o raster rastA intersectar espacialmente com o raster rastB. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Intersects</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Intersects</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Intersects</strong>(</code> raster  <var class="pdparam">rast</var> ,  integer  <var class="pdparam">nband</var> ,  geometry  <var class="pdparam">geommin</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Intersects</strong>(</code> raster  <var class="pdparam">rast</var> ,  geometry  <var class="pdparam">geommin</var> ,  integer  <var class="pdparam">nband=NULL</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Intersects</strong>(</code> geometry  <var class="pdparam">geommin</var> ,  raster  <var class="pdparam">rast</var> ,  integer  <var class="pdparam">nband=NULL</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36690"><h2>Descrição</h2><p>Retorna verdade se o rastA se intersectar espacialmente com o rastB. Se o número de banda não for fornecido ( ou for NULO), apenas o casco convexo do raster é considerado no teste. Se o número de banda for fornecido, apenas aqueles pixeis com valor (não NODATA) serão considerados no teste.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função fará uso de qualquer índice que possa estar disponível nos rasters.  </p></td></tr></table></div><p>Melhorias: 2.0.0 suporte para interseções raster/raster foi introduzido.  </p><div class="warning"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Warning]" src="images/warning.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Alterações: 2.1.0 O comportamento das variantes ST_Intersects(raster, geometria) foi alterado para combinar com ST_Intersects(geometria, raster). </p></td></tr></table></div></div><div class="refsection" id="idm36698"><h2>Exemplos</h2><pre class="programlisting">-- different bands of same raster
SELECT ST_Intersects(rast, 2, rast, 3) FROM dummy_rast WHERE rid = 2;

 st_intersects
---------------
 t
            </pre></div><div class="refsection" id="idm36701"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Intersection" title="ST_Intersection">ST_Intersection</a>, <a class="xref" href="#RT_ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a> </p></div></div><div class="refentry" id="RT_ST_Overlaps"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Overlaps — Retorna verdade se o raster rastA e rastB  se intersectam, mas um deles não contém o outro completamente.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Overlaps</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Overlaps</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36736"><h2>Descrição</h2><p>Retorna verdade se o raster rastA tocar espacialmente o raster rastB. Isso significa que eles se intersectam, mas um não contém o outro completamente. Se o número banda não for fornecido (ou for NULO), apenas o casco convexo do raster é considerado no teste. Se o número de banda for fornecido, apenas os pixeis com valor (não NODATA) serão considerados no teste.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função fará uso de qualquer índice que possa estar disponível nos rasters.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para testar a relação espacial de um raster e uma geometria, use ST_Polygon no raster, ex.: ST_Overlaps(ST_Polygon(raster), geometria). </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm36744"><h2>Exemplos</h2><pre class="programlisting">-- comparing different bands of same raster
SELECT ST_Overlaps(rast, 1, rast, 2) FROM dummy_rast WHERE rid = 2;

 st_overlaps
-------------
 f
            </pre></div><div class="refsection" id="idm36747"><h2>Veja também</h2><p>
                <a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>
            </p></div></div><div class="refentry" id="RT_ST_Touches"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Touches — Retorna verdade se o raster rastA e rastB têm pelo menos um ponto em comum, mas seus interiores não se intersectarem.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Touches</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Touches</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36781"><h2>Descrição</h2><p>Retorna verdade se o raster rastA tocar espacialmente o raster rastB. Isso significa que eles têm pelo menos um ponto em comum, mas seus interiores não se intersectam. Se o número banda não for fornecido (ou for NULO), apenas o casco convexo do raster é considerado no teste. Se o número de banda for fornecido, apenas os pixeis com valor (não NODATA) serão considerados no teste.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função fará uso de qualquer índice que possa estar disponível nos rasters.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para testar a relação espacial de um raster e uma geometria, use ST_Polygon no raster, ex.: ST_Touches(ST_Polygon(raster), geometria). </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm36789"><h2>Exemplos</h2><pre class="programlisting">SELECT r1.rid, r2.rid, ST_Touches(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_touches
-----+-----+------------
   2 |   1 | f
   2 |   2 | f
            </pre></div><div class="refsection" id="idm36792"><h2>Veja também</h2><p>
                <a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>
            </p></div></div><div class="refentry" id="RT_ST_SameAlignment"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_SameAlignment — Retorna verdade se os rasters têm a mesma inclinação, escala, referência espacial, e deslocamento (pixeis podem ser colocados na mesma grade sem cortar eles) e falso se eles não notificarem problemas detalhados. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_SameAlignment</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_SameAlignment</strong>(</code> double precision  <var class="pdparam">ulx1</var> ,  double precision  <var class="pdparam">uly1</var> ,  double precision  <var class="pdparam">scalex1</var> ,  double precision  <var class="pdparam">scaley1</var> ,  double precision  <var class="pdparam">skewx1</var> ,  double precision  <var class="pdparam">skewy1</var> ,  double precision  <var class="pdparam">ulx2</var> ,  double precision  <var class="pdparam">uly2</var> ,  double precision  <var class="pdparam">scalex2</var> ,  double precision  <var class="pdparam">scaley2</var> ,  double precision  <var class="pdparam">skewx2</var> ,  double precision  <var class="pdparam">skewy2</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_SameAlignment</strong>(</code> raster set  <var class="pdparam">rastfield</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36856"><h2>Descrição</h2><p>Versão não agregada (variantes 1 e 2): Retorna verdade se dois rasters (fornecidos diretamente ou feitos usando os valores esquerdo superior, escala, inclinação ou srid) têm a mesma escala, inclinação, srid e pelo menos um de qualquer dos quatro cantos de pixel de um raster cair em algum canto da grade do outro raster. Retorna falso se eles não e um AVISO detalhando o problema de alinhamento.  </p><p>Versão agregada (variante 3): De um conjunto de rasters, retorna verdade se todos os rasters no conjunto estiverem alinhados. A função ST_SameAlignment() é "agregada" na terminologia do PostgreSQL. Isso significa que ela opera nas linhas de dados, da mesma maneira que as funções SUM() e AVG() operam.  </p><p class="availability">Disponibilidade: 2.0.0</p><p class="enhanced">Melhorias: 2.1.0 adição da variante agregada</p></div><div class="refsection" id="idm36862"><h2>Exemplos: Rasters</h2><pre class="programlisting">SELECT ST_SameAlignment(
    ST_MakeEmptyRaster(1, 1, 0, 0, 1, 1, 0, 0),
    ST_MakeEmptyRaster(1, 1, 0, 0, 1, 1, 0, 0)
) as sm;

sm
----
t
</pre><pre class="programlisting">SELECT ST_SameAlignment(A.rast,b.rast)
 FROM dummy_rast AS A CROSS JOIN dummy_rast AS B;

 NOTICE:  The two rasters provided have different SRIDs
NOTICE:  The two rasters provided have different SRIDs
 st_samealignment
------------------
 t
 f
 f
 f
</pre></div><div class="refsection" id="idm36866"><h2>Veja também</h2><p><a class="xref" href="#RT_Loading_Rasters" title="10.1. Carregando e criando dados matriciais">Section 10.1, “Carregando e criando dados matriciais”</a>, <a class="xref" href="#RT_ST_NotSameAlignmentReason" title="ST_NotSameAlignmentReason">ST_NotSameAlignmentReason</a>, <a class="xref" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a> </p></div></div><div class="refentry" id="RT_ST_NotSameAlignmentReason"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_NotSameAlignmentReason — Retorna a declaração de texto se os rasters estiverem alinhados e se não tiverem, uma razão do porquê.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">ST_NotSameAlignmentReason</strong>(</code>raster <var class="pdparam">rastA</var>, raster <var class="pdparam">rastB</var><code>)</code>;</p></div></div><div class="refsection" id="idm36887"><h2>Descrição</h2><p>Retorna a declaração de texto se os rasters estiverem alinhados e se não tiverem, uma razão do porquê.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se existem várias razões do porquê os rasters não estão alinhados, apenas uma razão (o primeiro teste a falhar) retornará.  </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm36893"><h2>Exemplos</h2><pre class="programlisting">SELECT
    ST_SameAlignment(
        ST_MakeEmptyRaster(1, 1, 0, 0, 1, 1, 0, 0),
        ST_MakeEmptyRaster(1, 1, 0, 0, 1.1, 1.1, 0, 0)
    ),
    ST_NotSameAlignmentReason(
        ST_MakeEmptyRaster(1, 1, 0, 0, 1, 1, 0, 0),
        ST_MakeEmptyRaster(1, 1, 0, 0, 1.1, 1.1, 0, 0)
    )
;

 st_samealignment |            st_notsamealignmentreason
------------------+-------------------------------------------------
 f                | The rasters have different scales on the X axis
(1 row)
                </pre></div><div class="refsection" id="idm36896"><h2>Veja também</h2><p><a class="xref" href="#RT_Loading_Rasters" title="10.1. Carregando e criando dados matriciais">Section 10.1, “Carregando e criando dados matriciais”</a>, <a class="xref" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a> </p></div></div><div class="refentry" id="RT_ST_Within"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_Within — Retorna verdade se nenhum ponto do raster rastA estiver no exterior do raster rastB e pelo menos um ponto do interior do rastA estiver no interior do rastB.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_Within</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_Within</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36931"><h2>Descrição</h2><p>O raster rastA está dentro do rastB se e somente se nenhum ponto do rastA estiver no exterior do rastB e pelo menos um ponto do interior do rastA estiver no interior do rastB. Se o número de banda não for fornecido (ou for NULL), apenas o casco convexo do raster será considerado no teste. Se o número de banda for fornecido, somente aqueles pixeis com valor (não NODATA) são considerados no teste.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Este operador fará uso de qualquer índice que pode estar disponível nos rasters.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para testar a relação espacial de um raster e uma geometria, usa ST_Polygon no raster, ex.:  ST_Within(ST_Polygon(raster), geometria) ou ST_Within(geometria, ST_Polygon(raster)). </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>ST_Within() é o inverso da ST_Contains(). Logo, ST_Within(rastA, rastB) implica ST_Contains(rastB, rastA). </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm36941"><h2>Exemplos</h2><pre class="programlisting">SELECT r1.rid, r2.rid, ST_Within(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_within
-----+-----+-----------
   2 |   1 | f
   2 |   2 | t
            </pre></div><div class="refsection" id="idm36944"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>, <a class="xref" href="#RT_ST_Contains" title="ST_Contains">ST_Contains</a>, <a class="xref" href="#RT_ST_DWithin" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="#RT_ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a> </p></div></div><div class="refentry" id="RT_ST_DWithin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DWithin — Retorna verdade se os rasters rastA e rastB estiverem dentro da distância especificada de cada um.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_DWithin</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> ,  double precision  <var class="pdparam">distance_of_srid</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_DWithin</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> ,  double precision  <var class="pdparam">distance_of_srid</var> <code>)</code>;</p></div></div><div class="refsection" id="idm36987"><h2>Descrição</h2><p>Retorna verdade se os rasters rastA e rastB estiverem dentro da distância especificada de cada um. Se o número de banda não for fornecido ( ou for NULO), apenas o casco convexo do raster é considerado no teste. Se o número de banda for fornecido, apenas aqueles pixeis com valor (não NODATA) serão considerados no teste.  </p><p>A distância é especificada em unidades definidas pelo sistema de referência espacial dos rasters. Para esta função fazer sentido, os rasters fonte devem ser ambos da mesma projeção de coordenada, tendo o mesmo SRID.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Este operador fará uso de qualquer índice que pode estar disponível nos rasters.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para testar a relação espacial de um raster e uma geometria, use ST_Polygon no raster, ex.: ST_DWithin(ST_Polygon(raster), geometria). </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm36996"><h2>Exemplos</h2><pre class="programlisting">SELECT r1.rid, r2.rid, ST_DWithin(r1.rast, 1, r2.rast, 1, 3.14) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_dwithin
-----+-----+------------
   2 |   1 | f
   2 |   2 | t
            </pre></div><div class="refsection" id="idm36999"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Within" title="ST_Within">ST_Within</a>, <a class="xref" href="#RT_ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a> </p></div></div><div class="refentry" id="RT_ST_DFullyWithin"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>ST_DFullyWithin — Retorna verdade se os rasters rastA e rastB estiverem completamente dentro da distância especificada de cada um.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">ST_DFullyWithin</strong>(</code> raster  <var class="pdparam">rastA</var> ,  integer  <var class="pdparam">nbandA</var> ,  raster  <var class="pdparam">rastB</var> ,  integer  <var class="pdparam">nbandB</var> ,  double precision  <var class="pdparam">distance_of_srid</var> <code>)</code>;</p><p><code class="funcdef">boolean <strong class="fsfunc">ST_DFullyWithin</strong>(</code> raster  <var class="pdparam">rastA</var> ,  raster  <var class="pdparam">rastB</var> ,  double precision  <var class="pdparam">distance_of_srid</var> <code>)</code>;</p></div></div><div class="refsection" id="idm37040"><h2>Descrição</h2><p>Retorna verdade se os rasters rastA e rastB estiverem completamente dentro da distância especificada de cada um. Se o número de banda não for fornecido (ou for NULO), apenas o casco convexo do raster é considerado no teste. Se o número de banda for fornecido, apenas aqueles pixeis com valor (não NODATA) serão considerados no teste.  </p><p>A distância é especificada em unidades definidas pelo sistema de referência espacial dos rasters. Para esta função fazer sentido, os rasters fonte devem ser ambos da mesma projeção de coordenada, tendo o mesmo SRID.  </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Este operador fará uso de qualquer índice que pode estar disponível nos rasters.  </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Para testar a relação espacial de um raster e uma geometria, use ST_Polygon no raster, ex.: ST_DFullyWithin(ST_Polygon(raster), geometria). </p></td></tr></table></div><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm37049"><h2>Exemplos</h2><pre class="programlisting">SELECT r1.rid, r2.rid, ST_DFullyWithin(r1.rast, 1, r2.rast, 1, 3.14) FROM dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;

 rid | rid | st_dfullywithin
-----+-----+-----------------
   2 |   1 | f
   2 |   2 | t
            </pre></div><div class="refsection" id="idm37052"><h2>Veja também</h2><p><a class="xref" href="#RT_ST_Within" title="ST_Within">ST_Within</a>, <a class="xref" href="#RT_ST_DWithin" title="ST_DWithin">ST_DWithin</a> </p></div></div></section><section class="section" id="Raster_Tips"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.18. Raster Tips</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>This section documents various gotchas and tips related to PostGIS Raster.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#outdb">11.18.1. Out-DB Rasters</a></span></li></ul></div><section class="section" id="outdb"><div class="titlepage"><div><div><h3 class="title">11.18.1. Out-DB Rasters</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#gdal_readdir">11.18.1.1. Directory containing many files</a></span></li><li><span class="section"><a href="#max_open_files">11.18.1.2. Maximum Number of Open Files</a></span></li></ul></div><section class="section" id="gdal_readdir"><div class="titlepage"><div><div><h4 class="title">11.18.1.1. Directory containing many files</h4></div></div></div><p>When GDAL opens a file, GDAL eagerly scans the directory of that file to build a catalog of other files. If this directory contains many files (e.g. thousands, millions), opening that file becomes extremely slow (especially if that file happens to be on a network drive such as NFS). </p><p>To control this behavior, GDAL provides the following environment variable: <a class="link" href="https://trac.osgeo.org/gdal/wiki/ConfigOptions#GDAL_DISABLE_READDIR_ON_OPEN" target="_top">GDAL_DISABLE_READDIR_ON_OPEN</a>. Set <code class="varname">GDAL_DISABLE_READDIR_ON_OPEN</code> to <code class="varname">TRUE</code> to disable directory scanning. </p><p>In Ubuntu (and assuming you are using PostgreSQL's packages for Ubuntu), <code class="varname">GDAL_DISABLE_READDIR_ON_OPEN</code> can be set in <span class="emphasis"><em>/etc/postgresql/POSTGRESQL_VERSION/CLUSTER_NAME/environment</em></span> (where POSTGRESQL_VERSION is the version of PostgreSQL, e.g. 9.6 and CLUSTER_NAME is the name of the cluster, e.g. maindb). You can also set PostGIS environment variables here as well. </p><pre class="programlisting"># environment variables for postmaster process
# This file has the same syntax as postgresql.conf:
#  VARIABLE = simple_value
#  VARIABLE2 = 'any value!'
# I. e. you need to enclose any value which does not only consist of letters,
# numbers, and '-', '_', '.' in single quotes. Shell commands are not
# evaluated.
POSTGIS_GDAL_ENABLED_DRIVERS = 'ENABLE_ALL'

POSTGIS_ENABLE_OUTDB_RASTERS = 1

<span class="strong"><strong>GDAL_DISABLE_READDIR_ON_OPEN = 'TRUE'</strong></span>
                    </pre><p>
                </p></section><section class="section" id="max_open_files"><div class="titlepage"><div><div><h4 class="title">11.18.1.2. Maximum Number of Open Files</h4></div></div></div><p>The maximum number of open files permitted by Linux and PostgreSQL are typically conservative (typically 1024 open files per process) given the assumption that the system is consumed by human users. For Out-DB Rasters, a single valid query can easily exceed this limit (e.g. a dataset of 10 year's worth of rasters with one raster for each day containing minimum and maximum temperatures and we want to know the absolute min and max value for a pixel in that dataset). </p><p>The easiest change to make is the following PostgreSQL setting: <a class="link" href="https://www.postgresql.org/docs/current/static/runtime-config-resource.html#GUC-MAX-FILES-PER-PROCESS" target="_top">max_files_per_process</a>. The default is set to 1000, which is far too low for Out-DB Rasters. A safe starting value could be 65536 but this really depends on your datasets and the queries run against those datasets. This setting can only be made on server start and probably only in the PostgreSQL configuration file (e.g. <span class="emphasis"><em>/etc/postgresql/POSTGRESQL_VERSION/CLUSTER_NAME/postgresql.conf</em></span> in Ubuntu environments). </p><pre class="programlisting">...
# - Kernel Resource Usage -

<span class="strong"><strong>max_files_per_process = 65536</strong></span>           # min 25
                                        # (change requires restart)
...
                    </pre><p>
                </p><p>The major change to make is the Linux kernel's open files limits. There are two parts to this: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Maximum number of open files for the entire system</p></li><li class="listitem"><p>Maximum number of open files per process</p></li></ul></div><p>
                </p><section class="section" id="max_open_files_per_system"><div class="titlepage"><div><div><h5 class="title">11.18.1.2.1. Maximum number of open files for the entire system</h5></div></div></div><p>You can inspect the current maximum number of open files for the entire system with the following example: </p><pre class="programlisting">$ sysctl -a | grep fs.file-max
fs.file-max = 131072
                    </pre><p>If the value returned is not large enough, add a file to <span class="emphasis"><em>/etc/sysctl.d/</em></span> as per the following example: </p><pre class="programlisting">$ echo "fs.file-max = 6145324" &gt;&gt; /etc/sysctl.d/fs.conf

$ cat /etc/sysctl.d/fs.conf
fs.file-max = 6145324

$ sysctl -p --system
* Applying /etc/sysctl.d/fs.conf ...
fs.file-max = 2097152
* Applying /etc/sysctl.conf ...

$ sysctl -a | grep fs.file-max
fs.file-max = 6145324
                    </pre></section><section class="section" id="max_open_files_per_process"><div class="titlepage"><div><div><h5 class="title">11.18.1.2.2. Maximum number of open files per process</h5></div></div></div><p>We need to increase the maximum number of open files per process for the PostgreSQL server processes. </p><p>To see what the current PostgreSQL service processes are using for maximum number of open files, do as per the following example (make sure to have PostgreSQL running): </p><pre class="programlisting">$ ps aux | grep postgres
postgres 31713  0.0  0.4 179012 17564 pts/0    S    Dec26   0:03 /home/dustymugs/devel/postgresql/sandbox/10/usr/local/bin/postgres -D /home/dustymugs/devel/postgresql/sandbox/10/pgdata
postgres 31716  0.0  0.8 179776 33632 ?        Ss   Dec26   0:01 postgres: checkpointer process
postgres 31717  0.0  0.2 179144  9416 ?        Ss   Dec26   0:05 postgres: writer process
postgres 31718  0.0  0.2 179012  8708 ?        Ss   Dec26   0:06 postgres: wal writer process
postgres 31719  0.0  0.1 179568  7252 ?        Ss   Dec26   0:03 postgres: autovacuum launcher process
postgres 31720  0.0  0.1  34228  4124 ?        Ss   Dec26   0:09 postgres: stats collector process
postgres 31721  0.0  0.1 179308  6052 ?        Ss   Dec26   0:00 postgres: bgworker: logical replication launcher

$ cat /proc/31718/limits
Limit                     Soft Limit           Hard Limit           Units
Max cpu time              unlimited            unlimited            seconds
Max file size             unlimited            unlimited            bytes
Max data size             unlimited            unlimited            bytes
Max stack size            8388608              unlimited            bytes
Max core file size        0                    unlimited            bytes
Max resident set          unlimited            unlimited            bytes
Max processes             15738                15738                processes
<span class="strong"><strong>Max open files            1024                 4096                 files</strong></span>
Max locked memory         65536                65536                bytes
Max address space         unlimited            unlimited            bytes
Max file locks            unlimited            unlimited            locks
Max pending signals       15738                15738                signals
Max msgqueue size         819200               819200               bytes
Max nice priority         0                    0
Max realtime priority     0                    0
Max realtime timeout      unlimited            unlimited            us
                    </pre><p>In the example above, we inspected the open files limit for Process 31718. It doesn't matter which PostgreSQL process, any of them will do. The response we are interested in is <span class="emphasis"><em>Max open files</em></span>. </p><p>We want to increase <span class="emphasis"><em>Soft Limit</em></span> and <span class="emphasis"><em>Hard Limit</em></span> of <span class="emphasis"><em>Max open files</em></span> to be greater than the value we specified for the PostgreSQL setting <code class="varname">max_files_per_process</code>. In our example, we set <code class="varname">max_files_per_process</code> to 65536. </p><p>In Ubuntu (and assuming you are using PostgreSQL's packages for Ubuntu), the easiest way to change the <span class="emphasis"><em>Soft Limit</em></span> and <span class="emphasis"><em>Hard Limit</em></span> is to edit <span class="strong"><strong>/etc/init.d/postgresql</strong></span> (SysV) or <span class="strong"><strong>/lib/systemd/system/postgresql*.service</strong></span> (systemd). </p><p>Let's first address the SysV Ubuntu case where we add <span class="strong"><strong>ulimit -H -n 262144</strong></span> and <span class="strong"><strong>ulimit -n 131072</strong></span> to <span class="strong"><strong>/etc/init.d/postgresql</strong></span>. </p><pre class="programlisting">...
case "$1" in
    start|stop|restart|reload)
        if [ "$1" = "start" ]; then
            create_socket_directory
        fi
    if [ -z "`pg_lsclusters -h`" ]; then
        log_warning_msg 'No PostgreSQL clusters exist; see "man pg_createcluster"'
        exit 0
    fi
<span class="strong"><strong>
    ulimit -H -n 262144
    ulimit -n 131072
</strong></span>
    for v in $versions; do
        $1 $v || EXIT=$?
    done
    exit ${EXIT:-0}
        ;;
    status)
...
</pre><p>Now to address the systemd Ubuntu case. We will add <span class="strong"><strong>LimitNOFILE=131072</strong></span> to every <span class="strong"><strong>/lib/systemd/system/postgresql*.service</strong></span> file in the <span class="strong"><strong>[Service]</strong></span> section. </p><pre class="programlisting">...
[Service]
<span class="strong"><strong>
LimitNOFILE=131072
</strong></span>
...

[Install]
WantedBy=multi-user.target
...
</pre><p>After making the necessary systemd changes, make sure to reload the daemon </p><pre class="programlisting">systemctl daemon-reload
</pre></section></section></section></section></section><section class="chapter" id="Extras"><div class="titlepage"><div><div><h1 class="title">Chapter 12. PostGIS Extras</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#Address_Standardizer">12.1. Padronizador de endereço</a></span></li><li><span class="section"><a href="#Tiger_Geocoder">12.2. Tiger Geocoder</a></span></li></ul></div><p>This chapter documents features found in the extras folder of the PostGIS source tarballs and source repository. These are not always packaged with PostGIS binary releases, but are usually PL/pgSQL based or standard shell scripts that can be run as is.</p><section class="section" id="Address_Standardizer"><div class="titlepage"><div><div><h2 class="title" style="clear: both">12.1. Padronizador de endereço</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#Address_Standardizer_Basics">12.1.1. Como o analisador sintático funciona</a></span></li><li><span class="section"><a href="#Address_Standardizer_Types">12.1.2. Tipos de padronizador de endereço</a></span></li><li><span class="section"><a href="#Address_Standardizer_Tables">12.1.3. Mesas de padronizador de endereço </a></span></li><li><span class="section"><a href="#Address_Standardizer_Functions">12.1.4. Funções do padronizador de endereços</a></span></li></ul></div><p>Essa é uma forquilha do <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-11.html" target="_top"> padronizador PAGC </a> (código original para essa porção era <a class="link" href="http://sourceforge.net/p/pagc/code/360/tree/branches/sew-refactor/postgresql" target="_top"> Padronizador de endereço PAGC PostgreSQL</a>). </p><p>O padronizador de endereços é uma única linha de análise sintática que pega um endereço de entrada e o normaliza baseado em um conjunto de regras armazenado em uma table e helper lex e gaz tables.</p><p>O código é construído em uma uńica biblioteca de extensão chamada <code class="code">address_standardizer</code> a qual pode ser instalada com <code class="code">CREATE EXTENSION address_standardizer;</code>. Juntamente com a extensão address_standardizer, uma extensão amostra de dados chamada <code class="code">address_standardizer_data_us</code> é construída, a qual contém gaz, lex e regras tables para dados dos EUA. Essas extensões podem ser instaladas via: <code class="code">CREATE EXTENSION address_standardizer_data_us;</code></p><p>O código para esta extensão pode ser encontrado no PostGIS <code class="filename">extensions/address_standardizer</code> e está atualmente autocontido. </p><p>Para instruções de instalação consulte: <a class="xref" href="#installing_pagc_address_standardizer" title="2.3. Instalando e usando o padronizador de endereço">Section 2.3, “Instalando e usando o padronizador de endereço”</a>.</p><section class="section" id="Address_Standardizer_Basics"><div class="titlepage"><div><div><h3 class="title">12.1.1. Como o analisador sintático funciona</h3></div></div></div><p>O analisador sintático funciona da direita para a esquerda observando primeiramente os macro elementos para CEP, estado/província, cidade e depois observando os micro elementos para determinar se estamos lidando com uma casa numerada em uma rua ou intersecção ou ponto de referência. Ele normalmente não procura pelo código ou nome do país, mas isso poderia ser introduzido no futuro.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Código do país</span></dt><dd><p>Suposto de ser EUA ou CA com base em: CEP como EUA ou estado/província do Canadá como EUA ou Canadá outro EUA </p></dd><dt><span class="term">Caixa postal/CEP</span></dt><dd><p>Esses são reconhecidos utilizando expressões Perl compatíveis. Esses regexs estão atualmente no parseaddress-api.c e são relativamente fáceis de alterar, caso seja necessário. </p></dd><dt><span class="term">Estado/província </span></dt><dd><p>Esses são reconhecidos utilizando expressões Perl compatíveis. Esses regexs estão atualmente no parseaddress-api.c e são relativamente fáceis de alterar, caso seja necessário. </p></dd></dl></div></section><section class="section" id="Address_Standardizer_Types"><div class="titlepage"><div><div><h3 class="title">12.1.2. Tipos de padronizador de endereço</h3></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Essa seção lista os tipos de dados PostgreSQL instalados pela extensão do padronizador de endereço. Note que descrevemos o comportamento de distribuição de papeis desses que são bastante importantes especialmente quando desenvolvem suas próprias funções. </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#stdaddr">stdaddr</a></span><span class="refpurpose"> — Um tipo composto que consiste nos elementos de um endereço. Este é o tipo de retorno para <code class="varname">standardize_address</code> função.</span></li></ul></div><div class="refentry" id="stdaddr"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>stdaddr — Um tipo composto que consiste nos elementos de um endereço. Este é o tipo de retorno para <code class="varname">standardize_address</code> função.</p></div><div class="refsection" id="idm37174"><h2>Descrição</h2><p>Um tipo composto dos elementos de um endereço. Este é o tipo de retorno para <a class="xref" href="#standardize_address" title="standardize_address">standardize_address</a> função. Algumas descrições para elementos são emprestadas de <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#ss12.1" target="_top">PAGC Postal Attributes</a>.</p><p>Os números pegos denotam o número de referência da saída no <a class="xref" href="#rulestab" title="rules table">rules table</a>.</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs address_standardizer extension. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">building</code></span></dt><dd><p>é texto (token number <code class="code">0</code>): Refere ao número da construção ou nome. Identificadores e tipos de construções unparsed. Normalmente em branco para a maioria dos endereços.</p></dd><dt><span class="term"><code class="varname">house_num</code></span></dt><dd><p>é um texto (número token <code class="code">1</code>): Este é o número da rua em uma rua. Exemplo <span class="emphasis"><em>75</em></span> em <code class="code">75 Rua State</code>.</p></dd><dt><span class="term"><code class="varname">predir</code></span></dt><dd><p>é um texto (número token <code class="code">2</code>): NOME DA RUA PRE-DIRECTIONAL como Norte, Sul, Leste, Oeste etc. </p></dd><dt><span class="term"><code class="varname">qual</code></span></dt><dd><p>é um texto (número token <code class="code">3</code>): NOME DA RUA PRE-MODIFIER Exemplo <span class="emphasis"><em>VELHA</em></span> em <code class="code">3715 ESTRADA VELHA 99</code>.</p></dd><dt><span class="term"><code class="varname">pretype</code></span></dt><dd><p>é um texto (número token <code class="code">4</code>): TIPO DE PREFIXO DA RUA</p></dd><dt><span class="term"><code class="varname">name</code></span></dt><dd><p>é um texto (número token <code class="code">5</code>): NOME DA RUA</p></dd><dt><span class="term"><code class="varname">suftype</code></span></dt><dd><p>é um texto (número token <code class="code">6</code>): TIPO DE CORREIO DA RUA ex. R, Av, Cir. Um tipo de rua seguindo o nome raiz da rua. Exemplo <span class="emphasis"><em>RUA</em></span> em <code class="code">75 Rua State</code>.</p></dd><dt><span class="term"><code class="varname">sufdir</code></span></dt><dd><p>é um texto (número token <code class="code">7</code>): RUA POST-DIRECTIONAL Um modificador direcional que segue o nome da rua.. Exemplo <span class="emphasis"><em>OESTE</em></span> em <code class="code">3715 DÉDIMA AVENIDA OESTE</code>.</p></dd><dt><span class="term"><code class="varname">ruralroute</code></span></dt><dd><p>is text (token number <code class="code">8</code>): RURAL ROUTE . Example <span class="emphasis"><em>7</em></span> in <code class="code">RR 7</code>.</p></dd><dt><span class="term"><code class="varname">extra</code></span></dt><dd><p>é texto: informação extra como número de pisos.</p></dd><dt><span class="term"><code class="varname">city</code></span></dt><dd><p>is text (token number <code class="code">10</code>): Exemplo Boston.</p></dd><dt><span class="term"><code class="varname">state</code></span></dt><dd><p>is text (token number <code class="code">11</code>): Exemplo <code class="code">MASSACHUSETTS</code></p></dd><dt><span class="term"><code class="varname">country</code></span></dt><dd><p>is text (token number <code class="code">12</code>): Exemplo <code class="code">USA</code></p></dd><dt><span class="term"><code class="varname">postcode</code></span></dt><dd><p>é texto CÓDIGO POSTAL (CÓDIGO ZIP) (número token <code class="code">13</code>): Exemplo <code class="code">02109</code></p></dd><dt><span class="term"><code class="varname">box</code></span></dt><dd><p>is text POSTAL BOX NUMBER (token number <code class="code">14 and 15</code>): Example <code class="code">02109</code></p></dd><dt><span class="term"><code class="varname">unit</code></span></dt><dd><p>é texto Número do apartamento ou Número da suíte (número token <code class="code">17</code>): Exemplo <span class="emphasis"><em>3B</em></span> em <code class="code">APTO 3B</code>.</p></dd></dl></div></div></div></section><section class="section" id="Address_Standardizer_Tables"><div class="titlepage"><div><div><h3 class="title">12.1.3. Mesas de padronizador de endereço </h3></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Esta seção lista os formatos table utilizados pelo address_standardizer para normalização de endereços. Notar que essas tables não precisam ser nomeadas da mesma maneira que são referidas aqui. Você pode ter diferentes lex, gaz, regras tables para cada país por exemplo ou para seu geocoder de costume. Os nomes dessas table passam pelas funções do padronizador de endereços. </p><p>A extensão compactada <code class="varname">address_standardizer_data_us</code> contém dados para os padronizadores de endereço dos EUA.</p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#rulestab">rules table</a></span><span class="refpurpose"> — A mesa de regras contém um conjunto de regras que mapeia a sequência de tokens de entrada de endereço para a sequência de saída. Uma regra é definida como um conjunto de tokens de entrada seguido por -1 (terminator) seguido por conjunto de tokens de saída seguido por -1 seguido por um número que denota tipo de regra seguido por um ranking de regra.</span></li><li><span class="refentrytitle"><a href="#lextab">lex table</a></span><span class="refpurpose"> — Uma gaz table é usada para classificar entrada e associado alfanumérico que entram com (a) tokens de entrada ( See the section called “Tokens de entrada”) e (b) representações padronizadas.</span></li><li><span class="refentrytitle"><a href="#gaztab">gaz table</a></span><span class="refpurpose"> — Uma gaz table é usada para padronizar nomes de lugares e associações que entram com (a) tokens de entrada ( See the section called “Tokens de entrada”) e (b) representações padronizadas.</span></li></ul></div><div class="refentry" id="rulestab"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>rules table — A mesa de regras contém um conjunto de regras que mapeia a sequência de tokens de entrada de endereço para a sequência de saída. Uma regra é definida como um conjunto de tokens de entrada seguido por -1 (terminator) seguido por conjunto de tokens de saída seguido por -1 seguido por um número que denota tipo de regra seguido por um ranking de regra.</p></div><div class="refsection" id="idm37308"><h2>Descrição</h2><p>Uma tabel regras deve ter pelo menos as colunas a seguir, embora você tenha permissão para adicionar mais para seus usos pessoais. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">id</code></span></dt><dd><p>Chave primária da tabela</p></dd><dt><span class="term"><code class="varname">rule</code></span></dt><dd><p>campo de texto indicando a regra. Detalhes em <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#--r-rec--" target="_top">PAGC Registros da regra do padronizador de endereços</a>.</p><p>Uma regra consiste em um conjunto de não negativos inteiros representando tokens de entrada, terminados por um -1, seguidos por um número igual de não negativos inteiros representando atributos postais, terminados por um -1, seguidos por um inteiro representando um tipo de regra, seguido por um inteiro representando o rank da regra. As regras são ranqueadas de 0 (menor) até 17 (maior). </p><p>Então por exemplo <code class="code">2 0 2 22 3 -1 5 5 6 7 3 -1 2 6</code>mapeia para a sequência de tokens de saída <span class="emphasis"><em>TYPE NUMBER TYPE DIRECT QUALIF</em></span> para a sequência de saída <span class="emphasis"><em>STREET STREET SUFTYP SUFDIR QUALIF</em></span>. A regra é uma ARC_C regra de rank 6. </p><p>Números para tokens da saída correpondentes estão listados em <a class="xref" href="#stdaddr" title="stdaddr">stdaddr</a>.</p></dd></dl></div></div><div class="refsection" id="rule_input_tokens"><h2>Tokens de entrada</h2><p>Cada regra começa com um conjunto de tokens de entrada seguidos por um terminator<code class="code">-1</code>. Tokens de entrada extraídos de <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#ss12.2" target="_top">PAGC Input Tokens</a> estão como segue:</p><p><span class="bold"><strong>Tokens de entrada baseados na forma</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">AMPERS</code></span></dt><dd><p>(13). O ampersand (&amp;) é frequentemente utilizado para abreviar a palavra "e".</p></dd><dt><span class="term"><code class="varname">DASH</code></span></dt><dd><p>(9). Um caractere de pontuação.</p></dd><dt><span class="term"><code class="varname">DOUBLE</code></span></dt><dd><p>(21). Uma sequência de duas letras. Normalmente utilizadas como identificadoras.</p></dd><dt><span class="term"><code class="varname">FRACT</code></span></dt><dd><p>(25). Frações são usadas algumas vezes em números cívicos ou de unidade.</p></dd><dt><span class="term"><code class="varname">MIXED</code></span></dt><dd><p>(23). Uma string alfanumérica que contém ambos: letras e dígitos. Usado por identificadores.</p></dd><dt><span class="term"><code class="varname">NUMBER</code></span></dt><dd><p>(0). Uma string de dígito.</p></dd><dt><span class="term"><code class="varname">ORD</code></span></dt><dd><p>(15). Representações como Primeiro ou 1ro. Normalmente usada em nomes de ruas.</p></dd><dt><span class="term"><code class="varname">ORD</code></span></dt><dd><p>(18). Uma única letra.</p></dd><dt><span class="term"><code class="varname">WORD</code></span></dt><dd><p>(1). Uma palavra é uma string de letras de tamanho aleatório. Uma única letra pode ser os dois uma ÚNICA e uma PALAVRA.</p></dd></dl></div><p><span class="bold"><strong>Tokens de entrada baseados na função</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">BOXH</code></span></dt><dd><p>(14). Palavras usadas para indicar caixas do correio. Por exemplo <span class="emphasis"><em>Caixa</em></span> ou <span class="emphasis"><em>CO Caixa</em></span>.</p></dd><dt><span class="term"><code class="varname">BUILDH</code></span></dt><dd><p>(19). Palavras usadas para indicar prédios ou condomínios, normalmente como um prefixo. Por exemplo: <span class="emphasis"><em>Torre</em></span> em <span class="emphasis"><em>Torre 7A</em></span>.</p></dd><dt><span class="term"><code class="varname">BUILDT</code></span></dt><dd><p>(24). Palavras e abreviações usadas para indicar prédios ou complexos de prédios, normalmente como um sufixo. Por exemplo: <span class="emphasis"><em>Shopping Center</em></span>.</p></dd><dt><span class="term"><code class="varname">DIRECT</code></span></dt><dd><p>(22). Palavras usadas para indicar direções, por exemplo <span class="emphasis"><em>Norte</em></span>.</p></dd><dt><span class="term"><code class="varname">MILE</code></span></dt><dd><p>(20). Palavras usadas para indicar endereços marco miliário.</p></dd><dt><span class="term"><code class="varname">ROAD</code></span></dt><dd><p>(6). Palavras e abreviações usadas para indicar estradas e ruas. Po exemplo: a <span class="emphasis"><em>Interestadual</em></span> em <span class="emphasis"><em>Interestadual 5</em></span></p></dd><dt><span class="term"><code class="varname">RR</code></span></dt><dd><p>(8). Palavras e abreviações usadas para indicar rotas rurais. <span class="emphasis"><em>RR</em></span>.</p></dd><dt><span class="term"><code class="varname">TYPE</code></span></dt><dd><p>(2). Palavras e abreviação usadas para indicar tipos de ruas. Por exemplo: <span class="emphasis"><em>R</em></span> or <span class="emphasis"><em>AV</em></span>.</p></dd><dt><span class="term"><code class="varname">UNITH</code></span></dt><dd><p>(16). palavras e abreviação usada para indicar sub endereços.Poe exemplo, <span class="emphasis"><em>APTO</em></span> ou <span class="emphasis"><em>UNIDADE</em></span>.</p></dd></dl></div><p><span class="bold"><strong>Tokens de entrada de tipo postal</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">QUINT</code></span></dt><dd><p>(28). Um número de 5 dígitos. Identifica um código Zip</p></dd><dt><span class="term"><code class="varname">QUAD</code></span></dt><dd><p>(29). Um número de 4 dígitos. Identifica ZIP4.</p></dd><dt><span class="term"><code class="varname">PCH</code></span></dt><dd><p>(27). Uma sequência de letra número letra de 3 caracteres. Identifica um FSA, os 3 primeiros caracteres de um código postal canadense.</p></dd><dt><span class="term"><code class="varname">PCT</code></span></dt><dd><p>(26). Uma sequência de número letra número de 3 caracteres. Identifica um LDU, os 3 últimos caracteres de um código postal canadense. </p></dd></dl></div><p><span class="bold"><strong>Palavras vazias</strong></span></p><p>PALAVRAS VAZIAS combinadas com PALAVRAS. Uma string de múltiplas PALAVRAs e PALAVRAs VAZIAS será representada por uma única PALAVRA token.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">STOPWORD</code></span></dt><dd><p>(7). Uma palavra com pouca significância lexical que pode ser omitida na análise sintática. Por exemplo: <span class="emphasis"><em>O</em></span>.</p></dd></dl></div></div><div class="refsection" id="idm37477"><h2>Tokens de saída</h2><p>Depois do primeiro-1 (terminator), segue os tokens de saída e sua ordem, seguido por um terminator <code class="code">-1</code>. Números para tokens de saída correspondentes estão listados em <a class="xref" href="#stdaddr" title="stdaddr">stdaddr</a>. Que estão permitidos é dependente em um tipo de regra. Tokens de saída válidos para cada tipo de regra estão listados em <a class="xref" href="#rule_types_rank" title="Tipos de Regra e Classificação">the section called “Tipos de Regra e Classificação”</a>.</p></div><div class="refsection" id="rule_types_rank"><h2>Tipos de Regra e Classificação</h2><p>A parte final da regra é o tipo de regra que é denotado por um dos seguintes, seguido por uma regra rank. As regras são classificadas de 0 (menor) até 17 (maior).</p><p><span class="bold"><strong><code class="varname">MACRO_C</code></strong></span></p><p>(token number = "<span class="bold"><strong>0</strong></span>"). A classe de regras para as orações parsing MACRO como <span class="emphasis"><em>PLACE STATE ZIP</em></span></p><p><span class="bold"><strong><code class="varname">MACRO_C</code> output tokens</strong></span> (excerpted from <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#--r-typ--" target="_top">http://www.pagcgeo.org/docs/html/pagc-12.html#--r-typ--</a>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">CITY</code></span></dt><dd><p>(número token "10"). Exemplo "Albany"</p></dd><dt><span class="term"><code class="varname">STATE</code></span></dt><dd><p>(número token "11"). Exemplo "NY"</p></dd><dt><span class="term"><code class="varname">NATION</code></span></dt><dd><p>(número token "12"). Este atributo não é usado na maioria dos arquivos de referência. Exemplo "USA"</p></dd><dt><span class="term"><code class="varname">POSTAL</code></span></dt><dd><p>(número token "13"). (SADS elements "ZIP CODE" , "PLUS 4" ). Este atributo é usado para o US Zip e os códigos postais canadenses.</p></dd></dl></div><p><span class="bold"><strong><code class="varname">MICRO_C</code></strong></span></p><p>(número token = "<span class="bold"><strong>1</strong></span>"). A classe de regras para orações parsing full MICRO (such as House, street, sufdir, predir, pretyp, suftype, qualif) (ie ARC_C plus CIVIC_C). Essas regras não são usadas na construção da frase.</p><p><span class="bold"><strong><code class="varname">MICRO_C</code> output tokens</strong></span> (excerpted from <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#--r-typ--" target="_top">http://www.pagcgeo.org/docs/html/pagc-12.html#--r-typ--</a>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">HOUSE</code></span></dt><dd><p>é um texto (número token <code class="code">1</code>): Este é o número da rua em uma rua. Exemplo <span class="emphasis"><em>75</em></span> em <code class="code">75 Rua State</code>.</p></dd><dt><span class="term"><code class="varname">predir</code></span></dt><dd><p>é um texto (número token <code class="code">2</code>): NOME DA RUA PRE-DIRECTIONAL como Norte, Sul, Leste, Oeste etc. </p></dd><dt><span class="term"><code class="varname">qual</code></span></dt><dd><p>é um texto (número token <code class="code">3</code>): NOME DA RUA PRE-MODIFIER Exemplo <span class="emphasis"><em>VELHA</em></span> em <code class="code">3715 ESTRADA VELHA 99</code>.</p></dd><dt><span class="term"><code class="varname">pretype</code></span></dt><dd><p>é um texto (número token <code class="code">4</code>): TIPO DE PREFIXO DA RUA</p></dd><dt><span class="term"><code class="varname">street</code></span></dt><dd><p>é um texto (número token <code class="code">5</code>): NOME DA RUA</p></dd><dt><span class="term"><code class="varname">suftype</code></span></dt><dd><p>é um texto (número token <code class="code">6</code>): TIPO DE CORREIO DA RUA ex. R, Av, Cir. Um tipo de rua seguindo o nome raiz da rua. Exemplo <span class="emphasis"><em>RUA</em></span> em <code class="code">75 Rua State</code>.</p></dd><dt><span class="term"><code class="varname">sufdir</code></span></dt><dd><p>é um texto (número token <code class="code">7</code>): RUA POST-DIRECTIONAL Um modificador direcional que segue o nome da rua.. Exemplo <span class="emphasis"><em>OESTE</em></span> em <code class="code">3715 DÉDIMA AVENIDA OESTE</code>.</p></dd></dl></div><p><span class="bold"><strong><code class="varname">ARC_C</code></strong></span></p><p>(número token = "<span class="bold"><strong>2</strong></span>"). A calsse de regras para orações parsing MICRO, excluindo o atributo CASA. Como usa o mesmo conjunto de tokens de saída como MICRO_C menos o token CASA.</p><p><span class="bold"><strong><code class="varname">CIVIC_C</code></strong></span></p><p>(número token = "<span class="bold"><strong>3</strong></span>"). A classe de regras para parsing o atributo da CASA.</p><p><span class="bold"><strong><code class="varname">EXTRA_C</code></strong></span></p><p>(número token = "<span class="bold"><strong>4</strong></span>"). A classe de regras para atributos parsing EXTRA - atributos excluídos do geocoding. Essas regras não são usadas na fase de construção.</p><p><span class="bold"><strong><code class="varname">EXTRA_C</code> output tokens</strong></span> (excerpted from <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#--r-typ--" target="_top">http://www.pagcgeo.org/docs/html/pagc-12.html#--r-typ--</a>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">BLDNG</code></span></dt><dd><p>(token number <code class="code">0</code>): Unparsed identificadores e tipos de construção.</p></dd><dt><span class="term"><code class="varname">BOXH</code></span></dt><dd><p>(token number <code class="code">14</code>): The <span class="bold"><strong>BOX</strong></span> in <code class="code">BOX 3B</code></p></dd><dt><span class="term"><code class="varname">BOXT</code></span></dt><dd><p>(token number <code class="code">15</code>): The <span class="bold"><strong>3B</strong></span> in <code class="code">BOX 3B</code></p></dd><dt><span class="term"><code class="varname">RR</code></span></dt><dd><p>(token number <code class="code">8</code>): The <span class="bold"><strong>RR</strong></span> in <code class="code">RR 7</code></p></dd><dt><span class="term"><code class="varname">UNITH</code></span></dt><dd><p>(token number <code class="code">16</code>): The <span class="bold"><strong>APT</strong></span> in <code class="code">APT 3B</code></p></dd><dt><span class="term"><code class="varname">UNITT</code></span></dt><dd><p>(token number <code class="code">17</code>): The <span class="bold"><strong>3B</strong></span> in <code class="code">APT 3B</code></p></dd><dt><span class="term"><code class="varname">UNKNWN</code></span></dt><dd><p>(token number <code class="code">9</code>): Uma saída senão não classificada.</p></dd></dl></div></div></div><div class="refentry" id="lextab"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>lex table — Uma gaz table é usada para classificar entrada e associado alfanumérico que entram com (a) tokens de entrada ( See <a class="xref" href="#rule_input_tokens" title="Tokens de entrada">the section called “Tokens de entrada”</a>) e (b) representações padronizadas.</p></div><div class="refsection" id="idm37654"><h2>Descrição</h2><p>Uma lex (diminutivo para léxico) table é usada para classificar entrada alfanumérica e associar que entra com <a class="xref" href="#rule_input_tokens" title="Tokens de entrada">the section called “Tokens de entrada”</a> e (b) representações padronizadas. Coisas que você encontrará nessas tables são <code class="code">UM</code> mapeado para stdword: <code class="code">1</code>.</p><p>Um lex tem pelo menos as colunas seguintes na table. Você talvez adicione</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">id</code></span></dt><dd><p>Chave primária da tabela</p></dd><dt><span class="term"><code class="varname">seq</code></span></dt><dd><p>inteiro: definição de número?</p></dd><dt><span class="term"><code class="varname">word</code></span></dt><dd><p>texto: a palavra de entrada</p></dd><dt><span class="term"><code class="varname">stdword</code></span></dt><dd><p>texto: a palavra substituta padronizada</p></dd><dt><span class="term"><code class="varname">token</code></span></dt><dd><p>inteiro: o tipo de palavra ele é. Só se usado nesse contexto será substituído. Disponível em <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#--i-tok--" target="_top">PAGC Tokens</a>.</p></dd></dl></div></div></div><div class="refentry" id="gaztab"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>gaz table — Uma gaz table é usada para padronizar nomes de lugares e associações que entram com (a) tokens de entrada ( See <a class="xref" href="#rule_input_tokens" title="Tokens de entrada">the section called “Tokens de entrada”</a>) e (b) representações padronizadas.</p></div><div class="refsection" id="idm37693"><h2>Descrição</h2><p>A gaz (short for gazeteer) table is used to standardize place names and associate that input with <a class="xref" href="#rule_input_tokens" title="Tokens de entrada">the section called “Tokens de entrada”</a> and (b) standardized representations. For example if you are in US, you may load these with State Names and associated abbreviations.</p><p>Uma gaz table tem pelo menos as colunas a seguir na table. Você talvez adicione mais colunas para seus próprios propósitos. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">id</code></span></dt><dd><p>Chave primária da tabela</p></dd><dt><span class="term"><code class="varname">seq</code></span></dt><dd><p>inteiro: definição do número? - identificador usado para aquela ocasião da palavra</p></dd><dt><span class="term"><code class="varname">word</code></span></dt><dd><p>texto: a palavra de entrada</p></dd><dt><span class="term"><code class="varname">stdword</code></span></dt><dd><p>texto: a palavra substituta padronizada</p></dd><dt><span class="term"><code class="varname">token</code></span></dt><dd><p>inteiro: o tipo de palavra ele é. Só se usado nesse contexto será substituído. Disponível em <a class="link" href="http://www.pagcgeo.org/docs/html/pagc-12.html#--i-tok--" target="_top">PAGC Tokens</a>.</p></dd></dl></div></div></div></section><section class="section" id="Address_Standardizer_Functions"><div class="titlepage"><div><div><h3 class="title">12.1.4. Funções do padronizador de endereços</h3></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#debug_standardize_address">debug_standardize_address</a></span><span class="refpurpose"> — Returns a json formatted text listing the parse tokens and standardizations</span></li><li><span class="refentrytitle"><a href="#parse_address">parse_address</a></span><span class="refpurpose"> — Pega um endereço linha 1 e quebra em partes</span></li><li><span class="refentrytitle"><a href="#standardize_address">standardize_address</a></span><span class="refpurpose"> — Retorna uma forma stdaddr de um endereço de entrada utilizando lex, gaz e rule tables.</span></li></ul></div><div class="refentry" id="debug_standardize_address"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>debug_standardize_address — Returns a json formatted text listing the parse tokens and standardizations</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">debug_standardize_address</strong>(</code>text  <var class="pdparam">lextab</var>, text  <var class="pdparam">gaztab</var>, text  <var class="pdparam">rultab</var>, text  <var class="pdparam">micro</var>, text  <var class="pdparam">macro=NULL</var><code>)</code>;</p></div></div><div class="refsection" id="idm37751"><h2>Descrição</h2><p>This is a function for debugging address standardizer rules and lex/gaz mappings. It returns a json formatted text that includes the matching rules, mapping of tokens, and best standardized address <a class="xref" href="#stdaddr" title="stdaddr">stdaddr</a> form of an input address utilizing <a class="xref" href="#lextab" title="lex table">lex table</a> table name, <a class="xref" href="#gaztab" title="gaz table">gaz table</a>, and <a class="xref" href="#rulestab" title="rules table">rules table</a> table names and an address.</p><p>For single line addresses use just <code class="varname">micro</code></p><p>For two line address A <code class="varname">micro</code> consisting of standard first line of postal address e.g. <code class="code">house_num street</code>, and a macro consisting of standard postal second line of an address e.g <code class="code">city, state postal_code country</code>.</p><p>Elements returned in the json document are </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">input_tokens</code></span></dt><dd><p>For each word in the input address, returns the position of the word, token categorization of the word, and the standard word it is mapped to. Note that for some input words, you might get back multiple records because some inputs can be categorized as more than one thing. </p></dd><dt><span class="term"><code class="varname">rules</code></span></dt><dd><p>The set of rules matching the input and the corresponding score for each. The first rule (highest scoring) is what is used for standardization</p></dd><dt><span class="term"><code class="varname">stdaddr</code></span></dt><dd><p>The standardized address elements <a class="xref" href="#stdaddr" title="stdaddr">stdaddr</a> that would be returned when running <a class="xref" href="#standardize_address" title="standardize_address">standardize_address</a></p></dd></dl></div><p class="availability">Availability: 3.4.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs address_standardizer extension. </p></div><div class="refsection" id="idm37788"><h2>Exemplos</h2><p>Using address_standardizer_data_us extension</p><pre class="programlisting">CREATE EXTENSION address_standardizer_data_us; -- only needs to be done once</pre><p>Variant 1: Single line address and returning the input tokens</p><pre class="programlisting">SELECT it-&gt;&gt;'pos' AS position, it-&gt;&gt;'word' AS word, it-&gt;&gt;'stdword' AS standardized_word,
            it-&gt;&gt;'token' AS token, it-&gt;&gt;'token-code' AS token_code
    FROM jsonb(
            debug_standardize_address('us_lex',
                'us_gaz', 'us_rules', 'One Devonshire Place, PH 301, Boston, MA 02109')
                 ) AS s, jsonb_array_elements(s-&gt;'input_tokens') AS it;</pre><pre class="screen">position |    word    | standardized_word | token  | token_code
----------+------------+-------------------+--------+------------
 0        | ONE        | 1                 | NUMBER | 0
 0        | ONE        | 1                 | WORD   | 1
 1        | DEVONSHIRE | DEVONSHIRE        | WORD   | 1
 2        | PLACE      | PLACE             | TYPE   | 2
 3        | PH         | PATH              | TYPE   | 2
 3        | PH         | PENTHOUSE         | UNITT  | 17
 4        | 301        | 301               | NUMBER | 0
(7 rows)</pre><p>Variant 2: Multi line address and returning first rule input mappings and score</p><pre class="programlisting">SELECT (s-&gt;'rules'-&gt;0-&gt;&gt;'score')::numeric AS score, it-&gt;&gt;'pos' AS position,
        it-&gt;&gt;'input-word' AS word, it-&gt;&gt;'input-token' AS input_token, it-&gt;&gt;'mapped-word' AS standardized_word,
            it-&gt;&gt;'output-token' AS output_token
    FROM jsonb(
            debug_standardize_address('us_lex',
                'us_gaz', 'us_rules', 'One Devonshire Place, PH 301', 'Boston, MA 02109')
                 ) AS s, jsonb_array_elements(s-&gt;'rules'-&gt;0-&gt;'rule_tokens') AS it;</pre><pre class="screen">score   | position |    word    | input_token | standardized_word | output_token
----------+----------+------------+-------------+-------------------+--------------
 0.876250 | 0        | ONE        | NUMBER      | 1                 | HOUSE
 0.876250 | 1        | DEVONSHIRE | WORD        | DEVONSHIRE        | STREET
 0.876250 | 2        | PLACE      | TYPE        | PLACE             | SUFTYP
 0.876250 | 3        | PH         | UNITT       | PENTHOUSE         | UNITT
 0.876250 | 4        | 301        | NUMBER      | 301               | UNITT
(5 rows)
</pre></div><div class="refsection" id="idm37798"><h2>Veja também</h2><p><a class="xref" href="#stdaddr" title="stdaddr">stdaddr</a>, <a class="xref" href="#rulestab" title="rules table">rules table</a>, <a class="xref" href="#lextab" title="lex table">lex table</a>, <a class="xref" href="#gaztab" title="gaz table">gaz table</a>, <a class="xref" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a></p></div></div><div class="refentry" id="parse_address"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>parse_address — Pega um endereço linha 1 e quebra em partes</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">record <strong class="fsfunc">parse_address</strong>(</code>text  <var class="pdparam">address</var><code>)</code>;</p></div></div><div class="refsection" id="idm37818"><h2>Descrição</h2><p>Returns takes an address as input, and returns a record output consisting of fields <span class="emphasis"><em>num</em></span>, <span class="emphasis"><em>street</em></span>, <span class="emphasis"><em>street2</em></span>, <span class="emphasis"><em>address1</em></span>, <span class="emphasis"><em>city</em></span>, <span class="emphasis"><em>state</em></span>, <span class="emphasis"><em>zip</em></span>, <span class="emphasis"><em>zipplus</em></span>, <span class="emphasis"><em>country</em></span>.</p><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs address_standardizer extension. </p></div><div class="refsection" id="idm37835"><h2>Exemplos</h2><p>Endereços Únicos</p><pre class="programlisting">SELECT num, street, city, zip, zipplus
        FROM parse_address('1 Devonshire Place, Boston, MA 02109-1234') AS a;</pre><pre class="screen">num |      street      |  city  |  zip  | zipplus
-----+------------------+--------+-------+---------
 1   | Devonshire Place | Boston | 02109 | 1234                </pre><p>Table de endereços</p><pre class="programlisting">-- basic table
CREATE TABLE places(addid serial PRIMARY KEY, address text);

INSERT INTO places(address)
VALUES ('529 Main Street, Boston MA, 02129'),
 ('77 Massachusetts Avenue, Cambridge, MA 02139'),
 ('25 Wizard of Oz, Walaford, KS 99912323'),
 ('26 Capen Street, Medford, MA'),
 ('124 Mount Auburn St, Cambridge, Massachusetts 02138'),
 ('950 Main Street, Worcester, MA 01610');

 -- parse the addresses
 -- if you want all fields you can use (a).*
SELECT addid, (a).num, (a).street, (a).city, (a).state, (a).zip, (a).zipplus
FROM (SELECT addid, parse_address(address) As a
 FROM places) AS p;</pre><pre class="screen">addid | num |        street        |   city    | state |  zip  | zipplus
-------+-----+----------------------+-----------+-------+-------+---------
     1 | 529 | Main Street          | Boston    | MA    | 02129 |
     2 | 77  | Massachusetts Avenue | Cambridge | MA    | 02139 |
     3 | 25  | Wizard of Oz         | Walaford  | KS    | 99912 | 323
     4 | 26  | Capen Street         | Medford   | MA    |       |
     5 | 124 | Mount Auburn St      | Cambridge | MA    | 02138 |
     6 | 950 | Main Street          | Worcester | MA    | 01610 |
(6 rows)</pre></div><div class="refsection" id="idm37843"><h2>Veja também</h2><p/></div></div><div class="refentry" id="standardize_address"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>standardize_address — Retorna uma forma stdaddr de um endereço de entrada utilizando lex, gaz e rule tables.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">stdaddr <strong class="fsfunc">standardize_address</strong>(</code>text  <var class="pdparam">lextab</var>, text  <var class="pdparam">gaztab</var>, text  <var class="pdparam">rultab</var>, text  <var class="pdparam">address</var><code>)</code>;</p><p><code class="funcdef">stdaddr <strong class="fsfunc">standardize_address</strong>(</code>text  <var class="pdparam">lextab</var>, text  <var class="pdparam">gaztab</var>, text  <var class="pdparam">rultab</var>, text  <var class="pdparam">micro</var>, text  <var class="pdparam">macro</var><code>)</code>;</p></div></div><div class="refsection" id="idm37885"><h2>Descrição</h2><p>Retorna a uma <a class="xref" href="#stdaddr" title="stdaddr">stdaddr</a> forma de um endereço de entrada utilizando <a class="xref" href="#lextab" title="lex table">lex table</a> table nome, <a class="xref" href="#gaztab" title="gaz table">gaz table</a>, e <a class="xref" href="#rulestab" title="rules table">rules table</a> table nomes e endereço.</p><p>Variante 1: Pega um endereço como uma única linha.</p><p>Variante 2: Pega o endereço em duas partes. Uma <code class="varname">micro</code> que consiste em padronizar a primeira linha do endereço postal ex. <code class="code">house_num street</code>, e uma macro que consiste em adronizar a segunda linha de um endereço postal ex. <code class="code">city, state postal_code country</code>.</p><p class="availability">Disponibilidade: 2.2.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs address_standardizer extension. </p></div><div class="refsection" id="idm37902"><h2>Exemplos</h2><p>Using address_standardizer_data_us extension</p><pre class="programlisting">CREATE EXTENSION address_standardizer_data_us; -- only needs to be done once</pre><p>Variante 1: Única linha de endereço. Isso não funcionou bem com os endereços não-EUA</p><pre class="programlisting">SELECT house_num, name, suftype, city, country, state, unit  FROM standardize_address('us_lex',
                           'us_gaz', 'us_rules', 'One Devonshire Place, PH 301, Boston, MA 02109');</pre><pre class="screen">house_num |    name    | suftype |  city  | country |     state     |      unit
----------+------------+---------+--------+---------+---------------+-----------------
1         | DEVONSHIRE | PLACE   | BOSTON | USA     | MASSACHUSETTS | # PENTHOUSE 301</pre><p>Utilizando tables compactadas com o geocoder tiger. Este exemplo só funciona se você instalou <code class="varname">postgis_tiger_geocoder</code>.</p><pre class="programlisting">SELECT *  FROM standardize_address('tiger.pagc_lex',
         'tiger.pagc_gaz', 'tiger.pagc_rules', 'One Devonshire Place, PH 301, Boston, MA 02109-1234');</pre><p>Para tornar a leitura mais fácil nós iremos abandonar a saída usando a extensão hstore CREATE EXTENSION hstore; você vai precisar instalar</p><pre class="programlisting">SELECT (each(hstore(p))).*
 FROM standardize_address('tiger.pagc_lex', 'tiger.pagc_gaz',
   'tiger.pagc_rules', 'One Devonshire Place, PH 301, Boston, MA 02109') As p;</pre><pre class="screen">key     |      value
------------+-----------------
 box        |
 city       | BOSTON
 name       | DEVONSHIRE
 qual       |
 unit       | # PENTHOUSE 301
 extra      |
 state      | MA
 predir     |
 sufdir     |
 country    | USA
 pretype    |
 suftype    | PL
 building   |
 postcode   | 02109
 house_num  | 1
 ruralroute |
(16 rows)
                        </pre><p>variante 2: Como um endereço de duas partes</p><pre class="programlisting">SELECT (each(hstore(p))).*
 FROM standardize_address('tiger.pagc_lex', 'tiger.pagc_gaz',
   'tiger.pagc_rules', 'One Devonshire Place, PH 301', 'Boston, MA 02109, US') As p;</pre><pre class="screen">key     |      value
------------+-----------------
 box        |
 city       | BOSTON
 name       | DEVONSHIRE
 qual       |
 unit       | # PENTHOUSE 301
 extra      |
 state      | MA
 predir     |
 sufdir     |
 country    | USA
 pretype    |
 suftype    | PL
 building   |
 postcode   | 02109
 house_num  | 1
 ruralroute |
(16 rows)</pre></div><div class="refsection" id="idm37918"><h2>Veja também</h2><p><a class="xref" href="#stdaddr" title="stdaddr">stdaddr</a>, <a class="xref" href="#rulestab" title="rules table">rules table</a>, <a class="xref" href="#lextab" title="lex table">lex table</a>, <a class="xref" href="#gaztab" title="gaz table">gaz table</a>, <a class="xref" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a></p></div></div></section></section><section class="section" id="Tiger_Geocoder"><div class="titlepage"><div><div><h2 class="title" style="clear: both">12.2. Tiger Geocoder</h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Um geocoder com base plpgsql escrito para trabalhar com o <a class="link" href="http://www.census.gov/geo/www/tiger/" target="_top">TIGER (Topologically Integrated Geographic Encoding and Referencing system ) / Line and Master Address database export</a> liberado pelo US Census Bureau. </p><p>Existem quatro componentes do geocoder: as funções do carregador de dados, o normalizador de endereço, o endereço geocoder e o geocoder inverso. </p><p>Embora seja desenvolvido especificamente pelos EUA, muitos conceitos e funções são aplicáveis e podem ser adaptados a trabalhar com endereços de outros países e outras road networks. </p><p>A script constrói um esquema chamado <code class="varname">tiger</code> para abrigar todas as funções tiger relacionadas, dados reutilizáveis como os prefixos de tipos de rua, sufixos, estados, várias tables de controle para administrar carregamento de dados, e tables da base do esqueleto do qual todas as tables tiger carregadas herdaram.   </p><p>Outro esquema chamado <code class="varname">tiger_data</code>, também é criado, ele abriga todos os dados do censo para cada estado que o carregador baixa do site do Censo, e carrega dentro do banco de dados. Nesse modelo, cada conjunto de tables estado é prefixado com o código do estado ex: <code class="varname">ma_addr</code>, <code class="varname">ma_edges</code> etc com restrições para executar somente os dados daquele estado. Cada uma dessas tables herda das tables <code class="varname">addr</code>, <code class="varname">faces</code>, <code class="varname">edges</code>, etc localizadas no <code class="varname">tiger schema</code>. </p><p>Todas as funções do geocode só fazem referência às tables base , portanto, não existe nenhuma necessidade que os dados do esquema sejam chamados <code class="varname">tiger_data</code> ou eles não possam ser divididos em outros esquemas -- ex: um esquema diferente para cada estado, enquanto todas as tables herdam das tables no esquema <code class="varname">tiger</code>.</p><p>Para instruções de como ativar a extensão no seu banco de dados e também para carregar dados usando ela, vá para <a class="xref" href="#install_tiger_geocoder_extension" title="2.4.1. Tiger Geocoder Enabling your PostGIS database">Section 2.4.1, “Tiger Geocoder Enabling your PostGIS database”</a>.</p><p> </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você estiver usando o tiger geocoder (tiger_2010), você pode atualizar as scripts usando o acompanhamento upgrade_geocoder.bat / .sh scripts em extras/tiger. Uma mudança maior entre <code class="varname">tiger_2010</code> e <code class="varname">tiger_2011+</code> é a que <code class="varname">county</code> e <code class="varname">state</code> tables não são mais quebradas por estado. Se você tiver dados do tiger_2010 e quiser substituir pelo tiger_2015, vá para <a class="xref" href="#upgrade_tiger_geocoder" title="2.4.4. Upgrading your Tiger Geocoder Install and Data">Section 2.4.4, “Upgrading your Tiger Geocoder Install and Data”</a> </p></td></tr></table></div><p>

              </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O suporte para dados Tiger 2015 e a inclusão do Padronizador de Endereços como parte do PostGIS, são novos no lançamento do PostGIS 2.2.0. </p><p>O lançamento do PostGIS 2.1.0 tem de novo a habilidade de instalar o geocoder tiger com o modelo de extensão PostgreSQL se você estiver usando o PostgreSQL 9.1+. Refira-se a <a class="xref" href="#install_tiger_geocoder_extension" title="2.4.1. Tiger Geocoder Enabling your PostGIS database">Section 2.4.1, “Tiger Geocoder Enabling your PostGIS database”</a> para mais detalhes. </p></td></tr></table></div><p>
              </p><p>A função <a class="xref" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a> como uma queda na substituição para in-built <a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a>. Refira-se a <a class="xref" href="#installing_pagc_address_standardizer" title="2.3. Instalando e usando o padronizador de endereço">Section 2.3, “Instalando e usando o padronizador de endereço”</a> para compilar e para instruções de instalação.</p><p>Design:</p><p>O objetivo desse projeto é construir um geocoder completamente funcional que pode processar uma string eventual de endereço dos Estados Unidos e, usando os dados normalizados do censo TIGER, produzir um ponto de geometria e avaliação refletindo a localização do endereço dado e likeliness da localização. Quanto maior o número de avaliação, pior o resultado. </p><p>A função <code class="varname">reverse_geocode</code>, introduzida em PostGIS 2.0.0 é útil para derivar o endereço da rua e cruzar ruas de uma localização de GPS.</p><p>O geocoder deve ser simples de instalar e usar para qualquer pessoa familiar com o PotGIS, e deve ser mais fácil de instalar e usar em todas as plataformas suportadas pelo PostGIS. </p><p>Isso deve ser potente o suficiente para funcionar propriamente, apesar de erros de formatação e ortografia.</p><p>Isso deve ser extensível o suficiente para ser utilizado com dados de atualização futuras, ou fontes de dados alternativas com mudanças mínimas de coding. </p><p>
                </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>O esquema <code class="varname">tiger</code> deve ser adicionado ao caminho de procura do banco de dados, para as funções funcionarem perfeitamente.</p></td></tr></table></div><p>
            </p></div></div></div></div><div class="toc"><ul class="toc"><li><span class="refentrytitle"><a href="#Drop_Indexes_Generate_Script">Drop_Indexes_Generate_Script</a></span><span class="refpurpose"> — Gera uma script que derruba todas as chaves não primárias e indexes não únicos no esquema tiger e esquema especificado de usuário. Padroniza esquema para: <code class="varname">tiger_data</code> se nenhum esquema é especificado.</span></li><li><span class="refentrytitle"><a href="#Drop_Nation_Tables_Generate_Script">Drop_Nation_Tables_Generate_Script</a></span><span class="refpurpose"> — Gera uma script que derruba todas as tables no esquema específico que começa com <code class="varname">county_all</code>, <code class="varname">state_all</code> ou código de estado seguido por <code class="varname">condado</code> ou <code class="varname">estado</code>.</span></li><li><span class="refentrytitle"><a href="#Drop_State_Tables_Generate_Script">Drop_State_Tables_Generate_Script</a></span><span class="refpurpose"> — Gera uma script que derruba todas as tables no esquema específico que estão prefixados com abreviação do estado. Padroniza o esquema para <code class="varname">tiger_data</code> se nenhum esquema estiver especificado. </span></li><li><span class="refentrytitle"><a href="#Geocode">Geocode</a></span><span class="refpurpose"> — Assimila um endereço como uma string (ou outro endereço normalizado) e gera um conjunto de localizações possíveis que inclui um ponto em NAD 83 long lat, um endereço normalizado para cada um e a avaliação. Quanto menor a avaliação, maior a chance de combinar. Os resultados são separados com menor avaliação em primeiro lugar. Pode passar no resultados máximos, até 10, e restrict_region (padrão NULO)</span></li><li><span class="refentrytitle"><a href="#Geocode_Intersection">Geocode_Intersection</a></span><span class="refpurpose"> — Assimila 2 ruas que se intersectam e um estado, cidade, zip, e gera um conjunto de possíveis localizações no primeiro cruzamento que está na intersecção, também inclui um geomout como o ponto de localização em NAD 83 long lat, um <code class="varname">normalized_address</code> (addy) para cada localização, e a avaliação. Quanto menor a avaliação, maior a chance de combinar. Os resultados são separados com menor avaliação em primeiro lugar. Pode passar nos resultados máximos, até 10. Usa dados Tiger (limites, faces, addr), string confusa do PostgreSQL (soundex, evenshtein). </span></li><li><span class="refentrytitle"><a href="#Get_Geocode_Setting">Get_Geocode_Setting</a></span><span class="refpurpose"> — Retorna a configuração de valor específico armazenada na table tiger.geocode_settings.</span></li><li><span class="refentrytitle"><a href="#Get_Tract">Get_Tract</a></span><span class="refpurpose"> — Retorna o trecho ou campo de uma tract table onde a geometria está localizada. Padrão para retornar um nome curto para o trecho.</span></li><li><span class="refentrytitle"><a href="#Install_Missing_Indexes">Install_Missing_Indexes</a></span><span class="refpurpose"> — Encontra todas as tables com colunas chave usadas no ingresso geocoder e condições de filtros que estão perdendo os indexes usados nessas colunas e irão adicionar elas. </span></li><li><span class="refentrytitle"><a href="#Loader_Generate_Census_Script">Loader_Generate_Census_Script</a></span><span class="refpurpose"> — Gera uma shell script para a plataforma específica para os estados que irão baixar o trecho do censo de estado Tiger, bg e dados de tables  tabblocks, arranjar e carregar dentro do esquema <code class="varname">tiger_data</code>. Cada state script retornou como um relato separado.   </span></li><li><span class="refentrytitle"><a href="#Loader_Generate_Script">Loader_Generate_Script</a></span><span class="refpurpose"> — Gera uma shell script para a plataforma específica para os estados que irão baixar dados Tiger, arranjar e carregar dentro do esquema <code class="varname">tiger_data</code>. Cada state script retorna como um registro separado. A versão mais nova suporta mudanças estruturais do Tiger 2010 e também carrega trecho do censo, block groups, e block tables.  </span></li><li><span class="refentrytitle"><a href="#Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a></span><span class="refpurpose"> — Gerar uma script shell para a plataforma especificada que carrega as lookup tables de condado e estado. </span></li><li><span class="refentrytitle"><a href="#Missing_Indexes_Generate_Script">Missing_Indexes_Generate_Script</a></span><span class="refpurpose"> — Encontra todas as tables com colunas chave usadas no ingresso geocoder que estão perdendo indexes nessas colunas e irão gerar o SQL DDL para definir o index para essas tables.</span></li><li><span class="refentrytitle"><a href="#Normalize_Address">Normalize_Address</a></span><span class="refpurpose"> — Dado um endereço em texto de uma rua, retorna um tipo composto <code class="varname">norm_addy</code> que não tem um sufixo, prefixo e tipo padronizado, rua, nome de rua etc. quebrado e, campos separados. Essa função irá funcionar com os dados lookup compactados com o tiger_geocoder (dados do censo tiger não são necessários). </span></li><li><span class="refentrytitle"><a href="#Pagc_Normalize_Address">Pagc_Normalize_Address</a></span><span class="refpurpose"> — Dado um endereço em texto de uma rua, retorna um tipo composto <code class="varname">norm_addy</code> que não tem um sufixo, prefixo e tipo padronizado, rua, nome de rua etc. quebrado e, campos separados. Essa função irá funcionar com os dados lookup compactados com o tiger_geocoder (dados do censo tiger não são necessários). Requer a extensão address_standardizer.</span></li><li><span class="refentrytitle"><a href="#Pprint_Addy">Pprint_Addy</a></span><span class="refpurpose"> — Dado um objeto de tipo composto  <code class="varname">norm_addy</code>, retorna uma representação impressa dele. Normalmente, usado em conjunto com o normalize_address.</span></li><li><span class="refentrytitle"><a href="#Reverse_Geocode">Reverse_Geocode</a></span><span class="refpurpose"> — Pega um ponto em um sistema de referência espacial conehcido e retorna um relato que contém um banco de dados de, teoricamente, possíveis endereços e um banco de dados de ruas cruzadas. Se include_strnum_range = verdade, inclui o alcance da rua nas ruas cruzadas. </span></li><li><span class="refentrytitle"><a href="#Topology_Load_Tiger">Topology_Load_Tiger</a></span><span class="refpurpose"> — Carrega uma região definida de dados tiger em uma Topologia PostGIS e transforma os dados tiger para referência espacial da topologia e rompe para a tolerância precisa da topologia.  </span></li><li><span class="refentrytitle"><a href="#Set_Geocode_Setting">Set_Geocode_Setting</a></span><span class="refpurpose"> — Estabelece uma configuração que afeta comportamento  das funções geocoder.</span></li></ul></div><p>Existem outras fontes abertas geocoder para o PostGIS, que, ao contrário do tiger geocoder, têm a vantagem do suporte geocoding para muitos países</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="http://wiki.openstreetmap.org/wiki/Nominatim" target="_top">Nominatim</a> usa dados OpenStreetMap gazeteer formatados. Requer o osm2pgsql para carregar os dados, PostgreSQL 8.4+ e PostGIS 1.5+ para funcionar. É compactado como uma interface de serviço da web e parece ter sido criado para ser chamado como webservice. Assim como o geocoder, ele tem dois componentes: o geocoder e o geocoder reverso. Na documentação não fica claro se ele tem uma interface SQL pura conforme o geocoder ou se tem um bom acordo da lógica implementado na interface da web. </p></li><li class="listitem"><p><a class="link" href="http://www.gisgraphy.com/" target="_top">GIS Graphy</a> também utiliza PostGIS e, como Nominatim, funciona com os dados OpenStreetMap (OSM). Ele possui um carregador para carregar dados OSM e, correspondente ao Nominatim, é capaz de geocoding não só nos EUA. Bem como Nominatim, ele executa como webservice e confia no Java 1.5, Servlet apps, Solr. O GisGraphy é uma multiplataforma e também possui um geocoder reverso juntamente com outros aspectos.</p></li></ul></div><div class="refentry" id="Drop_Indexes_Generate_Script"><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Drop_Indexes_Generate_Script — Gera uma script que derruba todas as chaves não primárias e indexes não únicos no esquema tiger e esquema especificado de usuário. Padroniza esquema para: <code class="varname">tiger_data</code> se nenhum esquema é especificado.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Drop_Indexes_Generate_Script</strong>(</code>text  <var class="pdparam">param_schema=tiger_data</var><code>)</code>;</p></div></div><div class="refsection" id="idm37997"><h2>Descrição</h2><p>Gera uma script que derruba todas as chaves não primárias e indexes não únicos no esquema tiger e esquema especificado de usuário. Padroniza esquema para: <code class="varname">tiger_data</code> se nenhum esquema é especificado.</p><p>Isso é útil para minimizar o excesso de indexes que pode confundir o organizador de pesquisas ou ocupar um espaço desnecessário. Use combinado com <a class="xref" href="#Install_Missing_Indexes" title="Install_Missing_Indexes">Install_Missing_Indexes</a>, para adicionar os indexes usados pelo geocoder.</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm38004"><h2>Exemplos</h2><pre class="programlisting">SELECT drop_indexes_generate_script() As actionsql;
actionsql
---------------------------------------------------------
DROP INDEX tiger.idx_tiger_countysub_lookup_lower_name;
DROP INDEX tiger.idx_tiger_edges_countyfp;
DROP INDEX tiger.idx_tiger_faces_countyfp;
DROP INDEX tiger.tiger_place_the_geom_gist;
DROP INDEX tiger.tiger_edges_the_geom_gist;
DROP INDEX tiger.tiger_state_the_geom_gist;
DROP INDEX tiger.idx_tiger_addr_least_address;
DROP INDEX tiger.idx_tiger_addr_tlid;
DROP INDEX tiger.idx_tiger_addr_zip;
DROP INDEX tiger.idx_tiger_county_countyfp;
DROP INDEX tiger.idx_tiger_county_lookup_lower_name;
DROP INDEX tiger.idx_tiger_county_lookup_snd_name;
DROP INDEX tiger.idx_tiger_county_lower_name;
DROP INDEX tiger.idx_tiger_county_snd_name;
DROP INDEX tiger.idx_tiger_county_the_geom_gist;
DROP INDEX tiger.idx_tiger_countysub_lookup_snd_name;
DROP INDEX tiger.idx_tiger_cousub_countyfp;
DROP INDEX tiger.idx_tiger_cousub_cousubfp;
DROP INDEX tiger.idx_tiger_cousub_lower_name;
DROP INDEX tiger.idx_tiger_cousub_snd_name;
DROP INDEX tiger.idx_tiger_cousub_the_geom_gist;
DROP INDEX tiger_data.idx_tiger_data_ma_addr_least_address;
DROP INDEX tiger_data.idx_tiger_data_ma_addr_tlid;
DROP INDEX tiger_data.idx_tiger_data_ma_addr_zip;
DROP INDEX tiger_data.idx_tiger_data_ma_county_countyfp;
DROP INDEX tiger_data.idx_tiger_data_ma_county_lookup_lower_name;
DROP INDEX tiger_data.idx_tiger_data_ma_county_lookup_snd_name;
DROP INDEX tiger_data.idx_tiger_data_ma_county_lower_name;
DROP INDEX tiger_data.idx_tiger_data_ma_county_snd_name;
:
:
</pre></div><div class="refsection" id="idm38007"><h2>Veja também</h2><p><a class="xref" href="#Install_Missing_Indexes" title="Install_Missing_Indexes">Install_Missing_Indexes</a>, <a class="xref" href="#Missing_Indexes_Generate_Script" title="Missing_Indexes_Generate_Script">Missing_Indexes_Generate_Script</a></p></div></div><div class="refentry" id="Drop_Nation_Tables_Generate_Script"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Drop_Nation_Tables_Generate_Script — Gera uma script que derruba todas as tables no esquema específico que começa com <code class="varname">county_all</code>, <code class="varname">state_all</code> ou código de estado seguido por <code class="varname">condado</code> ou <code class="varname">estado</code>.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Drop_Nation_Tables_Generate_Script</strong>(</code>text  <var class="pdparam">param_schema=tiger_data</var><code>)</code>;</p></div></div><div class="refsection" id="idm38028"><h2>Descrição</h2><p>Gera uma script que derruba todas as tables no esquema específico que começa com <code class="varname">county_all</code>, <code class="varname">state_all</code> ou código de estado seguido por <code class="varname">condado</code> ou <code class="varname">estado</code>. Isso é necessário se você está atualizando os dados do <code class="varname">tiger_2010</code> para o <code class="varname">tiger_2011</code>.</p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm38038"><h2>Exemplos</h2><pre class="programlisting">SELECT drop_nation_tables_generate_script();
DROP TABLE tiger_data.county_all;
DROP TABLE tiger_data.county_all_lookup;
DROP TABLE tiger_data.state_all;
DROP TABLE tiger_data.ma_county;
DROP TABLE tiger_data.ma_state;</pre></div><div class="refsection" id="idm38041"><h2>Veja também</h2><p><a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a></p></div></div><div class="refentry" id="Drop_State_Tables_Generate_Script"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Drop_State_Tables_Generate_Script — Gera uma script que derruba todas as tables no esquema específico que estão prefixados com abreviação do estado. Padroniza o esquema para <code class="varname">tiger_data</code> se nenhum esquema estiver especificado. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Drop_State_Tables_Generate_Script</strong>(</code>text  <var class="pdparam">param_state</var>, text  <var class="pdparam">param_schema=tiger_data</var><code>)</code>;</p></div></div><div class="refsection" id="idm38061"><h2>Descrição</h2><p>Gera uma script que derruba todas as tables no esquema específico que estão prefixados com abreviação do estado. Padroniza o esquema para <code class="varname">tiger_data</code> se nenhum esquema estiver especificado. Essa função é útil para derrubar tables de um estado antes de recarregar um estado em caso de algo ter dado errado durante seu carregamento anterior. </p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm38066"><h2>Exemplos</h2><pre class="programlisting">SELECT drop_state_tables_generate_script('PA');
DROP TABLE tiger_data.pa_addr;
DROP TABLE tiger_data.pa_county;
DROP TABLE tiger_data.pa_county_lookup;
DROP TABLE tiger_data.pa_cousub;
DROP TABLE tiger_data.pa_edges;
DROP TABLE tiger_data.pa_faces;
DROP TABLE tiger_data.pa_featnames;
DROP TABLE tiger_data.pa_place;
DROP TABLE tiger_data.pa_state;
DROP TABLE tiger_data.pa_zip_lookup_base;
DROP TABLE tiger_data.pa_zip_state;
DROP TABLE tiger_data.pa_zip_state_loc;
        </pre></div><div class="refsection" id="idm38069"><h2>Veja também</h2><p><a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a></p></div></div><div class="refentry" id="Geocode"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Geocode — Assimila um endereço como uma string (ou outro endereço normalizado) e gera um conjunto de localizações possíveis que inclui um ponto em NAD 83 long lat, um endereço normalizado para cada um e a avaliação. Quanto menor a avaliação, maior a chance de combinar. Os resultados são separados com menor avaliação em primeiro lugar. Pode passar no resultados máximos, até 10, e restrict_region (padrão NULO)</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">geocode</strong>(</code>varchar  <var class="pdparam">address</var>, integer  <var class="pdparam">max_results=10</var>, geometry  <var class="pdparam">restrict_region=NULL</var>, norm_addy  <var class="pdparam">OUT addy</var>, geometry  <var class="pdparam">OUT geomout</var>, integer  <var class="pdparam">OUT rating</var><code>)</code>;</p><p><code class="funcdef">setof record <strong class="fsfunc">geocode</strong>(</code>norm_addy  <var class="pdparam">in_addy</var>, integer  <var class="pdparam">max_results=10</var>, geometry  <var class="pdparam">restrict_region=NULL</var>, norm_addy  <var class="pdparam">OUT addy</var>, geometry  <var class="pdparam">OUT geomout</var>, integer  <var class="pdparam">OUT rating</var><code>)</code>;</p></div></div><div class="refsection" id="idm38121"><h2>Descrição</h2><p>Assimila um endereço como uma string (ou endereço já normalizado) e gera uma série de possíveis localizações que inclui um ponto em NAD 83 long lat, um <code class="varname">normalized_address</code> (addy) para cada e a avaliação. Quanto menor a avaliação, maior a chance de combinar. Os resultados são separados com a menor avaliação em primeiro lugar. Usa os dados (limites, faces, addr) Tiger, uma string confusa PostgreSQL (soundex,levenshtein) linha de interpolação PostGIS para interpolar endereços ao longo dos limites do Tiger. Quanto maior a avaliação, menos o geocoder estará correto. O ponto geocodificado é padronizado para compensar 10 metros da lina central do lado (E/D) que o endereço da rua está localizado.</p><p class="enhanced">Melhorias: 2.0.0 para suportar o Tiger 2010, dados estruturados e lógica revisada para melhorar a velocidade, exatidão do geocoding e para compensar ponto da linha central para o lado do endereço que a rua está localizada. O novo parâmetro <code class="varname">max_results</code> é útil para especificar números dos melhores resultados ou apenas retornar o melhor resultado. </p></div><div class="refsection" id="idm38127"><h2>Exemplos: Básico</h2><p>Os exemplos abaixo estão em um único processador 3.0 GHZ no Windows 7 com 2GB ram executando PostgreSQL 9.1rc1/PostGIS 2.0 carregados com todos os dados de estado Tiger  MA,MN,CA, RI. </p><p>Combinações exatas são mais fáceis de computar (61ms)</p><pre class="programlisting">SELECT g.rating, ST_X(g.geomout) As lon, ST_Y(g.geomout) As lat,
    (addy).address As stno, (addy).streetname As street,
    (addy).streettypeabbrev As styp, (addy).location As city, (addy).stateabbrev As st,(addy).zip
    FROM geocode('75 State Street, Boston MA 02109', 1) As g;
 rating |        lon        |      lat       | stno | street | styp |  city  | st |  zip
--------+-------------------+----------------+------+--------+------+--------+----+-------
      0 | -71.0557505845646 | 42.35897920691 |   75 | State  | St   | Boston | MA | 02109
</pre><p>Mesmo se o zip não tiver passado no geocode pode estimar (demorou cerca de 122-150 ms)</p><pre class="programlisting">SELECT g.rating, ST_AsText(ST_SnapToGrid(g.geomout,0.00001)) As wktlonlat,
    (addy).address As stno, (addy).streetname As street,
    (addy).streettypeabbrev As styp, (addy).location As city, (addy).stateabbrev As st,(addy).zip
    FROM geocode('226 Hanover Street, Boston, MA',1) As g;
 rating |         wktlonlat         | stno | street  | styp |  city  | st |  zip
--------+---------------------------+------+---------+------+--------+----+-------
      1 | POINT(-71.05528 42.36316) |  226 | Hanover | St   | Boston | MA | 02113
</pre><p>Sabe lidar com erros de ortografia e fornece mair de uma possibilidade de solução com avaliações e tomadas maiores (500ms).</p><pre class="programlisting">SELECT g.rating, ST_AsText(ST_SnapToGrid(g.geomout,0.00001)) As wktlonlat,
    (addy).address As stno, (addy).streetname As street,
    (addy).streettypeabbrev As styp, (addy).location As city, (addy).stateabbrev As st,(addy).zip
    FROM geocode('31 - 37 Stewart Street, Boston, MA 02116',1) As g;
 rating |         wktlonlat         | stno | street | styp |  city  | st |  zip
--------+---------------------------+------+--------+------+--------+----+-------
     70 | POINT(-71.06466 42.35114) |   31 | Stuart | St   | Boston | MA | 02116
    </pre><p>Utilizando para fazer um agrupamento geocode de endereços. Mais fácil para configurar <code class="varname">max_results=1</code>. Processa somente aqueles que ainda não foram geocodificados (não possuem avaliação).</p><pre class="programlisting">CREATE TABLE addresses_to_geocode(addid serial PRIMARY KEY, address text,
        lon numeric, lat numeric, new_address text, rating integer);

INSERT INTO addresses_to_geocode(address)
VALUES ('529 Main Street, Boston MA, 02129'),
 ('77 Massachusetts Avenue, Cambridge, MA 02139'),
 ('25 Wizard of Oz, Walaford, KS 99912323'),
 ('26 Capen Street, Medford, MA'),
 ('124 Mount Auburn St, Cambridge, Massachusetts 02138'),
 ('950 Main Street, Worcester, MA 01610');

-- only update the first 3 addresses (323-704 ms -  there are caching and shared memory effects so first geocode you do is always slower) --
-- for large numbers of addresses you don't want to update all at once
-- since the whole geocode must commit at once
-- For this example we rejoin with LEFT JOIN
-- and set to rating to -1 rating if no match
-- to ensure we don't regeocode a bad address
UPDATE addresses_to_geocode
  SET  (rating, new_address, lon, lat)
    = ( COALESCE(g.rating,-1), pprint_addy(g.addy),
       ST_X(g.geomout)::numeric(8,5), ST_Y(g.geomout)::numeric(8,5) )
FROM (SELECT addid, address
    FROM addresses_to_geocode
    WHERE rating IS NULL ORDER BY addid LIMIT 3) As a
    LEFT JOIN LATERAL geocode(a.address,1) As g ON true
WHERE a.addid = addresses_to_geocode.addid;

result
-----
Query returned successfully: 3 rows affected, 480 ms execution time.

SELECT * FROM addresses_to_geocode WHERE rating is not null;

 addid |                   address                    |    lon    |   lat    |                new_address                | rating
-------+----------------------------------------------+-----------+----------+-------------------------------------------+--------
     1 | 529 Main Street, Boston MA, 02129            | -71.07177 | 42.38357 | 529 Main St, Boston, MA 02129             |      0
     2 | 77 Massachusetts Avenue, Cambridge, MA 02139 | -71.09396 | 42.35961 | 77 Massachusetts Ave, Cambridge, MA 02139 |      0
     3 | 25 Wizard of Oz, Walaford, KS 99912323       | -97.92913 | 38.12717 | Willowbrook, KS 67502                     |    108
(3 rows)</pre></div><div class="refsection" id="idm38139"><h2>Exemplos: Usando Filtros Geométricos</h2><pre class="programlisting">SELECT g.rating, ST_AsText(ST_SnapToGrid(g.geomout,0.00001)) As wktlonlat,
    (addy).address As stno, (addy).streetname As street,
    (addy).streettypeabbrev As styp,
    (addy).location As city, (addy).stateabbrev As st,(addy).zip
  FROM geocode('100 Federal Street, MA',
        3,
        (SELECT ST_Union(the_geom)
            FROM place WHERE statefp = '25' AND name = 'Lynn')::geometry
        ) As g;

 rating |         wktlonlat         | stno | street  | styp | city | st |  zip
--------+---------------------------+------+---------+------+------+----+-------
      7 | POINT(-70.96796 42.4659)  |  100 | Federal | St   | Lynn | MA | 01905
     16 | POINT(-70.96786 42.46853) | NULL | Federal | St   | Lynn | MA | 01905
(2 rows)

Time: 622.939 ms
          </pre></div><div class="refsection" id="idm38142"><h2>Veja também</h2><p><a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a>, <a class="xref" href="#Pprint_Addy" title="Pprint_Addy">Pprint_Addy</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a>, <a class="xref" href="#ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a>, <a class="xref" href="#ST_X" title="ST_X">ST_X</a>, <a class="xref" href="#ST_Y" title="ST_Y">ST_Y</a></p></div></div><div class="refentry" id="Geocode_Intersection"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Geocode_Intersection — Assimila 2 ruas que se intersectam e um estado, cidade, zip, e gera um conjunto de possíveis localizações no primeiro cruzamento que está na intersecção, também inclui um geomout como o ponto de localização em NAD 83 long lat, um <code class="varname">normalized_address</code> (addy) para cada localização, e a avaliação. Quanto menor a avaliação, maior a chance de combinar. Os resultados são separados com menor avaliação em primeiro lugar. Pode passar nos resultados máximos, até 10. Usa dados Tiger (limites, faces, addr), string confusa do PostgreSQL (soundex, evenshtein). </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof record <strong class="fsfunc">geocode_intersection</strong>(</code>text  <var class="pdparam"> roadway1</var>, text  <var class="pdparam"> roadway2</var>, text  <var class="pdparam"> in_state</var>, text  <var class="pdparam"> in_city</var>, text  <var class="pdparam"> in_zip</var>, integer  <var class="pdparam">max_results=10</var>, norm_addy  <var class="pdparam">OUT addy</var>, geometry  <var class="pdparam">OUT geomout</var>, integer  <var class="pdparam">OUT rating</var><code>)</code>;</p></div></div><div class="refsection" id="idm38188"><h2>Descrição</h2><p>Assimila 2 ruas que se intersectam e um estado, cidade, zip, e gera um conjunto de possíveis localizações no primeiro cruzamento que está na intersecção, também inclui um geomout como o ponto de localização em NAD 83 long lat para cada localização, e a avaliação. Quanto menor a avaliação, maior a chance de combinar. Os resultados são separados com menor avaliação em primeiro lugar. Pode passar nos resultados máximos, até 10. Retorna <code class="varname">normalized_address</code> (addy) para cada, geomout como o ponto da localização em nad 83 long lat, and the rating. Quanto menor a avaliação, maior a chance de combinar. Os resultados são separados com menor avaliação em primeiro lugar. Usa dados Tiger (limites, faces, addr), string confusa do PostgreSQL (soundex, evenshtein).  </p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm38193"><h2>Exemplos: Básico</h2><p>Os exemplos abaixo estão em um único processador 3.0 GHZ no Windows 7 com 2GB ram executando PostgreSQL 9.0/PostGIS 1.5 carregados com todos os dados de estado MA Tiger carregados. Atualmente um pouco devagar (3000 ms) </p><p>Testando no Windows 2003 64-bit 8GB on PostGIS 2.0 PostgreSQL 64-bit Tiger 2011 dados carregados -- (41ms)</p><pre class="programlisting">SELECT pprint_addy(addy), st_astext(geomout),rating
            FROM geocode_intersection( 'Haverford St','Germania St', 'MA', 'Boston', '02130',1);
           pprint_addy            |         st_astext          | rating
----------------------------------+----------------------------+--------
98 Haverford St, Boston, MA 02130 | POINT(-71.101375 42.31376) |      0
</pre><p>Mesmo se o zip não passar no geocoder pode estimar (demorou cerca de 3500 ms na caixa do windows 7), no o windows 2003 64-bit 741 ms</p><pre class="programlisting">SELECT pprint_addy(addy), st_astext(geomout),rating
                FROM geocode_intersection('Weld', 'School', 'MA', 'Boston');
          pprint_addy          |        st_astext         | rating
-------------------------------+--------------------------+--------
 98 Weld Ave, Boston, MA 02119 | POINT(-71.099 42.314234) |      3
 99 Weld Ave, Boston, MA 02119 | POINT(-71.099 42.314234) |      3
</pre></div><div class="refsection" id="idm38200"><h2>Veja também</h2><p><a class="xref" href="#Geocode" title="Geocode">Geocode</a>, <a class="xref" href="#Pprint_Addy" title="Pprint_Addy">Pprint_Addy</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a></p></div></div><div class="refentry" id="Get_Geocode_Setting"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Get_Geocode_Setting — Retorna a configuração de valor específico armazenada na table tiger.geocode_settings.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Get_Geocode_Setting</strong>(</code>text  <var class="pdparam"> setting_name</var><code>)</code>;</p></div></div><div class="refsection" id="idm38218"><h2>Descrição</h2><p>Retorna valor da configuração específica armazenada na table tiger.geocode_settings. As configurações te permitem comutar depuração de funções. Planos futuros serão para controlar a avaliação com as configurações.  A seguir, a lista atual de configurações: </p><pre class="screen">name              | setting |  unit   | category  |                                                             short_desc
--------------------------------+---------+---------+-----------+------------------------------------------------------------------------------------------------------------------------------
 debug_geocode_address          | false   | boolean | debug     | outputs debug information in notice log such as queries when geocode_address is called if true
 debug_geocode_intersection     | false   | boolean | debug     | outputs debug information in notice log such as queries when geocode_intersection is called if true
 debug_normalize_address        | false   | boolean | debug     | outputs debug information in notice log such as queries and intermediate expressions when normalize_address is called if true
 debug_reverse_geocode          | false   | boolean | debug     | if true, outputs debug information in notice log such as queries and intermediate expressions when reverse_geocode
 reverse_geocode_numbered_roads | 0       | integer | rating    | For state and county highways, 0 - no preference in name,
                                                                  1 - prefer the numbered highway name, 2 - prefer local state/county name
 use_pagc_address_parser        | false   | boolean | normalize | If set to true, will try to use the address_standardizer extension (via pagc_normalize_address)
                                                                 instead of tiger normalize_address built one    </pre><p class="changed">Alterações: 2.2.0 : configurações padrão são guardadas em uma table chamada geocode_settings_default. As configurações personalizadas estão em geocode_settings e só contém aquelas que foram configuradas pelo usuário. </p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm38224"><h2>Exemplo da configuração de retornar depuração</h2><pre class="programlisting">SELECT get_geocode_setting('debug_geocode_address) As result;
result
---------
false
        </pre></div><div class="refsection" id="idm38227"><h2>Veja também</h2><p><a class="xref" href="#Set_Geocode_Setting" title="Set_Geocode_Setting">Set_Geocode_Setting</a></p></div></div><div class="refentry" id="Get_Tract"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Get_Tract — Retorna o trecho ou campo de uma tract table onde a geometria está localizada. Padrão para retornar um nome curto para o trecho.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">get_tract</strong>(</code>geometry  <var class="pdparam"> loc_geom</var>, text  <var class="pdparam"> output_field=name</var><code>)</code>;</p></div></div><div class="refsection" id="idm38246"><h2>Descrição</h2><p>Uma dada geometria irá retornar o trecho da localização do censo daquela geometria. NAD 83 long lat é assumida se nenhum spatial ref sys estiver especificado.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>This function uses the census <code class="varname">tract</code> which is not loaded by default. If you have already loaded your state table, you can load tract as well as bg, and tabblock using the <a class="xref" href="#Loader_Generate_Census_Script" title="Loader_Generate_Census_Script">Loader_Generate_Census_Script</a> script.</p><p>If you have not loaded your state data yet and want these additional tables loaded, do the following</p><pre class="programlisting">UPDATE tiger.loader_lookuptables SET load = true WHERE load = false AND lookup_name IN('tract', 'bg', 'tabblock');</pre><p>then they will be included by the <a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a>.</p></td></tr></table></div><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm38258"><h2>Exemplos: Básico</h2><pre class="programlisting">SELECT get_tract(ST_Point(-71.101375, 42.31376) ) As tract_name;
tract_name
---------
1203.01
        </pre><pre class="programlisting">--this one returns the tiger geoid
SELECT get_tract(ST_Point(-71.101375, 42.31376), 'tract_id' ) As tract_id;
tract_id
---------
25025120301</pre></div><div class="refsection" id="idm38262"><h2>Veja também</h2><p><a class="xref" href="#Geocode" title="Geocode">Geocode</a>&gt;</p></div></div><div class="refentry" id="Install_Missing_Indexes"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Install_Missing_Indexes — Encontra todas as tables com colunas chave usadas no ingresso geocoder e condições de filtros que estão perdendo os indexes usados nessas colunas e irão adicionar elas. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">boolean <strong class="fsfunc">Install_Missing_Indexes</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm38276"><h2>Descrição</h2><p>Encontra todas as tables nos esquemas <code class="varname">tiger</code> e <code class="varname">tiger_data</code> com as colunas chave usadas no ingresso e filtros do geocoder que estão perdendo indexes nessas colunas e irão gerar o SQL DDL para definir o index para aquelas tables e, então, executar a script gerada. Essa é uma função ajudante, que adiciona novos indexes necessários para pesquisas mais rápidas que podem ter sido perdidas durante o carregamento. Essa função é uma acompanhante para <a class="xref" href="#Missing_Indexes_Generate_Script" title="Missing_Indexes_Generate_Script">Missing_Indexes_Generate_Script</a>, que somada à script que cria index, também a executa. Ela é uma parte da script de atualização  <code class="filename">update_geocode.sql</code>.</p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm38284"><h2>Exemplos</h2><pre class="programlisting">SELECT install_missing_indexes();
         install_missing_indexes
-------------------------
 t
        </pre></div><div class="refsection" id="idm38287"><h2>Veja também</h2><p><a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a>, <a class="xref" href="#Missing_Indexes_Generate_Script" title="Missing_Indexes_Generate_Script">Missing_Indexes_Generate_Script</a></p></div></div><div class="refentry" id="Loader_Generate_Census_Script"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Loader_Generate_Census_Script — Gera uma shell script para a plataforma específica para os estados que irão baixar o trecho do censo de estado Tiger, bg e dados de tables  tabblocks, arranjar e carregar dentro do esquema <code class="varname">tiger_data</code>. Cada state script retornou como um relato separado.   </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof text <strong class="fsfunc">loader_generate_census_script</strong>(</code>text[] <var class="pdparam">param_states</var>, text <var class="pdparam">os</var><code>)</code>;</p></div></div><div class="refsection" id="idm38308"><h2>Descrição</h2><p>Gera uma shell script para a plataforma específica para os estados que irão baixar <code class="varname">tract</code> do censo de estado Tiger, block groups <code class="varname">bg</code> e dados de tables <code class="varname">tabblocks</code>, arranja e carrega dentro do esquema <code class="varname">tiger_data</code>. Cada state script retornou como um relato separado.   </p><p>Utiliza unzip no Linux (7-zip no Windows por padrão) e wget para fazer o download. Usa <a class="xref" href="#shp2pgsql_usage" title="4.7.2. shp2pgsql: Using the ESRI Shapefile Loader">Section 4.7.2, “shp2pgsql: Using the ESRI Shapefile Loader”</a> para carregar nos dados. Note que a menor unidade que ele faz é um estado inteiro. Ele só irá processar os arquivos nas pastas representativas e temporárias. </p><p>Isso usa as seguintes tables de controle para controlar o processo e diferentes variações de sintaxe OS shell.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">loader_variables</code> armazena pistas de várias variáveis como o site do censo, ano, dados e esquemas representativos. </p></li><li class="listitem"><p><code class="varname">loader_platform</code> perfis de numerosas plataformas e onde as várias executáveis estão localizadas. Está com o windows e linux. Mais pode ser adicionado. </p></li><li class="listitem"><p><code class="varname">loader_lookuptables</code>  cada relato define um tipo de table (estado, condado), quer para processar relatos nelas ou para carregar eles. Define os passos para importar dados, dados de representação, adicionar, remove colunas, indexes e restrições para cada um. Cada table é prefixada com o estado de uma table em um esquema tiger. ex: cria <code class="varname">tiger_data.ma_faces</code>, os quais herda das <code class="varname">tiger.faces</code></p></li></ol></div><p class="availability">Disponibilidade: 2.0.0 </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p><a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a> inclui essa lógica, mas se você instalou o geocoder tiger antes para o PostGIS 2.0.0 alpha5, você vai precisar executar esse nos estados que já fez para pegar essas tables adicionais. </p></td></tr></table></div></div><div class="refsection" id="idm38334"><h2>Exemplos</h2><p>Gerar script para carregar dados para selecionar estados no formato script shell do Windows. </p><pre class="programlisting">SELECT loader_generate_census_script(ARRAY['MA'], 'windows');
-- result --
set STATEDIR="\gisdata\www2.census.gov\geo\pvs\tiger2010st\25_Massachusetts"
set TMPDIR=\gisdata\temp\
set UNZIPTOOL="C:\Program Files\7-Zip\7z.exe"
set WGETTOOL="C:\wget\wget.exe"
set PGBIN=C:\projects\pg\pg91win\bin\
set PGPORT=5432
set PGHOST=localhost
set PGUSER=postgres
set PGPASSWORD=yourpasswordhere
set PGDATABASE=tiger_postgis20
set PSQL="%PGBIN%psql"
set SHP2PGSQL="%PGBIN%shp2pgsql"
cd \gisdata

%WGETTOOL% http://www2.census.gov/geo/pvs/tiger2010st/25_Massachusetts/25/ --no-parent --relative --accept=*bg10.zip,*tract10.zip,*tabblock10.zip --mirror --reject=html
del %TMPDIR%\*.* /Q
%PSQL% -c "DROP SCHEMA tiger_staging CASCADE;"
%PSQL% -c "CREATE SCHEMA tiger_staging;"
cd %STATEDIR%
for /r %%z in (*.zip) do %UNZIPTOOL% e %%z  -o%TMPDIR%
cd %TMPDIR%
%PSQL% -c "CREATE TABLE tiger_data.MA_tract(CONSTRAINT pk_MA_tract PRIMARY KEY (tract_id) ) INHERITS(tiger.tract); "
%SHP2PGSQL% -c -s 4269 -g the_geom   -W "latin1" tl_2010_25_tract10.dbf tiger_staging.ma_tract10 | %PSQL%
%PSQL% -c "ALTER TABLE tiger_staging.MA_tract10 RENAME geoid10 TO tract_id;  SELECT loader_load_staged_data(lower('MA_tract10'), lower('MA_tract')); "
%PSQL% -c "CREATE INDEX tiger_data_MA_tract_the_geom_gist ON tiger_data.MA_tract USING gist(the_geom);"
%PSQL% -c "VACUUM ANALYZE tiger_data.MA_tract;"
%PSQL% -c "ALTER TABLE tiger_data.MA_tract ADD CONSTRAINT chk_statefp CHECK (statefp = '25');"
: </pre><p>Gerar script sh</p><pre class="programlisting">STATEDIR="/gisdata/www2.census.gov/geo/pvs/tiger2010st/25_Massachusetts"
TMPDIR="/gisdata/temp/"
UNZIPTOOL=unzip
WGETTOOL="/usr/bin/wget"
export PGBIN=/usr/pgsql-9.0/bin
export PGPORT=5432
export PGHOST=localhost
export PGUSER=postgres
export PGPASSWORD=yourpasswordhere
export PGDATABASE=geocoder
PSQL=${PGBIN}/psql
SHP2PGSQL=${PGBIN}/shp2pgsql
cd /gisdata

wget http://www2.census.gov/geo/pvs/tiger2010st/25_Massachusetts/25/ --no-parent --relative --accept=*bg10.zip,*tract10.zip,*tabblock10.zip --mirror --reject=html
rm -f ${TMPDIR}/*.*
${PSQL} -c "DROP SCHEMA tiger_staging CASCADE;"
${PSQL} -c "CREATE SCHEMA tiger_staging;"
cd $STATEDIR
for z in *.zip; do $UNZIPTOOL -o -d $TMPDIR $z; done
:
: </pre></div><div class="refsection" id="idm38340"><h2>Veja também</h2><p><a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a></p></div></div><div class="refentry" id="Loader_Generate_Script"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Loader_Generate_Script — Gera uma shell script para a plataforma específica para os estados que irão baixar dados Tiger, arranjar e carregar dentro do esquema <code class="varname">tiger_data</code>. Cada state script retorna como um registro separado. A versão mais nova suporta mudanças estruturais do Tiger 2010 e também carrega trecho do censo, block groups, e block tables.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">setof text <strong class="fsfunc">loader_generate_script</strong>(</code>text[] <var class="pdparam">param_states</var>, text <var class="pdparam">os</var><code>)</code>;</p></div></div><div class="refsection" id="idm38360"><h2>Descrição</h2><p>Gera uma shell script para a plataforma específica para os estados que irão baixar dados do Tiger, arranjar e carregar dentro do esquema <code class="varname">tiger_data</code>. Cada state script retorna como um registro separado.   </p><p>Utiliza unzip no Linux (7-zip no Windows por padrão) e wget para fazer o download. Usa <a class="xref" href="#shp2pgsql_usage" title="4.7.2. shp2pgsql: Using the ESRI Shapefile Loader">Section 4.7.2, “shp2pgsql: Using the ESRI Shapefile Loader”</a> para carregar nos dados. Note que a menor unidade que ele faz é um estado inteiro, mas você pode sobrescrever baixando os arquivos por conta própria. Ele só irá processar os arquivos nas pastas representativas e temporárias. </p><p>Isso usa as seguintes tables de controle para controlar o processo e diferentes variações de sintaxe OS shell.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">loader_variables</code> armazena pistas de várias variáveis como o site do censo, ano, dados e esquemas representativos. </p></li><li class="listitem"><p><code class="varname">loader_platform</code> perfis de numerosas plataformas e onde as várias executáveis estão localizadas. Está com o windows e linux. Mais pode ser adicionado. </p></li><li class="listitem"><p><code class="varname">loader_lookuptables</code>  cada relato define um tipo de table (estado, condado), quer para processar relatos nelas ou para carregar eles. Define os passos para importar dados, dados de representação, adicionar, remove colunas, indexes e restrições para cada um. Cada table é prefixada com o estado de uma table em um esquema tiger. ex: cria <code class="varname">tiger_data.ma_faces</code>, os quais herda das <code class="varname">tiger.faces</code></p></li></ol></div><p class="availability">Disponibilidade: 2.0.0 para suportar tiger 2010 dados estruturados e carrega trecho (trecho) do censo , block groups (bg), e block (tabblocks) tables. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If you are using pgAdmin 3, be warned that by default pgAdmin 3 truncates long text. To fix, change <span class="emphasis"><em>File -&gt; Options -&gt; Query Tool -&gt; Query Editor - &gt; Max. characters per column</em></span> to larger than 50000 characters.</p></td></tr></table></div></div><div class="refsection" id="idm38383"><h2>Exemplos</h2><p>Using psql where gistest is your database and <code class="filename">/gisdata/data_load.sh</code> is the file to create with the shell commands to run.</p><pre class="programlisting">psql -U postgres -h localhost -d gistest -A -t \
 -c "SELECT Loader_Generate_Script(ARRAY['MA'], 'gistest')" &gt; /gisdata/data_load.sh;
</pre><p>Gerar script para carregar dados para 2 estados na script de formato shell do Windows. </p><pre class="programlisting">SELECT loader_generate_script(ARRAY['MA','RI'], 'windows') AS result;
-- result --
set TMPDIR=\gisdata\temp\
set UNZIPTOOL="C:\Program Files\7-Zip\7z.exe"
set WGETTOOL="C:\wget\wget.exe"
set PGBIN=C:\Program Files\PostgreSQL\9.4\bin\
set PGPORT=5432
set PGHOST=localhost
set PGUSER=postgres
set PGPASSWORD=yourpasswordhere
set PGDATABASE=geocoder
set PSQL="%PGBIN%psql"
set SHP2PGSQL="%PGBIN%shp2pgsql"
cd \gisdata

cd \gisdata
%WGETTOOL% ftp://ftp2.census.gov/geo/tiger/TIGER2015/PLACE/tl_*_25_* --no-parent --relative --recursive --level=2 --accept=zip --mirror --reject=html
cd \gisdata/ftp2.census.gov/geo/tiger/TIGER2015/PLACE
:
:</pre><p>Gerar script sh</p><pre class="programlisting">SELECT loader_generate_script(ARRAY['MA','RI'], 'sh') AS result;
-- result --
TMPDIR="/gisdata/temp/"
UNZIPTOOL=unzip
WGETTOOL="/usr/bin/wget"
export PGBIN=/usr/lib/postgresql/9.4/bin
-- variables used by psql: https://www.postgresql.org/docs/current/static/libpq-envars.html
export PGPORT=5432
export PGHOST=localhost
export PGUSER=postgres
export PGPASSWORD=yourpasswordhere
export PGDATABASE=geocoder
PSQL=${PGBIN}/psql
SHP2PGSQL=${PGBIN}/shp2pgsql
cd /gisdata

cd /gisdata
wget ftp://ftp2.census.gov/geo/tiger/TIGER2015/PLACE/tl_*_25_* --no-parent --relative --recursive --level=2 --accept=zip --mirror --reject=html
cd /gisdata/ftp2.census.gov/geo/tiger/TIGER2015/PLACE
rm -f ${TMPDIR}/*.*
:
:</pre></div><div class="refsection" id="idm38392"><h2>Veja também</h2><p><a class="xref" href="#install_tiger_geocoder_extension" title="2.4.1. Tiger Geocoder Enabling your PostGIS database">Section 2.4.1, “Tiger Geocoder Enabling your PostGIS database”</a>, <a class="xref" href="#Pprint_Addy" title="Pprint_Addy">Pprint_Addy</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a></p></div></div><div class="refentry" id="Loader_Generate_Nation_Script"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Loader_Generate_Nation_Script — Gerar uma script shell para a plataforma especificada que carrega as lookup tables de condado e estado. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">loader_generate_nation_script</strong>(</code>text <var class="pdparam">os</var><code>)</code>;</p></div></div><div class="refsection" id="idm38410"><h2>Descrição</h2><p>Gera uma script shell para a plataforma especificada que carrega as tables <code class="varname">county_all</code>, <code class="varname">county_all_lookup</code>, <code class="varname">state_all</code> dento do esquema <code class="varname">tiger_data</code>. Elas herdam respectivamente das tables  <code class="varname">county</code>, <code class="varname">county_lookup</code>, <code class="varname">state</code> no esquema <code class="varname">tiger</code>.</p><p>Utiliza unzip no Linux (7-zip no Windows por padrão) e wget para fazer o download. Usa <a class="xref" href="#shp2pgsql_usage" title="4.7.2. shp2pgsql: Using the ESRI Shapefile Loader">Section 4.7.2, “shp2pgsql: Using the ESRI Shapefile Loader”</a> para carregar nos dados.  </p><p>Utiliza as seguintes tables de controle: <code class="varname">tiger.loader_platform</code>, <code class="varname">tiger.loader_variables</code>, e <code class="varname">tiger.loader_lookuptables</code> para controlar o processo e diferentes variações de sintaxe OS shell.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">loader_variables</code> armazena pistas de várias variáveis como o site do censo, ano, dados e esquemas representativos. </p></li><li class="listitem"><p><code class="varname">loader_platform</code> perfis de numerosas plataformas e onde as várias executáveis estão localizadas. Está com o windows e linux/unix. Mais pode ser adicionado. </p></li><li class="listitem"><p><code class="varname">loader_lookuptables</code>  cada relato define um tipo de table (estado, condado), quer para processar relatos nelas ou para carregar eles. Define os passos para importar dados, dados de representação, adicionar, remove colunas, indexes e restrições para cada um. Cada table é prefixada com o estado de uma table em um esquema tiger. ex: cria <code class="varname">tiger_data.ma_faces</code>, os quais herda das <code class="varname">tiger.faces</code></p></li></ol></div><p class="enhanced">Enhanced: 2.4.1 zip code 5 tabulation area (zcta5) load step was fixed and when enabled, zcta5 data is loaded as a single table called zcta5_all as part of the nation script load.</p><p class="availability">Disponibilidade: 2.1.0 </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>If you want zip code 5 tabulation area (zcta5) to be included in your nation script load, do the following:</p><pre class="programlisting">UPDATE tiger.loader_lookuptables SET load = true WHERE table_name = 'zcta510';</pre></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Se você estiver executando a versão  <code class="varname">tiger_2010</code> e quer recarregar como estado com <code class="varname">tiger_2011</code>, você vai precisar, para o primeiro carregamento, gerar e executar drop statements <a class="xref" href="#Drop_Nation_Tables_Generate_Script" title="Drop_Nation_Tables_Generate_Script">Drop_Nation_Tables_Generate_Script</a> antes de executar essa script. </p></td></tr></table></div></div><div class="refsection" id="idm38449"><h2>Exemplos</h2><p>Gerar script para carregar dados de uma nação no Windows. </p><pre class="programlisting">SELECT loader_generate_nation_script('windows'); </pre><p>Gerar script para carregar dados para os sistemas Linux/Unix. </p><pre class="programlisting">SELECT loader_generate_nation_script('sh'); </pre></div><div class="refsection" id="idm38455"><h2>Veja também</h2><p><a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a>, <a class="xref" href="#Missing_Indexes_Generate_Script" title="Missing_Indexes_Generate_Script">Missing_Indexes_Generate_Script</a></p></div></div><div class="refentry" id="Missing_Indexes_Generate_Script"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Missing_Indexes_Generate_Script — Encontra todas as tables com colunas chave usadas no ingresso geocoder que estão perdendo indexes nessas colunas e irão gerar o SQL DDL para definir o index para essas tables.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Missing_Indexes_Generate_Script</strong>(</code><code>)</code>;</p></div></div><div class="refsection" id="idm38470"><h2>Descrição</h2><p>Encontra todas as tables nos esquemas <code class="varname">tiger</code> e <code class="varname">tiger_data</code> com as colunas chave usadas no ingresso geocoder que está perdendo indexes nessas colunas e irão gerar SQL DDL para definir o index para essas tables. Essa é uma função ajudante que adiciona novos indexes necessários para pesquisas mais rápidas que podem ter sido perdidas no carregamento. Assim como o geocoder é melhorado, essa função será atualizada para acomodar novos indexes que estão sendo usados. Se essa função não gera nada, significa que suas tables possuem o que achamos ser os indexes chave no lugar certo. </p><p class="availability">Disponibilidade: 2.0.0</p></div><div class="refsection" id="idm38476"><h2>Exemplos</h2><pre class="programlisting">SELECT missing_indexes_generate_script();
-- output: This was run on a database that was created before many corrections were made to the loading script ---
CREATE INDEX idx_tiger_county_countyfp ON tiger.county USING btree(countyfp);
CREATE INDEX idx_tiger_cousub_countyfp ON tiger.cousub USING btree(countyfp);
CREATE INDEX idx_tiger_edges_tfidr ON tiger.edges USING btree(tfidr);
CREATE INDEX idx_tiger_edges_tfidl ON tiger.edges USING btree(tfidl);
CREATE INDEX idx_tiger_zip_lookup_all_zip ON tiger.zip_lookup_all USING btree(zip);
CREATE INDEX idx_tiger_data_ma_county_countyfp ON tiger_data.ma_county USING btree(countyfp);
CREATE INDEX idx_tiger_data_ma_cousub_countyfp ON tiger_data.ma_cousub USING btree(countyfp);
CREATE INDEX idx_tiger_data_ma_edges_countyfp ON tiger_data.ma_edges USING btree(countyfp);
CREATE INDEX idx_tiger_data_ma_faces_countyfp ON tiger_data.ma_faces USING btree(countyfp);
        </pre></div><div class="refsection" id="idm38479"><h2>Veja também</h2><p><a class="xref" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a>, <a class="xref" href="#Install_Missing_Indexes" title="Install_Missing_Indexes">Install_Missing_Indexes</a></p></div></div><div class="refentry" id="Normalize_Address"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Normalize_Address — Dado um endereço em texto de uma rua, retorna um tipo composto <code class="varname">norm_addy</code> que não tem um sufixo, prefixo e tipo padronizado, rua, nome de rua etc. quebrado e, campos separados. Essa função irá funcionar com os dados lookup compactados com o tiger_geocoder (dados do censo tiger não são necessários). </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">norm_addy <strong class="fsfunc">normalize_address</strong>(</code>varchar  <var class="pdparam">in_address</var><code>)</code>;</p></div></div><div class="refsection" id="idm38497"><h2>Descrição</h2><p>Dado um endereço em texto de uma rua, retorna um tipo composto <code class="varname">norm_addy</code> que não tem um sufixo, prefixo e tipo padronizado, rua, nome de rua etc. quebrado e, campos separados. Esse é o primeiro passo no processo de geocodificação para tornar todos os endereços normalizados no formato postal. Nenhum outro dado é requerido à parte do que está compactado com o geocoder.  </p><p>Essa função utiliza as várias lookup tables direção/estado/sufixo pré carregadas com o tiger_geocoder e localizadas no esquema <code class="varname">tiger</code>, então, você não precisa baixar os dados do censo tiger ou qualquer outro tipo de dados para utilizá-la. Talvez você ache necessário adicionar mais abreviações ou nomes alternativos para as lookup tables no esquema <code class="varname">tiger</code>.</p><p>Utiliza várias tables lookup de controle localizadas no esquema <code class="varname">tiger</code> para normalizar o endereço de entrada. </p><p>Campos no tipo de objeto  <code class="varname">norm_addy</code> retornou pela função nessa ordem, onde () indica um campo requerido pelo geocoder, [] indica um campo opcional:</p><p>(address) [predirAbbrev] (streetName) [streetTypeAbbrev] [postdirAbbrev] [internal] [location] [stateAbbrev] [zip] [parsed] [zip4] [address_alphanumeric]</p><p class="enhanced">Enhanced: 2.4.0 norm_addy object includes additional fields zip4 and address_alphanumeric.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">address</code> é um inteiro: O número da rua</p></li><li class="listitem"><p><code class="varname">predirAbbrev</code> is varchar: Prefixo direcional para rua como N, S, L, O etc. Esse são controlados usando a table <code class="varname">direction_lookup</code>.</p></li><li class="listitem"><p><code class="varname">streetName</code> varchar</p></li><li class="listitem"><p>A versão varchar <code class="varname">streetTypeAbbrev</code>  abreviada dos tipos de rua: ex: St., Av., Cir. Elas são controladas usando a tables <code class="varname">street_type_lookup</code>.</p></li><li class="listitem"><p>As direções varchar <code class="varname">postdirAbbrev</code>  abreviadas N, S, L, O etc. Elas são controladas utilizando a table <code class="varname">direction_lookup</code>.</p></li><li class="listitem"><p>Varchar <code class="varname">interno</code> endereço interno como um apartamento ou número de suíte.</p></li><li class="listitem"><p>Varchar <code class="varname">localização</code> normalmente uma cidade ou província governante.</p></li><li class="listitem"><p>Os estados varchar <code class="varname">stateAbbrev</code> dos EUA de dois caracteres. ex: MA, NY, MI. Estes são controlados pela table <code class="varname">state_lookup</code>. </p></li><li class="listitem"><p><code class="varname">zip</code> varchar 5-digit zipcode. e.g. 02109.</p></li><li class="listitem"><p><code class="varname">parsed</code> booleana - indica se um endereço foi formado pelo processo normalizador. A função normalize_address coloca isso como verdade antes de retornar o endereço. </p></li><li class="listitem"><p><code class="varname">zip4</code> last 4 digits of a 9 digit zip code. Availability: PostGIS 2.4.0.</p></li><li class="listitem"><p><code class="varname">address_alphanumeric</code> Full street number even if it has alpha characters like 17R. Parsing of this is better using <a class="xref" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a> function. Availability: PostGIS 2.4.0.</p></li></ol></div></div><div class="refsection" id="idm38552"><h2>Exemplos</h2><p>Gerar campos selecionados. Use <a class="xref" href="#Pprint_Addy" title="Pprint_Addy">Pprint_Addy</a> se você quer uma saída textual.</p><pre class="programlisting">SELECT address As orig, (g.na).streetname, (g.na).streettypeabbrev
 FROM (SELECT address, normalize_address(address) As na
        FROM addresses_to_geocode) As g;

                        orig                         |  streetname   | streettypeabbrev
-----------------------------------------------------+---------------+------------------
 28 Capen Street, Medford, MA                        | Capen         | St
 124 Mount Auburn St, Cambridge, Massachusetts 02138 | Mount Auburn  | St
 950 Main Street, Worcester, MA 01610                | Main          | St
 529 Main Street, Boston MA, 02129                   | Main          | St
 77 Massachusetts Avenue, Cambridge, MA 02139        | Massachusetts | Ave
 25 Wizard of Oz, Walaford, KS 99912323              | Wizard of Oz  |
        </pre></div><div class="refsection" id="idm38557"><h2>Veja também</h2><p><a class="xref" href="#Geocode" title="Geocode">Geocode</a>, <a class="xref" href="#Pprint_Addy" title="Pprint_Addy">Pprint_Addy</a></p></div></div><div class="refentry" id="Pagc_Normalize_Address"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Pagc_Normalize_Address — Dado um endereço em texto de uma rua, retorna um tipo composto <code class="varname">norm_addy</code> que não tem um sufixo, prefixo e tipo padronizado, rua, nome de rua etc. quebrado e, campos separados. Essa função irá funcionar com os dados lookup compactados com o tiger_geocoder (dados do censo tiger não são necessários). Requer a extensão address_standardizer.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">norm_addy <strong class="fsfunc">pagc_normalize_address</strong>(</code>varchar  <var class="pdparam">in_address</var><code>)</code>;</p></div></div><div class="refsection" id="idm38575"><h2>Descrição</h2><p>Dado um endereço em texto de uma rua, retorna um tipo composto <code class="varname">norm_addy</code> que não tem um sufixo, prefixo e tipo padronizado, rua, nome de rua etc. quebrado e, campos separados. Esse é o primeiro passo no processo de geocodificação para tornar todos os endereços normalizados no formato postal. Nenhum outro dado é requerido à parte do que está compactado com o geocoder.  </p><p>Essa função utiliza as várias lookup tables pagc_* pré carregadas com o tiger_geocoder e localizadas no esquema <code class="varname">tiger</code>, então, você não precisa baixar os dados do censo tiger ou qualquer outro tipo de dados para utilizá-la. Talvez você ache necessário adicionar mais abreviações ou nomes alternativos para as lookup tables no esquema <code class="varname">tiger</code>.</p><p>Utiliza várias tables lookup de controle localizadas no esquema <code class="varname">tiger</code> para normalizar o endereço de entrada. </p><p>Campos no tipo de objeto  <code class="varname">norm_addy</code> retornou pela função nessa ordem, onde () indica um campo requerido pelo geocoder, [] indica um campo opcional:</p><p>Existem pequenas variações no revestimento e formatação do <a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a>.</p><p class="availability">Disponibilidade: 2.1.0</p><p>
            <span class="inlinemediaobject"><img src="images/check.png"/></span> This method needs address_standardizer extension. </p><p>(address) [predirAbbrev] (streetName) [streetTypeAbbrev] [postdirAbbrev] [internal] [location] [stateAbbrev] [zip]</p><p>O  standardaddr natural da extensão address_standardizer é um pouco mais rico que norm_addy, já que foi desenvolvido para suportar endereços internacionais (incluindo países). Os campos equivalentes do standardaddr são:</p><p>house_num,predir, name, suftype, sufdir, unit, city, state, postcode</p><p class="enhanced">Enhanced: 2.4.0 norm_addy object includes additional fields zip4 and address_alphanumeric.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">address</code> é um inteiro: O número da rua</p></li><li class="listitem"><p><code class="varname">predirAbbrev</code> is varchar: Prefixo direcional para rua como N, S, L, O etc. Esse são controlados usando a table <code class="varname">direction_lookup</code>.</p></li><li class="listitem"><p><code class="varname">streetName</code> varchar</p></li><li class="listitem"><p>A versão varchar <code class="varname">streetTypeAbbrev</code>  abreviada dos tipos de rua: ex: St., Av., Cir. Elas são controladas usando a tables <code class="varname">street_type_lookup</code>.</p></li><li class="listitem"><p>As direções varchar <code class="varname">postdirAbbrev</code>  abreviadas N, S, L, O etc. Elas são controladas utilizando a table <code class="varname">direction_lookup</code>.</p></li><li class="listitem"><p>Varchar <code class="varname">interno</code> endereço interno como um apartamento ou número de suíte.</p></li><li class="listitem"><p>Varchar <code class="varname">localização</code> normalmente uma cidade ou província governante.</p></li><li class="listitem"><p>Os estados varchar <code class="varname">stateAbbrev</code> dos EUA de dois caracteres. ex: MA, NY, MI. Estes são controlados pela table <code class="varname">state_lookup</code>. </p></li><li class="listitem"><p><code class="varname">zip</code> varchar 5-digit zipcode. e.g. 02109.</p></li><li class="listitem"><p><code class="varname">parsed</code> booleana - indica se um endereço foi formado pelo processo normalizador. A função normalize_address coloca isso como verdade antes de retornar o endereço. </p></li><li class="listitem"><p><code class="varname">zip4</code> last 4 digits of a 9 digit zip code. Availability: PostGIS 2.4.0.</p></li><li class="listitem"><p><code class="varname">address_alphanumeric</code> Full street number even if it has alpha characters like 17R. Parsing of this is better using <a class="xref" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a> function. Availability: PostGIS 2.4.0.</p></li></ol></div></div><div class="refsection" id="idm38639"><h2>Exemplos</h2><p>Exemplo de chamada única</p><pre class="programlisting">SELECT addy.*
FROM pagc_normalize_address('9000 E ROO ST STE 999, Springfield, CO') AS addy;


 address | predirabbrev | streetname | streettypeabbrev | postdirabbrev | internal  |  location   | stateabbrev | zip | parsed
---------+--------------+------------+------------------+---------------+-----------+-------------+-------------+-----+--------
    9000 | E            | ROO        | ST               |               | SUITE 999 | SPRINGFIELD | CO          |     | t</pre><p>Batch call. Existem issues de velocidade com a forma que o postgis_tiger_geocoder empacota o address_standardizer. Elas serão solucionadas em edições posteriores. Para funcionar em volta delas, se você precisa de velocidade para geocodificação agrupada para gerar um normaddy em modo agrupado, você é  instigado a usar a função address_standardizer standardize_address diretamente, como é mostrado abaixo, que é similar ao exercício que fizemos em <a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a> que usa os dados criados em <a class="xref" href="#Geocode" title="Geocode">Geocode</a>.</p><pre class="programlisting">WITH g AS (SELECT address, ROW((sa).house_num, (sa).predir, (sa).name
  , (sa).suftype, (sa).sufdir, (sa).unit , (sa).city, (sa).state, (sa).postcode, true)::norm_addy As na
 FROM (SELECT address, standardize_address('tiger.pagc_lex'
       , 'tiger.pagc_gaz'
       , 'tiger.pagc_rules', address) As sa
        FROM addresses_to_geocode) As g)
SELECT address As orig, (g.na).streetname, (g.na).streettypeabbrev
 FROM  g;

 orig                                                |  streetname   | streettypeabbrev
-----------------------------------------------------+---------------+------------------
 529 Main Street, Boston MA, 02129                   | MAIN          | ST
 77 Massachusetts Avenue, Cambridge, MA 02139        | MASSACHUSETTS | AVE
 25 Wizard of Oz, Walaford, KS 99912323              | WIZARD OF     |
 26 Capen Street, Medford, MA                        | CAPEN         | ST
 124 Mount Auburn St, Cambridge, Massachusetts 02138 | MOUNT AUBURN  | ST
 950 Main Street, Worcester, MA 01610                | MAIN          | ST</pre></div><div class="refsection" id="idm38647"><h2>Veja também</h2><p><a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a>, <a class="xref" href="#Geocode" title="Geocode">Geocode</a></p></div></div><div class="refentry" id="Pprint_Addy"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Pprint_Addy — Dado um objeto de tipo composto  <code class="varname">norm_addy</code>, retorna uma representação impressa dele. Normalmente, usado em conjunto com o normalize_address.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">varchar <strong class="fsfunc">pprint_addy</strong>(</code>norm_addy  <var class="pdparam">in_addy</var><code>)</code>;</p></div></div><div class="refsection" id="idm38665"><h2>Descrição</h2><p>Dado um objeto de tipo composto  <code class="varname">norm_addy</code>, retorna uma representação impressa dele. Não é necessário nenhum outro tipo de dados além do que estão compactados com o geocoder. </p><p>Usado, normalmente, em conjunto com <a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a>.</p></div><div class="refsection" id="idm38671"><h2>Exemplos</h2><p>Pretty print a single address</p><pre class="programlisting">SELECT pprint_addy(normalize_address('202 East Fremont Street, Las Vegas, Nevada 89101')) As pretty_address;
            pretty_address
---------------------------------------
 202 E Fremont St, Las Vegas, NV 89101
        </pre><p>Pretty print address a table of addresses</p><pre class="programlisting">SELECT address As orig, pprint_addy(normalize_address(address)) As pretty_address
        FROM addresses_to_geocode;

                        orig                         |              pretty_address
-----------------------------------------------------+-------------------------------------------
 529 Main Street, Boston MA, 02129                   | 529 Main St, Boston MA, 02129
 77 Massachusetts Avenue, Cambridge, MA 02139        | 77 Massachusetts Ave, Cambridge, MA 02139
 28 Capen Street, Medford, MA                        | 28 Capen St, Medford, MA
 124 Mount Auburn St, Cambridge, Massachusetts 02138 | 124 Mount Auburn St, Cambridge, MA 02138
 950 Main Street, Worcester, MA 01610                | 950 Main St, Worcester, MA 01610</pre></div><div class="refsection" id="idm38677"><h2>Veja também</h2><p><a class="xref" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a></p></div></div><div class="refentry" id="Reverse_Geocode"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Reverse_Geocode — Pega um ponto em um sistema de referência espacial conehcido e retorna um relato que contém um banco de dados de, teoricamente, possíveis endereços e um banco de dados de ruas cruzadas. Se include_strnum_range = verdade, inclui o alcance da rua nas ruas cruzadas. </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">record <strong class="fsfunc">Reverse_Geocode</strong>(</code>geometry  <var class="pdparam">pt</var>, boolean  <var class="pdparam">include_strnum_range=false</var>, geometry[]  <var class="pdparam">OUT intpt</var>, norm_addy[]  <var class="pdparam">OUT addy</var>, varchar[]  <var class="pdparam">OUT street</var><code>)</code>;</p></div></div><div class="refsection" id="idm38705"><h2>Descrição</h2><p>Pega um ponto em um sistema de referência espacial conehcido e retorna um relato que contém um banco de dados de, teoricamente, possíveis endereços e um banco de dados de ruas cruzadas. Se include_strnum_range = verdade, inclui o alcance da rua nas ruas cruzadas. include_strnum_range se torna falso se não passar. Os endereços são separados de acordo com qual rua um ponto é mais próximo, então, o primeiro endereço é o mais certo. </p><p>Porque dizemos endereços hipotéticos em vez de reais. Os dados Tiger não possuem endereços reais, somente variedades de ruas. O suposto endereço é interpolado baseado na variedade de ruas, por exemplo. Bem como interpolar um dos meus endereços de retorno em 26 Court St. and 26 Court Sq., sendo que não existem tais endereços. Isso se dá porque um ponto pode estar na esquina de 2 ruas e assim a lógica interpola as duas ruas. A lógica também presume que os endereços são espaçados igualmente ao longo de uma rua, o que está errado já que você pode ter um edifício municipal ocupando boa parte de uma rua, enquanto o resto das construções estão todas agrupadas no fim dela.</p><p>Nota: Esta função confia nos dados Tiger. Se você não carregou dados  cobrindo a região deste ponto, então, você terá que ter um relato cheio de NULOS. </p><p>Elementos que retornaram do relato são como segue:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">intpt</code> é um arranjo de pontos: Estes são os pontos da linha central na rua mais próxima ao ponto de entrada. Existem vários pontos, assim com existem muitos endereços.  </p></li><li class="listitem"><p><code class="varname">addy</code> é um arranjo de norm_addy (endereços normalizados): Estes são arranjos de possíveis endereços que se encaixam no ponto de entrada. O primeiro no arranjo é o que mais se encaixa. Geralmente, deveria ter apenas um, exceto no caso de um ponto que esteja na esquina de 2 ou 3 ruas, ou do ponto que esteja em algum lugar na estrada e não ao lado da rua.  </p></li><li class="listitem"><p><code class="varname">street</code> um arranjo de varchar: Estes são ruas cruzadas (ou a rua) (ruas que interseccionam ou são as ruas que o ponto está projetado). </p></li></ol></div><p class="enhanced">Enhanced: 2.4.1 if optional zcta5 dataset is loaded, the reverse_geocode function can resolve to state and zip even if the specific state data is not loaded. Refer to <a class="xref" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a> for details on loading zcta5 data.</p><p class="availability">Disponibilidade: 2.0.0 </p></div><div class="refsection" id="idm38724"><h2>Exemplos</h2><p>Exemplo de um ponto na esquina de duas ruas, mas mais perto de uma delas. É uma localização de MIT: 77 Massachusetts Ave, Cambridge, MA 02139. Note que mesmo não tendo nenhuma das 3 ruas, o PostgreSQL só retornará nulo para entradas acima do nosso limite mais alto, então, é seguro usar. Inclui variedades de ruas</p><pre class="programlisting">SELECT pprint_addy(r.addy[1]) As st1, pprint_addy(r.addy[2]) As st2, pprint_addy(r.addy[3]) As st3,
            array_to_string(r.street, ',') As cross_streets
        FROM reverse_geocode(ST_GeomFromText('POINT(-71.093902 42.359446)',4269),true) As r;

 result
 ------
      st1                                  | st2 | st3 |               cross_streets
-------------------------------------------+-----+-----+----------------------------------------------
 67 Massachusetts Ave, Cambridge, MA 02139 |     |     | 67 - 127 Massachusetts Ave,32 - 88 Vassar St</pre><p>Aqui, nós escolhemos não incluir as variedades de endereços para as ruas cruzadas e escolhemos uma localização realmente próxima de uma esquina de 2 ruas, assim, pode ser conhecido por dois endereços diferentes. </p><pre class="programlisting">SELECT pprint_addy(r.addy[1]) As st1, pprint_addy(r.addy[2]) As st2,
pprint_addy(r.addy[3]) As st3, array_to_string(r.street, ',') As cross_str
FROM reverse_geocode(ST_GeomFromText('POINT(-71.06941 42.34225)',4269)) As r;

result
--------
               st1               |               st2               | st3 | cross_str
---------------------------------+---------------------------------+-----+------------------------
 5 Bradford St, Boston, MA 02118 | 49 Waltham St, Boston, MA 02118 |     | Waltham St
</pre><p>Para este, nó reutilizamos nosso exemplo geocodificado de <a class="xref" href="#Geocode" title="Geocode">Geocode</a> e só queremos o endereço primário e no máximo 2 ruas cruzadas. </p><pre class="programlisting">
SELECT actual_addr, lon, lat, pprint_addy((rg).addy[1]) As int_addr1,
    (rg).street[1] As cross1, (rg).street[2] As cross2
FROM (SELECT address As actual_addr, lon, lat,
    reverse_geocode( ST_SetSRID(ST_Point(lon,lat),4326) ) As rg
    FROM addresses_to_geocode WHERE rating 
&gt; -1) As foo;

                     actual_addr                     |    lon    |   lat    |                 int_addr1                 |     cross1      |   cross2
-----------------------------------------------------+-----------+----------+-------------------------------------------+-----------------+------------
 529 Main Street, Boston MA, 02129                   | -71.07181 | 42.38359 | 527 Main St, Boston, MA 02129             | Medford St      |
 77 Massachusetts Avenue, Cambridge, MA 02139        | -71.09428 | 42.35988 | 77 Massachusetts Ave, Cambridge, MA 02139 | Vassar St       |
 26 Capen Street, Medford, MA                        | -71.12377 | 42.41101 | 9 Edison Ave, Medford, MA 02155           | Capen St        | Tesla Ave
 124 Mount Auburn St, Cambridge, Massachusetts 02138 | -71.12304 | 42.37328 | 3 University Rd, Cambridge, MA 02138      | Mount Auburn St |
 950 Main Street, Worcester, MA 01610                | -71.82368 | 42.24956 | 3 Maywood St, Worcester, MA 01603         | Main St         | Maywood Pl

</pre></div><div class="refsection" id="idm38733"><h2>Veja também</h2><p><a class="xref" href="#Pprint_Addy" title="Pprint_Addy">Pprint_Addy</a>, <a class="xref" href="#Pprint_Addy" title="Pprint_Addy">Pprint_Addy</a>, <a class="xref" href="#ST_AsText" title="ST_AsText">ST_AsText</a></p></div></div><div class="refentry" id="Topology_Load_Tiger"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Topology_Load_Tiger — Carrega uma região definida de dados tiger em uma Topologia PostGIS e transforma os dados tiger para referência espacial da topologia e rompe para a tolerância precisa da topologia.  </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Topology_Load_Tiger</strong>(</code>varchar  <var class="pdparam">topo_name</var>, varchar  <var class="pdparam">region_type</var>, varchar  <var class="pdparam">region_id</var><code>)</code>;</p></div></div><div class="refsection" id="idm38757"><h2>Descrição</h2><p>Carrega uma região definida de dados tiger em uma Topologia PostGIS. As faces, nós e limites são transformados em um sistema de referência espacial de uma topologia alvo e pontos são estalados à tolerância da topologia alvo. As faces, nós e limites criados, mantêm as mesmas identidades dos originais dos dados Tiger, para os datasets serem reconciliados mais facilmente no futuro com os dados tiger. Retorna detalhes resumidos do processo.   </p><p>Seria útil, por exemplo, para dividir em novos distritos os dados onde você requer que os polígonos formados sigam as linhas centrais das ruas e para os polígonos resultantes não se sobreporem. </p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Esta função confia nos dados tiger, bem como o módulo de instalação da topologia do PostGIS. para maiores informações, veja: <a class="xref" href="#Topology" title="Chapter 9. Topologia">Chapter 9, <em>Topologia</em></a> e <a class="xref" href="#installation_configuration" title="2.2.3. Configuração">Section 2.2.3, “Configuração”</a>. Se você não carregou os dados cobrindo a região de interesse, nenhum relato de topologia será criado, Esta função também falhará se você não tiver criado uma topologia usando as funções dela. </p></td></tr></table></div><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>A maior parte dos erros de validação de topologia são resultados de issues de tolerância, nas quais depois da transformação os pontos limites não se alinham ou sobrepõem. Para remediar esta situação, você talvez queira aumentar ou diminuir a precisão, se você tiver falhas na validação da topologia. </p></td></tr></table></div><p>Argumentos obrigatórios:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="varname">topo_name</code> O nome de uma topologia PostGIS para carregar dados.</p></li><li class="listitem"><p><code class="varname">region_type</code> O tipo de região limitadora. Atualmente, somente<code class="varname">place</code> e <code class="varname">county</code> são suportados. O plano é ter muitas mais. Esta é a table para investigar para definir os limites da região. ex: <code class="varname">tiger.place</code>, <code class="varname">tiger.county</code></p></li><li class="listitem"><p><code class="varname">region_id</code> Isto é o que o Tiger chama de geoid. É o único identificador da região na table. Para lugar é a <code class="varname">plcidfp</code> coluna em <code class="varname">tiger.place</code>. Para condado é a <code class="varname">cntyidfp</code> coluna  <code class="varname">tiger.county</code> </p></li></ol></div><p class="availability">Disponibilidade: 2.0.0 </p></div><div class="refsection" id="idm38787"><h2>Exemplo: Topologia de Boston, Massachusetts</h2><p>Criar uma topologia para Boston, Massachusetts em Mass State Plane Feet (2249), com tolerância 0.25 feet e então carregar na cidade de Boston faces, limites e nós tiger.</p><pre class="programlisting">SELECT topology.CreateTopology('topo_boston', 2249, 0.25);
createtopology
--------------
   15
-- 60,902 ms ~ 1 minute on windows 7 desktop running 9.1 (with 5 states tiger data loaded)
SELECT tiger.topology_load_tiger('topo_boston', 'place', '2507000');
-- topology_loader_tiger --
29722 edges holding in temporary. 11108 faces added. 1875 edges of faces added.  20576 nodes added.
19962 nodes contained in a face.  0 edge start end corrected.  31597 edges added.

-- 41 ms --
SELECT topology.TopologySummary('topo_boston');
 -- topologysummary--
Topology topo_boston (15), SRID 2249, precision 0.25
20576 nodes, 31597 edges, 11109 faces, 0 topogeoms in 0 layers

-- 28,797 ms to validate yeh returned no errors --
SELECT * FROM
    topology.ValidateTopology('topo_boston');

       error       |   id1    |    id2
-------------------+----------+-----------
      </pre></div><div class="refsection" id="idm38791"><h2>Exemplo: Suffolk, topologia de Massachusetts</h2><p>Criar uma topologia para uffolk, Massachusetts in Mass State Plane Meters (26986), com tolerância 0.25 metros e então carregar no condado de Suffolk faces, limites e nós tiger. </p><pre class="programlisting">SELECT topology.CreateTopology('topo_suffolk', 26986, 0.25);
-- this took 56,275 ms ~ 1 minute on Windows 7 32-bit with 5 states of tiger loaded
-- must have been warmed up after loading boston
SELECT tiger.topology_load_tiger('topo_suffolk', 'county', '25025');
-- topology_loader_tiger --
 36003 edges holding in temporary. 13518 faces added. 2172 edges of faces added.
 24761 nodes added.  24075 nodes contained in a face.  0 edge start end corrected.  38175 edges added.
-- 31 ms --
SELECT topology.TopologySummary('topo_suffolk');
 -- topologysummary--
 Topology topo_suffolk (14), SRID 26986, precision 0.25
24761 nodes, 38175 edges, 13519 faces, 0 topogeoms in 0 layers

-- 33,606 ms to validate --
SELECT * FROM
    topology.ValidateTopology('topo_suffolk');

       error       |   id1    |    id2
-------------------+----------+-----------
 coincident nodes  | 81045651 |  81064553
 edge crosses node | 81045651 |  85737793
 edge crosses node | 81045651 |  85742215
 edge crosses node | 81045651 | 620628939
 edge crosses node | 81064553 |  85697815
 edge crosses node | 81064553 |  85728168
 edge crosses node | 81064553 |  85733413
      </pre></div><div class="refsection" id="idm38795"><h2>Veja também</h2><p><a class="xref" href="#CreateTopology" title="CreateTopology">CreateTopology</a>, <a class="xref" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a>, <a class="xref" href="#TopologySummary" title="TopologySummary">TopologySummary</a>, <a class="xref" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a></p></div></div><div class="refentry" id="Set_Geocode_Setting"><div class="refentry.separator"><hr/></div><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>Set_Geocode_Setting — Estabelece uma configuração que afeta comportamento  das funções geocoder.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <strong class="fsfunc">Set_Geocode_Setting</strong>(</code>text  <var class="pdparam"> setting_name</var>, text  <var class="pdparam"> setting_value</var><code>)</code>;</p></div></div><div class="refsection" id="idm38817"><h2>Descrição</h2><p>Estabelece valor de uma configuração específica armazenada na table <code class="varname">tiger.geocode_settings</code>. Configurações permitem que você comute depuração de funções. Os planos futuros serão para controlar avaliação com configurações. A lista atual de configurações está em: </p><p class="availability">Disponibilidade: 2.1.0</p></div><div class="refsection" id="idm38822"><h2>Exemplo da configuração de retornar depuração</h2><p>Se você executar <a class="xref" href="#Geocode" title="Geocode">Geocode</a> quando esta função for verdade, o log NOTICE irá gerar horas e pesquisas. </p><pre class="programlisting">SELECT set_geocode_setting('debug_geocode_address', 'true') As result;
result
---------
true</pre></div><div class="refsection" id="idm38827"><h2>Veja também</h2><p><a class="xref" href="#Get_Geocode_Setting" title="Get_Geocode_Setting">Get_Geocode_Setting</a></p></div></div></section></section><section class="chapter" id="PostGIS_Special_Functions_Index"><div class="titlepage"><div><div><h1 class="title">Chapter 13. PostGIS Special Functions Index</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#PostGIS_Aggregate_Functions">13.1. PostGIS Aggregate Functions</a></span></li><li><span class="section"><a href="#PostGIS_Window_Functions">13.2. PostGIS Window Functions</a></span></li><li><span class="section"><a href="#PostGIS_SQLMM_Functions">13.3. PostGIS SQL-MM Compliant Functions</a></span></li><li><span class="section"><a href="#PostGIS_GeographyFunctions">13.4. PostGIS Geography Support Functions</a></span></li><li><span class="section"><a href="#PostGIS_RasterFunctions">13.5. PostGIS Raster Support Functions</a></span></li><li><span class="section"><a href="#PostGIS_Geometry_DumpFunctions">13.6. PostGIS Geometry / Geography / Raster Dump Functions</a></span></li><li><span class="section"><a href="#PostGIS_BoxFunctions">13.7. PostGIS Box Functions</a></span></li><li><span class="section"><a href="#PostGIS_3D_Functions">13.8. PostGIS Functions that support 3D</a></span></li><li><span class="section"><a href="#PostGIS_Curved_GeometryFunctions">13.9. PostGIS Curved Geometry Support Functions</a></span></li><li><span class="section"><a href="#PostGIS_PS_GeometryFunctions">13.10. PostGIS Polyhedral Surface Support Functions</a></span></li><li><span class="section"><a href="#PostGIS_TypeFunctionMatrix">13.11. PostGIS Function Support Matrix</a></span></li><li><span class="section"><a href="#NewFunctions">13.12. New, Enhanced or changed PostGIS Functions</a></span></li></ul></div><section class="section" id="PostGIS_Aggregate_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.1. PostGIS Aggregate Functions</h2></div></div></div><p>The functions below are spatial aggregate functions that are used in the same way as SQL aggregate function such as <code class="code">sum</code> and <code class="code">average</code>.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a> - Perform 3D union using postgis_sfcgal.</li><li class="listitem"><a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a> - Aggregate function that returns the 3D bounding box of geometries.</li><li class="listitem"><a class="link" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a> - Perform 3D union.</li><li class="listitem"><a class="link" href="#ST_AsFlatGeobuf" title="ST_AsFlatGeobuf">ST_AsFlatGeobuf</a> - Return a FlatGeobuf representation of a set of rows.</li><li class="listitem"><a class="link" href="#ST_AsGeobuf" title="ST_AsGeobuf">ST_AsGeobuf</a> - Return a Geobuf representation of a set of rows.</li><li class="listitem"><a class="link" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a> - Aggregate function returning a MVT representation of a set of rows.</li><li class="listitem"><a class="link" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a> - Window function that returns a cluster id for each input geometry using the DBSCAN algorithm.</li><li class="listitem"><a class="link" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a> - Aggregate function that clusters input geometries into connected sets.</li><li class="listitem"><a class="link" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a> - Window function that returns a cluster id for each input geometry, clustering input geometries into connected sets.</li><li class="listitem"><a class="link" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a> - Window function that returns a cluster id for each input geometry using the K-means algorithm.</li><li class="listitem"><a class="link" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a> - Aggregate function that clusters geometries by separation distance.</li><li class="listitem"><a class="link" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a> - Window function that returns a cluster id for each input geometry, clustering using separation distance.</li><li class="listitem"><a class="link" href="#ST_Collect" title="ST_Collect">ST_Collect</a> - Creates a GeometryCollection or Multi* geometry from a set of geometries.</li><li class="listitem"><a class="link" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a> - Window function that finds locations where polygons fail to form a valid coverage.</li><li class="listitem"><a class="link" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> - Window function that simplifies the edges of a polygonal coverage.</li><li class="listitem"><a class="link" href="#ST_CoverageUnion" title="ST_CoverageUnion">ST_CoverageUnion</a> - Computes the union of a set of polygons forming a coverage by removing shared edges.</li><li class="listitem"><a class="link" href="#ST_Extent" title="ST_Extent">ST_Extent</a> - Aggregate function that returns the bounding box of geometries.</li><li class="listitem"><a class="link" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a> - Cria uma Linestring de ponto, multiponto ou linha das geometrias.</li><li class="listitem"><a class="link" href="#ST_MemUnion" title="ST_MemUnion">ST_MemUnion</a> - Aggregate function which unions geometries in a memory-efficent but slower way</li><li class="listitem"><a class="link" href="#ST_Polygonize" title="ST_Polygonize">ST_Polygonize</a> - Computes a collection of polygons formed from the linework of a set of geometries.</li><li class="listitem"><a class="link" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a> - Retorna verdade se os rasters têm a mesma inclinação, escala, referência espacial, e deslocamento (pixeis podem ser colocados na mesma grade sem cortar eles) e falso se eles não notificarem problemas detalhados.</li><li class="listitem"><a class="link" href="#ST_Union" title="ST_Union">ST_Union</a> - Computes a geometry representing the point-set union of the input geometries.</li><li class="listitem"><a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a> - Retorna a união de um conjunto de tiles raster em um único raster composto de 1 ou mais bandas.</li><li class="listitem"><a class="link" href="#TopoElementArray_Agg" title="TopoElementArray_Agg">TopoElementArray_Agg</a> - Returns a topoelementarray for a set of element_id, type arrays (topoelements).</li></ul></div></section><section class="section" id="PostGIS_Window_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.2. PostGIS Window Functions</h2></div></div></div><p>The functions below are spatial window functions that are used in the same way as SQL window functions such as <code class="code">row_number()</code>, <code class="code">lead()</code>, and <code class="code">lag()</code>. They must be followed by an <code class="code">OVER()</code> clause.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a> - Window function that returns a cluster id for each input geometry using the DBSCAN algorithm.</li><li class="listitem"><a class="link" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a> - Window function that returns a cluster id for each input geometry, clustering input geometries into connected sets.</li><li class="listitem"><a class="link" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a> - Window function that returns a cluster id for each input geometry using the K-means algorithm.</li><li class="listitem"><a class="link" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a> - Window function that returns a cluster id for each input geometry, clustering using separation distance.</li><li class="listitem"><a class="link" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a> - Window function that finds locations where polygons fail to form a valid coverage.</li><li class="listitem"><a class="link" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> - Window function that simplifies the edges of a polygonal coverage.</li></ul></div></section><section class="section" id="PostGIS_SQLMM_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.3. PostGIS SQL-MM Compliant Functions</h2></div></div></div><p>The functions given below are PostGIS functions that conform to the SQL/MM 3 standard</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#CG_3DArea" title="CG_3DArea">CG_3DArea</a> - Computa a área de geometrias de superfície 3D. Irá retornar 0 para sólidos.</li><li class="listitem"><a class="link" href="#CG_3DDifference" title="CG_3DDifference">CG_3DDifference</a> - Representar diferença 3D</li><li class="listitem"><a class="link" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a> - Representar intersecção 3D</li><li class="listitem"><a class="link" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a> - Perform 3D union using postgis_sfcgal.</li><li class="listitem"><a class="link" href="#CG_Volume" title="CG_Volume">CG_Volume</a> - Computa o volume de um sólido 3D. Se aplicado a geometrias com superfícies (mesmo fechadas), irão retornar 0.</li><li class="listitem"><a class="link" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a> - Computa a área de geometrias de superfície 3D. Irá retornar 0 para sólidos.</li><li class="listitem"><a class="link" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a> - Tests if two 3D geometries are within a given 3D distance</li><li class="listitem"><a class="link" href="#ST_3DDifference" title="ST_3DDifference">ST_3DDifference</a> - Representar diferença 3D</li><li class="listitem"><a class="link" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a> - Para tipo geometria, retorna a menor distância cartesiana 3-dimensional (baseado no sistema de referência espacial) entre duas geometrias em unidades projetadas.</li><li class="listitem"><a class="link" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a> - Representar intersecção 3D</li><li class="listitem"><a class="link" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a> - Tests if two geometries spatially intersect in 3D - only for points, linestrings, polygons, polyhedral surface (area)</li><li class="listitem"><a class="link" href="#ST_3DLength" title="ST_3DLength">ST_3DLength</a> - Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_3DPerimeter" title="ST_3DPerimeter">ST_3DPerimeter</a> - Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a> - Perform 3D union.</li><li class="listitem"><a class="link" href="#ST_AddEdgeModFace" title="ST_AddEdgeModFace">ST_AddEdgeModFace</a> - Adiciona um novo limite e, se uma face for dividida, modifica a face original e adiciona uma nova face.</li><li class="listitem"><a class="link" href="#ST_AddEdgeNewFaces" title="ST_AddEdgeNewFaces">ST_AddEdgeNewFaces</a> - Adiciona um novo limite e, se uma face for dividida, deleta a face original e substitui por duas novas faces.</li><li class="listitem"><a class="link" href="#ST_AddIsoEdge" title="ST_AddIsoEdge">ST_AddIsoEdge</a> - Adiciona um limite isolado definido pela geometria alinestring a uma topologia conectando dois nós isoladosanode e anothernode e retorna a nova id do novo limite.</li><li class="listitem"><a class="link" href="#ST_AddIsoNode" title="ST_AddIsoNode">ST_AddIsoNode</a> - Adiciona um nó isolado a uma face em uma topologia e retorna a id do novo nó. Se a face é nula, o nó continua sendo criado.</li><li class="listitem"><a class="link" href="#ST_Area" title="ST_Area">ST_Area</a> - Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Return the OGC/ISO Well-Known Binary (WKB) representation of the geometry/geography without SRID meta data.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Retorna a geometria como uma versão GML com 2 ou 3 elementos.</li><li class="listitem"><a class="link" href="#ST_AsText" title="ST_AsText">ST_AsText</a> - Retorna a representação de texto bem conhecida (WKT) da geometria/geografia sem os meta dados do SRID.</li><li class="listitem"><a class="link" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a> - Retorna o encerramento da borda combinatória dessa geometria.</li><li class="listitem"><a class="link" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a> - Computes a geometry covering all points within a given distance from a geometry.</li><li class="listitem"><a class="link" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a> - Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_ChangeEdgeGeom" title="ST_ChangeEdgeGeom">ST_ChangeEdgeGeom</a> - Modifica a forma de um limite sem afetar a estrutura da topologia.</li><li class="listitem"><a class="link" href="#ST_Contains" title="ST_Contains">ST_Contains</a> - Tests if every point of B lies in A, and their interiors have a point in common</li><li class="listitem"><a class="link" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a> - Computes the convex hull of a geometry.</li><li class="listitem"><a class="link" href="#ST_CoordDim" title="ST_CoordDim">ST_CoordDim</a> - Retorna a dimensão da coordenada do valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_CreateTopoGeo" title="ST_CreateTopoGeo">ST_CreateTopoGeo</a> - Adiciona uma coleção de geometrias para uma dada topologia vazia e retorna uma mensagem detalhando sucesso.</li><li class="listitem"><a class="link" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a> - Tests if two geometries have some, but not all, interior points in common</li><li class="listitem"><a class="link" href="#ST_CurveN" title="ST_CurveN">ST_CurveN</a> - Returns the Nth component curve geometry of a CompoundCurve.</li><li class="listitem"><a class="link" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a> - Converts a geometry containing curves to a linear geometry.</li><li class="listitem"><a class="link" href="#ST_Difference" title="ST_Difference">ST_Difference</a> - Computes a geometry representing the part of geometry A that does not intersect geometry B.</li><li class="listitem"><a class="link" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a> - Retorna a dimensão da coordenada do valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a> - Tests if two geometries have no points in common</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Retorna a linha 3-dimensional mais longa entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a> - Retorna o número de pontos em um valor ST_LineString ou ST_CircularString.</li><li class="listitem"><a class="link" href="#ST_Envelope" title="ST_Envelope">ST_Envelope</a> - Retorna uma geometria representando a precisão da dobrada (float8) da caixa limitada da geometria fornecida.</li><li class="listitem"><a class="link" href="#ST_Equals" title="ST_Equals">ST_Equals</a> - Tests if two geometries include the same set of points</li><li class="listitem"><a class="link" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a> - Retorna o número de anéis interiores de um polígono.</li><li class="listitem"><a class="link" href="#ST_GMLToSQL" title="ST_GMLToSQL">ST_GMLToSQL</a> - Retorna um valor ST_Geometry específico da representação GML. Esse é um heterônimo para ST_GeomFromGML</li><li class="listitem"><a class="link" href="#ST_GeomCollFromText" title="ST_GeomCollFromText">ST_GeomCollFromText</a> - Makes a collection Geometry from collection WKT with the given SRID. If SRID is not given, it defaults to 0.</li><li class="listitem"><a class="link" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a> - Retorna um valor ST_Geometry específico da representação de texto bem conhecida (WKT).</li><li class="listitem"><a class="link" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a> - Criar uma geometria exemplo de um representação bem conhecida de geometria binária (WKB) e SRID opcional.</li><li class="listitem"><a class="link" href="#ST_GeometryFromText" title="ST_GeometryFromText">ST_GeometryFromText</a> - Retorna um valor ST_Geometry especifico da representação de texto estendida bem conhecida (EWKT). Isso é um heterônimo para ST_GeomFromText</li><li class="listitem"><a class="link" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_GetFaceEdges" title="ST_GetFaceEdges">ST_GetFaceEdges</a> - Retorna um conjunto de limites ordenados que amarram aface.</li><li class="listitem"><a class="link" href="#ST_GetFaceGeometry" title="ST_GetFaceGeometry">ST_GetFaceGeometry</a> - Retorna o polígono na topologia dada com a id de face especificada.</li><li class="listitem"><a class="link" href="#ST_InitTopoGeo" title="ST_InitTopoGeo">ST_InitTopoGeo</a> - Creates a new topology schema and registers it in the topology.topology table.</li><li class="listitem"><a class="link" href="#ST_InteriorRingN" title="ST_InteriorRingN">ST_InteriorRingN</a> - Retorna o número de anéis interiores de um polígono.</li><li class="listitem"><a class="link" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Computes a geometry representing the shared portion of geometries A and B.</li><li class="listitem"><a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Tests if two geometries intersect (they have at least one point in common)</li><li class="listitem"><a class="link" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a> - Retorna VERDADEIRO se os pontos de começo e fim da LINESTRING são coincidentes. Para superfície poliédrica está fechada (volumétrica).</li><li class="listitem"><a class="link" href="#ST_IsEmpty" title="ST_IsEmpty">ST_IsEmpty</a> - Tests if a geometry is empty.</li><li class="listitem"><a class="link" href="#ST_IsRing" title="ST_IsRing">ST_IsRing</a> - Tests if a LineString is closed and simple.</li><li class="listitem"><a class="link" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a> - Retorna (VERDADEIRA) se essa geometria não tem nenhum ponto irregular, como auto intersecção ou tangenciação.</li><li class="listitem"><a class="link" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a> - Tests if a geometry is well-formed in 2D.</li><li class="listitem"><a class="link" href="#ST_Length" title="ST_Length">ST_Length</a> - Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_LineFromText" title="ST_LineFromText">ST_LineFromText</a> - Faz uma geometria de uma representação WKT com a SRID dada. Se a SRID não for dada, isso leva a 0.</li><li class="listitem"><a class="link" href="#ST_LineFromWKB" title="ST_LineFromWKB">ST_LineFromWKB</a> - Faz uma LINESTRING de uma WKB com o SRID dado</li><li class="listitem"><a class="link" href="#ST_LinestringFromWKB" title="ST_LinestringFromWKB">ST_LinestringFromWKB</a> - Faz uma geometria de uma WKB com o SRID dado.</li><li class="listitem"><a class="link" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a> - Returns the point(s) on a geometry that match a measure value.</li><li class="listitem"><a class="link" href="#ST_LocateBetween" title="ST_LocateBetween">ST_LocateBetween</a> - Returns the portions of a geometry that match a measure range.</li><li class="listitem"><a class="link" href="#ST_M" title="ST_M">ST_M</a> - Returns the M coordinate of a Point.</li><li class="listitem"><a class="link" href="#ST_MLineFromText" title="ST_MLineFromText">ST_MLineFromText</a> - Retorna um valor específico ST_MultiLineString de uma representação WKT.</li><li class="listitem"><a class="link" href="#ST_MPointFromText" title="ST_MPointFromText">ST_MPointFromText</a> - Makes a Geometry from WKT with the given SRID. If SRID is not given, it defaults to 0.</li><li class="listitem"><a class="link" href="#ST_MPolyFromText" title="ST_MPolyFromText">ST_MPolyFromText</a> - Makes a MultiPolygon Geometry from WKT with the given SRID. If SRID is not given, it defaults to 0.</li><li class="listitem"><a class="link" href="#ST_ModEdgeHeal" title="ST_ModEdgeHeal">ST_ModEdgeHeal</a> - Heals two edges by deleting the node connecting them, modifying the first edge and deleting the second edge. Returns the id of the deleted node.</li><li class="listitem"><a class="link" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a> - Divide um limite criando um novo nó junto de um limite existente, modificando o limite original e adicionando um novo limite.</li><li class="listitem"><a class="link" href="#ST_MoveIsoNode" title="ST_MoveIsoNode">ST_MoveIsoNode</a> - Moves an isolated node in a topology from one point to another. If new apoint geometry exists as a node an error is thrown. Returns description of move.</li><li class="listitem"><a class="link" href="#ST_NewEdgeHeal" title="ST_NewEdgeHeal">ST_NewEdgeHeal</a> - Heals two edges by deleting the node connecting them, deleting both edges, and replacing them with an edge whose direction is the same as the first edge provided.</li><li class="listitem"><a class="link" href="#ST_NewEdgesSplit" title="ST_NewEdgesSplit">ST_NewEdgesSplit</a> - Divide um limite criando um novo nó ao longo do limite existente, deletando o limite original e substituindo-o por dois novos. Retorna a id do novo nó criado que integra os novos limites.</li><li class="listitem"><a class="link" href="#ST_NumCurves" title="ST_NumCurves">ST_NumCurves</a> - Return the number of component curves in a CompoundCurve.</li><li class="listitem"><a class="link" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> - Retorna o número de pontos em uma geometria. Funciona para todas as geometrias.</li><li class="listitem"><a class="link" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a> - Retorna o número de anéis interiores de um polígono.</li><li class="listitem"><a class="link" href="#ST_NumPatches" title="ST_NumPatches">ST_NumPatches</a> - Retorna o número de faces em uma superfícies poliédrica. Retornará nulo para geometrias não poliédricas.</li><li class="listitem"><a class="link" href="#ST_NumPoints" title="ST_NumPoints">ST_NumPoints</a> - Retorna o número de pontos em um valor ST_LineString ou ST_CircularString.</li><li class="listitem"><a class="link" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a> - Tests if two geometries represent the same geometry and have points in the same directional order</li><li class="listitem"><a class="link" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a> - Tests if two geometries have the same dimension and intersect, but each has at least one point not in the other</li><li class="listitem"><a class="link" href="#ST_PatchN" title="ST_PatchN">ST_PatchN</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a> - Returns the length of the boundary of a polygonal geometry or geography.</li><li class="listitem"><a class="link" href="#ST_Point" title="ST_Point">ST_Point</a> - Creates a Point with X, Y and SRID values.</li><li class="listitem"><a class="link" href="#ST_PointFromText" title="ST_PointFromText">ST_PointFromText</a> - Faz um ponto de um WKT com o SRID dado. Se o SRID não for dado, isso leva a desconhecido.</li><li class="listitem"><a class="link" href="#ST_PointFromWKB" title="ST_PointFromWKB">ST_PointFromWKB</a> - Faz uma geometria a partir de um WKB com o SRID dado</li><li class="listitem"><a class="link" href="#ST_PointN" title="ST_PointN">ST_PointN</a> - Retorna o número de pontos em um valor ST_LineString ou ST_CircularString.</li><li class="listitem"><a class="link" href="#ST_PointOnSurface" title="ST_PointOnSurface">ST_PointOnSurface</a> - Computes a point guaranteed to lie in a polygon, or on a geometry.</li><li class="listitem"><a class="link" href="#ST_Polygon" title="ST_Polygon">ST_Polygon</a> - Creates a Polygon from a LineString with a specified SRID.</li><li class="listitem"><a class="link" href="#ST_PolygonFromText" title="ST_PolygonFromText">ST_PolygonFromText</a> - Makes a Geometry from WKT with the given SRID. If SRID is not given, it defaults to 0.</li><li class="listitem"><a class="link" href="#ST_Relate" title="ST_Relate">ST_Relate</a> - Tests if two geometries have a topological relationship matching an Intersection Matrix pattern, or computes their Intersection Matrix</li><li class="listitem"><a class="link" href="#ST_RemEdgeModFace" title="ST_RemEdgeModFace">ST_RemEdgeModFace</a> - Removes an edge, and if the edge separates two faces deletes one face and modifies the other face to cover the space of both.</li><li class="listitem"><a class="link" href="#ST_RemEdgeNewFace" title="ST_RemEdgeNewFace">ST_RemEdgeNewFace</a> - Remove um limite e, se o limite removido separava duas faces, deleta as faces originais e as substitui por uma nova face.</li><li class="listitem"><a class="link" href="#ST_RemoveIsoEdge" title="ST_RemoveIsoEdge">ST_RemoveIsoEdge</a> - Removes an isolated edge and returns description of action. If the edge is not isolated, then an exception is thrown.</li><li class="listitem"><a class="link" href="#ST_RemoveIsoNode" title="ST_RemoveIsoNode">ST_RemoveIsoNode</a> - Remove um nó isolado e retorna descrição de ação. Se o nó não for isolado (for começo ou fim de um limite), então, uma exceção é lançada.</li><li class="listitem"><a class="link" href="#ST_SRID" title="ST_SRID">ST_SRID</a> - Returns the spatial reference identifier for a geometry.</li><li class="listitem"><a class="link" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a> - Returns the first point of a LineString.</li><li class="listitem"><a class="link" href="#ST_SymDifference" title="ST_SymDifference">ST_SymDifference</a> - Computes a geometry representing the portions of geometries A and B that do not intersect.</li><li class="listitem"><a class="link" href="#ST_Touches" title="ST_Touches">ST_Touches</a> - Tests if two geometries have at least one point in common, but their interiors do not intersect</li><li class="listitem"><a class="link" href="#ST_Transform" title="ST_Transform">ST_Transform</a> - Return a new geometry with coordinates transformed to a different spatial reference system.</li><li class="listitem"><a class="link" href="#ST_Union" title="ST_Union">ST_Union</a> - Computes a geometry representing the point-set union of the input geometries.</li><li class="listitem"><a class="link" href="#ST_Volume" title="ST_Volume">ST_Volume</a> - Computa o volume de um sólido 3D. Se aplicado a geometrias com superfícies (mesmo fechadas), irão retornar 0.</li><li class="listitem"><a class="link" href="#ST_WKBToSQL" title="ST_WKBToSQL">ST_WKBToSQL</a> - Retorna um valor ST_Geometry especifico da representação de texto binário bem conhecida (WKB). Isso é um heterônimo para ST_GeomFromWKB que não pega nenhum srid</li><li class="listitem"><a class="link" href="#ST_WKTToSQL" title="ST_WKTToSQL">ST_WKTToSQL</a> - Retorna um valor ST_Geometry especifico da representação de texto estendida bem conhecida (EWKT). Isso é um heterônimo para ST_GeomFromText</li><li class="listitem"><a class="link" href="#ST_Within" title="ST_Within">ST_Within</a> - Tests if every point of A lies in B, and their interiors have a point in common</li><li class="listitem"><a class="link" href="#ST_X" title="ST_X">ST_X</a> - Returns the X coordinate of a Point.</li><li class="listitem"><a class="link" href="#ST_Y" title="ST_Y">ST_Y</a> - Returns the Y coordinate of a Point.</li><li class="listitem"><a class="link" href="#ST_Z" title="ST_Z">ST_Z</a> - Returns the Z coordinate of a Point.</li><li class="listitem"><a class="link" href="#TG_ST_SRID" title="ST_SRID">ST_SRID</a> - Returns the spatial reference identifier for a topogeometry.</li></ul></div></section><section class="section" id="PostGIS_GeographyFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.4. PostGIS Geography Support Functions</h2></div></div></div><p>The functions and operators given below are PostGIS functions/operators that take as input or return as output a <a class="link" href="#PostGIS_Geography" title="4.3. Tipo de geografia POstGIS">geography</a> data type object.</p><div class="note"><table style="border: 0; "><tr><td style="text-align: center; vertical-align: top; width: 25px; " rowspan="2"><img alt="[Note]" src="images/note.png"/></td><th style="text-align: left; "/></tr><tr><td style="text-align: left; vertical-align: top; "><p>Functions with a (T) are not native geodetic functions, and use a ST_Transform call to and from geometry to do the operation. As a result, they may not behave as expected when going over dateline, poles, and for large geometries or geometry pairs that cover more than one UTM zone. Basic transform - (favoring UTM, Lambert Azimuthal (North/South), and falling back on mercator in worst case scenario)</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_Area" title="ST_Area">ST_Area</a> - Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Return the OGC/ISO Well-Known Binary (WKB) representation of the geometry/geography without SRID meta data.</li><li class="listitem"><a class="link" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a> - Retorna a representação de texto bem conhecida (WKT) da geometria com os meta dados SRID.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Retorna a geometria como uma versão GML com 2 ou 3 elementos.</li><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Return a geometry or feature in GeoJSON format.</li><li class="listitem"><a class="link" href="#ST_AsKML" title="ST_AsKML">ST_AsKML</a> - Retorna a geometria como uma versão GML com 2 ou 3 elementos.</li><li class="listitem"><a class="link" href="#ST_AsSVG" title="ST_AsSVG">ST_AsSVG</a> - Returns SVG path data for a geometry.</li><li class="listitem"><a class="link" href="#ST_AsText" title="ST_AsText">ST_AsText</a> - Retorna a representação de texto bem conhecida (WKT) da geometria/geografia sem os meta dados do SRID.</li><li class="listitem"><a class="link" href="#ST_Azimuth" title="ST_Azimuth">ST_Azimuth</a> - Retorna a menor linha 2-dimensional entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a> - Computes a geometry covering all points within a given distance from a geometry.</li><li class="listitem"><a class="link" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a> - Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_ClosestPoint" title="ST_ClosestPoint">ST_ClosestPoint</a> - Returns the 2D point on g1 that is closest to g2. This is the first point of the shortest line from one geometry to the other.</li><li class="listitem"><a class="link" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a> - Tests if every point of A lies in B</li><li class="listitem"><a class="link" href="#ST_Covers" title="ST_Covers">ST_Covers</a> - Tests if every point of B lies in A</li><li class="listitem"><a class="link" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a> - Tests if two geometries are within a given distance</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Retorna a linha 3-dimensional mais longa entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_GeogFromText" title="ST_GeogFromText">ST_GeogFromText</a> - Retorna um valor de geografia específico de uma representação bem conhecida de texto ou estendida (WKT).</li><li class="listitem"><a class="link" href="#ST_GeogFromWKB" title="ST_GeogFromWKB">ST_GeogFromWKB</a> - Cria uma ocasião geografia de uma geometria binária bem conhecida (WKB) ou binário estendido bem conhecido (EWKB).</li><li class="listitem"><a class="link" href="#ST_GeographyFromText" title="ST_GeographyFromText">ST_GeographyFromText</a> - Retorna um valor de geografia específico de uma representação bem conhecida de texto ou estendida (WKT).</li><li class="listitem"><a class="link" href="#ST_Geometry_EQ" title="=">=</a> - Returns TRUE if the coordinates and coordinate order geometry/geography A are the same as the coordinates and coordinate order of geometry/geography B.</li><li class="listitem"><a class="link" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Computes a geometry representing the shared portion of geometries A and B.</li><li class="listitem"><a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Tests if two geometries intersect (they have at least one point in common)</li><li class="listitem"><a class="link" href="#ST_Length" title="ST_Length">ST_Length</a> - Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a> - Returns a point interpolated along a line at a fractional location.</li><li class="listitem"><a class="link" href="#ST_LineInterpolatePoints" title="ST_LineInterpolatePoints">ST_LineInterpolatePoints</a> - Returns points interpolated along a line at a fractional interval.</li><li class="listitem"><a class="link" href="#ST_LineLocatePoint" title="ST_LineLocatePoint">ST_LineLocatePoint</a> - Returns the fractional location of the closest point on a line to a point.</li><li class="listitem"><a class="link" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a> - Returns the part of a line between two fractional locations.</li><li class="listitem"><a class="link" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a> - Returns the length of the boundary of a polygonal geometry or geography.</li><li class="listitem"><a class="link" href="#ST_Project" title="ST_Project">ST_Project</a> - Returns a point projected from a start point by a distance and bearing (azimuth).</li><li class="listitem"><a class="link" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a> - Returns a modified geometry/geography having no segment longer than a given distance.</li><li class="listitem"><a class="link" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a> - Retorna a menor linha 2-dimensional entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_Summary" title="ST_Summary">ST_Summary</a> - Retorna um texto resumo dos conteúdos da geometria.</li><li class="listitem"><a class="link" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a> - Retorna a distância 2D entre A e B.</li><li class="listitem"><a class="link" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a> - Retorna VERDADE se a caixa limitadora 2D de A intersecta a caixa limitadora 2D de B.</li></ul></div></section><section class="section" id="PostGIS_RasterFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.5. PostGIS Raster Support Functions</h2></div></div></div><p>The functions and operators given below are PostGIS functions/operators that take as input or return as output a <a class="xref" href="#raster" title="raster">raster</a> data type object. Listed in alphabetical order.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_Box3D" title="Box3D">Box3D</a> - Retorna a representação da caixa 3d da caixa encerrada do raster.</li><li class="listitem"><a class="link" href="#RT_Raster_Contained" title="@">@</a> - Retorna VERDADEse a caixa limitadora de A estiver contida pela de B. Utiliza precisão dupla de caixa limitadora.</li><li class="listitem"><a class="link" href="#RT_Raster_Contains" title="~">~</a> - Retorna TRUE se a caixa delimitadora de A estiver contida na do B. Utiliza caixa delimitadora de precisão dupla.</li><li class="listitem"><a class="link" href="#RT_Raster_EQ" title="=">=</a> - Retorna VERDADEse a caixa limitadora de A for a mesma de B. Utiliza precisão dupla de caixa limitadora.</li><li class="listitem"><a class="link" href="#RT_Raster_Intersect" title="&amp;&amp;">&amp;&amp;</a> - Retorna VERDADE se a caixa limitadora de A intersecta a caixa limitadora de B.</li><li class="listitem"><a class="link" href="#RT_Raster_OverLeft" title="&amp;&lt;">&amp;&lt;</a> - Retorna VERDADE se uma caixa limitadora de A está à esquerda da de B.</li><li class="listitem"><a class="link" href="#RT_Raster_OverRight" title="&amp;&gt;">&amp;&gt;</a> - Retorna VERDADE se uma caixa limitadora de A está à direita da de B.</li><li class="listitem"><a class="link" href="#RT_Raster_Same" title="~=">~=</a> - Retorna VERDADE se a caixa limitadora de A é a mesma de B.</li><li class="listitem"><a class="link" href="#RT_Retile" title="ST_Retile">ST_Retile</a> - Retorna um conjunto de tiles configuradas de uma cobertura raster aleatória.</li><li class="listitem"><a class="link" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a> - Retorna um raster com nova banda(s) do tipo dado adicionado com o valor inicial com a localização do índice. Se nenhum índice for especificado, a banda é adicionada ao final.</li><li class="listitem"><a class="link" href="#RT_ST_AsBinary" title="ST_AsBinary/ST_AsWKB">ST_AsBinary/ST_AsWKB</a> - Return the Well-Known Binary (WKB) representation of the raster.</li><li class="listitem"><a class="link" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a> - Return the raster tile in the designated GDAL Raster format. Raster formats are one of those supported by your compiled library. Use ST_GDALDrivers() to get a list of formats supported by your library.</li><li class="listitem"><a class="link" href="#RT_ST_AsHexWKB" title="ST_AsHexWKB">ST_AsHexWKB</a> - Return the Well-Known Binary (WKB) in Hex representation of the raster.</li><li class="listitem"><a class="link" href="#RT_ST_AsJPEG" title="ST_AsJPEG">ST_AsJPEG</a> - Retorna as bandas tile raster selecionadas como uma única Joint Photographic Exports Group (JPEG) image (byte arranjo). Se nenhuma banda for especificada e 1 ou mais que 3 bandas, então somente a primeira banda é usada. Se somente 3 bandas, então todas as 3 bandas serão usadas para mapear par RGB.</li><li class="listitem"><a class="link" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a> - Retorna as bandas tile raster selecionadas como um gráfico de rede portátil (PNG) imagem (byte array). Se as bandas raster 1, 3 ou 4 e nenhum banda for especificado, então todas as bandas são usadas. Se mais 2 ou mais que 4 bandas e nenhuma banda forem especificadas, então somente a banda 1 é usada. As bandas são mapeadas para espeço RGB ou RGBA.</li><li class="listitem"><a class="link" href="#RT_ST_AsRaster" title="ST_AsRaster">ST_AsRaster</a> - Converte uma geometria PostGIS para um raster PostGIS.</li><li class="listitem"><a class="link" href="#RT_ST_AsTIFF" title="ST_AsTIFF">ST_AsTIFF</a> - Return the raster selected bands as a single TIFF image (byte array). If no band is specified or any of specified bands does not exist in the raster, then will try to use all bands.</li><li class="listitem"><a class="link" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> - Retorna o aspecto (em graus) de uma banda raster de elevação. Útil para analisar terrenos.</li><li class="listitem"><a class="link" href="#RT_ST_Band" title="ST_Band">ST_Band</a> - Retorna uma ou mais bandas de um raster existente como um novo raster. Útil para a construção de novos rasters a partir de rasters existentes.</li><li class="listitem"><a class="link" href="#RT_ST_BandFileSize" title="ST_BandFileSize">ST_BandFileSize</a> - Returns the file size of a band stored in file system. If no bandnum specified, 1 is assumed.</li><li class="listitem"><a class="link" href="#RT_ST_BandFileTimestamp" title="ST_BandFileTimestamp">ST_BandFileTimestamp</a> - Returns the file timestamp of a band stored in file system. If no bandnum specified, 1 is assumed.</li><li class="listitem"><a class="link" href="#RT_ST_BandIsNoData" title="ST_BandIsNoData">ST_BandIsNoData</a> - Retorna verdadeiro se a banda estiver repleta somente de valores nodata.</li><li class="listitem"><a class="link" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a> - Retorna os metadados básicos para uma banda raster especificada. banda número 1 é assumida se nenhuma for especificada.</li><li class="listitem"><a class="link" href="#RT_ST_BandNoDataValue" title="ST_BandNoDataValue">ST_BandNoDataValue</a> - Retorna o valor em uma dada banda que não representa nenhum valor. Se nenhuma banda número 1 for assumida.</li><li class="listitem"><a class="link" href="#RT_ST_BandPath" title="ST_BandPath">ST_BandPath</a> - Retorna o caminho do arquivo do sistema para uma banda armazenada em um sistema de arquivos. Se nenhum número de banda for especificado, usa-se 1.</li><li class="listitem"><a class="link" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a> - Retorna o tipo pixel para uma dada banda. Se nenhum número de banda for especificado, usa-se 1.</li><li class="listitem"><a class="link" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a> - Returns the raster clipped by the input geometry. If band number is not specified, all bands are processed. If crop is not specified or TRUE, the output raster is cropped. If touched is set to TRUE, then touched pixels are included, otherwise only if the center of the pixel is in the geometry it is included.</li><li class="listitem"><a class="link" href="#RT_ST_ColorMap" title="ST_ColorMap">ST_ColorMap</a> - Cria um novo raster de até quatro bandas 8BUI (grayscale, RGB, RGBA) do raster fonte e uma banda específica. A banda 1 usada se não especificado.</li><li class="listitem"><a class="link" href="#RT_ST_Contains" title="ST_Contains">ST_Contains</a> - Retorna verdade se nenhum ponto do raster rasteB estiver no exterior do raster rastA e pelo menos um ponto do interior do rastB estiver no interior do rastA.</li><li class="listitem"><a class="link" href="#RT_ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a> - Retorna verdade se o rastB intersectar o interior do rastA, mas não o limite ou exterior do ratA.</li><li class="listitem"><a class="link" href="#RT_ST_Contour" title="ST_Contour">ST_Contour</a> - Generates a set of vector contours from the provided raster band, using the GDAL contouring algorithm.</li><li class="listitem"><a class="link" href="#RT_ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a> - Retorna o casco convexo da geometria do raster incluindo valores iguais ao BandNoDataValue. Para rasters com formas normais e não desviadas, o resultado é o mesmo que ST_Envelope, então só é útil para rasters com formas irregulares ou desviados.</li><li class="listitem"><a class="link" href="#RT_ST_Count" title="ST_Count">ST_Count</a> - Retorna o número de pixeis em uma banda dada de um raster ou cobertura raster. Se nenhuma banda for especificada, o padrão é usar a banda 1. Se exclude_nodata_value for verdade, contará somente pixeis que não são iguais ao valor nodata.</li><li class="listitem"><a class="link" href="#RT_ST_CountAgg" title="ST_CountAgg">ST_CountAgg</a> - Agregado. Retorna o número de pixeis em uma banda dada de um raster ou cobertura raster. Se nenhuma banda for especificada, o padrão é usar a banda 1. Se exclude_nodata_value for verdade, contará somente pixeis que são diferentes ao valor NODATA.</li><li class="listitem"><a class="link" href="#RT_ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a> - Retorna verdade se nenhum ponto do rastA estiver de fora do rastB.</li><li class="listitem"><a class="link" href="#RT_ST_Covers" title="ST_Covers">ST_Covers</a> - Retorna verdade se nenhum ponto do rastB estiver de fora do rastA.</li><li class="listitem"><a class="link" href="#RT_ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a> - Retorna verdade se os rasters rastA e rastB estiverem completamente dentro da distância especificada de cada um.</li><li class="listitem"><a class="link" href="#RT_ST_DWithin" title="ST_DWithin">ST_DWithin</a> - Retorna verdade se os rasters rastA e rastB estiverem dentro da distância especificada de cada um.</li><li class="listitem"><a class="link" href="#RT_ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a> - Retorna verdade se raster rastA não intersectar espacialmente com o rastB.</li><li class="listitem"><a class="link" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a> - Retorna um conjunto de linhas geomval (geom,val), de uma dada banda raster. Se nenhum número de banda for especificado, o número de banda torna-se 1.</li><li class="listitem"><a class="link" href="#RT_ST_DumpValues" title="ST_DumpValues">ST_DumpValues</a> - Obtenha os valores da banda específica como um arranjo 2-dimensional.</li><li class="listitem"><a class="link" href="#RT_ST_Envelope" title="ST_Envelope">ST_Envelope</a> - Retorna a representação de polígono da extensão do raster.</li><li class="listitem"><a class="link" href="#RT_ST_FromGDALRaster" title="ST_FromGDALRaster">ST_FromGDALRaster</a> - Retorna um raster de um arquivo raster GDAL suportado.</li><li class="listitem"><a class="link" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a> - Retorna os metadados georreferenciados no formato GDAL ou ESRI como é comumente visto em um arquivo mundo. O padrão é GDAL.</li><li class="listitem"><a class="link" href="#RT_ST_Grayscale" title="ST_Grayscale">ST_Grayscale</a> - Creates a new one-8BUI band raster from the source raster and specified bands representing Red, Green and Blue</li><li class="listitem"><a class="link" href="#RT_ST_HasNoBand" title="ST_HasNoBand">ST_HasNoBand</a> - Retorna verdade se não existirem bandas com números dados. Se nenhum número de banda for especificado, então assume-se a banda 1.</li><li class="listitem"><a class="link" href="#RT_ST_Height" title="ST_Height">ST_Height</a> - Retorna a altura do raster em pixeis.</li><li class="listitem"><a class="link" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a> - Retorna a iluminação hipotética de uma banda raster de elevação usando as entradas de azimute, altitude, claridade e escala fornecidas.</li><li class="listitem"><a class="link" href="#RT_ST_Histogram" title="ST_Histogram">ST_Histogram</a> - Retorna um conjunto de registros que resumem um raster ou distribuição de dados de cobertura raster intervalos bin separados. O número de bins é auto calculado.</li><li class="listitem"><a class="link" href="#RT_ST_InterpolateRaster" title="ST_InterpolateRaster">ST_InterpolateRaster</a> - Interpolates a gridded surface based on an input set of 3-d points, using the X- and Y-values to position the points on the grid and the Z-value of the points as the surface elevation.</li><li class="listitem"><a class="link" href="#RT_ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Retorna uma raster ou conjunto de pares de valores de pixeis de geometria representando a porção dividida de dois rasters ou a interseção geométrica de uma vetorização do raster e uma geometria.</li><li class="listitem"><a class="link" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Retorna verdade se o raster rastA intersectar espacialmente com o raster rastB.</li><li class="listitem"><a class="link" href="#RT_ST_IsEmpty" title="ST_IsEmpty">ST_IsEmpty</a> - Retorna verdadeiro se o raster estiver vazio (largura = 0 e altura = 0). Senão, retorna falso.</li><li class="listitem"><a class="link" href="#RT_ST_MakeEmptyCoverage" title="ST_MakeEmptyCoverage">ST_MakeEmptyCoverage</a> - Cover georeferenced area with a grid of empty raster tiles.</li><li class="listitem"><a class="link" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a> - Retorna um raster vazio (sem bandas) das dimensões dadas (width &amp; height), o X e Y do superior esquerdo, tamanho de pixel e rotação (scalex, scaley, skewx &amp; skewy) e sistema de referência (srid). Se um raster passar, retorna um novo raster com o mesmo tamanho, alinhamento e SRID. Se o srid é deixado de fora, a referência espacial se torna desconhecida (0).</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a> - Versão função retorno - Retorna um raster de uma banda dado um ou mais rasters de entrada, os índices e uma função retorno de um usuário específico.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraExpr" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a> - Versão de banda raster 1: Cria uma nova banda raster formada pela aplicação de ma operação algébrica válida do PostgreSQL na banda raster de entrada de um tipo de pixel fornecido. A banda 1 é assumida se nenhuma banda for especificada.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a> - Versão de banda raster 2: Cria uma banda raster nova formada pela aplicação de uma operação algébrica válida PostgreSQL nas duas bandas raster de entrada e do tipo de pixel fornecido. A banda 1 de cada raster é assumida se nenhum número de bandas for especificado. O raster resultante será alinhado (escala, inclinação e cantos de pixel) na grade definida pelo primeiro raster e tem sua extensão definida pelo parâmetro "extenttype". O valores para "extenttype" pode ser: INTERSEÇÃO, UNIÃO, PRIMEIRO, SEGUNDO.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> - Versão de banda raster 1: Cria uma nova banda raster formada pela aplicação de uma função válida do PostgreSQL na banda raster de entrada de um tipo de pixel fornecido. A banda 1 é assumida se nenhuma banda for especificada.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraFct2" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> - Versão de banda 2 - Cria uma nova banda raster um formada pela aplicação de uma função PostgreSQL na 2 entrada de bandas raster e do tipo de pixel fornecido. A banda 1 é assumida se nenhuma banda for especificada. Tipo de extensão torna-se INTERSEÇÃO se não especificada.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> - Versão 1-banda: o vizinho mais próximo no mapa algébrico usando a função de usuário definido PostgreSQL. Retorna um raster cujos valores são o resultado de uma função usuário PLPGSQL envolvendo uma vizinhança de valores da banda raster de entrada.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebra_expr" title="ST_MapAlgebra (expression version)">ST_MapAlgebra (expression version)</a> - Versão expressão - Retorna um raster de uma banda dado um ou mais rasters de entrada, índices de banda e uma ou mais expressões SQL de usuários específicos.</li><li class="listitem"><a class="link" href="#RT_ST_MemSize" title="ST_MemSize">ST_MemSize</a> - Retorna a quantidade de espaço (em bytes) que o raster pega.</li><li class="listitem"><a class="link" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a> - Retorna metadados básicos sobre um objeto raster como um tanho pixel, rotação (skew), esquerda superior, inferior etc.</li><li class="listitem"><a class="link" href="#RT_ST_MinConvexHull" title="ST_MinConvexHull">ST_MinConvexHull</a> - Retorna a geometria de casco convexo do raster excluindo os pixeis SEM DADOS.</li><li class="listitem"><a class="link" href="#RT_ST_NearestValue" title="ST_NearestValue">ST_NearestValue</a> - Retorna o valor não-NODATA mais próximo de um dado pixel de banda especificado por uma colunax e linhay ou um ponto geométrico expressado no mesmo sistema de coordenada referência do raster.</li><li class="listitem"><a class="link" href="#RT_ST_Neighborhood" title="ST_Neighborhood">ST_Neighborhood</a> - Retorna um arranjo de precisão 2-D dobrada dos valores não-NODATA em torno da banda de pixel especificada ou por uma colunaX e linhaY ou um ponto geométrico expressado no mesmo sistema de coordenada de referência especial como o raster.</li><li class="listitem"><a class="link" href="#RT_ST_NotSameAlignmentReason" title="ST_NotSameAlignmentReason">ST_NotSameAlignmentReason</a> - Retorna a declaração de texto se os rasters estiverem alinhados e se não tiverem, uma razão do porquê.</li><li class="listitem"><a class="link" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a> - Retorna o número de bandas no objeto raster.</li><li class="listitem"><a class="link" href="#RT_ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a> - Retorna verdade se o raster rastA e rastB se intersectam, mas um deles não contém o outro completamente.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a> - Retorna o centroide (ponto) da área representada por um pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a> - Retorna o centroide (ponto geométrico) para cada pixel de uma banda raster junto com o valor, as coordenas raster X e Y de cada pixel. O ponto é o centroide da área representada por um pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a> - Retorna um ponto geométrico do canto superior esquerdo do pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a> - Retorna um ponto geométrico para cada pixel de uma banda raster junto com o valor, as coordenas raster X e Y de cada pixel. As coordenadas do ponto são do ponto esquerdo superior do pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a> - Retorna o polígono que limita o pixel para uma linha e coluna específicas.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a> - Retorna o polígono que limita cada pixel de uma banda raster ao longo do valor, as coordenadas raster X e Y de cada pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelHeight" title="ST_PixelHeight">ST_PixelHeight</a> - Retorna a altura do pixel em unidades geométricas do sistema de referência espacial.</li><li class="listitem"><a class="link" href="#RT_ST_PixelOfValue" title="ST_PixelOfValue">ST_PixelOfValue</a> - Obtenha as coordenadas colunax, linhay do pixel cujos valores são iguais ao valor de pesquisa.</li><li class="listitem"><a class="link" href="#RT_ST_PixelWidth" title="ST_PixelWidth">ST_PixelWidth</a> - Retorna a largura do pixel em unidades geométricas do sistema de referência espacial.</li><li class="listitem"><a class="link" href="#RT_ST_Polygon" title="ST_Polygon">ST_Polygon</a> - Retorna um multipolígono formado pela união de pixeis que têm um valor que não é um valor sem dados. Se um número de banda for especificado, usa-se 1.</li><li class="listitem"><a class="link" href="#RT_ST_Quantile" title="ST_Quantile">ST_Quantile</a> - Calcula quantiles para um raster ou cobertura de tabela raster no contexto da amostra ou população. Assim, um valor poderia ser examinado para estar na porcentagem 25%, 50%, 75% do raster.</li><li class="listitem"><a class="link" href="#RT_ST_RastFromHexWKB" title="ST_RastFromHexWKB">ST_RastFromHexWKB</a> - Return a raster value from a Hex representation of Well-Known Binary (WKB) raster.</li><li class="listitem"><a class="link" href="#RT_ST_RastFromWKB" title="ST_RastFromWKB">ST_RastFromWKB</a> - Return a raster value from a Well-Known Binary (WKB) raster.</li><li class="listitem"><a class="link" href="#RT_ST_RasterToWorldCoord" title="ST_RasterToWorldCoord">ST_RasterToWorldCoord</a> - Retorna o canto superior esquerdo do raster como X e Y geométricos (longitude e latitude) dada a coluna e linha. Coluna e linha começam em 1.</li><li class="listitem"><a class="link" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a> - Retorna a coordenada geométrica X superior esquerda de um raster, coluna ou linha. A numeração das colunas e linhas começam no 1.</li><li class="listitem"><a class="link" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a> - Retorna a coordenada geométrica Y superior esquerda de um raster, coluna e linha. A numeração das colunas e linhas começam no 1.</li><li class="listitem"><a class="link" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a> - Cria um novo raster composto por tipos de banda reclassificados do original. A nband pode ser alterada. Se nenhuma nband for especificada, usa-se a 1. Todas as outras bandas são retornadas inalteradas. Use caso: converta uma banda 16BUI para 8BUI e então adiante para uma renderização mais simples como formatos visíveis.</li><li class="listitem"><a class="link" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a> - Resample um raster usando um algorítimo específico, novas dimensões, um canto aleatório da grade e um conjunto de rasters georreferenciando atributos definidos ou emprestados de outro raster.</li><li class="listitem"><a class="link" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a> - Resample a raster by adjusting only its scale (or pixel size). New pixel values are computed using the NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline, Lanczos, Max or Min resampling algorithm. Default is NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_Resize" title="ST_Resize">ST_Resize</a> - Redimensiona largura/altura novas para um raster</li><li class="listitem"><a class="link" href="#RT_ST_Reskew" title="ST_Reskew">ST_Reskew</a> - Resample um raster ajustando somente sua inclinação (ou tamanho de pixel). Novos valores de pixel são calculados usando o algorítimo NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline ou Lanczos. O padrão é NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_Rotation" title="ST_Rotation">ST_Rotation</a> - Retorna a rotação do raster em radianos.</li><li class="listitem"><a class="link" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a> - Retorna um raster com a "robustez" calculada de um DEM.</li><li class="listitem"><a class="link" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a> - Retorna o identificador de referência espacial como definido na tabela spatial_ref_sys.</li><li class="listitem"><a class="link" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a> - Retorna verdade se os rasters têm a mesma inclinação, escala, referência espacial, e deslocamento (pixeis podem ser colocados na mesma grade sem cortar eles) e falso se eles não notificarem problemas detalhados.</li><li class="listitem"><a class="link" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a> - Retorna o componente X da largura do pixel em unidades do sistema de referência coordenadas.</li><li class="listitem"><a class="link" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a> - Retorna o componente Y da altura do pixel em unidades do sistema de referência coordenadas.</li><li class="listitem"><a class="link" href="#RT_ST_SetBandIndex" title="ST_SetBandIndex">ST_SetBandIndex</a> - Update the external band number of an out-db band</li><li class="listitem"><a class="link" href="#RT_ST_SetBandIsNoData" title="ST_SetBandIsNoData">ST_SetBandIsNoData</a> - Coloca a bandeira isnodata da banda como VERDADE.</li><li class="listitem"><a class="link" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a> - Coloca o valor da banda que não representa nenhum dado. A banda 1 é assumida se nenhuma banda for especificada. Para marcar uma banda como tendo nenhum valor nodata, coloca ele = NULL.</li><li class="listitem"><a class="link" href="#RT_ST_SetBandPath" title="ST_SetBandPath">ST_SetBandPath</a> - Update the external path and band number of an out-db band</li><li class="listitem"><a class="link" href="#RT_ST_SetGeoReference" title="ST_SetGeoReference">ST_SetGeoReference</a> - Coloque os parâmetros Georeference 6 em uma única chamada. Os números deverão ser separadospor espaço branco. Aceita entrar no formato GDAL ou ESRI. O padrão é GDAL.</li><li class="listitem"><a class="link" href="#RT_ST_SetM" title="ST_SetM">ST_SetM</a> - Returns a geometry with the same X/Y coordinates as the input geometry, and values from the raster copied into the M dimension using the requested resample algorithm.</li><li class="listitem"><a class="link" href="#RT_ST_SetRotation" title="ST_SetRotation">ST_SetRotation</a> - Põe a rotação do raster em radianos.</li><li class="listitem"><a class="link" href="#RT_ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> - Coloca o SRID de um raster em um srid inteiro específico definido na tabela spatial_ref_sys.</li><li class="listitem"><a class="link" href="#RT_ST_SetScale" title="ST_SetScale">ST_SetScale</a> - Coloca os tamanhos X e Y dos pixeis em unidades do sistema referencial de coordenadas. Número unidades/pixel largura/altura.</li><li class="listitem"><a class="link" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a> - Coloca as georreferências X e Y distorcidas (ou parâmetro de rotação). Se somente um passar, coloca o X e o Y no mesmo valor.</li><li class="listitem"><a class="link" href="#RT_ST_SetUpperLeft" title="ST_SetUpperLeft">ST_SetUpperLeft</a> - Sets the value of the upper left corner of the pixel of the raster to projected X and Y coordinates.</li><li class="listitem"><a class="link" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a> - Retorna o raster modificado resultante do valor de uma banda em uma dada colunax, linhay pixel ou os pixeis que intersectam uma geometria específica. Os números de banda começam no 1 e são assumidos como 1 se não estiverem especificados.</li><li class="listitem"><a class="link" href="#RT_ST_SetValues" title="ST_SetValues">ST_SetValues</a> - Retorna o raster modificado resultante dos valores de uma dada banda.</li><li class="listitem"><a class="link" href="#RT_ST_SetZ" title="ST_SetZ">ST_SetZ</a> - Returns a geometry with the same X/Y coordinates as the input geometry, and values from the raster copied into the Z dimension using the requested resample algorithm.</li><li class="listitem"><a class="link" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a> - Retorna o desvio X georreferência (ou parâmetro e rotação).</li><li class="listitem"><a class="link" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a> - Retorna o desvio Y georreferência (ou parâmetro e rotação).</li><li class="listitem"><a class="link" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a> - Retorna o declive (em graus) de uma banda raster de elevação. Útil para analisar terrenos.</li><li class="listitem"><a class="link" href="#RT_ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a> - Resample um raster encaixando-o em uma grade. Novos valores de pixel são calculados usando o algorítimo NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline ou Lanczos. O padrão é NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_Summary" title="ST_Summary">ST_Summary</a> - Retorna um texto resumo dos conteúdos do raster.</li><li class="listitem"><a class="link" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a> - Retorna as estatísticas resumidas consistindo de count, sum, mean, stddev, min, max para uma dada banda raster de um raster ou cobertura raster. A banda 1 é assumida se nenhuma banda for especificada.</li><li class="listitem"><a class="link" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a> - Agregado. Retorna as estatísticas resumidas consistindo de count, sum, mean, stddev, min, max para uma dada banda raster de um conjunto de rasters. A banda 1 é assumida se nenhuma banda for especificada.</li><li class="listitem"><a class="link" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a> - Retorna um raster com o índice de posição topográfico calculado.</li><li class="listitem"><a class="link" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a> - Retorna um raster com o índice de aspereza do terreno calculado.</li><li class="listitem"><a class="link" href="#RT_ST_Tile" title="ST_Tile">ST_Tile</a> - Retorna um conjunto de rasters resultante de uma divisão do raster de entrada baseado nas dimensões desejadas nos rasters de saída.</li><li class="listitem"><a class="link" href="#RT_ST_Touches" title="ST_Touches">ST_Touches</a> - Retorna verdade se o raster rastA e rastB têm pelo menos um ponto em comum, mas seus interiores não se intersectarem.</li><li class="listitem"><a class="link" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a> - Reprojeta um raster em um sistema de referência espacial conhecido para outro usando um algorítimo resampling especificado. As opções são NearestNeighbor, Bilinear, Cubic, CubicSpline, Lanczos com o padrão sendo NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a> - Retorna a união de um conjunto de tiles raster em um único raster composto de 1 ou mais bandas.</li><li class="listitem"><a class="link" href="#RT_ST_UpperLeftX" title="ST_UpperLeftX">ST_UpperLeftX</a> - Retorna a coordenada X superior esquerda na ref. espacial projetada.</li><li class="listitem"><a class="link" href="#RT_ST_UpperLeftY" title="ST_UpperLeftY">ST_UpperLeftY</a> - Retorna a coordenada Y superior esquerda na ref. espacial projetada.</li><li class="listitem"><a class="link" href="#RT_ST_Value" title="ST_Value">ST_Value</a> - Retorna o valor da banda dada com a colunax, linhay pixel ou em um ponto específico. Os números de banda começam em 1 e assumem-se 1 se não especificados. Se exclude_nodata_value for falso, então todos os pixeis, inclusive os nodata, são considerados para intersectar e retornar valor. Se exclude_nodata_value não passar então lê dos metadados do raster.</li><li class="listitem"><a class="link" href="#RT_ST_ValueCount" title="ST_ValueCount">ST_ValueCount</a> - Retorna o conjunto de registros contendo uma banda pixel de valor e conta do número de pixeis em uma dada banda de um raster (ou uma cobertura raster) que tem um dado conjunto de valores. Usa-se a banda 1 se nenhuma for especificada. Por padrão pixeis de valor nodata não são contados. Todos os outros valores no pixel são saída e os valores de pixeis são arredondados para o inteiro mais próximo.</li><li class="listitem"><a class="link" href="#RT_ST_Width" title="ST_Width">ST_Width</a> - Retorna a largura do raster em pixeis.</li><li class="listitem"><a class="link" href="#RT_ST_Within" title="ST_Within">ST_Within</a> - Retorna verdade se nenhum ponto do raster rastA estiver no exterior do raster rastB e pelo menos um ponto do interior do rastA estiver no interior do rastB.</li><li class="listitem"><a class="link" href="#RT_ST_WorldToRasterCoord" title="ST_WorldToRasterCoord">ST_WorldToRasterCoord</a> - Retorna o canto superior esquerdo como coluna e linha dados os X e Y geométricos (longitude e latitude) ou um ponto expressado na coordenada do sistema de referência espacial do raster.</li><li class="listitem"><a class="link" href="#RT_ST_WorldToRasterCoordX" title="ST_WorldToRasterCoordX">ST_WorldToRasterCoordX</a> - Retorna a coluna no raster do ponto (pt) ou uma coordenada X e Y (xw, yw) representada no sistema de referência espacial mundial de raster.</li><li class="listitem"><a class="link" href="#RT_ST_WorldToRasterCoordY" title="ST_WorldToRasterCoordY">ST_WorldToRasterCoordY</a> - Retorna a linha no raster do ponto (pt) ou uma coordenada X e Y (xw, yw) representada no sistema de referência espacial global de raster.</li><li class="listitem"><a class="link" href="#RT_UpdateRasterSRID" title="UpdateRasterSRID">UpdateRasterSRID</a> - Altera o SRID de todos os rasters na coluna e tabela do usuário especificado.</li></ul></div></section><section class="section" id="PostGIS_Geometry_DumpFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.6. PostGIS Geometry / Geography / Raster Dump Functions</h2></div></div></div><p>The functions given below are PostGIS functions that take as input or return as output a set of or single <a class="link" href="#geometry_dump" title="geometry_dump">geometry_dump</a> or <a class="link" href="#geomval" title="geomval">geomval</a> data type object.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a> - Retorna um conjunto de linhas geomval (geom,val), de uma dada banda raster. Se nenhum número de banda for especificado, o número de banda torna-se 1.</li><li class="listitem"><a class="link" href="#RT_ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Retorna uma raster ou conjunto de pares de valores de pixeis de geometria representando a porção dividida de dois rasters ou a interseção geométrica de uma vetorização do raster e uma geometria.</li><li class="listitem"><a class="link" href="#ST_Dump" title="ST_Dump">ST_Dump</a> - Returns a set of geometry_dump rows for the components of a geometry.</li><li class="listitem"><a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a> - Retorna um texto resumo dos conteúdos da geometria.</li><li class="listitem"><a class="link" href="#ST_DumpRings" title="ST_DumpRings">ST_DumpRings</a> - Returns a set of geometry_dump rows for the exterior and interior rings of a Polygon.</li><li class="listitem"><a class="link" href="#ST_DumpSegments" title="ST_DumpSegments">ST_DumpSegments</a> - Retorna um texto resumo dos conteúdos da geometria.</li></ul></div></section><section class="section" id="PostGIS_BoxFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.7. PostGIS Box Functions</h2></div></div></div><p>The functions given below are PostGIS functions that take as input or return as output the box* family of PostGIS spatial types. The box family of types consists of <a class="link" href="#box2d_type" title="box2d">box2d</a>, and <a class="link" href="#box3d_type" title="box3d">box3d</a></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#Box2D" title="Box2D">Box2D</a> - Returns a BOX2D representing the 2D extent of a geometry.</li><li class="listitem"><a class="link" href="#Box3D" title="Box3D">Box3D</a> - Returns a BOX3D representing the 3D extent of a geometry.</li><li class="listitem"><a class="link" href="#RT_Box3D" title="Box3D">Box3D</a> - Retorna a representação da caixa 3d da caixa encerrada do raster.</li><li class="listitem"><a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a> - Aggregate function that returns the 3D bounding box of geometries.</li><li class="listitem"><a class="link" href="#ST_3DMakeBox" title="ST_3DMakeBox">ST_3DMakeBox</a> - Creates a BOX3D defined by two 3D point geometries.</li><li class="listitem"><a class="link" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a> - Transforms a geometry into the coordinate space of a MVT tile.</li><li class="listitem"><a class="link" href="#ST_AsTWKB" title="ST_AsTWKB">ST_AsTWKB</a> - Retorna a geometria como TWKB, também conhecido como "Tiny Well-Known Binary"</li><li class="listitem"><a class="link" href="#ST_Box2dFromGeoHash" title="ST_Box2dFromGeoHash">ST_Box2dFromGeoHash</a> - Retorna uma CAIXA2D de uma string GeoHash.</li><li class="listitem"><a class="link" href="#ST_ClipByBox2D" title="ST_ClipByBox2D">ST_ClipByBox2D</a> - Computes the portion of a geometry falling within a rectangle.</li><li class="listitem"><a class="link" href="#ST_EstimatedExtent" title="ST_EstimatedExtent">ST_EstimatedExtent</a> - Returns the estimated extent of a spatial table.</li><li class="listitem"><a class="link" href="#ST_Expand" title="ST_Expand">ST_Expand</a> - Returns a bounding box expanded from another bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_Extent" title="ST_Extent">ST_Extent</a> - Aggregate function that returns the bounding box of geometries.</li><li class="listitem"><a class="link" href="#ST_MakeBox2D" title="ST_MakeBox2D">ST_MakeBox2D</a> - Creates a BOX2D defined by two 2D point geometries.</li><li class="listitem"><a class="link" href="#ST_RemoveIrrelevantPointsForView" title="ST_RemoveIrrelevantPointsForView">ST_RemoveIrrelevantPointsForView</a> - Removes points that are irrelevant for rendering a specific rectangluar view of a geometry.</li><li class="listitem"><a class="link" href="#ST_XMax" title="ST_XMax">ST_XMax</a> - Returns the X maxima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_XMin" title="ST_XMin">ST_XMin</a> - Returns the X minima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_YMax" title="ST_YMax">ST_YMax</a> - Returns the Y maxima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_YMin" title="ST_YMin">ST_YMin</a> - Returns the Y minima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a> - Returns the Z maxima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a> - Returns the Z minima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#TP_RemoveUnusedPrimitives" title="RemoveUnusedPrimitives">RemoveUnusedPrimitives</a> - Removes topology primitives which not needed to define existing TopoGeometry objects.</li><li class="listitem"><a class="link" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a> - Returns a set of validatetopology_returntype objects detailing issues with topology.</li><li class="listitem"><a class="link" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a> - Returns TRUE if a 2D float precision bounding box (BOX2DF) contains another 2D float precision bounding box (BOX2DF).</li><li class="listitem"><a class="link" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a> - Returns TRUE if a 2D float precision bounding box (BOX2DF) contains a geometry's 2D bonding box.</li><li class="listitem"><a class="link" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a> - Returns TRUE if a geometry's 2D bonding box contains a 2D float precision bounding box (GIDX).</li><li class="listitem"><a class="link" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a> - Returns TRUE if a 2D float precision bounding box (BOX2DF) is contained into another 2D float precision bounding box.</li><li class="listitem"><a class="link" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a> - Returns TRUE if a 2D float precision bounding box (BOX2DF) is contained into a geometry's 2D bounding box.</li><li class="listitem"><a class="link" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a> - Returns TRUE if a geometry's 2D bounding box is contained into a 2D float precision bounding box (BOX2DF).</li><li class="listitem"><a class="link" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a> - Returns TRUE if two 2D float precision bounding boxes (BOX2DF) intersect each other.</li><li class="listitem"><a class="link" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a> - Returns TRUE if a 2D float precision bounding box (BOX2DF) intersects a geometry's (cached) 2D bounding box.</li><li class="listitem"><a class="link" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a> - Returns TRUE if a geometry's (cached) 2D bounding box intersects a 2D float precision bounding box (BOX2DF).</li></ul></div></section><section class="section" id="PostGIS_3D_Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.8. PostGIS Functions that support 3D</h2></div></div></div><p>The functions given below are PostGIS functions that do not throw away the Z-Index.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a> - Remove uma coluna geometria de uma spatial table.</li><li class="listitem"><a class="link" href="#Box3D" title="Box3D">Box3D</a> - Returns a BOX3D representing the 3D extent of a geometry.</li><li class="listitem"><a class="link" href="#CG_3DArea" title="CG_3DArea">CG_3DArea</a> - Computa a área de geometrias de superfície 3D. Irá retornar 0 para sólidos.</li><li class="listitem"><a class="link" href="#CG_3DConvexHull" title="CG_3DConvexHull">CG_3DConvexHull</a> - Computa o eixo mediano aproximado de uma geometria territorial.</li><li class="listitem"><a class="link" href="#CG_3DDifference" title="CG_3DDifference">CG_3DDifference</a> - Representar diferença 3D</li><li class="listitem"><a class="link" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a> - Representar intersecção 3D</li><li class="listitem"><a class="link" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a> - Perform 3D union using postgis_sfcgal.</li><li class="listitem"><a class="link" href="#CG_ApproximateMedialAxis" title="CG_ApproximateMedialAxis">CG_ApproximateMedialAxis</a> - Computa o eixo mediano aproximado de uma geometria territorial.</li><li class="listitem"><a class="link" href="#CG_ConstrainedDelaunayTriangles" title="CG_ConstrainedDelaunayTriangles">CG_ConstrainedDelaunayTriangles</a> - Return a constrained Delaunay triangulation around the given input geometry.</li><li class="listitem"><a class="link" href="#CG_Extrude" title="CG_Extrude">CG_Extrude</a> - Extrude uma superfície a um volume relacionado</li><li class="listitem"><a class="link" href="#CG_ForceLHR" title="CG_ForceLHR">CG_ForceLHR</a> - Orientação força LHR</li><li class="listitem"><a class="link" href="#CG_IsPlanar" title="CG_IsPlanar">CG_IsPlanar</a> - Verifique se a superfície é ou não planar</li><li class="listitem"><a class="link" href="#CG_IsSolid" title="CG_IsSolid">CG_IsSolid</a> - teste se a geometria é um sólido. Nenhuma verificação de validade é representada.</li><li class="listitem"><a class="link" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a> - Molde a geometria para um sólido. Nenhuma verificação é apresentada. Para obter um sólido válido, a geometria de entrada deve ser uma superfície poliédrica fechada ou um TIN fechado.</li><li class="listitem"><a class="link" href="#CG_Orientation" title="CG_Orientation">CG_Orientation</a> - Determine orientação da superfície</li><li class="listitem"><a class="link" href="#CG_StraightSkeleton" title="CG_StraightSkeleton">CG_StraightSkeleton</a> - Calcule um esqueleto em linha reta de uma geometria</li><li class="listitem"><a class="link" href="#CG_Tesselate" title="CG_Tesselate">CG_Tesselate</a> - Representa superfície tesselação de um polígono ou superfície poliédrica e retorna como uma TIN ou coleção de TINS</li><li class="listitem"><a class="link" href="#CG_Visibility" title="CG_Visibility">CG_Visibility</a> - Compute a visibility polygon from a point or a segment in a polygon geometry</li><li class="listitem"><a class="link" href="#CG_Volume" title="CG_Volume">CG_Volume</a> - Computa o volume de um sólido 3D. Se aplicado a geometrias com superfícies (mesmo fechadas), irão retornar 0.</li><li class="listitem"><a class="link" href="#DropGeometryColumn" title="DropGeometryColumn">DropGeometryColumn</a> - Remove uma coluna geometria de uma spatial table.</li><li class="listitem"><a class="link" href="#GeometryType" title="GeometryType">GeometryType</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a> - Computa a área de geometrias de superfície 3D. Irá retornar 0 para sólidos.</li><li class="listitem"><a class="link" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a> - Retorna o ponto 3 dimensional em g1 que é o mais próximo de g2. Este é o primeiro ponto da linha mais curta em três dimensões.</li><li class="listitem"><a class="link" href="#ST_3DConvexHull" title="ST_3DConvexHull">ST_3DConvexHull</a> - Computa o eixo mediano aproximado de uma geometria territorial.</li><li class="listitem"><a class="link" href="#ST_3DDFullyWithin" title="ST_3DDFullyWithin">ST_3DDFullyWithin</a> - Tests if two 3D geometries are entirely within a given 3D distance</li><li class="listitem"><a class="link" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a> - Tests if two 3D geometries are within a given 3D distance</li><li class="listitem"><a class="link" href="#ST_3DDifference" title="ST_3DDifference">ST_3DDifference</a> - Representar diferença 3D</li><li class="listitem"><a class="link" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a> - Para tipo geometria, retorna a menor distância cartesiana 3-dimensional (baseado no sistema de referência espacial) entre duas geometrias em unidades projetadas.</li><li class="listitem"><a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a> - Aggregate function that returns the 3D bounding box of geometries.</li><li class="listitem"><a class="link" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a> - Representar intersecção 3D</li><li class="listitem"><a class="link" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a> - Tests if two geometries spatially intersect in 3D - only for points, linestrings, polygons, polyhedral surface (area)</li><li class="listitem"><a class="link" href="#ST_3DLength" title="ST_3DLength">ST_3DLength</a> - Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_3DLineInterpolatePoint" title="ST_3DLineInterpolatePoint">ST_3DLineInterpolatePoint</a> - Returns a point interpolated along a 3D line at a fractional location.</li><li class="listitem"><a class="link" href="#ST_3DLongestLine" title="ST_3DLongestLine">ST_3DLongestLine</a> - Retorna a linha 3-dimensional mais longa entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a> - Para tipo de geometria retorna a maior distância 3-dimensional cartesiana (baseada na referência espacial) entre duas geometrias em unidade projetadas.</li><li class="listitem"><a class="link" href="#ST_3DPerimeter" title="ST_3DPerimeter">ST_3DPerimeter</a> - Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a> - Retorna a menor linha 3-dimensional entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a> - Perform 3D union.</li><li class="listitem"><a class="link" href="#ST_AddMeasure" title="ST_AddMeasure">ST_AddMeasure</a> - Interpolates measures along a linear geometry.</li><li class="listitem"><a class="link" href="#ST_AddPoint" title="ST_AddPoint">ST_AddPoint</a> - Adicione um ponto para uma LineString.</li><li class="listitem"><a class="link" href="#ST_Affine" title="ST_Affine">ST_Affine</a> - Apply a 3D affine transformation to a geometry.</li><li class="listitem"><a class="link" href="#ST_ApproximateMedialAxis" title="ST_ApproximateMedialAxis">ST_ApproximateMedialAxis</a> - Computa o eixo mediano aproximado de uma geometria territorial.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Return the OGC/ISO Well-Known Binary (WKB) representation of the geometry/geography without SRID meta data.</li><li class="listitem"><a class="link" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a> - Return the Extended Well-Known Binary (EWKB) representation of the geometry with SRID meta data.</li><li class="listitem"><a class="link" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a> - Retorna a representação de texto bem conhecida (WKT) da geometria com os meta dados SRID.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Retorna a geometria como uma versão GML com 2 ou 3 elementos.</li><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Return a geometry or feature in GeoJSON format.</li><li class="listitem"><a class="link" href="#ST_AsHEXEWKB" title="ST_AsHEXEWKB">ST_AsHEXEWKB</a> - Retorna uma geometria no formato HEXEWKB (como texto) usando little-endian (NDR) ou big-endian (XDR) encoding.</li><li class="listitem"><a class="link" href="#ST_AsKML" title="ST_AsKML">ST_AsKML</a> - Retorna a geometria como uma versão GML com 2 ou 3 elementos.</li><li class="listitem"><a class="link" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a> - Retorna uma geometria em X3D nó xml formato do elemento: ISO-IEC-19776-1.2-X3DEncodings-XML</li><li class="listitem"><a class="link" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a> - Retorna o encerramento da borda combinatória dessa geometria.</li><li class="listitem"><a class="link" href="#ST_BoundingDiagonal" title="ST_BoundingDiagonal">ST_BoundingDiagonal</a> - Retorna a diagonal da geometria fornecida da caixa limitada.</li><li class="listitem"><a class="link" href="#ST_CPAWithin" title="ST_CPAWithin">ST_CPAWithin</a> - Tests if the closest point of approach of two trajectories is within the specified distance.</li><li class="listitem"><a class="link" href="#ST_ChaikinSmoothing" title="ST_ChaikinSmoothing">ST_ChaikinSmoothing</a> - Returns a smoothed version of a geometry, using the Chaikin algorithm</li><li class="listitem"><a class="link" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a> - Returns a measure at the closest point of approach of two trajectories.</li><li class="listitem"><a class="link" href="#ST_Collect" title="ST_Collect">ST_Collect</a> - Creates a GeometryCollection or Multi* geometry from a set of geometries.</li><li class="listitem"><a class="link" href="#ST_ConstrainedDelaunayTriangles" title="ST_ConstrainedDelaunayTriangles">ST_ConstrainedDelaunayTriangles</a> - Return a constrained Delaunay triangulation around the given input geometry.</li><li class="listitem"><a class="link" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a> - Computes the convex hull of a geometry.</li><li class="listitem"><a class="link" href="#ST_CoordDim" title="ST_CoordDim">ST_CoordDim</a> - Retorna a dimensão da coordenada do valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_CurveN" title="ST_CurveN">ST_CurveN</a> - Returns the Nth component curve geometry of a CompoundCurve.</li><li class="listitem"><a class="link" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a> - Converts a geometry containing curves to a linear geometry.</li><li class="listitem"><a class="link" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a> - Returns the Delaunay triangulation of the vertices of a geometry.</li><li class="listitem"><a class="link" href="#ST_Difference" title="ST_Difference">ST_Difference</a> - Computes a geometry representing the part of geometry A that does not intersect geometry B.</li><li class="listitem"><a class="link" href="#ST_DistanceCPA" title="ST_DistanceCPA">ST_DistanceCPA</a> - Returns the distance between the closest point of approach of two trajectories.</li><li class="listitem"><a class="link" href="#ST_Dump" title="ST_Dump">ST_Dump</a> - Returns a set of geometry_dump rows for the components of a geometry.</li><li class="listitem"><a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a> - Retorna um texto resumo dos conteúdos da geometria.</li><li class="listitem"><a class="link" href="#ST_DumpRings" title="ST_DumpRings">ST_DumpRings</a> - Returns a set of geometry_dump rows for the exterior and interior rings of a Polygon.</li><li class="listitem"><a class="link" href="#ST_DumpSegments" title="ST_DumpSegments">ST_DumpSegments</a> - Retorna um texto resumo dos conteúdos da geometria.</li><li class="listitem"><a class="link" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a> - Retorna o número de pontos em um valor ST_LineString ou ST_CircularString.</li><li class="listitem"><a class="link" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a> - Retorna o número de anéis interiores de um polígono.</li><li class="listitem"><a class="link" href="#ST_Extrude" title="ST_Extrude">ST_Extrude</a> - Extrude uma superfície a um volume relacionado</li><li class="listitem"><a class="link" href="#ST_FlipCoordinates" title="ST_FlipCoordinates">ST_FlipCoordinates</a> - Returns a version of a geometry with X and Y axis flipped.</li><li class="listitem"><a class="link" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a> - Força a geometria para o modo de 2 dimensões.</li><li class="listitem"><a class="link" href="#ST_ForceCurve" title="ST_ForceCurve">ST_ForceCurve</a> - Converte para cima uma geometria para seu tipo curvo, se aplicável.</li><li class="listitem"><a class="link" href="#ST_ForceLHR" title="ST_ForceLHR">ST_ForceLHR</a> - Orientação força LHR</li><li class="listitem"><a class="link" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a> - Orients all exterior rings counter-clockwise and all interior rings clockwise.</li><li class="listitem"><a class="link" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a> - Orients all exterior rings clockwise and all interior rings counter-clockwise.</li><li class="listitem"><a class="link" href="#ST_ForceRHR" title="ST_ForceRHR">ST_ForceRHR</a> - Força a orientação dos vértices em um polígono a seguir a regra da mão direita.</li><li class="listitem"><a class="link" href="#ST_ForceSFS" title="ST_ForceSFS">ST_ForceSFS</a> - Força as geometrias a utilizarem os tipos disponíveis na especificação SFS 1.1.</li><li class="listitem"><a class="link" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a> - Força a geometria para um modo XYZ. Este é um apelido para a função ST_Force_3DZ.</li><li class="listitem"><a class="link" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a> - Força as geometrias para o modo XYZ.</li><li class="listitem"><a class="link" href="#ST_Force_4D" title="ST_Force4D">ST_Force4D</a> - Força as geometrias para o modo XYZM.</li><li class="listitem"><a class="link" href="#ST_Force_Collection" title="ST_ForceCollection">ST_ForceCollection</a> - Converte a geometria para um GEOMETRYCOLLECTION.</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a> - Retorna um valor ST_Geometry especifico da representação binária estendida bem conhecida (EWKB).</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a> - Retorna um valor ST_Geometry especifico da representação de texto estendida bem conhecida (EWKT).</li><li class="listitem"><a class="link" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a> - Utiliza como entrada uma representação GML de geometria e como saída um objeto de geometria PostGIS</li><li class="listitem"><a class="link" href="#ST_GeomFromGeoJSON" title="ST_GeomFromGeoJSON">ST_GeomFromGeoJSON</a> - Utiliza como entrada uma representação geojson de uma geometria e como saída um objeto de geometria PostGIS</li><li class="listitem"><a class="link" href="#ST_GeomFromKML" title="ST_GeomFromKML">ST_GeomFromKML</a> - Utiliza como entrada uma representação KML de geometria e como saída um objeto de geometria PostGIS</li><li class="listitem"><a class="link" href="#ST_GeometricMedian" title="ST_GeometricMedian">ST_GeometricMedian </a> - Retorna a mediana de um MultiPonto.</li><li class="listitem"><a class="link" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_HasArc" title="ST_HasArc">ST_HasArc</a> - Tests if a geometry contains a circular arc</li><li class="listitem"><a class="link" href="#ST_HasM" title="ST_HasM">ST_HasM</a> - Checks if a geometry has an M (measure) dimension.</li><li class="listitem"><a class="link" href="#ST_HasZ" title="ST_HasZ">ST_HasZ</a> - Checks if a geometry has a Z dimension.</li><li class="listitem"><a class="link" href="#ST_InteriorRingN" title="ST_InteriorRingN">ST_InteriorRingN</a> - Retorna o número de anéis interiores de um polígono.</li><li class="listitem"><a class="link" href="#ST_InterpolatePoint" title="ST_InterpolatePoint">ST_InterpolatePoint</a> - Retorna o valor da dimensão de medida da geometria no ponto fechado para o ponto fornecido.</li><li class="listitem"><a class="link" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Computes a geometry representing the shared portion of geometries A and B.</li><li class="listitem"><a class="link" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a> - Retorna VERDADEIRO se os pontos de começo e fim da LINESTRING são coincidentes. Para superfície poliédrica está fechada (volumétrica).</li><li class="listitem"><a class="link" href="#ST_IsCollection" title="ST_IsCollection">ST_IsCollection</a> - Retorna verdadeiro se essa geometria é uma coleção vazia, polígono, ponto etc.</li><li class="listitem"><a class="link" href="#ST_IsPlanar" title="ST_IsPlanar">ST_IsPlanar</a> - Verifique se a superfície é ou não planar</li><li class="listitem"><a class="link" href="#ST_IsPolygonCCW" title="ST_IsPolygonCCW">ST_IsPolygonCCW </a> - Tests if Polygons have exterior rings oriented counter-clockwise and interior rings oriented clockwise.</li><li class="listitem"><a class="link" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a> - Tests if Polygons have exterior rings oriented clockwise and interior rings oriented counter-clockwise.</li><li class="listitem"><a class="link" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a> - Retorna (VERDADEIRA) se essa geometria não tem nenhum ponto irregular, como auto intersecção ou tangenciação.</li><li class="listitem"><a class="link" href="#ST_IsSolid" title="ST_IsSolid">ST_IsSolid</a> - teste se a geometria é um sólido. Nenhuma verificação de validade é representada.</li><li class="listitem"><a class="link" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a> - Tests if the geometry is a valid trajectory.</li><li class="listitem"><a class="link" href="#ST_Length_Spheroid" title="ST_LengthSpheroid">ST_LengthSpheroid</a> - Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_LineFromMultiPoint" title="ST_LineFromMultiPoint">ST_LineFromMultiPoint</a> - Cria uma linestring de um multiponto geométrico.</li><li class="listitem"><a class="link" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a> - Returns a point interpolated along a line at a fractional location.</li><li class="listitem"><a class="link" href="#ST_LineInterpolatePoints" title="ST_LineInterpolatePoints">ST_LineInterpolatePoints</a> - Returns points interpolated along a line at a fractional interval.</li><li class="listitem"><a class="link" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a> - Returns the part of a line between two fractional locations.</li><li class="listitem"><a class="link" href="#ST_LineToCurve" title="ST_LineToCurve">ST_LineToCurve</a> - Converts a linear geometry to a curved geometry.</li><li class="listitem"><a class="link" href="#ST_LocateBetweenElevations" title="ST_LocateBetweenElevations">ST_LocateBetweenElevations</a> - Returns the portions of a geometry that lie in an elevation (Z) range.</li><li class="listitem"><a class="link" href="#ST_M" title="ST_M">ST_M</a> - Returns the M coordinate of a Point.</li><li class="listitem"><a class="link" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a> - Cria uma Linestring de ponto, multiponto ou linha das geometrias.</li><li class="listitem"><a class="link" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a> - Creates a 2D, 3DZ or 4D Point.</li><li class="listitem"><a class="link" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a> - Creates a Polygon from a shell and optional list of holes.</li><li class="listitem"><a class="link" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a> - Molde a geometria para um sólido. Nenhuma verificação é apresentada. Para obter um sólido válido, a geometria de entrada deve ser uma superfície poliédrica fechada ou um TIN fechado.</li><li class="listitem"><a class="link" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> - Attempts to make an invalid geometry valid without losing vertices.</li><li class="listitem"><a class="link" href="#ST_MemSize" title="ST_MemSize">ST_MemSize</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_MemUnion" title="ST_MemUnion">ST_MemUnion</a> - Aggregate function which unions geometries in a memory-efficent but slower way</li><li class="listitem"><a class="link" href="#ST_NDims" title="ST_NDims">ST_NDims</a> - Retorna a dimensão da coordenada do valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a> - Retorna o número de pontos (vértices) em uma geometria.</li><li class="listitem"><a class="link" href="#ST_NRings" title="ST_NRings">ST_NRings</a> - Retorna o número de anéis interiores de um polígono.</li><li class="listitem"><a class="link" href="#ST_Node" title="ST_Node">ST_Node</a> - Nodes a collection of lines.</li><li class="listitem"><a class="link" href="#ST_NumCurves" title="ST_NumCurves">ST_NumCurves</a> - Return the number of component curves in a CompoundCurve.</li><li class="listitem"><a class="link" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> - Retorna o número de pontos em uma geometria. Funciona para todas as geometrias.</li><li class="listitem"><a class="link" href="#ST_NumPatches" title="ST_NumPatches">ST_NumPatches</a> - Retorna o número de faces em uma superfícies poliédrica. Retornará nulo para geometrias não poliédricas.</li><li class="listitem"><a class="link" href="#ST_Orientation" title="ST_Orientation">ST_Orientation</a> - Determine orientação da superfície</li><li class="listitem"><a class="link" href="#ST_PatchN" title="ST_PatchN">ST_PatchN</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_PointFromWKB" title="ST_PointFromWKB">ST_PointFromWKB</a> - Faz uma geometria a partir de um WKB com o SRID dado</li><li class="listitem"><a class="link" href="#ST_PointN" title="ST_PointN">ST_PointN</a> - Retorna o número de pontos em um valor ST_LineString ou ST_CircularString.</li><li class="listitem"><a class="link" href="#ST_PointOnSurface" title="ST_PointOnSurface">ST_PointOnSurface</a> - Computes a point guaranteed to lie in a polygon, or on a geometry.</li><li class="listitem"><a class="link" href="#ST_Points" title="ST_Points">ST_Points</a> - Retorna uma multilinestring contendo todas as coordenadas de uma geometria.</li><li class="listitem"><a class="link" href="#ST_Polygon" title="ST_Polygon">ST_Polygon</a> - Creates a Polygon from a LineString with a specified SRID.</li><li class="listitem"><a class="link" href="#ST_RemovePoint" title="ST_RemovePoint">ST_RemovePoint</a> - Remove a point from a linestring.</li><li class="listitem"><a class="link" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a> - Returns a version of a geometry with duplicate points removed.</li><li class="listitem"><a class="link" href="#ST_Reverse" title="ST_Reverse">ST_Reverse</a> - Retorna a geometria com a ordem dos vértices revertida.</li><li class="listitem"><a class="link" href="#ST_Rotate" title="ST_Rotate">ST_Rotate</a> - Rotates a geometry about an origin point.</li><li class="listitem"><a class="link" href="#ST_RotateX" title="ST_RotateX">ST_RotateX</a> - Rotates a geometry about the X axis.</li><li class="listitem"><a class="link" href="#ST_RotateY" title="ST_RotateY">ST_RotateY</a> - Rotates a geometry about the Y axis.</li><li class="listitem"><a class="link" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a> - Rotates a geometry about the Z axis.</li><li class="listitem"><a class="link" href="#ST_Scale" title="ST_Scale">ST_Scale</a> - Scales a geometry by given factors.</li><li class="listitem"><a class="link" href="#ST_Scroll" title="ST_Scroll">ST_Scroll</a> - Change start point of a closed LineString.</li><li class="listitem"><a class="link" href="#ST_SetPoint" title="ST_SetPoint">ST_SetPoint</a> - Substitui ponto de uma linestring com um dado ponto.</li><li class="listitem"><a class="link" href="#ST_ShiftLongitude" title="ST_ShiftLongitude">ST_ShiftLongitude</a> - Shifts the longitude coordinates of a geometry between -180..180 and 0..360.</li><li class="listitem"><a class="link" href="#ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a> - Rompe todos os pontos da geometria de entrada para uma rede regular.</li><li class="listitem"><a class="link" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a> - Returns the first point of a LineString.</li><li class="listitem"><a class="link" href="#ST_StraightSkeleton" title="ST_StraightSkeleton">ST_StraightSkeleton</a> - Calcule um esqueleto em linha reta de uma geometria</li><li class="listitem"><a class="link" href="#ST_SwapOrdinates" title="ST_SwapOrdinates">ST_SwapOrdinates</a> - Retorna uma versão da geometria dada com os valores ordenados dados trocados.</li><li class="listitem"><a class="link" href="#ST_SymDifference" title="ST_SymDifference">ST_SymDifference</a> - Computes a geometry representing the portions of geometries A and B that do not intersect.</li><li class="listitem"><a class="link" href="#ST_Tesselate" title="ST_Tesselate">ST_Tesselate</a> - Representa superfície tesselação de um polígono ou superfície poliédrica e retorna como uma TIN ou coleção de TINS</li><li class="listitem"><a class="link" href="#ST_TransScale" title="ST_TransScale">ST_TransScale</a> - Translates and scales a geometry by given offsets and factors.</li><li class="listitem"><a class="link" href="#ST_Translate" title="ST_Translate">ST_Translate</a> - Translates a geometry by given offsets.</li><li class="listitem"><a class="link" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a> - Computes the union of the components of a single geometry.</li><li class="listitem"><a class="link" href="#ST_Union" title="ST_Union">ST_Union</a> - Computes a geometry representing the point-set union of the input geometries.</li><li class="listitem"><a class="link" href="#ST_Volume" title="ST_Volume">ST_Volume</a> - Computa o volume de um sólido 3D. Se aplicado a geometrias com superfícies (mesmo fechadas), irão retornar 0.</li><li class="listitem"><a class="link" href="#ST_WrapX" title="ST_WrapX">ST_WrapX</a> - Envolve uma geometria em torno de um valor X.</li><li class="listitem"><a class="link" href="#ST_X" title="ST_X">ST_X</a> - Returns the X coordinate of a Point.</li><li class="listitem"><a class="link" href="#ST_XMax" title="ST_XMax">ST_XMax</a> - Returns the X maxima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_XMin" title="ST_XMin">ST_XMin</a> - Returns the X minima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_Y" title="ST_Y">ST_Y</a> - Returns the Y coordinate of a Point.</li><li class="listitem"><a class="link" href="#ST_YMax" title="ST_YMax">ST_YMax</a> - Returns the Y maxima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_YMin" title="ST_YMin">ST_YMin</a> - Returns the Y minima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_Z" title="ST_Z">ST_Z</a> - Returns the Z coordinate of a Point.</li><li class="listitem"><a class="link" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a> - Returns the Z maxima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a> - Returns the Z minima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_Zmflag" title="ST_Zmflag">ST_Zmflag</a> - Retorna a dimensão da coordenada do valor ST_Geometry.</li><li class="listitem"><a class="link" href="#TG_Equals" title="Equals">Equals</a> - Retorna verdade se duas topogeometrias forem compostas da mesma topologia primitiva</li><li class="listitem"><a class="link" href="#TG_Intersects" title="Intersects">Intersects</a> - Retorna verdade se algum par de primitivos das duas topologias se intersectar.</li><li class="listitem"><a class="link" href="#UpdateGeometrySRID" title="UpdateGeometrySRID">UpdateGeometrySRID</a> - Updates the SRID of all features in a geometry column, and the table metadata.</li><li class="listitem"><a class="link" href="#geometry_overlaps_nd" title="&amp;&amp;&amp;">&amp;&amp;&amp;</a> - Retorna VERDADE se a caixa limitadora n-D de A intersecta a caixa limitadora n-D de B.</li><li class="listitem"><a class="link" href="#overlaps_nd_geometry_gidx" title="&amp;&amp;&amp;(geometry,gidx)">&amp;&amp;&amp;(geometry,gidx)</a> - Returns TRUE if a geometry's (cached) n-D bounding box intersects a n-D float precision bounding box (GIDX).</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_geometry" title="&amp;&amp;&amp;(gidx,geometry)">&amp;&amp;&amp;(gidx,geometry)</a> - Returns TRUE if a n-D float precision bounding box (GIDX) intersects a geometry's (cached) n-D bounding box.</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_gidx" title="&amp;&amp;&amp;(gidx,gidx)">&amp;&amp;&amp;(gidx,gidx)</a> - Returns TRUE if two n-D float precision bounding boxes (GIDX) intersect each other.</li></ul></div></section><section class="section" id="PostGIS_Curved_GeometryFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.9. PostGIS Curved Geometry Support Functions</h2></div></div></div><p>The functions given below are PostGIS functions that can use CIRCULARSTRING, CURVEPOLYGON, and other curved geometry types</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a> - Remove uma coluna geometria de uma spatial table.</li><li class="listitem"><a class="link" href="#Box2D" title="Box2D">Box2D</a> - Returns a BOX2D representing the 2D extent of a geometry.</li><li class="listitem"><a class="link" href="#Box3D" title="Box3D">Box3D</a> - Returns a BOX3D representing the 3D extent of a geometry.</li><li class="listitem"><a class="link" href="#DropGeometryColumn" title="DropGeometryColumn">DropGeometryColumn</a> - Remove uma coluna geometria de uma spatial table.</li><li class="listitem"><a class="link" href="#GeometryType" title="GeometryType">GeometryType</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#PostGIS_AddBBox" title="PostGIS_AddBBox">PostGIS_AddBBox</a> - Adicionar o retângulo envolvente a geometria.</li><li class="listitem"><a class="link" href="#PostGIS_DropBBox" title="PostGIS_DropBBox">PostGIS_DropBBox</a> - Exclui o cache de retângulos envolventes da geometria.</li><li class="listitem"><a class="link" href="#PostGIS_HasBBox" title="PostGIS_HasBBox">PostGIS_HasBBox</a> - Retorna verdadeiro se o retângulo desta geometria está cacheado. FALSO caso contrário.</li><li class="listitem"><a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a> - Aggregate function that returns the 3D bounding box of geometries.</li><li class="listitem"><a class="link" href="#ST_Affine" title="ST_Affine">ST_Affine</a> - Apply a 3D affine transformation to a geometry.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Return the OGC/ISO Well-Known Binary (WKB) representation of the geometry/geography without SRID meta data.</li><li class="listitem"><a class="link" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a> - Return the Extended Well-Known Binary (EWKB) representation of the geometry with SRID meta data.</li><li class="listitem"><a class="link" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a> - Retorna a representação de texto bem conhecida (WKT) da geometria com os meta dados SRID.</li><li class="listitem"><a class="link" href="#ST_AsHEXEWKB" title="ST_AsHEXEWKB">ST_AsHEXEWKB</a> - Retorna uma geometria no formato HEXEWKB (como texto) usando little-endian (NDR) ou big-endian (XDR) encoding.</li><li class="listitem"><a class="link" href="#ST_AsSVG" title="ST_AsSVG">ST_AsSVG</a> - Returns SVG path data for a geometry.</li><li class="listitem"><a class="link" href="#ST_AsText" title="ST_AsText">ST_AsText</a> - Retorna a representação de texto bem conhecida (WKT) da geometria/geografia sem os meta dados do SRID.</li><li class="listitem"><a class="link" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a> - Window function that returns a cluster id for each input geometry using the DBSCAN algorithm.</li><li class="listitem"><a class="link" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a> - Aggregate function that clusters geometries by separation distance.</li><li class="listitem"><a class="link" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a> - Window function that returns a cluster id for each input geometry, clustering using separation distance.</li><li class="listitem"><a class="link" href="#ST_Collect" title="ST_Collect">ST_Collect</a> - Creates a GeometryCollection or Multi* geometry from a set of geometries.</li><li class="listitem"><a class="link" href="#ST_CoordDim" title="ST_CoordDim">ST_CoordDim</a> - Retorna a dimensão da coordenada do valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a> - Converts a geometry containing curves to a linear geometry.</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Retorna a linha 3-dimensional mais longa entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_Dump" title="ST_Dump">ST_Dump</a> - Returns a set of geometry_dump rows for the components of a geometry.</li><li class="listitem"><a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a> - Retorna um texto resumo dos conteúdos da geometria.</li><li class="listitem"><a class="link" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a> - Retorna o número de pontos em um valor ST_LineString ou ST_CircularString.</li><li class="listitem"><a class="link" href="#ST_EstimatedExtent" title="ST_EstimatedExtent">ST_EstimatedExtent</a> - Returns the estimated extent of a spatial table.</li><li class="listitem"><a class="link" href="#ST_FlipCoordinates" title="ST_FlipCoordinates">ST_FlipCoordinates</a> - Returns a version of a geometry with X and Y axis flipped.</li><li class="listitem"><a class="link" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a> - Força a geometria para o modo de 2 dimensões.</li><li class="listitem"><a class="link" href="#ST_ForceCurve" title="ST_ForceCurve">ST_ForceCurve</a> - Converte para cima uma geometria para seu tipo curvo, se aplicável.</li><li class="listitem"><a class="link" href="#ST_ForceSFS" title="ST_ForceSFS">ST_ForceSFS</a> - Força as geometrias a utilizarem os tipos disponíveis na especificação SFS 1.1.</li><li class="listitem"><a class="link" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a> - Força a geometria para um modo XYZ. Este é um apelido para a função ST_Force_3DZ.</li><li class="listitem"><a class="link" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a> - Força as geometrias para o modo XYM.</li><li class="listitem"><a class="link" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a> - Força as geometrias para o modo XYZ.</li><li class="listitem"><a class="link" href="#ST_Force_4D" title="ST_Force4D">ST_Force4D</a> - Força as geometrias para o modo XYZM.</li><li class="listitem"><a class="link" href="#ST_Force_Collection" title="ST_ForceCollection">ST_ForceCollection</a> - Converte a geometria para um GEOMETRYCOLLECTION.</li><li class="listitem"><a class="link" href="#ST_GeoHash" title="ST_GeoHash">ST_GeoHash</a> - Retorna uma representação GeoHash da geometria.</li><li class="listitem"><a class="link" href="#ST_GeogFromWKB" title="ST_GeogFromWKB">ST_GeogFromWKB</a> - Cria uma ocasião geografia de uma geometria binária bem conhecida (WKB) ou binário estendido bem conhecido (EWKB).</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a> - Retorna um valor ST_Geometry especifico da representação binária estendida bem conhecida (EWKB).</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a> - Retorna um valor ST_Geometry especifico da representação de texto estendida bem conhecida (EWKT).</li><li class="listitem"><a class="link" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a> - Retorna um valor ST_Geometry específico da representação de texto bem conhecida (WKT).</li><li class="listitem"><a class="link" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a> - Criar uma geometria exemplo de um representação bem conhecida de geometria binária (WKB) e SRID opcional.</li><li class="listitem"><a class="link" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_Geometry_EQ" title="=">=</a> - Returns TRUE if the coordinates and coordinate order geometry/geography A are the same as the coordinates and coordinate order of geometry/geography B.</li><li class="listitem"><a class="link" href="#ST_Geometry_Overbelow" title="&amp;&lt;|">&amp;&lt;|</a> - Retorna VERDADE se a caixa limitadora de A sobrepõe ou está abaixo de B.</li><li class="listitem"><a class="link" href="#ST_HasArc" title="ST_HasArc">ST_HasArc</a> - Tests if a geometry contains a circular arc</li><li class="listitem"><a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Tests if two geometries intersect (they have at least one point in common)</li><li class="listitem"><a class="link" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a> - Retorna VERDADEIRO se os pontos de começo e fim da LINESTRING são coincidentes. Para superfície poliédrica está fechada (volumétrica).</li><li class="listitem"><a class="link" href="#ST_IsCollection" title="ST_IsCollection">ST_IsCollection</a> - Retorna verdadeiro se essa geometria é uma coleção vazia, polígono, ponto etc.</li><li class="listitem"><a class="link" href="#ST_IsEmpty" title="ST_IsEmpty">ST_IsEmpty</a> - Tests if a geometry is empty.</li><li class="listitem"><a class="link" href="#ST_LineToCurve" title="ST_LineToCurve">ST_LineToCurve</a> - Converts a linear geometry to a curved geometry.</li><li class="listitem"><a class="link" href="#ST_MemSize" title="ST_MemSize">ST_MemSize</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a> - Retorna o número de pontos (vértices) em uma geometria.</li><li class="listitem"><a class="link" href="#ST_NRings" title="ST_NRings">ST_NRings</a> - Retorna o número de anéis interiores de um polígono.</li><li class="listitem"><a class="link" href="#ST_PointFromWKB" title="ST_PointFromWKB">ST_PointFromWKB</a> - Faz uma geometria a partir de um WKB com o SRID dado</li><li class="listitem"><a class="link" href="#ST_PointN" title="ST_PointN">ST_PointN</a> - Retorna o número de pontos em um valor ST_LineString ou ST_CircularString.</li><li class="listitem"><a class="link" href="#ST_Points" title="ST_Points">ST_Points</a> - Retorna uma multilinestring contendo todas as coordenadas de uma geometria.</li><li class="listitem"><a class="link" href="#ST_Rotate" title="ST_Rotate">ST_Rotate</a> - Rotates a geometry about an origin point.</li><li class="listitem"><a class="link" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a> - Rotates a geometry about the Z axis.</li><li class="listitem"><a class="link" href="#ST_SRID" title="ST_SRID">ST_SRID</a> - Returns the spatial reference identifier for a geometry.</li><li class="listitem"><a class="link" href="#ST_Scale" title="ST_Scale">ST_Scale</a> - Scales a geometry by given factors.</li><li class="listitem"><a class="link" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a> - Set the SRID on a geometry.</li><li class="listitem"><a class="link" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a> - Returns the first point of a LineString.</li><li class="listitem"><a class="link" href="#ST_Summary" title="ST_Summary">ST_Summary</a> - Retorna um texto resumo dos conteúdos da geometria.</li><li class="listitem"><a class="link" href="#ST_SwapOrdinates" title="ST_SwapOrdinates">ST_SwapOrdinates</a> - Retorna uma versão da geometria dada com os valores ordenados dados trocados.</li><li class="listitem"><a class="link" href="#ST_TransScale" title="ST_TransScale">ST_TransScale</a> - Translates and scales a geometry by given offsets and factors.</li><li class="listitem"><a class="link" href="#ST_Transform" title="ST_Transform">ST_Transform</a> - Return a new geometry with coordinates transformed to a different spatial reference system.</li><li class="listitem"><a class="link" href="#ST_Translate" title="ST_Translate">ST_Translate</a> - Translates a geometry by given offsets.</li><li class="listitem"><a class="link" href="#ST_XMax" title="ST_XMax">ST_XMax</a> - Returns the X maxima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_XMin" title="ST_XMin">ST_XMin</a> - Returns the X minima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_YMax" title="ST_YMax">ST_YMax</a> - Returns the Y maxima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_YMin" title="ST_YMin">ST_YMin</a> - Returns the Y minima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a> - Returns the Z maxima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a> - Returns the Z minima of a 2D or 3D bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_Zmflag" title="ST_Zmflag">ST_Zmflag</a> - Retorna a dimensão da coordenada do valor ST_Geometry.</li><li class="listitem"><a class="link" href="#UpdateGeometrySRID" title="UpdateGeometrySRID">UpdateGeometrySRID</a> - Updates the SRID of all features in a geometry column, and the table metadata.</li><li class="listitem"><a class="link" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a> - Returns TRUE if a 2D float precision bounding box (BOX2DF) contains another 2D float precision bounding box (BOX2DF).</li><li class="listitem"><a class="link" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a> - Returns TRUE if a 2D float precision bounding box (BOX2DF) contains a geometry's 2D bonding box.</li><li class="listitem"><a class="link" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a> - Returns TRUE if a geometry's 2D bonding box contains a 2D float precision bounding box (GIDX).</li><li class="listitem"><a class="link" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a> - Retorna VERDADE se a caixa limitadora 2D de A intersecta a caixa limitadora 2D de B.</li><li class="listitem"><a class="link" href="#geometry_overlaps_nd" title="&amp;&amp;&amp;">&amp;&amp;&amp;</a> - Retorna VERDADE se a caixa limitadora n-D de A intersecta a caixa limitadora n-D de B.</li><li class="listitem"><a class="link" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a> - Returns TRUE if a 2D float precision bounding box (BOX2DF) is contained into another 2D float precision bounding box.</li><li class="listitem"><a class="link" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a> - Returns TRUE if a 2D float precision bounding box (BOX2DF) is contained into a geometry's 2D bounding box.</li><li class="listitem"><a class="link" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a> - Returns TRUE if a geometry's 2D bounding box is contained into a 2D float precision bounding box (BOX2DF).</li><li class="listitem"><a class="link" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a> - Returns TRUE if two 2D float precision bounding boxes (BOX2DF) intersect each other.</li><li class="listitem"><a class="link" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a> - Returns TRUE if a 2D float precision bounding box (BOX2DF) intersects a geometry's (cached) 2D bounding box.</li><li class="listitem"><a class="link" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a> - Returns TRUE if a geometry's (cached) 2D bounding box intersects a 2D float precision bounding box (BOX2DF).</li><li class="listitem"><a class="link" href="#overlaps_nd_geometry_gidx" title="&amp;&amp;&amp;(geometry,gidx)">&amp;&amp;&amp;(geometry,gidx)</a> - Returns TRUE if a geometry's (cached) n-D bounding box intersects a n-D float precision bounding box (GIDX).</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_geometry" title="&amp;&amp;&amp;(gidx,geometry)">&amp;&amp;&amp;(gidx,geometry)</a> - Returns TRUE if a n-D float precision bounding box (GIDX) intersects a geometry's (cached) n-D bounding box.</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_gidx" title="&amp;&amp;&amp;(gidx,gidx)">&amp;&amp;&amp;(gidx,gidx)</a> - Returns TRUE if two n-D float precision bounding boxes (GIDX) intersect each other.</li></ul></div></section><section class="section" id="PostGIS_PS_GeometryFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.10. PostGIS Polyhedral Surface Support Functions</h2></div></div></div><p>The functions given below are PostGIS functions that can use POLYHEDRALSURFACE, POLYHEDRALSURFACEM geometries</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#Box2D" title="Box2D">Box2D</a> - Returns a BOX2D representing the 2D extent of a geometry.</li><li class="listitem"><a class="link" href="#Box3D" title="Box3D">Box3D</a> - Returns a BOX3D representing the 3D extent of a geometry.</li><li class="listitem"><a class="link" href="#CG_3DArea" title="CG_3DArea">CG_3DArea</a> - Computa a área de geometrias de superfície 3D. Irá retornar 0 para sólidos.</li><li class="listitem"><a class="link" href="#CG_3DConvexHull" title="CG_3DConvexHull">CG_3DConvexHull</a> - Computa o eixo mediano aproximado de uma geometria territorial.</li><li class="listitem"><a class="link" href="#CG_3DDifference" title="CG_3DDifference">CG_3DDifference</a> - Representar diferença 3D</li><li class="listitem"><a class="link" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a> - Representar intersecção 3D</li><li class="listitem"><a class="link" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a> - Perform 3D union using postgis_sfcgal.</li><li class="listitem"><a class="link" href="#CG_ApproximateMedialAxis" title="CG_ApproximateMedialAxis">CG_ApproximateMedialAxis</a> - Computa o eixo mediano aproximado de uma geometria territorial.</li><li class="listitem"><a class="link" href="#CG_Extrude" title="CG_Extrude">CG_Extrude</a> - Extrude uma superfície a um volume relacionado</li><li class="listitem"><a class="link" href="#CG_ForceLHR" title="CG_ForceLHR">CG_ForceLHR</a> - Orientação força LHR</li><li class="listitem"><a class="link" href="#CG_IsPlanar" title="CG_IsPlanar">CG_IsPlanar</a> - Verifique se a superfície é ou não planar</li><li class="listitem"><a class="link" href="#CG_IsSolid" title="CG_IsSolid">CG_IsSolid</a> - teste se a geometria é um sólido. Nenhuma verificação de validade é representada.</li><li class="listitem"><a class="link" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a> - Molde a geometria para um sólido. Nenhuma verificação é apresentada. Para obter um sólido válido, a geometria de entrada deve ser uma superfície poliédrica fechada ou um TIN fechado.</li><li class="listitem"><a class="link" href="#CG_StraightSkeleton" title="CG_StraightSkeleton">CG_StraightSkeleton</a> - Calcule um esqueleto em linha reta de uma geometria</li><li class="listitem"><a class="link" href="#CG_Tesselate" title="CG_Tesselate">CG_Tesselate</a> - Representa superfície tesselação de um polígono ou superfície poliédrica e retorna como uma TIN ou coleção de TINS</li><li class="listitem"><a class="link" href="#CG_Visibility" title="CG_Visibility">CG_Visibility</a> - Compute a visibility polygon from a point or a segment in a polygon geometry</li><li class="listitem"><a class="link" href="#CG_Volume" title="CG_Volume">CG_Volume</a> - Computa o volume de um sólido 3D. Se aplicado a geometrias com superfícies (mesmo fechadas), irão retornar 0.</li><li class="listitem"><a class="link" href="#GeometryType" title="GeometryType">GeometryType</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a> - Computa a área de geometrias de superfície 3D. Irá retornar 0 para sólidos.</li><li class="listitem"><a class="link" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a> - Retorna o ponto 3 dimensional em g1 que é o mais próximo de g2. Este é o primeiro ponto da linha mais curta em três dimensões.</li><li class="listitem"><a class="link" href="#ST_3DConvexHull" title="ST_3DConvexHull">ST_3DConvexHull</a> - Computa o eixo mediano aproximado de uma geometria territorial.</li><li class="listitem"><a class="link" href="#ST_3DDFullyWithin" title="ST_3DDFullyWithin">ST_3DDFullyWithin</a> - Tests if two 3D geometries are entirely within a given 3D distance</li><li class="listitem"><a class="link" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a> - Tests if two 3D geometries are within a given 3D distance</li><li class="listitem"><a class="link" href="#ST_3DDifference" title="ST_3DDifference">ST_3DDifference</a> - Representar diferença 3D</li><li class="listitem"><a class="link" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a> - Para tipo geometria, retorna a menor distância cartesiana 3-dimensional (baseado no sistema de referência espacial) entre duas geometrias em unidades projetadas.</li><li class="listitem"><a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a> - Aggregate function that returns the 3D bounding box of geometries.</li><li class="listitem"><a class="link" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a> - Representar intersecção 3D</li><li class="listitem"><a class="link" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a> - Tests if two geometries spatially intersect in 3D - only for points, linestrings, polygons, polyhedral surface (area)</li><li class="listitem"><a class="link" href="#ST_3DLongestLine" title="ST_3DLongestLine">ST_3DLongestLine</a> - Retorna a linha 3-dimensional mais longa entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a> - Para tipo de geometria retorna a maior distância 3-dimensional cartesiana (baseada na referência espacial) entre duas geometrias em unidade projetadas.</li><li class="listitem"><a class="link" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a> - Retorna a menor linha 3-dimensional entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a> - Perform 3D union.</li><li class="listitem"><a class="link" href="#ST_Affine" title="ST_Affine">ST_Affine</a> - Apply a 3D affine transformation to a geometry.</li><li class="listitem"><a class="link" href="#ST_ApproximateMedialAxis" title="ST_ApproximateMedialAxis">ST_ApproximateMedialAxis</a> - Computa o eixo mediano aproximado de uma geometria territorial.</li><li class="listitem"><a class="link" href="#ST_Area" title="ST_Area">ST_Area</a> - Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Return the OGC/ISO Well-Known Binary (WKB) representation of the geometry/geography without SRID meta data.</li><li class="listitem"><a class="link" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a> - Return the Extended Well-Known Binary (EWKB) representation of the geometry with SRID meta data.</li><li class="listitem"><a class="link" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a> - Retorna a representação de texto bem conhecida (WKT) da geometria com os meta dados SRID.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Retorna a geometria como uma versão GML com 2 ou 3 elementos.</li><li class="listitem"><a class="link" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a> - Retorna uma geometria em X3D nó xml formato do elemento: ISO-IEC-19776-1.2-X3DEncodings-XML</li><li class="listitem"><a class="link" href="#ST_CoordDim" title="ST_CoordDim">ST_CoordDim</a> - Retorna a dimensão da coordenada do valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a> - Retorna a dimensão da coordenada do valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_Dump" title="ST_Dump">ST_Dump</a> - Returns a set of geometry_dump rows for the components of a geometry.</li><li class="listitem"><a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a> - Retorna um texto resumo dos conteúdos da geometria.</li><li class="listitem"><a class="link" href="#ST_Expand" title="ST_Expand">ST_Expand</a> - Returns a bounding box expanded from another bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_Extent" title="ST_Extent">ST_Extent</a> - Aggregate function that returns the bounding box of geometries.</li><li class="listitem"><a class="link" href="#ST_Extrude" title="ST_Extrude">ST_Extrude</a> - Extrude uma superfície a um volume relacionado</li><li class="listitem"><a class="link" href="#ST_FlipCoordinates" title="ST_FlipCoordinates">ST_FlipCoordinates</a> - Returns a version of a geometry with X and Y axis flipped.</li><li class="listitem"><a class="link" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a> - Força a geometria para o modo de 2 dimensões.</li><li class="listitem"><a class="link" href="#ST_ForceLHR" title="ST_ForceLHR">ST_ForceLHR</a> - Orientação força LHR</li><li class="listitem"><a class="link" href="#ST_ForceRHR" title="ST_ForceRHR">ST_ForceRHR</a> - Força a orientação dos vértices em um polígono a seguir a regra da mão direita.</li><li class="listitem"><a class="link" href="#ST_ForceSFS" title="ST_ForceSFS">ST_ForceSFS</a> - Força as geometrias a utilizarem os tipos disponíveis na especificação SFS 1.1.</li><li class="listitem"><a class="link" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a> - Força a geometria para um modo XYZ. Este é um apelido para a função ST_Force_3DZ.</li><li class="listitem"><a class="link" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a> - Força as geometrias para o modo XYZ.</li><li class="listitem"><a class="link" href="#ST_Force_Collection" title="ST_ForceCollection">ST_ForceCollection</a> - Converte a geometria para um GEOMETRYCOLLECTION.</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a> - Retorna um valor ST_Geometry especifico da representação binária estendida bem conhecida (EWKB).</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a> - Retorna um valor ST_Geometry especifico da representação de texto estendida bem conhecida (EWKT).</li><li class="listitem"><a class="link" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a> - Utiliza como entrada uma representação GML de geometria e como saída um objeto de geometria PostGIS</li><li class="listitem"><a class="link" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_Geometry_EQ" title="=">=</a> - Returns TRUE if the coordinates and coordinate order geometry/geography A are the same as the coordinates and coordinate order of geometry/geography B.</li><li class="listitem"><a class="link" href="#ST_Geometry_Overbelow" title="&amp;&lt;|">&amp;&lt;|</a> - Retorna VERDADE se a caixa limitadora de A sobrepõe ou está abaixo de B.</li><li class="listitem"><a class="link" href="#ST_Geometry_Same" title="~=">~=</a> - Retorna VERDADE se a caixa limitadora de A é a mesma de B.</li><li class="listitem"><a class="link" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a> - Retorna VERDADEIRO se os pontos de começo e fim da LINESTRING são coincidentes. Para superfície poliédrica está fechada (volumétrica).</li><li class="listitem"><a class="link" href="#ST_IsPlanar" title="ST_IsPlanar">ST_IsPlanar</a> - Verifique se a superfície é ou não planar</li><li class="listitem"><a class="link" href="#ST_IsSolid" title="ST_IsSolid">ST_IsSolid</a> - teste se a geometria é um sólido. Nenhuma verificação de validade é representada.</li><li class="listitem"><a class="link" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a> - Molde a geometria para um sólido. Nenhuma verificação é apresentada. Para obter um sólido válido, a geometria de entrada deve ser uma superfície poliédrica fechada ou um TIN fechado.</li><li class="listitem"><a class="link" href="#ST_MemSize" title="ST_MemSize">ST_MemSize</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a> - Retorna o número de pontos (vértices) em uma geometria.</li><li class="listitem"><a class="link" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> - Retorna o número de pontos em uma geometria. Funciona para todas as geometrias.</li><li class="listitem"><a class="link" href="#ST_NumPatches" title="ST_NumPatches">ST_NumPatches</a> - Retorna o número de faces em uma superfícies poliédrica. Retornará nulo para geometrias não poliédricas.</li><li class="listitem"><a class="link" href="#ST_PatchN" title="ST_PatchN">ST_PatchN</a> - Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a> - Returns a version of a geometry with duplicate points removed.</li><li class="listitem"><a class="link" href="#ST_Reverse" title="ST_Reverse">ST_Reverse</a> - Retorna a geometria com a ordem dos vértices revertida.</li><li class="listitem"><a class="link" href="#ST_Rotate" title="ST_Rotate">ST_Rotate</a> - Rotates a geometry about an origin point.</li><li class="listitem"><a class="link" href="#ST_RotateX" title="ST_RotateX">ST_RotateX</a> - Rotates a geometry about the X axis.</li><li class="listitem"><a class="link" href="#ST_RotateY" title="ST_RotateY">ST_RotateY</a> - Rotates a geometry about the Y axis.</li><li class="listitem"><a class="link" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a> - Rotates a geometry about the Z axis.</li><li class="listitem"><a class="link" href="#ST_Scale" title="ST_Scale">ST_Scale</a> - Scales a geometry by given factors.</li><li class="listitem"><a class="link" href="#ST_ShiftLongitude" title="ST_ShiftLongitude">ST_ShiftLongitude</a> - Shifts the longitude coordinates of a geometry between -180..180 and 0..360.</li><li class="listitem"><a class="link" href="#ST_StraightSkeleton" title="ST_StraightSkeleton">ST_StraightSkeleton</a> - Calcule um esqueleto em linha reta de uma geometria</li><li class="listitem"><a class="link" href="#ST_Summary" title="ST_Summary">ST_Summary</a> - Retorna um texto resumo dos conteúdos da geometria.</li><li class="listitem"><a class="link" href="#ST_SwapOrdinates" title="ST_SwapOrdinates">ST_SwapOrdinates</a> - Retorna uma versão da geometria dada com os valores ordenados dados trocados.</li><li class="listitem"><a class="link" href="#ST_Tesselate" title="ST_Tesselate">ST_Tesselate</a> - Representa superfície tesselação de um polígono ou superfície poliédrica e retorna como uma TIN ou coleção de TINS</li><li class="listitem"><a class="link" href="#ST_Transform" title="ST_Transform">ST_Transform</a> - Return a new geometry with coordinates transformed to a different spatial reference system.</li><li class="listitem"><a class="link" href="#ST_Volume" title="ST_Volume">ST_Volume</a> - Computa o volume de um sólido 3D. Se aplicado a geometrias com superfícies (mesmo fechadas), irão retornar 0.</li><li class="listitem"><a class="link" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a> - Returns TRUE if a 2D float precision bounding box (BOX2DF) contains another 2D float precision bounding box (BOX2DF).</li><li class="listitem"><a class="link" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a> - Returns TRUE if a 2D float precision bounding box (BOX2DF) contains a geometry's 2D bonding box.</li><li class="listitem"><a class="link" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a> - Returns TRUE if a geometry's 2D bonding box contains a 2D float precision bounding box (GIDX).</li><li class="listitem"><a class="link" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a> - Retorna VERDADE se a caixa limitadora 2D de A intersecta a caixa limitadora 2D de B.</li><li class="listitem"><a class="link" href="#geometry_overlaps_nd" title="&amp;&amp;&amp;">&amp;&amp;&amp;</a> - Retorna VERDADE se a caixa limitadora n-D de A intersecta a caixa limitadora n-D de B.</li><li class="listitem"><a class="link" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a> - Returns TRUE if a 2D float precision bounding box (BOX2DF) is contained into another 2D float precision bounding box.</li><li class="listitem"><a class="link" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a> - Returns TRUE if a 2D float precision bounding box (BOX2DF) is contained into a geometry's 2D bounding box.</li><li class="listitem"><a class="link" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a> - Returns TRUE if a geometry's 2D bounding box is contained into a 2D float precision bounding box (BOX2DF).</li><li class="listitem"><a class="link" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a> - Returns TRUE if two 2D float precision bounding boxes (BOX2DF) intersect each other.</li><li class="listitem"><a class="link" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a> - Returns TRUE if a 2D float precision bounding box (BOX2DF) intersects a geometry's (cached) 2D bounding box.</li><li class="listitem"><a class="link" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a> - Returns TRUE if a geometry's (cached) 2D bounding box intersects a 2D float precision bounding box (BOX2DF).</li><li class="listitem"><a class="link" href="#overlaps_nd_geometry_gidx" title="&amp;&amp;&amp;(geometry,gidx)">&amp;&amp;&amp;(geometry,gidx)</a> - Returns TRUE if a geometry's (cached) n-D bounding box intersects a n-D float precision bounding box (GIDX).</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_geometry" title="&amp;&amp;&amp;(gidx,geometry)">&amp;&amp;&amp;(gidx,geometry)</a> - Returns TRUE if a n-D float precision bounding box (GIDX) intersects a geometry's (cached) n-D bounding box.</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_gidx" title="&amp;&amp;&amp;(gidx,gidx)">&amp;&amp;&amp;(gidx,gidx)</a> - Returns TRUE if two n-D float precision bounding boxes (GIDX) intersect each other.</li></ul></div></section><section class="section" id="PostGIS_TypeFunctionMatrix"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.11. PostGIS Function Support Matrix</h2></div></div></div><p>Below is an alphabetical listing of spatial specific functions in PostGIS and the kinds of spatial types they work with or OGC/SQL compliance they try to conform to.</p><p>
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">A <span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span> means the function works with the type or subtype natively.</li><li class="listitem">A <span class="inlinemediaobject"><img src="images/matrix_transform.png"/></span> means it works but with a transform cast built-in using cast to geometry, transform to a "best srid" spatial ref and then cast back. Results may not be as expected for large areas or areas at poles and may accumulate floating point junk.</li><li class="listitem">A <span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span> means the function works with the type because of a auto-cast to another such as to box3d rather than direct type support.</li><li class="listitem">A <span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span> means the function only available if PostGIS compiled with SFCGAL support.</li><li class="listitem">geom - Basic 2D geometry support (x,y).</li><li class="listitem">geog - Basic 2D geography support (x,y).</li><li class="listitem">2.5D - basic 2D geometries in 3 D/4D space (has Z or M coord).</li><li class="listitem">PS - Polyhedral surfaces</li><li class="listitem">T - Triangles and Triangulated Irregular Network surfaces (TIN)</li></ul></div><p>
    </p><p>
      </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col style="text-align: left; " class="function"/><col style="text-align: center; " class="geometry"/><col style="text-align: center; " class="geography"/><col style="text-align: center; " class="25D"/><col style="text-align: center; " class="Curves"/><col style="text-align: center; " class="SQLMM"/><col style="text-align: center; " class="PS"/><col style="text-align: center; " class="T"/></colgroup><thead><tr><th style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">Function</th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">geom</th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">geog</th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">2.5D</th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">Curves</th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">SQL MM</th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">PS</th><th style="text-align: center; border-bottom: 1px solid ; ">T</th></tr></thead><tbody><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Collect" title="ST_Collect">ST_Collect</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineFromMultiPoint" title="ST_LineFromMultiPoint">ST_LineFromMultiPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakeEnvelope" title="ST_MakeEnvelope">ST_MakeEnvelope</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakePoint" title="ST_MakePoint">ST_MakePoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakePointM" title="ST_MakePointM">ST_MakePointM</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakePolygon" title="ST_MakePolygon">ST_MakePolygon</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Point" title="ST_Point">ST_Point</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointZ" title="ST_PointZ">ST_PointZ</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointM" title="ST_PointM">ST_PointM</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Polygon" title="ST_Polygon">ST_Polygon</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_HexagonGrid" title="ST_HexagonGrid">ST_HexagonGrid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Hexagon" title="ST_Hexagon">ST_Hexagon</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SquareGrid" title="ST_SquareGrid">ST_SquareGrid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Square" title="ST_Square">ST_Square</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Letters" title="ST_Letters">ST_Letters</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GeometryType" title="GeometryType">GeometryType</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_BoundingDiagonal" title="ST_BoundingDiagonal">ST_BoundingDiagonal</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CoordDim" title="ST_CoordDim">ST_CoordDim</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Dump" title="ST_Dump">ST_Dump</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DumpSegments" title="ST_DumpSegments">ST_DumpSegments</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DumpRings" title="ST_DumpRings">ST_DumpRings</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Envelope" title="ST_Envelope">ST_Envelope</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ExteriorRing" title="ST_ExteriorRing">ST_ExteriorRing</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_HasArc" title="ST_HasArc">ST_HasArc</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_InteriorRingN" title="ST_InteriorRingN">ST_InteriorRingN</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NumCurves" title="ST_NumCurves">ST_NumCurves</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CurveN" title="ST_CurveN">ST_CurveN</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsCollection" title="ST_IsCollection">ST_IsCollection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsEmpty" title="ST_IsEmpty">ST_IsEmpty</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsPolygonCCW" title="ST_IsPolygonCCW">ST_IsPolygonCCW </a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsRing" title="ST_IsRing">ST_IsRing</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsSimple" title="ST_IsSimple">ST_IsSimple</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_M" title="ST_M">ST_M</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MemSize" title="ST_MemSize">ST_MemSize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NDims" title="ST_NDims">ST_NDims</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NRings" title="ST_NRings">ST_NRings</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NumInteriorRing" title="ST_NumInteriorRing">ST_NumInteriorRing</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NumPatches" title="ST_NumPatches">ST_NumPatches</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NumPoints" title="ST_NumPoints">ST_NumPoints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PatchN" title="ST_PatchN">ST_PatchN</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointN" title="ST_PointN">ST_PointN</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Points" title="ST_Points">ST_Points</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Summary" title="ST_Summary">ST_Summary</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_X" title="ST_X">ST_X</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Y" title="ST_Y">ST_Y</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Z" title="ST_Z">ST_Z</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Zmflag" title="ST_Zmflag">ST_Zmflag</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_HasZ" title="ST_HasZ">ST_HasZ</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_HasM" title="ST_HasM">ST_HasM</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AddPoint" title="ST_AddPoint">ST_AddPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CollectionExtract" title="ST_CollectionExtract">ST_CollectionExtract</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CollectionHomogenize" title="ST_CollectionHomogenize">ST_CollectionHomogenize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Scroll" title="ST_Scroll">ST_Scroll</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_FlipCoordinates" title="ST_FlipCoordinates">ST_FlipCoordinates</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Force_4D" title="ST_Force4D">ST_Force4D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Force_Collection" title="ST_ForceCollection">ST_ForceCollection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ForceCurve" title="ST_ForceCurve">ST_ForceCurve</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ForceSFS" title="ST_ForceSFS">ST_ForceSFS</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ForceRHR" title="ST_ForceRHR">ST_ForceRHR</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineExtend" title="ST_LineExtend">ST_LineExtend</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineToCurve" title="ST_LineToCurve">ST_LineToCurve</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Multi" title="ST_Multi">ST_Multi</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Normalize" title="ST_Normalize">ST_Normalize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Project" title="ST_Project">ST_Project</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_QuantizeCoordinates" title="ST_QuantizeCoordinates">ST_QuantizeCoordinates </a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemovePoint" title="ST_RemovePoint">ST_RemovePoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemoveIrrelevantPointsForView" title="ST_RemoveIrrelevantPointsForView">ST_RemoveIrrelevantPointsForView</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemoveSmallParts" title="ST_RemoveSmallParts">ST_RemoveSmallParts</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Reverse" title="ST_Reverse">ST_Reverse</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SetPoint" title="ST_SetPoint">ST_SetPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ShiftLongitude" title="ST_ShiftLongitude">ST_ShiftLongitude</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_WrapX" title="ST_WrapX">ST_WrapX</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Snap" title="ST_Snap">ST_Snap</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SwapOrdinates" title="ST_SwapOrdinates">ST_SwapOrdinates</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsValid" title="ST_IsValid">ST_IsValid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsValidDetail" title="ST_IsValidDetail">ST_IsValidDetail</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsValidReason" title="ST_IsValidReason">ST_IsValidReason</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_InverseTransformPipeline" title="ST_InverseTransformPipeline">ST_InverseTransformPipeline</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SRID" title="ST_SRID">ST_SRID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Transform" title="ST_Transform">ST_Transform</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_srs_codes" title="postgis_srs_codes">postgis_srs_codes</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_srs" title="postgis_srs">postgis_srs</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_srs_all" title="postgis_srs_all">postgis_srs_all</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_srs_search" title="postgis_srs_search">postgis_srs_search</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_BdPolyFromText" title="ST_BdPolyFromText">ST_BdPolyFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_BdMPolyFromText" title="ST_BdMPolyFromText">ST_BdMPolyFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeogFromText" title="ST_GeogFromText">ST_GeogFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeographyFromText" title="ST_GeographyFromText">ST_GeographyFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomCollFromText" title="ST_GeomCollFromText">ST_GeomCollFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromMARC21" title="ST_GeomFromMARC21">ST_GeomFromMARC21</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeometryFromText" title="ST_GeometryFromText">ST_GeometryFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineFromText" title="ST_LineFromText">ST_LineFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MLineFromText" title="ST_MLineFromText">ST_MLineFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MPointFromText" title="ST_MPointFromText">ST_MPointFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MPolyFromText" title="ST_MPolyFromText">ST_MPolyFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointFromText" title="ST_PointFromText">ST_PointFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PolygonFromText" title="ST_PolygonFromText">ST_PolygonFromText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_WKTToSQL" title="ST_WKTToSQL">ST_WKTToSQL</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeogFromWKB" title="ST_GeogFromWKB">ST_GeogFromWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromWKB" title="ST_GeomFromWKB">ST_GeomFromWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineFromWKB" title="ST_LineFromWKB">ST_LineFromWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LinestringFromWKB" title="ST_LinestringFromWKB">ST_LinestringFromWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointFromWKB" title="ST_PointFromWKB">ST_PointFromWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_WKBToSQL" title="ST_WKBToSQL">ST_WKBToSQL</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Box2dFromGeoHash" title="ST_Box2dFromGeoHash">ST_Box2dFromGeoHash</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromGeoHash" title="ST_GeomFromGeoHash">ST_GeomFromGeoHash</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromGeoJSON" title="ST_GeomFromGeoJSON">ST_GeomFromGeoJSON</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromKML" title="ST_GeomFromKML">ST_GeomFromKML</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeomFromTWKB" title="ST_GeomFromTWKB">ST_GeomFromTWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GMLToSQL" title="ST_GMLToSQL">ST_GMLToSQL</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineFromEncodedPolyline" title="ST_LineFromEncodedPolyline">ST_LineFromEncodedPolyline</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointFromGeoHash" title="ST_PointFromGeoHash">ST_PointFromGeoHash</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_FromFlatGeobufToTable" title="ST_FromFlatGeobufToTable">ST_FromFlatGeobufToTable</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_FromFlatGeobuf" title="ST_FromFlatGeobuf">ST_FromFlatGeobuf</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsText" title="ST_AsText">ST_AsText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsHEXEWKB" title="ST_AsHEXEWKB">ST_AsHEXEWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsEncodedPolyline" title="ST_AsEncodedPolyline">ST_AsEncodedPolyline</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsFlatGeobuf" title="ST_AsFlatGeobuf">ST_AsFlatGeobuf</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsGeobuf" title="ST_AsGeobuf">ST_AsGeobuf</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsKML" title="ST_AsKML">ST_AsKML</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsLatLonText" title="ST_AsLatLonText">ST_AsLatLonText</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsMARC21" title="ST_AsMARC21">ST_AsMARC21</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsSVG" title="ST_AsSVG">ST_AsSVG</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsTWKB" title="ST_AsTWKB">ST_AsTWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeoHash" title="ST_GeoHash">ST_GeoHash</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#geometry_overlaps_nd" title="&amp;&amp;&amp;">&amp;&amp;&amp;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#overlaps_nd_geometry_gidx" title="&amp;&amp;&amp;(geometry,gidx)">&amp;&amp;&amp;(geometry,gidx)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#overlaps_nd_gidx_geometry" title="&amp;&amp;&amp;(gidx,geometry)">&amp;&amp;&amp;(gidx,geometry)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#overlaps_nd_gidx_gidx" title="&amp;&amp;&amp;(gidx,gidx)">&amp;&amp;&amp;(gidx,gidx)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Overleft" title="&amp;&lt;">&amp;&lt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Overbelow" title="&amp;&lt;|">&amp;&lt;|</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Overright" title="&amp;&gt;">&amp;&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Left" title="&lt;&lt;">&lt;&lt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Below" title="&lt;&lt;|">&lt;&lt;|</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_EQ" title="=">=</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Right" title="&gt;&gt;">&gt;&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Contained" title="@">@</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Overabove" title="|&amp;&gt;">|&amp;&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Above" title="|&gt;&gt;">|&gt;&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Contain" title="~">~</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Geometry_Same" title="~=">~=</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#geometry_distance_cpa" title="|=|">|=|</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#geometry_distance_box" title="&lt;#&gt;">&lt;#&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#geometry_distance_centroid_nd" title="&lt;&lt;-&gt;&gt;">&lt;&lt;-&gt;&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Contains" title="ST_Contains">ST_Contains</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Covers" title="ST_Covers">ST_Covers</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Equals" title="ST_Equals">ST_Equals</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineCrossingDirection" title="ST_LineCrossingDirection">ST_LineCrossingDirection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_OrderingEquals" title="ST_OrderingEquals">ST_OrderingEquals</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Relate" title="ST_Relate">ST_Relate</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RelateMatch" title="ST_RelateMatch">ST_RelateMatch</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Touches" title="ST_Touches">ST_Touches</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Within" title="ST_Within">ST_Within</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DDFullyWithin" title="ST_3DDFullyWithin">ST_3DDFullyWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointInsideCircle" title="ST_PointInsideCircle">ST_PointInsideCircle</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Area" title="ST_Area">ST_Area</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Azimuth" title="ST_Azimuth">ST_Azimuth</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Angle" title="ST_Angle">ST_Angle</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClosestPoint" title="ST_ClosestPoint">ST_ClosestPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DistanceSphere" title="ST_DistanceSphere">ST_DistanceSphere</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Distance_Spheroid" title="ST_DistanceSpheroid">ST_DistanceSpheroid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_FrechetDistance" title="ST_FrechetDistance">ST_FrechetDistance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_HausdorffDistance" title="ST_HausdorffDistance">ST_HausdorffDistance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Length" title="ST_Length">ST_Length</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Length2D" title="ST_Length2D">ST_Length2D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DLength" title="ST_3DLength">ST_3DLength</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Length_Spheroid" title="ST_LengthSpheroid">ST_LengthSpheroid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DLongestLine" title="ST_3DLongestLine">ST_3DLongestLine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MinimumClearance" title="ST_MinimumClearance">ST_MinimumClearance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MinimumClearanceLine" title="ST_MinimumClearanceLine">ST_MinimumClearanceLine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Perimeter2D" title="ST_Perimeter2D">ST_Perimeter2D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DPerimeter" title="ST_3DPerimeter">ST_3DPerimeter</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClipByBox2D" title="ST_ClipByBox2D">ST_ClipByBox2D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Difference" title="ST_Difference">ST_Difference</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_transform.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MemUnion" title="ST_MemUnion">ST_MemUnion</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Node" title="ST_Node">ST_Node</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Split" title="ST_Split">ST_Split</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Subdivide" title="ST_Subdivide">ST_Subdivide</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SymDifference" title="ST_SymDifference">ST_SymDifference</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Union" title="ST_Union">ST_Union</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_transform.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_BuildArea" title="ST_BuildArea">ST_BuildArea</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ChaikinSmoothing" title="ST_ChaikinSmoothing">ST_ChaikinSmoothing</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_FilterByM" title="ST_FilterByM">ST_FilterByM</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeneratePoints" title="ST_GeneratePoints">ST_GeneratePoints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GeometricMedian" title="ST_GeometricMedian">ST_GeometricMedian </a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MaximumInscribedCircle" title="ST_MaximumInscribedCircle">ST_MaximumInscribedCircle</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LargestEmptyCircle" title="ST_LargestEmptyCircle">ST_LargestEmptyCircle</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MinimumBoundingCircle" title="ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MinimumBoundingRadius" title="ST_MinimumBoundingRadius">ST_MinimumBoundingRadius</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_OrientedEnvelope" title="ST_OrientedEnvelope">ST_OrientedEnvelope</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_OffsetCurve" title="ST_OffsetCurve">ST_OffsetCurve</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_PointOnSurface" title="ST_PointOnSurface">ST_PointOnSurface</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Polygonize" title="ST_Polygonize">ST_Polygonize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SharedPaths" title="ST_SharedPaths">ST_SharedPaths</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Simplify" title="ST_Simplify">ST_Simplify</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SimplifyPolygonHull" title="ST_SimplifyPolygonHull">ST_SimplifyPolygonHull</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_SetEffectiveArea" title="ST_SetEffectiveArea">ST_SetEffectiveArea</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_VoronoiLines" title="ST_VoronoiLines">ST_VoronoiLines</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_VoronoiPolygons" title="ST_VoronoiPolygons">ST_VoronoiPolygons</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CoverageUnion" title="ST_CoverageUnion">ST_CoverageUnion</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Affine" title="ST_Affine">ST_Affine</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Rotate" title="ST_Rotate">ST_Rotate</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RotateX" title="ST_RotateX">ST_RotateX</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RotateY" title="ST_RotateY">ST_RotateY</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Scale" title="ST_Scale">ST_Scale</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Translate" title="ST_Translate">ST_Translate</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_TransScale" title="ST_TransScale">ST_TransScale</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Box2D" title="Box2D">Box2D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Box3D" title="Box3D">Box3D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_EstimatedExtent" title="ST_EstimatedExtent">ST_EstimatedExtent</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Expand" title="ST_Expand">ST_Expand</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Extent" title="ST_Extent">ST_Extent</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakeBox2D" title="ST_MakeBox2D">ST_MakeBox2D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DMakeBox" title="ST_3DMakeBox">ST_3DMakeBox</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_XMax" title="ST_XMax">ST_XMax</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_XMin" title="ST_XMin">ST_XMin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_YMax" title="ST_YMax">ST_YMax</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_YMin" title="ST_YMin">ST_YMin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ZMax" title="ST_ZMax">ST_ZMax</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ZMin" title="ST_ZMin">ST_ZMin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DLineInterpolatePoint" title="ST_3DLineInterpolatePoint">ST_3DLineInterpolatePoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineInterpolatePoints" title="ST_LineInterpolatePoints">ST_LineInterpolatePoints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineLocatePoint" title="ST_LineLocatePoint">ST_LineLocatePoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LocateBetween" title="ST_LocateBetween">ST_LocateBetween</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_LocateBetweenElevations" title="ST_LocateBetweenElevations">ST_LocateBetweenElevations</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_InterpolatePoint" title="ST_InterpolatePoint">ST_InterpolatePoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AddMeasure" title="ST_AddMeasure">ST_AddMeasure</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_DistanceCPA" title="ST_DistanceCPA">ST_DistanceCPA</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CPAWithin" title="ST_CPAWithin">ST_CPAWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_backend" title="postgis.backend">postgis.backend</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_gdal_datapath" title="postgis.gdal_datapath">postgis.gdal_datapath</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_gdal_enabled_drivers" title="postgis.gdal_enabled_drivers">postgis.gdal_enabled_drivers</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_enable_outdb_rasters" title="postgis.enable_outdb_rasters">postgis.enable_outdb_rasters</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_gdal_vsi_options" title="postgis.gdal_vsi_options">postgis.gdal_vsi_options</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#PostGIS_AddBBox" title="PostGIS_AddBBox">PostGIS_AddBBox</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#PostGIS_DropBBox" title="PostGIS_DropBBox">PostGIS_DropBBox</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#PostGIS_HasBBox" title="PostGIS_HasBBox">PostGIS_HasBBox</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_sfcgal_version" title="postgis_sfcgal_version">postgis_sfcgal_version</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#postgis_sfcgal_full_version" title="postgis_sfcgal_full_version">postgis_sfcgal_full_version</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_ForceLHR" title="CG_ForceLHR">CG_ForceLHR</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_IsPlanar" title="CG_IsPlanar">CG_IsPlanar</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_IsSolid" title="CG_IsSolid">CG_IsSolid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Orientation" title="CG_Orientation">CG_Orientation</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Area" title="CG_Area">CG_Area</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_3DArea" title="CG_3DArea">CG_3DArea</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Volume" title="CG_Volume">CG_Volume</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ForceLHR" title="ST_ForceLHR">ST_ForceLHR</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsPlanar" title="ST_IsPlanar">ST_IsPlanar</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_IsSolid" title="ST_IsSolid">ST_IsSolid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Orientation" title="ST_Orientation">ST_Orientation</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Volume" title="ST_Volume">ST_Volume</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Intersection" title="CG_Intersection">CG_Intersection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Intersects" title="CG_Intersects">CG_Intersects</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_3DIntersects" title="CG_3DIntersects">CG_3DIntersects</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Difference" title="CG_Difference">CG_Difference</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DDifference" title="ST_3DDifference">ST_3DDifference</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_3DDifference" title="CG_3DDifference">CG_3DDifference</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Distance" title="CG_Distance">CG_Distance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_3DDistance" title="CG_3DDistance">CG_3DDistance</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DConvexHull" title="ST_3DConvexHull">ST_3DConvexHull</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_3DConvexHull" title="CG_3DConvexHull">CG_3DConvexHull</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Union" title="CG_Union">CG_Union</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AlphaShape" title="ST_AlphaShape">ST_AlphaShape</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_AlphaShape" title="CG_AlphaShape">CG_AlphaShape</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ApproximateMedialAxis" title="ST_ApproximateMedialAxis">ST_ApproximateMedialAxis</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_ApproximateMedialAxis" title="CG_ApproximateMedialAxis">CG_ApproximateMedialAxis</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ConstrainedDelaunayTriangles" title="ST_ConstrainedDelaunayTriangles">ST_ConstrainedDelaunayTriangles</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_ConstrainedDelaunayTriangles" title="CG_ConstrainedDelaunayTriangles">CG_ConstrainedDelaunayTriangles</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Extrude" title="ST_Extrude">ST_Extrude</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Extrude" title="CG_Extrude">CG_Extrude</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_ExtrudeStraightSkeleton" title="CG_ExtrudeStraightSkeleton">CG_ExtrudeStraightSkeleton</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MinkowskiSum" title="ST_MinkowskiSum">ST_MinkowskiSum</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_MinkowskiSum" title="CG_MinkowskiSum">CG_MinkowskiSum</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_OptimalAlphaShape" title="ST_OptimalAlphaShape">ST_OptimalAlphaShape</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_OptimalAlphaShape" title="CG_OptimalAlphaShape">CG_OptimalAlphaShape</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_StraightSkeleton" title="CG_StraightSkeleton">CG_StraightSkeleton</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_StraightSkeleton" title="ST_StraightSkeleton">ST_StraightSkeleton</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_Tesselate" title="ST_Tesselate">ST_Tesselate</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Tesselate" title="CG_Tesselate">CG_Tesselate</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Triangulate" title="CG_Triangulate">CG_Triangulate</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_Visibility" title="CG_Visibility">CG_Visibility</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_sfcgal_required.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#getfaceedges_returntype" title="getfaceedges_returntype">getfaceedges_returntype</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#topogeometry" title="TopoGeometry">TopoGeometry</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#validatetopology_returntype" title="validatetopology_returntype">validatetopology_returntype</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#topoelement" title="TopoElement">TopoElement</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#topoelementarray" title="TopoElementArray">TopoElementArray</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#AddTopoGeometryColumn" title="AddTopoGeometryColumn">AddTopoGeometryColumn</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RenameTopoGeometryColumn" title="RenameTopoGeometryColumn">RenameTopoGeometryColumn</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#DropTopology" title="DropTopology">DropTopology</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RenameTopology" title="RenameTopology">RenameTopology</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#DropTopoGeometryColumn" title="DropTopoGeometryColumn">DropTopoGeometryColumn</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Populate_Topology_Layer" title="Populate_Topology_Layer">Populate_Topology_Layer</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopologySummary" title="TopologySummary">TopologySummary</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ValidateTopologyRelation" title="ValidateTopologyRelation">ValidateTopologyRelation</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#FindTopology" title="FindTopology">FindTopology</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#FindLayer" title="FindLayer">FindLayer</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CreateTopology" title="CreateTopology">CreateTopology</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CopyTopology" title="CopyTopology">CopyTopology</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_InitTopoGeo" title="ST_InitTopoGeo">ST_InitTopoGeo</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_CreateTopoGeo" title="ST_CreateTopoGeo">ST_CreateTopoGeo</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoGeo_AddPoint" title="TopoGeo_AddPoint">TopoGeo_AddPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoGeo_AddPolygon" title="TopoGeo_AddPolygon">TopoGeo_AddPolygon</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoGeo_LoadGeometry" title="TopoGeo_LoadGeometry">TopoGeo_LoadGeometry</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AddIsoNode" title="ST_AddIsoNode">ST_AddIsoNode</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AddIsoEdge" title="ST_AddIsoEdge">ST_AddIsoEdge</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AddEdgeNewFaces" title="ST_AddEdgeNewFaces">ST_AddEdgeNewFaces</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_AddEdgeModFace" title="ST_AddEdgeModFace">ST_AddEdgeModFace</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemEdgeNewFace" title="ST_RemEdgeNewFace">ST_RemEdgeNewFace</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemEdgeModFace" title="ST_RemEdgeModFace">ST_RemEdgeModFace</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ChangeEdgeGeom" title="ST_ChangeEdgeGeom">ST_ChangeEdgeGeom</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_ModEdgeHeal" title="ST_ModEdgeHeal">ST_ModEdgeHeal</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NewEdgeHeal" title="ST_NewEdgeHeal">ST_NewEdgeHeal</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MoveIsoNode" title="ST_MoveIsoNode">ST_MoveIsoNode</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_NewEdgesSplit" title="ST_NewEdgesSplit">ST_NewEdgesSplit</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemoveIsoNode" title="ST_RemoveIsoNode">ST_RemoveIsoNode</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_RemoveIsoEdge" title="ST_RemoveIsoEdge">ST_RemoveIsoEdge</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetEdgeByPoint" title="GetEdgeByPoint">GetEdgeByPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetFaceByPoint" title="GetFaceByPoint">GetFaceByPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetFaceContainingPoint" title="GetFaceContainingPoint">GetFaceContainingPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetNodeByPoint" title="GetNodeByPoint">GetNodeByPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetTopologyID" title="GetTopologyID">GetTopologyID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetTopologySRID" title="GetTopologySRID">GetTopologySRID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetTopologyName" title="GetTopologyName">GetTopologyName</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GetFaceEdges" title="ST_GetFaceEdges">ST_GetFaceEdges</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_GetFaceGeometry" title="ST_GetFaceGeometry">ST_GetFaceGeometry</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetNodeEdges" title="GetNodeEdges">GetNodeEdges</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopologyPolygonize" title="Polygonize">Polygonize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#AddNode" title="AddNode">AddNode</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#AddEdge" title="AddEdge">AddEdge</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#AddFace" title="AddFace">AddFace</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TP_ST_Simplify" title="ST_Simplify">ST_Simplify</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TP_RemoveUnusedPrimitives" title="RemoveUnusedPrimitives">RemoveUnusedPrimitives</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#CreateTopoGeom" title="CreateTopoGeom">CreateTopoGeom</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoElementArray_Agg" title="TopoElementArray_Agg">TopoElementArray_Agg</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoElement" title="TopoElement">TopoElement</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#clearTopoGeom" title="clearTopoGeom">clearTopoGeom</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoGeom_addElement" title="TopoGeom_addElement">TopoGeom_addElement</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoGeom_remElement" title="TopoGeom_remElement">TopoGeom_remElement</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TopoGeom_addTopoGeom" title="TopoGeom_addTopoGeom">TopoGeom_addTopoGeom</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#toTopoGeom_editor_proxy" title="toTopoGeom">toTopoGeom</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetTopoGeomElementArray" title="GetTopoGeomElementArray">GetTopoGeomElementArray</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#GetTopoGeomElements" title="GetTopoGeomElements">GetTopoGeomElements</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TG_ST_SRID" title="ST_SRID">ST_SRID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#AsGML" title="AsGML">AsGML</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#AsTopoJSON" title="AsTopoJSON">AsTopoJSON</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TG_Equals" title="Equals">Equals</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#TG_Intersects" title="Intersects">Intersects</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#geomval" title="geomval">geomval</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#addbandarg" title="addbandarg">addbandarg</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#rastbandarg" title="rastbandarg">rastbandarg</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#raster" title="raster">raster</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#reclassarg" title="reclassarg">reclassarg</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#summarystats" title="summarystats">summarystats</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#unionarg" title="unionarg">unionarg</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_DropRasterConstraints" title="DropRasterConstraints">DropRasterConstraints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_AddOverviewConstraints" title="AddOverviewConstraints">AddOverviewConstraints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_DropOverviewConstraints" title="DropOverviewConstraints">DropOverviewConstraints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_PostGIS_GDAL_Version" title="PostGIS_GDAL_Version">PostGIS_GDAL_Version</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_PostGIS_Raster_Lib_Build_Date" title="PostGIS_Raster_Lib_Build_Date">PostGIS_Raster_Lib_Build_Date</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_PostGIS_Raster_Lib_Version" title="PostGIS_Raster_Lib_Version">PostGIS_Raster_Lib_Version</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Contour" title="ST_Contour">ST_Contour</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_InterpolateRaster" title="ST_InterpolateRaster">ST_InterpolateRaster</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_UpdateRasterSRID" title="UpdateRasterSRID">UpdateRasterSRID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_CreateOverview" title="ST_CreateOverview">ST_CreateOverview</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AsRaster" title="ST_AsRaster">ST_AsRaster</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Band" title="ST_Band">ST_Band</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MakeEmptyCoverage" title="ST_MakeEmptyCoverage">ST_MakeEmptyCoverage</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MakeEmptyRaster" title="ST_MakeEmptyRaster">ST_MakeEmptyRaster</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Tile" title="ST_Tile">ST_Tile</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Retile" title="ST_Retile">ST_Retile</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_FromGDALRaster" title="ST_FromGDALRaster">ST_FromGDALRaster</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_GeoReference" title="ST_GeoReference">ST_GeoReference</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Height" title="ST_Height">ST_Height</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_IsEmpty" title="ST_IsEmpty">ST_IsEmpty</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MemSize" title="ST_MemSize">ST_MemSize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MetaData" title="ST_MetaData">ST_MetaData</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_NumBands" title="ST_NumBands">ST_NumBands</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelHeight" title="ST_PixelHeight">ST_PixelHeight</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelWidth" title="ST_PixelWidth">ST_PixelWidth</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_RasterToWorldCoord" title="ST_RasterToWorldCoord">ST_RasterToWorldCoord</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Rotation" title="ST_Rotation">ST_Rotation</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SkewX" title="ST_SkewX">ST_SkewX</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SkewY" title="ST_SkewY">ST_SkewY</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SRID" title="ST_SRID">ST_SRID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Summary" title="ST_Summary">ST_Summary</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_UpperLeftX" title="ST_UpperLeftX">ST_UpperLeftX</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_UpperLeftY" title="ST_UpperLeftY">ST_UpperLeftY</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Width" title="ST_Width">ST_Width</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_WorldToRasterCoord" title="ST_WorldToRasterCoord">ST_WorldToRasterCoord</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_WorldToRasterCoordX" title="ST_WorldToRasterCoordX">ST_WorldToRasterCoordX</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_WorldToRasterCoordY" title="ST_WorldToRasterCoordY">ST_WorldToRasterCoordY</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_BandNoDataValue" title="ST_BandNoDataValue">ST_BandNoDataValue</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_BandIsNoData" title="ST_BandIsNoData">ST_BandIsNoData</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_BandPath" title="ST_BandPath">ST_BandPath</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_BandFileSize" title="ST_BandFileSize">ST_BandFileSize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_BandFileTimestamp" title="ST_BandFileTimestamp">ST_BandFileTimestamp</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_BandPixelType" title="ST_BandPixelType">ST_BandPixelType</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#ST_MinPossibleValue" title="ST_MinPossibleValue">ST_MinPossibleValue</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_HasNoBand" title="ST_HasNoBand">ST_HasNoBand</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Value" title="ST_Value">ST_Value</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_NearestValue" title="ST_NearestValue">ST_NearestValue</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetZ" title="ST_SetZ">ST_SetZ</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetM" title="ST_SetM">ST_SetM</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Neighborhood" title="ST_Neighborhood">ST_Neighborhood</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetValues" title="ST_SetValues">ST_SetValues</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_DumpValues" title="ST_DumpValues">ST_DumpValues</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_PixelOfValue" title="ST_PixelOfValue">ST_PixelOfValue</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetGeoReference" title="ST_SetGeoReference">ST_SetGeoReference</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetRotation" title="ST_SetRotation">ST_SetRotation</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetScale" title="ST_SetScale">ST_SetScale</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetSkew" title="ST_SetSkew">ST_SetSkew</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetSRID" title="ST_SetSRID">ST_SetSRID</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetUpperLeft" title="ST_SetUpperLeft">ST_SetUpperLeft</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Reskew" title="ST_Reskew">ST_Reskew</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Resize" title="ST_Resize">ST_Resize</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetBandNoDataValue" title="ST_SetBandNoDataValue">ST_SetBandNoDataValue</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetBandIsNoData" title="ST_SetBandIsNoData">ST_SetBandIsNoData</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetBandPath" title="ST_SetBandPath">ST_SetBandPath</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SetBandIndex" title="ST_SetBandIndex">ST_SetBandIndex</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Count" title="ST_Count">ST_Count</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_CountAgg" title="ST_CountAgg">ST_CountAgg</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Histogram" title="ST_Histogram">ST_Histogram</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Quantile" title="ST_Quantile">ST_Quantile</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_ValueCount" title="ST_ValueCount">ST_ValueCount</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_RastFromWKB" title="ST_RastFromWKB">ST_RastFromWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_RastFromHexWKB" title="ST_RastFromHexWKB">ST_RastFromHexWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AsBinary" title="ST_AsBinary/ST_AsWKB">ST_AsBinary/ST_AsWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AsHexWKB" title="ST_AsHexWKB">ST_AsHexWKB</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AsJPEG" title="ST_AsJPEG">ST_AsJPEG</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_AsTIFF" title="ST_AsTIFF">ST_AsTIFF</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_ColorMap" title="ST_ColorMap">ST_ColorMap</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Grayscale" title="ST_Grayscale">ST_Grayscale</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Intersection" title="ST_Intersection">ST_Intersection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MapAlgebra_expr" title="ST_MapAlgebra (expression version)">ST_MapAlgebra (expression version)</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MapAlgebraExpr" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MapAlgebraFct2" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_InvDistWeight4ma" title="ST_InvDistWeight4ma">ST_InvDistWeight4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MinDist4ma" title="ST_MinDist4ma">ST_MinDist4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Box3D" title="Box3D">Box3D</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_autocast.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_ConvexHull" title="ST_ConvexHull">ST_ConvexHull</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_DumpAsPolygons" title="ST_DumpAsPolygons">ST_DumpAsPolygons</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Envelope" title="ST_Envelope">ST_Envelope</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_MinConvexHull" title="ST_MinConvexHull">ST_MinConvexHull</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Polygon" title="ST_Polygon">ST_Polygon</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Raster_Intersect" title="&amp;&amp;">&amp;&amp;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Raster_OverLeft" title="&amp;&lt;">&amp;&lt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Raster_OverRight" title="&amp;&gt;">&amp;&gt;</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Raster_EQ" title="=">=</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Raster_Contained" title="@">@</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Raster_Same" title="~=">~=</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_Raster_Contains" title="~">~</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Contains" title="ST_Contains">ST_Contains</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Covers" title="ST_Covers">ST_Covers</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Intersects" title="ST_Intersects">ST_Intersects</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Touches" title="ST_Touches">ST_Touches</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_NotSameAlignmentReason" title="ST_NotSameAlignmentReason">ST_NotSameAlignmentReason</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_Within" title="ST_Within">ST_Within</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_DWithin" title="ST_DWithin">ST_DWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#RT_ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#stdaddr" title="stdaddr">stdaddr</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#rulestab" title="rules table">rules table</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#lextab" title="lex table">lex table</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#gaztab" title="gaz table">gaz table</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#debug_standardize_address" title="debug_standardize_address">debug_standardize_address</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#parse_address" title="parse_address">parse_address</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#standardize_address" title="standardize_address">standardize_address</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Drop_Indexes_Generate_Script" title="Drop_Indexes_Generate_Script">Drop_Indexes_Generate_Script</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Drop_Nation_Tables_Generate_Script" title="Drop_Nation_Tables_Generate_Script">Drop_Nation_Tables_Generate_Script</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Drop_State_Tables_Generate_Script" title="Drop_State_Tables_Generate_Script">Drop_State_Tables_Generate_Script</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Geocode" title="Geocode">Geocode</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Geocode_Intersection" title="Geocode_Intersection">Geocode_Intersection</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Get_Geocode_Setting" title="Get_Geocode_Setting">Get_Geocode_Setting</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Get_Tract" title="Get_Tract">Get_Tract</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Install_Missing_Indexes" title="Install_Missing_Indexes">Install_Missing_Indexes</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Loader_Generate_Census_Script" title="Loader_Generate_Census_Script">Loader_Generate_Census_Script</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Missing_Indexes_Generate_Script" title="Missing_Indexes_Generate_Script">Missing_Indexes_Generate_Script</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Pprint_Addy" title="Pprint_Addy">Pprint_Addy</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Reverse_Geocode" title="Reverse_Geocode">Reverse_Geocode</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; ">
				<span class="inlinemediaobject"><img src="images/matrix_checkmark.png"/></span>
			</td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
      <a class="link" href="#Topology_Load_Tiger" title="Topology_Load_Tiger">Topology_Load_Tiger</a>
    </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; "> </td><td style="text-align: center; border-bottom: 1px solid ; "> </td></tr><tr><td style="text-align: left; border-right: 1px solid ; ">
      <a class="link" href="#Set_Geocode_Setting" title="Set_Geocode_Setting">Set_Geocode_Setting</a>
    </td><td style="text-align: center; border-right: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; "> </td><td style="text-align: center; border-right: 1px solid ; "> </td><td style="text-align: center; "> </td></tr></tbody></table></div><p>
    </p></section><section class="section" id="NewFunctions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.12. New, Enhanced or changed PostGIS Functions</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#idm50556">13.12.1. PostGIS Functions new or enhanced in 3.5</a></span></li><li><span class="section"><a href="#idm50688">13.12.2. PostGIS Functions new or enhanced in 3.4</a></span></li><li><span class="section"><a href="#idm50784">13.12.3. PostGIS Functions new or enhanced in 3.3</a></span></li><li><span class="section"><a href="#idm50832">13.12.4. PostGIS Functions new or enhanced in 3.2</a></span></li><li><span class="section"><a href="#idm50937">13.12.5. PostGIS Functions new or enhanced in 3.1</a></span></li><li><span class="section"><a href="#idm51018">13.12.6. PostGIS Functions new or enhanced in 3.0</a></span></li><li><span class="section"><a href="#idm51126">13.12.7. PostGIS Functions new or enhanced in 2.5</a></span></li><li><span class="section"><a href="#idm51219">13.12.8. PostGIS Functions new or enhanced in 2.4</a></span></li><li><span class="section"><a href="#idm51291">13.12.9. PostGIS Functions new or enhanced in 2.3</a></span></li><li><span class="section"><a href="#idm51408">13.12.10. PostGIS Functions new or enhanced in 2.2</a></span></li><li><span class="section"><a href="#idm51597">13.12.11. PostGIS Functions new or enhanced in 2.1</a></span></li><li><span class="section"><a href="#idm51963">13.12.12. PostGIS Functions new or enhanced in 2.0</a></span></li><li><span class="section"><a href="#idm52593">13.12.13. PostGIS Functions new or enhanced in 1.5</a></span></li><li><span class="section"><a href="#idm52691">13.12.14. PostGIS Functions new or enhanced in 1.4</a></span></li><li><span class="section"><a href="#idm52726">13.12.15. PostGIS Functions new or enhanced in 1.3</a></span></li></ul></div><section class="section" id="idm50556"><div class="titlepage"><div><div><h3 class="title">13.12.1. PostGIS Functions new or enhanced in 3.5</h3></div></div></div><p>The functions given below are PostGIS functions that were added or enhanced.</p><p>Functions new in PostGIS 3.5</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#CG_3DArea" title="CG_3DArea">CG_3DArea</a> - Availability: 3.5.0 Computa a área de geometrias de superfície 3D. Irá retornar 0 para sólidos.</li><li class="listitem"><a class="link" href="#CG_3DConvexHull" title="CG_3DConvexHull">CG_3DConvexHull</a> - Availability: 3.5.0 Computa o eixo mediano aproximado de uma geometria territorial.</li><li class="listitem"><a class="link" href="#CG_3DDifference" title="CG_3DDifference">CG_3DDifference</a> - Availability: 3.5.0 Representar diferença 3D</li><li class="listitem"><a class="link" href="#CG_3DDistance" title="CG_3DDistance">CG_3DDistance</a> - Availability: 3.5.0 Computes the minimum 3D distance between two geometries</li><li class="listitem"><a class="link" href="#CG_3DIntersection" title="CG_3DIntersection">CG_3DIntersection</a> - Availability: 3.5.0 Representar intersecção 3D</li><li class="listitem"><a class="link" href="#CG_3DIntersects" title="CG_3DIntersects">CG_3DIntersects</a> - Availability: 3.5.0 Tests if two 3D geometries intersect</li><li class="listitem"><a class="link" href="#CG_3DUnion" title="CG_3DUnion">CG_3DUnion</a> - Availability: 3.5.0 Perform 3D union using postgis_sfcgal.</li><li class="listitem"><a class="link" href="#CG_AlphaShape" title="CG_AlphaShape">CG_AlphaShape</a> - Availability: 3.5.0 - requires SFCGAL &gt;= 1.4.1. Computes an Alpha-shape enclosing a geometry</li><li class="listitem"><a class="link" href="#CG_ApproxConvexPartition" title="CG_ApproxConvexPartition">CG_ApproxConvexPartition</a> - Availability: 3.5.0 - requires SFCGAL &gt;= 1.5.0. Computes approximal convex partition of the polygon geometry</li><li class="listitem"><a class="link" href="#CG_ApproximateMedialAxis" title="CG_ApproximateMedialAxis">CG_ApproximateMedialAxis</a> - Availability: 3.5.0 Computa o eixo mediano aproximado de uma geometria territorial.</li><li class="listitem"><a class="link" href="#CG_Area" title="CG_Area">CG_Area</a> - Availability: 3.5.0 Calculates the area of a geometry</li><li class="listitem"><a class="link" href="#CG_Difference" title="CG_Difference">CG_Difference</a> - Availability: 3.5.0 Computes the geometric difference between two geometries</li><li class="listitem"><a class="link" href="#CG_Distance" title="CG_Distance">CG_Distance</a> - Availability: 3.5.0 Computes the minimum distance between two geometries</li><li class="listitem"><a class="link" href="#CG_Extrude" title="CG_Extrude">CG_Extrude</a> - Availability: 3.5.0 Extrude uma superfície a um volume relacionado</li><li class="listitem"><a class="link" href="#CG_ExtrudeStraightSkeleton" title="CG_ExtrudeStraightSkeleton">CG_ExtrudeStraightSkeleton</a> - Availability: 3.5.0 - requires SFCGAL &gt;= 1.5.0. Straight Skeleton Extrusion</li><li class="listitem"><a class="link" href="#CG_ForceLHR" title="CG_ForceLHR">CG_ForceLHR</a> - Availability: 3.5.0 Orientação força LHR</li><li class="listitem"><a class="link" href="#CG_GreeneApproxConvexPartition" title="CG_GreeneApproxConvexPartition">CG_GreeneApproxConvexPartition</a> - Availability: 3.5.0 - requires SFCGAL &gt;= 1.5.0. Computes approximal convex partition of the polygon geometry</li><li class="listitem"><a class="link" href="#CG_Intersection" title="CG_Intersection">CG_Intersection</a> - Availability: 3.5.0 Computes the intersection of two geometries</li><li class="listitem"><a class="link" href="#CG_Intersects" title="CG_Intersects">CG_Intersects</a> - Availability: 3.5.0 Tests if two geometries intersect (they have at least one point in common)</li><li class="listitem"><a class="link" href="#CG_IsPlanar" title="CG_IsPlanar">CG_IsPlanar</a> - Availability: 3.5.0 Verifique se a superfície é ou não planar</li><li class="listitem"><a class="link" href="#CG_IsSolid" title="CG_IsSolid">CG_IsSolid</a> - Availability: 3.5.0 teste se a geometria é um sólido. Nenhuma verificação de validade é representada.</li><li class="listitem"><a class="link" href="#CG_MakeSolid" title="CG_MakeSolid">CG_MakeSolid</a> - Availability: 3.5.0 Molde a geometria para um sólido. Nenhuma verificação é apresentada. Para obter um sólido válido, a geometria de entrada deve ser uma superfície poliédrica fechada ou um TIN fechado.</li><li class="listitem"><a class="link" href="#CG_MinkowskiSum" title="CG_MinkowskiSum">CG_MinkowskiSum</a> - Availability: 3.5.0 Representar soma Minkowski</li><li class="listitem"><a class="link" href="#CG_OptimalAlphaShape" title="CG_OptimalAlphaShape">CG_OptimalAlphaShape</a> - Availability: 3.5.0 - requires SFCGAL &gt;= 1.4.1. Computes an Alpha-shape enclosing a geometry using an "optimal" alpha value.</li><li class="listitem"><a class="link" href="#CG_OptimalConvexPartition" title="CG_OptimalConvexPartition">CG_OptimalConvexPartition</a> - Availability: 3.5.0 - requires SFCGAL &gt;= 1.5.0. Computes an optimal convex partition of the polygon geometry</li><li class="listitem"><a class="link" href="#CG_Orientation" title="CG_Orientation">CG_Orientation</a> - Availability: 3.5.0 Determine orientação da superfície</li><li class="listitem"><a class="link" href="#CG_StraightSkeleton" title="CG_StraightSkeleton">CG_StraightSkeleton</a> - Availability: 3.5.0 Calcule um esqueleto em linha reta de uma geometria</li><li class="listitem"><a class="link" href="#CG_Tesselate" title="CG_Tesselate">CG_Tesselate</a> - Availability: 3.5.0 Representa superfície tesselação de um polígono ou superfície poliédrica e retorna como uma TIN ou coleção de TINS</li><li class="listitem"><a class="link" href="#CG_Triangulate" title="CG_Triangulate">CG_Triangulate</a> - Availability: 3.5.0 Triangulates a polygonal geometry</li><li class="listitem"><a class="link" href="#CG_Union" title="CG_Union">CG_Union</a> - Availability: 3.5.0 Computes the union of two geometries</li><li class="listitem"><a class="link" href="#CG_Visibility" title="CG_Visibility">CG_Visibility</a> - Availability: 3.5.0 - requires SFCGAL &gt;= 1.5.0. Compute a visibility polygon from a point or a segment in a polygon geometry</li><li class="listitem"><a class="link" href="#CG_Volume" title="CG_Volume">CG_Volume</a> - Availability: 3.5.0 Computa o volume de um sólido 3D. Se aplicado a geometrias com superfícies (mesmo fechadas), irão retornar 0.</li><li class="listitem"><a class="link" href="#CG_YMonotonePartition" title="CG_YMonotonePartition">CG_YMonotonePartition</a> - Availability: 3.5.0 - requires SFCGAL &gt;= 1.5.0. Computes y-monotone partition of the polygon geometry</li><li class="listitem"><a class="link" href="#ST_HasM" title="ST_HasM">ST_HasM</a> - Availability: 3.5.0 Checks if a geometry has an M (measure) dimension.</li><li class="listitem"><a class="link" href="#ST_HasZ" title="ST_HasZ">ST_HasZ</a> - Availability: 3.5.0 Checks if a geometry has a Z dimension.</li><li class="listitem"><a class="link" href="#ST_RemoveIrrelevantPointsForView" title="ST_RemoveIrrelevantPointsForView">ST_RemoveIrrelevantPointsForView</a> - Availability: 3.5.0 Removes points that are irrelevant for rendering a specific rectangluar view of a geometry.</li><li class="listitem"><a class="link" href="#ST_RemoveSmallParts" title="ST_RemoveSmallParts">ST_RemoveSmallParts</a> - Availability: 3.5.0 Removes small parts (polygon rings or linestrings) of a geometry.</li><li class="listitem"><a class="link" href="#TopoGeo_LoadGeometry" title="TopoGeo_LoadGeometry">TopoGeo_LoadGeometry</a> - Availability: 3.5.0 Load a geometry into an existing topology, snapping and splitting as needed.</li></ul></div><p>Functions enhanced in PostGIS 3.5</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a> - Enhanced: 3.5.0 - touched argument added. Returns the raster clipped by the input geometry. If band number is not specified, all bands are processed. If crop is not specified or TRUE, the output raster is cropped. If touched is set to TRUE, then touched pixels are included, otherwise only if the center of the pixel is in the geometry it is included.</li></ul></div><p>Functions changed in PostGIS 3.5</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Changed: 3.5.0 allow specifying the column containing the feature id Return a geometry or feature in GeoJSON format.</li><li class="listitem"><a class="link" href="#ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a> - Changed: 3.5.0 : the logic behind the function now uses a test of containment within a buffer, rather than the ST_MaxDistance algorithm. Results will differ from prior versions, but should be closer to user expectations. Tests if a geometry is entirely inside a distance of another</li></ul></div></section><section class="section" id="idm50688"><div class="titlepage"><div><div><h3 class="title">13.12.2. PostGIS Functions new or enhanced in 3.4</h3></div></div></div><p>The functions given below are PostGIS functions that were added or enhanced.</p><p>Functions new in PostGIS 3.4</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#PostGIS_GEOS_Compiled_Version" title="PostGIS_GEOS_Compiled_Version">PostGIS_GEOS_Compiled_Version</a> - Availability: 3.4.0 Returns the version number of the GEOS library against which PostGIS was built.</li><li class="listitem"><a class="link" href="#PostGIS_PROJ_Compiled_Version" title="PostGIS_PROJ_Compiled_Version">PostGIS_PROJ_Compiled_Version</a> - Availability: 3.5.0 Returns the version number of the PROJ library against which PostGIS was built.</li><li class="listitem"><a class="link" href="#RenameTopoGeometryColumn" title="RenameTopoGeometryColumn">RenameTopoGeometryColumn</a> - Availability: 3.4.0 Renames a topogeometry column</li><li class="listitem"><a class="link" href="#RenameTopology" title="RenameTopology">RenameTopology</a> - Availability: 3.4.0 Renames a topology</li><li class="listitem"><a class="link" href="#ST_ClusterIntersectingWin" title="ST_ClusterIntersectingWin">ST_ClusterIntersectingWin</a> - Availability: 3.4.0 Window function that returns a cluster id for each input geometry, clustering input geometries into connected sets.</li><li class="listitem"><a class="link" href="#ST_ClusterWithinWin" title="ST_ClusterWithinWin">ST_ClusterWithinWin</a> - Availability: 3.4.0 Window function that returns a cluster id for each input geometry, clustering using separation distance.</li><li class="listitem"><a class="link" href="#ST_CoverageInvalidEdges" title="ST_CoverageInvalidEdges">ST_CoverageInvalidEdges</a> - Availability: 3.4.0 Window function that finds locations where polygons fail to form a valid coverage.</li><li class="listitem"><a class="link" href="#ST_CoverageSimplify" title="ST_CoverageSimplify">ST_CoverageSimplify</a> - Availability: 3.4.0 Window function that simplifies the edges of a polygonal coverage.</li><li class="listitem"><a class="link" href="#ST_CoverageUnion" title="ST_CoverageUnion">ST_CoverageUnion</a> - Availability: 3.4.0 - requires GEOS &gt;= 3.8.0 Computes the union of a set of polygons forming a coverage by removing shared edges.</li><li class="listitem"><a class="link" href="#ST_InverseTransformPipeline" title="ST_InverseTransformPipeline">ST_InverseTransformPipeline</a> - Availability: 3.4.0 Return a new geometry with coordinates transformed to a different spatial reference system using the inverse of a defined coordinate transformation pipeline.</li><li class="listitem"><a class="link" href="#ST_LargestEmptyCircle" title="ST_LargestEmptyCircle">ST_LargestEmptyCircle</a> - Availability: 3.4.0. Computes the largest circle not overlapping a geometry.</li><li class="listitem"><a class="link" href="#ST_LineExtend" title="ST_LineExtend">ST_LineExtend</a> - Availability: 3.4.0 Returns a line extended forwards and backwards by specified distances.</li><li class="listitem"><a class="link" href="#ST_TransformPipeline" title="ST_TransformPipeline">ST_TransformPipeline</a> - Availability: 3.4.0 Return a new geometry with coordinates transformed to a different spatial reference system using a defined coordinate transformation pipeline.</li><li class="listitem"><a class="link" href="#TopoElement" title="TopoElement">TopoElement</a> - Availability: 3.4.0 Converts a topogeometry to a topoelement.</li><li class="listitem"><a class="link" href="#debug_standardize_address" title="debug_standardize_address">debug_standardize_address</a> - Availability: 3.4.0 Returns a json formatted text listing the parse tokens and standardizations</li><li class="listitem"><a class="link" href="#postgis_srs" title="postgis_srs">postgis_srs</a> - Availability: 3.4.0 Return a metadata record for the requested authority and srid.</li><li class="listitem"><a class="link" href="#postgis_srs_all" title="postgis_srs_all">postgis_srs_all</a> - Availability: 3.4.0 Return metadata records for every spatial reference system in the underlying Proj database.</li><li class="listitem"><a class="link" href="#postgis_srs_codes" title="postgis_srs_codes">postgis_srs_codes</a> - Availability: 3.4.0 Return the list of SRS codes associated with the given authority.</li><li class="listitem"><a class="link" href="#postgis_srs_search" title="postgis_srs_search">postgis_srs_search</a> - Availability: 3.4.0 Return metadata records for projected coordinate systems that have areas of usage that fully contain the bounds parameter.</li></ul></div><p>Functions enhanced in PostGIS 3.4</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#PostGIS_Full_Version" title="PostGIS_Full_Version">PostGIS_Full_Version</a> - Enhanced: 3.4.0 now includes extra PROJ configurations NETWORK_ENABLED, URL_ENDPOINT and DATABASE_PATH of proj.db location  Reports full PostGIS version and build configuration infos.</li><li class="listitem"><a class="link" href="#PostGIS_PROJ_Version" title="PostGIS_PROJ_Version">PostGIS_PROJ_Version</a> - Enhanced: 3.4.0 now includes NETWORK_ENABLED, URL_ENDPOINT and DATABASE_PATH of proj.db location  Returns the version number of the PROJ4 library.</li><li class="listitem"><a class="link" href="#ST_AsSVG" title="ST_AsSVG">ST_AsSVG</a> - Enhanced: 3.4.0 to support all curve types Returns SVG path data for a geometry.</li><li class="listitem"><a class="link" href="#ST_ClosestPoint" title="ST_ClosestPoint">ST_ClosestPoint</a> - Enhanced: 3.4.0 - Support for geography. Returns the 2D point on g1 that is closest to g2. This is the first point of the shortest line from one geometry to the other.</li><li class="listitem"><a class="link" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a> - Enhanced: 3.4.0 - Support for geography was introduced. Returns the part of a line between two fractional locations.</li><li class="listitem"><a class="link" href="#ST_Project" title="ST_Project">ST_Project</a> - Enhanced: 3.4.0 Allow geometry arguments and two-point form omitting azimuth. Returns a point projected from a start point by a distance and bearing (azimuth).</li><li class="listitem"><a class="link" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a> - Enhanced: 3.4.0 max and min resampling options added Resample um raster usando um algorítimo específico, novas dimensões, um canto aleatório da grade e um conjunto de rasters georreferenciando atributos definidos ou emprestados de outro raster.</li><li class="listitem"><a class="link" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a> - Enhanced: 3.4.0 max and min resampling options added Resample a raster by adjusting only its scale (or pixel size). New pixel values are computed using the NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline, Lanczos, Max or Min resampling algorithm. Default is NearestNeighbor.</li><li class="listitem"><a class="link" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a> - Enhanced: 3.4.0 - support for geography. Retorna a menor linha 2-dimensional entre duas geometrias</li></ul></div><p>Functions changed in PostGIS 3.4</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#PostGIS_Extensions_Upgrade" title="PostGIS_Extensions_Upgrade">PostGIS_Extensions_Upgrade</a> - Changed: 3.4.0 to add target_version argument. Packages and upgrades PostGIS extensions (e.g. postgis_raster, postgis_topology, postgis_sfcgal) to given or latest version.</li></ul></div></section><section class="section" id="idm50784"><div class="titlepage"><div><div><h3 class="title">13.12.3. PostGIS Functions new or enhanced in 3.3</h3></div></div></div><p>The functions given below are PostGIS functions that were added or enhanced.</p><p>Functions new in PostGIS 3.3</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#TP_RemoveUnusedPrimitives" title="RemoveUnusedPrimitives">RemoveUnusedPrimitives</a> - Availability: 3.3.0 Removes topology primitives which not needed to define existing TopoGeometry objects.</li><li class="listitem"><a class="link" href="#ST_3DConvexHull" title="ST_3DConvexHull">ST_3DConvexHull</a> - Availability: 3.3.0 Computa o eixo mediano aproximado de uma geometria territorial.</li><li class="listitem"><a class="link" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a> - Availability: 3.3.0 aggregate variant was added Perform 3D union.</li><li class="listitem"><a class="link" href="#ST_AsMARC21" title="ST_AsMARC21">ST_AsMARC21</a> - Availability: 3.3.0  Returns geometry as a MARC21/XML record with a geographic datafield (034).</li><li class="listitem"><a class="link" href="#ST_GeomFromMARC21" title="ST_GeomFromMARC21">ST_GeomFromMARC21</a> - Availability: 3.3.0, requires libxml2 2.6+ Takes MARC21/XML geographic data as input and returns a PostGIS geometry object.</li><li class="listitem"><a class="link" href="#ST_Letters" title="ST_Letters">ST_Letters</a> - Availability: 3.3.0 Returns the input letters rendered as geometry with a default start position at the origin and default text height of 100.</li><li class="listitem"><a class="link" href="#ST_OptimalAlphaShape" title="ST_OptimalAlphaShape">ST_OptimalAlphaShape</a> - Availability: 3.3.0 - requires SFCGAL &gt;= 1.4.1. Computes an Alpha-shape enclosing a geometry using an "optimal" alpha value.</li><li class="listitem"><a class="link" href="#ST_SimplifyPolygonHull" title="ST_SimplifyPolygonHull">ST_SimplifyPolygonHull</a> - Availability: 3.3.0. Computes a simplifed topology-preserving outer or inner hull of a polygonal geometry.</li><li class="listitem"><a class="link" href="#ST_TriangulatePolygon" title="ST_TriangulatePolygon">ST_TriangulatePolygon</a> - Availability: 3.3.0. Computes the constrained Delaunay triangulation of polygons</li><li class="listitem"><a class="link" href="#postgis_sfcgal_full_version" title="postgis_sfcgal_full_version">postgis_sfcgal_full_version</a> - Availability: 3.3.0 Returns the full version of SFCGAL in use including CGAL and Boost versions</li></ul></div><p>Functions enhanced in PostGIS 3.3</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a> - Enhanced: 3.3.0, GEOS native implementation enabled for GEOS 3.11+ Computes a possibly concave geometry that contains all input geometry vertices</li><li class="listitem"><a class="link" href="#ST_LineMerge" title="ST_LineMerge">ST_LineMerge</a> - Enhanced: 3.3.0 accept a directed parameter. Return the lines formed by sewing together a MultiLineString.</li></ul></div><p>Functions changed in PostGIS 3.3</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#PostGIS_Extensions_Upgrade" title="PostGIS_Extensions_Upgrade">PostGIS_Extensions_Upgrade</a> - Changed: 3.3.0 support for upgrades from any PostGIS version. Does not work on all systems. Packages and upgrades PostGIS extensions (e.g. postgis_raster, postgis_topology, postgis_sfcgal) to given or latest version.</li></ul></div></section><section class="section" id="idm50832"><div class="titlepage"><div><div><h3 class="title">13.12.4. PostGIS Functions new or enhanced in 3.2</h3></div></div></div><p>The functions given below are PostGIS functions that were added or enhanced.</p><p>Functions new in PostGIS 3.2</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#FindLayer" title="FindLayer">FindLayer</a> - Availability: 3.2.0 Returns a topology.layer record by different means.</li><li class="listitem"><a class="link" href="#FindTopology" title="FindTopology">FindTopology</a> - Availability: 3.2.0 Returns a topology record by different means.</li><li class="listitem"><a class="link" href="#GetFaceContainingPoint" title="GetFaceContainingPoint">GetFaceContainingPoint</a> - Availability: 3.2.0 Finds the face containing a point.</li><li class="listitem"><a class="link" href="#ST_AsFlatGeobuf" title="ST_AsFlatGeobuf">ST_AsFlatGeobuf</a> - Availability: 3.2.0 Return a FlatGeobuf representation of a set of rows.</li><li class="listitem"><a class="link" href="#RT_ST_Contour" title="ST_Contour">ST_Contour</a> - Availability: 3.2.0 Generates a set of vector contours from the provided raster band, using the GDAL contouring algorithm.</li><li class="listitem"><a class="link" href="#ST_DumpSegments" title="ST_DumpSegments">ST_DumpSegments</a> - Availability: 3.2.0 Retorna um texto resumo dos conteúdos da geometria.</li><li class="listitem"><a class="link" href="#ST_FromFlatGeobuf" title="ST_FromFlatGeobuf">ST_FromFlatGeobuf</a> - Availability: 3.2.0 Reads FlatGeobuf data.</li><li class="listitem"><a class="link" href="#ST_FromFlatGeobufToTable" title="ST_FromFlatGeobufToTable">ST_FromFlatGeobufToTable</a> - Availability: 3.2.0 Creates a table based on the structure of FlatGeobuf data.</li><li class="listitem"><a class="link" href="#RT_ST_InterpolateRaster" title="ST_InterpolateRaster">ST_InterpolateRaster</a> - Availability: 3.2.0 Interpolates a gridded surface based on an input set of 3-d points, using the X- and Y-values to position the points on the grid and the Z-value of the points as the surface elevation.</li><li class="listitem"><a class="link" href="#TG_ST_SRID" title="ST_SRID">ST_SRID</a> - Availability: 3.2.0 Returns the spatial reference identifier for a topogeometry.</li><li class="listitem"><a class="link" href="#ST_Scroll" title="ST_Scroll">ST_Scroll</a> - Availability: 3.2.0 Change start point of a closed LineString.</li><li class="listitem"><a class="link" href="#RT_ST_SetM" title="ST_SetM">ST_SetM</a> - Availability: 3.2.0 Returns a geometry with the same X/Y coordinates as the input geometry, and values from the raster copied into the M dimension using the requested resample algorithm.</li><li class="listitem"><a class="link" href="#RT_ST_SetZ" title="ST_SetZ">ST_SetZ</a> - Availability: 3.2.0 Returns a geometry with the same X/Y coordinates as the input geometry, and values from the raster copied into the Z dimension using the requested resample algorithm.</li><li class="listitem"><a class="link" href="#TopoGeom_addTopoGeom" title="TopoGeom_addTopoGeom">TopoGeom_addTopoGeom</a> - Availability: 3.2 Adds element of a TopoGeometry to the definition of another TopoGeometry.</li><li class="listitem"><a class="link" href="#ValidateTopologyRelation" title="ValidateTopologyRelation">ValidateTopologyRelation</a> - Availability: 3.2.0 Returns info about invalid topology relation records</li><li class="listitem"><a class="link" href="#postgis_gdal_vsi_options" title="postgis.gdal_vsi_options">postgis.gdal_vsi_options</a> - Availability: 3.2.0 Uma opção de configuração booleana para ativar o acesso ao out-db raster bands.</li></ul></div><p>Functions enhanced in PostGIS 3.2</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#GetFaceByPoint" title="GetFaceByPoint">GetFaceByPoint</a> - Enhanced: 3.2.0 more efficient implementation and clearer contract, stops working with invalid topologies. Finds face intersecting a given point.</li><li class="listitem"><a class="link" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a> - Enhanced: 3.2.0 Support for max_radius Window function that returns a cluster id for each input geometry using the K-means algorithm.</li><li class="listitem"><a class="link" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> - Enhanced: 3.2.0, added algorithm options, 'linework' and 'structure' which requires GEOS &gt;= 3.10.0. Attempts to make an invalid geometry valid without losing vertices.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a> - Melhorias: 2.1.0 Reescrito em C Retorna o centroide (ponto) da área representada por um pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a> - Melhorias: 2.1.0 Reescrito em C Retorna o centroide (ponto geométrico) para cada pixel de uma banda raster junto com o valor, as coordenas raster X e Y de cada pixel. O ponto é o centroide da área representada por um pixel.</li><li class="listitem"><a class="link" href="#ST_Point" title="ST_Point">ST_Point</a> - Enhanced: 3.2.0 srid as an extra optional argument was added. Older installs require combining with ST_SetSRID to mark the srid on the geometry. Creates a Point with X, Y and SRID values.</li><li class="listitem"><a class="link" href="#ST_PointM" title="ST_PointM">ST_PointM</a> - Enhanced: 3.2.0 srid as an extra optional argument was added. Older installs require combining with ST_SetSRID to mark the srid on the geometry. Creates a Point with X, Y, M and SRID values.</li><li class="listitem"><a class="link" href="#ST_PointZ" title="ST_PointZ">ST_PointZ</a> - Enhanced: 3.2.0 srid as an extra optional argument was added. Older installs require combining with ST_SetSRID to mark the srid on the geometry. Creates a Point with X, Y, Z and SRID values.</li><li class="listitem"><a class="link" href="#ST_PointZM" title="ST_PointZM">ST_PointZM</a> - Enhanced: 3.2.0 srid as an extra optional argument was added. Older installs require combining with ST_SetSRID to mark the srid on the geometry. Creates a Point with X, Y, Z, M and SRID values.</li><li class="listitem"><a class="link" href="#ST_RemovePoint" title="ST_RemovePoint">ST_RemovePoint</a> - Enhanced: 3.2.0 Remove a point from a linestring.</li><li class="listitem"><a class="link" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a> - Enhanced: 3.2.0 Returns a version of a geometry with duplicate points removed.</li><li class="listitem"><a class="link" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a> - Enhanced: 3.2.0 returns a point for all geometries. Prior behavior returns NULLs if input was not a LineString. Returns the first point of a LineString.</li><li class="listitem"><a class="link" href="#RT_ST_Value" title="ST_Value">ST_Value</a> - Melhorias: 2.1.0 o argumento opcional exclude_nodata_value foi adicionado. Retorna o valor da banda dada com a colunax, linhay pixel ou em um ponto específico. Os números de banda começam em 1 e assumem-se 1 se não especificados. Se exclude_nodata_value for falso, então todos os pixeis, inclusive os nodata, são considerados para intersectar e retornar valor. Se exclude_nodata_value não passar então lê dos metadados do raster.</li><li class="listitem"><a class="link" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a> - Enhanced: 3.2.0 added support for returning signed identifier. Adds a linestring to an existing topology using a tolerance and possibly splitting existing edges/faces.</li></ul></div><p>Functions changed in PostGIS 3.2</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a> - Changed: 3.2.0 support for TIN, does not use geos, does not linearize curves Retorna o encerramento da borda combinatória dessa geometria.</li><li class="listitem"><a class="link" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a> - Changed: 3.2.0 added optional bbox parameter, perform face labeling and edge linking checks. Returns a set of validatetopology_returntype objects detailing issues with topology.</li></ul></div></section><section class="section" id="idm50937"><div class="titlepage"><div><div><h3 class="title">13.12.5. PostGIS Functions new or enhanced in 3.1</h3></div></div></div><p>The functions given below are PostGIS functions that were added or enhanced.</p><p>Functions new in PostGIS 3.1</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_Hexagon" title="ST_Hexagon">ST_Hexagon</a> - Disponibilidade: 2.1.0 Returns a single hexagon, using the provided edge size and cell coordinate within the hexagon grid space.</li><li class="listitem"><a class="link" href="#ST_HexagonGrid" title="ST_HexagonGrid">ST_HexagonGrid</a> - Disponibilidade: 2.1.0 Returns a set of hexagons and cell indices that completely cover the bounds of the geometry argument.</li><li class="listitem"><a class="link" href="#ST_MaximumInscribedCircle" title="ST_MaximumInscribedCircle">ST_MaximumInscribedCircle</a> - Availability: 3.1.0. Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_ReducePrecision" title="ST_ReducePrecision">ST_ReducePrecision</a> - Availability: 3.1.0. Returns a valid geometry with points rounded to a grid tolerance.</li><li class="listitem"><a class="link" href="#ST_Square" title="ST_Square">ST_Square</a> - Disponibilidade: 2.1.0 Returns a single square, using the provided edge size and cell coordinate within the square grid space.</li><li class="listitem"><a class="link" href="#ST_SquareGrid" title="ST_SquareGrid">ST_SquareGrid</a> - Disponibilidade: 2.1.0 Returns a set of grid squares and cell indices that completely cover the bounds of the geometry argument.</li></ul></div><p>Functions enhanced in PostGIS 3.1</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a> - Enhanced: 3.1.0 support for optional precision parameter. Retorna a representação de texto bem conhecida (WKT) da geometria com os meta dados SRID.</li><li class="listitem"><a class="link" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a> - Enhanced: 3.1.0 Support for 3D geometries and weights Window function that returns a cluster id for each input geometry using the K-means algorithm.</li><li class="listitem"><a class="link" href="#ST_Difference" title="ST_Difference">ST_Difference</a> - Enhanced: 3.1.0 accept a gridSize parameter. Computes a geometry representing the part of geometry A that does not intersect geometry B.</li><li class="listitem"><a class="link" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Enhanced: 3.1.0 accept a gridSize parameter Computes a geometry representing the shared portion of geometries A and B.</li><li class="listitem"><a class="link" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> - Enhanced: 3.1.0, added removal of Coordinates with NaN values. Attempts to make an invalid geometry valid without losing vertices.</li><li class="listitem"><a class="link" href="#ST_Subdivide" title="ST_Subdivide">ST_Subdivide</a> - Enhanced: 3.1.0 accept a gridSize parameter. Computes a rectilinear subdivision of a geometry.</li><li class="listitem"><a class="link" href="#ST_SymDifference" title="ST_SymDifference">ST_SymDifference</a> - Enhanced: 3.1.0 accept a gridSize parameter. Computes a geometry representing the portions of geometries A and B that do not intersect.</li><li class="listitem"><a class="link" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a> - Melhorias: 2.0.0 parâmetro opcional padrão srid adicionado. Creates a rectangular Polygon in Web Mercator (SRID:3857) using the XYZ tile system.</li><li class="listitem"><a class="link" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a> - Enhanced: 3.1.0 accept a gridSize parameter. Computes the union of the components of a single geometry.</li><li class="listitem"><a class="link" href="#ST_Union" title="ST_Union">ST_Union</a> - Enhanced: 3.1.0 accept a gridSize parameter. Computes a geometry representing the point-set union of the input geometries.</li></ul></div><p>Functions changed in PostGIS 3.1</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_ST_Count" title="ST_Count">ST_Count</a> - As variantes ST_Count(rastertable, rastercolumn, ...) são deprecadas como da 2.2.0. Ao contrário, use: .  Retorna o número de pixeis em uma banda dada de um raster ou cobertura raster. Se nenhuma banda for especificada, o padrão é usar a banda 1. Se exclude_nodata_value for verdade, contará somente pixeis que não são iguais ao valor nodata.</li><li class="listitem"><a class="link" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a> - Changed: 3.1.0. Added support for supplying a non-zero Z value. Força a geometria para um modo XYZ. Este é um apelido para a função ST_Force_3DZ.</li><li class="listitem"><a class="link" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a> - Changed: 3.1.0. Added support for supplying a non-zero M value. Força as geometrias para o modo XYM.</li><li class="listitem"><a class="link" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a> - Changed: 3.1.0. Added support for supplying a non-zero Z value. Força as geometrias para o modo XYZ.</li><li class="listitem"><a class="link" href="#ST_Force_4D" title="ST_Force4D">ST_Force4D</a> - Changed: 3.1.0. Added support for supplying non-zero Z and M values. Força as geometrias para o modo XYZM.</li><li class="listitem"><a class="link" href="#RT_ST_Histogram" title="ST_Histogram">ST_Histogram</a> - Changed: 3.1.0 Removed ST_Histogram(table_name, column_name) variant.  Retorna um conjunto de registros que resumem um raster ou distribuição de dados de cobertura raster intervalos bin separados. O número de bins é auto calculado.</li><li class="listitem"><a class="link" href="#RT_ST_Quantile" title="ST_Quantile">ST_Quantile</a> - Changed: 3.1.0 Removed ST_Quantile(table_name, column_name) variant.  Calcula quantiles para um raster ou cobertura de tabela raster no contexto da amostra ou população. Assim, um valor poderia ser examinado para estar na porcentagem 25%, 50%, 75% do raster.</li><li class="listitem"><a class="link" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a> - As variantes ST_SummaryStats(rastertable, rastercolumn, ...) são deprecadas como da 2.2.0. Ao contrário, use: .   Retorna as estatísticas resumidas consistindo de count, sum, mean, stddev, min, max para uma dada banda raster de um raster ou cobertura raster. A banda 1 é assumida se nenhuma banda for especificada.</li></ul></div></section><section class="section" id="idm51018"><div class="titlepage"><div><div><h3 class="title">13.12.6. PostGIS Functions new or enhanced in 3.0</h3></div></div></div><p>The functions given below are PostGIS functions that were added or enhanced.</p><p>Functions new in PostGIS 3.0</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#CG_ConstrainedDelaunayTriangles" title="CG_ConstrainedDelaunayTriangles">CG_ConstrainedDelaunayTriangles</a> - Disponibilidade: 2.1.0 Return a constrained Delaunay triangulation around the given input geometry.</li><li class="listitem"><a class="link" href="#ST_3DLineInterpolatePoint" title="ST_3DLineInterpolatePoint">ST_3DLineInterpolatePoint</a> - Disponibilidade: 2.1.0 Returns a point interpolated along a 3D line at a fractional location.</li><li class="listitem"><a class="link" href="#ST_ConstrainedDelaunayTriangles" title="ST_ConstrainedDelaunayTriangles">ST_ConstrainedDelaunayTriangles</a> - Disponibilidade: 2.1.0 Return a constrained Delaunay triangulation around the given input geometry.</li><li class="listitem"><a class="link" href="#ST_TileEnvelope" title="ST_TileEnvelope">ST_TileEnvelope</a> - Disponibilidade: 2.1.0 Creates a rectangular Polygon in Web Mercator (SRID:3857) using the XYZ tile system.</li></ul></div><p>Functions enhanced in PostGIS 3.0</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a> - Enhanced: 3.0 - added support for Feature ID. Aggregate function returning a MVT representation of a set of rows.</li><li class="listitem"><a class="link" href="#ST_Contains" title="ST_Contains">ST_Contains</a> - Enhanced: 3.0.0 enabled support for GEOMETRYCOLLECTION Tests if every point of B lies in A, and their interiors have a point in common</li><li class="listitem"><a class="link" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a> - Enhanced: 3.0.0 enabled support for GEOMETRYCOLLECTION Tests if every point of B lies in the interior of A</li><li class="listitem"><a class="link" href="#ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a> - Enhanced: 3.0.0 enabled support for GEOMETRYCOLLECTION Tests if every point of A lies in B</li><li class="listitem"><a class="link" href="#ST_Covers" title="ST_Covers">ST_Covers</a> - Enhanced: 3.0.0 enabled support for GEOMETRYCOLLECTION Tests if every point of B lies in A</li><li class="listitem"><a class="link" href="#ST_Crosses" title="ST_Crosses">ST_Crosses</a> - Enhanced: 3.0.0 enabled support for GEOMETRYCOLLECTION Tests if two geometries have some, but not all, interior points in common</li><li class="listitem"><a class="link" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a> - Enhanced: 3.0.0 implemented a minimum number of segments per linearized arc to prevent topological collapse. Converts a geometry containing curves to a linear geometry.</li><li class="listitem"><a class="link" href="#ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a> - Enhanced: 3.0.0 enabled support for GEOMETRYCOLLECTION Tests if two geometries have no points in common</li><li class="listitem"><a class="link" href="#ST_Equals" title="ST_Equals">ST_Equals</a> - Enhanced: 3.0.0 enabled support for GEOMETRYCOLLECTION Tests if two geometries include the same set of points</li><li class="listitem"><a class="link" href="#ST_GeneratePoints" title="ST_GeneratePoints">ST_GeneratePoints</a> - Enhanced: 3.0.0, added seed parameter Generates a multipoint of random points contained in a Polygon or MultiPolygon.</li><li class="listitem"><a class="link" href="#ST_GeomFromGeoJSON" title="ST_GeomFromGeoJSON">ST_GeomFromGeoJSON</a> - Enhanced: 3.0.0 parsed geometry defaults to SRID=4326 if not specified otherwise. Utiliza como entrada uma representação geojson de uma geometria e como saída um objeto de geometria PostGIS</li><li class="listitem"><a class="link" href="#ST_LocateBetween" title="ST_LocateBetween">ST_LocateBetween</a> - Enhanced: 3.0.0 - added support for POLYGON, TIN, TRIANGLE. Returns the portions of a geometry that match a measure range.</li><li class="listitem"><a class="link" href="#ST_LocateBetweenElevations" title="ST_LocateBetweenElevations">ST_LocateBetweenElevations</a> - Enhanced: 3.0.0 - added support for POLYGON, TIN, TRIANGLE. Returns the portions of a geometry that lie in an elevation (Z) range.</li><li class="listitem"><a class="link" href="#ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a> - Enhanced: 3.0.0 enabled support for GEOMETRYCOLLECTION Tests if two geometries have the same dimension and intersect, but each has at least one point not in the other</li><li class="listitem"><a class="link" href="#ST_Relate" title="ST_Relate">ST_Relate</a> - Enhanced: 3.0.0 enabled support for GEOMETRYCOLLECTION Tests if two geometries have a topological relationship matching an Intersection Matrix pattern, or computes their Intersection Matrix</li><li class="listitem"><a class="link" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a> - Enhanced: 3.0.0 Segmentize geometry now produces equal-length subsegments Returns a modified geometry/geography having no segment longer than a given distance.</li><li class="listitem"><a class="link" href="#ST_Touches" title="ST_Touches">ST_Touches</a> - Enhanced: 3.0.0 enabled support for GEOMETRYCOLLECTION Tests if two geometries have at least one point in common, but their interiors do not intersect</li><li class="listitem"><a class="link" href="#ST_Within" title="ST_Within">ST_Within</a> - Enhanced: 3.0.0 enabled support for GEOMETRYCOLLECTION Tests if every point of A lies in B, and their interiors have a point in common</li></ul></div><p>Functions changed in PostGIS 3.0</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#PostGIS_Extensions_Upgrade" title="PostGIS_Extensions_Upgrade">PostGIS_Extensions_Upgrade</a> - Changed: 3.0.0 to repackage loose extensions and support postgis_raster. Packages and upgrades PostGIS extensions (e.g. postgis_raster, postgis_topology, postgis_sfcgal) to given or latest version.</li><li class="listitem"><a class="link" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a> - Changed: 3.0.0 - SFCGAL version removed Para tipo geometria, retorna a menor distância cartesiana 3-dimensional (baseado no sistema de referência espacial) entre duas geometrias em unidades projetadas.</li><li class="listitem"><a class="link" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a> - Changed: 3.0.0 SFCGAL backend removed, GEOS backend supports TINs. Tests if two geometries spatially intersect in 3D - only for points, linestrings, polygons, polyhedral surface (area)</li><li class="listitem"><a class="link" href="#ST_Area" title="ST_Area">ST_Area</a> - Changed: 3.0.0 - does not depend on SFCGAL anymore. Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Changed: 3.0.0 support records as input Return a geometry or feature in GeoJSON format.</li><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Changed: 3.0.0 output SRID if not EPSG:4326. Return a geometry or feature in GeoJSON format.</li><li class="listitem"><a class="link" href="#ST_AsKML" title="ST_AsKML">ST_AsKML</a> - Changed: 3.0.0 - Removed the "versioned" variant signature Retorna a geometria como uma versão GML com 2 ou 3 elementos.</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Changed: 3.0.0 - does not depend on SFCGAL anymore. Retorna a linha 3-dimensional mais longa entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Changed: 3.0.0 does not depend on SFCGAL. Computes a geometry representing the shared portion of geometries A and B.</li><li class="listitem"><a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Changed: 3.0.0 SFCGAL version removed and native support for 2D TINS added. Tests if two geometries intersect (they have at least one point in common)</li><li class="listitem"><a class="link" href="#ST_Union" title="ST_Union">ST_Union</a> - Changed: 3.0.0 does not depend on SFCGAL. Computes a geometry representing the point-set union of the input geometries.</li></ul></div></section><section class="section" id="idm51126"><div class="titlepage"><div><div><h3 class="title">13.12.7. PostGIS Functions new or enhanced in 2.5</h3></div></div></div><p>The functions given below are PostGIS functions that were added or enhanced.</p><p>Functions new in PostGIS 2.5</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#PostGIS_Extensions_Upgrade" title="PostGIS_Extensions_Upgrade">PostGIS_Extensions_Upgrade</a> - Availability: 2.5.0 Packages and upgrades PostGIS extensions (e.g. postgis_raster, postgis_topology, postgis_sfcgal) to given or latest version.</li><li class="listitem"><a class="link" href="#ST_Angle" title="ST_Angle">ST_Angle</a> - Availability: 2.5.0 Retorna a linha 3-dimensional mais longa entre duas geometrias</li><li class="listitem"><a class="link" href="#RT_ST_AsHexWKB" title="ST_AsHexWKB">ST_AsHexWKB</a> - Availability: 2.5.0  Return the Well-Known Binary (WKB) in Hex representation of the raster.</li><li class="listitem"><a class="link" href="#RT_ST_BandFileSize" title="ST_BandFileSize">ST_BandFileSize</a> - Availability: 2.5.0 Returns the file size of a band stored in file system. If no bandnum specified, 1 is assumed.</li><li class="listitem"><a class="link" href="#RT_ST_BandFileTimestamp" title="ST_BandFileTimestamp">ST_BandFileTimestamp</a> - Availability: 2.5.0 Returns the file timestamp of a band stored in file system. If no bandnum specified, 1 is assumed.</li><li class="listitem"><a class="link" href="#ST_ChaikinSmoothing" title="ST_ChaikinSmoothing">ST_ChaikinSmoothing</a> - Availability: 2.5.0 Returns a smoothed version of a geometry, using the Chaikin algorithm</li><li class="listitem"><a class="link" href="#ST_FilterByM" title="ST_FilterByM">ST_FilterByM</a> - Availability: 2.5.0 Removes vertices based on their M value</li><li class="listitem"><a class="link" href="#RT_ST_Grayscale" title="ST_Grayscale">ST_Grayscale</a> - Availability: 2.5.0  Creates a new one-8BUI band raster from the source raster and specified bands representing Red, Green and Blue</li><li class="listitem"><a class="link" href="#ST_LineInterpolatePoints" title="ST_LineInterpolatePoints">ST_LineInterpolatePoints</a> - Availability: 2.5.0 Returns points interpolated along a line at a fractional interval.</li><li class="listitem"><a class="link" href="#ST_OrientedEnvelope" title="ST_OrientedEnvelope">ST_OrientedEnvelope</a> - Availability: 2.5.0.  Returns a minimum-area rectangle containing a geometry.</li><li class="listitem"><a class="link" href="#ST_QuantizeCoordinates" title="ST_QuantizeCoordinates">ST_QuantizeCoordinates </a> - Availability: 2.5.0 Sets least significant bits of coordinates to zero</li><li class="listitem"><a class="link" href="#RT_ST_RastFromHexWKB" title="ST_RastFromHexWKB">ST_RastFromHexWKB</a> - Availability: 2.5.0 Return a raster value from a Hex representation of Well-Known Binary (WKB) raster.</li><li class="listitem"><a class="link" href="#RT_ST_RastFromWKB" title="ST_RastFromWKB">ST_RastFromWKB</a> - Availability: 2.5.0 Return a raster value from a Well-Known Binary (WKB) raster.</li><li class="listitem"><a class="link" href="#RT_ST_SetBandIndex" title="ST_SetBandIndex">ST_SetBandIndex</a> - Availability: 2.5.0 Update the external band number of an out-db band</li><li class="listitem"><a class="link" href="#RT_ST_SetBandPath" title="ST_SetBandPath">ST_SetBandPath</a> - Availability: 2.5.0 Update the external path and band number of an out-db band</li></ul></div><p>Functions enhanced in PostGIS 2.5</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_ST_AsBinary" title="ST_AsBinary/ST_AsWKB">ST_AsBinary/ST_AsWKB</a> - Enhanced: 2.5.0 Addition of ST_AsWKB Return the Well-Known Binary (WKB) representation of the raster.</li><li class="listitem"><a class="link" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a> - Enhanced: 2.5.0 - added support parallel query. Aggregate function returning a MVT representation of a set of rows.</li><li class="listitem"><a class="link" href="#ST_AsText" title="ST_AsText">ST_AsText</a> - Enhanced: 2.5 - optional parameter precision introduced. Retorna a representação de texto bem conhecida (WKT) da geometria/geografia sem os meta dados do SRID.</li><li class="listitem"><a class="link" href="#RT_ST_BandMetaData" title="ST_BandMetaData">ST_BandMetaData</a> - Enhanced: 2.5.0 to include outdbbandnum, filesize and filetimestamp for outdb rasters. Retorna os metadados básicos para uma banda raster especificada. banda número 1 é assumida se nenhuma for especificada.</li><li class="listitem"><a class="link" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a> - Enhanced: 2.5.0 - ST_Buffer geometry support was enhanced to allow for side buffering specification side=both|left|right. Computes a geometry covering all points within a given distance from a geometry.</li><li class="listitem"><a class="link" href="#ST_GeomFromGeoJSON" title="ST_GeomFromGeoJSON">ST_GeomFromGeoJSON</a> - Enhanced: 2.5.0 can now accept json and jsonb as inputs. Utiliza como entrada uma representação geojson de uma geometria e como saída um objeto de geometria PostGIS</li><li class="listitem"><a class="link" href="#ST_GeometricMedian" title="ST_GeometricMedian">ST_GeometricMedian </a> - Enhanced: 2.5.0 Added support for M as weight of points. Retorna a mediana de um MultiPonto.</li><li class="listitem"><a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Enhanced: 2.5.0 Supports GEOMETRYCOLLECTION. Tests if two geometries intersect (they have at least one point in common)</li><li class="listitem"><a class="link" href="#ST_OffsetCurve" title="ST_OffsetCurve">ST_OffsetCurve</a> - Enhanced: 2.5 - added support for GEOMETRYCOLLECTION and MULTILINESTRING Returns an offset line at a given distance and side from an input line.</li><li class="listitem"><a class="link" href="#ST_Scale" title="ST_Scale">ST_Scale</a> - Enhanced: 2.5.0 support for scaling relative to a local origin (origin parameter) was introduced. Scales a geometry by given factors.</li><li class="listitem"><a class="link" href="#ST_Split" title="ST_Split">ST_Split</a> - Enhanced: 2.5.0 support for splitting a polygon by a multiline was introduced. Returns a collection of geometries created by splitting a geometry by another geometry.</li><li class="listitem"><a class="link" href="#ST_Subdivide" title="ST_Subdivide">ST_Subdivide</a> - Enhanced: 2.5.0 reuses existing points on polygon split, vertex count is lowered from 8 to 5. Computes a rectilinear subdivision of a geometry.</li></ul></div><p>Functions changed in PostGIS 2.5</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a> - Changed: 2.5.0 - add can_read and can_write columns. Returns a list of raster formats supported by PostGIS through GDAL. Only those formats with can_write=True can be used by ST_AsGDALRaster</li></ul></div></section><section class="section" id="idm51219"><div class="titlepage"><div><div><h3 class="title">13.12.8. PostGIS Functions new or enhanced in 2.4</h3></div></div></div><p>The functions given below are PostGIS functions that were added or enhanced.</p><p>Functions new in PostGIS 2.4</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_AsGeobuf" title="ST_AsGeobuf">ST_AsGeobuf</a> - Disponibilidade: 2.2.0 Return a Geobuf representation of a set of rows.</li><li class="listitem"><a class="link" href="#ST_AsMVT" title="ST_AsMVT">ST_AsMVT</a> - Disponibilidade: 2.2.0 Aggregate function returning a MVT representation of a set of rows.</li><li class="listitem"><a class="link" href="#ST_AsMVTGeom" title="ST_AsMVTGeom">ST_AsMVTGeom</a> - Disponibilidade: 2.2.0 Transforms a geometry into the coordinate space of a MVT tile.</li><li class="listitem"><a class="link" href="#ST_Centroid" title="ST_Centroid">ST_Centroid</a> - Availability: 2.4.0 support for geography was introduced. Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_ForcePolygonCCW" title="ST_ForcePolygonCCW">ST_ForcePolygonCCW </a> - Disponibilidade: 2.2.0 Orients all exterior rings counter-clockwise and all interior rings clockwise.</li><li class="listitem"><a class="link" href="#ST_ForcePolygonCW" title="ST_ForcePolygonCW">ST_ForcePolygonCW </a> - Disponibilidade: 2.2.0 Orients all exterior rings clockwise and all interior rings counter-clockwise.</li><li class="listitem"><a class="link" href="#ST_FrechetDistance" title="ST_FrechetDistance">ST_FrechetDistance</a> - Availability: 2.4.0 - requires GEOS &gt;= 3.7.0 Retorna a menor linha 3-dimensional entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_IsPolygonCCW" title="ST_IsPolygonCCW">ST_IsPolygonCCW </a> - Disponibilidade: 2.2.0 Tests if Polygons have exterior rings oriented counter-clockwise and interior rings oriented clockwise.</li><li class="listitem"><a class="link" href="#ST_IsPolygonCW" title="ST_IsPolygonCW">ST_IsPolygonCW </a> - Disponibilidade: 2.2.0 Tests if Polygons have exterior rings oriented clockwise and interior rings oriented counter-clockwise.</li><li class="listitem"><a class="link" href="#RT_ST_MakeEmptyCoverage" title="ST_MakeEmptyCoverage">ST_MakeEmptyCoverage</a> - Disponibilidade: 2.2.0  Cover georeferenced area with a grid of empty raster tiles.</li></ul></div><p>Functions enhanced in PostGIS 2.4</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a> - Enhanced: 2.4.1 zip code 5 tabulation area (zcta5) load step was fixed and when enabled, zcta5 data is loaded as a single table called zcta5_all as part of the nation script load. Gerar uma script shell para a plataforma especificada que carrega as lookup tables de condado e estado.</li><li class="listitem"><a class="link" href="#Normalize_Address" title="Normalize_Address">Normalize_Address</a> - Enhanced: 2.4.0 norm_addy object includes additional fields zip4 and address_alphanumeric. Dado um endereço em texto de uma rua, retorna um tipo composto norm_addy que não tem um sufixo, prefixo e tipo padronizado, rua, nome de rua etc. quebrado e, campos separados. Essa função irá funcionar com os dados lookup compactados com o tiger_geocoder (dados do censo tiger não são necessários).</li><li class="listitem"><a class="link" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a> - Enhanced: 2.4.0 norm_addy object includes additional fields zip4 and address_alphanumeric. Dado um endereço em texto de uma rua, retorna um tipo composto norm_addy que não tem um sufixo, prefixo e tipo padronizado, rua, nome de rua etc. quebrado e, campos separados. Essa função irá funcionar com os dados lookup compactados com o tiger_geocoder (dados do censo tiger não são necessários). Requer a extensão address_standardizer.</li><li class="listitem"><a class="link" href="#Reverse_Geocode" title="Reverse_Geocode">Reverse_Geocode</a> - Enhanced: 2.4.1 if optional zcta5 dataset is loaded, the reverse_geocode function can resolve to state and zip even if the specific state data is not loaded. Refer to  for details on loading zcta5 data. Pega um ponto em um sistema de referência espacial conehcido e retorna um relato que contém um banco de dados de, teoricamente, possíveis endereços e um banco de dados de ruas cruzadas. Se include_strnum_range = verdade, inclui o alcance da rua nas ruas cruzadas.</li><li class="listitem"><a class="link" href="#ST_AsTWKB" title="ST_AsTWKB">ST_AsTWKB</a> - Enhanced: 2.4.0 memory and speed improvements. Retorna a geometria como TWKB, também conhecido como "Tiny Well-Known Binary"</li><li class="listitem"><a class="link" href="#ST_Covers" title="ST_Covers">ST_Covers</a> - Enhanced: 2.4.0 Support for polygon in polygon and line in polygon added for geography type Tests if every point of B lies in A</li><li class="listitem"><a class="link" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a> - Enhanced: 2.4.0 added support for max-deviation and max-angle tolerance, and for symmetric output. Converts a geometry containing curves to a linear geometry.</li><li class="listitem"><a class="link" href="#ST_Project" title="ST_Project">ST_Project</a> - Enhanced: 2.4.0 Allow negative distance and non-normalized azimuth. Returns a point projected from a start point by a distance and bearing (azimuth).</li><li class="listitem"><a class="link" href="#ST_Reverse" title="ST_Reverse">ST_Reverse</a> - Enhanced: 2.4.0 support for curves was introduced. Retorna a geometria com a ordem dos vértices revertida.</li></ul></div><p>Functions changed in PostGIS 2.4</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_Geometry_EQ" title="=">=</a> - Changed: 2.4.0, in prior versions this was bounding box equality not a geometric equality. If you need bounding box equality, use  instead. Returns TRUE if the coordinates and coordinate order geometry/geography A are the same as the coordinates and coordinate order of geometry/geography B.</li><li class="listitem"><a class="link" href="#ST_Node" title="ST_Node">ST_Node</a> - Changed: 2.4.0 this function uses GEOSNode internally instead of GEOSUnaryUnion. This may cause the resulting linestrings to have a different order and direction compared to PostGIS &lt; 2.4.  Nodes a collection of lines.</li></ul></div></section><section class="section" id="idm51291"><div class="titlepage"><div><div><h3 class="title">13.12.9. PostGIS Functions new or enhanced in 2.3</h3></div></div></div><p>The functions given below are PostGIS functions that were added or enhanced.</p><p>Functions new in PostGIS 2.3</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#overlaps_nd_geometry_gidx" title="&amp;&amp;&amp;(geometry,gidx)">&amp;&amp;&amp;(geometry,gidx)</a> - Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+. Returns TRUE if a geometry's (cached) n-D bounding box intersects a n-D float precision bounding box (GIDX).</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_geometry" title="&amp;&amp;&amp;(gidx,geometry)">&amp;&amp;&amp;(gidx,geometry)</a> - Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+. Returns TRUE if a n-D float precision bounding box (GIDX) intersects a geometry's (cached) n-D bounding box.</li><li class="listitem"><a class="link" href="#overlaps_nd_gidx_gidx" title="&amp;&amp;&amp;(gidx,gidx)">&amp;&amp;&amp;(gidx,gidx)</a> - Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+. Returns TRUE if two n-D float precision bounding boxes (GIDX) intersect each other.</li><li class="listitem"><a class="link" href="#overlaps_box2df_box2df" title="&amp;&amp;(box2df,box2df)">&amp;&amp;(box2df,box2df)</a> - Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+. Returns TRUE if two 2D float precision bounding boxes (BOX2DF) intersect each other.</li><li class="listitem"><a class="link" href="#overlaps_box2df_geometry" title="&amp;&amp;(box2df,geometry)">&amp;&amp;(box2df,geometry)</a> - Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+. Returns TRUE if a 2D float precision bounding box (BOX2DF) intersects a geometry's (cached) 2D bounding box.</li><li class="listitem"><a class="link" href="#overlaps_geometry_box2df" title="&amp;&amp;(geometry,box2df)">&amp;&amp;(geometry,box2df)</a> - Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+. Returns TRUE if a geometry's (cached) 2D bounding box intersects a 2D float precision bounding box (BOX2DF).</li><li class="listitem"><a class="link" href="#is_contained_box2df_box2df" title="@(box2df,box2df)">@(box2df,box2df)</a> - Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+. Returns TRUE if a 2D float precision bounding box (BOX2DF) is contained into another 2D float precision bounding box.</li><li class="listitem"><a class="link" href="#is_contained_box2df_geometry" title="@(box2df,geometry)">@(box2df,geometry)</a> - Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+. Returns TRUE if a 2D float precision bounding box (BOX2DF) is contained into a geometry's 2D bounding box.</li><li class="listitem"><a class="link" href="#is_contained_geometry_box2df" title="@(geometry,box2df)">@(geometry,box2df)</a> - Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+. Returns TRUE if a geometry's 2D bounding box is contained into a 2D float precision bounding box (BOX2DF).</li><li class="listitem"><a class="link" href="#Populate_Topology_Layer" title="Populate_Topology_Layer">Populate_Topology_Layer</a> - Disponibilidade: 2.3.0 Adds missing entries to topology.layer table by reading metadata from topo tables.</li><li class="listitem"><a class="link" href="#ST_ClusterDBSCAN" title="ST_ClusterDBSCAN">ST_ClusterDBSCAN</a> - Disponibilidade: 2.3.0 Window function that returns a cluster id for each input geometry using the DBSCAN algorithm.</li><li class="listitem"><a class="link" href="#ST_ClusterKMeans" title="ST_ClusterKMeans">ST_ClusterKMeans</a> - Disponibilidade: 2.3.0 Window function that returns a cluster id for each input geometry using the K-means algorithm.</li><li class="listitem"><a class="link" href="#ST_GeneratePoints" title="ST_GeneratePoints">ST_GeneratePoints</a> - Disponibilidade: 2.3.0 Generates a multipoint of random points contained in a Polygon or MultiPolygon.</li><li class="listitem"><a class="link" href="#ST_GeometricMedian" title="ST_GeometricMedian">ST_GeometricMedian </a> - Disponibilidade: 2.3.0 Retorna a mediana de um MultiPonto.</li><li class="listitem"><a class="link" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a> - Disponibilidad: 2.0.0 - Suporte para elementos de entrada linestring foi introduzido  Cria uma Linestring de ponto, multiponto ou linha das geometrias.</li><li class="listitem"><a class="link" href="#ST_MinimumBoundingRadius" title="ST_MinimumBoundingRadius">ST_MinimumBoundingRadius</a> - Disponibilidade - 2.3.0 Returns the center point and radius of the smallest circle that contains a geometry.</li><li class="listitem"><a class="link" href="#ST_MinimumClearance" title="ST_MinimumClearance">ST_MinimumClearance</a> - Disponibilidade: 2.3.0 Retorna a liquidação mínima de uma geometria, uma medida de uma robustez de uma geometria.</li><li class="listitem"><a class="link" href="#ST_MinimumClearanceLine" title="ST_MinimumClearanceLine">ST_MinimumClearanceLine</a> - Disponibilidade: 2.3.0 - requer GEOS &gt;= 3.6.0 Retorna a LineString de dois pontos abrangendo a liquidação mínima de uma geometria.</li><li class="listitem"><a class="link" href="#ST_Normalize" title="ST_Normalize">ST_Normalize</a> - Disponibilidade: 2.3.0 Retorna a geometria na sua forma canônica.</li><li class="listitem"><a class="link" href="#ST_Points" title="ST_Points">ST_Points</a> - Disponibilidade: 2.3.0 Retorna uma multilinestring contendo todas as coordenadas de uma geometria.</li><li class="listitem"><a class="link" href="#ST_VoronoiLines" title="ST_VoronoiLines">ST_VoronoiLines</a> - Disponibilidade: 2.3.0 Returns the boundaries of the Voronoi diagram of the vertices of a geometry.</li><li class="listitem"><a class="link" href="#ST_VoronoiPolygons" title="ST_VoronoiPolygons">ST_VoronoiPolygons</a> - Disponibilidade: 2.3.0 Returns the cells of the Voronoi diagram of the vertices of a geometry.</li><li class="listitem"><a class="link" href="#ST_WrapX" title="ST_WrapX">ST_WrapX</a> - Availability: 2.3.0 requires GEOS Envolve uma geometria em torno de um valor X.</li><li class="listitem"><a class="link" href="#TopoGeom_addElement" title="TopoGeom_addElement">TopoGeom_addElement</a> - Disponibilidade: 2.3 Adds an element to the definition of a TopoGeometry.</li><li class="listitem"><a class="link" href="#TopoGeom_remElement" title="TopoGeom_remElement">TopoGeom_remElement</a> - Disponibilidade: 2.3 Removes an element from the definition of a TopoGeometry.</li><li class="listitem"><a class="link" href="#contains_box2df_box2df" title="~(box2df,box2df)">~(box2df,box2df)</a> - Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+. Returns TRUE if a 2D float precision bounding box (BOX2DF) contains another 2D float precision bounding box (BOX2DF).</li><li class="listitem"><a class="link" href="#contains_box2df_geometry" title="~(box2df,geometry)">~(box2df,geometry)</a> - Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+. Returns TRUE if a 2D float precision bounding box (BOX2DF) contains a geometry's 2D bonding box.</li><li class="listitem"><a class="link" href="#contains_geometry_box2df" title="~(geometry,box2df)">~(geometry,box2df)</a> - Availability: 2.3.0 support for Block Range INdexes (BRIN) was introduced. Requires PostgreSQL 9.5+. Returns TRUE if a geometry's 2D bonding box contains a 2D float precision bounding box (GIDX).</li></ul></div><p>Functions enhanced in PostGIS 2.3</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_Contains" title="ST_Contains">ST_Contains</a> - Enhanced: 2.3.0 Enhancement to PIP short-circuit extended to support MultiPoints with few points. Prior versions only supported point in polygon. Tests if every point of B lies in A, and their interiors have a point in common</li><li class="listitem"><a class="link" href="#ST_Covers" title="ST_Covers">ST_Covers</a> - Enhanced: 2.3.0 Enhancement to PIP short-circuit for geometry extended to support MultiPoints with few points. Prior versions only supported point in polygon. Tests if every point of B lies in A</li><li class="listitem"><a class="link" href="#ST_Expand" title="ST_Expand">ST_Expand</a> - Enhanced: 2.3.0 support was added to expand a box by different amounts in different dimensions. Returns a bounding box expanded from another bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Enhanced: 2.3.0 Enhancement to PIP short-circuit extended to support MultiPoints with few points. Prior versions only supported point in polygon. Tests if two geometries intersect (they have at least one point in common)</li><li class="listitem"><a class="link" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a> - Enhanced: 2.3.0 Segmentize geography now produces equal-length subsegments Returns a modified geometry/geography having no segment longer than a given distance.</li><li class="listitem"><a class="link" href="#ST_Transform" title="ST_Transform">ST_Transform</a> - Enhanced: 2.3.0 support for direct PROJ.4 text was introduced. Return a new geometry with coordinates transformed to a different spatial reference system.</li><li class="listitem"><a class="link" href="#ST_Within" title="ST_Within">ST_Within</a> - Enhanced: 2.3.0 Enhancement to PIP short-circuit for geometry extended to support MultiPoints with few points. Prior versions only supported point in polygon. Tests if every point of A lies in B, and their interiors have a point in common</li></ul></div><p>Functions changed in PostGIS 2.3</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_PointN" title="ST_PointN">ST_PointN</a> - Alterações: 2.3.0 : indexing negativo disponível (-1 é o último ponto)  Retorna o número de pontos em um valor ST_LineString ou ST_CircularString.</li></ul></div></section><section class="section" id="idm51408"><div class="titlepage"><div><div><h3 class="title">13.12.10. PostGIS Functions new or enhanced in 2.2</h3></div></div></div><p>The functions given below are PostGIS functions that were added or enhanced.</p><p>Functions new in PostGIS 2.2</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#geometry_distance_centroid_nd" title="&lt;&lt;-&gt;&gt;">&lt;&lt;-&gt;&gt;</a> - Disponibilidade: 2.2.0 -- KNN só está disponível para PostgreSQL 9.1+ Returns the n-D distance between the A and B geometries or bounding boxes</li><li class="listitem"><a class="link" href="#ST_3DDifference" title="ST_3DDifference">ST_3DDifference</a> - Disponibilidade: 2.2.0 Representar diferença 3D</li><li class="listitem"><a class="link" href="#ST_3DUnion" title="ST_3DUnion">ST_3DUnion</a> - Disponibilidade: 2.2.0 Perform 3D union.</li><li class="listitem"><a class="link" href="#ST_ApproximateMedialAxis" title="ST_ApproximateMedialAxis">ST_ApproximateMedialAxis</a> - Disponibilidade: 2.2.0 Computa o eixo mediano aproximado de uma geometria territorial.</li><li class="listitem"><a class="link" href="#ST_AsEncodedPolyline" title="ST_AsEncodedPolyline">ST_AsEncodedPolyline</a> - Disponibilidade: 2.2.0 Retorna uma Polilinha Encoded de uma geometria LineString.</li><li class="listitem"><a class="link" href="#ST_AsTWKB" title="ST_AsTWKB">ST_AsTWKB</a> - Disponibilidade: 2.2.0 Retorna a geometria como TWKB, também conhecido como "Tiny Well-Known Binary"</li><li class="listitem"><a class="link" href="#ST_BoundingDiagonal" title="ST_BoundingDiagonal">ST_BoundingDiagonal</a> - Disponibilidade: 2.2.0 Retorna a diagonal da geometria fornecida da caixa limitada.</li><li class="listitem"><a class="link" href="#ST_CPAWithin" title="ST_CPAWithin">ST_CPAWithin</a> - Disponibilidade: 2.2.0 Tests if the closest point of approach of two trajectories is within the specified distance.</li><li class="listitem"><a class="link" href="#ST_ClipByBox2D" title="ST_ClipByBox2D">ST_ClipByBox2D</a> - Disponibilidade: 2.2.0 Computes the portion of a geometry falling within a rectangle.</li><li class="listitem"><a class="link" href="#ST_ClosestPointOfApproach" title="ST_ClosestPointOfApproach">ST_ClosestPointOfApproach</a> - Disponibilidade: 2.2.0 Returns a measure at the closest point of approach of two trajectories.</li><li class="listitem"><a class="link" href="#ST_ClusterIntersecting" title="ST_ClusterIntersecting">ST_ClusterIntersecting</a> - Disponibilidade: 2.2.0 Aggregate function that clusters input geometries into connected sets.</li><li class="listitem"><a class="link" href="#ST_ClusterWithin" title="ST_ClusterWithin">ST_ClusterWithin</a> - Disponibilidade: 2.2.0 Aggregate function that clusters geometries by separation distance.</li><li class="listitem"><a class="link" href="#RT_ST_CountAgg" title="ST_CountAgg">ST_CountAgg</a> - Disponibilidade: 2.2.0  Agregado. Retorna o número de pixeis em uma banda dada de um raster ou cobertura raster. Se nenhuma banda for especificada, o padrão é usar a banda 1. Se exclude_nodata_value for verdade, contará somente pixeis que são diferentes ao valor NODATA.</li><li class="listitem"><a class="link" href="#RT_CreateOverview" title="ST_CreateOverview">ST_CreateOverview</a> - Disponibilidade: 2.2.0 Cria uma resolução de versão reduzida de uma dada cobertura raster.</li><li class="listitem"><a class="link" href="#ST_DistanceCPA" title="ST_DistanceCPA">ST_DistanceCPA</a> - Disponibilidade: 2.2.0 Returns the distance between the closest point of approach of two trajectories.</li><li class="listitem"><a class="link" href="#ST_ForceCurve" title="ST_ForceCurve">ST_ForceCurve</a> - Disponibilidade: 2.2.0 Converte para cima uma geometria para seu tipo curvo, se aplicável.</li><li class="listitem"><a class="link" href="#ST_IsPlanar" title="ST_IsPlanar">ST_IsPlanar</a> - Disponibilidade: 2.2.0: Isso foi documentado em 2.1.0, mas foi deixado de fora acidentalmente na 2.1. Verifique se a superfície é ou não planar</li><li class="listitem"><a class="link" href="#ST_IsSolid" title="ST_IsSolid">ST_IsSolid</a> - Disponibilidade: 2.2.0 teste se a geometria é um sólido. Nenhuma verificação de validade é representada.</li><li class="listitem"><a class="link" href="#ST_IsValidTrajectory" title="ST_IsValidTrajectory">ST_IsValidTrajectory</a> - Disponibilidade: 2.2.0 Tests if the geometry is a valid trajectory.</li><li class="listitem"><a class="link" href="#ST_LineFromEncodedPolyline" title="ST_LineFromEncodedPolyline">ST_LineFromEncodedPolyline</a> - Disponibilidade: 2.2.0 Cria uma LineString de uma Encoded Polyline.</li><li class="listitem"><a class="link" href="#ST_MakeSolid" title="ST_MakeSolid">ST_MakeSolid</a> - Disponibilidade: 2.2.0 Molde a geometria para um sólido. Nenhuma verificação é apresentada. Para obter um sólido válido, a geometria de entrada deve ser uma superfície poliédrica fechada ou um TIN fechado.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a> - Disponibilidade: 2.2.0: Habilidade de adicionar máscara Versão função retorno - Retorna um raster de uma banda dado um ou mais rasters de entrada, os índices e uma função retorno de um usuário específico.</li><li class="listitem"><a class="link" href="#RT_ST_MemSize" title="ST_MemSize">ST_MemSize</a> - Disponibilidade: 2.2.0 Retorna a quantidade de espaço (em bytes) que o raster pega.</li><li class="listitem"><a class="link" href="#ST_RemoveRepeatedPoints" title="ST_RemoveRepeatedPoints">ST_RemoveRepeatedPoints</a> - Disponibilidade: 2.2.0 Returns a version of a geometry with duplicate points removed.</li><li class="listitem"><a class="link" href="#RT_Retile" title="ST_Retile">ST_Retile</a> - Disponibilidade: 2.2.0 Retorna um conjunto de tiles configuradas de uma cobertura raster aleatória.</li><li class="listitem"><a class="link" href="#ST_SetEffectiveArea" title="ST_SetEffectiveArea">ST_SetEffectiveArea</a> - Disponibilidade: 2.2.0 Sets the effective area for each vertex, using the Visvalingam-Whyatt algorithm.</li><li class="listitem"><a class="link" href="#ST_SimplifyVW" title="ST_SimplifyVW">ST_SimplifyVW</a> - Disponibilidade: 2.2.0 Returns a simplified representation of a geometry, using the Visvalingam-Whyatt algorithm</li><li class="listitem"><a class="link" href="#ST_Subdivide" title="ST_Subdivide">ST_Subdivide</a> - Disponibilidade: 2.2.0 Computes a rectilinear subdivision of a geometry.</li><li class="listitem"><a class="link" href="#RT_ST_SummaryStatsAgg" title="ST_SummaryStatsAgg">ST_SummaryStatsAgg</a> - Disponibilidade: 2.2.0  Agregado. Retorna as estatísticas resumidas consistindo de count, sum, mean, stddev, min, max para uma dada banda raster de um conjunto de rasters. A banda 1 é assumida se nenhuma banda for especificada.</li><li class="listitem"><a class="link" href="#ST_SwapOrdinates" title="ST_SwapOrdinates">ST_SwapOrdinates</a> - Disponibilidade: 2.2.0 Retorna uma versão da geometria dada com os valores ordenados dados trocados.</li><li class="listitem"><a class="link" href="#ST_Volume" title="ST_Volume">ST_Volume</a> - Disponibilidade: 2.2.0 Computa o volume de um sólido 3D. Se aplicado a geometrias com superfícies (mesmo fechadas), irão retornar 0.</li><li class="listitem"><a class="link" href="#parse_address" title="parse_address">parse_address</a> - Disponibilidade: 2.2.0 Pega um endereço linha 1 e quebra em partes</li><li class="listitem"><a class="link" href="#postgis_enable_outdb_rasters" title="postgis.enable_outdb_rasters">postgis.enable_outdb_rasters</a> - Disponibilidade: 2.2.0 Uma opção de configuração booleana para ativar o acesso ao out-db raster bands.</li><li class="listitem"><a class="link" href="#postgis_gdal_datapath" title="postgis.gdal_datapath">postgis.gdal_datapath</a> - Disponibilidade: 2.2.0 Uma opção de configuração para designar o valor da opção GDAL_DATA do GDAL. Se não funcionar, a variável ambiental GDAL_DATA é usada.</li><li class="listitem"><a class="link" href="#postgis_gdal_enabled_drivers" title="postgis.gdal_enabled_drivers">postgis.gdal_enabled_drivers</a> - Disponibilidade: 2.2.0 Uma opção de configuração para estabelecer os drivers GDAL ativados no ambiente POstGIS. Afeta a variável GDAL_SKIP do GDAL.</li><li class="listitem"><a class="link" href="#standardize_address" title="standardize_address">standardize_address</a> - Disponibilidade: 2.2.0 Retorna uma forma stdaddr de um endereço de entrada utilizando lex, gaz e rule tables.</li><li class="listitem"><a class="link" href="#geometry_distance_cpa" title="|=|">|=|</a> - Disponibilidade: 2.2.0. Index suportado disponível somente para PostgreSQL 9.5+ Retorna a distância entre As trajetórias A e B ao ponto de aproximação mais perto.</li></ul></div><p>Functions enhanced in PostGIS 2.2</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a> - melhorias: 2.2.0 -- Verdadeiro comportamento KNN ("vizinho mais perto de K") para geometria e geografia para PostgreSQL 9.5+. Note que para geografia o KNN é baseado em esfera ao invés de esferoide. Para o PostgreSQL 9.4 ou menor, o suporte para geografia é novo, mas só suporta caixa centroide.  Retorna a distância 2D entre A e B.</li><li class="listitem"><a class="link" href="#AsTopoJSON" title="AsTopoJSON">AsTopoJSON</a> - Melhorias: 2.2.1 suporte para entradas pontuais adicionado  Retorna a representação TopoJSON de uma topogeometria.</li><li class="listitem"><a class="link" href="#ST_Area" title="ST_Area">ST_Area</a> - Melhorias: 2.2.0 - medição em esferoides desempenhada com GeographicLib para uma melhor precisão e força. Requer Proj &gt;= 4.9.0 para tirar vantagem da nova característica.  Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a> - Melhorias: 2.2.0: Suporte para GeoCoordinates e eixos (x/y, long/lat) lançando. Observe as opções para mais detalhes. Retorna uma geometria em X3D nó xml formato do elemento: ISO-IEC-19776-1.2-X3DEncodings-XML</li><li class="listitem"><a class="link" href="#ST_Azimuth" title="ST_Azimuth">ST_Azimuth</a> - Melhorias: 2.2.0 medição em esferoides desempenhada com GeographicLib para uma melhor precisão e força. Requer Proj &gt;= 4.9.0 para tirar vantagem da nova característica.  Retorna a menor linha 2-dimensional entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Melhorias: 2.2.0 - medição em esferoides desempenhada com GeographicLib para uma melhor precisão e força. Requer Proj &gt;= 4.9.0 para tirar vantagem da nova característica.  Retorna a linha 3-dimensional mais longa entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_Scale" title="ST_Scale">ST_Scale</a> - Enhanced: 2.2.0 support for scaling all dimension (factor parameter) was introduced. Scales a geometry by given factors.</li><li class="listitem"><a class="link" href="#ST_Split" title="ST_Split">ST_Split</a> - Enhanced: 2.2.0 support for splitting a line by a multiline, a multipoint or (multi)polygon boundary was introduced. Returns a collection of geometries created by splitting a geometry by another geometry.</li><li class="listitem"><a class="link" href="#ST_Summary" title="ST_Summary">ST_Summary</a> - Melhorias: 2.2.0 Suporte para TIN e Curvas adicionado Retorna um texto resumo dos conteúdos da geometria.</li></ul></div><p>Functions changed in PostGIS 2.2</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a> - Alterações: 2.2.0 -- Para usuários do PostgreSQL 9.5, a sintaxe Hybrid antiga pode ser ais lenta, então, você vai querer se livrar daquele hack se você está executando seu código só no PostGIS 2.2+ 9.5+. Veja os exemplos abaixo.  Retorna a distância 2D entre A e B.</li><li class="listitem"><a class="link" href="#Get_Geocode_Setting" title="Get_Geocode_Setting">Get_Geocode_Setting</a> - Alterações: 2.2.0 : configurações padrão são guardadas em uma table chamada geocode_settings_default. As configurações personalizadas estão em geocode_settings e só contém aquelas que foram configuradas pelo usuário.  Retorna a configuração de valor específico armazenada na table tiger.geocode_settings.</li><li class="listitem"><a class="link" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a> - Alterações: 2.2.0 - se 2 geometrias 2D são entradas, um ponto 2D retorna (em vez do antigo comportamento assumindo 0 para Z perdido). Em caso de 2D e 3D, o Z não é mais 0 para Z perdido.  Retorna o ponto 3 dimensional em g1 que é o mais próximo de g2. Este é o primeiro ponto da linha mais curta em três dimensões.</li><li class="listitem"><a class="link" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a> - Alterações: 2.2.0 - Em caso de 2D e 3D, o Z não é mais 0 para Z perdido.  Para tipo geometria, retorna a menor distância cartesiana 3-dimensional (baseado no sistema de referência espacial) entre duas geometrias em unidades projetadas.</li><li class="listitem"><a class="link" href="#ST_3DLongestLine" title="ST_3DLongestLine">ST_3DLongestLine</a> - Alterações: 2.2.0 - se 2 geometrias 2D são entradas, um ponto 2D retorna (em vez do antigo comportamento assumindo 0 para Z perdido). Em caso de 2D e 3D, o Z não é mais 0 para Z perdido.  Retorna a linha 3-dimensional mais longa entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a> - Alterações: 2.2.0 - Em caso de 2D e 3D, o Z não é mais 0 para Z perdido.  Para tipo de geometria retorna a maior distância 3-dimensional cartesiana (baseada na referência espacial) entre duas geometrias em unidade projetadas.</li><li class="listitem"><a class="link" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a> - Alterações: 2.2.0 - se 2 geometrias 2D são entradas, um ponto 2D retorna (em vez do antigo comportamento assumindo 0 para Z perdido). Em caso de 2D e 3D, o Z não é mais 0 para Z perdido.  Retorna a menor linha 3-dimensional entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_DistanceSphere" title="ST_DistanceSphere">ST_DistanceSphere</a> - Alterações: 2.2.0 Em versões anteriores era chamada de ST_Distance_Sphere Retorna a menor distância entre duas geometrias lon/lat dado um esferoide específico. As versões anteriores a 1.5 só suportam pontos.</li><li class="listitem"><a class="link" href="#ST_Distance_Spheroid" title="ST_DistanceSpheroid">ST_DistanceSpheroid</a> - Alterações: 2.2.0 Em versões anteriores era chamada de ST_Distance_Spheroid Retorna a menor distância entre duas geometrias lon/lat dado um esferoide específico. As versões anteriores a 1.5 só suportam pontos.</li><li class="listitem"><a class="link" href="#ST_Equals" title="ST_Equals">ST_Equals</a> - Changed: 2.2.0 Returns true even for invalid geometries if they are binary equal Tests if two geometries include the same set of points</li><li class="listitem"><a class="link" href="#ST_Length_Spheroid" title="ST_LengthSpheroid">ST_LengthSpheroid</a> - Alterações: 2.2.0 Em versões anteriores era chamada de ST_Length_Spheroid e costumava ter um heterônimo ST_3DLength_Spheroid Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_MemSize" title="ST_MemSize">ST_MemSize</a> - Changed: 2.2.0 name changed to ST_MemSize to follow naming convention. Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_PointInsideCircle" title="ST_PointInsideCircle">ST_PointInsideCircle</a> - Changed: 2.2.0 In prior versions this was called ST_Point_Inside_Circle Tests if a point geometry is inside a circle defined by a center and radius</li><li class="listitem"><a class="link" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a> - Alterações: 2.2.0 valores para id1 e id2 foram trocados para "limite cruza nó", para serem consistentes com a descrição do erro. Returns a set of validatetopology_returntype objects detailing issues with topology.</li></ul></div></section><section class="section" id="idm51597"><div class="titlepage"><div><div><h3 class="title">13.12.11. PostGIS Functions new or enhanced in 2.1</h3></div></div></div><p>The functions given below are PostGIS functions that were added or enhanced.</p><p>Functions new in PostGIS 2.1</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_Raster_EQ" title="=">=</a> - Disponibilidade: 2.1.0  Retorna VERDADEse a caixa limitadora de A for a mesma de B. Utiliza precisão dupla de caixa limitadora.</li><li class="listitem"><a class="link" href="#AsTopoJSON" title="AsTopoJSON">AsTopoJSON</a> - Disponibilidade: 2.1.0  Retorna a representação TopoJSON de uma topogeometria.</li><li class="listitem"><a class="link" href="#Drop_Nation_Tables_Generate_Script" title="Drop_Nation_Tables_Generate_Script">Drop_Nation_Tables_Generate_Script</a> - Disponibilidade: 2.1.0 Gera uma script que derruba todas as tables no esquema específico que começa com county_all, state_all ou código de estado seguido por condado ou estado.</li><li class="listitem"><a class="link" href="#Get_Geocode_Setting" title="Get_Geocode_Setting">Get_Geocode_Setting</a> - Disponibilidade: 2.1.0 Retorna a configuração de valor específico armazenada na table tiger.geocode_settings.</li><li class="listitem"><a class="link" href="#Loader_Generate_Nation_Script" title="Loader_Generate_Nation_Script">Loader_Generate_Nation_Script</a> - Disponibilidade: 2.1.0  Gerar uma script shell para a plataforma especificada que carrega as lookup tables de condado e estado.</li><li class="listitem"><a class="link" href="#Pagc_Normalize_Address" title="Pagc_Normalize_Address">Pagc_Normalize_Address</a> - Disponibilidade: 2.1.0 Dado um endereço em texto de uma rua, retorna um tipo composto norm_addy que não tem um sufixo, prefixo e tipo padronizado, rua, nome de rua etc. quebrado e, campos separados. Essa função irá funcionar com os dados lookup compactados com o tiger_geocoder (dados do censo tiger não são necessários). Requer a extensão address_standardizer.</li><li class="listitem"><a class="link" href="#ST_3DArea" title="ST_3DArea">ST_3DArea</a> - Disponibilidade: 2.1.0 Computa a área de geometrias de superfície 3D. Irá retornar 0 para sólidos.</li><li class="listitem"><a class="link" href="#ST_3DIntersection" title="ST_3DIntersection">ST_3DIntersection</a> - Disponibilidade: 2.1.0 Representar intersecção 3D</li><li class="listitem"><a class="link" href="#ST_Box2dFromGeoHash" title="ST_Box2dFromGeoHash">ST_Box2dFromGeoHash</a> - Disponibilidade: 2.1.0 Retorna uma CAIXA2D de uma string GeoHash.</li><li class="listitem"><a class="link" href="#RT_ST_ColorMap" title="ST_ColorMap">ST_ColorMap</a> - Disponibilidade: 2.1.0  Cria um novo raster de até quatro bandas 8BUI (grayscale, RGB, RGBA) do raster fonte e uma banda específica. A banda 1 usada se não especificado.</li><li class="listitem"><a class="link" href="#RT_ST_Contains" title="ST_Contains">ST_Contains</a> - Disponibilidade: 2.1.0 Retorna verdade se nenhum ponto do raster rasteB estiver no exterior do raster rastA e pelo menos um ponto do interior do rastB estiver no interior do rastA.</li><li class="listitem"><a class="link" href="#RT_ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a> - Disponibilidade: 2.1.0 Retorna verdade se o rastB intersectar o interior do rastA, mas não o limite ou exterior do ratA.</li><li class="listitem"><a class="link" href="#RT_ST_CoveredBy" title="ST_CoveredBy">ST_CoveredBy</a> - Disponibilidade: 2.1.0 Retorna verdade se nenhum ponto do rastA estiver de fora do rastB.</li><li class="listitem"><a class="link" href="#RT_ST_Covers" title="ST_Covers">ST_Covers</a> - Disponibilidade: 2.1.0 Retorna verdade se nenhum ponto do rastB estiver de fora do rastA.</li><li class="listitem"><a class="link" href="#RT_ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a> - Disponibilidade: 2.1.0 Retorna verdade se os rasters rastA e rastB estiverem completamente dentro da distância especificada de cada um.</li><li class="listitem"><a class="link" href="#RT_ST_DWithin" title="ST_DWithin">ST_DWithin</a> - Disponibilidade: 2.1.0 Retorna verdade se os rasters rastA e rastB estiverem dentro da distância especificada de cada um.</li><li class="listitem"><a class="link" href="#ST_DelaunayTriangles" title="ST_DelaunayTriangles">ST_DelaunayTriangles</a> - Disponibilidade: 2.1.0 Returns the Delaunay triangulation of the vertices of a geometry.</li><li class="listitem"><a class="link" href="#RT_ST_Disjoint" title="ST_Disjoint">ST_Disjoint</a> - Disponibilidade: 2.1.0 Retorna verdade se raster rastA não intersectar espacialmente com o rastB.</li><li class="listitem"><a class="link" href="#RT_ST_DumpValues" title="ST_DumpValues">ST_DumpValues</a> - Disponibilidade: 2.1.0 Obtenha os valores da banda específica como um arranjo 2-dimensional.</li><li class="listitem"><a class="link" href="#ST_Extrude" title="ST_Extrude">ST_Extrude</a> - Disponibilidade: 2.1.0 Extrude uma superfície a um volume relacionado</li><li class="listitem"><a class="link" href="#ST_ForceLHR" title="ST_ForceLHR">ST_ForceLHR</a> - Disponibilidade: 2.1.0 Orientação força LHR</li><li class="listitem"><a class="link" href="#RT_ST_FromGDALRaster" title="ST_FromGDALRaster">ST_FromGDALRaster</a> - Disponibilidade: 2.1.0 Retorna um raster de um arquivo raster GDAL suportado.</li><li class="listitem"><a class="link" href="#ST_GeomFromGeoHash" title="ST_GeomFromGeoHash">ST_GeomFromGeoHash</a> - Disponibilidade: 2.1.0 Retorna uma geometria de uma string GeoHash.</li><li class="listitem"><a class="link" href="#RT_ST_InvDistWeight4ma" title="ST_InvDistWeight4ma">ST_InvDistWeight4ma</a> - Disponibilidade: 2.1.0 Função de processamento raster que interpola um valor de pixel de uma vizinhança.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebra" title="ST_MapAlgebra (callback function version)">ST_MapAlgebra (callback function version)</a> - Disponibilidade: 2.1.0 Versão função retorno - Retorna um raster de uma banda dado um ou mais rasters de entrada, os índices e uma função retorno de um usuário específico.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebra_expr" title="ST_MapAlgebra (expression version)">ST_MapAlgebra (expression version)</a> - Disponibilidade: 2.1.0 Versão expressão - Retorna um raster de uma banda dado um ou mais rasters de entrada, índices de banda e uma ou mais expressões SQL de usuários específicos.</li><li class="listitem"><a class="link" href="#RT_ST_MinConvexHull" title="ST_MinConvexHull">ST_MinConvexHull</a> - Disponibilidade: 2.1.0  Retorna a geometria de casco convexo do raster excluindo os pixeis SEM DADOS.</li><li class="listitem"><a class="link" href="#RT_ST_MinDist4ma" title="ST_MinDist4ma">ST_MinDist4ma</a> - Disponibilidade: 2.1.0 Função de processamento raster que retorna a distância mínima (em números de pixeis) entre o pixel de interesse e um pixel vizinho de interesse com valor.</li><li class="listitem"><a class="link" href="#ST_MinkowskiSum" title="ST_MinkowskiSum">ST_MinkowskiSum</a> - Disponibilidade: 2.1.0 Representar soma Minkowski</li><li class="listitem"><a class="link" href="#RT_ST_NearestValue" title="ST_NearestValue">ST_NearestValue</a> - Disponibilidade: 2.1.0 Retorna o valor não-NODATA mais próximo de um dado pixel de banda especificado por uma colunax e linhay ou um ponto geométrico expressado no mesmo sistema de coordenada referência do raster.</li><li class="listitem"><a class="link" href="#RT_ST_Neighborhood" title="ST_Neighborhood">ST_Neighborhood</a> - Disponibilidade: 2.1.0 Retorna um arranjo de precisão 2-D dobrada dos valores não-NODATA em torno da banda de pixel especificada ou por uma colunaX e linhaY ou um ponto geométrico expressado no mesmo sistema de coordenada de referência especial como o raster.</li><li class="listitem"><a class="link" href="#RT_ST_NotSameAlignmentReason" title="ST_NotSameAlignmentReason">ST_NotSameAlignmentReason</a> - Disponibilidade: 2.1.0 Retorna a declaração de texto se os rasters estiverem alinhados e se não tiverem, uma razão do porquê.</li><li class="listitem"><a class="link" href="#ST_Orientation" title="ST_Orientation">ST_Orientation</a> - Disponibilidade: 2.1.0 Determine orientação da superfície</li><li class="listitem"><a class="link" href="#RT_ST_Overlaps" title="ST_Overlaps">ST_Overlaps</a> - Disponibilidade: 2.1.0 Retorna verdade se o raster rastA e rastB se intersectam, mas um deles não contém o outro completamente.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsCentroid" title="ST_PixelAsCentroid">ST_PixelAsCentroid</a> - Disponibilidade: 2.1.0 Retorna o centroide (ponto) da área representada por um pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a> - Disponibilidade: 2.1.0 Retorna o centroide (ponto geométrico) para cada pixel de uma banda raster junto com o valor, as coordenas raster X e Y de cada pixel. O ponto é o centroide da área representada por um pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPoint" title="ST_PixelAsPoint">ST_PixelAsPoint</a> - Disponibilidade: 2.1.0 Retorna um ponto geométrico do canto superior esquerdo do pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a> - Disponibilidade: 2.1.0 Retorna um ponto geométrico para cada pixel de uma banda raster junto com o valor, as coordenas raster X e Y de cada pixel. As coordenadas do ponto são do ponto esquerdo superior do pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelOfValue" title="ST_PixelOfValue">ST_PixelOfValue</a> - Disponibilidade: 2.1.0 Obtenha as coordenadas colunax, linhay do pixel cujos valores são iguais ao valor de pesquisa.</li><li class="listitem"><a class="link" href="#ST_PointFromGeoHash" title="ST_PointFromGeoHash">ST_PointFromGeoHash</a> - Disponibilidade: 2.1.0 Retorna um ponto de uma string GeoHash.</li><li class="listitem"><a class="link" href="#RT_ST_RasterToWorldCoord" title="ST_RasterToWorldCoord">ST_RasterToWorldCoord</a> - Disponibilidade: 2.1.0 Retorna o canto superior esquerdo do raster como X e Y geométricos (longitude e latitude) dada a coluna e linha. Coluna e linha começam em 1.</li><li class="listitem"><a class="link" href="#RT_ST_Resize" title="ST_Resize">ST_Resize</a> - Disponibilidade: 2.1.0 Requer GDAL 1.6.1+ Redimensiona largura/altura novas para um raster</li><li class="listitem"><a class="link" href="#RT_ST_Roughness" title="ST_Roughness">ST_Roughness</a> - Disponibilidade: 2.1.0 Retorna um raster com a "robustez" calculada de um DEM.</li><li class="listitem"><a class="link" href="#RT_ST_SetValues" title="ST_SetValues">ST_SetValues</a> - Disponibilidade: 2.1.0 Retorna o raster modificado resultante dos valores de uma dada banda.</li><li class="listitem"><a class="link" href="#TP_ST_Simplify" title="ST_Simplify">ST_Simplify</a> - Disponibilidade: 2.1.0 Retorna uma versão "simplificada" da geometria da dada TopoGeometria usando o algorítimo Douglas-Peucker.</li><li class="listitem"><a class="link" href="#ST_StraightSkeleton" title="ST_StraightSkeleton">ST_StraightSkeleton</a> - Disponibilidade: 2.1.0 Calcule um esqueleto em linha reta de uma geometria</li><li class="listitem"><a class="link" href="#RT_ST_Summary" title="ST_Summary">ST_Summary</a> - Disponibilidade: 2.1.0 Retorna um texto resumo dos conteúdos do raster.</li><li class="listitem"><a class="link" href="#RT_ST_TPI" title="ST_TPI">ST_TPI</a> - Disponibilidade: 2.1.0 Retorna um raster com o índice de posição topográfico calculado.</li><li class="listitem"><a class="link" href="#RT_ST_TRI" title="ST_TRI">ST_TRI</a> - Disponibilidade: 2.1.0 Retorna um raster com o índice de aspereza do terreno calculado.</li><li class="listitem"><a class="link" href="#ST_Tesselate" title="ST_Tesselate">ST_Tesselate</a> - Disponibilidade: 2.1.0 Representa superfície tesselação de um polígono ou superfície poliédrica e retorna como uma TIN ou coleção de TINS</li><li class="listitem"><a class="link" href="#RT_ST_Tile" title="ST_Tile">ST_Tile</a> - Disponibilidade: 2.1.0 Retorna um conjunto de rasters resultante de uma divisão do raster de entrada baseado nas dimensões desejadas nos rasters de saída.</li><li class="listitem"><a class="link" href="#RT_ST_Touches" title="ST_Touches">ST_Touches</a> - Disponibilidade: 2.1.0 Retorna verdade se o raster rastA e rastB têm pelo menos um ponto em comum, mas seus interiores não se intersectarem.</li><li class="listitem"><a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a> - Disponibilidade: 2.1.0 variante ST_Union(rast, unionarg) foi introduzida. Retorna a união de um conjunto de tiles raster em um único raster composto de 1 ou mais bandas.</li><li class="listitem"><a class="link" href="#RT_ST_Within" title="ST_Within">ST_Within</a> - Disponibilidade: 2.1.0 Retorna verdade se nenhum ponto do raster rastA estiver no exterior do raster rastB e pelo menos um ponto do interior do rastA estiver no interior do rastB.</li><li class="listitem"><a class="link" href="#RT_ST_WorldToRasterCoord" title="ST_WorldToRasterCoord">ST_WorldToRasterCoord</a> - Disponibilidade: 2.1.0 Retorna o canto superior esquerdo como coluna e linha dados os X e Y geométricos (longitude e latitude) ou um ponto expressado na coordenada do sistema de referência espacial do raster.</li><li class="listitem"><a class="link" href="#Set_Geocode_Setting" title="Set_Geocode_Setting">Set_Geocode_Setting</a> - Disponibilidade: 2.1.0 Estabelece uma configuração que afeta comportamento das funções geocoder.</li><li class="listitem"><a class="link" href="#RT_UpdateRasterSRID" title="UpdateRasterSRID">UpdateRasterSRID</a> - Disponibilidade: 2.1.0 Altera o SRID de todos os rasters na coluna e tabela do usuário especificado.</li><li class="listitem"><a class="link" href="#clearTopoGeom" title="clearTopoGeom">clearTopoGeom</a> - Disponibilidade: 2.1 Clears the content of a topo geometry.</li><li class="listitem"><a class="link" href="#postgis_backend" title="postgis.backend">postgis.backend</a> - Disponibilidade: 2.1.0 O backend para fazer a manutenção de uma função onde GEOS e SFCGAL sobrepõe. Opções: geos ou sfcgal. Padrão para geos.</li><li class="listitem"><a class="link" href="#postgis_sfcgal_version" title="postgis_sfcgal_version">postgis_sfcgal_version</a> - Disponibilidade: 2.1.0 retorna a versão do SFCGAL em uso</li></ul></div><p>Functions enhanced in PostGIS 2.1</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a> - Melhorias: 2.1.0 suporte para addbandarg adicionado. Retorna um raster com nova banda(s) do tipo dado adicionado com o valor inicial com a localização do índice. Se nenhum índice for especificado, a banda é adicionada ao final.</li><li class="listitem"><a class="link" href="#RT_ST_AddBand" title="ST_AddBand">ST_AddBand</a> - Melhorias: 2.1.0 suporte para novas bandas out-db adicionado.  Retorna um raster com nova banda(s) do tipo dado adicionado com o valor inicial com a localização do índice. Se nenhum índice for especificado, a banda é adicionada ao final.</li><li class="listitem"><a class="link" href="#RT_ST_AsBinary" title="ST_AsBinary/ST_AsWKB">ST_AsBinary/ST_AsWKB</a> - Melhorias: 2.1.0 Adição da outasin Return the Well-Known Binary (WKB) representation of the raster.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Melhorias: 2.1.0 suporte para id foi introduzido, para GML 3.  Retorna a geometria como uma versão GML com 2 ou 3 elementos.</li><li class="listitem"><a class="link" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> - melhorias: 2.1.0 Usa ST_MapAlgebra() e foi adicionado uma função parâmetro opcional interpolate_nodata Retorna o aspecto (em graus) de uma banda raster de elevação. Útil para analisar terrenos.</li><li class="listitem"><a class="link" href="#ST_Boundary" title="ST_Boundary">ST_Boundary</a> - Melhorias: 2.1.0 suporte para Triângulo foi introduzido Retorna o encerramento da borda combinatória dessa geometria.</li><li class="listitem"><a class="link" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a> - Melhorias: 2.1.0 Reescrito em C Returns the raster clipped by the input geometry. If band number is not specified, all bands are processed. If crop is not specified or TRUE, the output raster is cropped. If touched is set to TRUE, then touched pixels are included, otherwise only if the center of the pixel is in the geometry it is included.</li><li class="listitem"><a class="link" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a> - Enhanced: 2.1.0 improved speed for geography. See Making Geography faster for details. Tests if two geometries are within a given distance</li><li class="listitem"><a class="link" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a> - Enhanced: 2.1.0 support for curved geometries was introduced. Tests if two geometries are within a given distance</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Melhorias: 2.1.0 velocidade melhorada para geografia. Veja Making Geography faster para mais detalhes. Retorna a linha 3-dimensional mais longa entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Melhorias: 2.1.0 - suporte para geometrias curvas foi introduzido. Retorna a linha 3-dimensional mais longa entre duas geometrias</li><li class="listitem"><a class="link" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a> - Melhorias: 2.1.0 Adição da variante 2 Função de processamento raster que calcula o resumo de valores únicos de pixel em uma vizinhança.</li><li class="listitem"><a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a> - Enhanced: 2.1.0 Faster speed. Reimplemented as native-C. Retorna um texto resumo dos conteúdos da geometria.</li><li class="listitem"><a class="link" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a> - melhorias: 2.1.0 Usa ST_MapAlgebra() e foi adicionado uma função parâmetro opcional interpolate_nodata Retorna a iluminação hipotética de uma banda raster de elevação usando as entradas de azimute, altitude, claridade e escala fornecidas.</li><li class="listitem"><a class="link" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> - Enhanced: 2.1.0, added support for GEOMETRYCOLLECTION and MULTIPOINT. Attempts to make an invalid geometry valid without losing vertices.</li><li class="listitem"><a class="link" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a> - Melhorias: 2.1.0 Adição da variante 2 Função de processamento raster que calcula o valor máximo de pixel em uma vizinhança.</li><li class="listitem"><a class="link" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a> - Melhorias: 2.1.0 Adição da variante 2 Função de processamento raster que calcula o menor valor de pixel em uma vizinhança.</li><li class="listitem"><a class="link" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a> - Melhorias: 2.1.0 Adição da variante 2 Função de processamento raster que calcula o valor mínimo de pixel em uma vizinhança.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a> - Melhorias: 2.1.0 o argumento opcional exclude_nodata_value foi adicionado. Retorna o polígono que limita cada pixel de uma banda raster ao longo do valor, as coordenadas raster X e Y de cada pixel.</li><li class="listitem"><a class="link" href="#RT_ST_Polygon" title="ST_Polygon">ST_Polygon</a> - Melhorias: 2.1.0 Velocidade aprimorada (fully C-Based) e o multipolígono que retorna é assegurado como válido.   Retorna um multipolígono formado pela união de pixeis que têm um valor que não é um valor sem dados. Se um número de banda for especificado, usa-se 1.</li><li class="listitem"><a class="link" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a> - Melhorias: 2.1.0 Adição da variante 2 Função de processamento raster que calcula a varição de valores de pixel em uma vizinhança.</li><li class="listitem"><a class="link" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a> - Melhorias: 2.1.0 adição da variante agregada Retorna verdade se os rasters têm a mesma inclinação, escala, referência espacial, e deslocamento (pixeis podem ser colocados na mesma grade sem cortar eles) e falso se eles não notificarem problemas detalhados.</li><li class="listitem"><a class="link" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a> - Melhorias: 2.1.0 suporte para geografia foi introduzido. Returns a modified geometry/geography having no segment longer than a given distance.</li><li class="listitem"><a class="link" href="#RT_ST_SetGeoReference" title="ST_SetGeoReference">ST_SetGeoReference</a> - Melhorias: 2.1.0 Adição da variante ST_SetGeoReference(raster, double precision, ...) Coloque os parâmetros Georeference 6 em uma única chamada. Os números deverão ser separadospor espaço branco. Aceita entrar no formato GDAL ou ESRI. O padrão é GDAL.</li><li class="listitem"><a class="link" href="#RT_ST_SetValue" title="ST_SetValue">ST_SetValue</a> - Melhorias: 2.1.0 Variante geométrica ST_SetValue() agora suporta qualquer tipo de geometria, não apenas ponto. A variante geométrica é um envoltório em torno da variante geomval[] da ST_SetValues() Retorna o raster modificado resultante do valor de uma banda em uma dada colunax, linhay pixel ou os pixeis que intersectam uma geometria específica. Os números de banda começam no 1 e são assumidos como 1 se não estiverem especificados.</li><li class="listitem"><a class="link" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a> - Melhorias: 2.1.0 Usa ST_MapAlgebra() e foi adicionado a função parâmetros opcionais units, scale, interpolate_nodata  Retorna o declive (em graus) de uma banda raster de elevação. Útil para analisar terrenos.</li><li class="listitem"><a class="link" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> - Melhorias: 2.1.0 Adição da variante 2 Função de processamento raster que calcula o padrão de divergência de valores de pixel em uma vizinhança.</li><li class="listitem"><a class="link" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a> - Melhorias: 2.1.0 Adição da variante 2 Função de processamento raster que calcula o resumo de todos os valores de pixel em uma vizinhança.</li><li class="listitem"><a class="link" href="#ST_Summary" title="ST_Summary">ST_Summary</a> - melhorias: 2.1.0 Bandeira S para indicar se existe um sistema de referência espacial conhecido Retorna um texto resumo dos conteúdos da geometria.</li><li class="listitem"><a class="link" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a> - Melhorias: 2.1.0 Adição da variante ST_Transform(rast, alignto)   Reprojeta um raster em um sistema de referência espacial conhecido para outro usando um algorítimo resampling especificado. As opções são NearestNeighbor, Bilinear, Cubic, CubicSpline, Lanczos com o padrão sendo NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a> - Melhorias: 2.1.0 Velocidade aprimorada (fully C-Based)  Retorna a união de um conjunto de tiles raster em um único raster composto de 1 ou mais bandas.</li><li class="listitem"><a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a> - Melhorias: 2.1.0 uniões ST_Union(rast) (variante 1) todas as bandas de todos os rasters de entrada. As versões anteriores do PostGIS assumiam a primeira banda.  Retorna a união de um conjunto de tiles raster em um único raster composto de 1 ou mais bandas.</li><li class="listitem"><a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a> - Melhorias: 2.1.0 ST_Union(rast, uniontype) (variante 4) uniões de todas as bandas de todos os rasters de entrada.  Retorna a união de um conjunto de tiles raster em um único raster composto de 1 ou mais bandas.</li><li class="listitem"><a class="link" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a> - Melhorias: 2.1.0 adiciona a versão pegando uma TopoGeometria existente. Converts a simple Geometry into a topo geometry.</li></ul></div><p>Functions changed in PostGIS 2.1</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> - Alterações: 2.1.0 Nas versões anteriores, os valores retornados eram em radianos. Agora, eles retornam em graus  Retorna o aspecto (em graus) de uma banda raster de elevação. Útil para analisar terrenos.</li><li class="listitem"><a class="link" href="#ST_EstimatedExtent" title="ST_EstimatedExtent">ST_EstimatedExtent</a> - Changed: 2.1.0. Up to 2.0.x this was called ST_Estimated_Extent. Returns the estimated extent of a spatial table.</li><li class="listitem"><a class="link" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a> - Alterado: 2.1.0. Até versão 2.0.x isto era chamado de ST_Force_2D. Força a geometria para o modo de 2 dimensões.</li><li class="listitem"><a class="link" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a> - Alterado: 2.1.0. Até versão 2.0.x isto era chamado de ST_Force_3D. Força a geometria para um modo XYZ. Este é um apelido para a função ST_Force_3DZ.</li><li class="listitem"><a class="link" href="#ST_Force_3DM" title="ST_Force3DM">ST_Force3DM</a> - Alterado: 2.1.0. Até a versão 2.0.x esta função era chamada de ST_Force_3DM. Força as geometrias para o modo XYM.</li><li class="listitem"><a class="link" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a> - Alterado: 2.1.0. Até versão 2.0.x isto era chamado de ST_Force_3DZ. Força as geometrias para o modo XYZ.</li><li class="listitem"><a class="link" href="#ST_Force_4D" title="ST_Force4D">ST_Force4D</a> - Alterado: 2.1.0. Até a versão 2.0.x esta função era chamada ST_Force_4D. Força as geometrias para o modo XYZM.</li><li class="listitem"><a class="link" href="#ST_Force_Collection" title="ST_ForceCollection">ST_ForceCollection</a> - Alterado: 2.1.0. Até a versão 2.0.x esta função era chamada de ST_Force_Collection. Converte a geometria para um GEOMETRYCOLLECTION.</li><li class="listitem"><a class="link" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a> - Alterações: 2.1.0 Nas versões anteriores, o azimute e a altitude eram expressados em radianos. Agora, são representados em graus  Retorna a iluminação hipotética de uma banda raster de elevação usando as entradas de azimute, altitude, claridade e escala fornecidas.</li><li class="listitem"><a class="link" href="#ST_LineInterpolatePoint" title="ST_LineInterpolatePoint">ST_LineInterpolatePoint</a> - Alterações: 2.1.0 para 2.0.x foi chamada ST_Line_Interpolate_Point. Returns a point interpolated along a line at a fractional location.</li><li class="listitem"><a class="link" href="#ST_LineLocatePoint" title="ST_LineLocatePoint">ST_LineLocatePoint</a> - Alterações: 2.1.0 para 2.0.x foi chamada ST_Line_Locate_Point. Returns the fractional location of the closest point on a line to a point.</li><li class="listitem"><a class="link" href="#ST_LineSubstring" title="ST_LineSubstring">ST_LineSubstring</a> - Alterações: 2.1.0 para 2.0.x foi chamada ST_Line_Substring. Returns the part of a line between two fractional locations.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsCentroids" title="ST_PixelAsCentroids">ST_PixelAsCentroids</a> - Alterações: 2.1.1 Mudança no comportamento do exclude_nodata_value. Retorna o centroide (ponto geométrico) para cada pixel de uma banda raster junto com o valor, as coordenas raster X e Y de cada pixel. O ponto é o centroide da área representada por um pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPoints" title="ST_PixelAsPoints">ST_PixelAsPoints</a> - Alterações: 2.1.1 Mudança no comportamento do exclude_nodata_value. Retorna um ponto geométrico para cada pixel de uma banda raster junto com o valor, as coordenas raster X e Y de cada pixel. As coordenadas do ponto são do ponto esquerdo superior do pixel.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a> - Alterações: 2.1.1 Mudança no comportamento do exclude_nodata_value. Retorna o polígono que limita cada pixel de uma banda raster ao longo do valor, as coordenadas raster X e Y de cada pixel.</li><li class="listitem"><a class="link" href="#RT_ST_Polygon" title="ST_Polygon">ST_Polygon</a> - Alterações: 2.1.0 Nas versões anteriores retornaria polígono, foi alterado para sempre voltar multipolígono.  Retorna um multipolígono formado pela união de pixeis que têm um valor que não é um valor sem dados. Se um número de banda for especificado, usa-se 1.</li><li class="listitem"><a class="link" href="#RT_ST_RasterToWorldCoordX" title="ST_RasterToWorldCoordX">ST_RasterToWorldCoordX</a> - Alterações: 2.1.0 Em versões anteriores, era chamado de ST_Raster2WorldCoordX Retorna a coordenada geométrica X superior esquerda de um raster, coluna ou linha. A numeração das colunas e linhas começam no 1.</li><li class="listitem"><a class="link" href="#RT_ST_RasterToWorldCoordY" title="ST_RasterToWorldCoordY">ST_RasterToWorldCoordY</a> - Alterações: 2.1.0 Em versões anteriores, era chamado de ST_Raster2WorldCoordY Retorna a coordenada geométrica Y superior esquerda de um raster, coluna e linha. A numeração das colunas e linhas começam no 1.</li><li class="listitem"><a class="link" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a> - Alterações: 2.1.0 Funciona em rasters sem SRID Resample a raster by adjusting only its scale (or pixel size). New pixel values are computed using the NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline, Lanczos, Max or Min resampling algorithm. Default is NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_Reskew" title="ST_Reskew">ST_Reskew</a> - Alterações: 2.1.0 Funciona em rasters sem SRID Resample um raster ajustando somente sua inclinação (ou tamanho de pixel). Novos valores de pixel são calculados usando o algorítimo NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline ou Lanczos. O padrão é NearestNeighbor.</li><li class="listitem"><a class="link" href="#ST_Segmentize" title="ST_Segmentize">ST_Segmentize</a> - Changed: 2.1.0 As a result of the introduction of geography support, the usage ST_Segmentize('LINESTRING(1 2, 3 4)', 0.5) causes an ambiguous function error. The input needs to be properly typed as a geometry or geography. Use ST_GeomFromText, ST_GeogFromText or a cast to the required type (e.g. ST_Segmentize('LINESTRING(1 2, 3 4)'::geometry, 0.5) ) Returns a modified geometry/geography having no segment longer than a given distance.</li><li class="listitem"><a class="link" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a> - Alterações: 2.1.0 Nas versões anteriores, os valores retornados eram em radianos. Agora, eles retornam em graus  Retorna o declive (em graus) de uma banda raster de elevação. Útil para analisar terrenos.</li><li class="listitem"><a class="link" href="#RT_ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a> - Alterações: 2.1.0 Funciona em rasters sem SRID Resample um raster encaixando-o em uma grade. Novos valores de pixel são calculados usando o algorítimo NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline ou Lanczos. O padrão é NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_WorldToRasterCoordX" title="ST_WorldToRasterCoordX">ST_WorldToRasterCoordX</a> - Alterações: 2.1.0 Em versões anteriores, era chamado de ST_World2RasterCoordX Retorna a coluna no raster do ponto (pt) ou uma coordenada X e Y (xw, yw) representada no sistema de referência espacial mundial de raster.</li><li class="listitem"><a class="link" href="#RT_ST_WorldToRasterCoordY" title="ST_WorldToRasterCoordY">ST_WorldToRasterCoordY</a> - Alterações: 2.1.0 Em versões anteriores, era chamado de ST_World2RasterCoordY Retorna a linha no raster do ponto (pt) ou uma coordenada X e Y (xw, yw) representada no sistema de referência espacial global de raster.</li></ul></div></section><section class="section" id="idm51963"><div class="titlepage"><div><div><h3 class="title">13.12.12. PostGIS Functions new or enhanced in 2.0</h3></div></div></div><p>The functions given below are PostGIS functions that were added or enhanced.</p><p>Functions new in PostGIS 2.0</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#RT_Raster_Intersect" title="&amp;&amp;">&amp;&amp;</a> - Disponibilidade: 2.0.0 Retorna VERDADE se a caixa limitadora de A intersecta a caixa limitadora de B.</li><li class="listitem"><a class="link" href="#geometry_overlaps_nd" title="&amp;&amp;&amp;">&amp;&amp;&amp;</a> - Disponibilidade: 2.0.0 Retorna VERDADE se a caixa limitadora n-D de A intersecta a caixa limitadora n-D de B.</li><li class="listitem"><a class="link" href="#geometry_distance_box" title="&lt;#&gt;">&lt;#&gt;</a> - Disponibilidade: 2.0.0 -- KNN só está disponível para PostgreSQL 9.1+ Retorna a distância 2D entre as caixas limitadoras de A e B.</li><li class="listitem"><a class="link" href="#geometry_distance_knn" title="&lt;-&gt;">&lt;-&gt;</a> - Disponibilidade: 2.0.0 -- O KNN mais fraco fornece vizinho mais próximos baseados em distâncias centroides de geometrias, ao invés de distâncias reais. Resultados corretos para pontos, incorretos para todos os outros tipos. Disponível para PostgreSQL 9.1+ Retorna a distância 2D entre A e B.</li><li class="listitem"><a class="link" href="#RT_Raster_Contained" title="@">@</a> - Disponibilidade: 2.0.0 raster @ raster, raster @ geometria introduzida  Retorna VERDADEse a caixa limitadora de A estiver contida pela de B. Utiliza precisão dupla de caixa limitadora.</li><li class="listitem"><a class="link" href="#RT_Raster_Contained" title="@">@</a> - Disponibilidade: 2.0.5 geometria @ raster introduzida  Retorna VERDADEse a caixa limitadora de A estiver contida pela de B. Utiliza precisão dupla de caixa limitadora.</li><li class="listitem"><a class="link" href="#AddEdge" title="AddEdge">AddEdge</a> - Disponibilidade: 2.0.0 Adiciona uma linestring limite à edge table e os pontos de início e fim associados à table ponto nó do esquema de topologia especificado usando a linestring geometria específica e retorna a bordaid da nova borda (ou da borda já existente).</li><li class="listitem"><a class="link" href="#AddFace" title="AddFace">AddFace</a> - Disponibilidade: 2.0.0 Registra uma face primitiva a uma topologia e pega seu identificador.</li><li class="listitem"><a class="link" href="#AddNode" title="AddNode">AddNode</a> - Disponibilidade: 2.0.0 Adiciona um ponto nó na table nó no esquema topológico específico e retorna a nodeid do novo nó. Se o ponto já existe, a nodeid é retornada.</li><li class="listitem"><a class="link" href="#RT_AddOverviewConstraints" title="AddOverviewConstraints">AddOverviewConstraints</a> - Disponibilidade: 2.0.0 Marca uma coluna raster como sendo um resumo de outra.</li><li class="listitem"><a class="link" href="#RT_AddRasterConstraints" title="AddRasterConstraints">AddRasterConstraints</a> - Disponibilidade: 2.0.0 Adds raster constraints to a loaded raster table for a specific column that constrains spatial ref, scaling, blocksize, alignment, bands, band type and a flag to denote if raster column is regularly blocked. The table must be loaded with data for the constraints to be inferred. Returns true if the constraint setting was accomplished and issues a notice otherwise.</li><li class="listitem"><a class="link" href="#AsGML" title="AsGML">AsGML</a> - Disponibilidade: 2.0.0  Retorna a representação GML de uma topogeometria.</li><li class="listitem"><a class="link" href="#CopyTopology" title="CopyTopology">CopyTopology</a> - Disponibilidade: 2.0.0 Makes a copy of a topology (nodes, edges, faces, layers and TopoGeometries) into a new schema</li><li class="listitem"><a class="link" href="#RT_DropOverviewConstraints" title="DropOverviewConstraints">DropOverviewConstraints</a> - Disponibilidade: 2.0.0 Desmarca uma coluna raster de ser um resumo de outra.</li><li class="listitem"><a class="link" href="#RT_DropRasterConstraints" title="DropRasterConstraints">DropRasterConstraints</a> - Disponibilidade: 2.0.0 Derruba as restrições raster PostGIS que se referem a uma tabela de coluna raster. É útil se você precisar recarregar dados ou atualizar os dados da sua coluna raster.</li><li class="listitem"><a class="link" href="#Drop_Indexes_Generate_Script" title="Drop_Indexes_Generate_Script">Drop_Indexes_Generate_Script</a> - Disponibilidade: 2.0.0 Gera uma script que derruba todas as chaves não primárias e indexes não únicos no esquema tiger e esquema especificado de usuário. Padroniza esquema para: tiger_data se nenhum esquema é especificado.</li><li class="listitem"><a class="link" href="#Drop_State_Tables_Generate_Script" title="Drop_State_Tables_Generate_Script">Drop_State_Tables_Generate_Script</a> - Disponibilidade: 2.0.0 Gera uma script que derruba todas as tables no esquema específico que estão prefixados com abreviação do estado. Padroniza o esquema para tiger_data se nenhum esquema estiver especificado.</li><li class="listitem"><a class="link" href="#Geocode_Intersection" title="Geocode_Intersection">Geocode_Intersection</a> - Disponibilidade: 2.0.0 Assimila 2 ruas que se intersectam e um estado, cidade, zip, e gera um conjunto de possíveis localizações no primeiro cruzamento que está na intersecção, também inclui um geomout como o ponto de localização em NAD 83 long lat, um normalized_address (addy) para cada localização, e a avaliação. Quanto menor a avaliação, maior a chance de combinar. Os resultados são separados com menor avaliação em primeiro lugar. Pode passar nos resultados máximos, até 10. Usa dados Tiger (limites, faces, addr), string confusa do PostgreSQL (soundex, evenshtein).</li><li class="listitem"><a class="link" href="#GetEdgeByPoint" title="GetEdgeByPoint">GetEdgeByPoint</a> - Disponibilidade: 2.0.0 Finds the edge-id of an edge that intersects a given point.</li><li class="listitem"><a class="link" href="#GetFaceByPoint" title="GetFaceByPoint">GetFaceByPoint</a> - Disponibilidade: 2.0.0 Finds face intersecting a given point.</li><li class="listitem"><a class="link" href="#GetNodeByPoint" title="GetNodeByPoint">GetNodeByPoint</a> - Disponibilidade: 2.0.0 Finds the node-id of a node at a point location.</li><li class="listitem"><a class="link" href="#GetNodeEdges" title="GetNodeEdges">GetNodeEdges</a> - Disponibilidade: 2.0  Retorna um conjunto ordenado de limites incidentes no dado nó.</li><li class="listitem"><a class="link" href="#GetRingEdges" title="GetRingEdges">GetRingEdges</a> - Disponibilidade: 2.0.0  Retorna o conjunto ordenado de identificadores de limites assinados, conhecidos caminhando em um lado da beirada.</li><li class="listitem"><a class="link" href="#GetTopoGeomElements" title="GetTopoGeomElements">GetTopoGeomElements</a> - Disponibilidade: 2.0.0 Returns a set of topoelement objects containing the topological element_id,element_type of the given TopoGeometry (primitive elements).</li><li class="listitem"><a class="link" href="#GetTopologySRID" title="GetTopologySRID">GetTopologySRID</a> - Disponibilidade: 2.0.0 Retorna o SRID de uma topologia na table topology.topology dado o nome da topologia.</li><li class="listitem"><a class="link" href="#Get_Tract" title="Get_Tract">Get_Tract</a> - Disponibilidade: 2.0.0 Retorna o trecho ou campo de uma tract table onde a geometria está localizada. Padrão para retornar um nome curto para o trecho.</li><li class="listitem"><a class="link" href="#Install_Missing_Indexes" title="Install_Missing_Indexes">Install_Missing_Indexes</a> - Disponibilidade: 2.0.0 Encontra todas as tables com colunas chave usadas no ingresso geocoder e condições de filtros que estão perdendo os indexes usados nessas colunas e irão adicionar elas.</li><li class="listitem"><a class="link" href="#Loader_Generate_Census_Script" title="Loader_Generate_Census_Script">Loader_Generate_Census_Script</a> - Disponibilidade: 2.0.0  Gera uma shell script para a plataforma específica para os estados que irão baixar o trecho do censo de estado Tiger, bg e dados de tables tabblocks, arranjar e carregar dentro do esquema tiger_data. Cada state script retornou como um relato separado.</li><li class="listitem"><a class="link" href="#Loader_Generate_Script" title="Loader_Generate_Script">Loader_Generate_Script</a> - Disponibilidade: 2.0.0 para suportar tiger 2010 dados estruturados e carrega trecho (trecho) do censo , block groups (bg), e block (tabblocks) tables.  Gera uma shell script para a plataforma específica para os estados que irão baixar dados Tiger, arranjar e carregar dentro do esquema tiger_data. Cada state script retorna como um registro separado. A versão mais nova suporta mudanças estruturais do Tiger 2010 e também carrega trecho do censo, block groups, e block tables.</li><li class="listitem"><a class="link" href="#Missing_Indexes_Generate_Script" title="Missing_Indexes_Generate_Script">Missing_Indexes_Generate_Script</a> - Disponibilidade: 2.0.0 Encontra todas as tables com colunas chave usadas no ingresso geocoder que estão perdendo indexes nessas colunas e irão gerar o SQL DDL para definir o index para essas tables.</li><li class="listitem"><a class="link" href="#TopologyPolygonize" title="Polygonize">Polygonize</a> - Disponibilidade: 2.0.0 Finds and registers all faces defined by topology edges.</li><li class="listitem"><a class="link" href="#Reverse_Geocode" title="Reverse_Geocode">Reverse_Geocode</a> - Disponibilidade: 2.0.0  Pega um ponto em um sistema de referência espacial conehcido e retorna um relato que contém um banco de dados de, teoricamente, possíveis endereços e um banco de dados de ruas cruzadas. Se include_strnum_range = verdade, inclui o alcance da rua nas ruas cruzadas.</li><li class="listitem"><a class="link" href="#ST_3DClosestPoint" title="ST_3DClosestPoint">ST_3DClosestPoint</a> - Disponibilidade: 2.0.0 Retorna o ponto 3 dimensional em g1 que é o mais próximo de g2. Este é o primeiro ponto da linha mais curta em três dimensões.</li><li class="listitem"><a class="link" href="#ST_3DDFullyWithin" title="ST_3DDFullyWithin">ST_3DDFullyWithin</a> - Disponibilidade: 2.0.0 Tests if two 3D geometries are entirely within a given 3D distance</li><li class="listitem"><a class="link" href="#ST_3DDWithin" title="ST_3DDWithin">ST_3DDWithin</a> - Disponibilidade: 2.0.0 Tests if two 3D geometries are within a given 3D distance</li><li class="listitem"><a class="link" href="#ST_3DDistance" title="ST_3DDistance">ST_3DDistance</a> - Disponibilidade: 2.0.0 Para tipo geometria, retorna a menor distância cartesiana 3-dimensional (baseado no sistema de referência espacial) entre duas geometrias em unidades projetadas.</li><li class="listitem"><a class="link" href="#ST_3DIntersects" title="ST_3DIntersects">ST_3DIntersects</a> - Disponibilidade: 2.0.0 Tests if two geometries spatially intersect in 3D - only for points, linestrings, polygons, polyhedral surface (area)</li><li class="listitem"><a class="link" href="#ST_3DLongestLine" title="ST_3DLongestLine">ST_3DLongestLine</a> - Disponibilidade: 2.0.0 Retorna a linha 3-dimensional mais longa entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_3DMaxDistance" title="ST_3DMaxDistance">ST_3DMaxDistance</a> - Disponibilidade: 2.0.0 Para tipo de geometria retorna a maior distância 3-dimensional cartesiana (baseada na referência espacial) entre duas geometrias em unidade projetadas.</li><li class="listitem"><a class="link" href="#ST_3DShortestLine" title="ST_3DShortestLine">ST_3DShortestLine</a> - Disponibilidade: 2.0.0 Retorna a menor linha 3-dimensional entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_AddEdgeModFace" title="ST_AddEdgeModFace">ST_AddEdgeModFace</a> - Disponibilidade: 2.0  Adiciona um novo limite e, se uma face for dividida, modifica a face original e adiciona uma nova face.</li><li class="listitem"><a class="link" href="#ST_AddEdgeNewFaces" title="ST_AddEdgeNewFaces">ST_AddEdgeNewFaces</a> - Disponibilidade: 2.0  Adiciona um novo limite e, se uma face for dividida, deleta a face original e substitui por duas novas faces.</li><li class="listitem"><a class="link" href="#RT_ST_AsGDALRaster" title="ST_AsGDALRaster">ST_AsGDALRaster</a> - Disponibilidade: 2.0.0 - requer GDAL &gt;= 1.6.0.  Return the raster tile in the designated GDAL Raster format. Raster formats are one of those supported by your compiled library. Use ST_GDALDrivers() to get a list of formats supported by your library.</li><li class="listitem"><a class="link" href="#RT_ST_AsJPEG" title="ST_AsJPEG">ST_AsJPEG</a> - Disponibilidade: 2.0.0 - requer GDAL &gt;= 1.6.0.  Retorna as bandas tile raster selecionadas como uma única Joint Photographic Exports Group (JPEG) image (byte arranjo). Se nenhuma banda for especificada e 1 ou mais que 3 bandas, então somente a primeira banda é usada. Se somente 3 bandas, então todas as 3 bandas serão usadas para mapear par RGB.</li><li class="listitem"><a class="link" href="#ST_AsLatLonText" title="ST_AsLatLonText">ST_AsLatLonText</a> - Disponibilidade: 2.0 Retorna a representação de Graus, Minutos, Segundos do ponto dado.</li><li class="listitem"><a class="link" href="#RT_ST_AsPNG" title="ST_AsPNG">ST_AsPNG</a> - Disponibilidade: 2.0.0 - requer GDAL &gt;= 1.6.0.  Retorna as bandas tile raster selecionadas como um gráfico de rede portátil (PNG) imagem (byte array). Se as bandas raster 1, 3 ou 4 e nenhum banda for especificado, então todas as bandas são usadas. Se mais 2 ou mais que 4 bandas e nenhuma banda forem especificadas, então somente a banda 1 é usada. As bandas são mapeadas para espeço RGB ou RGBA.</li><li class="listitem"><a class="link" href="#RT_ST_AsRaster" title="ST_AsRaster">ST_AsRaster</a> - Disponibilidade: 2.0.0 - requer GDAL &gt;= 1.6.0.  Converte uma geometria PostGIS para um raster PostGIS.</li><li class="listitem"><a class="link" href="#RT_ST_AsTIFF" title="ST_AsTIFF">ST_AsTIFF</a> - Disponibilidade: 2.0.0 - requer GDAL &gt;= 1.6.0.  Return the raster selected bands as a single TIFF image (byte array). If no band is specified or any of specified bands does not exist in the raster, then will try to use all bands.</li><li class="listitem"><a class="link" href="#ST_AsX3D" title="ST_AsX3D">ST_AsX3D</a> - Disponibilidade: 2.0.0: ISO-IEC-19776-1.2-X3DEncodings-XML Retorna uma geometria em X3D nó xml formato do elemento: ISO-IEC-19776-1.2-X3DEncodings-XML</li><li class="listitem"><a class="link" href="#RT_ST_Aspect" title="ST_Aspect">ST_Aspect</a> - Disponibilidade: 2.0.0  Retorna o aspecto (em graus) de uma banda raster de elevação. Útil para analisar terrenos.</li><li class="listitem"><a class="link" href="#RT_ST_Band" title="ST_Band">ST_Band</a> - Disponibilidade: 2.0.0 Retorna uma ou mais bandas de um raster existente como um novo raster. Útil para a construção de novos rasters a partir de rasters existentes.</li><li class="listitem"><a class="link" href="#RT_ST_BandIsNoData" title="ST_BandIsNoData">ST_BandIsNoData</a> - Disponibilidade: 2.0.0 Retorna verdadeiro se a banda estiver repleta somente de valores nodata.</li><li class="listitem"><a class="link" href="#RT_ST_Clip" title="ST_Clip">ST_Clip</a> - Disponibilidade: 2.0.0  Returns the raster clipped by the input geometry. If band number is not specified, all bands are processed. If crop is not specified or TRUE, the output raster is cropped. If touched is set to TRUE, then touched pixels are included, otherwise only if the center of the pixel is in the geometry it is included.</li><li class="listitem"><a class="link" href="#ST_CollectionHomogenize" title="ST_CollectionHomogenize">ST_CollectionHomogenize</a> - Disponibilidade: 2.0.0 Returns the simplest representation of a geometry collection.</li><li class="listitem"><a class="link" href="#ST_ConcaveHull" title="ST_ConcaveHull">ST_ConcaveHull</a> - Disponibilidade: 2.0.0 Computes a possibly concave geometry that contains all input geometry vertices</li><li class="listitem"><a class="link" href="#RT_ST_Count" title="ST_Count">ST_Count</a> - Disponibilidade: 2.0.0  Retorna o número de pixeis em uma banda dada de um raster ou cobertura raster. Se nenhuma banda for especificada, o padrão é usar a banda 1. Se exclude_nodata_value for verdade, contará somente pixeis que não são iguais ao valor nodata.</li><li class="listitem"><a class="link" href="#ST_CreateTopoGeo" title="ST_CreateTopoGeo">ST_CreateTopoGeo</a> - Disponibilidade: 2.0  Adiciona uma coleção de geometrias para uma dada topologia vazia e retorna uma mensagem detalhando sucesso.</li><li class="listitem"><a class="link" href="#RT_ST_Distinct4ma" title="ST_Distinct4ma">ST_Distinct4ma</a> - Disponibilidade: 2.0.0 Função de processamento raster que calcula o resumo de valores únicos de pixel em uma vizinhança.</li><li class="listitem"><a class="link" href="#ST_FlipCoordinates" title="ST_FlipCoordinates">ST_FlipCoordinates</a> - Disponibilidade: 2.0.0 Returns a version of a geometry with X and Y axis flipped.</li><li class="listitem"><a class="link" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a> - Disponibilidade: 2.0.0 - requer GDAL &gt;= 1.6.0.  Returns a list of raster formats supported by PostGIS through GDAL. Only those formats with can_write=True can be used by ST_AsGDALRaster</li><li class="listitem"><a class="link" href="#ST_GeomFromGeoJSON" title="ST_GeomFromGeoJSON">ST_GeomFromGeoJSON</a> - Disponibilidade: 2.0.0 requer - JSON-C &gt;= 0.9 Utiliza como entrada uma representação geojson de uma geometria e como saída um objeto de geometria PostGIS</li><li class="listitem"><a class="link" href="#ST_GetFaceEdges" title="ST_GetFaceEdges">ST_GetFaceEdges</a> - Disponibilidade: 2.0  Retorna um conjunto de limites ordenados que amarram aface.</li><li class="listitem"><a class="link" href="#RT_ST_HasNoBand" title="ST_HasNoBand">ST_HasNoBand</a> - Disponibilidade: 2.0.0 Retorna verdade se não existirem bandas com números dados. Se nenhum número de banda for especificado, então assume-se a banda 1.</li><li class="listitem"><a class="link" href="#RT_ST_HillShade" title="ST_HillShade">ST_HillShade</a> - Disponibilidade: 2.0.0  Retorna a iluminação hipotética de uma banda raster de elevação usando as entradas de azimute, altitude, claridade e escala fornecidas.</li><li class="listitem"><a class="link" href="#RT_ST_Histogram" title="ST_Histogram">ST_Histogram</a> - Disponibilidade: 2.0.0  Retorna um conjunto de registros que resumem um raster ou distribuição de dados de cobertura raster intervalos bin separados. O número de bins é auto calculado.</li><li class="listitem"><a class="link" href="#ST_InterpolatePoint" title="ST_InterpolatePoint">ST_InterpolatePoint</a> - Disponibilidade: 2.0.0 Retorna o valor da dimensão de medida da geometria no ponto fechado para o ponto fornecido.</li><li class="listitem"><a class="link" href="#RT_ST_IsEmpty" title="ST_IsEmpty">ST_IsEmpty</a> - Disponibilidade: 2.0.0 Retorna verdadeiro se o raster estiver vazio (largura = 0 e altura = 0). Senão, retorna falso.</li><li class="listitem"><a class="link" href="#ST_IsValidDetail" title="ST_IsValidDetail">ST_IsValidDetail</a> - Disponibilidade: 2.0.0 Returns a valid_detail row stating if a geometry is valid or if not a reason and a location.</li><li class="listitem"><a class="link" href="#ST_IsValidReason" title="ST_IsValidReason">ST_IsValidReason</a> - Availability: 2.0 version taking flags. Returns text stating if a geometry is valid, or a reason for invalidity.</li><li class="listitem"><a class="link" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a> - Disponibilidad: 2.0.0 - Suporte para elementos de entrada linestring foi introduzido  Cria uma Linestring de ponto, multiponto ou linha das geometrias.</li><li class="listitem"><a class="link" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> - Disponibilidade: 2.0.0 Attempts to make an invalid geometry valid without losing vertices.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraExpr" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a> - Disponibilidade: 2.0.0  Versão de banda raster 1: Cria uma nova banda raster formada pela aplicação de ma operação algébrica válida do PostgreSQL na banda raster de entrada de um tipo de pixel fornecido. A banda 1 é assumida se nenhuma banda for especificada.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraExpr2" title="ST_MapAlgebraExpr">ST_MapAlgebraExpr</a> - Disponibilidade: 2.0.0  Versão de banda raster 2: Cria uma banda raster nova formada pela aplicação de uma operação algébrica válida PostgreSQL nas duas bandas raster de entrada e do tipo de pixel fornecido. A banda 1 de cada raster é assumida se nenhum número de bandas for especificado. O raster resultante será alinhado (escala, inclinação e cantos de pixel) na grade definida pelo primeiro raster e tem sua extensão definida pelo parâmetro "extenttype". O valores para "extenttype" pode ser: INTERSEÇÃO, UNIÃO, PRIMEIRO, SEGUNDO.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraFct" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> - Disponibilidade: 2.0.0 Versão de banda raster 1: Cria uma nova banda raster formada pela aplicação de uma função válida do PostgreSQL na banda raster de entrada de um tipo de pixel fornecido. A banda 1 é assumida se nenhuma banda for especificada.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraFct2" title="ST_MapAlgebraFct">ST_MapAlgebraFct</a> - Disponibilidade: 2.0.0 Versão de banda 2 - Cria uma nova banda raster um formada pela aplicação de uma função PostgreSQL na 2 entrada de bandas raster e do tipo de pixel fornecido. A banda 1 é assumida se nenhuma banda for especificada. Tipo de extensão torna-se INTERSEÇÃO se não especificada.</li><li class="listitem"><a class="link" href="#RT_ST_MapAlgebraFctNgb" title="ST_MapAlgebraFctNgb">ST_MapAlgebraFctNgb</a> - Disponibilidade: 2.0.0  Versão 1-banda: o vizinho mais próximo no mapa algébrico usando a função de usuário definido PostgreSQL. Retorna um raster cujos valores são o resultado de uma função usuário PLPGSQL envolvendo uma vizinhança de valores da banda raster de entrada.</li><li class="listitem"><a class="link" href="#RT_ST_Max4ma" title="ST_Max4ma">ST_Max4ma</a> - Disponibilidade: 2.0.0 Função de processamento raster que calcula o valor máximo de pixel em uma vizinhança.</li><li class="listitem"><a class="link" href="#RT_ST_Mean4ma" title="ST_Mean4ma">ST_Mean4ma</a> - Disponibilidade: 2.0.0 Função de processamento raster que calcula o menor valor de pixel em uma vizinhança.</li><li class="listitem"><a class="link" href="#RT_ST_Min4ma" title="ST_Min4ma">ST_Min4ma</a> - Disponibilidade: 2.0.0 Função de processamento raster que calcula o valor mínimo de pixel em uma vizinhança.</li><li class="listitem"><a class="link" href="#ST_ModEdgeHeal" title="ST_ModEdgeHeal">ST_ModEdgeHeal</a> - Disponibilidade: 2.0 Heals two edges by deleting the node connecting them, modifying the first edge and deleting the second edge. Returns the id of the deleted node.</li><li class="listitem"><a class="link" href="#ST_MoveIsoNode" title="ST_MoveIsoNode">ST_MoveIsoNode</a> - Disponibilidade: 2.0.0  Moves an isolated node in a topology from one point to another. If new apoint geometry exists as a node an error is thrown. Returns description of move.</li><li class="listitem"><a class="link" href="#ST_NewEdgeHeal" title="ST_NewEdgeHeal">ST_NewEdgeHeal</a> - Disponibilidade: 2.0 Heals two edges by deleting the node connecting them, deleting both edges, and replacing them with an edge whose direction is the same as the first edge provided.</li><li class="listitem"><a class="link" href="#ST_Node" title="ST_Node">ST_Node</a> - Disponibilidade: 2.0.0 Nodes a collection of lines.</li><li class="listitem"><a class="link" href="#ST_NumPatches" title="ST_NumPatches">ST_NumPatches</a> - Disponibilidade: 2.0.0 Retorna o número de faces em uma superfícies poliédrica. Retornará nulo para geometrias não poliédricas.</li><li class="listitem"><a class="link" href="#ST_OffsetCurve" title="ST_OffsetCurve">ST_OffsetCurve</a> - Disponibilidade: 2.0 Returns an offset line at a given distance and side from an input line.</li><li class="listitem"><a class="link" href="#ST_PatchN" title="ST_PatchN">ST_PatchN</a> - Disponibilidade: 2.0.0 Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_Perimeter" title="ST_Perimeter">ST_Perimeter</a> - Disponibilidade 2.0.0: Suporte para geografia foi introduzido Returns the length of the boundary of a polygonal geometry or geography.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPolygon" title="ST_PixelAsPolygon">ST_PixelAsPolygon</a> - Disponibilidade: 2.0.0 Retorna o polígono que limita o pixel para uma linha e coluna específicas.</li><li class="listitem"><a class="link" href="#RT_ST_PixelAsPolygons" title="ST_PixelAsPolygons">ST_PixelAsPolygons</a> - Disponibilidade: 2.0.0 Retorna o polígono que limita cada pixel de uma banda raster ao longo do valor, as coordenadas raster X e Y de cada pixel.</li><li class="listitem"><a class="link" href="#ST_Project" title="ST_Project">ST_Project</a> - Disponibilidade: 2.0.0 Returns a point projected from a start point by a distance and bearing (azimuth).</li><li class="listitem"><a class="link" href="#RT_ST_Quantile" title="ST_Quantile">ST_Quantile</a> - Disponibilidade: 2.0.0  Calcula quantiles para um raster ou cobertura de tabela raster no contexto da amostra ou população. Assim, um valor poderia ser examinado para estar na porcentagem 25%, 50%, 75% do raster.</li><li class="listitem"><a class="link" href="#RT_ST_Range4ma" title="ST_Range4ma">ST_Range4ma</a> - Disponibilidade: 2.0.0 Função de processamento raster que calcula a varição de valores de pixel em uma vizinhança.</li><li class="listitem"><a class="link" href="#RT_ST_Reclass" title="ST_Reclass">ST_Reclass</a> - Disponibilidade: 2.0.0  Cria um novo raster composto por tipos de banda reclassificados do original. A nband pode ser alterada. Se nenhuma nband for especificada, usa-se a 1. Todas as outras bandas são retornadas inalteradas. Use caso: converta uma banda 16BUI para 8BUI e então adiante para uma renderização mais simples como formatos visíveis.</li><li class="listitem"><a class="link" href="#ST_RelateMatch" title="ST_RelateMatch">ST_RelateMatch</a> - Disponibilidade: 2.0.0 Tests if a DE-9IM Intersection Matrix matches an Intersection Matrix pattern</li><li class="listitem"><a class="link" href="#ST_RemEdgeModFace" title="ST_RemEdgeModFace">ST_RemEdgeModFace</a> - Disponibilidade: 2.0  Removes an edge, and if the edge separates two faces deletes one face and modifies the other face to cover the space of both.</li><li class="listitem"><a class="link" href="#ST_RemEdgeNewFace" title="ST_RemEdgeNewFace">ST_RemEdgeNewFace</a> - Disponibilidade: 2.0  Remove um limite e, se o limite removido separava duas faces, deleta as faces originais e as substitui por uma nova face.</li><li class="listitem"><a class="link" href="#RT_ST_Resample" title="ST_Resample">ST_Resample</a> - Disponibilidade: 2.0.0 Requer GDAL 1.6.1+ Resample um raster usando um algorítimo específico, novas dimensões, um canto aleatório da grade e um conjunto de rasters georreferenciando atributos definidos ou emprestados de outro raster.</li><li class="listitem"><a class="link" href="#RT_ST_Rescale" title="ST_Rescale">ST_Rescale</a> - Disponibilidade: 2.0.0 Requer GDAL 1.6.1+ Resample a raster by adjusting only its scale (or pixel size). New pixel values are computed using the NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline, Lanczos, Max or Min resampling algorithm. Default is NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_Reskew" title="ST_Reskew">ST_Reskew</a> - Disponibilidade: 2.0.0 Requer GDAL 1.6.1+ Resample um raster ajustando somente sua inclinação (ou tamanho de pixel). Novos valores de pixel são calculados usando o algorítimo NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline ou Lanczos. O padrão é NearestNeighbor.</li><li class="listitem"><a class="link" href="#RT_ST_SameAlignment" title="ST_SameAlignment">ST_SameAlignment</a> - Disponibilidade: 2.0.0 Retorna verdade se os rasters têm a mesma inclinação, escala, referência espacial, e deslocamento (pixeis podem ser colocados na mesma grade sem cortar eles) e falso se eles não notificarem problemas detalhados.</li><li class="listitem"><a class="link" href="#RT_ST_SetBandIsNoData" title="ST_SetBandIsNoData">ST_SetBandIsNoData</a> - Disponibilidade: 2.0.0 Coloca a bandeira isnodata da banda como VERDADE.</li><li class="listitem"><a class="link" href="#ST_SharedPaths" title="ST_SharedPaths">ST_SharedPaths</a> - Disponibilidade: 2.0.0 Retorna uma coleção contendo caminhos compartilhados pelas duas linestrings/multilinestrings de entrada.</li><li class="listitem"><a class="link" href="#RT_ST_Slope" title="ST_Slope">ST_Slope</a> - Disponibilidade: 2.0.0  Retorna o declive (em graus) de uma banda raster de elevação. Útil para analisar terrenos.</li><li class="listitem"><a class="link" href="#ST_Snap" title="ST_Snap">ST_Snap</a> - Disponibilidade: 2.0.0 Rompe segmentos e vértices de geometria de entrada para vértices de uma geometria de referência.</li><li class="listitem"><a class="link" href="#RT_ST_SnapToGrid" title="ST_SnapToGrid">ST_SnapToGrid</a> - Disponibilidade: 2.0.0 Requer GDAL 1.6.1+ Resample um raster encaixando-o em uma grade. Novos valores de pixel são calculados usando o algorítimo NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline ou Lanczos. O padrão é NearestNeighbor.</li><li class="listitem"><a class="link" href="#ST_Split" title="ST_Split">ST_Split</a> - Availability: 2.0.0 requires GEOS Returns a collection of geometries created by splitting a geometry by another geometry.</li><li class="listitem"><a class="link" href="#RT_ST_StdDev4ma" title="ST_StdDev4ma">ST_StdDev4ma</a> - Disponibilidade: 2.0.0 Função de processamento raster que calcula o padrão de divergência de valores de pixel em uma vizinhança.</li><li class="listitem"><a class="link" href="#RT_ST_Sum4ma" title="ST_Sum4ma">ST_Sum4ma</a> - Disponibilidade: 2.0.0 Função de processamento raster que calcula o resumo de todos os valores de pixel em uma vizinhança.</li><li class="listitem"><a class="link" href="#RT_ST_SummaryStats" title="ST_SummaryStats">ST_SummaryStats</a> - Disponibilidade: 2.0.0  Retorna as estatísticas resumidas consistindo de count, sum, mean, stddev, min, max para uma dada banda raster de um raster ou cobertura raster. A banda 1 é assumida se nenhuma banda for especificada.</li><li class="listitem"><a class="link" href="#RT_ST_Transform" title="ST_Transform">ST_Transform</a> - Disponibilidade: 2.0.0 Requer GDAL 1.6.1+ Reprojeta um raster em um sistema de referência espacial conhecido para outro usando um algorítimo resampling especificado. As opções são NearestNeighbor, Bilinear, Cubic, CubicSpline, Lanczos com o padrão sendo NearestNeighbor.</li><li class="listitem"><a class="link" href="#ST_UnaryUnion" title="ST_UnaryUnion">ST_UnaryUnion</a> - Disponibilidade: 2.0.0 Computes the union of the components of a single geometry.</li><li class="listitem"><a class="link" href="#RT_ST_Union" title="ST_Union">ST_Union</a> - Disponibilidade: 2.0.0  Retorna a união de um conjunto de tiles raster em um único raster composto de 1 ou mais bandas.</li><li class="listitem"><a class="link" href="#RT_ST_ValueCount" title="ST_ValueCount">ST_ValueCount</a> - Disponibilidade: 2.0.0  Retorna o conjunto de registros contendo uma banda pixel de valor e conta do número de pixeis em uma dada banda de um raster (ou uma cobertura raster) que tem um dado conjunto de valores. Usa-se a banda 1 se nenhuma for especificada. Por padrão pixeis de valor nodata não são contados. Todos os outros valores no pixel são saída e os valores de pixeis são arredondados para o inteiro mais próximo.</li><li class="listitem"><a class="link" href="#TopoElementArray_Agg" title="TopoElementArray_Agg">TopoElementArray_Agg</a> - Disponibilidade: 2.0.0 Returns a topoelementarray for a set of element_id, type arrays (topoelements).</li><li class="listitem"><a class="link" href="#TopoGeo_AddLineString" title="TopoGeo_AddLineString">TopoGeo_AddLineString</a> - Disponibilidade: 2.0.0 Adds a linestring to an existing topology using a tolerance and possibly splitting existing edges/faces.</li><li class="listitem"><a class="link" href="#TopoGeo_AddPoint" title="TopoGeo_AddPoint">TopoGeo_AddPoint</a> - Disponibilidade: 2.0.0 Adiciona um ponto a uma topologia usando uma tolerância e possivelmente dividindo um limite existente.</li><li class="listitem"><a class="link" href="#TopoGeo_AddPolygon" title="TopoGeo_AddPolygon">TopoGeo_AddPolygon</a> - Disponibilidade: 2.0.0 Adds a polygon to an existing topology using a tolerance and possibly splitting existing edges/faces. Returns face identifiers.</li><li class="listitem"><a class="link" href="#TopologySummary" title="TopologySummary">TopologySummary</a> - Disponibilidade: 2.0.0 Takes a topology name and provides summary totals of types of objects in topology.</li><li class="listitem"><a class="link" href="#Topology_Load_Tiger" title="Topology_Load_Tiger">Topology_Load_Tiger</a> - Disponibilidade: 2.0.0  Carrega uma região definida de dados tiger em uma Topologia PostGIS e transforma os dados tiger para referência espacial da topologia e rompe para a tolerância precisa da topologia.</li><li class="listitem"><a class="link" href="#toTopoGeom" title="toTopoGeom">toTopoGeom</a> - Disponibilidade: 2.0 Converts a simple Geometry into a topo geometry.</li><li class="listitem"><a class="link" href="#RT_Raster_Contains" title="~">~</a> - Disponibilidade: 2.0.0 Retorna TRUE se a caixa delimitadora de A estiver contida na do B. Utiliza caixa delimitadora de precisão dupla.</li><li class="listitem"><a class="link" href="#RT_Raster_Same" title="~=">~=</a> - Disponibilidade: 2.0.0 Retorna VERDADE se a caixa limitadora de A é a mesma de B.</li></ul></div><p>Functions enhanced in PostGIS 2.0</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a> - Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido. Retorna VERDADE se a caixa limitadora 2D de A intersecta a caixa limitadora 2D de B.</li><li class="listitem"><a class="link" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a> - Melhorias: 2.0.0 argumento use_typmod introduzido. Padrões para criar colunas de geometria typmod ao invés das baseadas em obstáculos. Remove uma coluna geometria de uma spatial table.</li><li class="listitem"><a class="link" href="#Box2D" title="Box2D">Box2D</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Returns a BOX2D representing the 2D extent of a geometry.</li><li class="listitem"><a class="link" href="#Box3D" title="Box3D">Box3D</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Returns a BOX3D representing the 3D extent of a geometry.</li><li class="listitem"><a class="link" href="#CreateTopology" title="CreateTopology">CreateTopology</a> - Enhanced: 2.0 added the signature accepting hasZ Creates a new topology schema and registers it in the topology.topology table.</li><li class="listitem"><a class="link" href="#Geocode" title="Geocode">Geocode</a> - Melhorias: 2.0.0 para suportar o Tiger 2010, dados estruturados e lógica revisada para melhorar a velocidade, exatidão do geocoding e para compensar ponto da linha central para o lado do endereço que a rua está localizada. O novo parâmetro max_results é útil para especificar números dos melhores resultados ou apenas retornar o melhor resultado.  Assimila um endereço como uma string (ou outro endereço normalizado) e gera um conjunto de localizações possíveis que inclui um ponto em NAD 83 long lat, um endereço normalizado para cada um e a avaliação. Quanto menor a avaliação, maior a chance de combinar. Os resultados são separados com menor avaliação em primeiro lugar. Pode passar no resultados máximos, até 10, e restrict_region (padrão NULO)</li><li class="listitem"><a class="link" href="#GeometryType" title="GeometryType">GeometryType</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#Populate_Geometry_Columns" title="Populate_Geometry_Columns">Populate_Geometry_Columns</a> - Melhorias: 2.0.0 use_typmod  argumento opcional foi introduzido, permitindo controlar se as colunas forem criadas com modificadores de tipo ou com verificação de restrições.  Ensures geometry columns are defined with type modifiers or have appropriate spatial constraints.</li><li class="listitem"><a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Aggregate function that returns the 3D bounding box of geometries.</li><li class="listitem"><a class="link" href="#ST_Affine" title="ST_Affine">ST_Affine</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Apply a 3D affine transformation to a geometry.</li><li class="listitem"><a class="link" href="#ST_Area" title="ST_Area">ST_Area</a> - Melhorias: 2.0.0 - suporte a superfícies 2D poliédricas foi introduzido. Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Return the OGC/ISO Well-Known Binary (WKB) representation of the geometry/geography without SRID meta data.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Melhorias: 2.0.0 suporte para maiores dimensões de coordenadas foi introduzido. Return the OGC/ISO Well-Known Binary (WKB) representation of the geometry/geography without SRID meta data.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Melhorias: 2.0.0 suporte para edian especificando com geografia foi introduzido. Return the OGC/ISO Well-Known Binary (WKB) representation of the geometry/geography without SRID meta data.</li><li class="listitem"><a class="link" href="#ST_AsEWKB" title="ST_AsEWKB">ST_AsEWKB</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Return the Extended Well-Known Binary (EWKB) representation of the geometry with SRID meta data.</li><li class="listitem"><a class="link" href="#ST_AsEWKT" title="ST_AsEWKT">ST_AsEWKT</a> - Melhorias: 2.0.0 suporte para geografia, superfícies poliédricas, triângulos e TIN foi introduzido. Retorna a representação de texto bem conhecida (WKT) da geometria com os meta dados SRID.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Melhorias: 2.0.0 prefixo suportado foi introduzido. A opção 4 para o GML3 foi introduzida para permitir a utilização da LineString em vez da tag Curva para linhas. O suporte GML3 para superfícies poliédricas e TINS foi introduzidos. A Opção 32 foi introduzida para gerar a caixa.  Retorna a geometria como uma versão GML com 2 ou 3 elementos.</li><li class="listitem"><a class="link" href="#ST_AsKML" title="ST_AsKML">ST_AsKML</a> - Melhorias: 2.0.0 - Adiciona namespace prefixo. O padrão é não ter nenhum prefixo  Retorna a geometria como uma versão GML com 2 ou 3 elementos.</li><li class="listitem"><a class="link" href="#ST_Azimuth" title="ST_Azimuth">ST_Azimuth</a> - Melhorias: 2.0.0 suporte para geografia foi introduzido. Retorna a menor linha 2-dimensional entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_Dimension" title="ST_Dimension">ST_Dimension</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas e TINs foi introduzido. Não abre mais exceção se uma geometria vazia é dada. Retorna a dimensão da coordenada do valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_Dump" title="ST_Dump">ST_Dump</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Returns a set of geometry_dump rows for the components of a geometry.</li><li class="listitem"><a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Retorna um texto resumo dos conteúdos da geometria.</li><li class="listitem"><a class="link" href="#ST_Expand" title="ST_Expand">ST_Expand</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Returns a bounding box expanded from another bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_Extent" title="ST_Extent">ST_Extent</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Aggregate function that returns the bounding box of geometries.</li><li class="listitem"><a class="link" href="#ST_Force2D" title="ST_Force2D">ST_Force2D</a> - Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido. Força a geometria para o modo de 2 dimensões.</li><li class="listitem"><a class="link" href="#ST_Force_3D" title="ST_Force3D">ST_Force3D</a> - Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido. Força a geometria para um modo XYZ. Este é um apelido para a função ST_Force_3DZ.</li><li class="listitem"><a class="link" href="#ST_Force_3DZ" title="ST_Force3DZ">ST_Force3DZ</a> - Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido. Força as geometrias para o modo XYZ.</li><li class="listitem"><a class="link" href="#ST_Force_Collection" title="ST_ForceCollection">ST_ForceCollection</a> - Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido. Converte a geometria para um GEOMETRYCOLLECTION.</li><li class="listitem"><a class="link" href="#ST_ForceRHR" title="ST_ForceRHR">ST_ForceRHR</a> - Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido. Força a orientação dos vértices em um polígono a seguir a regra da mão direita.</li><li class="listitem"><a class="link" href="#ST_GMLToSQL" title="ST_GMLToSQL">ST_GMLToSQL</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas e TIN foi introduzido. Retorna um valor ST_Geometry específico da representação GML. Esse é um heterônimo para ST_GeomFromGML</li><li class="listitem"><a class="link" href="#ST_GMLToSQL" title="ST_GMLToSQL">ST_GMLToSQL</a> - Melhorias: 2.0.0 parâmetro opcional padrão srid adicionado. Retorna um valor ST_Geometry específico da representação GML. Esse é um heterônimo para ST_GeomFromGML</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKB" title="ST_GeomFromEWKB">ST_GeomFromEWKB</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas e TIN foi introduzido. Retorna um valor ST_Geometry especifico da representação binária estendida bem conhecida (EWKB).</li><li class="listitem"><a class="link" href="#ST_GeomFromEWKT" title="ST_GeomFromEWKT">ST_GeomFromEWKT</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas e TIN foi introduzido. Retorna um valor ST_Geometry especifico da representação de texto estendida bem conhecida (EWKT).</li><li class="listitem"><a class="link" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas e TIN foi introduzido. Utiliza como entrada uma representação GML de geometria e como saída um objeto de geometria PostGIS</li><li class="listitem"><a class="link" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a> - Melhorias: 2.0.0 parâmetro opcional padrão srid adicionado. Utiliza como entrada uma representação GML de geometria e como saída um objeto de geometria PostGIS</li><li class="listitem"><a class="link" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_GeometryType" title="ST_GeometryType">ST_GeometryType</a> - Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido. Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_IsClosed" title="ST_IsClosed">ST_IsClosed</a> - Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido. Retorna VERDADEIRO se os pontos de começo e fim da LINESTRING são coincidentes. Para superfície poliédrica está fechada (volumétrica).</li><li class="listitem"><a class="link" href="#ST_MakeEnvelope" title="ST_MakeEnvelope">ST_MakeEnvelope</a> - Melhorias: 2.0: Habilidade para especificar um pacote sem especificar um SRID foi introduzida. Cria um polígono retangular formado a partir dos mínimos e máximos dados. Os valores de entrada devem ser em SRS especificados pelo SRID.</li><li class="listitem"><a class="link" href="#ST_MakeValid" title="ST_MakeValid">ST_MakeValid</a> - Enhanced: 2.0.1, speed improvements Attempts to make an invalid geometry valid without losing vertices.</li><li class="listitem"><a class="link" href="#ST_NPoints" title="ST_NPoints">ST_NPoints</a> - Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido. Retorna o número de pontos (vértices) em uma geometria.</li><li class="listitem"><a class="link" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Retorna o número de pontos em uma geometria. Funciona para todas as geometrias.</li><li class="listitem"><a class="link" href="#ST_Relate" title="ST_Relate">ST_Relate</a> - Enhanced: 2.0.0 - added support for specifying boundary node rule. Tests if two geometries have a topological relationship matching an Intersection Matrix pattern, or computes their Intersection Matrix</li><li class="listitem"><a class="link" href="#ST_Rotate" title="ST_Rotate">ST_Rotate</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Rotates a geometry about an origin point.</li><li class="listitem"><a class="link" href="#ST_Rotate" title="ST_Rotate">ST_Rotate</a> - Enhanced: 2.0.0 additional parameters for specifying the origin of rotation were added. Rotates a geometry about an origin point.</li><li class="listitem"><a class="link" href="#ST_RotateX" title="ST_RotateX">ST_RotateX</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Rotates a geometry about the X axis.</li><li class="listitem"><a class="link" href="#ST_RotateY" title="ST_RotateY">ST_RotateY</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Rotates a geometry about the Y axis.</li><li class="listitem"><a class="link" href="#ST_RotateZ" title="ST_RotateZ">ST_RotateZ</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Rotates a geometry about the Z axis.</li><li class="listitem"><a class="link" href="#ST_Scale" title="ST_Scale">ST_Scale</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas, triângulos e TIN introduzido. Scales a geometry by given factors.</li><li class="listitem"><a class="link" href="#ST_ShiftLongitude" title="ST_ShiftLongitude">ST_ShiftLongitude</a> - Melhorias: 2.0.0 suporte para superfícies poliédricas e TIN foi introduzido. Shifts the longitude coordinates of a geometry between -180..180 and 0..360.</li><li class="listitem"><a class="link" href="#ST_Summary" title="ST_Summary">ST_Summary</a> - Melhorias: 2.0.0 suporte para geografia adicionado  Retorna um texto resumo dos conteúdos da geometria.</li><li class="listitem"><a class="link" href="#ST_Transform" title="ST_Transform">ST_Transform</a> - Melhorias: 2.0.0 suporte a superfícies poliédricas foi introduzido. Return a new geometry with coordinates transformed to a different spatial reference system.</li><li class="listitem"><a class="link" href="#RT_ST_Value" title="ST_Value">ST_Value</a> - Melhorias: 2.0.0 o argumento opcional exclude_nodata_value foi adicionado. Retorna o valor da banda dada com a colunax, linhay pixel ou em um ponto específico. Os números de banda começam em 1 e assumem-se 1 se não especificados. Se exclude_nodata_value for falso, então todos os pixeis, inclusive os nodata, são considerados para intersectar e retornar valor. Se exclude_nodata_value não passar então lê dos metadados do raster.</li><li class="listitem"><a class="link" href="#ValidateTopology" title="ValidateTopology">ValidateTopology</a> - Melhorias: 2.0.0 limite mais eficiente cruzando detenção e consertos para falsos positivos que existiam em versões anteriores.   Returns a set of validatetopology_returntype objects detailing issues with topology.</li></ul></div><p>Functions changed in PostGIS 2.0</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a> - Alterado: 2.0.0 Essa função não atualiza mais a geometry_columns desde que ela é a view que lê dos catálogos de sistema. Por padrão, isso não cria restrições, mas usa a construção no comportamento do tipo modificador do PostgreSQL. Então, por exemplo, construir uma coluna wgs84 POINT com essa função é equivalente a:  ALTER TABLE some_table ADD COLUMN geom geometry(Point,4326);  Remove uma coluna geometria de uma spatial table.</li><li class="listitem"><a class="link" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a> - Alterado: 2.0.0 Se você exige o comportamento antigo de restrições use o padrão use_typmod, mas configure isso para falso. Remove uma coluna geometria de uma spatial table.</li><li class="listitem"><a class="link" href="#AddGeometryColumn" title="AddGeometryColumn">AddGeometryColumn</a> - Alterações: 2.0.0 Views não podem ser registradas manualmente mais em geometry_columns, porém as views construídas contra as geometrias typmod tables e usadas sem as funções wrapper irão se registrar corretamente, porque elas herdam um comportamento typmod da table column mãe. As views que usam funções geométricas que fazem outras geometrias saírem, precisarão de ser lançadas para as geometrias typmod, para essas colunas serem registradas corretamente em geometry_columns. Use .  Remove uma coluna geometria de uma spatial table.</li><li class="listitem"><a class="link" href="#RT_Box3D" title="Box3D">Box3D</a> - Alterações: 2.0.0 Nas versões pre-2.0, costumava existir uma caixa2d em vez de uma caixa3d. Já que a caixa2d é um tipo inferior, foi alterado para caixa3d.  Retorna a representação da caixa 3d da caixa encerrada do raster.</li><li class="listitem"><a class="link" href="#DropGeometryColumn" title="DropGeometryColumn">DropGeometryColumn</a> - Alterações: 2.0.0 Essa função é fornecida para compatibilidade atrasada. Desde que geometry_columns é uma view contra os sistemas catalogados, você pode derrubar uma coluna geométrica como qualquer outra table column usando  ALTERAR TABLE Remove uma coluna geometria de uma spatial table.</li><li class="listitem"><a class="link" href="#DropGeometryTable" title="DropGeometryTable">DropGeometryTable</a> - Alterações: 2.0.0 Essa função é fornecida para compatibilidade atrasada. Desde que geometry_columns é uma view contra os sistemas catalogados, você pode derrubar uma table com colunas geométricas como qualquer outra table usando  DERRUBAR TABLE Derruba uma table e todas suas referências em geometry_columns.</li><li class="listitem"><a class="link" href="#Populate_Geometry_Columns" title="Populate_Geometry_Columns">Populate_Geometry_Columns</a> - Alterações: 2.0.0 Por padrão, utilize modificadores de tipo ao invés de verificar restrições para restringir os tipos de geometria. Você pode verificar restrições de comportamento ao invés de usar o novo use_typmod e configurá-lo para falso. Ensures geometry columns are defined with type modifiers or have appropriate spatial constraints.</li><li class="listitem"><a class="link" href="#ST_3DExtent" title="ST_3DExtent">ST_3DExtent</a> - Changed: 2.0.0 In prior versions this used to be called ST_Extent3D Aggregate function that returns the 3D bounding box of geometries.</li><li class="listitem"><a class="link" href="#ST_3DLength" title="ST_3DLength">ST_3DLength</a> - Alterações: 2.0.0 Nas versões anteriores era chamado de ST_Length3D Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_3DMakeBox" title="ST_3DMakeBox">ST_3DMakeBox</a> - Changed: 2.0.0 In prior versions this used to be called ST_MakeBox3D Creates a BOX3D defined by two 3D point geometries.</li><li class="listitem"><a class="link" href="#ST_3DPerimeter" title="ST_3DPerimeter">ST_3DPerimeter</a> - Alterações: 2.0.0 Nas versões anteriores era chamado de ST_Perimeter3D  Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Alterações: 2.0.0 Entrada para esta função não pode ser desconhecida -- deve ser geometria. Construções como ST_AsBinary('POINT(1 2)') não são mais válidas e você terá n st_asbinary(desconhecido) não é um erro único. Códigos assim, precisam ser alterados para ST_AsBinary('POINT(1 2)'::geometry);. Se não for possível, instale: legacy.sql. Return the OGC/ISO Well-Known Binary (WKB) representation of the geometry/geography without SRID meta data.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Alterações: 2.0.0 use argumentos nomeados por padrão Retorna a geometria como uma versão GML com 2 ou 3 elementos.</li><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Alterações: 2.0.0 suporte padrão args e args nomeados.  Return a geometry or feature in GeoJSON format.</li><li class="listitem"><a class="link" href="#ST_AsSVG" title="ST_AsSVG">ST_AsSVG</a> - Alterações: 2.0.0 para usar args padrão e suporta args nomeados  Returns SVG path data for a geometry.</li><li class="listitem"><a class="link" href="#ST_EndPoint" title="ST_EndPoint">ST_EndPoint</a> - Alterações: 2.0.0 não funciona mais com geometrias de multilinestrings. Em verões mais antigas do PostGIS -- uma linha multilinestring sozinha trabalharia normalmente com essa função e voltaria o ponto de início. Na 2.0.0 ela retorna NULA como qualquer outra multilinestring. O antigo comportamento não foi uma característica documentada, mas as pessoas que consideravam que tinham seus dados armazenados como uma LINESTRING, agora podem experimentar essas que retornam NULAS em 2.0.  Retorna o número de pontos em um valor ST_LineString ou ST_CircularString.</li><li class="listitem"><a class="link" href="#RT_ST_GDALDrivers" title="ST_GDALDrivers">ST_GDALDrivers</a> - Alterações: 2.0.6, 2.1.3 - por padrão nenhum driver é ativado, a menos que GUC ou a variável ambiental gdal_enabled_drivers estejam colocadas. Returns a list of raster formats supported by PostGIS through GDAL. Only those formats with can_write=True can be used by ST_AsGDALRaster</li><li class="listitem"><a class="link" href="#ST_GeomFromText" title="ST_GeomFromText">ST_GeomFromText</a> - Alterações: 2.0.0 Nas  primeiras versões do PostGIS, ST_GeomFromText('GEOMETRYCOLLECTION(EMPTY)') foi permitida. Ela agora é ilegal no PostGIS 2.0.0 para melhor se adequar aos padrões SQL/MM. Ela deverá se escrita como  ST_GeomFromText('GEOMETRYCOLLECTION EMPTY') Retorna um valor ST_Geometry específico da representação de texto bem conhecida (WKT).</li><li class="listitem"><a class="link" href="#ST_GeometryN" title="ST_GeometryN">ST_GeometryN</a> - Alterações: 2.0.0. Versões anteriores voltariam NULAS para geometrias únicas. Isso foi alterado para volrtar a geometria para o caso ST_GeometryN(..,1). Retorna o tipo de geometria de valor ST_Geometry.</li><li class="listitem"><a class="link" href="#ST_IsEmpty" title="ST_IsEmpty">ST_IsEmpty</a> - Alterações: 2.0.0 Nas versões anteriores do PostGIS ST_GeomFromText('GEOMETRYCOLLECTION(EMPTY)') era permitido. Agora isso é ilegal no PostGIS 2.0.0 para se adequar aos padrões SQL/MM.  Tests if a geometry is empty.</li><li class="listitem"><a class="link" href="#ST_Length" title="ST_Length">ST_Length</a> - Alterações: 2.0.0 Quebrando a mudança -- nas versões anteriores aplicar isto a um MULTI/POLÍGONO de tipo de geografia lhe daria o perímetro do POLÍGONO/MULTIPOLÍGONO. Na 2.0.0 isso é alterado para retornar 0 a estar na linha com o comportamento da geometria. Por favor, utilize a ST_Perimeter se quiser o perímetro de um polígono Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_LocateAlong" title="ST_LocateAlong">ST_LocateAlong</a> - Alterações: 2.0.0 nas versões anteriores era chamado de ST_Locate_Along_Measure. O nome antigo foi menosprezado e será removido no futuro, mas ainda está disponível. Returns the point(s) on a geometry that match a measure value.</li><li class="listitem"><a class="link" href="#ST_LocateBetween" title="ST_LocateBetween">ST_LocateBetween</a> - Alterações: 2.0.0 nas versões anteriores era chamado de ST_Locate_Along_Measure. O nome antigo foi menosprezado e será removido no futuro, mas ainda está disponível. Returns the portions of a geometry that match a measure range.</li><li class="listitem"><a class="link" href="#ST_ModEdgeSplit" title="ST_ModEdgeSplit">ST_ModEdgeSplit</a> - Alterações: 2.0 - Nas versões anteriores, isto recebia o nome errado ST_ModEdgesSplit Divide um limite criando um novo nó junto de um limite existente, modificando o limite original e adicionando um novo limite.</li><li class="listitem"><a class="link" href="#ST_NumGeometries" title="ST_NumGeometries">ST_NumGeometries</a> - Alterações: 2.0.0 Em versões anteriores retornaria NULO se a geometria não fosse do tipo coleção/MULTI. 2.0.0+ agora retorna 1 para geometrias únicas ex: POLÍGONO, LINESTRING, PONTO.  Retorna o número de pontos em uma geometria. Funciona para todas as geometrias.</li><li class="listitem"><a class="link" href="#ST_NumInteriorRings" title="ST_NumInteriorRings">ST_NumInteriorRings</a> - Alterações: 2.0.0 - nas versões anteriores isso permitiria um MULTIPOLÍGONO, retornando o número de anéis interiores do primeiro POLÍGONO. Retorna o número de anéis interiores de um polígono.</li><li class="listitem"><a class="link" href="#ST_PointN" title="ST_PointN">ST_PointN</a> - Alterações: 2.0.0 não funciona mais com geometrias multilinestrings únicas. Em verões mais antigas do PostGIS -- uma única linha multilinestring trabalharia normalmente e retornaria o ponto inicial. Na 2.0.0 só retorna NULA como qualquer outra multilinestring. Retorna o número de pontos em um valor ST_LineString ou ST_CircularString.</li><li class="listitem"><a class="link" href="#RT_ST_ScaleX" title="ST_ScaleX">ST_ScaleX</a> - Alterações: 2.0.0. Nas versões WKTRaster era chamado de ST_PixelSizeX. Retorna o componente X da largura do pixel em unidades do sistema de referência coordenadas.</li><li class="listitem"><a class="link" href="#RT_ST_ScaleY" title="ST_ScaleY">ST_ScaleY</a> - Alterações: 2.0.0. Nas versões WKTRaster era chamado de ST_PixelSizeY. Retorna o componente Y da altura do pixel em unidades do sistema de referência coordenadas.</li><li class="listitem"><a class="link" href="#RT_ST_SetScale" title="ST_SetScale">ST_SetScale</a> - Alterações: 2.0.0 Nas versões WKTRaster era chamado de ST_SetPixelSize. Foi modificado na 2.0.0. Coloca os tamanhos X e Y dos pixeis em unidades do sistema referencial de coordenadas. Número unidades/pixel largura/altura.</li><li class="listitem"><a class="link" href="#ST_StartPoint" title="ST_StartPoint">ST_StartPoint</a> - Alterações: 2.0.0 não funciona mais com geometrias de multilinestrings. Em verões mais antigas do PostGIS -- uma linha multilinestring sozinha trabalharia normalmente com essa função e voltaria o ponto de início. Na 2.0.0 ela retorna NULA como qualquer outra multilinestring. O antigo comportamento não foi uma característica documentada, mas as pessoas que consideravam que tinham seus dados armazenados como uma LINESTRING, agora podem experimentar essas que retornam NULAS em 2.0.  Returns the first point of a LineString.</li></ul></div></section><section class="section" id="idm52593"><div class="titlepage"><div><div><h3 class="title">13.12.13. PostGIS Functions new or enhanced in 1.5</h3></div></div></div><p>The functions given below are PostGIS functions that were added or enhanced.</p><p>Functions new in PostGIS 1.5</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#geometry_overlaps" title="&amp;&amp;">&amp;&amp;</a> - Disponibilidade: 1.5.0 Suporte para geografia foi introduzido Retorna VERDADE se a caixa limitadora 2D de A intersecta a caixa limitadora 2D de B.</li><li class="listitem"><a class="link" href="#PostGIS_LibXML_Version" title="PostGIS_LibXML_Version">PostGIS_LibXML_Version</a> - Disponibilidade: 1.5 Returns the version number of the libxml2 library.</li><li class="listitem"><a class="link" href="#ST_AddMeasure" title="ST_AddMeasure">ST_AddMeasure</a> - Disponibilidade: 1.5.0 Interpolates measures along a linear geometry.</li><li class="listitem"><a class="link" href="#ST_AsBinary" title="ST_AsBinary">ST_AsBinary</a> - Disponibilidade: 1.5.0 suporte para geografia foi introduzido. Return the OGC/ISO Well-Known Binary (WKB) representation of the geometry/geography without SRID meta data.</li><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Disponibilidade: 1.5.0 suporte para geografia foi introduzido. Retorna a geometria como uma versão GML com 2 ou 3 elementos.</li><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Disponibilidade: 1.5.0 suporte para geografia foi introduzido. Return a geometry or feature in GeoJSON format.</li><li class="listitem"><a class="link" href="#ST_AsText" title="ST_AsText">ST_AsText</a> - Disponibilidade: 1.5 - suporte para geografia foi introduzido. Retorna a representação de texto bem conhecida (WKT) da geometria/geografia sem os meta dados do SRID.</li><li class="listitem"><a class="link" href="#ST_Buffer" title="ST_Buffer">ST_Buffer</a> - Availability: 1.5 - ST_Buffer was enhanced to support different endcaps and join types. These are useful for example to convert road linestrings into polygon roads with flat or square edges instead of rounded edges. Thin wrapper for geography was added.  Computes a geometry covering all points within a given distance from a geometry.</li><li class="listitem"><a class="link" href="#ST_ClosestPoint" title="ST_ClosestPoint">ST_ClosestPoint</a> - Disponibilidade: 1.5.0 Returns the 2D point on g1 that is closest to g2. This is the first point of the shortest line from one geometry to the other.</li><li class="listitem"><a class="link" href="#ST_CollectionExtract" title="ST_CollectionExtract">ST_CollectionExtract</a> - Disponibilidade: 1.5.0 Given a geometry collection, returns a multi-geometry containing only elements of a specified type.</li><li class="listitem"><a class="link" href="#ST_Covers" title="ST_Covers">ST_Covers</a> - Disponibilidade: 1.5 - suporte para geografia foi introduzido.  Tests if every point of B lies in A</li><li class="listitem"><a class="link" href="#ST_DFullyWithin" title="ST_DFullyWithin">ST_DFullyWithin</a> - Disponibilidade: 1.5.0 Tests if a geometry is entirely inside a distance of another</li><li class="listitem"><a class="link" href="#ST_DWithin" title="ST_DWithin">ST_DWithin</a> - Availability: 1.5.0 support for geography was introduced Tests if two geometries are within a given distance</li><li class="listitem"><a class="link" href="#ST_Distance" title="ST_Distance">ST_Distance</a> - Disponibilidade: 1.5.0 suporte de geografia foi introduzido em 1.5. Melhorias na velocidade para planar para lidar melhor com mais ou maiores vértices de geometrias.  Retorna a linha 3-dimensional mais longa entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_DistanceSphere" title="ST_DistanceSphere">ST_DistanceSphere</a> - Disponibilidade: 1.5 - suporte para outros tipos de geometria além de pontos foi introduzido. As versões anteriores só funcionam com pontos.  Retorna a menor distância entre duas geometrias lon/lat dado um esferoide específico. As versões anteriores a 1.5 só suportam pontos.</li><li class="listitem"><a class="link" href="#ST_Distance_Spheroid" title="ST_DistanceSpheroid">ST_DistanceSpheroid</a> - Disponibilidade: 1.5 - suporte para outros tipos de geometria além de pontos foi introduzido. As versões anteriores só funcionam com pontos.  Retorna a menor distância entre duas geometrias lon/lat dado um esferoide específico. As versões anteriores a 1.5 só suportam pontos.</li><li class="listitem"><a class="link" href="#ST_DumpPoints" title="ST_DumpPoints">ST_DumpPoints</a> - Disponibilidade: 1.5.0 Retorna um texto resumo dos conteúdos da geometria.</li><li class="listitem"><a class="link" href="#ST_Envelope" title="ST_Envelope">ST_Envelope</a> - Disponibilidade: 1.5.0 comportamento alterado para saída de precisão dupla ao invés de float4 Retorna uma geometria representando a precisão da dobrada (float8) da caixa limitada da geometria fornecida.</li><li class="listitem"><a class="link" href="#ST_Expand" title="ST_Expand">ST_Expand</a> - Availability: 1.5.0 behavior changed to output double precision instead of float4 coordinates. Returns a bounding box expanded from another bounding box or a geometry.</li><li class="listitem"><a class="link" href="#ST_GMLToSQL" title="ST_GMLToSQL">ST_GMLToSQL</a> - Disponibilidade:1.5, requer libxml2 1.6+ Retorna um valor ST_Geometry específico da representação GML. Esse é um heterônimo para ST_GeomFromGML</li><li class="listitem"><a class="link" href="#ST_GeomFromGML" title="ST_GeomFromGML">ST_GeomFromGML</a> - Disponibilidade:1.5, requer libxml2 1.6+ Utiliza como entrada uma representação GML de geometria e como saída um objeto de geometria PostGIS</li><li class="listitem"><a class="link" href="#ST_GeomFromKML" title="ST_GeomFromKML">ST_GeomFromKML</a> - Availability: 1.5, requires libxml2 2.6+ Utiliza como entrada uma representação KML de geometria e como saída um objeto de geometria PostGIS</li><li class="listitem"><a class="link" href="#ST_HausdorffDistance" title="ST_HausdorffDistance">ST_HausdorffDistance</a> - Disponibilidade: 1.5.0 Retorna a menor linha 3-dimensional entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_Intersection" title="ST_Intersection">ST_Intersection</a> - Availability: 1.5 support for geography data type was introduced. Computes a geometry representing the shared portion of geometries A and B.</li><li class="listitem"><a class="link" href="#ST_Intersects" title="ST_Intersects">ST_Intersects</a> - Availability: 1.5 support for geography was introduced. Tests if two geometries intersect (they have at least one point in common)</li><li class="listitem"><a class="link" href="#ST_Length" title="ST_Length">ST_Length</a> - Disponibilidade: 1.5.0 suporte para geografia foi introduzido em 1.5. Retorna o centro geométrico de uma geometria.</li><li class="listitem"><a class="link" href="#ST_LongestLine" title="ST_LongestLine">ST_LongestLine</a> - Disponibilidade: 1.5.0 Retorna a linha 3-dimensional mais longa entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_MakeEnvelope" title="ST_MakeEnvelope">ST_MakeEnvelope</a> - Disponibilidade: 1.5 Cria um polígono retangular formado a partir dos mínimos e máximos dados. Os valores de entrada devem ser em SRS especificados pelo SRID.</li><li class="listitem"><a class="link" href="#ST_MaxDistance" title="ST_MaxDistance">ST_MaxDistance</a> - Disponibilidade: 1.5.0 Retorna a maior distância 2-dimensional entre duas geometrias em unidades projetadas.</li><li class="listitem"><a class="link" href="#ST_ShortestLine" title="ST_ShortestLine">ST_ShortestLine</a> - Disponibilidade: 1.5.0 Retorna a menor linha 2-dimensional entre duas geometrias</li><li class="listitem"><a class="link" href="#ST_Geometry_Same" title="~=">~=</a> - Disponibilidade: 1.5.0 comportamento alterado Retorna VERDADE se a caixa limitadora de A é a mesma de B.</li></ul></div></section><section class="section" id="idm52691"><div class="titlepage"><div><div><h3 class="title">13.12.14. PostGIS Functions new or enhanced in 1.4</h3></div></div></div><p>The functions given below are PostGIS functions that were added or enhanced.</p><p>Functions new in PostGIS 1.4</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#Populate_Geometry_Columns" title="Populate_Geometry_Columns">Populate_Geometry_Columns</a> - Disponibilidade: 1.4.0 Ensures geometry columns are defined with type modifiers or have appropriate spatial constraints.</li><li class="listitem"><a class="link" href="#ST_Collect" title="ST_Collect">ST_Collect</a> - Disponibilidade: 1.4.0 - ST_MakeLine(geomarray) foi introduzida. A ST_MakeLine agrega funções que foram melhoradas para lidar com mais pontos mais rápido.  Creates a GeometryCollection or Multi* geometry from a set of geometries.</li><li class="listitem"><a class="link" href="#ST_ContainsProperly" title="ST_ContainsProperly">ST_ContainsProperly</a> - Disponibilidade: 1.4.0 Tests if every point of B lies in the interior of A</li><li class="listitem"><a class="link" href="#ST_GeoHash" title="ST_GeoHash">ST_GeoHash</a> - Disponibilidade: 1.4.0 Retorna uma representação GeoHash da geometria.</li><li class="listitem"><a class="link" href="#ST_IsValidReason" title="ST_IsValidReason">ST_IsValidReason</a> - Availability: 1.4 Returns text stating if a geometry is valid, or a reason for invalidity.</li><li class="listitem"><a class="link" href="#ST_LineCrossingDirection" title="ST_LineCrossingDirection">ST_LineCrossingDirection</a> - Availability: 1.4 Returns a number indicating the crossing behavior of two LineStrings</li><li class="listitem"><a class="link" href="#ST_LocateBetweenElevations" title="ST_LocateBetweenElevations">ST_LocateBetweenElevations</a> - Disponibilidade: 1.4.0 Returns the portions of a geometry that lie in an elevation (Z) range.</li><li class="listitem"><a class="link" href="#ST_MakeLine" title="ST_MakeLine">ST_MakeLine</a> - Disponibilidade: 1.4.0 - ST_MakeLine(geomarray) foi introduzida. A ST_MakeLine agrega funções que foram melhoradas para lidar com mais pontos mais rápido.  Cria uma Linestring de ponto, multiponto ou linha das geometrias.</li><li class="listitem"><a class="link" href="#ST_MinimumBoundingCircle" title="ST_MinimumBoundingCircle">ST_MinimumBoundingCircle</a> - Disponibilidade: 1.4.0 Returns the smallest circle polygon that contains a geometry.</li><li class="listitem"><a class="link" href="#ST_Union" title="ST_Union">ST_Union</a> - Availability: 1.4.0 - ST_Union was enhanced. ST_Union(geomarray) was introduced and also faster aggregate collection in PostgreSQL. Computes a geometry representing the point-set union of the input geometries.</li></ul></div></section><section class="section" id="idm52726"><div class="titlepage"><div><div><h3 class="title">13.12.15. PostGIS Functions new or enhanced in 1.3</h3></div></div></div><p>The functions given below are PostGIS functions that were added or enhanced.</p><p>Functions new in PostGIS 1.3</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="#ST_AsGML" title="ST_AsGML">ST_AsGML</a> - Disponibilidade: 1.3.2 Retorna a geometria como uma versão GML com 2 ou 3 elementos.</li><li class="listitem"><a class="link" href="#ST_AsGeoJSON" title="ST_AsGeoJSON">ST_AsGeoJSON</a> - Disponibilidade: 1.3.4 Return a geometry or feature in GeoJSON format.</li><li class="listitem"><a class="link" href="#ST_CurveToLine" title="ST_CurveToLine">ST_CurveToLine</a> - Availability: 1.3.0 Converts a geometry containing curves to a linear geometry.</li><li class="listitem"><a class="link" href="#ST_LineToCurve" title="ST_LineToCurve">ST_LineToCurve</a> - Availability: 1.3.0 Converts a linear geometry to a curved geometry.</li><li class="listitem"><a class="link" href="#ST_SimplifyPreserveTopology" title="ST_SimplifyPreserveTopology">ST_SimplifyPreserveTopology</a> - Disponibilidade: 1.3.3 Returns a simplified and valid representation of a geometry, using the Douglas-Peucker algorithm.</li></ul></div></section></section></section><section class="chapter" id="idm52746"><div class="titlepage"><div><div><h1 class="title">Chapter 14. Reporting Problems</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#idm52748">14.1. Reporting Software Bugs</a></span></li><li><span class="section"><a href="#idm52759">14.2. Reporting Documentation Issues</a></span></li></ul></div><section class="section" id="idm52748"><div class="titlepage"><div><div><h2 class="title" style="clear: both">14.1. Reporting Software Bugs</h2></div></div></div><p>Reporting bugs effectively is a fundamental way to help PostGIS development. The most effective bug report is that enabling PostGIS developers to reproduce it, so it would ideally contain a script triggering it and every information regarding the environment in which it was detected. Good enough info can be extracted running <code class="code">SELECT postgis_full_version()</code> [for PostGIS] and <code class="code">SELECT version()</code> [for postgresql].</p><p>If you aren't using the latest release, it's worth taking a look at its <a class="link" href="https://git.osgeo.org/gitea/postgis/postgis/raw/branch/master/NEWS" target="_top">release changelog</a> first, to find out if your bug has already been fixed.</p><p>Using the <a class="link" href="http://trac.osgeo.org/postgis/" target="_top">PostGIS bug tracker</a> will ensure your reports are not discarded, and will keep you informed on its handling process. Before reporting a new bug please query the database to see if it is a known one, and if it is please add any new information you have about it.</p><p>You might want to read Simon Tatham's paper about <a class="link" href="http://www.chiark.greenend.org.uk/~sgtatham/bugs.html" target="_top">How to Report Bugs Effectively</a> before filing a new report.</p></section><section class="section" id="idm52759"><div class="titlepage"><div><div><h2 class="title" style="clear: both">14.2. Reporting Documentation Issues</h2></div></div></div><p>The documentation should accurately reflect the features and behavior of the software. If it doesn't, it could be because of a software bug or because the documentation is in error or deficient.</p><p>Documentation issues can also be reported to the <a class="link" href="http://trac.osgeo.org/postgis" target="_top">PostGIS bug tracker</a>.</p><p>If your revision is trivial, just describe it in a new bug tracker issue, being specific about its location in the documentation.</p><p>If your changes are more extensive, a patch is definitely preferred. This is a four step process on Unix (assuming you already have <a class="link" href="https://git-scm.com/" target="_top">git</a> installed):</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Clone the PostGIS' git repository. On Unix, type:</p><p><span class="command"><strong>git clone https://git.osgeo.org/gitea/postgis/postgis.git</strong></span></p><p>This will be stored in the directory postgis</p></li><li class="listitem"><p>Make your changes to the documentation with your favorite text editor. On Unix, type (for example):</p><p><span class="command"><strong>vim doc/postgis.xml</strong></span></p><p>Note that the documentation is written in DocBook XML rather than HTML, so if you are not familiar with it please follow the example of the rest of the documentation.</p></li><li class="listitem"><p>Make a patch file containing the differences from the master copy of the documentation. On Unix, type:</p><p><span class="command"><strong>git diff doc/postgis.xml &gt; doc.patch</strong></span></p></li><li class="listitem"><p>Attach the patch to a new issue in bug tracker.</p></li></ol></div></section></section><section class="appendix" id="release_notes"><div class="titlepage"><div><div><h1 class="title">Appendix A. Apêndice</h1></div><div><h3 class="subtitle"><em>Notas de Lançamento</em></h3></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><ul class="toc"><li><span class="section"><a href="#idm52787">A.1. PostGIS 3.5.2</a></span></li><li><span class="section"><a href="#idm52799">A.2. PostGIS 3.5.1</a></span></li><li><span class="section"><a href="#idm52840">A.3. PostGIS 3.5.0</a></span></li></ul></div><section class="section" id="idm52787"><div class="titlepage"><div><div><h2 class="title" style="clear: both">A.1. PostGIS 3.5.2</h2></div></div></div><p>2025/01/18</p><p>This version requires PostgreSQL 12-17, GEOS 3.8 or higher, and Proj 6.1+. To take advantage of all features, GEOS 3.12+ is needed. To take advantage of all SFCGAL features, SFCGAL 1.5.0+ is needed.</p><section class="simplesect" id="idm52791"><div class="titlepage"><div><div><h3 class="title">Bug Fixes</h3></div></div></div><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5677" target="_top">#5677</a>, Retain SRID during unary union (Paul Ramsey)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5833" target="_top">#5833</a>, pg_upgrade fix for postgis_sfcgal (Regina Obe)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5564" target="_top">#5564</a>, BRIN crash fix and support for parallel in PG17+ (Paul Ramsey, Regina Obe)</p></section></section><section class="section" id="idm52799"><div class="titlepage"><div><div><h2 class="title" style="clear: both">A.2. PostGIS 3.5.1</h2></div></div></div><p>2024/12/22</p><p>This version requires PostgreSQL 12-17, GEOS 3.8 or higher, and Proj 6.1+. To take advantage of all features, GEOS 3.12+ is needed. To take advantage of all SFCGAL features, SFCGAL 1.5.0+ is needed.</p><section class="simplesect" id="idm52803"><div class="titlepage"><div><div><h3 class="title">Breaking Changes</h3></div></div></div><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5677" target="_top">#5677</a>, Retain SRID during unary union (Paul Ramsey)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5792" target="_top">#5792</a>, [topology] Prevent topology corruption with TopoGeo_addPoint near almost collinear edges (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5795" target="_top">#5795</a>, [topology] Fix ST_NewEdgesSplit can cause invalid topology (Björn Harrtell)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5794" target="_top">#5794</a>, [topology] Fix crash in TopoGeo_addPoint (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5785" target="_top">#5785</a>, [raster] ST_MapAlgebra segfaults when expression references a supernumerary rast argument (Dian M Fay)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5787" target="_top">#5787</a>, Check that ST_ChangeEdgeGeom doesn't change winding of rings (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5791" target="_top">#5791</a>, Add legacy stubs for old transaction functions to allow pg_upgrade (Regina Obe)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5800" target="_top">#5800</a>, PROJ compiled version reading the wrong minor and micro (Regina Obe)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5790" target="_top">#5790</a>, Non-schema qualified calls causing issue with materialized views (Regina Obe)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5812" target="_top">#5812</a>, Performance regression in ST_Within (Paul Ramsey)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5815" target="_top">#5815</a>, Remove hash/merge promise from &lt;&gt; operator (Paul Ramsey)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5823" target="_top">#5823</a>, Build support for Pg18 (Paul Ramsey)</p></section><section class="simplesect" id="idm52829"><div class="titlepage"><div><div><h3 class="title">Enhancements</h3></div></div></div><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5782" target="_top">#5782</a>, Improve robustness of min distance calculation (Sandro Santilli)</p><p>[topology] Speedup topology building when closing large rings with many holes (Björn Harrtell)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5810" target="_top">#5810</a>, Update tiger geocoder to handle TIGER 2024 data (Regina Obe)</p></section><section class="simplesect" id="idm52836"><div class="titlepage"><div><div><h3 class="title">Breaking Changes</h3></div></div></div><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5799" target="_top">#5799</a>, make ST_TileEnvelope clip envelopes to tile plane extent (Paul Ramsey)</p></section></section><section class="section" id="idm52840"><div class="titlepage"><div><div><h2 class="title" style="clear: both">A.3. PostGIS 3.5.0</h2></div></div></div><p>2024/09/25</p><p>This version requires PostgreSQL 12-17, GEOS 3.8 or higher, and Proj 6.1+. To take advantage of all features, GEOS 3.12+ is needed. To take advantage of all SFCGAL features, SFCGAL 1.5.0+ is needed.</p><p>Many thanks to our translation teams, in particular:</p><p>Dapeng Wang, Zuo Chenwei from HighGo (Chinese Team)</p><p>Teramoto Ikuhiro (Japanese Team)</p><p>Vincent Bre (French Team)</p><section class="simplesect" id="idm52848"><div class="titlepage"><div><div><h3 class="title">Breaking Changes</h3></div></div></div><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5546" target="_top">#5546</a>, TopoGeometry &lt;&gt; TopoGeometry is now ambiguous, to get the old behaviour, assuming your TopoGeometry objects are named tg1 and tg2, use: ( id(tg1) &lt;&gt; id(tg2) OR topology_id(tg1) &lt;&gt; topology_id(tg2) OR layer_id(tg1) &lt;&gt; layer_id(tg2) OR type(tg1) &lt;&gt; type(tg2) ) (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5536" target="_top">#5536</a>, comments are not anymore included in PostGIS extensions (Sandro Santilli)</p><p>xmllint is now required to build comments (Sandro Santilli)</p><p>DocBook5 XSL is now required to build html (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5602" target="_top">#5602</a>, Drop support for GEOS 3.6 and 3.7 (Regina Obe)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5571" target="_top">#5571</a>, Improve ST_GeneratePoints performance, but old seeded pseudo random points will need to be regenerated.</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5596" target="_top">#5596</a>, GH-749, Allow promoting column as an id in ST_AsGeoJson(record,..). Views and materialized views that use the ST_AsGeoJSON(record ..) will need rebuilding to upgrade to new signature (Jan Tojnar)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5496" target="_top">#5496</a>, ST_Clip all variants replaced, will require rebuilding of materialized views that use them (funding from The National Institute for Agricultural and Food Research and Technology (INIA-CSIC)), Regina Obe</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5659" target="_top">#5659</a>, ST_DFullyWithin behaviour has changed to be ST_Contains(ST_Buffer(A, R), B) (Paul Ramsey)</p><p>Remove the WFS_locks extra package. (Paul Ramsey)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5747" target="_top">5747</a>, <a class="link" href="https://github.com/postgis/postgis/pull/776" target="_top">GH-776</a>, ST_Length: Return 0 for CurvePolygon (Dan Baston)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5770" target="_top">5770</a>, support for GEOS 3.13 and RelateNG. Most functionality remains the same, but new GEOS predicate implementation has a few small changes.</p><p>Boundary Node Rule relate matrices might be different when using the "multi-valent end point" rule.</p><p>Relate matrices for situations with invalid MultiPolygons with shared boundaries might be different. Run ST_MakeValid to get valid inputs to feed to the calculation.</p><p>Zero length LineStrings are treated as if they are the equivalent Point object.</p></section><section class="simplesect" id="idm52875"><div class="titlepage"><div><div><h3 class="title">Deprecated signatures</h3></div></div></div><p><a class="link" href="https://github.com/postgis/postgis/pull/761" target="_top">GH-761</a>, ST_StraightSkeleton =
&gt; CG_StraightSkeleton (Loïc Bartoletti)</p><p><a class="link" href="https://git.osgeo.org/gitea/postgis/postgis/pulls/189" target="_top">GH-189</a>, All SFCGAL functions now use the prefix CG_, with the old ones using ST_ being deprecated. (Loïc Bartoletti)</p></section><section class="simplesect" id="idm52881"><div class="titlepage"><div><div><h3 class="title">New features</h3></div></div></div><p>Improvements in the 'postgis' script: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>new command list-enabled</p></li><li class="listitem"><p>new command list-all</p></li><li class="listitem"><p>command upgrade upgrades all databases that need to be</p></li><li class="listitem"><p>command status reports status of all databases</p></li></ul></div><p> (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5742" target="_top">#5742</a>, expose version of PROJ at compile time (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5721" target="_top">#5721</a>, postgis_topology: Allow sharing sequences between different topologies (Lars Opsahl)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5667" target="_top">#5667</a>, postgis_topology: TopoGeo_LoadGeometry (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5055" target="_top">#5055</a>, add explicit &lt;&gt; geometry operator to prevent non-unique error with &lt;&gt; and != (Paul Ramsey)</p><p>Add ST_HasZ/ST_HasM (Loïc Bartoletti)</p><p><a class="link" href="https://git.osgeo.org/gitea/postgis/postgis/pulls/123" target="_top">GT-123</a>, postgis_sfcgal: CG_YMonotonePartition, CG_ApproxConvexPartition, CG_GreeneApproxConvexPartition and CG_OptimalConvexPartition (Loïc Bartoletti)</p><p><a class="link" href="https://git.osgeo.org/gitea/postgis/postgis/pulls/156" target="_top">GT-156</a>, postgis_sfcgal: CG_Visibility (Loïc Bartoletti)</p><p><a class="link" href="https://git.osgeo.org/gitea/postgis/postgis/pulls/157" target="_top">GT-157</a>, postgis_sfcgal: Add ST_ExtrudeStraightSkeleton (Loïc Bartoletti)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5496" target="_top">#5496</a>, postgis_raster: ST_Clip support for touched (Regina Obe)</p><p><a class="link" href="https://github.com/postgis/postgis/pull/760" target="_top">GH-760</a>, postgis_sfcgal: CG_Intersection, CG_3DIntersects, CG_Intersects, CG_Difference, CG_Union (and aggregate), CG_Triangulate, CG_Area, CG_3DDistance, CG_Distance (Loïc Bartoletti)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5687" target="_top">#5687</a>, Don't rely on search_path to determine postgis schema Fix for PG17 security change (Regina Obe)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5705" target="_top">#5705</a>, <a class="link" href="https://github.com/postgis/postgis/pull/767" target="_top">GH-767</a>, ST_RemoveIrrelevantPointsForView (Sam Peters)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5706" target="_top">#5706</a>, <a class="link" href="https://github.com/postgis/postgis/pull/768" target="_top">GH-768</a>, ST_RemoveSmallParts (Sam Peters)</p></section><section class="simplesect" id="idm52920"><div class="titlepage"><div><div><h3 class="title">Enhancements</h3></div></div></div><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5550" target="_top">5550</a>, Fix upgrades from 2.x in sandboxed systems (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/3587" target="_top">#3587</a>, postgis_topology: faster load of big lines in topologies (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5670" target="_top">#5670</a>, postgis_topology: faster ST_CreateTopoGeo (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5531" target="_top">#5531</a>, documentation format upgraded to DocBook 5 (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5543" target="_top">#5543</a>, allow building without documentation (Sandro Santilli)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5596" target="_top">#5596</a>, <a class="link" href="https://github.com/postgis/postgis/pull/749" target="_top">GH-749</a>, Allow promoting column as an id in ST_AsGeoJson(record,..). (Jan Tojnar)</p><p><a class="link" href="https://github.com/postgis/postgis/pull/744" target="_top">GH-744</a>, Don't create docbook.css for the HTML manual, use style.css instead (Chris Mayo)</p><p>Faster implementation of point-in-poly cached index (Paul Ramsey)</p><p>Improve performance of ST_GeneratePoints (Paul Ramsey)</p><p><a class="link" href="https://trac.osgeo.org/postgis/ticket/5361" target="_top">#5361</a>, ST_CurveN, ST_NumCurves and consistency in accessors on curved geometry (Paul Ramsey)</p><p><a class="link" href="https://github.com/postgis/postgis/pull/761" target="_top">GH-761</a>, postgis_sfcgal: Add an optional parameter to CG_StraightSkeleton (was ST_StraightSkeleton) to use m as a distance in result (Hannes Janetzek, Loïc Bartoletti)</p></section></section></section></div></body></html>